{"version":3,"file":"pixi.mjs","sources":["../src/maths/point/Point.ts","../src/events/FederatedEvent.ts","../src/extensions/Extensions.ts","../node_modules/eventemitter3/index.js","../node_modules/@pixi/colord/index.mjs","../node_modules/@pixi/colord/plugins/names.mjs","../src/color/Color.ts","../src/maths/misc/const.ts","../src/maths/matrix/Matrix.ts","../src/maths/point/ObservablePoint.ts","../src/utils/data/uid.ts","../src/utils/logging/deprecation.ts","../src/utils/data/removeItems.ts","../src/scene/container/container-mixins/childrenHelperMixin.ts","../src/filters/FilterEffect.ts","../src/utils/pool/Pool.ts","../src/utils/pool/PoolGroup.ts","../src/rendering/mask/MaskEffectManager.ts","../src/scene/container/container-mixins/effectsMixin.ts","../src/scene/container/container-mixins/findMixin.ts","../src/maths/shapes/Rectangle.ts","../src/scene/container/bounds/Bounds.ts","../src/scene/container/utils/updateLocalTransform.ts","../src/scene/container/bounds/getGlobalBounds.ts","../src/utils/logging/warn.ts","../src/scene/container/bounds/getLocalBounds.ts","../src/scene/container/container-mixins/measureMixin.ts","../src/scene/container/container-mixins/onRenderMixin.ts","../src/scene/container/container-mixins/sortMixin.ts","../src/scene/container/container-mixins/toLocalGlobalMixin.ts","../src/rendering/renderers/shared/instructions/InstructionSet.ts","../src/scene/container/LayerGroup.ts","../src/scene/container/utils/definedProps.ts","../src/scene/container/Container.ts","../node_modules/ismobilejs/esm/isMobile.js","../src/settings/utils/isMobile.ts","../src/accessibility/accessibilityTarget.ts","../src/accessibility/AccessibilitySystem.ts","../src/accessibility/init.ts","../src/ticker/const.ts","../src/ticker/TickerListener.ts","../src/ticker/Ticker.ts","../src/ticker/TickerPlugin.ts","../src/app/ResizePlugin.ts","../src/app/init.ts","../src/assets/loader/parsers/LoaderParser.ts","../src/assets/utils/copySearchParams.ts","../src/settings/adapter/adapter.ts","../src/utils/path.ts","../src/assets/utils/convertToList.ts","../src/assets/cache/Cache.ts","../src/utils/NOOP.ts","../src/rendering/renderers/shared/texture/sources/resourceToTexture.ts","../src/rendering/renderers/shared/utils/createIdFromString.ts","../src/rendering/renderers/shared/texture/TextureStyle.ts","../src/rendering/renderers/shared/texture/sources/TextureSource.ts","../src/maths/matrix/groupD8.ts","../src/rendering/renderers/shared/texture/TextureLayout.ts","../src/rendering/renderers/shared/texture/TextureMatrix.ts","../src/rendering/renderers/shared/texture/Texture.ts","../src/scene/text/bitmap/AbstractBitmapFont.ts","../src/scene/text/bitmap/BitmapFont.ts","../src/scene/text/bitmap/asset/textFormat.ts","../src/scene/text/bitmap/asset/xmlFormat.ts","../src/scene/text/bitmap/asset/xmlStringFormat.ts","../src/scene/text/bitmap/asset/loadBitmapFont.ts","../src/assets/cache/parsers/cacheTextureArray.ts","../src/assets/detections/utils/testImageFormat.ts","../src/assets/detections/parsers/detectAvif.ts","../src/assets/detections/parsers/detectDefaults.ts","../src/assets/detections/utils/testVideoFormat.ts","../src/assets/detections/parsers/detectMp4.ts","../src/assets/detections/parsers/detectOgv.ts","../src/assets/detections/parsers/detectWebm.ts","../src/assets/detections/parsers/detectWebp.ts","../src/assets/utils/checkDataUrl.ts","../src/assets/utils/checkExtension.ts","../src/assets/loader/parsers/loadJson.ts","../src/assets/loader/parsers/loadTxt.ts","../src/assets/loader/parsers/loadWebFont.ts","../src/scene/graphics/shared/svg/SVGToGraphicsPath.ts","../src/maths/shapes/Circle.ts","../src/maths/shapes/Ellipse.ts","../src/maths/shapes/Polygon.ts","../src/maths/shapes/RoundedRectangle.ts","../src/scene/graphics/shared/buildCommands/buildAdaptiveBezier.ts","../src/scene/graphics/shared/buildCommands/buildAdaptiveQuadratic.ts","../src/scene/graphics/shared/buildCommands/buildArc.ts","../src/scene/graphics/shared/buildCommands/buildArcTo.ts","../src/scene/graphics/shared/buildCommands/buildArcToSvg.ts","../src/scene/graphics/shared/path/ShapePath.ts","../src/scene/graphics/shared/path/GraphicsPath.ts","../src/scene/graphics/shared/svg/SVGParser.ts","../src/rendering/renderers/shared/texture/sources/ImageSource.ts","../src/scene/graphics/shared/fill/FillGradient.ts","../src/scene/graphics/shared/fill/FillPattern.ts","../src/scene/graphics/shared/utils/convertFillInputToFillStyle.ts","../src/scene/graphics/shared/GraphicsContext.ts","../src/assets/loader/parsers/textures/loadSVG.ts","../src/assets/utils/createStringVariations.ts","../src/assets/utils/isSingleItem.ts","../src/assets/resolver/Resolver.ts","../src/utils/network/getResolutionOfUrl.ts","../src/assets/loader/parsers/WorkerManager.ts","../src/assets/loader/parsers/textures/utils/createTexture.ts","../src/assets/loader/parsers/textures/loadTextures.ts","../src/utils/browser/detectVideoAlphaMode.ts","../src/rendering/renderers/shared/texture/sources/VideoSource.ts","../src/assets/loader/parsers/textures/loadVideoTextures.ts","../src/assets/resolver/parsers/resolveTextureUrl.ts","../src/assets/init.ts","../src/events/EventTicker.ts","../src/events/FederatedMouseEvent.ts","../src/events/FederatedPointerEvent.ts","../src/events/FederatedWheelEvent.ts","../src/events/EventBoundary.ts","../src/events/EventSystem.ts","../src/events/FederatedEventTarget.ts","../src/events/init.ts","../src/spritesheet/Spritesheet.ts","../src/spritesheet/spritesheetAsset.ts","../src/spritesheet/init.ts","../src/rendering/renderers/shared/view/View.ts","../src/utils/updateQuadBounds.ts","../src/scene/sprite/SpriteView.ts","../src/scene/sprite/Sprite.ts","../src/rendering/mask/utils/addMaskBounds.ts","../src/rendering/mask/utils/addMaskLocalBounds.ts","../src/rendering/mask/alpha/AlphaMask.ts","../src/rendering/mask/color/ColorMask.ts","../src/rendering/mask/stencil/StencilMask.ts","../src/rendering/renderers/shared/texture/sources/BufferImageSource.ts","../src/rendering/renderers/shared/texture/sources/CanvasSource.ts","../src/rendering/init.ts","../src/utils/browser/isWebGLSupported.ts","../src/utils/browser/isWebGPUSupported.ts","../src/rendering/renderers/shared/system/SystemRunner.ts","../src/rendering/renderers/shared/system/AbstractRenderer.ts","../src/rendering/renderers/autoDetectRenderer.ts","../src/app/Application.ts","../src/assets/BackgroundLoader.ts","../src/assets/loader/Loader.ts","../src/assets/Assets.ts","../src/rendering/renderers/gl/shader/program/ensurePrecision.ts","../src/rendering/renderers/gl/shader/program/getTestContext.ts","../src/rendering/renderers/gl/shader/program/getMaxFragmentPrecision.ts","../src/rendering/renderers/gl/shader/program/setProgramName.ts","../src/rendering/renderers/gl/shader/program/setProgramVersion.ts","../src/rendering/renderers/gl/shader/GlProgram.ts","../src/rendering/renderers/gpu/shader/extractStructAndGroups.ts","../src/rendering/renderers/shared/shader/const.ts","../src/rendering/renderers/gpu/shader/generateGpuLayoutGroups.ts","../src/rendering/renderers/gpu/shader/generateLayoutHash.ts","../src/rendering/renderers/gpu/shader/removeStructAndGroupDuplicates.ts","../src/rendering/renderers/gpu/shader/GpuProgram.ts","../src/rendering/renderers/shared/shader/utils/defaultUniformValue.ts","../src/rendering/renderers/shared/shader/UniformGroup.ts","../src/rendering/renderers/gpu/shader/BindGroup.ts","../src/rendering/renderers/types.ts","../src/rendering/renderers/shared/shader/Shader.ts","../src/rendering/renderers/shared/state/State.ts","../src/filters/Filter.ts","../src/filters/blend-modes/BlendModeFilter.ts","../src/filters/blend-modes/hls/GLhls.ts","../src/filters/blend-modes/hls/GPUhls.ts","../src/filters/blend-modes/ColorBlend.ts","../src/filters/blend-modes/ColorBurnBlend.ts","../src/filters/blend-modes/ColorDodgeBlend.ts","../src/filters/blend-modes/DarkenBlend.ts","../src/filters/blend-modes/DifferenceBlend.ts","../src/filters/blend-modes/DivideBlend.ts","../src/filters/blend-modes/ExclusionBlend.ts","../src/filters/blend-modes/HardLightBlend.ts","../src/filters/blend-modes/HardMixBlend.ts","../src/filters/blend-modes/LightenBlend.ts","../src/filters/blend-modes/LinearBurnBlend.ts","../src/filters/blend-modes/LinearDodgeBlend.ts","../src/filters/blend-modes/LinearLightBlend.ts","../src/filters/blend-modes/LuminosityBlend.ts","../src/filters/blend-modes/NegationBlend.ts","../src/filters/blend-modes/OverlayBlend.ts","../src/filters/blend-modes/PinLightBlend.ts","../src/filters/blend-modes/SaturationBlend.ts","../src/filters/blend-modes/SoftLightBlend.ts","../src/filters/blend-modes/SubtractBlend.ts","../src/filters/blend-modes/VividLightBlend.ts","../src/filters/blend-modes/init.ts","../src/filters/defaults/alpha/AlphaFilter.ts","../src/maths/misc/pow2.ts","../src/rendering/renderers/shared/texture/TexturePool.ts","../src/filters/defaults/blur/const.ts","../src/filters/defaults/blur/gl/generateBlurFragSource.ts","../src/filters/defaults/blur/gl/generateBlurVertSource.ts","../src/filters/defaults/blur/gl/generateBlurGlProgram.ts","../src/filters/defaults/blur/gpu/generateBlurProgram.ts","../src/filters/defaults/blur/BlurFilterPass.ts","../src/filters/defaults/blur/BlurFilter.ts","../src/filters/defaults/color-matrix/ColorMatrixFilter.ts","../src/filters/defaults/displacement/DisplacementFilter.ts","../src/filters/defaults/noise/NoiseFilter.ts","../src/filters/defaults/shockwave/ShockwaveFilter.ts","../src/filters/FilterPipe.ts","../src/rendering/renderers/shared/buffer/Buffer.ts","../src/rendering/renderers/shared/buffer/const.ts","../src/rendering/renderers/shared/geometry/utils/ensureIsBuffer.ts","../src/rendering/renderers/shared/geometry/Geometry.ts","../src/scene/container/bounds/getRenderableBounds.ts","../src/filters/FilterSystem.ts","../src/filters/mask/MaskFilter.ts","../src/maths/shapes/Triangle.ts","../src/rendering/high-shader/compiler/utils/addBits.ts","../src/rendering/high-shader/compiler/utils/compileHooks.ts","../src/rendering/high-shader/compiler/utils/compileInputs.ts","../src/rendering/high-shader/compiler/utils/compileOutputs.ts","../src/rendering/high-shader/compiler/utils/injectBits.ts","../src/rendering/high-shader/compiler/compileHighShader.ts","../src/rendering/high-shader/defaultProgramTemplate.ts","../src/rendering/high-shader/shader-bits/globalUniformsBit.ts","../src/rendering/high-shader/compileHighShaderToProgram.ts","../src/rendering/high-shader/shader-bits/colorBit.ts","../src/rendering/high-shader/shader-bits/generateTextureBatchBit.ts","../src/rendering/high-shader/shader-bits/roundPixelsBit.ts","../src/rendering/batcher/shared/const.ts","../src/rendering/renderers/gl/shader/batchSamplersUniformGroup.ts","../src/rendering/batcher/gl/GlBatchAdaptor.ts","../src/rendering/batcher/gpu/BatchGeometry.ts","../src/rendering/batcher/gpu/generateGPULayout.ts","../src/rendering/batcher/gpu/generateLayout.ts","../src/rendering/batcher/gpu/getTextureBatchBindGroup.ts","../src/rendering/batcher/gpu/GpuBatchAdaptor.ts","../src/utils/ViewableBuffer.ts","../src/rendering/renderers/shared/buffer/utils/fastCopy.ts","../src/rendering/batcher/shared/BatchTextureArray.ts","../src/rendering/batcher/shared/Batcher.ts","../src/rendering/batcher/shared/BatcherPipe.ts","../src/rendering/high-shader/compiler/utils/formatShader.ts","../src/rendering/high-shader/shader-bits/localUniformBit.ts","../src/rendering/high-shader/shader-bits/textureBit.ts","../src/rendering/renderers/shared/LayerRenderable.ts","../src/scene/container/utils/buildInstructions.ts","../src/rendering/mask/alpha/AlphaMaskPipe.ts","../src/rendering/mask/color/ColorMaskPipe.ts","../src/rendering/mask/scissor/ScissorMask.ts","../src/rendering/renderers/gl/const.ts","../src/rendering/renderers/shared/state/const.ts","../src/rendering/mask/stencil/StencilMaskPipe.ts","../src/rendering/renderers/gl/buffer/const.ts","../src/rendering/renderers/gl/buffer/GlBuffer.ts","../src/rendering/renderers/gl/buffer/GlBufferSystem.ts","../src/rendering/renderers/gl/context/GlContextSystem.ts","../src/rendering/renderers/gl/texture/const.ts","../src/rendering/renderers/gl/geometry/utils/getGlInfoFromFormat.ts","../src/rendering/renderers/gl/geometry/GlGeometrySystem.ts","../src/rendering/renderers/gl/GlBackBufferSystem.ts","../src/rendering/renderers/gl/GlColorMaskSystem.ts","../src/rendering/renderers/gl/GlEncoderSystem.ts","../src/rendering/renderers/gl/GlRenderTarget.ts","../src/rendering/renderers/shared/renderTarget/isRenderingToScreen.ts","../src/rendering/renderers/gpu/renderTarget/calculateProjection.ts","../src/rendering/renderers/shared/renderTarget/RenderTarget.ts","../src/rendering/renderers/shared/texture/utils/getCanvasTexture.ts","../src/rendering/renderers/gl/GlRenderTargetSystem.ts","../src/rendering/renderers/gpu/state/GpuStencilModesToPixi.ts","../src/rendering/renderers/gl/GlStencilSystem.ts","../src/rendering/renderers/gl/shader/GlProgramData.ts","../src/rendering/renderers/shared/buffer/BufferResource.ts","../src/rendering/renderers/gl/shader/program/compileShader.ts","../src/rendering/renderers/gl/shader/program/defaultValue.ts","../src/rendering/renderers/gl/shader/program/mapSize.ts","../src/rendering/renderers/gl/shader/program/mapType.ts","../src/rendering/renderers/gl/shader/program/getAttributeData.ts","../src/rendering/renderers/gl/shader/program/getUniformBufferData.ts","../src/rendering/renderers/gl/shader/program/getUniformData.ts","../src/rendering/renderers/gl/shader/program/logProgramError.ts","../src/rendering/renderers/gl/shader/program/generateProgram.ts","../src/rendering/renderers/gl/shader/GlShaderSystem.ts","../src/utils/unsafeEvalSupported.ts","../src/rendering/renderers/gl/shader/program/uniformParsers.ts","../src/rendering/renderers/gl/shader/program/generateUniformsSync.ts","../src/rendering/renderers/gl/shader/GlUniformGroupSystem.ts","../src/rendering/renderers/gl/shader/migrateFragmentFromV7toV8.ts","../src/rendering/renderers/gl/state/mapWebGLBlendModesToPixi.ts","../src/rendering/renderers/gl/state/GlStateSystem.ts","../src/rendering/renderers/gl/texture/GlTexture.ts","../src/rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.ts","../src/rendering/renderers/gl/texture/uploaders/glUploadImageResource.ts","../src/rendering/renderers/gl/texture/uploaders/glUploadVideoResource.ts","../src/rendering/renderers/gl/texture/utils/pixiToGlMaps.ts","../src/rendering/renderers/gl/texture/utils/applyStyleParams.ts","../src/rendering/renderers/gl/texture/utils/mapFormatToGlFormat.ts","../src/rendering/renderers/gl/texture/utils/mapFormatToGlInternalFormat.ts","../src/rendering/renderers/gl/texture/utils/mapFormatToGlType.ts","../src/rendering/renderers/gl/texture/utils/unpremultiplyAlpha.ts","../src/rendering/renderers/gl/texture/GlTextureSystem.ts","../src/scene/graphics/gl/GlGraphicsAdaptor.ts","../src/scene/mesh/gl/GlMeshAdaptor.ts","../src/scene/container/utils/executeInstructions.ts","../src/scene/container/LayerPipe.ts","../src/scene/container/utils/collectLayerGroups.ts","../src/scene/container/utils/mixHexColors.ts","../src/scene/container/utils/mixColors.ts","../src/scene/container/utils/updateLayerGroupTransforms.ts","../src/scene/container/utils/validateRenderables.ts","../src/scene/container/LayerSystem.ts","../src/rendering/renderers/shared/geometry/utils/buildUvs.ts","../src/rendering/renderers/shared/geometry/utils/transformVertices.ts","../src/scene/graphics/shared/BatchableGraphics.ts","../src/scene/graphics/shared/buildCommands/buildCircle.ts","../src/scene/graphics/shared/const.ts","../src/scene/graphics/shared/utils/getOrientationOfPoints.ts","../src/scene/graphics/shared/buildCommands/buildLine.ts","../node_modules/earcut/src/earcut.js","../src/scene/graphics/shared/utils/triangulateWithHoles.ts","../src/scene/graphics/shared/buildCommands/buildPolygon.ts","../src/scene/graphics/shared/buildCommands/buildRectangle.ts","../src/scene/graphics/shared/buildCommands/buildTriangle.ts","../src/scene/graphics/shared/utils/buildContextBatches.ts","../src/scene/graphics/shared/GraphicsContextSystem.ts","../src/scene/graphics/gpu/colorToUniform.ts","../src/scene/graphics/shared/GraphicsPipe.ts","../src/scene/mesh/shared/BatchableMesh.ts","../src/scene/mesh/shared/MeshPipe.ts","../src/scene/sprite/BatchableSprite.ts","../src/scene/sprite/SpritePipe.ts","../src/rendering/renderers/shared/ProxyRenderable.ts","../src/scene/mesh/shared/MeshView.ts","../src/scene/mesh/shared/MeshGeometry.ts","../src/scene/sprite-tiling/QuadGeometry.ts","../src/scene/sprite-tiling/shader/tilingBit.ts","../src/scene/sprite-tiling/shader/TilingSpriteShader.ts","../src/scene/sprite-tiling/TilingSpritePipe.ts","../src/scene/graphics/shared/GraphicsView.ts","../src/scene/text/sdfShader/shader-bits/localUniformMSDFBit.ts","../src/scene/text/sdfShader/shader-bits/mSDFBit.ts","../src/scene/text/sdfShader/SdfShader.ts","../src/scene/text/utils/generateTextStyleKey.ts","../src/scene/text/TextStyle.ts","../src/rendering/renderers/shared/texture/CanvasPool.ts","../src/scene/text/canvas/utils/fontStringFromTextStyle.ts","../src/scene/text/canvas/CanvasTextMetrics.ts","../src/scene/text/canvas/utils/getCanvasFillStyle.ts","../src/scene/text/bitmap/utils/resolveCharacters.ts","../src/scene/text/bitmap/DynamicBitmapFont.ts","../src/scene/text/bitmap/utils/getBitmapTextLayout.ts","../src/scene/text/bitmap/BitmapFontManager.ts","../src/scene/text/bitmap/BitmapTextPipe.ts","../src/scene/text/canvas/CanvasTextPipe.ts","../src/scene/text/html/utils/getPo2TextureFromSource.ts","../src/scene/text/canvas/CanvasTextSystem.ts","../src/scene/text/html/HTMLTextPipe.ts","../src/utils/isSafari.ts","../src/scene/text/html/utils/extractFontFamilies.ts","../src/scene/text/html/utils/loadFontAsBase64.ts","../src/scene/text/html/utils/loadFontCSS.ts","../src/scene/text/html/utils/getFontCss.ts","../src/scene/text/html/utils/getSVGUrl.ts","../src/scene/text/html/utils/getTemporaryCanvasFromImage.ts","../src/scene/text/html/utils/loadSVGImage.ts","../src/scene/text/html/utils/measureHtmlText.ts","../src/scene/text/html/HTMLTextSystem.ts","../src/rendering/renderers/shared/background/BackgroundSystem.ts","../src/rendering/renderers/shared/blendModes/BlendModePipe.ts","../src/rendering/renderers/shared/extract/ExtractSystem.ts","../src/rendering/renderers/shared/texture/RenderTexture.ts","../src/rendering/renderers/shared/extract/GenerateTextureSystem.ts","../src/rendering/renderers/shared/renderTarget/GlobalUniformSystem.ts","../src/rendering/renderers/shared/shader/utils/createUBOElements.ts","../src/rendering/renderers/shared/shader/utils/uniformBufferParsers.ts","../src/rendering/renderers/shared/shader/utils/createUniformBufferSync.ts","../src/rendering/renderers/shared/shader/UniformBufferSystem.ts","../src/utils/sayHello.ts","../src/rendering/renderers/shared/startup/HelloSystem.ts","../src/rendering/renderers/shared/texture/TextureGCSystem.ts","../src/rendering/renderers/shared/view/ViewSystem.ts","../src/rendering/renderers/shared/system/SharedSystems.ts","../src/rendering/renderers/gl/WebGLRenderer.ts","../src/rendering/renderers/gpu/BindGroupSystem.ts","../src/rendering/renderers/gpu/buffer/GpuBufferSystem.ts","../src/rendering/renderers/gpu/buffer/GpuReadBuffer.ts","../src/rendering/renderers/gpu/buffer/UniformBufferBatch.ts","../src/rendering/renderers/gpu/GpuColorMaskSystem.ts","../src/rendering/renderers/gpu/GpuDeviceSystem.ts","../src/rendering/renderers/gpu/GpuEncoderSystem.ts","../src/rendering/renderers/gpu/GpuStencilSystem.ts","../src/rendering/renderers/gpu/GpuUniformBatchPipe.ts","../src/rendering/renderers/gpu/GpuUniformBufferPipe.ts","../src/rendering/renderers/gpu/pipeline/PipelineSystem.ts","../src/rendering/renderers/gpu/renderTarget/GpuRenderTarget.ts","../src/rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem.ts","../src/rendering/renderers/gpu/shader/GpuShaderSystem.ts","../src/rendering/renderers/gpu/state/GpuBlendModesToPixi.ts","../src/rendering/renderers/gpu/state/GpuStateSystem.ts","../src/rendering/renderers/gpu/texture/uploaders/gpuUploadBufferImageResource.ts","../src/rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.ts","../src/rendering/renderers/gpu/texture/uploaders/gpuUploadVideoSource.ts","../src/rendering/renderers/gpu/texture/utils/GpuMipmapGenerator.ts","../src/rendering/renderers/gpu/texture/GpuTextureSystem.ts","../src/scene/graphics/gpu/GpuGraphicsAdaptor.ts","../src/scene/mesh/gpu/GpuMeshAdapter.ts","../src/rendering/renderers/gpu/WebGPURenderer.ts","../src/rendering/renderers/shared/geometry/const.ts","../src/rendering/renderers/shared/shader/utils/glslToSTD40.ts","../src/rendering/renderers/shared/texture/const.ts","../src/rendering/renderers/shared/texture/TextureUvs.ts","../src/rendering/renderers/shared/texture/utils/generateUID.ts","../src/scene/container/utils/multiplyHexColors.ts","../src/scene/container/utils/updateWorldTransform.ts","../src/scene/graphics/shared/Graphics.ts","../src/scene/graphics/shared/utils/buildGeometryFromPath.ts","../src/scene/mesh-extras/PlaneGeometry.ts","../src/scene/mesh-extras/NineSliceGeometry.ts","../src/scene/mesh-extras/NineSliceSprite.ts","../src/scene/mesh/shared/getTextureDefaultMatrix.ts","../src/scene/mesh/shared/Mesh.ts","../src/scene/sprite-animated/AnimatedSprite.ts","../src/utils/Transform.ts","../src/scene/sprite-tiling/TilingSpriteView.ts","../src/scene/sprite-tiling/TilingSprite.ts","../src/scene/text/html/utils/textStyleToCSS.ts","../src/scene/text/html/HtmlTextStyle.ts","../src/scene/text/utils/ensureTextStyle.ts","../src/scene/text/TextView.ts","../src/scene/text/Text.ts","../src/utils/const.ts","../src/utils/logging/logDebugTexture.ts","../src/utils/logging/logScene.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type { PointData } from './PointData';\nimport type { PointLike } from './PointLike';\n\n/**\n * The Point object represents a location in a two-dimensional coordinate system, where `x` represents\n * the position on the horizontal axis and `y` represents the position on the vertical axis\n * @class\n * @implements {PointLike}\n */\nexport class Point implements PointLike\n{\n    /** Position of the point on the x axis */\n    public x = 0;\n    /** Position of the point on the y axis */\n    public y = 0;\n\n    /**\n     * Creates a new `Point`\n     * @param {number} [x=0] - position of the point on the x axis\n     * @param {number} [y=0] - position of the point on the y axis\n     */\n    constructor(x = 0, y = 0)\n    {\n        this.x = x;\n        this.y = y;\n    }\n\n    /**\n     * Creates a clone of this point\n     * @returns A clone of this point\n     */\n    public clone(): Point\n    {\n        return new Point(this.x, this.y);\n    }\n\n    /**\n     * Copies `x` and `y` from the given point into this point\n     * @param p - The point to copy from\n     * @returns The point instance itself\n     */\n    public copyFrom(p: PointData): this\n    {\n        this.set(p.x, p.y);\n\n        return this;\n    }\n\n    /**\n     * Copies this point's x and y into the given point (`p`).\n     * @param p - The point to copy to. Can be any of type that is or extends `PointData`\n     * @returns The point (`p`) with values updated\n     */\n    public copyTo<T extends PointLike>(p: T): T\n    {\n        p.set(this.x, this.y);\n\n        return p;\n    }\n\n    /**\n     * Accepts another point (`p`) and returns `true` if the given point is equal to this point\n     * @param p - The point to check\n     * @returns Returns `true` if both `x` and `y` are equal\n     */\n    public equals(p: PointData): boolean\n    {\n        return (p.x === this.x) && (p.y === this.y);\n    }\n\n    /**\n     * Sets the point to a new `x` and `y` position.\n     * If `y` is omitted, both `x` and `y` will be set to `x`.\n     * @param {number} [x=0] - position of the point on the `x` axis\n     * @param {number} [y=x] - position of the point on the `y` axis\n     * @returns The point instance itself\n     */\n    public set(x = 0, y: number = x): this\n    {\n        this.x = x;\n        this.y = y;\n\n        return this;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Point x=${this.x} y=${this.y}]`;\n    }\n    // #endif\n\n    static get shared(): Point\n    {\n        tempPoint.x = 0;\n        tempPoint.y = 0;\n\n        return tempPoint;\n    }\n}\n\nconst tempPoint = new Point();\n","import { Point } from '../maths/point/Point';\n\nimport type { EventBoundary } from './EventBoundary';\nimport type { FederatedEventTarget } from './FederatedEventTarget';\n\nexport interface PixiTouch extends Touch\n{\n    button: number;\n    buttons: number;\n    isPrimary: boolean;\n    width: number;\n    height: number;\n    tiltX: number;\n    tiltY: number;\n    pointerType: string;\n    pointerId: number;\n    pressure: number;\n    twist: number;\n    tangentialPressure: number;\n    layerX: number;\n    layerY: number;\n    offsetX: number;\n    offsetY: number;\n    isNormalized: boolean;\n    type: string;\n}\n\n/**\n * An DOM-compatible synthetic event implementation that is \"forwarded\" on behalf of an original\n * FederatedEvent or native {@link https://dom.spec.whatwg.org/#event Event}.\n * @typeParam N - The type of native event held.\n */\nexport class FederatedEvent<N extends UIEvent | PixiTouch = UIEvent | PixiTouch> implements UIEvent\n{\n    /** Flags whether this event bubbles. This will take effect only if it is set before propagation. */\n    public bubbles = true;\n\n    /** @deprecated since 7.0.0 */\n    public cancelBubble = true;\n\n    /**\n     * Flags whether this event can be canceled using {@link FederatedEvent.preventDefault}. This is always\n     * false (for now).\n     */\n    public readonly cancelable = false;\n\n    /**\n     * Flag added for compatibility with DOM {@code Event}. It is not used in the Federated Events\n     * API.\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n    public readonly composed = false;\n\n    /** The listeners of the event target that are being notified. */\n    public currentTarget: FederatedEventTarget;\n\n    /** Flags whether the default response of the user agent was prevent through this event. */\n    public defaultPrevented = false;\n\n    /**\n     * The propagation phase.\n     * @default {@link FederatedEvent.NONE}\n     */\n    public eventPhase = FederatedEvent.prototype.NONE;\n\n    /** Flags whether this is a user-trusted event */\n    public isTrusted: boolean;\n\n    /** @deprecated since 7.0.0 */\n    public returnValue: boolean;\n\n    /** @deprecated since 7.0.0 */\n    public srcElement: EventTarget;\n\n    /** The event target that this will be dispatched to. */\n    public target: FederatedEventTarget;\n\n    /** The timestamp of when the event was created. */\n    public timeStamp: number;\n\n    /** The type of event, e.g. {@code \"mouseup\"}. */\n    public type: string;\n\n    /** The native event that caused the foremost original event. */\n    public nativeEvent: N;\n\n    /** The original event that caused this event, if any. */\n    public originalEvent: FederatedEvent<N>;\n\n    /** Flags whether propagation was stopped. */\n    public propagationStopped = false;\n\n    /** Flags whether propagation was immediately stopped. */\n    public propagationImmediatelyStopped = false;\n\n    /** The composed path of the event's propagation. The {@code target} is at the end. */\n    public path: FederatedEventTarget[];\n\n    /** The {@link EventBoundary} that manages this event. Null for root events. */\n    public readonly manager: EventBoundary;\n\n    /** Event-specific detail */\n    public detail: number;\n\n    /** The global Window object. */\n    public view: WindowProxy;\n\n    /**\n     * Not supported.\n     * @deprecated since 7.0.0\n     */\n    public which: number;\n\n    /** The coordinates of the event relative to the nearest DOM layer. This is a non-standard property. */\n    public layer: Point = new Point();\n\n    /** @readonly */\n    get layerX(): number { return this.layer.x; }\n\n    /** @readonly */\n    get layerY(): number { return this.layer.y; }\n\n    /** The coordinates of the event relative to the DOM document. This is a non-standard property. */\n    public page: Point = new Point();\n\n    /** @readonly */\n    get pageX(): number { return this.page.x; }\n\n    /** @readonly */\n    get pageY(): number { return this.page.y; }\n\n    /**\n     * @param manager - The event boundary which manages this event. Propagation can only occur\n     *  within the boundary's jurisdiction.\n     */\n    constructor(manager: EventBoundary)\n    {\n        this.manager = manager;\n    }\n\n    /**\n     * Fallback for the deprecated @code{InteractionEvent.data}.\n     * @deprecated since 7.0.0\n     */\n    get data(): this\n    {\n        return this;\n    }\n\n    /** The propagation path for this event. Alias for {@link EventBoundary.propagationPath}. */\n    public composedPath(): FederatedEventTarget[]\n    {\n        // Find the propagation path if it isn't cached or if the target has changed since since\n        // the last evaluation.\n        if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target))\n        {\n            this.path = this.target ? this.manager.propagationPath(this.target) : [];\n        }\n\n        return this.path;\n    }\n\n    /**\n     * Unimplemented method included for implementing the DOM interface {@code Event}. It will throw an {@code Error}.\n     * @deprecated\n     * @param _type\n     * @param _bubbles\n     * @param _cancelable\n     */\n    public initEvent(_type: string, _bubbles?: boolean, _cancelable?: boolean): void\n    {\n        throw new Error('initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.');\n    }\n\n    /**\n     * Unimplemented method included for implementing the DOM interface {@code UIEvent}. It will throw an {@code Error}.\n     * @deprecated\n     * @param _typeArg\n     * @param _bubblesArg\n     * @param _cancelableArg\n     * @param _viewArg\n     * @param _detailArg\n     */\n    public initUIEvent(_typeArg: string, _bubblesArg?: boolean, _cancelableArg?: boolean, _viewArg?: Window | null,\n        _detailArg?: number): void\n    {\n        throw new Error('initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.');\n    }\n\n    /** Prevent default behavior of PixiJS and the user agent. */\n    public preventDefault(): void\n    {\n        if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable)\n        {\n            this.nativeEvent.preventDefault();\n        }\n\n        this.defaultPrevented = true;\n    }\n\n    /**\n     * Stop this event from propagating to any addition listeners, including on the\n     * {@link FederatedEventTarget.currentTarget currentTarget} and also the following\n     * event targets on the propagation path.\n     */\n    public stopImmediatePropagation(): void\n    {\n        this.propagationImmediatelyStopped = true;\n    }\n\n    /**\n     * Stop this event from propagating to the next {@link FederatedEventTarget}. The rest of the listeners\n     * on the {@link FederatedEventTarget.currentTarget currentTarget} will still be notified.\n     */\n    public stopPropagation(): void\n    {\n        this.propagationStopped = true;\n    }\n\n    public readonly NONE = 0;\n    public readonly CAPTURING_PHASE = 1;\n    public readonly AT_TARGET = 2;\n    public readonly BUBBLING_PHASE = 3;\n}\n","/**\n * Collection of valid extension types.\n * @property {string} Application - Application plugins\n * @property {string} RendererPlugin - Plugins for Renderer\n * @property {string} CanvasRendererPlugin - Plugins for CanvasRenderer\n * @property {string} Loader - Plugins to use with Loader\n * @property {string} LoadParser - Parsers for Assets loader.\n * @property {string} ResolveParser - Parsers for Assets resolvers.\n * @property {string} CacheParser - Parsers for Assets cache.\n */\nenum ExtensionType\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    Renderer = 'renderer',\n    Application = 'application',\n\n    // WebGL renderer plugins/pipes/systems\n    WebGLPipes = 'webgl-pipes',\n    WebGLPipesAdaptor = 'webgl-pipes-adaptor',\n    WebGLSystem = 'webgl-system',\n\n    // WebGPU renderer plugins/pipes/systems\n    WebGPUPipes = 'webgpu-pipes',\n    WebGPUPipesAdaptor = 'webgpu-pipes-adaptor',\n    WebGPUSystem = 'webgpu-system',\n\n    // Canvas renderer plugins/pipes/systems\n    CanvasSystem = 'canvas-system',\n    CanvasPipesAdaptor = 'canvas-pipes-adaptor',\n    CanvasPipes = 'canvas-pipes',\n\n    // Asset related plugins\n    Asset = 'asset',\n    LoadParser = 'load-parser',\n    ResolveParser = 'resolve-parser',\n    CacheParser = 'cache-parser',\n    DetectionParser = 'detection-parser',\n\n    MaskEffect = 'mask-effect',\n\n    BlendMode = 'blend-mode',\n\n    TextureSource = 'texture-source',\n}\n\ninterface ExtensionMetadataDetails\n{\n    type: ExtensionType | ExtensionType[];\n    name?: string;\n    priority?: number;\n}\n\ntype ExtensionMetadata = ExtensionType | ExtensionMetadataDetails;\n\n/**\n * Format when registering an extension. Generally, the extension\n * should have these values as `extension` static property,\n * but you can override name or type by providing an object.\n */\ninterface ExtensionFormatLoose\n{\n    /** The extension type, can be multiple types */\n    type: ExtensionType | ExtensionType[];\n    /** Optional. Some plugins provide an API name/property, such as Renderer plugins */\n    name?: string;\n    /** Optional, used for sorting the plugins in a particular order */\n    priority?: number;\n    /** Reference to the plugin object/class */\n    ref: any;\n}\n\n/** Strict extension format that is used internally for registrations. */\ninterface ExtensionFormat extends ExtensionFormatLoose\n{\n    /** The extension type, always expressed as multiple, even if a single */\n    type: ExtensionType[];\n}\n\ntype ExtensionHandler = (extension: ExtensionFormat) => void;\n\n/**\n * Convert input into extension format data.\n * @ignore\n */\nconst normalizeExtension = (ext: ExtensionFormatLoose | any): ExtensionFormat =>\n{\n    // Class/Object submission, use extension object\n    if (typeof ext === 'function' || (typeof ext === 'object' && ext.extension))\n    {\n        // #if _DEBUG\n        if (!ext.extension)\n        {\n            throw new Error('Extension class must have an extension object');\n        }\n        // #endif\n        const metadata: ExtensionMetadataDetails = (typeof ext.extension !== 'object')\n            ? { type: ext.extension }\n            : ext.extension;\n\n        ext = { ...metadata, ref: ext };\n    }\n    if (typeof ext === 'object')\n    {\n        ext = { ...ext };\n    }\n    else\n    {\n        throw new Error('Invalid extension type');\n    }\n\n    if (typeof ext.type === 'string')\n    {\n        ext.type = [ext.type];\n    }\n\n    return ext;\n};\n\n/**\n * Get the priority for an extension.\n * @ignore\n * @param ext - Any extension\n * @param defaultPriority - Fallback priority if none is defined.\n * @returns The priority for the extension.\n */\nexport const normalizeExtensionPriority = (ext: ExtensionFormatLoose | any, defaultPriority: number): number =>\n    normalizeExtension(ext).priority ?? defaultPriority;\n\n/**\n * Global registration of all PixiJS extensions. One-stop-shop for extensibility.\n * @namespace extensions\n */\nconst extensions = {\n\n    /** @ignore */\n    _addHandlers: {} as Record<ExtensionType, ExtensionHandler>,\n\n    /** @ignore */\n    _removeHandlers: {} as Record<ExtensionType, ExtensionHandler>,\n\n    /** @ignore */\n    _queue: {} as Record<ExtensionType, ExtensionFormat[]>,\n\n    /**\n     * Remove extensions from PixiJS.\n     * @param extensions - Extensions to be removed.\n     * @returns {extensions} For chaining.\n     */\n    remove(...extensions: Array<ExtensionFormatLoose | any>)\n    {\n        extensions.map(normalizeExtension).forEach((ext) =>\n        {\n            ext.type.forEach((type) => this._removeHandlers[type]?.(ext));\n        });\n\n        return this;\n    },\n\n    /**\n     * Register new extensions with PixiJS.\n     * @param extensions - The spread of extensions to add to PixiJS.\n     * @returns {extensions} For chaining.\n     */\n    add(...extensions: Array<ExtensionFormatLoose | any>)\n    {\n        // Handle any extensions either passed as class w/ data or as data\n        extensions.map(normalizeExtension).forEach((ext) =>\n        {\n            ext.type.forEach((type) =>\n            {\n                const handlers = this._addHandlers;\n                const queue = this._queue;\n\n                if (!handlers[type])\n                {\n                    queue[type] = queue[type] || [];\n                    queue[type].push(ext);\n                }\n                else\n                {\n                    handlers[type](ext);\n                }\n            });\n        });\n\n        return this;\n    },\n\n    /**\n     * Internal method to handle extensions by name.\n     * @param type - The extension type.\n     * @param onAdd  - Function for handling when extensions are added/registered passes {@link ExtensionFormat}.\n     * @param onRemove  - Function for handling when extensions are removed/unregistered passes {@link ExtensionFormat}.\n     * @returns {extensions} For chaining.\n     */\n    handle(type: ExtensionType, onAdd: ExtensionHandler, onRemove: ExtensionHandler)\n    {\n        const addHandlers = this._addHandlers;\n        const removeHandlers = this._removeHandlers;\n\n        // #if _DEBUG\n        if (addHandlers[type] || removeHandlers[type])\n        {\n            throw new Error(`Extension type ${type} already has a handler`);\n        }\n        // #endif\n\n        addHandlers[type] = onAdd;\n        removeHandlers[type] = onRemove;\n\n        // Process the queue\n        const queue = this._queue;\n\n        // Process any plugins that have been registered before the handler\n        if (queue[type])\n        {\n            queue[type].forEach((ext) => onAdd(ext));\n            delete queue[type];\n        }\n\n        return this;\n    },\n\n    /**\n     * Handle a type, but using a map by `name` property.\n     * @param type - Type of extension to handle.\n     * @param map - The object map of named extensions.\n     * @returns {extensions} For chaining.\n     */\n    handleByMap(type: ExtensionType, map: Record<string, any>)\n    {\n        return this.handle(type,\n            (extension) =>\n            {\n                map[extension.name] = extension.ref;\n            },\n            (extension) =>\n            {\n                delete map[extension.name];\n            }\n        );\n    },\n\n    /**\n     * Handle a type, but using a list of extensions with a `name` property.\n     * @param type - Type of extension to handle.\n     * @param map - The array of named extensions.\n     * @param defaultPriority - Fallback priority if none is defined.\n     * @returns {extensions} For chaining.\n     */\n    handleByNamedList(type: ExtensionType, map: {name: string, value: any}[], defaultPriority = -1)\n    {\n        return this.handle(\n            type,\n            (extension) =>\n            {\n                const index = map.findIndex((item) => item.name === extension.name);\n\n                if (index >= 0) return;\n\n                map.push({ name: extension.name, value: extension.ref });\n                map.sort((a, b) =>\n                    normalizeExtensionPriority(b.value, defaultPriority)\n                    - normalizeExtensionPriority(a.value, defaultPriority));\n            },\n            (extension) =>\n            {\n                const index = map.findIndex((item) => item.name === extension.name);\n\n                if (index !== -1)\n                {\n                    map.splice(index, 1);\n                }\n            }\n        );\n    },\n\n    /**\n     * Handle a type, but using a list of extensions.\n     * @param type - Type of extension to handle.\n     * @param list - The list of extensions.\n     * @param defaultPriority - The default priority to use if none is specified.\n     * @returns {extensions} For chaining.\n     */\n    handleByList(type: ExtensionType, list: any[], defaultPriority = -1)\n    {\n        return this.handle(\n            type,\n            (extension) =>\n            {\n                if (list.includes(extension.ref))\n                {\n                    return;\n                }\n\n                list.push(extension.ref);\n                list.sort((a, b) =>\n                    normalizeExtensionPriority(b, defaultPriority) - normalizeExtensionPriority(a, defaultPriority));\n            },\n            (extension) =>\n            {\n                const index = list.indexOf(extension.ref);\n\n                if (index !== -1)\n                {\n                    list.splice(index, 1);\n                }\n            }\n        );\n    },\n};\n\nexport {\n    extensions,\n    ExtensionType,\n};\nexport type {\n    ExtensionFormat,\n    ExtensionFormatLoose,\n    ExtensionHandler,\n    ExtensionMetadata,\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","export default function(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return\"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"])}\n","import { colord, extend } from '@pixi/colord';\nimport namesPlugin from '@pixi/colord/plugins/names';\n\nimport type { AnyColor, HslaColor, HslColor, HsvaColor, HsvColor, RgbaColor, RgbColor } from '@pixi/colord';\n\nextend([namesPlugin]);\n\nexport type RgbaArray = [number, number, number, number];\n\n/**\n * Value types for the constructor of {@link Color}.\n * These types are extended from [colord](https://www.npmjs.com/package/colord) with some PixiJS-specific extensions.\n *\n * Possible value types are:\n * - [Color names](https://www.w3.org/TR/css-color-4/#named-colors):\n *   `'red'`, `'green'`, `'blue'`, `'white'`, etc.\n * - RGB hex integers (`0xRRGGBB`):\n *   `0xff0000`, `0x00ff00`, `0x0000ff`, etc.\n * - [RGB(A) hex strings](https://www.w3.org/TR/css-color-4/#hex-notation):\n *   - 6 digits (`RRGGBB`): `'ff0000'`, `'#00ff00'`, `'0x0000ff'`, etc.\n *   - 3 digits (`RGB`): `'f00'`, `'#0f0'`, `'0x00f'`, etc.\n *   - 8 digits (`RRGGBBAA`): `'ff000080'`, `'#00ff0080'`, `'0x0000ff80'`, etc.\n *   - 4 digits (`RGBA`): `'f008'`, `'#0f08'`, `'0x00f8'`, etc.\n * - RGB(A) objects:\n *   `{ r: 255, g: 0, b: 0 }`, `{ r: 255, g: 0, b: 0, a: 0.5 }`, etc.\n * - [RGB(A) strings](https://www.w3.org/TR/css-color-4/#rgb-functions):\n *   `'rgb(255, 0, 0)'`, `'rgb(100% 0% 0%)'`, `'rgba(255, 0, 0, 0.5)'`, `'rgba(100% 0% 0% / 50%)'`, etc.\n * - RGB(A) arrays:\n *   `[1, 0, 0]`, `[1, 0, 0, 0.5]`, etc.\n * - RGB(A) Float32Array:\n *   `new Float32Array([1, 0, 0])`, `new Float32Array([1, 0, 0, 0.5])`, etc.\n * - RGB(A) Uint8Array:\n *   `new Uint8Array([255, 0, 0])`, `new Uint8Array([255, 0, 0, 128])`, etc.\n * - RGB(A) Uint8ClampedArray:\n *   `new Uint8ClampedArray([255, 0, 0])`, `new Uint8ClampedArray([255, 0, 0, 128])`, etc.\n * - HSL(A) objects:\n *   `{ h: 0, s: 100, l: 50 }`, `{ h: 0, s: 100, l: 50, a: 0.5 }`, etc.\n * - [HSL(A) strings](https://www.w3.org/TR/css-color-4/#the-hsl-notation):\n *   `'hsl(0, 100%, 50%)'`, `'hsl(0deg 100% 50%)'`, `'hsla(0, 100%, 50%, 0.5)'`, `'hsla(0deg 100% 50% / 50%)'`, etc.\n * - HSV(A) objects:\n *   `{ h: 0, s: 100, v: 100 }`, `{ h: 0, s: 100, v: 100, a: 0.5 }`, etc.\n * - {@link Color} objects.\n * @since 7.2.0\n */\nexport type ColorSource =\n    | string\n    | number\n    | number[]\n    | Float32Array\n    | Uint8Array\n    | Uint8ClampedArray\n    | HslColor\n    | HslaColor\n    | HsvColor\n    | HsvaColor\n    | RgbColor\n    | RgbaColor\n    | Color\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    | Number;\n\ntype ColorSourceTypedArray = Float32Array | Uint8Array | Uint8ClampedArray;\n\n/**\n * Color utility class.\n * @example\n * import { Color } from 'pixi.js';\n * new Color('red').toArray(); // [1, 0, 0, 1]\n * new Color(0xff0000).toArray(); // [1, 0, 0, 1]\n * new Color('ff0000').toArray(); // [1, 0, 0, 1]\n * new Color('#f00').toArray(); // [1, 0, 0, 1]\n * new Color('0xff0000ff').toArray(); // [1, 0, 0, 1]\n * new Color('#f00f').toArray(); // [1, 0, 0, 1]\n * new Color({ r: 255, g: 0, b: 0, a: 0.5 }).toArray(); // [1, 0, 0, 0.5]\n * new Color('rgb(255, 0, 0, 0.5)').toArray(); // [1, 0, 0, 0.5]\n * new Color([1, 1, 1]).toArray(); // [1, 1, 1, 1]\n * new Color([1, 0, 0, 0.5]).toArray(); // [1, 0, 0, 0.5]\n * new Color(new Float32Array([1, 0, 0, 0.5])).toArray(); // [1, 0, 0, 0.5]\n * new Color(new Uint8Array([255, 0, 0, 255])).toArray(); // [1, 0, 0, 1]\n * new Color(new Uint8ClampedArray([255, 0, 0, 255])).toArray(); // [1, 0, 0, 1]\n * new Color({ h: 0, s: 100, l: 50, a: 0.5 }).toArray(); // [1, 0, 0, 0.5]\n * new Color('hsl(0, 100%, 50%, 50%)').toArray(); // [1, 0, 0, 0.5]\n * new Color({ h: 0, s: 100, v: 100, a: 0.5 }).toArray(); // [1, 0, 0, 0.5]\n * @since 7.2.0\n */\nexport class Color\n{\n    /**\n     * Default Color object for static uses\n     * @example\n     * import { Color } from 'pixi.js';\n     * Color.shared.setValue(0xffffff).toHex(); // '#ffffff'\n     */\n    public static readonly shared = new Color();\n\n    /**\n     * Temporary Color object for static uses internally.\n     * As to not conflict with Color.shared.\n     * @ignore\n     */\n    private static readonly _temp = new Color();\n\n    /** Pattern for hex strings */\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    private static readonly HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;\n\n    /** Internal color source, from constructor or set value */\n    private _value: Exclude<ColorSource, Color> | null;\n\n    /** Normalized rgba component, floats from 0-1 */\n    private _components: Float32Array;\n\n    /** Cache color as number */\n    private _int: number;\n\n    /** An array of the current Color. Only populated when `toArray` functions are called */\n    private _arrayRgba: number[] | null;\n    private _arrayRgb: number[] | null;\n\n    /**\n     * @param {ColorSource} value - Optional value to use, if not provided, white is used.\n     */\n    constructor(value: ColorSource = 0xffffff)\n    {\n        this._value = null;\n        this._components = new Float32Array(4);\n        this._components.fill(1);\n        this._int = 0xffffff;\n        this.value = value;\n    }\n\n    /** Get red component (0 - 1) */\n    get red(): number\n    {\n        return this._components[0];\n    }\n\n    /** Get green component (0 - 1) */\n    get green(): number\n    {\n        return this._components[1];\n    }\n\n    /** Get blue component (0 - 1) */\n    get blue(): number\n    {\n        return this._components[2];\n    }\n\n    /** Get alpha component (0 - 1) */\n    get alpha(): number\n    {\n        return this._components[3];\n    }\n\n    /**\n     * Set the value, suitable for chaining\n     * @param value\n     * @see Color.value\n     */\n    public setValue(value: ColorSource): this\n    {\n        this.value = value;\n\n        return this;\n    }\n\n    /**\n     * The current color source.\n     *\n     * When setting:\n     * - Setting to an instance of `Color` will copy its color source and components.\n     * - Otherwise, `Color` will try to normalize the color source and set the components.\n     *   If the color source is invalid, an `Error` will be thrown and the `Color` will left unchanged.\n     *\n     * Note: The `null` in the setter's parameter type is added to match the TypeScript rule: return type of getter\n     * must be assignable to its setter's parameter type. Setting `value` to `null` will throw an `Error`.\n     *\n     * When getting:\n     * - A return value of `null` means the previous value was overridden (e.g., {@link Color.multiply multiply},\n     *   {@link Color.premultiply premultiply} or {@link Color.round round}).\n     * - Otherwise, the color source used when setting is returned.\n     * @type {ColorSource}\n     */\n    set value(value: ColorSource | null)\n    {\n        // Support copying from other Color objects\n        if (value instanceof Color)\n        {\n            this._value = this._cloneSource(value._value);\n            this._int = value._int;\n            this._components.set(value._components);\n        }\n        else if (value === null)\n        {\n            throw new Error('Cannot set Color#value to null');\n        }\n        else if (this._value === null || !this._isSourceEqual(this._value, value))\n        {\n            this._normalize(value);\n            this._value = this._cloneSource(value);\n        }\n    }\n    get value(): Exclude<ColorSource, Color> | null\n    {\n        return this._value;\n    }\n\n    /**\n     * Copy a color source internally.\n     * @param value - Color source\n     */\n    private _cloneSource(value: Exclude<ColorSource, Color> | null): Exclude<ColorSource, Color> | null\n    {\n        if (typeof value === 'string' || typeof value === 'number' || value instanceof Number || value === null)\n        {\n            return value;\n        }\n        else if (Array.isArray(value) || ArrayBuffer.isView(value))\n        {\n            return value.slice(0);\n        }\n        else if (typeof value === 'object' && value !== null)\n        {\n            return { ...value };\n        }\n\n        return value;\n    }\n\n    /**\n     * Equality check for color sources.\n     * @param value1 - First color source\n     * @param value2 - Second color source\n     * @returns `true` if the color sources are equal, `false` otherwise.\n     */\n    private _isSourceEqual(value1: Exclude<ColorSource, Color>, value2: Exclude<ColorSource, Color>): boolean\n    {\n        const type1 = typeof value1;\n        const type2 = typeof value2;\n\n        // Mismatched types\n        if (type1 !== type2)\n        {\n            return false;\n        }\n        // Handle numbers/strings and things that extend Number\n        // important to do the instanceof Number first, as this is \"object\" type\n        else if (type1 === 'number' || type1 === 'string' || value1 instanceof Number)\n        {\n            return value1 === value2;\n        }\n        // Handle Arrays and TypedArrays\n        else if (\n            (Array.isArray(value1) && Array.isArray(value2))\n            || (ArrayBuffer.isView(value1) && ArrayBuffer.isView(value2))\n        )\n        {\n            if (value1.length !== value2.length)\n            {\n                return false;\n            }\n\n            return value1.every((v, i) => v === value2[i]);\n        }\n        // Handle Objects\n        else if (value1 !== null && value2 !== null)\n        {\n            const keys1 = Object.keys(value1) as (keyof typeof value1)[];\n            const keys2 = Object.keys(value2) as (keyof typeof value2)[];\n\n            if (keys1.length !== keys2.length)\n            {\n                return false;\n            }\n\n            return keys1.every((key) => value1[key] === value2[key]);\n        }\n\n        return value1 === value2;\n    }\n\n    /**\n     * Convert to a RGBA color object.\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toRgb(); // returns { r: 1, g: 1, b: 1, a: 1 }\n     */\n    public toRgba(): RgbaColor\n    {\n        const [r, g, b, a] = this._components;\n\n        return { r, g, b, a };\n    }\n\n    /**\n     * Convert to a RGB color object.\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toRgb(); // returns { r: 1, g: 1, b: 1 }\n     */\n    public toRgb(): RgbColor\n    {\n        const [r, g, b] = this._components;\n\n        return { r, g, b };\n    }\n\n    /** Convert to a CSS-style rgba string: `rgba(255,255,255,1.0)`. */\n    public toRgbaString(): string\n    {\n        const [r, g, b] = this.toUint8RgbArray();\n\n        return `rgba(${r},${g},${b},${this.alpha})`;\n    }\n\n    /**\n     * Convert to an [R, G, B] array of clamped uint8 values (0 to 255).\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toUint8RgbArray(); // returns [255, 255, 255]\n     * @param {number[]|Uint8Array|Uint8ClampedArray} [out] - Output array\n     */\n    public toUint8RgbArray(): number[];\n    public toUint8RgbArray<T extends number[] | Uint8Array | Uint8ClampedArray>(out: T): T;\n    public toUint8RgbArray<T extends number[] | Uint8Array | Uint8ClampedArray>(out?: T): T\n    {\n        const [r, g, b] = this._components;\n\n        if (!this._arrayRgb)\n        {\n            this._arrayRgb = [];\n        }\n\n        out = out || this._arrayRgb as T;\n\n        out[0] = Math.round(r * 255);\n        out[1] = Math.round(g * 255);\n        out[2] = Math.round(b * 255);\n\n        return out;\n    }\n\n    /**\n     * Convert to an [R, G, B, A] array of normalized floats (numbers from 0.0 to 1.0).\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toArray(); // returns [1, 1, 1, 1]\n     * @param {number[]|Float32Array} [out] - Output array\n     */\n    public toArray(): number[];\n    public toArray<T extends number[] | Float32Array>(out: T): T;\n    public toArray<T extends number[] | Float32Array>(out?: T): T\n    {\n        if (!this._arrayRgba)\n        {\n            this._arrayRgba = [];\n        }\n\n        out = out || this._arrayRgba as T;\n        const [r, g, b, a] = this._components;\n\n        out[0] = r;\n        out[1] = g;\n        out[2] = b;\n        out[3] = a;\n\n        return out;\n    }\n\n    /**\n     * Convert to an [R, G, B] array of normalized floats (numbers from 0.0 to 1.0).\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toRgbArray(); // returns [1, 1, 1]\n     * @param {number[]|Float32Array} [out] - Output array\n     */\n    public toRgbArray(): number[];\n    public toRgbArray<T extends number[] | Float32Array>(out: T): T;\n    public toRgbArray<T extends number[] | Float32Array>(out?: T): T\n    {\n        if (!this._arrayRgb)\n        {\n            this._arrayRgb = [];\n        }\n\n        out = out || this._arrayRgb as T;\n        const [r, g, b] = this._components;\n\n        out[0] = r;\n        out[1] = g;\n        out[2] = b;\n\n        return out;\n    }\n\n    /**\n     * Convert to a hexadecimal number.\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toNumber(); // returns 16777215\n     */\n    public toNumber(): number\n    {\n        return this._int;\n    }\n\n    /**\n     * Convert to a BGR number\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color(0xffcc99).toBgrNumber(); // returns 0x99ccff\n     */\n    public toBgrNumber(): number\n    {\n        const [r, g, b] = this.toUint8RgbArray();\n\n        return (b << 16) + (g << 8) + r;\n    }\n\n    /**\n     * Convert to a hexadecimal number in little endian format (e.g., BBGGRR).\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color(0xffcc99).toLittleEndianNumber(); // returns 0x99ccff\n     * @returns {number} - The color as a number in little endian format.\n     */\n    public toLittleEndianNumber(): number\n    {\n        const value = this._int;\n\n        return (value >> 16) + (value & 0xff00) + ((value & 0xff) << 16);\n    }\n\n    /**\n     * Multiply with another color. This action is destructive, and will\n     * override the previous `value` property to be `null`.\n     * @param {ColorSource} value - The color to multiply by.\n     */\n    public multiply(value: ColorSource): this\n    {\n        const [r, g, b, a] = Color._temp.setValue(value)._components;\n\n        this._components[0] *= r;\n        this._components[1] *= g;\n        this._components[2] *= b;\n        this._components[3] *= a;\n\n        this._refreshInt();\n        this._value = null;\n\n        return this;\n    }\n\n    /**\n     * Converts color to a premultiplied alpha format. This action is destructive, and will\n     * override the previous `value` property to be `null`.\n     * @param alpha - The alpha to multiply by.\n     * @param {boolean} [applyToRGB=true] - Whether to premultiply RGB channels.\n     * @returns {Color} - Itself.\n     */\n    public premultiply(alpha: number, applyToRGB = true): this\n    {\n        if (applyToRGB)\n        {\n            this._components[0] *= alpha;\n            this._components[1] *= alpha;\n            this._components[2] *= alpha;\n        }\n        this._components[3] = alpha;\n\n        this._refreshInt();\n        this._value = null;\n\n        return this;\n    }\n\n    /**\n     * Premultiplies alpha with current color.\n     * @param {number} alpha - The alpha to multiply by.\n     * @param {boolean} [applyToRGB=true] - Whether to premultiply RGB channels.\n     * @returns {number} tint multiplied by alpha\n     */\n    public toPremultiplied(alpha: number, applyToRGB = true): number\n    {\n        if (alpha === 1.0)\n        {\n            return (0xff << 24) + this._int;\n        }\n        if (alpha === 0.0)\n        {\n            return applyToRGB ? 0 : this._int;\n        }\n        let r = (this._int >> 16) & 0xff;\n        let g = (this._int >> 8) & 0xff;\n        let b = this._int & 0xff;\n\n        if (applyToRGB)\n        {\n            r = ((r * alpha) + 0.5) | 0;\n            g = ((g * alpha) + 0.5) | 0;\n            b = ((b * alpha) + 0.5) | 0;\n        }\n\n        return ((alpha * 255) << 24) + (r << 16) + (g << 8) + b;\n    }\n\n    /**\n     * Convert to a hexidecimal string.\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toHex(); // returns \"#ffffff\"\n     */\n    public toHex(): string\n    {\n        const hexString = this._int.toString(16);\n\n        return `#${'000000'.substring(0, 6 - hexString.length) + hexString}`;\n    }\n\n    /**\n     * Convert to a hexidecimal string with alpha.\n     * @example\n     * import { Color } from 'pixi.js';\n     * new Color('white').toHexa(); // returns \"#ffffffff\"\n     */\n    public toHexa(): string\n    {\n        const alphaValue = Math.round(this._components[3] * 255);\n        const alphaString = alphaValue.toString(16);\n\n        return this.toHex() + '00'.substring(0, 2 - alphaString.length) + alphaString;\n    }\n\n    /**\n     * Set alpha, suitable for chaining.\n     * @param alpha\n     */\n    public setAlpha(alpha: number): this\n    {\n        this._components[3] = this._clamp(alpha);\n\n        return this;\n    }\n\n    /**\n     * Normalize the input value into rgba\n     * @param value - Input value\n     */\n    private _normalize(value: Exclude<ColorSource, Color>): void\n    {\n        let r: number | undefined;\n        let g: number | undefined;\n        let b: number | undefined;\n        let a: number | undefined;\n\n        // Number is a primative so typeof works fine, but in the case\n        // that someone creates a class that extends Number, we also\n        // need to check for instanceof Number\n        if (\n            (typeof value === 'number' || value instanceof Number)\n            && (value as number) >= 0\n            && (value as number) <= 0xffffff\n        )\n        {\n            const int = value as number; // cast required because instanceof Number is ambiguous for TS\n\n            r = ((int >> 16) & 0xff) / 255;\n            g = ((int >> 8) & 0xff) / 255;\n            b = (int & 0xff) / 255;\n            a = 1.0;\n        }\n        else if (\n            (Array.isArray(value) || value instanceof Float32Array)\n            // Can be rgb or rgba\n            && value.length >= 3\n            && value.length <= 4\n        )\n        {\n            // make sure all values are 0 - 1\n            value = this._clamp(value);\n            [r, g, b, a = 1.0] = value;\n        }\n        else if (\n            (value instanceof Uint8Array || value instanceof Uint8ClampedArray)\n            // Can be rgb or rgba\n            && value.length >= 3\n            && value.length <= 4\n        )\n        {\n            // make sure all values are 0 - 255\n            value = this._clamp(value, 0, 255);\n            [r, g, b, a = 255] = value;\n            r /= 255;\n            g /= 255;\n            b /= 255;\n            a /= 255;\n        }\n        else if (typeof value === 'string' || typeof value === 'object')\n        {\n            if (typeof value === 'string')\n            {\n                const match = Color.HEX_PATTERN.exec(value);\n\n                if (match)\n                {\n                    // Normalize hex string, remove 0x or # prefix\n                    value = `#${match[2]}`;\n                }\n            }\n\n            const color = colord(value as AnyColor);\n\n            if (color.isValid())\n            {\n                ({ r, g, b, a } = color.rgba);\n                r /= 255;\n                g /= 255;\n                b /= 255;\n            }\n        }\n\n        // Cache normalized values for rgba and hex integer\n        if (r !== undefined)\n        {\n            this._components[0] = r as number;\n            this._components[1] = g as number;\n            this._components[2] = b as number;\n            this._components[3] = a as number;\n            this._refreshInt();\n        }\n        else\n        {\n            throw new Error(`Unable to convert color ${value}`);\n        }\n    }\n\n    /** Refresh the internal color rgb number */\n    private _refreshInt(): void\n    {\n        // Clamp values to 0 - 1\n        this._clamp(this._components);\n\n        const [r, g, b] = this._components;\n\n        this._int = ((r * 255) << 16) + ((g * 255) << 8) + ((b * 255) | 0);\n    }\n\n    /**\n     * Clamps values to a range. Will override original values\n     * @param value - Value(s) to clamp\n     * @param min - Minimum value\n     * @param max - Maximum value\n     */\n    private _clamp<T extends number | number[] | ColorSourceTypedArray>(value: T, min = 0, max = 1): T\n    {\n        if (typeof value === 'number')\n        {\n            return Math.min(Math.max(value, min), max) as T;\n        }\n\n        value.forEach((v, i) =>\n        {\n            value[i] = Math.min(Math.max(v, min), max);\n        });\n\n        return value;\n    }\n\n    /**\n     * Check if the value is a color-like object\n     * @param value - Value to check\n     * @returns True if the value is a color-like object\n     * @static\n     * @example\n     * import { Color } from 'pixi.js';\n     * Color.isColorLike('white'); // returns true\n     * Color.isColorLike(0xffffff); // returns true\n     * Color.isColorLike([1, 1, 1]); // returns true\n     */\n    public static isColorLike(value: ColorSource): value is ColorSource\n    {\n        return (\n            typeof value === 'number'\n            || typeof value === 'string'\n            || value instanceof Number\n            || value instanceof Color\n            || Array.isArray(value)\n            || value instanceof Uint8Array\n            || value instanceof Uint8ClampedArray\n            || value instanceof Float32Array\n            || ((value as RgbColor).r !== undefined\n                && (value as RgbColor).g !== undefined\n                && (value as RgbColor).b !== undefined)\n            || ((value as RgbaColor).r !== undefined\n                && (value as RgbaColor).g !== undefined\n                && (value as RgbaColor).b !== undefined\n                && (value as RgbaColor).a !== undefined)\n            || ((value as HslColor).h !== undefined\n                && (value as HslColor).s !== undefined\n                && (value as HslColor).l !== undefined)\n            || ((value as HslaColor).h !== undefined\n                && (value as HslaColor).s !== undefined\n                && (value as HslaColor).l !== undefined\n                && (value as HslaColor).a !== undefined)\n            || ((value as HsvColor).h !== undefined\n                && (value as HsvColor).s !== undefined\n                && (value as HsvColor).v !== undefined)\n            || ((value as HsvaColor).h !== undefined\n                && (value as HsvaColor).s !== undefined\n                && (value as HsvaColor).v !== undefined\n                && (value as HsvaColor).a !== undefined)\n        );\n    }\n}\n","/**\n * Two Pi.\n * @static\n * @member {number}\n */\nexport const PI_2 = Math.PI * 2;\n\n/**\n * Conversion factor for converting radians to degrees.\n * @static\n * @member {number} RAD_TO_DEG\n */\nexport const RAD_TO_DEG = 180 / Math.PI;\n\n/**\n * Conversion factor for converting degrees to radians.\n * @static\n * @member {number}\n */\nexport const DEG_TO_RAD = Math.PI / 180;\n\n/** Constants that identify shapes, mainly to prevent `instanceof` calls. */\nexport type SHAPE_PRIMITIVE =\n    | 'polygon'\n    | 'rectangle'\n    | 'circle'\n    | 'ellipse'\n    | 'triangle'\n    | 'roundedRectangle';\n\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { PI_2 } from '../misc/const';\nimport { Point } from '../point/Point';\n\nimport type { Transform } from '../../utils/Transform';\nimport type { PointData } from '../point/PointData';\n\n/**\n * The PixiJS Matrix as a class makes it a lot faster.\n *\n * Here is a representation of it:\n * ```js\n * | a | c | tx|\n * | b | d | ty|\n * | 0 | 0 | 1 |\n * ```\n */\nexport class Matrix\n{\n    /** @default 1 */\n    public a: number;\n\n    /** @default 0 */\n    public b: number;\n\n    /** @default 0 */\n    public c: number;\n\n    /** @default 1 */\n    public d: number;\n\n    /** @default 0 */\n    public tx: number;\n\n    /** @default 0 */\n    public ty: number;\n\n    /** An array of the current matrix. Only populated when `toArray` is called */\n    public array: Float32Array | null = null;\n\n    /**\n     * @param a - x scale\n     * @param b - y skew\n     * @param c - x skew\n     * @param d - y scale\n     * @param tx - x translation\n     * @param ty - y translation\n     */\n    constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0)\n    {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n    }\n\n    /**\n     * Creates a Matrix object based on the given array. The Element to Matrix mapping order is as follows:\n     *\n     * a = array[0]\n     * b = array[1]\n     * c = array[3]\n     * d = array[4]\n     * tx = array[2]\n     * ty = array[5]\n     * @param array - The array that the matrix will be populated from.\n     */\n    public fromArray(array: number[]): void\n    {\n        this.a = array[0];\n        this.b = array[1];\n        this.c = array[3];\n        this.d = array[4];\n        this.tx = array[2];\n        this.ty = array[5];\n    }\n\n    /**\n     * Sets the matrix properties.\n     * @param a - Matrix component\n     * @param b - Matrix component\n     * @param c - Matrix component\n     * @param d - Matrix component\n     * @param tx - Matrix component\n     * @param ty - Matrix component\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public set(a: number, b: number, c: number, d: number, tx: number, ty: number): this\n    {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n\n        return this;\n    }\n\n    /**\n     * Creates an array from the current Matrix object.\n     * @param transpose - Whether we need to transpose the matrix or not\n     * @param [out=new Float32Array(9)] - If provided the array will be assigned to out\n     * @returns The newly created array which contains the matrix\n     */\n    public toArray(transpose: boolean, out?: Float32Array): Float32Array\n    {\n        if (!this.array)\n        {\n            this.array = new Float32Array(9);\n        }\n\n        const array = out || this.array;\n\n        if (transpose)\n        {\n            array[0] = this.a;\n            array[1] = this.b;\n            array[2] = 0;\n            array[3] = this.c;\n            array[4] = this.d;\n            array[5] = 0;\n            array[6] = this.tx;\n            array[7] = this.ty;\n            array[8] = 1;\n        }\n        else\n        {\n            array[0] = this.a;\n            array[1] = this.c;\n            array[2] = this.tx;\n            array[3] = this.b;\n            array[4] = this.d;\n            array[5] = this.ty;\n            array[6] = 0;\n            array[7] = 0;\n            array[8] = 1;\n        }\n\n        return array;\n    }\n\n    /**\n     * Get a new position with the current transformation applied.\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\n     * @param pos - The origin\n     * @param {Point} [newPos] - The point that the new position is assigned to (allowed to be same as input)\n     * @returns {Point} The new point, transformed through this matrix\n     */\n    public apply<P extends PointData = Point>(pos: PointData, newPos?: P): P\n    {\n        newPos = (newPos || new Point()) as P;\n\n        const x = pos.x;\n        const y = pos.y;\n\n        newPos.x = (this.a * x) + (this.c * y) + this.tx;\n        newPos.y = (this.b * x) + (this.d * y) + this.ty;\n\n        return newPos;\n    }\n\n    /**\n     * Get a new position with the inverse of the current transformation applied.\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\n     * @param pos - The origin\n     * @param {Point} [newPos] - The point that the new position is assigned to (allowed to be same as input)\n     * @returns {Point} The new point, inverse-transformed through this matrix\n     */\n    public applyInverse<P extends PointData = Point>(pos: PointData, newPos?: P): P\n    {\n        newPos = (newPos || new Point()) as P;\n\n        const a = this.a;\n        const b = this.b;\n        const c = this.c;\n        const d = this.d;\n        const tx = this.tx;\n        const ty = this.ty;\n\n        const id = 1 / ((a * d) + (c * -b));\n\n        const x = pos.x;\n        const y = pos.y;\n\n        newPos.x = (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id);\n        newPos.y = (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id);\n\n        return newPos;\n    }\n\n    /**\n     * Translates the matrix on the x and y.\n     * @param x - How much to translate x by\n     * @param y - How much to translate y by\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public translate(x: number, y: number): this\n    {\n        this.tx += x;\n        this.ty += y;\n\n        return this;\n    }\n\n    /**\n     * Applies a scale transformation to the matrix.\n     * @param x - The amount to scale horizontally\n     * @param y - The amount to scale vertically\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public scale(x: number, y: number): this\n    {\n        this.a *= x;\n        this.d *= y;\n        this.c *= x;\n        this.b *= y;\n        this.tx *= x;\n        this.ty *= y;\n\n        return this;\n    }\n\n    /**\n     * Applies a rotation transformation to the matrix.\n     * @param angle - The angle in radians.\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public rotate(angle: number): this\n    {\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n\n        const a1 = this.a;\n        const c1 = this.c;\n        const tx1 = this.tx;\n\n        this.a = (a1 * cos) - (this.b * sin);\n        this.b = (a1 * sin) + (this.b * cos);\n        this.c = (c1 * cos) - (this.d * sin);\n        this.d = (c1 * sin) + (this.d * cos);\n        this.tx = (tx1 * cos) - (this.ty * sin);\n        this.ty = (tx1 * sin) + (this.ty * cos);\n\n        return this;\n    }\n\n    /**\n     * Appends the given Matrix to this Matrix.\n     * @param matrix - The matrix to append.\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public append(matrix: Matrix): this\n    {\n        const a1 = this.a;\n        const b1 = this.b;\n        const c1 = this.c;\n        const d1 = this.d;\n\n        this.a = (matrix.a * a1) + (matrix.b * c1);\n        this.b = (matrix.a * b1) + (matrix.b * d1);\n        this.c = (matrix.c * a1) + (matrix.d * c1);\n        this.d = (matrix.c * b1) + (matrix.d * d1);\n\n        this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\n        this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\n\n        return this;\n    }\n\n    /**\n     * Appends two matrix's and sets the result to this matrix. AB = A * B\n     * @param a - The matrix to append.\n     * @param b - The matrix to append.\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public appendFrom(a: Matrix, b: Matrix): this\n    {\n        const a1 = a.a;\n        const b1 = a.b;\n        const c1 = a.c;\n        const d1 = a.d;\n        const tx = a.tx;\n        const ty = a.ty;\n\n        const a2 = b.a;\n        const b2 = b.b;\n        const c2 = b.c;\n        const d2 = b.d;\n\n        this.a = (a1 * a2) + (b1 * c2);\n        this.b = (a1 * b2) + (b1 * d2);\n        this.c = (c1 * a2) + (d1 * c2);\n        this.d = (c1 * b2) + (d1 * d2);\n        this.tx = (tx * a2) + (ty * c2) + b.tx;\n        this.ty = (tx * b2) + (ty * d2) + b.ty;\n\n        return this;\n    }\n\n    /**\n     * Sets the matrix based on all the available properties\n     * @param x - Position on the x axis\n     * @param y - Position on the y axis\n     * @param pivotX - Pivot on the x axis\n     * @param pivotY - Pivot on the y axis\n     * @param scaleX - Scale on the x axis\n     * @param scaleY - Scale on the y axis\n     * @param rotation - Rotation in radians\n     * @param skewX - Skew on the x axis\n     * @param skewY - Skew on the y axis\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public setTransform(x: number, y: number, pivotX: number, pivotY: number, scaleX: number,\n        scaleY: number, rotation: number, skewX: number, skewY: number): this\n    {\n        this.a = Math.cos(rotation + skewY) * scaleX;\n        this.b = Math.sin(rotation + skewY) * scaleX;\n        this.c = -Math.sin(rotation - skewX) * scaleY;\n        this.d = Math.cos(rotation - skewX) * scaleY;\n\n        this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\n        this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\n\n        return this;\n    }\n\n    /**\n     * Prepends the given Matrix to this Matrix.\n     * @param matrix - The matrix to prepend\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public prepend(matrix: Matrix): this\n    {\n        const tx1 = this.tx;\n\n        if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1)\n        {\n            const a1 = this.a;\n            const c1 = this.c;\n\n            this.a = (a1 * matrix.a) + (this.b * matrix.c);\n            this.b = (a1 * matrix.b) + (this.b * matrix.d);\n            this.c = (c1 * matrix.a) + (this.d * matrix.c);\n            this.d = (c1 * matrix.b) + (this.d * matrix.d);\n        }\n\n        this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\n        this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\n\n        return this;\n    }\n\n    /**\n     * Decomposes the matrix (x, y, scaleX, scaleY, and rotation) and sets the properties on to a transform.\n     * @param transform - The transform to apply the properties to.\n     * @returns The transform with the newly applied properties\n     */\n    public decompose(transform: Transform): Transform\n    {\n        // sort out rotation / skew..\n        const a = this.a;\n        const b = this.b;\n        const c = this.c;\n        const d = this.d;\n        const pivot = transform.pivot;\n\n        const skewX = -Math.atan2(-c, d);\n        const skewY = Math.atan2(b, a);\n\n        const delta = Math.abs(skewX + skewY);\n\n        if (delta < 0.00001 || Math.abs(PI_2 - delta) < 0.00001)\n        {\n            transform.rotation = skewY;\n            transform.skew.x = transform.skew.y = 0;\n        }\n        else\n        {\n            transform.rotation = 0;\n            transform.skew.x = skewX;\n            transform.skew.y = skewY;\n        }\n\n        // next set scale\n        transform.scale.x = Math.sqrt((a * a) + (b * b));\n        transform.scale.y = Math.sqrt((c * c) + (d * d));\n\n        // next set position\n        transform.position.x = this.tx + ((pivot.x * a) + (pivot.y * c));\n        transform.position.y = this.ty + ((pivot.x * b) + (pivot.y * d));\n\n        return transform;\n    }\n\n    /**\n     * Inverts this matrix\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public invert(): this\n    {\n        const a1 = this.a;\n        const b1 = this.b;\n        const c1 = this.c;\n        const d1 = this.d;\n        const tx1 = this.tx;\n        const n = (a1 * d1) - (b1 * c1);\n\n        this.a = d1 / n;\n        this.b = -b1 / n;\n        this.c = -c1 / n;\n        this.d = a1 / n;\n        this.tx = ((c1 * this.ty) - (d1 * tx1)) / n;\n        this.ty = -((a1 * this.ty) - (b1 * tx1)) / n;\n\n        return this;\n    }\n\n    /** Checks if this matrix is an identity matrix */\n    public isIdentity(): boolean\n    {\n        return this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1 && this.tx === 0 && this.ty === 0;\n    }\n\n    /**\n     * Resets this Matrix to an identity (default) matrix.\n     * @returns This matrix. Good for chaining method calls.\n     */\n    public identity(): this\n    {\n        this.a = 1;\n        this.b = 0;\n        this.c = 0;\n        this.d = 1;\n        this.tx = 0;\n        this.ty = 0;\n\n        return this;\n    }\n\n    /**\n     * Creates a new Matrix object with the same values as this one.\n     * @returns A copy of this matrix. Good for chaining method calls.\n     */\n    public clone(): Matrix\n    {\n        const matrix = new Matrix();\n\n        matrix.a = this.a;\n        matrix.b = this.b;\n        matrix.c = this.c;\n        matrix.d = this.d;\n        matrix.tx = this.tx;\n        matrix.ty = this.ty;\n\n        return matrix;\n    }\n\n    /**\n     * Changes the values of the given matrix to be the same as the ones in this matrix\n     * @param matrix - The matrix to copy to.\n     * @returns The matrix given in parameter with its values updated.\n     */\n    public copyTo(matrix: Matrix): Matrix\n    {\n        matrix.a = this.a;\n        matrix.b = this.b;\n        matrix.c = this.c;\n        matrix.d = this.d;\n        matrix.tx = this.tx;\n        matrix.ty = this.ty;\n\n        return matrix;\n    }\n\n    /**\n     * Changes the values of the matrix to be the same as the ones in given matrix\n     * @param matrix - The matrix to copy from.\n     * @returns this\n     */\n    public copyFrom(matrix: Matrix): this\n    {\n        this.a = matrix.a;\n        this.b = matrix.b;\n        this.c = matrix.c;\n        this.d = matrix.d;\n        this.tx = matrix.tx;\n        this.ty = matrix.ty;\n\n        return this;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;\n    }\n    // #endif\n\n    /**\n     * A default (identity) matrix\n     * @readonly\n     */\n    static get IDENTITY(): Readonly<Matrix>\n    {\n        return identityMatrix.identity();\n    }\n\n    /**\n     * A temp matrix\n     * @readonly\n     */\n    static get shared(): Matrix\n    {\n        return tempMatrix.identity();\n    }\n}\n\nconst tempMatrix = new Matrix();\nconst identityMatrix = new Matrix();\n","import type { PointData } from './PointData';\nimport type { PointLike } from './PointLike';\n\n/** Observer used to listen for observable point changes. */\nexport interface Observer<T>\n{\n    /** Callback to call when the point has updated. */\n    onUpdate: (point?: T) => void;\n}\n/**\n * The ObservablePoint object represents a location in a two-dimensional coordinate system, where `x` represents\n * the position on the horizontal axis and `y` represents the position on the vertical axis.\n *\n * An `ObservablePoint` is a point that triggers a callback when the point's position is changed.\n */\nexport class ObservablePoint implements PointLike\n{\n    /** @internal */\n    public _x: number;\n    /** @internal */\n    public _y: number;\n\n    /** This object used to call the `onChange` callback when the point changes. */\n    private readonly _observer: Observer<ObservablePoint>;\n\n    /**\n     * Creates a new `ObservablePoint`\n     * @param observer - Observer to pass to listen for change events.\n     * @param {number} [x=0] - position of the point on the x axis\n     * @param {number} [y=0] - position of the point on the y axis\n     */\n    constructor(observer: Observer<ObservablePoint>, x?: number, y?: number)\n    {\n        this._x = x || 0;\n        this._y = y || 0;\n\n        this._observer = observer;\n    }\n\n    /**\n     * Creates a clone of this point.\n     * @param observer - Optional observer to pass to the new observable point.\n     * @returns a copy of this observable point\n     */\n    public clone(observer?: Observer<ObservablePoint>): ObservablePoint\n    {\n        return new ObservablePoint(observer ?? this._observer, this._x, this._y);\n    }\n\n    /**\n     * Sets the point to a new `x` and `y` position.\n     * If `y` is omitted, both `x` and `y` will be set to `x`.\n     * @param {number} [x=0] - position of the point on the x axis\n     * @param {number} [y=x] - position of the point on the y axis\n     * @returns The observable point instance itself\n     */\n    public set(x = 0, y = x): this\n    {\n        if (this._x !== x || this._y !== y)\n        {\n            this._x = x;\n            this._y = y;\n            this._observer.onUpdate();\n        }\n\n        return this;\n    }\n\n    /**\n     * Copies x and y from the given point (`p`)\n     * @param p - The point to copy from. Can be any of type that is or extends `PointData`\n     * @returns The observable point instance itself\n     */\n    public copyFrom(p: PointData): this\n    {\n        if (this._x !== p.x || this._y !== p.y)\n        {\n            this._x = p.x;\n            this._y = p.y;\n            this._observer.onUpdate();\n        }\n\n        return this;\n    }\n\n    /**\n     * Copies this point's x and y into that of the given point (`p`)\n     * @param p - The point to copy to. Can be any of type that is or extends `PointData`\n     * @returns The point (`p`) with values updated\n     */\n    public copyTo<T extends PointLike>(p: T): T\n    {\n        p.set(this._x, this._y);\n\n        return p;\n    }\n\n    /**\n     * Accepts another point (`p`) and returns `true` if the given point is equal to this point\n     * @param p - The point to check\n     * @returns Returns `true` if both `x` and `y` are equal\n     */\n    public equals(p: PointData): boolean\n    {\n        return (p.x === this._x) && (p.y === this._y);\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this._observer}]`;\n    }\n    // #endif\n\n    /** Position of the observable point on the x axis. */\n    get x(): number\n    {\n        return this._x;\n    }\n\n    set x(value: number)\n    {\n        if (this._x !== value)\n        {\n            this._x = value;\n            this._observer.onUpdate(this);\n        }\n    }\n\n    /** Position of the observable point on the y axis. */\n    get y(): number\n    {\n        return this._y;\n    }\n\n    set y(value: number)\n    {\n        if (this._y !== value)\n        {\n            this._y = value;\n            this._observer.onUpdate(this);\n        }\n    }\n}\n","const uidCache: Record<string, number> = {\n    default: -1,\n};\n\ntype UIDNames =\n    | 'default'\n    | 'texture'\n    | 'textureSource'\n    | 'textureResource'\n    | 'batcher' //\n    | 'graphicsContext' //\n    | 'graphicsView' //\n    | 'graphicsPath' //\n    | 'fillGradient' //\n    | 'fillPattern' //\n    | 'meshView' //\n    | 'renderable' //\n    | 'buffer' //\n    | 'bufferResource' //\n    | 'geometry'\n    | 'instructionSet' //\n    | 'renderTarget' //\n    | 'uniform' //\n    | 'spriteView' //\n    | 'textView' //\n    | 'tilingSpriteView'; // ;\n\n/**\n * Gets the next unique identifier\n * @param name - The name of the identifier.\n * @function uid\n * @returns {number} The next unique identifier to use.\n */\nexport function uid(name: UIDNames = 'default'): number\n{\n    if (uidCache[name] === undefined)\n    {\n        uidCache[name] = -1;\n    }\n\n    return ++uidCache[name];\n}\n\n","import type { Dict } from '../types';\n\n// A map of warning messages already fired\nconst warnings: Dict<boolean> = {};\n\n/** deprecation name for version 8.0.0 */\nexport const v8_0_0 = '8.0.0';\n\n/**\n * Helper for warning developers about deprecated features & settings.\n * A stack track for warnings is given; useful for tracking-down where\n * deprecated methods/properties/classes are being used within the code.\n * @memberof utils\n * @function deprecation\n * @param {string} version - The version where the feature became deprecated\n * @param {string} message - Message should include what is deprecated, where, and the new solution\n * @param {number} [ignoreDepth=3] - The number of steps to ignore at the top of the error stack\n *        this is mostly to ignore internal deprecation calls.\n */\nexport function deprecation(version: string, message: string, ignoreDepth = 3): void\n{\n    // Ignore duplicat\n    if (warnings[message])\n    {\n        return;\n    }\n\n    /* eslint-disable no-console */\n    let stack = new Error().stack;\n\n    // Handle IE < 10 and Safari < 6\n    if (typeof stack === 'undefined')\n    {\n        console.warn('PixiJS Deprecation Warning: ', `${message}\\nDeprecated since v${version}`);\n    }\n    else\n    {\n        // chop off the stack trace which includes PixiJS internal calls\n        stack = stack.split('\\n').splice(ignoreDepth).join('\\n');\n\n        if (console.groupCollapsed)\n        {\n            console.groupCollapsed(\n                '%cPixiJS Deprecation Warning: %c%s',\n                'color:#614108;background:#fffbe6',\n                'font-weight:normal;color:#614108;background:#fffbe6',\n                `${message}\\nDeprecated since v${version}`\n            );\n            console.warn(stack);\n            console.groupEnd();\n        }\n        else\n        {\n            console.warn('PixiJS Deprecation Warning: ', `${message}\\nDeprecated since v${version}`);\n            console.warn(stack);\n        }\n    }\n    /* eslint-enable no-console */\n\n    warnings[message] = true;\n}\n","/**\n * Remove items from a javascript array without generating garbage\n * @function removeItems\n * @memberof utils\n * @param {Array<any>} arr - Array to remove elements from\n * @param {number} startIdx - starting index\n * @param {number} removeCount - how many to remove\n */\nexport function removeItems(arr: any[], startIdx: number, removeCount: number): void\n{\n    const length = arr.length;\n    let i;\n\n    if (startIdx >= length || removeCount === 0)\n    {\n        return;\n    }\n\n    removeCount = (startIdx + removeCount > length ? length - startIdx : removeCount);\n\n    const len = length - removeCount;\n\n    for (i = startIdx; i < len; ++i)\n    {\n        arr[i] = arr[i + removeCount];\n    }\n\n    arr.length = len;\n}\n","import { removeItems } from '../../../utils/data/removeItems';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Container } from '../Container';\n\nexport interface ChildrenHelperMixin\n{\n    allowChildren: boolean;\n    addChild<U extends Container[]>(...children: U): U[0];\n    removeChild<U extends Container[]>(...children: U): U[0];\n    removeChildren(beginIndex?: number, endIndex?: number): Container[];\n    removeChildAt<U extends Container>(index: number): U;\n    getChildAt<U extends Container>(index: number): U;\n    setChildIndex(child: Container, index: number): void;\n    getChildIndex(child: Container): number;\n    addChildAt<U extends Container>(child: U, index: number): U;\n    swapChildren<U extends Container>(child: U, child2: U): void;\n    removeFromParent(): void;\n}\n\nexport const childrenHelperMixin: Partial<Container> = {\n\n    allowChildren: true,\n\n    /**\n     * Removes all children from this container that are within the begin and end indexes.\n     * @param beginIndex - The beginning position.\n     * @param endIndex - The ending position. Default value is size of the container.\n     * @returns - List of removed children\n     * @memberof Container#\n     */\n    removeChildren(beginIndex = 0, endIndex?: number): Container[]\n    {\n        const end = endIndex ?? this.children.length;\n        const range = end - beginIndex;\n        const removed: Container[] = [];\n\n        if (range > 0 && range <= end)\n        {\n            for (let i = end - 1; i >= beginIndex; i--)\n            {\n                const child = this.children[i];\n\n                if (!child) continue;\n\n                if (this.layerGroup)\n                {\n                    this.layerGroup.removeChild(child);\n                }\n\n                removed.push(child);\n                child.parent = null;\n            }\n\n            removeItems(this.children, beginIndex, end);\n\n            for (let i = 0; i < removed.length; ++i)\n            {\n                this.emit('childRemoved', removed[i], this, i);\n                removed[i].emit('removed', this);\n            }\n\n            return removed;\n        }\n        else if (range === 0 && this.children.length === 0)\n        {\n            return removed;\n        }\n\n        throw new RangeError('removeChildren: numeric values are outside the acceptable range.');\n    },\n\n    /**\n     * Removes a child from the specified index position.\n     * @param index - The index to get the child from\n     * @returns The child that was removed.\n     * @memberof Container#\n     */\n    removeChildAt<U extends Container>(index: number): U\n    {\n        const child = this.getChildAt(index);\n\n        return this.removeChild(child) as U;\n    },\n\n    /**\n     * Returns the child at the specified index\n     * @param index - The index to get the child at\n     * @returns - The child at the given index, if any.\n     * @memberof Container#\n     */\n    getChildAt<U extends Container>(index: number): U\n    {\n        if (index < 0 || index >= this.children.length)\n        {\n            throw new Error(`getChildAt: Index (${index}) does not exist.`);\n        }\n\n        return this.children[index] as U;\n    },\n\n    /**\n     * Changes the position of an existing child in the container container\n     * @param child - The child Container instance for which you want to change the index number\n     * @param index - The resulting index number for the child container\n     * @memberof Container#\n     */\n    setChildIndex(child: Container, index: number): void\n    {\n        if (index < 0 || index >= this.children.length)\n        {\n            throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);\n        }\n\n        this.getChildIndex(child); // check if child exists\n        this.addChildAt(child, index);\n    },\n\n    /**\n     * Returns the index position of a child Container instance\n     * @param child - The Container instance to identify\n     * @returns - The index position of the child container to identify\n     * @memberof Container#\n     */\n    getChildIndex(child: Container): number\n    {\n        const index = this.children.indexOf(child);\n\n        if (index === -1)\n        {\n            throw new Error('The supplied Container must be a child of the caller');\n        }\n\n        return index;\n    },\n\n    /**\n     * Adds a child to the container at a specified index. If the index is out of bounds an error will be thrown.\n     * If the child is already in this container, it will be moved to the specified index.\n     * @param {Container} child - The child to add.\n     * @param {number} index - The absolute index where the child will be positioned at the end of the operation.\n     * @returns {Container} The child that was added.\n     * @memberof Container#\n     */\n    addChildAt<U extends Container>(child: U, index: number): U\n    {\n        if (!this.allowChildren)\n        {\n            deprecation(v8_0_0, 'addChildAt: Only Containers will be allowed to add children in v8.0.0');\n        }\n\n        const { children } = this;\n\n        if (index < 0 || index > children.length)\n        {\n            throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${children.length}`);\n        }\n\n        // TODO - check if child is already in the list?\n        // we should be able to optimise this!\n\n        if (child.parent)\n        {\n            const currentIndex = child.parent.children.indexOf(child);\n\n            // If this child is in the container and in the same position, do nothing\n            if (child.parent === this && currentIndex === index)\n            {\n                return child;\n            }\n\n            if (currentIndex !== -1)\n            {\n                child.parent.children.splice(currentIndex, 1);\n            }\n        }\n\n        if (index === children.length)\n        {\n            children.push(child);\n        }\n        else\n        {\n            children.splice(index, 0, child);\n        }\n\n        child.parent = this;\n        child.didChange = true;\n        child.didViewUpdate = false;\n        child._updateFlags = 0b1111;\n\n        if (this.layerGroup)\n        {\n            this.layerGroup.addChild(child);\n        }\n\n        if (this.sortableChildren) this.sortDirty = true;\n\n        this.emit('childAdded', child, this, index);\n        child.emit('added', this);\n\n        return child;\n    },\n    /**\n     * Swaps the position of 2 Containers within this container.\n     * @param child - First container to swap\n     * @param child2 - Second container to swap\n     */\n    swapChildren<U extends Container>(child: U, child2: U): void\n    {\n        if (child === child2)\n        {\n            return;\n        }\n\n        const index1 = this.getChildIndex(child);\n        const index2 = this.getChildIndex(child2);\n\n        this.children[index1] = child2;\n        this.children[index2] = child;\n    },\n    /** Remove the Container from its parent Container. If the Container has no parent, do nothing. */\n    removeFromParent()\n    {\n        this.parent?.removeChild(this);\n    }\n} as Container;\n","import type { Effect } from '../scene/container/Effect';\nimport type { Filter } from './Filter';\n\nexport class FilterEffect implements Effect\n{\n    public filters: Filter[];\n    public pipe = 'filter';\n    public priority = 1;\n\n    constructor(options?: {filters: Filter[]})\n    {\n        this.filters = options?.filters;\n    }\n\n    public destroy(): void\n    {\n        for (let i = 0; i < this.filters.length; i++)\n        {\n            this.filters[i].destroy();\n        }\n\n        this.filters = null;\n    }\n}\n\nconst filterEffectsPool: FilterEffect[] = [];\n\nexport function getFilterEffect(filters: Filter[])\n{\n    const filterEffect = filterEffectsPool.pop() || new FilterEffect();\n\n    filterEffect.filters = filters;\n\n    return filterEffect;\n}\n\nexport function returnFilterEffect(effect: FilterEffect)\n{\n    effect.filters = null;\n\n    filterEffectsPool.push(effect);\n}\n","export class Pool<T extends PoolItem>\n{\n    public readonly _classType: PoolItemConstructor<T>;\n    private readonly _pool: T[] = [];\n    private _count = 0;\n    private _index = 0;\n\n    constructor(ClassType: PoolItemConstructor<T>, initialSize?: number)\n    {\n        this._classType = ClassType;\n\n        if (initialSize)\n        {\n            this.prepopulate(initialSize);\n        }\n    }\n\n    public prepopulate(total: number): void\n    {\n        for (let i = 0; i < total; i++)\n        {\n            this._pool[this._index++] = new this._classType();\n        }\n\n        this._count += total;\n    }\n\n    public get(data?: unknown): T\n    {\n        let item;\n\n        if (this._index > 0)\n        {\n            item = this._pool[--this._index];\n        }\n        else\n        {\n            item = new this._classType();\n        }\n\n        item.init?.(data);\n\n        return item;\n    }\n\n    public return(item: T): void\n    {\n        item.reset?.();\n\n        this._pool[this._index++] = item;\n    }\n\n    get totalSize(): number\n    {\n        return this._count;\n    }\n\n    get totalFree(): number\n    {\n        return this._pool.length;\n    }\n\n    get totalUsed(): number\n    {\n        return this._count - this._pool.length;\n    }\n}\n\nexport type PoolItem = {\n    init?: (data?: any) => void;\n    reset?: () => void;\n};\n\nexport type PoolItemConstructor<K extends PoolItem> = new () => K;\n","import { Pool } from './Pool';\n\nimport type { PoolItem, PoolItemConstructor } from './Pool';\n\nexport type PoolConstructor<T extends PoolItem> = new () => Pool<T>;\n\nexport class PoolGroupClass\n{\n    private readonly _poolsByClass: Map<PoolItemConstructor<unknown>, Pool<unknown>> = new Map();\n\n    public prepopulate<T>(Class: PoolItemConstructor<T>, total: number): void\n    {\n        const classPool = this.getPool(Class);\n\n        classPool.prepopulate(total);\n    }\n\n    public get<T>(Class: PoolItemConstructor<T>, data?: unknown): T\n    {\n        const pool = this.getPool(Class);\n\n        return pool.get(data) as T;\n    }\n\n    public return(item: PoolItem): void\n    {\n        const pool = this.getPool(item.constructor as PoolItemConstructor<PoolItem>);\n\n        pool.return(item);\n    }\n\n    public getPool<T>(ClassType: PoolItemConstructor<T>): Pool<T>\n    {\n        if (!this._poolsByClass.has(ClassType))\n        {\n            this._poolsByClass.set(ClassType, new Pool(ClassType));\n        }\n\n        return this._poolsByClass.get(ClassType) as Pool<T>;\n    }\n\n    /** gets the usage stats of each pool in the system */\n    public stats(): Record<string, {free: number; used: number; size: number}>\n    {\n        const stats = {} as Record<string, {free: number; used: number; size: number}>;\n\n        this._poolsByClass.forEach((pool) =>\n        {\n            // TODO: maybe we should allow the name to be set when `createEntity` is called\n            const name = stats[pool._classType.name]\n                ? pool._classType.name + (pool._classType as any).ID : pool._classType.name;\n\n            stats[name] = {\n                free: pool.totalFree,\n                used: pool.totalUsed,\n                size: pool.totalSize,\n            };\n        });\n\n        return stats;\n    }\n}\n\nexport const BigPool = new PoolGroupClass();\n","import { extensions, ExtensionType } from '../../extensions/Extensions';\nimport { BigPool } from '../../utils/pool/PoolGroup';\n\nimport type { Effect, EffectConstructor } from '../../scene/container/Effect';\nimport type { PoolItem, PoolItemConstructor } from '../../utils/pool/Pool';\n\ninterface MaskConversionTest\n{\n    test: (item: any) => boolean;\n    maskClass: new (item: any) => Effect & PoolItem;\n}\n\nexport class MaskEffectManagerClass\n{\n    /**\n     * @private\n     */\n    public readonly _effectClasses: EffectConstructor[] = [];\n    private readonly _tests: MaskConversionTest[] = [];\n    private _initialized = false;\n\n    public init()\n    {\n        if (this._initialized) return;\n\n        this._initialized = true;\n\n        this._effectClasses.forEach((test) =>\n        {\n            this.add({\n                test: test.test,\n                maskClass: test\n            });\n        });\n    }\n\n    public add(test: MaskConversionTest)\n    {\n        this._tests.push(test);\n    }\n\n    public getMaskEffect(item: any): Effect\n    {\n        if (!this._initialized) this.init();\n\n        for (let i = 0; i < this._tests.length; i++)\n        {\n            const test = this._tests[i];\n\n            if (test.test(item))\n            {\n                return BigPool.get(test.maskClass as PoolItemConstructor<Effect & PoolItem>, item);\n            }\n        }\n\n        return item;\n    }\n\n    public returnMaskEffect(effect: Effect & PoolItem)\n    {\n        BigPool.return(effect);\n    }\n}\n\nexport const MaskEffectManager = new MaskEffectManagerClass();\n\n// Handle registration of extensions\nextensions\n    .handleByList(ExtensionType.MaskEffect, MaskEffectManager._effectClasses);\n","import { getFilterEffect, returnFilterEffect } from '../../../filters/FilterEffect';\nimport { MaskEffectManager } from '../../../rendering/mask/MaskEffectManager';\n\nimport type { Filter } from '../../../filters/Filter';\nimport type { FilterEffect } from '../../../filters/FilterEffect';\nimport type { Container } from '../Container';\nimport type { Effect } from '../Effect';\n\nexport interface EffectsMixinConstructor\n{\n    mask?: number | Container;\n    filters?: Filter | Filter[];\n    effects?: Effect[];\n}\nexport interface EffectsMixin extends Required<EffectsMixinConstructor>\n{\n    _mask?: {mask: unknown, effect: Effect};\n    _filters?: {filters: Filter[], effect: FilterEffect};\n    addEffect(effect: Effect): void;\n    removeEffect(effect: Effect): void;\n}\n\nexport const effectsMixin: Partial<Container> = {\n    _mask: null,\n    _filters: null,\n    effects: [],\n\n    addEffect(effect: Effect)\n    {\n        const index = this.effects.indexOf(effect);\n\n        if (index !== -1) return; // already exists!\n\n        this.effects.push(effect);\n\n        this.effects.sort((a, b) => a.priority - b.priority);\n\n        if (!this.isLayerRoot && this.layerGroup)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n\n        this._updateIsSimple();\n    },\n    removeEffect(effect: Effect)\n    {\n        const index = this.effects.indexOf(effect);\n\n        if (index === -1) return; // already exists!\n\n        this.effects.splice(index, 1);\n\n        if (!this.isLayerRoot && this.layerGroup)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n\n        this._updateIsSimple();\n    },\n\n    set mask(value: number | Container)\n    {\n        this._mask ||= { mask: null, effect: null };\n\n        if (this._mask.mask === value) return;\n\n        if (this._mask.effect)\n        {\n            this.removeEffect(this._mask.effect);\n\n            MaskEffectManager.returnMaskEffect(this._mask.effect);\n\n            this._mask.effect = null;\n        }\n\n        this._mask.mask = value;\n\n        if (value === null || value === undefined) return;\n\n        const effect = MaskEffectManager.getMaskEffect(value);\n\n        this._mask.effect = effect;\n\n        this.addEffect(effect);\n    },\n\n    get mask(): unknown\n    {\n        return this._mask?.mask;\n    },\n\n    set filters(value: Filter | Filter[])\n    {\n        if (!Array.isArray(value) && value !== null) value = [value];\n\n        // TODO - not massively important, but could optimise here\n        // by reusing the same effect.. rather than adding and removing from the pool!\n        this._filters ||= { filters: null, effect: null };\n\n        if (this._filters.filters === value) return;\n\n        if (this._filters.effect)\n        {\n            this.removeEffect(this._filters.effect);\n            returnFilterEffect(this._filters.effect);\n            this._filters.effect = null;\n        }\n\n        this._filters.filters = value as Filter[];\n\n        if (!value) return;\n\n        const effect = getFilterEffect(value as Filter[]);\n\n        this._filters.effect = effect;\n\n        this.addEffect(effect);\n    },\n\n    get filters(): Filter[]\n    {\n        return this._filters?.filters;\n    }\n} as Container;\n","import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Container } from '../Container';\n\nexport interface FindMixinConstructor\n{\n    label?: string;\n}\nexport interface FindMixin extends Required<FindMixinConstructor>\n{\n    /**\n     * @deprecated since 8.0.0\n     * @see Container#label\n     */\n    name: string;\n    getChildByName(label: RegExp | string, deep?: boolean): Container | null;\n    getChildByLabel(label: RegExp | string, deep?: boolean): Container | null;\n    getChildrenByLabel(label: RegExp | string, deep?: boolean, out?: Container[]): Container[];\n}\n\nexport const findMixin: Partial<Container> = {\n    label: null,\n\n    /** @deprecated since 8.0.0 */\n    get name(): string\n    {\n        deprecation(v8_0_0, 'Container.name property has been removed, use Container.label instead');\n\n        return this.label;\n    },\n    /** @deprecated since 8.0.0 */\n    set name(value: string)\n    {\n        deprecation(v8_0_0, 'Container.name property has been removed, use Container.label instead');\n\n        this.label = value;\n    },\n\n    /**\n     * @method getChildByName\n     * @memberof Container#\n     * @deprecated since 8.0.0\n     * @see Container#getChildByLabel\n     * @param {string} name - Instance name.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @returns {Container} The child with the specified name.\n     */\n    getChildByName(name: string, deep = false): Container | null\n    {\n        return this.getChildByLabel(name, deep);\n    },\n    /**\n     * Returns the first child in the container with the specified label.\n     *\n     * Recursive searches are done in a pre-order traversal.\n     * @method getChildByLabel\n     * @memberof Container#\n     * @param {string|RegExp} label - Instance label.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @returns {Container} The child with the specified label.\n     */\n    getChildByLabel(label: string | RegExp, deep = false): Container | null\n    {\n        const children = this.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (child.label === label || (label instanceof RegExp && label.test(child.label))) return child;\n        }\n\n        if (deep)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                const child = children[i];\n                const found = child.getChildByLabel(label, true);\n\n                if (found)\n                {\n                    return found;\n                }\n            }\n        }\n\n        return null;\n    },\n\n    /**\n     * Returns all children in the container with the specified label.\n     * @method getChildrenByLabel\n     * @memberof Container#\n     * @param {string|RegExp} label - Instance label.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @param {Container[]} [out=[]] - The array to store matching children in.\n     * @returns {Container[]} An array of children with the specified label.\n     */\n    getChildrenByLabel(label: string | RegExp, deep = false, out = []): Container[]\n    {\n        const children = this.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (child.label === label || (label instanceof RegExp && label.test(child.label)))\n            {\n                out.push(child);\n            }\n        }\n\n        if (deep)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                children[i].getChildrenByLabel(label, true, out);\n            }\n        }\n\n        return out;\n    },\n} as Container;\n","// import { SHAPES } from '../const';\nimport { Point } from '../point/Point';\n\nimport type { Bounds } from '../../scene/container/bounds/Bounds';\nimport type { Matrix } from '../matrix/Matrix';\nimport type { SHAPE_PRIMITIVE } from '../misc/const';\nimport type { ShapePrimitive } from './ShapePrimitive';\n\nconst tempPoints = [new Point(), new Point(), new Point(), new Point()];\n\n/**\n * Rectangle object is an area defined by its position, as indicated by its top-left corner\n * point (x, y) and by its width and its height.\n */\nexport class Rectangle implements ShapePrimitive\n{\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'rectangle'\n     */\n    public readonly type: SHAPE_PRIMITIVE = 'rectangle';\n\n    /** @default 0 */\n    public x: number;\n\n    /** @default 0 */\n    public y: number;\n    /** @default 0 */\n    public width: number;\n\n    /** @default 0 */\n    public height: number;\n\n    /**\n     * @param x - The X coordinate of the upper-left corner of the rectangle\n     * @param y - The Y coordinate of the upper-left corner of the rectangle\n     * @param width - The overall width of the rectangle\n     * @param height - The overall height of the rectangle\n     */\n    constructor(x: string | number = 0, y: string | number = 0, width: string | number = 0, height: string | number = 0)\n    {\n        this.x = Number(x);\n        this.y = Number(y);\n        this.width = Number(width);\n        this.height = Number(height);\n    }\n\n    /** Returns the left edge of the rectangle. */\n    get left(): number\n    {\n        return this.x;\n    }\n\n    /** Returns the right edge of the rectangle. */\n    get right(): number\n    {\n        return this.x + this.width;\n    }\n\n    /** Returns the top edge of the rectangle. */\n    get top(): number\n    {\n        return this.y;\n    }\n\n    /** Returns the bottom edge of the rectangle. */\n    get bottom(): number\n    {\n        return this.y + this.height;\n    }\n\n    /** A constant empty rectangle. */\n    static get EMPTY(): Rectangle\n    {\n        return new Rectangle(0, 0, 0, 0);\n    }\n\n    /**\n     * Creates a clone of this Rectangle\n     * @returns a copy of the rectangle\n     */\n    public clone(): Rectangle\n    {\n        return new Rectangle(this.x, this.y, this.width, this.height);\n    }\n\n    /**\n     * Converts a Bounds object to a Rectangle object.\n     * @param bounds - The bounds to copy and convert to a rectangle.\n     * @returns Returns itself.\n     */\n    public copyFromBounds(bounds: Bounds): this\n    {\n        this.x = bounds.minX;\n        this.y = bounds.minY;\n        this.width = bounds.maxX - bounds.minX;\n        this.height = bounds.maxY - bounds.minY;\n\n        return this;\n    }\n\n    /**\n     * Copies another rectangle to this one.\n     * @param rectangle - The rectangle to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(rectangle: Rectangle): Rectangle\n    {\n        this.x = rectangle.x;\n        this.y = rectangle.y;\n        this.width = rectangle.width;\n        this.height = rectangle.height;\n\n        return this;\n    }\n\n    /**\n     * Copies this rectangle to another one.\n     * @param rectangle - The rectangle to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(rectangle: Rectangle): Rectangle\n    {\n        rectangle.copyFrom(this);\n\n        return rectangle;\n    }\n\n    /**\n     * Checks whether the x and y coordinates given are contained within this Rectangle\n     * @param x - The X coordinate of the point to test\n     * @param y - The Y coordinate of the point to test\n     * @returns Whether the x/y coordinates are within this Rectangle\n     */\n    public contains(x: number, y: number): boolean\n    {\n        if (this.width <= 0 || this.height <= 0)\n        {\n            return false;\n        }\n\n        if (x >= this.x && x < this.x + this.width)\n        {\n            if (y >= this.y && y < this.y + this.height)\n            {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Determines whether the `other` Rectangle transformed by `transform` intersects with `this` Rectangle object.\n     * Returns true only if the area of the intersection is >0, this means that Rectangles\n     * sharing a side are not overlapping. Another side effect is that an arealess rectangle\n     * (width or height equal to zero) can't intersect any other rectangle.\n     * @param {Rectangle} other - The Rectangle to intersect with `this`.\n     * @param {Matrix} transform - The transformation matrix of `other`.\n     * @returns {boolean} A value of `true` if the transformed `other` Rectangle intersects with `this`; otherwise `false`.\n     */\n    public intersects(other: Rectangle, transform?: Matrix): boolean\n    {\n        if (!transform)\n        {\n            const x0 = this.x < other.x ? other.x : this.x;\n            const x1 = this.right > other.right ? other.right : this.right;\n\n            if (x1 <= x0)\n            {\n                return false;\n            }\n\n            const y0 = this.y < other.y ? other.y : this.y;\n            const y1 = this.bottom > other.bottom ? other.bottom : this.bottom;\n\n            return y1 > y0;\n        }\n\n        const x0 = this.left;\n        const x1 = this.right;\n        const y0 = this.top;\n        const y1 = this.bottom;\n\n        if (x1 <= x0 || y1 <= y0)\n        {\n            return false;\n        }\n\n        const lt = tempPoints[0].set(other.left, other.top);\n        const lb = tempPoints[1].set(other.left, other.bottom);\n        const rt = tempPoints[2].set(other.right, other.top);\n        const rb = tempPoints[3].set(other.right, other.bottom);\n\n        if (rt.x <= lt.x || lb.y <= lt.y)\n        {\n            return false;\n        }\n\n        const s = Math.sign((transform.a * transform.d) - (transform.b * transform.c));\n\n        if (s === 0)\n        {\n            return false;\n        }\n\n        transform.apply(lt, lt);\n        transform.apply(lb, lb);\n        transform.apply(rt, rt);\n        transform.apply(rb, rb);\n\n        if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0\n            || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1\n            || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0\n            || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1)\n        {\n            return false;\n        }\n\n        const nx = s * (lb.y - lt.y);\n        const ny = s * (lt.x - lb.x);\n        const n00 = (nx * x0) + (ny * y0);\n        const n10 = (nx * x1) + (ny * y0);\n        const n01 = (nx * x0) + (ny * y1);\n        const n11 = (nx * x1) + (ny * y1);\n\n        if (Math.max(n00, n10, n01, n11) <= (nx * lt.x) + (ny * lt.y)\n            || Math.min(n00, n10, n01, n11) >= (nx * rb.x) + (ny * rb.y))\n        {\n            return false;\n        }\n\n        const mx = s * (lt.y - rt.y);\n        const my = s * (rt.x - lt.x);\n        const m00 = (mx * x0) + (my * y0);\n        const m10 = (mx * x1) + (my * y0);\n        const m01 = (mx * x0) + (my * y1);\n        const m11 = (mx * x1) + (my * y1);\n\n        if (Math.max(m00, m10, m01, m11) <= (mx * lt.x) + (my * lt.y)\n            || Math.min(m00, m10, m01, m11) >= (mx * rb.x) + (my * rb.y))\n        {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Pads the rectangle making it grow in all directions.\n     * If paddingY is omitted, both paddingX and paddingY will be set to paddingX.\n     * @param paddingX - The horizontal padding amount.\n     * @param paddingY - The vertical padding amount.\n     * @returns Returns itself.\n     */\n    public pad(paddingX = 0, paddingY = paddingX): this\n    {\n        this.x -= paddingX;\n        this.y -= paddingY;\n\n        this.width += paddingX * 2;\n        this.height += paddingY * 2;\n\n        return this;\n    }\n\n    /**\n     * Fits this rectangle around the passed one.\n     * @param rectangle - The rectangle to fit.\n     * @returns Returns itself.\n     */\n    public fit(rectangle: Rectangle): this\n    {\n        const x1 = Math.max(this.x, rectangle.x);\n        const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);\n        const y1 = Math.max(this.y, rectangle.y);\n        const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);\n\n        this.x = x1;\n        this.width = Math.max(x2 - x1, 0);\n        this.y = y1;\n        this.height = Math.max(y2 - y1, 0);\n\n        return this;\n    }\n\n    /**\n     * Enlarges rectangle that way its corners lie on grid\n     * @param resolution - resolution\n     * @param eps - precision\n     * @returns Returns itself.\n     */\n    public ceil(resolution = 1, eps = 0.001): this\n    {\n        const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;\n        const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;\n\n        this.x = Math.floor((this.x + eps) * resolution) / resolution;\n        this.y = Math.floor((this.y + eps) * resolution) / resolution;\n\n        this.width = x2 - this.x;\n        this.height = y2 - this.y;\n\n        return this;\n    }\n\n    /**\n     * Enlarges this rectangle to include the passed rectangle.\n     * @param rectangle - The rectangle to include.\n     * @returns Returns itself.\n     */\n    public enlarge(rectangle: Rectangle): this\n    {\n        const x1 = Math.min(this.x, rectangle.x);\n        const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);\n        const y1 = Math.min(this.y, rectangle.y);\n        const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);\n\n        this.x = x1;\n        this.width = x2 - x1;\n        this.y = y1;\n        this.height = y2 - y1;\n\n        return this;\n    }\n\n    /**\n     * Returns the framing rectangle of the rectangle as a Rectangle object\n     * @param out - optional rectangle to store the result\n     * @returns The framing rectangle\n     */\n    public getBounds(out?: Rectangle): Rectangle\n    {\n        out = out || new Rectangle();\n        out.copyFrom(this);\n\n        return out;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;\n    }\n    // #endif\n}\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Rectangle } from '../../../maths/shapes/Rectangle';\n\n// TODO optimisations\n// 1 - setMatrix could set a reference directly, this would save a copy op per object\n// 2 - push and pop matrix could be optimised to use an index counter\n// 3 - get rectangle could use a dirty flag, rather than setting the data each time is called\n// 4 - push matrix can avoid the copy op\n// 5 - pop matrix can avoid the copy op\n// 6 - getFrame ALWAYS assumes a matrix, could be optimised to avoid the matrix calculation if not needed\nexport class Bounds\n{\n    public minX = Infinity;\n\n    public minY = Infinity;\n\n    public maxX = -Infinity;\n\n    public maxY = -Infinity;\n\n    // todo optimise.. lots of bounds wont need this!\n    private readonly _matrixStack: Matrix[] = [];\n    public matrix = new Matrix();\n\n    private _rectangle: Rectangle;\n\n    constructor(minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity)\n    {\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    get rectangle(): Rectangle\n    {\n        if (!this._rectangle)\n        {\n            this._rectangle = new Rectangle();\n        }\n\n        const rectangle = this._rectangle;\n\n        if (this.minX > this.maxX || this.minY > this.maxY)\n        {\n            rectangle.x = 0;\n            rectangle.y = 0;\n            rectangle.width = 0;\n            rectangle.height = 0;\n        }\n        else\n        {\n            rectangle.copyFromBounds(this);\n        }\n\n        return rectangle;\n    }\n\n    public clear(): void\n    {\n        this.minX = Infinity;\n        this.minY = Infinity;\n        this.maxX = -Infinity;\n        this.maxY = -Infinity;\n\n        this._matrixStack.length = 0;\n        this.matrix.identity();\n    }\n\n    public pushMatrix(matrix: Matrix)\n    {\n        this._matrixStack.push(matrix);\n\n        if (this._matrixStack.length > 1)\n        {\n            this.matrix.copyFrom(this._matrixStack[this._matrixStack.length - 2]);\n\n            this.matrix.append(matrix);\n        }\n        else\n        {\n            this.matrix.copyFrom(matrix);\n        }\n    }\n\n    public popMatrix()\n    {\n        this._matrixStack.pop();\n\n        if (this._matrixStack.length > 1)\n        {\n            this.matrix.copyFrom(this._matrixStack[this._matrixStack.length - 2]);\n\n            this.matrix.append(this._matrixStack[this._matrixStack.length - 1]);\n        }\n        else if (this._matrixStack.length === 1)\n        {\n            this.matrix.copyFrom(this._matrixStack[0]);\n        }\n        else\n        {\n            this.matrix.identity();\n        }\n    }\n\n    public setMatrix(matrix: Matrix): void\n    {\n        this.matrix.copyFrom(matrix);\n    }\n\n    public set(x0: number, y0: number, x1: number, y1: number)\n    {\n        this.minX = x0;\n        this.minY = y0;\n        this.maxX = x1;\n        this.maxY = y1;\n    }\n\n    /**\n     * Adds sprite frame\n     * @param x0 - left X of frame\n     * @param y0 - top Y of frame\n     * @param x1 - right X of frame\n     * @param y1 - bottom Y of frame\n     */\n    public addFrame(x0: number, y0: number, x1: number, y1: number)\n    {\n        const matrix = this.matrix;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        let minX = this.minX;\n        let minY = this.minY;\n        let maxX = this.maxX;\n        let maxY = this.maxY;\n\n        let x = (a * x0) + (c * y0) + tx;\n        let y = (b * x0) + (d * y0) + ty;\n\n        minX = x < minX ? x : minX;\n        minY = y < minY ? y : minY;\n        maxX = x > maxX ? x : maxX;\n        maxY = y > maxY ? y : maxY;\n\n        x = (a * x1) + (c * y0) + tx;\n        y = (b * x1) + (d * y0) + ty;\n        minX = x < minX ? x : minX;\n        minY = y < minY ? y : minY;\n        maxX = x > maxX ? x : maxX;\n        maxY = y > maxY ? y : maxY;\n\n        x = (a * x0) + (c * y1) + tx;\n        y = (b * x0) + (d * y1) + ty;\n        minX = x < minX ? x : minX;\n        minY = y < minY ? y : minY;\n        maxX = x > maxX ? x : maxX;\n        maxY = y > maxY ? y : maxY;\n\n        x = (a * x1) + (c * y1) + tx;\n        y = (b * x1) + (d * y1) + ty;\n        minX = x < minX ? x : minX;\n        minY = y < minY ? y : minY;\n        maxX = x > maxX ? x : maxX;\n        maxY = y > maxY ? y : maxY;\n\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    public addRect(rect: Rectangle)\n    {\n        this.addFrame(rect.x, rect.y, rect.x + rect.width, rect.y + rect.height);\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        this.addFrame(bounds.minX, bounds.minY, bounds.maxX, bounds.maxY);\n    }\n\n    public addBoundsMask(mask: Bounds): void\n    {\n        this.minX = this.minX > mask.minX ? this.minX : mask.minX;\n        this.minY = this.minY > mask.minY ? this.minY : mask.minY;\n        this.maxX = this.maxX < mask.maxX ? this.maxX : mask.maxX;\n        this.maxY = this.maxY < mask.maxY ? this.maxY : mask.maxY;\n    }\n\n    public applyMatrix(matrix: Matrix): void\n    {\n        const minX = this.minX;\n        const minY = this.minY;\n        const maxX = this.maxX;\n        const maxY = this.maxY;\n\n        // multiple bounds by matrix\n        const { a, b, c, d, tx, ty } = matrix;\n\n        let x = (a * minX) + (c * minY) + tx;\n        let y = (b * minX) + (d * minY) + ty;\n\n        this.minX = x;\n        this.minY = y;\n        this.maxX = x;\n        this.maxY = y;\n\n        x = (a * maxX) + (c * minY) + tx;\n        y = (b * maxX) + (d * minY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n\n        x = (a * minX) + (c * maxY) + tx;\n        y = (b * minX) + (d * maxY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n\n        x = (a * maxX) + (c * maxY) + tx;\n        y = (b * maxX) + (d * maxY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n    }\n\n    public fit(rect: Rectangle): this\n    {\n        if (this.minX < rect.left) this.minX = rect.left;\n        if (this.maxX > rect.right) this.maxX = rect.right;\n\n        if (this.minY < rect.top) this.minY = rect.top;\n        if (this.maxY > rect.bottom) this.maxY = rect.bottom;\n\n        return this;\n    }\n\n    public pad(paddingX: number, paddingY: number = paddingX): this\n    {\n        this.minX -= paddingX;\n        this.maxX += paddingX;\n\n        this.minY -= paddingY;\n        this.maxY += paddingY;\n\n        return this;\n    }\n\n    public ceil(): this\n    {\n        this.minX = Math.floor(this.minX);\n        this.minY = Math.floor(this.minY);\n        this.maxX = Math.ceil(this.maxX);\n        this.maxY = Math.ceil(this.maxY);\n\n        return this;\n    }\n\n    public clone(): Bounds\n    {\n        return new Bounds(this.minX, this.minY, this.maxX, this.maxY);\n    }\n\n    public scale(x: number, y: number = x): this\n    {\n        this.minX *= x;\n        this.minY *= y;\n        this.maxX *= x;\n        this.maxY *= y;\n\n        return this;\n    }\n\n    get x(): number\n    {\n        return this.minX;\n    }\n\n    get y(): number\n    {\n        return this.minY;\n    }\n\n    get width(): number\n    {\n        return this.maxX - this.minX;\n    }\n\n    get height(): number\n    {\n        return this.maxY - this.minY;\n    }\n\n    get isPositive(): boolean\n    {\n        return (this.maxX - this.minX > 0) && (this.maxY - this.minY > 0);\n    }\n\n    get isValid(): boolean\n    {\n        return (this.minX + this.minY !== Infinity);\n    }\n\n    /**\n     * Adds screen vertices from array\n     * @param vertexData - calculated vertices\n     * @param beginOffset - begin offset\n     * @param endOffset - end offset, excluded\n     */\n    public addVertexData(vertexData: Float32Array, beginOffset: number, endOffset: number): void\n    {\n        let minX = this.minX;\n        let minY = this.minY;\n        let maxX = this.maxX;\n        let maxY = this.maxY;\n\n        const matrix = this.matrix;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        for (let i = beginOffset; i < endOffset; i += 2)\n        {\n            const localX = vertexData[i];\n            const localY = vertexData[i + 1];\n\n            const x = (a * localX) + (c * localY) + tx;\n            const y = (b * localX) + (d * localY) + ty;\n\n            minX = x < minX ? x : minX;\n            minY = y < minY ? y : minY;\n            maxX = x > maxX ? x : maxX;\n            maxY = y > maxY ? y : maxY;\n        }\n\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    public toString(): string\n    {\n        // eslint-disable-next-line max-len\n        return `[@pixi:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`;\n    }\n}\n\n","import type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Container } from '../Container';\n\nexport function updateLocalTransform(lt: Matrix, container: Container): void\n{\n    const scale = container._scale;\n    const pivot = container._pivot;\n    const position = container._position;\n\n    const sx = scale._x;\n    const sy = scale._y;\n\n    const px = pivot._x;\n    const py = pivot._y;\n\n    // get the matrix values of the container based on its this properties..\n    lt.a = container._cx * sx;\n    lt.b = container._sx * sx;\n    lt.c = container._cy * sy;\n    lt.d = container._sy * sy;\n\n    lt.tx = position._x - ((px * lt.a) + (py * lt.c));\n    lt.ty = position._y - ((px * lt.b) + (py * lt.d));\n}\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { updateLocalTransform } from '../utils/updateLocalTransform';\n\nimport type { Container } from '../Container';\nimport type { Bounds } from './Bounds';\n\nexport function getGlobalBounds(target: Container, skipUpdateTransform: boolean, bounds: Bounds): Bounds\n{\n    bounds.clear();\n\n    let parentTransform;\n\n    if (target.parent)\n    {\n        if (!skipUpdateTransform)\n        {\n            // TODO new Matrix.. EEEWW! pooling..\n            parentTransform = updateTransformBackwards(target, new Matrix());\n        }\n        else\n        {\n            parentTransform = target.parent.worldTransform;\n        }\n    }\n    else\n    {\n        parentTransform = Matrix.IDENTITY;\n    }\n\n    // then collect them...\n\n    _getGlobalBounds(target, bounds, parentTransform, skipUpdateTransform);\n\n    if (!bounds.isValid)\n    {\n        bounds.set(0, 0, 0, 0);\n    }\n\n    return bounds;\n}\n\nexport function _getGlobalBounds(\n    target: Container,\n    bounds: Bounds,\n    parentTransform: Matrix,\n    skipUpdateTransform: boolean,\n): void\n{\n    if (!target.visible || !target.measurable) return;\n\n    let worldTransform: Matrix;\n\n    if (!skipUpdateTransform)\n    {\n        if (target.didChange)\n        {\n            updateLocalTransform(target.localTransform, target);\n        }\n\n        worldTransform = Matrix.shared.appendFrom(target.localTransform, parentTransform).clone();\n    }\n    else\n    {\n        worldTransform = target.worldTransform;\n    }\n\n    const parentBounds = bounds;\n    const preserveBounds = !!target.effects.length;\n\n    if (preserveBounds)\n    {\n        // TODO - cloning bounds is slow, we should have a pool (its on the todo list!)\n        bounds = bounds.clone();\n    }\n\n    if (target.view)\n    {\n        bounds.setMatrix(worldTransform);\n\n        target.view.addBounds(bounds);\n    }\n\n    for (let i = 0; i < target.children.length; i++)\n    {\n        _getGlobalBounds(target.children[i], bounds, worldTransform, skipUpdateTransform);\n    }\n\n    if (preserveBounds)\n    {\n        for (let i = 0; i < target.effects.length; i++)\n        {\n            target.effects[i].addBounds?.(bounds);\n        }\n\n        parentBounds.setMatrix(Matrix.IDENTITY);\n        parentBounds.addBounds(bounds);\n    }\n}\n\nexport function updateTransformBackwards(target: Container, parentTransform: Matrix)\n{\n    const parent = target.parent;\n\n    if (parent)\n    {\n        updateTransformBackwards(parent, parentTransform);\n\n        if (parent.didChange)\n        {\n            updateLocalTransform(parent.localTransform, parent);\n        }\n\n        parentTransform.append(parent.localTransform);\n    }\n\n    return parentTransform;\n}\n\n","let warnCount = 0;\nconst maxWarnings = 500;\n\n/**\n * Logs a PixiJS warning message to the console. Stops logging after 500 warnings have been logged.\n * @param args - The warning message(s) to log\n * @returns {void}\n */\nexport function warn(...args: any[])\n{\n    if (warnCount === maxWarnings) return;\n\n    warnCount++;\n\n    if (warnCount === maxWarnings)\n    {\n        console.warn('PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.');\n    }\n    else\n    {\n        console.warn('PixiJS Warning: ', ...args);\n    }\n}\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { warn } from '../../../utils/logging/warn';\nimport { updateLocalTransform } from '../utils/updateLocalTransform';\nimport { Bounds } from './Bounds';\n\nimport type { Container } from '../Container';\n\nexport function getLocalBounds(target: Container, bounds: Bounds, relativeMatrix?: Matrix): Bounds\n{\n    bounds.clear();\n\n    // if (!target.visible)// || !target.measurable)\n    // {\n    //     bounds.set(0, 0, 0, 0);\n\n    //     return bounds;\n    // }\n\n    relativeMatrix ||= new Matrix();\n\n    if (target.view)\n    {\n        bounds.setMatrix(relativeMatrix);\n        target.view.addBounds(bounds);\n    }\n\n    for (let i = 0; i < target.children.length; i++)\n    {\n        _getLocalBounds(target.children[i], bounds, relativeMatrix, target);\n    }\n\n    if (!bounds.isValid)\n    {\n        bounds.set(0, 0, 0, 0);\n    }\n\n    return bounds;\n}\n\nfunction _getLocalBounds(target: Container, bounds: Bounds, parentTransform: Matrix, rootContainer: Container): void\n{\n    if (!target.visible || !target.measurable) return;\n\n    // // make sure localTransform is upto date...\n    if (target.didChange)\n    {\n        updateLocalTransform(target.localTransform, target);\n    }\n\n    const localTransform = target.localTransform;\n\n    const relativeTransform = Matrix.shared.appendFrom(localTransform, parentTransform).clone();\n\n    const parentBounds = bounds;\n    const preserveBounds = !!target.effects.length;\n\n    if (preserveBounds)\n    {\n        // TODO - cloning bounds is slow, we should have a pool (its on the todo list!)\n        bounds = new Bounds();\n    }\n\n    if (target.view)\n    {\n        bounds.setMatrix(relativeTransform);\n\n        target.view.addBounds(bounds);\n    }\n\n    for (let i = 0; i < target.children.length; i++)\n    {\n        _getLocalBounds(target.children[i], bounds, relativeTransform, rootContainer);\n    }\n\n    if (preserveBounds)\n    {\n        for (let i = 0; i < target.effects.length; i++)\n        {\n            target.effects[i].addLocalBounds?.(bounds, rootContainer);\n        }\n\n        // TODO - make a add transformed bounds?\n        parentBounds.setMatrix(Matrix.IDENTITY);\n        parentBounds.addBounds(bounds);\n    }\n}\n\nexport function getParent(target: Container, root: Container, matrix: Matrix)\n{\n    const parent = target.parent;\n\n    if (!parent)\n    {\n        // we have reach the top of the tree!\n        // #if _DEBUG\n        warn('Item is not inside the root container');\n        // #endif\n\n        return;\n    }\n\n    if (parent !== root)\n    {\n        getParent(parent, root, matrix);\n\n        updateLocalTransform(parent.localTransform, parent);\n        matrix.append(parent.localTransform);\n    }\n}\n\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Bounds } from '../bounds/Bounds';\nimport { getGlobalBounds } from '../bounds/getGlobalBounds';\nimport { getLocalBounds } from '../bounds/getLocalBounds';\n\nimport type { Rectangle } from '../../../maths/shapes/Rectangle';\nimport type { Container } from '../Container';\n\nexport interface MeasureMixinConstructor\n{\n    width?: number;\n    height?: number;\n}\nexport interface MeasureMixin extends Required<MeasureMixinConstructor>\n{\n    getLocalBounds(rect?: Rectangle): Rectangle;\n    getBounds(skipUpdate?: boolean, rect?: Rectangle): Rectangle;\n}\n\nconst tempBounds = new Bounds();\nconst tempMatrix = new Matrix();\n\nexport const measureMixin: Partial<Container> = {\n\n    get width(): number\n    {\n        return Math.abs(this.scale.x * getLocalBounds(this, tempBounds, tempMatrix).width);\n    },\n\n    set width(value: number)\n    {\n        const localWidth = getLocalBounds(this, tempBounds, tempMatrix).width;\n\n        if (localWidth !== 0)\n        {\n            this.scale.x = value / localWidth;\n        }\n        else\n        {\n            this.scale.x = 1;\n        }\n    },\n\n    get height(): number\n    {\n        return Math.abs(this.scale.y * getLocalBounds(this, tempBounds, tempMatrix).height);\n    },\n\n    set height(value: number)\n    {\n        const localHeight = getLocalBounds(this, tempBounds, tempMatrix).height;\n\n        if (localHeight !== 0)\n        {\n            this.scale.y = value / localHeight;\n        }\n        else\n        {\n            this.scale.y = 1;\n        }\n    },\n\n    /**\n     * Retrieves the local bounds of the container as a Bounds object.\n     * @param rect - Optional rectangle to store the result of the bounds calculation.\n     * @returns - The bounding area.\n     */\n    getLocalBounds(rect?: Rectangle): Rectangle\n    {\n        const bounds = getLocalBounds(this, new Bounds(), tempMatrix);\n\n        return rect ? rect.copyFromBounds(bounds) : bounds.rectangle.clone();\n    },\n\n    /**\n     * Calculates and returns the (world) bounds of the display object as a [Rectangle]{@link Rectangle}.\n     * @param skipUpdate - Setting to `true` will stop the transforms of the scene graph from\n     *  being updated. This means the calculation returned MAY be out of date BUT will give you a\n     *  nice performance boost.\n     * @param rect - Optional rectangle to store the result of the bounds calculation.\n     * @returns - The minimum axis-aligned rectangle in world space that fits around this object.\n     */\n    getBounds(skipUpdate?: boolean, rect?: Rectangle): Rectangle\n    {\n        const bounds = getGlobalBounds(this, skipUpdate, tempBounds);\n\n        return rect ? rect.copyFromBounds(bounds) : bounds.rectangle.clone();\n    }\n\n} as Container;\n","import type { Container } from '../Container';\n\nexport interface OnRenderMixinConstructor\n{\n    onRender?: (() => void | null);\n}\nexport interface OnRenderMixin extends Required<OnRenderMixinConstructor>\n{\n    _onRender: (() => void) | null;\n}\n\nexport const onRenderMixin: Partial<Container> = {\n    _onRender: null,\n\n    set onRender(func: () => void)\n    {\n        const layerGroup = this.layerGroup;\n\n        if (!func)\n        {\n            if (this._onRender)\n            {\n                layerGroup?.removeOnRender(this);\n            }\n\n            this._onRender = null;\n\n            return;\n        }\n\n        if (!this._onRender)\n        {\n            layerGroup?.addOnRender(this);\n        }\n\n        this._onRender = func;\n    },\n\n    get onRender(): () => void\n    {\n        return this._onRender;\n    }\n} as Container;\n","import type { Container } from '../Container';\n\nexport interface SortMixinConstructor\n{\n    zIndex?: number;\n    sortDirty?: boolean;\n    sortableChildren?: boolean;\n}\nexport interface SortMixin extends Required<SortMixinConstructor>\n{\n    _zIndex: 0;\n\n    sortChildren: () => void;\n    depthOfChildModified: () => void;\n}\n\nexport const sortMixin: Partial<Container> = {\n    _zIndex: 0,\n    sortDirty: false,\n    sortableChildren: false,\n\n    get zIndex()\n    {\n        return this._zIndex;\n    },\n\n    /** The depth of the object. Setting this value, will automatically set the parent to be sortable */\n    set zIndex(value)\n    {\n        if (this._zIndex === value) return;\n\n        this._zIndex = value;\n\n        this.depthOfChildModified();\n    },\n\n    depthOfChildModified()\n    {\n        if (this.parent)\n        {\n            this.parent.sortableChildren = true;\n            this.parent.sortDirty = true;\n        }\n\n        if (this.layerGroup && !this.isLayerRoot)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n    },\n\n    sortChildren()\n    {\n        if (!this.sortDirty) return;\n\n        this.sortDirty = false;\n\n        this.children.sort(sortChildren);\n    },\n} as Container;\n\nfunction sortChildren(a: Container, b: Container): number\n{\n    return a._zIndex - b._zIndex;\n}\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Point } from '../../../maths/point/Point';\nimport { updateTransformBackwards } from '../bounds/getGlobalBounds';\nimport { updateLocalTransform } from '../utils/updateLocalTransform';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Container } from '../Container';\n\nexport interface ToLocalGlobalMixin\n{\n    getGlobalPosition(point?: Point, skipUpdate?: boolean): Point;\n    toGlobal<P extends PointData = Point>(position: PointData, point?: P, skipUpdate?: boolean): P;\n    toLocal<P extends PointData = Point>(position: PointData, from?: Container, point?: P, skipUpdate?: boolean): P;\n}\n\nexport const toLocalGlobalMixin: Partial<Container> = {\n    /**\n     * Returns the global position of the container.\n     * @param point - The optional point to write the global value to.\n     * @param skipUpdate - Should we skip the update transform.\n     * @returns - The updated point.\n     * @memberof Container#\n     */\n    getGlobalPosition(point: Point = new Point(), skipUpdate = false): Point\n    {\n        if (this.parent)\n        {\n            this.parent.toGlobal(this._position, point, skipUpdate);\n        }\n        else\n        {\n            point.x = this._position.x;\n            point.y = this._position.y;\n        }\n\n        return point;\n    },\n\n    /**\n     * Calculates the global position of the container.\n     * @param position - The world origin to calculate from.\n     * @param point - A Point object in which to store the value, optional\n     *  (otherwise will create a new Point).\n     * @param skipUpdate - Should we skip the update transform.\n     * @returns - A point object representing the position of this object.\n     * @memberof Container#\n     */\n    toGlobal<P extends PointData = Point>(position: PointData, point?: P, skipUpdate = false): P\n    {\n        if (!skipUpdate)\n        {\n            if (this.didChange)\n            {\n                updateLocalTransform(this.localTransform, this);\n            }\n\n            const globalMatrix = updateTransformBackwards(this, new Matrix());\n\n            globalMatrix.append(this.localTransform);\n\n            return globalMatrix.apply<P>(position, point);\n        }\n\n        // simply apply the matrix..\n        return this.worldTransform.apply<P>(position, point);\n    },\n\n    /**\n     * Calculates the local position of the container relative to another point.\n     * @param position - The world origin to calculate from.\n     * @param from - The Container to calculate the global position from.\n     * @param point - A Point object in which to store the value, optional\n     *  (otherwise will create a new Point).\n     * @param skipUpdate - Should we skip the update transform\n     * @returns - A point object representing the position of this object\n     * @memberof Container#\n     */\n    toLocal<P extends PointData = Point>(position: PointData, from?: Container, point?: P, skipUpdate?: boolean): P\n    {\n        if (from)\n        {\n            position = from.toGlobal(position, point, skipUpdate);\n        }\n\n        if (!skipUpdate)\n        {\n            if (this.didChange)\n            {\n                updateLocalTransform(this.localTransform, this);\n            }\n\n            const globalMatrix = updateTransformBackwards(this, new Matrix());\n\n            globalMatrix.append(this.localTransform);\n\n            return globalMatrix.applyInverse<P>(position, point);\n        }\n\n        // simply apply the matrix..\n        return this.worldTransform.applyInverse<P>(position, point);\n    }\n} as Container;\n","import { uid } from '../../../../utils/data/uid';\n\nimport type { Instruction } from './Instruction';\n\nexport class InstructionSet\n{\n    public uid = uid('instructionSet');\n    public instructions: Instruction[] = [];\n    public instructionSize = 0;\n    public renderPipes: any;\n\n    public reset()\n    {\n        this.instructionSize = 0;\n    }\n\n    public add(instruction: Instruction)\n    {\n        this.instructions[this.instructionSize++] = instruction;\n    }\n\n    public log()\n    {\n        this.instructions.length = this.instructionSize;\n        // eslint-disable-next-line no-console\n        console.table(this.instructions, ['type', 'action']);\n    }\n\n    public lastInstruction()\n    {\n        return this.instructions[this.instructionSize - 1];\n    }\n}\n","import { Matrix } from '../../maths/matrix/Matrix';\nimport { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\n\nimport type { Instruction } from '../../rendering/renderers/shared/instructions/Instruction';\nimport type { LayerRenderable } from '../../rendering/renderers/shared/LayerRenderable';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { View } from '../../rendering/renderers/shared/view/View';\nimport type { Container } from './Container';\n\nexport class LayerGroup implements Instruction\n{\n    public type = 'layer';\n    public root: Container = null;\n\n    public canBundle = false;\n\n    public layerGroupParent: LayerGroup = null;\n    public layerGroupChildren: LayerGroup[] = [];\n\n    private readonly _children: Container[] = [];\n\n    public worldTransform: Matrix = new Matrix();\n    public worldColor = 0xffffffff;\n\n    // these updates are transform changes..\n    public readonly childrenToUpdate: Record<number, { list: Container[]; index: number; }> = Object.create(null);\n    public updateTick = 0;\n\n    // these update are renderable changes..\n    public readonly childrenRenderablesToUpdate: { list: Renderable[]; index: number; } = { list: [], index: 0 };\n\n    // other\n    public structureDidChange = true;\n\n    public instructionSet: InstructionSet = new InstructionSet();\n\n    private readonly _onRenderContainers: Container[] = [];\n\n    /**\n     * proxy renderable is used to render the root containers view if it has one\n     * this is used as we do not want to inherit the transform / color of the root container\n     * it is only used by the parent root layer group\n     */\n    public proxyRenderable: LayerRenderable<View>;\n\n    constructor(root: Container)\n    {\n        this.root = root;\n\n        this.addChild(root);\n    }\n\n    get localTransform()\n    {\n        return this.root.localTransform;\n    }\n\n    get layerTransform()\n    {\n        return this.root.layerTransform;\n    }\n\n    public addLayerGroupChild(layerGroupChild: LayerGroup)\n    {\n        if (layerGroupChild.layerGroupParent)\n        {\n            layerGroupChild.layerGroupParent._removeLayerGroupChild(layerGroupChild);\n        }\n\n        layerGroupChild.layerGroupParent = this;\n\n        this.onChildUpdate(layerGroupChild.root);\n\n        this.layerGroupChildren.push(layerGroupChild);\n    }\n\n    private _removeLayerGroupChild(layerGroupChild: LayerGroup)\n    {\n        if (layerGroupChild.root.didChange)\n        {\n            this._removeChildFromUpdate(layerGroupChild.root);\n        }\n\n        const index = this.layerGroupChildren.indexOf(layerGroupChild);\n\n        if (index > -1)\n        {\n            this.layerGroupChildren.splice(index, 1);\n        }\n\n        layerGroupChild.layerGroupParent = null;\n    }\n\n    public addChild(child: Container)\n    {\n        this.structureDidChange = true;\n\n        // TODO this can be optimized..\n        if (child !== this.root)\n        {\n            this._children.push(child);\n\n            child.updateTick = -1;\n\n            if (child.parent === this.root)\n            {\n                child.relativeLayerDepth = 1;\n            }\n\n            else\n            {\n                child.relativeLayerDepth = child.parent.relativeLayerDepth + 1;\n            }\n\n            if (child._onRender)\n            {\n                this.addOnRender(child);\n            }\n        }\n\n        if (child.layerGroup)\n        {\n            if (child.layerGroup.root === child)\n            {\n                // its already its own layer group..\n                this.addLayerGroupChild(child.layerGroup);\n\n                return;\n            }\n        }\n        else\n        {\n            child.layerGroup = this;\n            child.didChange = true;\n        }\n\n        const children = child.children;\n\n        if (!child.isLayerRoot)\n        {\n            this.onChildUpdate(child);\n        }\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this.addChild(children[i]);\n        }\n    }\n\n    public removeChild(child: Container)\n    {\n        // remove all the children...\n        this.structureDidChange = true;\n\n        if (child._onRender)\n        {\n            this.removeOnRender(child);\n        }\n\n        if (child.layerGroup.root !== child)\n        {\n            const children = child.children;\n\n            for (let i = 0; i < children.length; i++)\n            {\n                this.removeChild(children[i]);\n            }\n\n            if (child.didChange)\n            {\n                child.layerGroup._removeChildFromUpdate(child);\n            }\n\n            child.layerGroup = null;\n        }\n\n        else\n        {\n            this._removeLayerGroupChild(child.layerGroup);\n        }\n\n        const index = this._children.indexOf(child);\n\n        if (index > -1)\n        {\n            this._children.splice(index, 1);\n        }\n    }\n\n    public onChildUpdate(child: Container)\n    {\n        let childrenToUpdate = this.childrenToUpdate[child.relativeLayerDepth];\n\n        if (!childrenToUpdate)\n        {\n            childrenToUpdate = this.childrenToUpdate[child.relativeLayerDepth] = {\n                index: 0,\n                list: [],\n            };\n        }\n\n        childrenToUpdate.list[childrenToUpdate.index++] = child;\n    }\n\n    // SHOULD THIS BE HERE?\n    public updateRenderable(container: Renderable)\n    {\n        // only update if its visible!\n        if (container.layerVisibleRenderable < 0b11) return;\n\n        container.didViewUpdate = false;\n        // actually updates the renderable..\n        this.instructionSet.renderPipes[container.view.renderPipeId].updateRenderable(container);\n    }\n\n    public onChildViewUpdate(child: Renderable)\n    {\n        this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++] = child;\n    }\n\n    private _removeChildFromUpdate(child: Container)\n    {\n        const childrenToUpdate = this.childrenToUpdate[child.relativeLayerDepth];\n\n        if (!childrenToUpdate)\n        { return; }\n\n        const index = childrenToUpdate.list.indexOf(child);\n\n        // TODO this should be optimized - don't really want to change array size on the fly if we can avoid!\n        if (index > -1)\n        {\n            childrenToUpdate.list.splice(index, 1);\n        }\n\n        childrenToUpdate.index--;\n    }\n\n    get isRenderable(): boolean\n    {\n        const worldAlpha = ((this.worldColor >> 24) & 0xFF);\n\n        return (this.root.localVisibleRenderable === 0b11 && worldAlpha > 0);\n    }\n\n    /**\n     * adding a container to the onRender list will make sure the user function\n     * passed in to the user defined 'onRender` callBack\n     * @param container - the container to add to the onRender list\n     */\n    public addOnRender(container: Container)\n    {\n        this._onRenderContainers.push(container);\n    }\n\n    public removeOnRender(container: Container)\n    {\n        this._onRenderContainers.splice(this._onRenderContainers.indexOf(container), 1);\n    }\n\n    public runOnRender()\n    {\n        this._onRenderContainers.forEach((container) =>\n        {\n            container._onRender();\n        });\n    }\n}\n","/**\n * Returns a new object with all properties from the input object that have defined values.\n * @template T - The type of the input object.\n * @param {T} obj - The input object.\n * @returns {T} - A new object with only the defined properties from the input object.\n */\nexport function definedProps<T extends Record<string, any>>(obj: T): T\n{\n    return Object.fromEntries(\n        Object.entries(obj).filter(([_k, v]) => v !== undefined)\n    ) as T;\n}\n","import EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../color/Color';\nimport { Matrix } from '../../maths/matrix/Matrix';\nimport { DEG_TO_RAD, RAD_TO_DEG } from '../../maths/misc/const';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { uid } from '../../utils/data/uid';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { childrenHelperMixin } from './container-mixins/childrenHelperMixin';\nimport { effectsMixin } from './container-mixins/effectsMixin';\nimport { findMixin } from './container-mixins/findMixin';\nimport { measureMixin } from './container-mixins/measureMixin';\nimport { onRenderMixin } from './container-mixins/onRenderMixin';\nimport { sortMixin } from './container-mixins/sortMixin';\nimport { toLocalGlobalMixin } from './container-mixins/toLocalGlobalMixin';\nimport { LayerGroup } from './LayerGroup';\nimport { definedProps } from './utils/definedProps';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { BLEND_MODES } from '../../rendering/renderers/shared/state/const';\nimport type { View } from '../../rendering/renderers/shared/view/View';\nimport type { Dict } from '../../utils/types';\nimport type { DestroyOptions } from './destroyTypes';\n\n// as pivot and skew are the least used properties of a container, we can use this optimisation\n// to avoid allocating lots of unnecessary objects for them.\nconst defaultSkew = new ObservablePoint(null);\nconst defaultPivot = new ObservablePoint(null);\nconst defaultScale = new ObservablePoint(null, 1, 1);\n\nexport interface ContainerEvents extends PixiMixins.ContainerEvents\n{\n    added: [container: Container];\n    childAdded: [child: Container, container: Container, index: number];\n    removed: [container: Container];\n    childRemoved: [child: Container, container: Container, index: number];\n    destroyed: [];\n}\n\ntype AnyEvent = {\n    // The following is a hack to allow any custom event while maintaining type safety.\n    // For some reason, the tsc compiler gets angry about error TS1023\n    // \"An index signature parameter type must be either 'string' or 'number'.\"\n    // This is really odd since ({}&string) should interpret as string, but then again\n    // there is some black magic behind why this works in the first place.\n    // Closest thing to an explanation:\n    // https://stackoverflow.com/questions/70144348/why-does-a-union-of-type-literals-and-string-cause-ide-code-completion-wh\n    //\n    // Side note, we disable @typescript-eslint/ban-types since {}&string is the only syntax that works.\n    // Nor of the Record/unknown/never alternatives work.\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    [K: ({} & string) | ({} & symbol)]: any;\n};\n\nexport const UPDATE_COLOR = 0b0001;\nexport const UPDATE_BLEND = 0b0010;\nexport const UPDATE_VISIBLE = 0b0100;\nexport const UPDATE_TRANSFORM = 0b1000;\n\n/**\n * Constructor options use for Container instances.\n * @see Container\n */\nexport interface ContainerOptions<T extends View> extends PixiMixins.ContainerOptions\n{\n    /** @see Container#layer */\n    layer?: boolean;\n    /** @see Container#view */\n    view?: T;\n\n    /** @see Container#blendMode */\n    blendMode?: BLEND_MODES;\n    /** @see Container#tint */\n    tint?: ColorSource;\n\n    /** @see Container#alpha */\n    alpha?: number;\n    /** @see Container#angle */\n    angle?: number;\n    /** @see Container#children */\n    children?: Container[];\n    /** @see Container#parent */\n    parent?: Container;\n    /** @see Container#renderable */\n    renderable?: boolean;\n    /** @see Container#rotation */\n    rotation?: number;\n    /** @see Container#scale */\n    scale?: PointData;\n    /** @see Container#pivot */\n    pivot?: PointData;\n    /** @see Container#position */\n    position?: PointData;\n    /** @see Container#skew */\n    skew?: PointData;\n    /** @see Container#visible */\n    visible?: boolean;\n    /** @see Container#x */\n    x?: number;\n    /** @see Container#y */\n    y?: number;\n}\n\nexport interface Container\n    extends Omit<PixiMixins.Container, keyof EventEmitter<ContainerEvents & AnyEvent>>,\n    EventEmitter<ContainerEvents & AnyEvent> {}\n\nexport class Container<T extends View = View> extends EventEmitter<ContainerEvents & AnyEvent> implements Renderable\n{\n    /**\n     * Mixes all enumerable properties and methods from a source object to Container.\n     * @param source - The source of properties and methods to mix in.\n     */\n    public static mixin(source: Dict<any>): void\n    {\n        Object.defineProperties(Container.prototype, Object.getOwnPropertyDescriptors(source));\n    }\n\n    /** @internal */\n    public uid: number = uid('renderable');\n\n    /** @internal */\n    public _updateFlags = 0b1111;\n\n    // is this container the root of a layer?\n    // TODO implement this in a few more places\n    /** @internal */\n    public isLayerRoot = false;\n    // the layer group this container belongs to OR owns\n    /** @internal */\n    public layerGroup: LayerGroup = null;\n\n    // set to true if the container has changed. It is reset once the changes have been applied\n    // by the transform system\n    // its here to stop ensure that when things change, only one update gets registers with the transform system\n    /** @internal */\n    public didChange = false;\n    // same as above, but for the renderable\n    /** @internal */\n    public didViewUpdate = false;\n    // how deep is the container relative to its layer..\n    // unless the element is the root layer - it will be relative to its parent\n    /** @internal */\n    public relativeLayerDepth = 0;\n\n    public children: Container[] = [];\n    public parent: Container = null;\n\n    // used internally for changing up the render order.. mainly for masks and filters\n    // TODO setting this should cause a rebuild??\n    /** @internal */\n    public includeInBuild = true;\n    /** @internal */\n    public measurable = true;\n    /** @internal */\n    public isSimple = true;\n\n    /// /////////////Transform related props//////////////\n\n    // used by the transform system to check if a container needs to be updated that frame\n    // if the tick matches the current transform system tick, it is not updated again\n    /** @internal */\n    public updateTick = -1;\n\n    public localTransform: Matrix = new Matrix();\n    // transform relative to its layer..\n    public layerTransform: Matrix = new Matrix();\n    // the global transform taking into account the layer and all parents\n    private _worldTransform: Matrix;\n\n    public destroyed = false;\n\n    // transform data..\n    /**\n     * The coordinate of the object relative to the local coordinates of the parent.\n     * @internal\n     */\n    public _position: ObservablePoint = new ObservablePoint(this, 0, 0);\n\n    /**\n     * The scale factor of the object.\n     * @internal\n     */\n    public _scale: ObservablePoint = defaultScale;\n\n    /**\n     * The pivot point of the container that it rotates around.\n     * @internal\n     */\n    public _pivot: ObservablePoint = defaultPivot;\n\n    /**\n     * The skew amount, on the x and y axis.\n     * @internal\n     */\n    public _skew: ObservablePoint = defaultSkew;\n\n    /**\n     * The X-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     */\n    public _cx = 1;\n\n    /**\n     * The Y-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     */\n    public _sx = 0;\n\n    /**\n     * The X-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     */\n    public _cy = 0;\n\n    /**\n     * The Y-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     */\n    public _sy = 1;\n\n    /** The rotation amount. */\n    private _rotation = 0;\n\n    /// COLOR related props //////////////\n\n    // color stored as ABGR\n    /** @internal */\n    public localColor = 0xFFFFFFFF;\n    /** @internal */\n    public layerColor = 0xFFFFFFFF;\n\n    /// BLEND related props //////////////\n\n    /** @internal */\n    public localBlendMode: BLEND_MODES = 'inherit';\n    /** @internal */\n    public layerBlendMode: BLEND_MODES = 'normal';\n\n    /// VISIBILITY related props //////////////\n\n    // visibility\n    // 0b11\n    // first bit is visible, second bit is renderable\n    /** @internal */\n    public localVisibleRenderable = 0b11; // 0b11 | 0b10 | 0b01 | 0b00\n    /** @internal */\n    public layerVisibleRenderable = 0b11; // 0b11 | 0b10 | 0b01 | 0b00\n\n    // a renderable object... like a sprite!\n    public readonly view: T;\n\n    constructor(options: Partial<ContainerOptions<T>> = {})\n    {\n        super();\n\n        if (options.view)\n        {\n            this.view = options.view;\n            // in the future we could de-couple container and view..\n            // but for now this is just faster!\n            this.view.owner = this;\n            options.view = undefined;\n        }\n\n        Object.assign(this, definedProps(options));\n\n        this.children = [];\n        options.children?.forEach((child) => this.addChild(child));\n        this.effects = [];\n        options.effects?.forEach((effect) => this.addEffect(effect));\n    }\n\n    /**\n     * Adds one or more children to the container.\n     *\n     * Multiple items can be added like so: `myContainer.addChild(thingOne, thingTwo, thingThree)`\n     * @param {...Container} children - The Container(s) to add to the container\n     * @returns {Container} - The first child that was added.\n     */\n    public addChild<U extends Container[]>(...children: U): U[0]\n    {\n        if (!this.allowChildren)\n        {\n            deprecation(v8_0_0, 'addChild: Only Containers will be allowed to add children in v8.0.0');\n        }\n\n        if (children.length > 1)\n        {\n            // loop through the array and add all children\n            for (let i = 0; i < children.length; i++)\n            {\n                this.addChild(children[i]);\n            }\n\n            return children[0];\n        }\n\n        const child = children[0];\n\n        if (child.parent === this)\n        {\n            this.children.splice(this.children.indexOf(child), 1);\n            this.children.push(child);\n\n            if (this.layerGroup && !this.isLayerRoot)\n            {\n                this.layerGroup.structureDidChange = true;\n            }\n\n            return child;\n        }\n\n        if (child.parent)\n        {\n            // TODO Optimisation...if the parent has the same layer group, this does not need to change!\n            child.parent.removeChild(child);\n        }\n\n        this.children.push(child);\n\n        if (this.sortableChildren) this.sortDirty = true;\n\n        child.parent = this;\n\n        child.didChange = true;\n        child.didViewUpdate = false;\n\n        // TODO - OPtimise this? could check what the parent has set?\n        child._updateFlags = 0b1111;\n\n        if (this.layerGroup)\n        {\n            this.layerGroup.addChild(child);\n        }\n\n        this.emit('childAdded', child, this, this.children.length - 1);\n        child.emit('added', this);\n\n        if (child._zIndex !== 0)\n        {\n            child.depthOfChildModified();\n        }\n\n        return child;\n    }\n\n    /**\n     * Removes one or more children from the container.\n     * @param {...Container} children - The Container(s) to remove\n     * @returns {Container} The first child that was removed.\n     */\n    public removeChild<U extends Container[]>(...children: U): U[0]\n    {\n        // if there is only one argument we can bypass looping through the them\n        if (children.length > 1)\n        {\n            // loop through the arguments property and remove all children\n            for (let i = 0; i < children.length; i++)\n            {\n                this.removeChild(children[i]);\n            }\n\n            return children[0];\n        }\n\n        const child = children[0];\n\n        const index = this.children.indexOf(child);\n\n        if (index > -1)\n        {\n            this.children.splice(index, 1);\n\n            if (this.layerGroup)\n            {\n                this.layerGroup.removeChild(child);\n            }\n        }\n\n        child.parent = null;\n        this.emit('childRemoved', child, this, index);\n        child.emit('removed', this);\n\n        return child;\n    }\n\n    /**\n     * @param point\n     * @internal\n     */\n    public onUpdate(point?: ObservablePoint)\n    {\n        if (point)\n        {\n            //   this.updateFlags |= UPDATE_TRANSFORM;\n\n            if (point === this._skew)\n            {\n                this._updateSkew();\n            }\n        }\n\n        if (this.didChange) return;\n        this.didChange = true;\n\n        if (this.isLayerRoot)\n        {\n            const layerGroupParent = this.layerGroup.layerGroupParent;\n            // lets update its parent..\n\n            if (layerGroupParent)\n            {\n                layerGroupParent.onChildUpdate(this);\n            }\n        }\n        else if (this.layerGroup)\n        {\n            this.layerGroup.onChildUpdate(this);\n        }\n    }\n\n    /** @internal */\n    public onViewUpdate()\n    {\n        if (this.didViewUpdate) return;\n        this.didViewUpdate = true;\n\n        if (this.layerGroup)\n        {\n            this.layerGroup.onChildViewUpdate(this);\n        }\n    }\n\n    set layer(value: boolean)\n    {\n        if (this.isLayerRoot && value === false)\n        {\n            throw new Error('[Pixi] cannot undo a layer just yet');\n        }\n\n        if (value)\n        {\n            this.enableLayer();\n        }\n    }\n\n    get layer(): boolean\n    {\n        return this.isLayerRoot;\n    }\n\n    public enableLayer()\n    {\n        // does it OWN the layer..\n        if (this.layerGroup && this.layerGroup.root === this) return;\n\n        this.isLayerRoot = true;\n\n        const parentLayerGroup = this.layerGroup;\n\n        if (parentLayerGroup)\n        {\n            parentLayerGroup.removeChild(this);\n        }\n\n        this.layerGroup = new LayerGroup(this);\n\n        // find children layers and move them out..\n        if (parentLayerGroup)\n        {\n            for (let i = 0; i < parentLayerGroup.layerGroupChildren.length; i++)\n            {\n                const childLayerGroup = parentLayerGroup.layerGroupChildren[i];\n                let parent = childLayerGroup.root;\n\n                while (parent)\n                {\n                    if (parent === this)\n                    {\n                        this.layerGroup.addLayerGroupChild(childLayerGroup);\n\n                        break;\n                    }\n                    parent = parent.parent;\n                }\n            }\n\n            parentLayerGroup.addLayerGroupChild(this.layerGroup);\n        }\n\n        this._updateIsSimple();\n    }\n\n    /**\n     * @ignore\n     */\n    public _updateIsSimple()\n    {\n        this.isSimple = !(this.isLayerRoot) && (this.effects.length === 0);\n    }\n\n    get worldTransform()\n    {\n        this._worldTransform ||= new Matrix();\n\n        if (this.layerGroup)\n        {\n            if (this.isLayerRoot)\n            {\n                this._worldTransform.copyFrom(this.layerGroup.worldTransform);\n            }\n            else\n            {\n                this._worldTransform.appendFrom(this.layerTransform, this.layerGroup.worldTransform);\n            }\n        }\n\n        return this._worldTransform;\n    }\n\n    /// ////// transform related stuff\n\n    /**\n     * The position of the container on the x axis relative to the local coordinates of the parent.\n     * An alias to position.x\n     */\n    get x(): number\n    {\n        return this._position.x;\n    }\n\n    set x(value: number)\n    {\n        this._position.x = value;\n    }\n\n    /**\n     * The position of the container on the y axis relative to the local coordinates of the parent.\n     * An alias to position.y\n     */\n    get y(): number\n    {\n        return this._position.y;\n    }\n\n    set y(value: number)\n    {\n        this._position.y = value;\n    }\n\n    get position(): ObservablePoint\n    {\n        return this._position;\n    }\n\n    set position(value: PointData)\n    {\n        this._position.copyFrom(value);\n    }\n\n    /**\n     * The rotation of the object in radians.\n     * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n     */\n    get rotation(): number\n    {\n        return this._rotation;\n    }\n\n    set rotation(value: number)\n    {\n        if (this._rotation !== value)\n        {\n            this._rotation = value;\n            this.onUpdate(this._skew);\n        }\n    }\n\n    /**\n     * The angle of the object in degrees.\n     * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n     */\n    get angle(): number\n    {\n        return this.rotation * RAD_TO_DEG;\n    }\n\n    set angle(value: number)\n    {\n        this.rotation = value * DEG_TO_RAD;\n    }\n\n    get pivot(): ObservablePoint\n    {\n        if (this._pivot === defaultPivot)\n        {\n            this._pivot = new ObservablePoint(this, 0, 0);\n        }\n\n        return this._pivot;\n    }\n\n    set pivot(value: PointData)\n    {\n        if (this._pivot === defaultPivot)\n        {\n            this._pivot = new ObservablePoint(this, 0, 0);\n        }\n\n        this._pivot.copyFrom(value);\n    }\n\n    get skew(): ObservablePoint\n    {\n        if (this._skew === defaultSkew)\n        {\n            this._skew = new ObservablePoint(this, 0, 0);\n        }\n\n        return this._skew;\n    }\n\n    get scale(): ObservablePoint\n    {\n        if (this._scale === defaultScale)\n        {\n            this._scale = new ObservablePoint(this, 1, 1);\n        }\n\n        return this._scale;\n    }\n\n    set scale(value: PointData)\n    {\n        if (this._scale === defaultScale)\n        {\n            this._scale = new ObservablePoint(this, 0, 0);\n        }\n\n        this._scale.copyFrom(value);\n    }\n\n    /** Called when the skew or the rotation changes. */\n    private _updateSkew(): void\n    {\n        const rotation = this._rotation;\n        const skew = this._skew;\n\n        this._cx = Math.cos(rotation + skew._y);\n        this._sx = Math.sin(rotation + skew._y);\n        this._cy = -Math.sin(rotation - skew._x); // cos, added PI/2\n        this._sy = Math.cos(rotation - skew._x); // sin, added PI/2\n    }\n\n    /// ///// color related stuff\n\n    set alpha(value: number)\n    {\n        value = (value * 255) | 0;\n\n        if (value === ((this.localColor >> 24) & 0xFF)) return;\n\n        this.localColor = (this.localColor & 0x00FFFFFF) | (value << 24);\n\n        this._updateFlags |= UPDATE_COLOR;\n\n        this.onUpdate();\n    }\n\n    get alpha(): number\n    {\n        return ((this.localColor >> 24) & 0xFF) / 255;\n    }\n\n    set tint(value: ColorSource)\n    {\n        const tempColor = Color.shared.setValue(value);\n        const bgr = tempColor.toBgrNumber();\n\n        if (bgr === (this.localColor & 0x00FFFFFF)) return;\n\n        this.localColor = (this.localColor & 0xFF000000) | (bgr & 0xFFFFFF);\n\n        this._updateFlags |= UPDATE_COLOR;\n\n        this.onUpdate();\n    }\n\n    get tint(): number\n    {\n        const bgr = this.localColor & 0x00FFFFFF;\n        // convert bgr to rgb..\n\n        return ((bgr & 0xFF) << 16) + (bgr & 0xFF00) + ((bgr >> 16) & 0xFF);\n    }\n\n    /// //////////////// blend related stuff\n\n    set blendMode(value: BLEND_MODES)\n    {\n        if (this.localBlendMode === value) return;\n        if (this.layerGroup && !this.isLayerRoot)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n\n        this._updateFlags |= UPDATE_BLEND;\n\n        this.localBlendMode = value;\n\n        this.onUpdate();\n    }\n\n    get blendMode(): BLEND_MODES\n    {\n        return this.localBlendMode;\n    }\n\n    /// ///////// VISIBILITY / RENDERABLE /////////////////\n\n    get visible()\n    {\n        return !!(this.localVisibleRenderable & 0b10);\n    }\n\n    // visible -  the renderable is not shown, also the transform is not updated\n    set visible(value: boolean)\n    {\n        const valueNumber = value ? 1 : 0;\n\n        if ((this.localVisibleRenderable & 0b10) >> 1 === valueNumber) return;\n\n        if (this.layerGroup && !this.isLayerRoot)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n\n        this._updateFlags |= UPDATE_VISIBLE;\n\n        this.localVisibleRenderable = (this.localVisibleRenderable & 0b01) | (valueNumber << 1);\n\n        this.onUpdate();\n    }\n\n    get renderable()\n    {\n        return !!(this.localVisibleRenderable & 0b01);\n    }\n\n    set renderable(value: boolean)\n    {\n        const valueNumber = value ? 1 : 0;\n\n        if ((this.localVisibleRenderable & 0b01) === valueNumber) return;\n\n        this.localVisibleRenderable = (this.localVisibleRenderable & 0b10) | valueNumber;\n\n        this._updateFlags |= UPDATE_VISIBLE;\n\n        if (this.layerGroup && !this.isLayerRoot)\n        {\n            this.layerGroup.structureDidChange = true;\n        }\n\n        this.onUpdate();\n    }\n\n    get isRenderable(): boolean\n    {\n        const worldAlpha = ((this.layerColor >> 24) & 0xFF);\n\n        return (this.localVisibleRenderable === 0b11 && worldAlpha > 0);\n    }\n\n    /**\n     * Removes all internal references and listeners as well as removes children from the display list.\n     * Do not use a Container after calling `destroy`.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.children=false] - if set to true, all the children will have their destroy\n     *  method called as well. 'options' will be passed on to those calls.\n     * @param {boolean} [options.texture=false] - Only used for children with textures e.g. Sprites. If options.children\n     * is set to true it should destroy the texture of the child sprite\n     * @param {boolean} [options.textureSource=false] - Only used for children with textures e.g. Sprites.\n     * If options.children is set to true it should destroy the texture source of the child sprite\n     * @param {boolean} [options.context=false] - Only used for children with graphicsContexts e.g. Graphics.\n     * If options.children is set to true it should destroy the context of the child graphics\n     */\n    public destroy(options: DestroyOptions = false): void\n    {\n        if (this.destroyed) return;\n        this.destroyed = true;\n\n        this.removeFromParent();\n        this.parent = null;\n        this._mask = null;\n        this._filters = null;\n        this.effects = null;\n        this._position = null;\n        this._scale = null;\n        this._pivot = null;\n        this._skew = null;\n\n        this.emit('destroyed');\n\n        this.removeAllListeners();\n\n        const destroyChildren = typeof options === 'boolean' ? options : options?.children;\n\n        const oldChildren = this.removeChildren(0, this.children.length);\n\n        if (destroyChildren)\n        {\n            for (let i = 0; i < oldChildren.length; ++i)\n            {\n                oldChildren[i].destroy(options);\n            }\n        }\n\n        if (this.view)\n        {\n            this.view.destroy(options);\n            this.view.owner = null;\n        }\n    }\n}\n\nContainer.mixin(childrenHelperMixin);\nContainer.mixin(toLocalGlobalMixin);\nContainer.mixin(onRenderMixin);\nContainer.mixin(measureMixin);\nContainer.mixin(effectsMixin);\nContainer.mixin(findMixin);\nContainer.mixin(sortMixin);\n","var appleIphone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar appleUniversal = /\\biOS-universal(?:.+)Mac\\b/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i;\nvar androidTablet = /Android/i;\nvar amazonPhone = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i;\nvar amazonTablet = /Silk/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i;\nvar otherBlackBerry = /BlackBerry/i;\nvar otherBlackBerry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i;\nvar isAppleTabletOnIos13 = function (navigator) {\n    return (typeof navigator !== 'undefined' &&\n        navigator.platform === 'MacIntel' &&\n        typeof navigator.maxTouchPoints === 'number' &&\n        navigator.maxTouchPoints > 1 &&\n        typeof MSStream === 'undefined');\n};\nfunction createMatch(userAgent) {\n    return function (regex) { return regex.test(userAgent); };\n}\nexport default function isMobile(param) {\n    var nav = {\n        userAgent: '',\n        platform: '',\n        maxTouchPoints: 0\n    };\n    if (!param && typeof navigator !== 'undefined') {\n        nav = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            maxTouchPoints: navigator.maxTouchPoints || 0\n        };\n    }\n    else if (typeof param === 'string') {\n        nav.userAgent = param;\n    }\n    else if (param && param.userAgent) {\n        nav = {\n            userAgent: param.userAgent,\n            platform: param.platform,\n            maxTouchPoints: param.maxTouchPoints || 0\n        };\n    }\n    var userAgent = nav.userAgent;\n    var tmp = userAgent.split('[FBAN');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    tmp = userAgent.split('Twitter');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    var match = createMatch(userAgent);\n    var result = {\n        apple: {\n            phone: match(appleIphone) && !match(windowsPhone),\n            ipod: match(appleIpod),\n            tablet: !match(appleIphone) &&\n                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone),\n            universal: match(appleUniversal),\n            device: (match(appleIphone) ||\n                match(appleIpod) ||\n                match(appleTablet) ||\n                match(appleUniversal) ||\n                isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone)\n        },\n        amazon: {\n            phone: match(amazonPhone),\n            tablet: !match(amazonPhone) && match(amazonTablet),\n            device: match(amazonPhone) || match(amazonTablet)\n        },\n        android: {\n            phone: (!match(windowsPhone) && match(amazonPhone)) ||\n                (!match(windowsPhone) && match(androidPhone)),\n            tablet: !match(windowsPhone) &&\n                !match(amazonPhone) &&\n                !match(androidPhone) &&\n                (match(amazonTablet) || match(androidTablet)),\n            device: (!match(windowsPhone) &&\n                (match(amazonPhone) ||\n                    match(amazonTablet) ||\n                    match(androidPhone) ||\n                    match(androidTablet))) ||\n                match(/\\bokhttp\\b/i)\n        },\n        windows: {\n            phone: match(windowsPhone),\n            tablet: match(windowsTablet),\n            device: match(windowsPhone) || match(windowsTablet)\n        },\n        other: {\n            blackberry: match(otherBlackBerry),\n            blackberry10: match(otherBlackBerry10),\n            opera: match(otherOpera),\n            firefox: match(otherFirefox),\n            chrome: match(otherChrome),\n            device: match(otherBlackBerry) ||\n                match(otherBlackBerry10) ||\n                match(otherOpera) ||\n                match(otherFirefox) ||\n                match(otherChrome)\n        },\n        any: false,\n        phone: false,\n        tablet: false\n    };\n    result.any =\n        result.apple.device ||\n            result.android.device ||\n            result.windows.device ||\n            result.other.device;\n    result.phone =\n        result.apple.phone || result.android.phone || result.windows.phone;\n    result.tablet =\n        result.apple.tablet || result.android.tablet || result.windows.tablet;\n    return result;\n}\n//# sourceMappingURL=isMobile.js.map","import isMobileJs from 'ismobilejs';\n\n// ismobilejs have different import behavior for CJS and ESM, so here is the hack\ntype isMobileJsType = typeof isMobileJs & { default?: typeof isMobileJs };\nconst isMobileCall = (isMobileJs as isMobileJsType).default ?? isMobileJs;\n\nexport type isMobileResult = {\n    apple: {\n        phone: boolean;\n        ipod: boolean;\n        tablet: boolean;\n        universal: boolean;\n        device: boolean;\n    };\n    amazon: {\n        phone: boolean;\n        tablet: boolean;\n        device: boolean;\n    };\n    android: {\n        phone: boolean;\n        tablet: boolean;\n        device: boolean;\n    };\n    windows: {\n        phone: boolean;\n        tablet: boolean;\n        device: boolean;\n    };\n    other: {\n        blackberry: boolean;\n        blackberry10: boolean;\n        opera: boolean;\n        firefox: boolean;\n        chrome: boolean;\n        device: boolean;\n    };\n    phone: boolean;\n    tablet: boolean;\n    any: boolean;\n};\n\nexport const isMobile: isMobileResult = isMobileCall(globalThis.navigator);\n","import type { Container } from '../scene/container/Container';\n\nexport type PointerEvents = 'auto'\n| 'none'\n| 'visiblePainted'\n| 'visibleFill'\n| 'visibleStroke'\n| 'visible'\n| 'painted'\n| 'fill'\n| 'stroke'\n| 'all'\n| 'inherit';\n\nexport interface AccessibleOptions\n{\n    accessible: boolean;\n    accessibleTitle: string;\n    accessibleHint: string;\n    tabIndex: number;\n    accessibleType: string;\n    accessiblePointerEvents: PointerEvents;\n    accessibleChildren: boolean;\n}\n\nexport interface AccessibleTarget extends AccessibleOptions\n{\n    _accessibleActive: boolean;\n    _accessibleDiv: AccessibleHTMLElement;\n    renderId: number;\n}\n\nexport interface AccessibleHTMLElement extends HTMLElement\n{\n    type?: string;\n    container?: Container;\n}\n\n/**\n * Default property values of accessible objects\n * used by {@link AccessibilitySystem}.\n * @private\n * @function accessibleTarget\n * @type {object}\n * @example\n * import { accessibleTarget } from 'pixi.js';\n *\n * function MyObject() {}\n * Object.assign(MyObject.prototype, accessibleTarget);\n */\nexport const accessibilityTarget: AccessibleTarget = {\n    /**\n     *  Flag for if the object is accessible. If true AccessibilityManager will overlay a\n     *   shadow div with attributes set\n     * @member {boolean}\n     * @memberof Container#\n     */\n    accessible: false,\n\n    /**\n     * Sets the title attribute of the shadow div\n     * If accessibleTitle AND accessibleHint has not been this will default to 'container [tabIndex]'\n     * @member {?string}\n     * @memberof Container#\n     */\n    accessibleTitle: null,\n\n    /**\n     * Sets the aria-label attribute of the shadow div\n     * @member {string}\n     * @memberof Container#\n     */\n    accessibleHint: null,\n\n    /**\n     * @member {number}\n     * @memberof Container#\n     * @private\n     * @todo Needs docs.\n     */\n    tabIndex: 0,\n\n    /**\n     * @member {boolean}\n     * @memberof Container#\n     * @todo Needs docs.\n     */\n    _accessibleActive: false,\n\n    /**\n     * @member {boolean}\n     * @memberof Container#\n     * @todo Needs docs.\n     */\n    _accessibleDiv: null,\n\n    /**\n     * Specify the type of div the accessible layer is. Screen readers treat the element differently\n     * depending on this type. Defaults to button.\n     * @member {string}\n     * @memberof Container#\n     * @default 'button'\n     */\n    accessibleType: 'button',\n\n    /**\n     * Specify the pointer-events the accessible div will use\n     * Defaults to auto.\n     * @member {string}\n     * @memberof Container#\n     * @default 'auto'\n     */\n    accessiblePointerEvents: 'auto',\n\n    /**\n     * Setting to false will prevent any children inside this container to\n     * be accessible. Defaults to true.\n     * @member {boolean}\n     * @memberof Container#\n     * @default true\n     */\n    accessibleChildren: true,\n\n    renderId: -1,\n};\n","import { FederatedEvent } from '../events/FederatedEvent';\nimport { extensions, ExtensionType } from '../extensions/Extensions';\nimport { Container } from '../scene/container/Container';\nimport { isMobile } from '../settings/utils/isMobile';\nimport { removeItems } from '../utils/data/removeItems';\nimport { accessibilityTarget, type AccessibleHTMLElement } from './accessibilityTarget';\n\nimport type { Rectangle } from '../maths/shapes/Rectangle';\n// @ts-expect-error - used for jsdoc typedefs\nimport type { WebGLRenderer } from '../rendering/renderers/gl/WebGLRenderer';\n// @ts-expect-error - used for jsdoc typedefs\nimport type { WebGPURenderer } from '../rendering/renderers/gpu/WebGPURenderer';\nimport type { System } from '../rendering/renderers/shared/system/System';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { isMobileResult } from '../settings/utils/isMobile';\n\n// add some extra variables to the container..\nContainer.mixin(accessibilityTarget);\n\nconst KEY_CODE_TAB = 9;\n\nconst DIV_TOUCH_SIZE = 100;\nconst DIV_TOUCH_POS_X = 0;\nconst DIV_TOUCH_POS_Y = 0;\nconst DIV_TOUCH_ZINDEX = 2;\n\nconst DIV_HOOK_SIZE = 1;\nconst DIV_HOOK_POS_X = -1000;\nconst DIV_HOOK_POS_Y = -1000;\nconst DIV_HOOK_ZINDEX = 2;\n\n/** @ignore */\nexport interface AccessibilityOptions\n{\n    /** Setting this to true will visually show the divs. */\n    debug?: boolean;\n}\n\n/**\n * The Accessibility system recreates the ability to tab and have content read by screen readers.\n * This is very important as it can possibly help people with disabilities access PixiJS content.\n *\n * A Container can be made accessible just like it can be made interactive. This manager will map the\n * events as if the mouse was being used, minimizing the effort required to implement.\n *\n * An instance of this class is automatically created by default, and can be found at `renderer.accessibility`\n * @class\n */\nexport class AccessibilitySystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'accessibility',\n    } as const;\n\n    /** Setting this to true will visually show the divs. */\n    public debug = false;\n\n    /**\n     * The renderer this accessibility manager works for.\n     * @type {WebGLRenderer|WebGPURenderer}\n     */\n    private _renderer: Renderer;\n\n    /** Internal variable, see isActive getter. */\n    private _isActive = false;\n\n    /** Internal variable, see isMobileAccessibility getter. */\n    private _isMobileAccessibility = false;\n\n    /** Button element for handling touch hooks. */\n    private _hookDiv: HTMLElement | null;\n\n    /** This is the dom element that will sit over the PixiJS element. This is where the div overlays will go. */\n    private _div: HTMLElement;\n\n    /** A simple pool for storing divs. */\n    private _pool: AccessibleHTMLElement[] = [];\n\n    /** This is a tick used to check if an object is no longer being rendered. */\n    private _renderId = 0;\n\n    /** The array of currently active accessible items. */\n    private _children: Container[] = [];\n\n    /** Count to throttle div updates on android devices. */\n    private _androidUpdateCount = 0;\n\n    /**  The frequency to update the div elements. */\n    private readonly _androidUpdateFrequency = 500; // 2fps\n\n    // eslint-disable-next-line jsdoc/require-param\n    /**\n     * @param {WebGLRenderer|WebGPURenderer} renderer - A reference to the current renderer\n     */\n    // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n    constructor(renderer: Renderer, private readonly _mobileInfo: isMobileResult = isMobile)\n    {\n        this._hookDiv = null;\n\n        if (_mobileInfo.tablet || _mobileInfo.phone)\n        {\n            this._createTouchHook();\n        }\n\n        // first we create a div that will sit over the PixiJS element. This is where the div overlays will go.\n        const div = document.createElement('div');\n\n        div.style.width = `${DIV_TOUCH_SIZE}px`;\n        div.style.height = `${DIV_TOUCH_SIZE}px`;\n        div.style.position = 'absolute';\n        div.style.top = `${DIV_TOUCH_POS_X}px`;\n        div.style.left = `${DIV_TOUCH_POS_Y}px`;\n        div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n\n        this._div = div;\n        this._renderer = renderer;\n\n        /**\n         * pre-bind the functions\n         * @type {Function}\n         * @private\n         */\n        this._onKeyDown = this._onKeyDown.bind(this);\n\n        /**\n         * pre-bind the functions\n         * @type {Function}\n         * @private\n         */\n        this._onMouseMove = this._onMouseMove.bind(this);\n\n        // let listen for tab.. once pressed we can fire up and show the accessibility layer\n        globalThis.addEventListener('keydown', this._onKeyDown, false);\n    }\n\n    /**\n     * Value of `true` if accessibility is currently active and accessibility layers are showing.\n     * @member {boolean}\n     * @readonly\n     */\n    get isActive(): boolean\n    {\n        return this._isActive;\n    }\n\n    /**\n     * Value of `true` if accessibility is enabled for touch devices.\n     * @member {boolean}\n     * @readonly\n     */\n    get isMobileAccessibility(): boolean\n    {\n        return this._isMobileAccessibility;\n    }\n\n    get hookDiv()\n    {\n        return this._hookDiv;\n    }\n\n    /**\n     * Creates the touch hooks.\n     * @private\n     */\n    private _createTouchHook(): void\n    {\n        const hookDiv = document.createElement('button');\n\n        hookDiv.style.width = `${DIV_HOOK_SIZE}px`;\n        hookDiv.style.height = `${DIV_HOOK_SIZE}px`;\n        hookDiv.style.position = 'absolute';\n        hookDiv.style.top = `${DIV_HOOK_POS_X}px`;\n        hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;\n        hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();\n        hookDiv.style.backgroundColor = '#FF0000';\n        hookDiv.title = 'select to enable accessibility for this content';\n\n        hookDiv.addEventListener('focus', () =>\n        {\n            this._isMobileAccessibility = true;\n            this._activate();\n            this._destroyTouchHook();\n        });\n\n        document.body.appendChild(hookDiv);\n        this._hookDiv = hookDiv;\n    }\n\n    /**\n     * Destroys the touch hooks.\n     * @private\n     */\n    private _destroyTouchHook(): void\n    {\n        if (!this._hookDiv)\n        {\n            return;\n        }\n        document.body.removeChild(this._hookDiv);\n        this._hookDiv = null;\n    }\n\n    /**\n     * Activating will cause the Accessibility layer to be shown.\n     * This is called when a user presses the tab key.\n     * @private\n     */\n    private _activate(): void\n    {\n        if (this._isActive)\n        {\n            return;\n        }\n\n        this._isActive = true;\n\n        globalThis.document.addEventListener('mousemove', this._onMouseMove, true);\n        globalThis.removeEventListener('keydown', this._onKeyDown, false);\n\n        this._renderer.runners.postrender.add(this);\n        this._renderer.view.canvas.parentNode?.appendChild(this._div);\n    }\n\n    /**\n     * Deactivating will cause the Accessibility layer to be hidden.\n     * This is called when a user moves the mouse.\n     * @private\n     */\n    private _deactivate(): void\n    {\n        if (!this._isActive || this._isMobileAccessibility)\n        {\n            return;\n        }\n\n        this._isActive = false;\n\n        globalThis.document.removeEventListener('mousemove', this._onMouseMove, true);\n        globalThis.addEventListener('keydown', this._onKeyDown, false);\n\n        this._renderer.runners.postrender.remove(this);\n        this._div.parentNode?.removeChild(this._div);\n    }\n\n    /**\n     * This recursive function will run through the scene graph and add any new accessible objects to the DOM layer.\n     * @private\n     * @param {Container} container - The Container to check.\n     */\n    private _updateAccessibleObjects(container: Container): void\n    {\n        if (!container.visible || !container.accessibleChildren)\n        {\n            return;\n        }\n\n        if (container.accessible && container.isInteractive())\n        {\n            if (!container._accessibleActive)\n            {\n                this._addChild(container);\n            }\n\n            container.renderId = this._renderId;\n        }\n\n        const children = container.children;\n\n        if (children)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                this._updateAccessibleObjects(children[i] as Container);\n            }\n        }\n    }\n\n    /**\n     * Runner init called, view is available at this point.\n     * @ignore\n     */\n    public init(options?: AccessibilityOptions)\n    {\n        this.debug = options?.debug ?? this.debug;\n        this._renderer.runners.postrender.remove(this);\n    }\n\n    /**\n     * Runner postrender was called, ensure that all divs are mapped correctly to their DisplayObjects.\n     * Only fires while active.\n     * @ignore\n     */\n    public postrender(): void\n    {\n        /* On Android default web browser, tab order seems to be calculated by position rather than tabIndex,\n        *  moving buttons can cause focus to flicker between two buttons making it hard/impossible to navigate,\n        *  so I am just running update every half a second, seems to fix it.\n        */\n        const now = performance.now();\n\n        if (this._mobileInfo.android.device && now < this._androidUpdateCount)\n        {\n            return;\n        }\n\n        this._androidUpdateCount = now + this._androidUpdateFrequency;\n\n        if (!this._renderer.renderingToScreen || !this._renderer.view.canvas)\n        {\n            return;\n        }\n\n        // update children...\n        if (this._renderer.lastObjectRendered)\n        {\n            this._updateAccessibleObjects(this._renderer.lastObjectRendered as Container);\n        }\n\n        const { x, y, width, height } = this._renderer.view.canvas.getBoundingClientRect();\n        const { width: viewWidth, height: viewHeight, resolution } = this._renderer;\n\n        const sx = (width / viewWidth) * resolution;\n        const sy = (height / viewHeight) * resolution;\n\n        let div = this._div;\n\n        div.style.left = `${x}px`;\n        div.style.top = `${y}px`;\n        div.style.width = `${viewWidth}px`;\n        div.style.height = `${viewHeight}px`;\n\n        for (let i = 0; i < this._children.length; i++)\n        {\n            const child = this._children[i];\n\n            if (child.renderId !== this._renderId)\n            {\n                child._accessibleActive = false;\n\n                removeItems(this._children, i, 1);\n                this._div.removeChild(child._accessibleDiv);\n                this._pool.push(child._accessibleDiv);\n                child._accessibleDiv = null;\n\n                i--;\n            }\n            else\n            {\n                // map div to display..\n                div = child._accessibleDiv;\n                let hitArea = child.hitArea as Rectangle;\n                const wt = child.worldTransform;\n\n                if (child.hitArea)\n                {\n                    div.style.left = `${(wt.tx + (hitArea.x * wt.a)) * sx}px`;\n                    div.style.top = `${(wt.ty + (hitArea.y * wt.d)) * sy}px`;\n\n                    div.style.width = `${hitArea.width * wt.a * sx}px`;\n                    div.style.height = `${hitArea.height * wt.d * sy}px`;\n                }\n                else\n                {\n                    hitArea = child.getBounds();\n\n                    this.capHitArea(hitArea);\n\n                    div.style.left = `${hitArea.x * sx}px`;\n                    div.style.top = `${hitArea.y * sy}px`;\n\n                    div.style.width = `${hitArea.width * sx}px`;\n                    div.style.height = `${hitArea.height * sy}px`;\n\n                    // update button titles and hints if they exist and they've changed\n                    if (div.title !== child.accessibleTitle && child.accessibleTitle !== null)\n                    {\n                        div.title = child.accessibleTitle;\n                    }\n                    if (div.getAttribute('aria-label') !== child.accessibleHint\n                       && child.accessibleHint !== null)\n                    {\n                        div.setAttribute('aria-label', child.accessibleHint);\n                    }\n                }\n\n                // the title or index may have changed, if so lets update it!\n                if (child.accessibleTitle !== div.title || child.tabIndex !== div.tabIndex)\n                {\n                    div.title = child.accessibleTitle;\n                    div.tabIndex = child.tabIndex;\n                    if (this.debug)\n                    {\n                        this.updateDebugHTML(div);\n                    }\n                }\n            }\n        }\n\n        // increment the render id..\n        this._renderId++;\n    }\n\n    /**\n     * private function that will visually add the information to the\n     * accessibility div\n     * @param {HTMLElement} div -\n     */\n    public updateDebugHTML(div: AccessibleHTMLElement): void\n    {\n        div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;\n    }\n\n    /**\n     * Adjust the hit area based on the bounds of a display object\n     * @param {Rectangle} hitArea - Bounds of the child\n     */\n    public capHitArea(hitArea: Rectangle): void\n    {\n        if (hitArea.x < 0)\n        {\n            hitArea.width += hitArea.x;\n            hitArea.x = 0;\n        }\n\n        if (hitArea.y < 0)\n        {\n            hitArea.height += hitArea.y;\n            hitArea.y = 0;\n        }\n\n        const { width: viewWidth, height: viewHeight } = this._renderer;\n\n        if (hitArea.x + hitArea.width > viewWidth)\n        {\n            hitArea.width = viewWidth - hitArea.x;\n        }\n\n        if (hitArea.y + hitArea.height > viewHeight)\n        {\n            hitArea.height = viewHeight - hitArea.y;\n        }\n    }\n\n    /**\n     * Adds a Container to the accessibility manager\n     * @private\n     * @param {Container} container - The child to make accessible.\n     */\n    private _addChild<T extends Container>(container: T): void\n    {\n        //    this.activate();\n\n        let div = this._pool.pop();\n\n        if (!div)\n        {\n            div = document.createElement('button');\n\n            div.style.width = `${DIV_TOUCH_SIZE}px`;\n            div.style.height = `${DIV_TOUCH_SIZE}px`;\n            div.style.backgroundColor = this.debug ? 'rgba(255,255,255,0.5)' : 'transparent';\n            div.style.position = 'absolute';\n            div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n            div.style.borderStyle = 'none';\n\n            // ARIA attributes ensure that button title and hint updates are announced properly\n            if (navigator.userAgent.toLowerCase().includes('chrome'))\n            {\n                // Chrome doesn't need aria-live to work as intended; in fact it just gets more confused.\n                div.setAttribute('aria-live', 'off');\n            }\n            else\n            {\n                div.setAttribute('aria-live', 'polite');\n            }\n\n            if (navigator.userAgent.match(/rv:.*Gecko\\//))\n            {\n                // FireFox needs this to announce only the new button name\n                div.setAttribute('aria-relevant', 'additions');\n            }\n            else\n            {\n                // required by IE, other browsers don't much care\n                div.setAttribute('aria-relevant', 'text');\n            }\n\n            div.addEventListener('click', this._onClick.bind(this));\n            div.addEventListener('focus', this._onFocus.bind(this));\n            div.addEventListener('focusout', this._onFocusOut.bind(this));\n        }\n\n        // set pointer events\n        div.style.pointerEvents = container.accessiblePointerEvents;\n        // set the type, this defaults to button!\n        div.type = container.accessibleType;\n\n        if (container.accessibleTitle && container.accessibleTitle !== null)\n        {\n            div.title = container.accessibleTitle;\n        }\n        else if (!container.accessibleHint\n                 || container.accessibleHint === null)\n        {\n            div.title = `container ${container.tabIndex}`;\n        }\n\n        if (container.accessibleHint\n            && container.accessibleHint !== null)\n        {\n            div.setAttribute('aria-label', container.accessibleHint);\n        }\n\n        if (this.debug)\n        {\n            this.updateDebugHTML(div);\n        }\n\n        container._accessibleActive = true;\n        container._accessibleDiv = div;\n        div.container = container;\n\n        this._children.push(container);\n        this._div.appendChild(container._accessibleDiv);\n        container._accessibleDiv.tabIndex = container.tabIndex;\n    }\n\n    /**\n     * Dispatch events with the EventSystem.\n     * @param e\n     * @param type\n     * @private\n     */\n    private _dispatchEvent(e: UIEvent, type: string[]): void\n    {\n        const { container: target } = e.target as AccessibleHTMLElement;\n        const boundary = this._renderer.events.rootBoundary;\n        const event: FederatedEvent = Object.assign(new FederatedEvent(boundary), { target });\n\n        boundary.rootTarget = this._renderer.lastObjectRendered as Container;\n        type.forEach((type) => boundary.dispatchEvent(event, type));\n    }\n\n    /**\n     * Maps the div button press to pixi's EventSystem (click)\n     * @private\n     * @param {MouseEvent} e - The click event.\n     */\n    private _onClick(e: MouseEvent): void\n    {\n        this._dispatchEvent(e, ['click', 'pointertap', 'tap']);\n    }\n\n    /**\n     * Maps the div focus events to pixi's EventSystem (mouseover)\n     * @private\n     * @param {FocusEvent} e - The focus event.\n     */\n    private _onFocus(e: FocusEvent): void\n    {\n        if (!(e.target as Element).getAttribute('aria-live'))\n        {\n            (e.target as Element).setAttribute('aria-live', 'assertive');\n        }\n\n        this._dispatchEvent(e, ['mouseover']);\n    }\n\n    /**\n     * Maps the div focus events to pixi's EventSystem (mouseout)\n     * @private\n     * @param {FocusEvent} e - The focusout event.\n     */\n    private _onFocusOut(e: FocusEvent): void\n    {\n        if (!(e.target as Element).getAttribute('aria-live'))\n        {\n            (e.target as Element).setAttribute('aria-live', 'polite');\n        }\n\n        this._dispatchEvent(e, ['mouseout']);\n    }\n\n    /**\n     * Is called when a key is pressed\n     * @private\n     * @param {KeyboardEvent} e - The keydown event.\n     */\n    private _onKeyDown(e: KeyboardEvent): void\n    {\n        if (e.keyCode !== KEY_CODE_TAB)\n        {\n            return;\n        }\n\n        this._activate();\n    }\n\n    /**\n     * Is called when the mouse moves across the renderer element\n     * @private\n     * @param {MouseEvent} e - The mouse event.\n     */\n    private _onMouseMove(e: MouseEvent): void\n    {\n        if (e.movementX === 0 && e.movementY === 0)\n        {\n            return;\n        }\n\n        this._deactivate();\n    }\n\n    /** Destroys the accessibility manager */\n    public destroy(): void\n    {\n        this._destroyTouchHook();\n        this._div = null;\n\n        globalThis.document.removeEventListener('mousemove', this._onMouseMove, true);\n        globalThis.removeEventListener('keydown', this._onKeyDown);\n\n        this._pool = null;\n        this._children = null;\n        this._renderer = null;\n    }\n}\n\nextensions.add(AccessibilitySystem);\n","import { extensions } from '../extensions/Extensions';\nimport { Container } from '../scene/container/Container';\nimport { AccessibilitySystem } from './AccessibilitySystem';\nimport { accessibilityTarget } from './accessibilityTarget';\n\nextensions.add(AccessibilitySystem);\nContainer.mixin(accessibilityTarget);\n","/**\n * Represents the update priorities used by internal PIXI classes when registered with\n * the {@link Ticker} object. Higher priority items are updated first and lower\n * priority items, such as render, should go later.\n * @static\n * @enum {number}\n */\nexport enum UPDATE_PRIORITY\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    /**\n     * Highest priority used for interaction events in {@link EventSystem}\n     * @default 50\n     */\n    INTERACTION = 50,\n    /**\n     * High priority updating, used by {@link AnimatedSprite}\n     * @default 25\n     */\n    HIGH = 25,\n    /**\n     * Default priority for ticker events, see {@link Ticker#add}.\n     * @default 0\n     */\n    NORMAL = 0,\n    /**\n     * Low priority used for {@link Application} rendering.\n     * @default -25\n     */\n    LOW = -25,\n    /**\n     * Lowest priority used for {@link BasePrepare} utility.\n     * @default -50\n     */\n    UTILITY = -50,\n}\n","import type { Ticker, TickerCallback } from './Ticker';\n\n/**\n * Internal class for handling the priority sorting of ticker handlers.\n * @private\n * @class\n */\nexport class TickerListener<T = any>\n{\n    /** The current priority. */\n    public priority: number;\n    /** The next item in chain. */\n    public next: TickerListener = null;\n    /** The previous item in chain. */\n    public previous: TickerListener = null;\n\n    /** The handler function to execute. */\n    private _fn: TickerCallback<T>;\n    /** The calling to execute. */\n    private _context: T;\n    /** If this should only execute once. */\n    private readonly _once: boolean;\n    /** `true` if this listener has been destroyed already. */\n    private _destroyed = false;\n\n    /**\n     * Constructor\n     * @private\n     * @param fn - The listener function to be added for one update\n     * @param context - The listener context\n     * @param priority - The priority for emitting\n     * @param once - If the handler should fire once\n     */\n    constructor(fn: TickerCallback<T>, context: T = null, priority = 0, once = false)\n    {\n        this._fn = fn;\n        this._context = context;\n        this.priority = priority;\n        this._once = once;\n    }\n\n    /**\n     * Simple compare function to figure out if a function and context match.\n     * @param fn - The listener function to be added for one update\n     * @param context - The listener context\n     * @returns `true` if the listener match the arguments\n     */\n    public match(fn: TickerCallback<T>, context: any = null): boolean\n    {\n        return this._fn === fn && this._context === context;\n    }\n\n    /**\n     * Emit by calling the current function.\n     * @param ticker - The ticker emitting.\n     * @returns Next ticker\n     */\n    public emit(ticker: Ticker): TickerListener\n    {\n        if (this._fn)\n        {\n            if (this._context)\n            {\n                this._fn.call(this._context, ticker);\n            }\n            else\n            {\n                (this as TickerListener<any>)._fn(ticker);\n            }\n        }\n\n        const redirect = this.next;\n\n        if (this._once)\n        {\n            this.destroy(true);\n        }\n\n        // Soft-destroying should remove\n        // the next reference\n        if (this._destroyed)\n        {\n            this.next = null;\n        }\n\n        return redirect;\n    }\n\n    /**\n     * Connect to the list.\n     * @param previous - Input node, previous listener\n     */\n    public connect(previous: TickerListener): void\n    {\n        this.previous = previous;\n        if (previous.next)\n        {\n            previous.next.previous = this;\n        }\n        this.next = previous.next;\n        previous.next = this;\n    }\n\n    /**\n     * Destroy and don't use after this.\n     * @param hard - `true` to remove the `next` reference, this\n     *        is considered a hard destroy. Soft destroy maintains the next reference.\n     * @returns The listener to redirect while emitting or removing.\n     */\n    public destroy(hard = false): TickerListener\n    {\n        this._destroyed = true;\n        this._fn = null;\n        this._context = null;\n\n        // Disconnect, hook up next and previous\n        if (this.previous)\n        {\n            this.previous.next = this.next;\n        }\n\n        if (this.next)\n        {\n            this.next.previous = this.previous;\n        }\n\n        // Redirect to the next item\n        const redirect = this.next;\n\n        // Remove references\n        this.next = hard ? null : redirect;\n        this.previous = null;\n\n        return redirect;\n    }\n}\n","import { UPDATE_PRIORITY } from './const';\nimport { TickerListener } from './TickerListener';\n\nexport type TickerCallback<T> = (this: T, ticker: Ticker) => any;\n\n/**\n * A Ticker class that runs an update loop that other objects listen to.\n *\n * This class is composed around listeners meant for execution on the next requested animation frame.\n * Animation frames are requested only when necessary, e.g. When the ticker is started and the emitter has listeners.\n * @class\n */\nexport class Ticker\n{\n    /**\n     * Target frames per millisecond.\n     * @static\n     */\n    public static targetFPMS = 0.06;\n\n    /** The private shared ticker instance */\n    private static _shared: Ticker;\n    /** The private system ticker instance  */\n    private static _system: Ticker;\n\n    /** Whether or not this ticker should invoke the method {@link Ticker#start} automatically when a listener is added. */\n    public autoStart = false;\n    /**\n     * Scalar time value from last frame to this frame.\n     * This value is capped by setting {@link Ticker#minFPS}\n     * and is scaled with {@link Ticker#speed}.\n     * **Note:** The cap may be exceeded by scaling.\n     */\n    public deltaTime = 1;\n    /**\n     * Scaler time elapsed in milliseconds from last frame to this frame.\n     * This value is capped by setting {@link Ticker#minFPS}\n     * and is scaled with {@link Ticker#speed}.\n     * **Note:** The cap may be exceeded by scaling.\n     * If the platform supports DOMHighResTimeStamp,\n     * this value will have a precision of 1 µs.\n     * Defaults to target frame time\n     * @default 16.66\n     */\n    public deltaMS: number;\n    /**\n     * Time elapsed in milliseconds from last frame to this frame.\n     * Opposed to what the scalar {@link Ticker#deltaTime}\n     * is based, this value is neither capped nor scaled.\n     * If the platform supports DOMHighResTimeStamp,\n     * this value will have a precision of 1 µs.\n     * Defaults to target frame time\n     * @default 16.66\n     */\n    public elapsedMS: number;\n    /**\n     * The last time {@link Ticker#update} was invoked.\n     * This value is also reset internally outside of invoking\n     * update, but only when a new animation frame is requested.\n     * If the platform supports DOMHighResTimeStamp,\n     * this value will have a precision of 1 µs.\n     */\n    public lastTime = -1;\n    /**\n     * Factor of current {@link Ticker#deltaTime}.\n     * @example\n     * // Scales ticker.deltaTime to what would be\n     * // the equivalent of approximately 120 FPS\n     * ticker.speed = 2;\n     */\n    public speed = 1;\n    /**\n     * Whether or not this ticker has been started.\n     * `true` if {@link Ticker#start} has been called.\n     * `false` if {@link Ticker#stop} has been called.\n     * While `false`, this value may change to `true` in the\n     * event of {@link Ticker#autoStart} being `true`\n     * and a listener is added.\n     */\n    public started = false;\n\n    /** The first listener. All new listeners added are chained on this. */\n    private _head: TickerListener;\n    /** Internal current frame request ID */\n    private _requestId: number = null;\n    /**\n     * Internal value managed by minFPS property setter and getter.\n     * This is the maximum allowed milliseconds between updates.\n     */\n    private _maxElapsedMS = 100;\n    /**\n     * Internal value managed by minFPS property setter and getter.\n     * This is the minimum allowed milliseconds between updates.\n     */\n    private _minElapsedMS = 0;\n    /** If enabled, deleting is disabled.*/\n    private _protected = false;\n    /** The last time keyframe was executed. Maintains a relatively fixed interval with the previous value. */\n    private _lastFrame = -1;\n    /**\n     * Internal tick method bound to ticker instance.\n     * This is because in early 2015, Function.bind\n     * is still 60% slower in high performance scenarios.\n     * Also separating frame requests from update method\n     * so listeners may be called at any time and with\n     * any animation API, just invoke ticker.update(time).\n     * @param time - Time since last tick.\n     */\n    private readonly _tick: (time: number) => any;\n\n    constructor()\n    {\n        this._head = new TickerListener(null, null, Infinity);\n        this.deltaMS = 1 / Ticker.targetFPMS;\n        this.elapsedMS = 1 / Ticker.targetFPMS;\n\n        this._tick = (time: number): void =>\n        {\n            this._requestId = null;\n\n            if (this.started)\n            {\n                // Invoke listeners now\n                this.update(time);\n                // Listener side effects may have modified ticker state.\n                if (this.started && this._requestId === null && this._head.next)\n                {\n                    this._requestId = requestAnimationFrame(this._tick);\n                }\n            }\n        };\n    }\n\n    /**\n     * Conditionally requests a new animation frame.\n     * If a frame has not already been requested, and if the internal\n     * emitter has listeners, a new frame is requested.\n     * @private\n     */\n    private _requestIfNeeded(): void\n    {\n        if (this._requestId === null && this._head.next)\n        {\n            // ensure callbacks get correct delta\n            this.lastTime = performance.now();\n            this._lastFrame = this.lastTime;\n            this._requestId = requestAnimationFrame(this._tick);\n        }\n    }\n\n    /**\n     * Conditionally cancels a pending animation frame.\n     * @private\n     */\n    private _cancelIfNeeded(): void\n    {\n        if (this._requestId !== null)\n        {\n            cancelAnimationFrame(this._requestId);\n            this._requestId = null;\n        }\n    }\n\n    /**\n     * Conditionally requests a new animation frame.\n     * If the ticker has been started it checks if a frame has not already\n     * been requested, and if the internal emitter has listeners. If these\n     * conditions are met, a new frame is requested. If the ticker has not\n     * been started, but autoStart is `true`, then the ticker starts now,\n     * and continues with the previous conditions to request a new frame.\n     * @private\n     */\n    private _startIfPossible(): void\n    {\n        if (this.started)\n        {\n            this._requestIfNeeded();\n        }\n        else if (this.autoStart)\n        {\n            this.start();\n        }\n    }\n\n    /**\n     * Register a handler for tick events. Calls continuously unless\n     * it is removed or the ticker is stopped.\n     * @param fn - The listener function to be added for updates\n     * @param context - The listener context\n     * @param {number} [priority=UPDATE_PRIORITY.NORMAL] - The priority for emitting\n     * @returns This instance of a ticker\n     */\n    public add<T = any>(fn: TickerCallback<T>, context?: T, priority: number = UPDATE_PRIORITY.NORMAL): this\n    {\n        return this._addListener(new TickerListener(fn, context, priority));\n    }\n\n    /**\n     * Add a handler for the tick event which is only execute once.\n     * @param fn - The listener function to be added for one update\n     * @param context - The listener context\n     * @param {number} [priority=UPDATE_PRIORITY.NORMAL] - The priority for emitting\n     * @returns This instance of a ticker\n     */\n    public addOnce<T = any>(fn: TickerCallback<T>, context?: T, priority: number = UPDATE_PRIORITY.NORMAL): this\n    {\n        return this._addListener(new TickerListener(fn, context, priority, true));\n    }\n\n    /**\n     * Internally adds the event handler so that it can be sorted by priority.\n     * Priority allows certain handler (user, AnimatedSprite, Interaction) to be run\n     * before the rendering.\n     * @private\n     * @param listener - Current listener being added.\n     * @returns This instance of a ticker\n     */\n    private _addListener(listener: TickerListener): this\n    {\n        // For attaching to head\n        let current = this._head.next;\n        let previous = this._head;\n\n        // Add the first item\n        if (!current)\n        {\n            listener.connect(previous);\n        }\n        else\n        {\n            // Go from highest to lowest priority\n            while (current)\n            {\n                if (listener.priority > current.priority)\n                {\n                    listener.connect(previous);\n                    break;\n                }\n                previous = current;\n                current = current.next;\n            }\n\n            // Not yet connected\n            if (!listener.previous)\n            {\n                listener.connect(previous);\n            }\n        }\n\n        this._startIfPossible();\n\n        return this;\n    }\n\n    /**\n     * Removes any handlers matching the function and context parameters.\n     * If no handlers are left after removing, then it cancels the animation frame.\n     * @param fn - The listener function to be removed\n     * @param context - The listener context to be removed\n     * @returns This instance of a ticker\n     */\n    public remove<T = any>(fn: TickerCallback<T>, context?: T): this\n    {\n        let listener = this._head.next;\n\n        while (listener)\n        {\n            // We found a match, lets remove it\n            // no break to delete all possible matches\n            // incase a listener was added 2+ times\n            if (listener.match(fn, context))\n            {\n                listener = listener.destroy();\n            }\n            else\n            {\n                listener = listener.next;\n            }\n        }\n\n        if (!this._head.next)\n        {\n            this._cancelIfNeeded();\n        }\n\n        return this;\n    }\n\n    /**\n     * The number of listeners on this ticker, calculated by walking through linked list\n     * @readonly\n     * @member {number}\n     */\n    get count(): number\n    {\n        if (!this._head)\n        {\n            return 0;\n        }\n\n        let count = 0;\n        let current = this._head;\n\n        while ((current = current.next))\n        {\n            count++;\n        }\n\n        return count;\n    }\n\n    /** Starts the ticker. If the ticker has listeners a new animation frame is requested at this point. */\n    public start(): void\n    {\n        if (!this.started)\n        {\n            this.started = true;\n            this._requestIfNeeded();\n        }\n    }\n\n    /** Stops the ticker. If the ticker has requested an animation frame it is canceled at this point. */\n    public stop(): void\n    {\n        if (this.started)\n        {\n            this.started = false;\n            this._cancelIfNeeded();\n        }\n    }\n\n    /** Destroy the ticker and don't use after this. Calling this method removes all references to internal events. */\n    public destroy(): void\n    {\n        if (!this._protected)\n        {\n            this.stop();\n\n            let listener = this._head.next;\n\n            while (listener)\n            {\n                listener = listener.destroy(true);\n            }\n\n            this._head.destroy();\n            this._head = null;\n        }\n    }\n\n    /**\n     * Triggers an update. An update entails setting the\n     * current {@link Ticker#elapsedMS},\n     * the current {@link Ticker#deltaTime},\n     * invoking all listeners with current deltaTime,\n     * and then finally setting {@link Ticker#lastTime}\n     * with the value of currentTime that was provided.\n     * This method will be called automatically by animation\n     * frame callbacks if the ticker instance has been started\n     * and listeners are added.\n     * @param {number} [currentTime=performance.now()] - the current time of execution\n     */\n    public update(currentTime: number = performance.now()): void\n    {\n        let elapsedMS;\n\n        // If the difference in time is zero or negative, we ignore most of the work done here.\n        // If there is no valid difference, then should be no reason to let anyone know about it.\n        // A zero delta, is exactly that, nothing should update.\n        //\n        // The difference in time can be negative, and no this does not mean time traveling.\n        // This can be the result of a race condition between when an animation frame is requested\n        // on the current JavaScript engine event loop, and when the ticker's start method is invoked\n        // (which invokes the internal _requestIfNeeded method). If a frame is requested before\n        // _requestIfNeeded is invoked, then the callback for the animation frame the ticker requests,\n        // can receive a time argument that can be less than the lastTime value that was set within\n        // _requestIfNeeded. This difference is in microseconds, but this is enough to cause problems.\n        //\n        // This check covers this browser engine timing issue, as well as if consumers pass an invalid\n        // currentTime value. This may happen if consumers opt-out of the autoStart, and update themselves.\n\n        if (currentTime > this.lastTime)\n        {\n            // Save uncapped elapsedMS for measurement\n            elapsedMS = this.elapsedMS = currentTime - this.lastTime;\n\n            // cap the milliseconds elapsed used for deltaTime\n            if (elapsedMS > this._maxElapsedMS)\n            {\n                elapsedMS = this._maxElapsedMS;\n            }\n\n            elapsedMS *= this.speed;\n\n            // If not enough time has passed, exit the function.\n            // Get ready for next frame by setting _lastFrame, but based on _minElapsedMS\n            // adjustment to ensure a relatively stable interval.\n            if (this._minElapsedMS)\n            {\n                const delta = currentTime - this._lastFrame | 0;\n\n                if (delta < this._minElapsedMS)\n                {\n                    return;\n                }\n\n                this._lastFrame = currentTime - (delta % this._minElapsedMS);\n            }\n\n            this.deltaMS = elapsedMS;\n            this.deltaTime = this.deltaMS * Ticker.targetFPMS;\n\n            // Cache a local reference, in-case ticker is destroyed\n            // during the emit, we can still check for head.next\n            const head = this._head;\n\n            // Invoke listeners added to internal emitter\n            let listener = head.next;\n\n            while (listener)\n            {\n                listener = listener.emit(this);\n            }\n\n            if (!head.next)\n            {\n                this._cancelIfNeeded();\n            }\n        }\n        else\n        {\n            this.deltaTime = this.deltaMS = this.elapsedMS = 0;\n        }\n\n        this.lastTime = currentTime;\n    }\n\n    /**\n     * The frames per second at which this ticker is running.\n     * The default is approximately 60 in most modern browsers.\n     * **Note:** This does not factor in the value of\n     * {@link Ticker#speed}, which is specific\n     * to scaling {@link Ticker#deltaTime}.\n     * @member {number}\n     * @readonly\n     */\n    get FPS(): number\n    {\n        return 1000 / this.elapsedMS;\n    }\n\n    /**\n     * Manages the maximum amount of milliseconds allowed to\n     * elapse between invoking {@link Ticker#update}.\n     * This value is used to cap {@link Ticker#deltaTime},\n     * but does not effect the measured value of {@link Ticker#FPS}.\n     * When setting this property it is clamped to a value between\n     * `0` and `Ticker.targetFPMS * 1000`.\n     * @member {number}\n     * @default 10\n     */\n    get minFPS(): number\n    {\n        return 1000 / this._maxElapsedMS;\n    }\n\n    set minFPS(fps: number)\n    {\n        // Minimum must be below the maxFPS\n        const minFPS = Math.min(this.maxFPS, fps);\n\n        // Must be at least 0, but below 1 / Ticker.targetFPMS\n        const minFPMS = Math.min(Math.max(0, minFPS) / 1000, Ticker.targetFPMS);\n\n        this._maxElapsedMS = 1 / minFPMS;\n    }\n\n    /**\n     * Manages the minimum amount of milliseconds required to\n     * elapse between invoking {@link Ticker#update}.\n     * This will effect the measured value of {@link Ticker#FPS}.\n     * If it is set to `0`, then there is no limit; PixiJS will render as many frames as it can.\n     * Otherwise it will be at least `minFPS`\n     * @member {number}\n     * @default 0\n     */\n    get maxFPS(): number\n    {\n        if (this._minElapsedMS)\n        {\n            return Math.round(1000 / this._minElapsedMS);\n        }\n\n        return 0;\n    }\n\n    set maxFPS(fps: number)\n    {\n        if (fps === 0)\n        {\n            this._minElapsedMS = 0;\n        }\n        else\n        {\n            // Max must be at least the minFPS\n            const maxFPS = Math.max(this.minFPS, fps);\n\n            this._minElapsedMS = 1 / (maxFPS / 1000);\n        }\n    }\n\n    /**\n     * The shared ticker instance used by {@link AnimatedSprite} and by\n     * {@link VideoResource} to update animation frames / video textures.\n     *\n     * It may also be used by {@link Application} if created with the `sharedTicker` option property set to true.\n     *\n     * The property {@link Ticker#autoStart} is set to `true` for this instance.\n     * Please follow the examples for usage, including how to opt-out of auto-starting the shared ticker.\n     * @example\n     * import { Ticker } from 'pixi.js';\n     *\n     * const ticker = Ticker.shared;\n     * // Set this to prevent starting this ticker when listeners are added.\n     * // By default this is true only for the Ticker.shared instance.\n     * ticker.autoStart = false;\n     *\n     * // FYI, call this to ensure the ticker is stopped. It should be stopped\n     * // if you have not attempted to render anything yet.\n     * ticker.stop();\n     *\n     * // Call this when you are ready for a running shared ticker.\n     * ticker.start();\n     * @example\n     * import { autoDetectRenderer, Container } from 'pixi.js';\n     *\n     * // You may use the shared ticker to render...\n     * const renderer = autoDetectRenderer();\n     * const stage = new Container();\n     * document.body.appendChild(renderer.view);\n     * ticker.add((time) => renderer.render(stage));\n     *\n     * // Or you can just update it manually.\n     * ticker.autoStart = false;\n     * ticker.stop();\n     * const animate = (time) => {\n     *     ticker.update(time);\n     *     renderer.render(stage);\n     *     requestAnimationFrame(animate);\n     * };\n     * animate(performance.now());\n     * @member {Ticker}\n     * @static\n     */\n    static get shared(): Ticker\n    {\n        if (!Ticker._shared)\n        {\n            const shared = Ticker._shared = new Ticker();\n\n            shared.autoStart = true;\n            shared._protected = true;\n        }\n\n        return Ticker._shared;\n    }\n\n    /**\n     * The system ticker instance used by {@link BasePrepare} for core timing\n     * functionality that shouldn't usually need to be paused, unlike the `shared`\n     * ticker which drives visual animations and rendering which may want to be paused.\n     *\n     * The property {@link Ticker#autoStart} is set to `true` for this instance.\n     * @member {Ticker}\n     * @static\n     */\n    static get system(): Ticker\n    {\n        if (!Ticker._system)\n        {\n            const system = Ticker._system = new Ticker();\n\n            system.autoStart = true;\n            system._protected = true;\n        }\n\n        return Ticker._system;\n    }\n}\n","import { ExtensionType } from '../extensions/Extensions';\nimport { UPDATE_PRIORITY } from './const';\nimport { Ticker } from './Ticker';\n\nimport type { ExtensionMetadata } from '../extensions/Extensions';\n\nexport interface TickerPluginOptions\n{\n    /**\n     * Automatically starts the rendering after the construction.\n     *  **Note**: Setting this parameter to `false` does NOT stop the shared ticker even if you set\n     *  `options.sharedTicker` to `true` in case that it is already started. Stop it by your own.\n     * @memberof ApplicationOptions\n     * @default true\n     */\n    autoStart?: boolean;\n    /**\n     * Set`true` to use `Ticker.shared`, `false` to create new ticker.\n     *  If set to `false`, you cannot register a handler to occur before anything that runs on the shared ticker.\n     *  The system ticker will always run before both the shared ticker and the app ticker.\n     * @memberof ApplicationOptions\n     * @default false\n     */\n    sharedTicker?: boolean;\n}\n\n/**\n * Middleware for for Application Ticker.\n * @class\n */\nexport class TickerPlugin\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = ExtensionType.Application;\n\n    public static start: () => void;\n    public static stop: () => void;\n    private static _ticker: Ticker;\n    public static ticker: Ticker;\n\n    /**\n     * Initialize the plugin with scope of application instance\n     * @static\n     * @private\n     * @param {object} [options] - See application options\n     */\n    protected static init(options?: PixiMixins.ApplicationOptions): void\n    {\n        // Set default\n        options = Object.assign({\n            autoStart: true,\n            sharedTicker: false,\n        }, options);\n\n        // Create ticker setter\n        Object.defineProperty(this, 'ticker',\n            {\n                set(ticker)\n                {\n                    if (this._ticker)\n                    {\n                        this._ticker.remove(this.render, this);\n                    }\n                    this._ticker = ticker;\n                    if (ticker)\n                    {\n                        ticker.add(this.render, this, UPDATE_PRIORITY.LOW);\n                    }\n                },\n                get()\n                {\n                    return this._ticker;\n                },\n            });\n\n        /**\n         * Convenience method for stopping the render.\n         * @method\n         * @memberof Application\n         * @instance\n         */\n        this.stop = (): void =>\n        {\n            this._ticker.stop();\n        };\n\n        /**\n         * Convenience method for starting the render.\n         * @method\n         * @memberof Application\n         * @instance\n         */\n        this.start = (): void =>\n        {\n            this._ticker.start();\n        };\n\n        /**\n         * Internal reference to the ticker.\n         * @type {Ticker}\n         * @name _ticker\n         * @memberof Application#\n         * @private\n         */\n        this._ticker = null;\n\n        /**\n         * Ticker for doing render updates.\n         * @type {Ticker}\n         * @name ticker\n         * @memberof Application#\n         * @default Ticker.shared\n         */\n        this.ticker = options.sharedTicker ? Ticker.shared : new Ticker();\n\n        // Start the rendering\n        if (options.autoStart)\n        {\n            this.start();\n        }\n    }\n\n    /**\n     * Clean up the ticker, scoped to application.\n     * @static\n     * @private\n     */\n    protected static destroy(): void\n    {\n        if (this._ticker)\n        {\n            const oldTicker = this._ticker;\n\n            this.ticker = null;\n            oldTicker.destroy();\n        }\n    }\n}\n","import { ExtensionType } from '../extensions/Extensions';\n\nimport type { ExtensionMetadata } from '../extensions/Extensions';\nimport type { Renderer } from '../rendering/renderers/types';\n\ntype ResizeableRenderer = Pick<Renderer, 'resize'>;\n\nexport interface ResizePluginOptions\n{\n    /**\n     * Element to automatically resize stage to.\n     * @memberof ApplicationOptions\n     */\n    resizeTo?: Window | HTMLElement;\n}\n\n/**\n * Middleware for for Application's resize functionality\n * @private\n * @class\n */\nexport class ResizePlugin\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = ExtensionType.Application;\n\n    public static resizeTo: Window | HTMLElement;\n    public static resize: () => void;\n    public static renderer: ResizeableRenderer;\n    public static queueResize: () => void;\n    public static render: () => void;\n    private static _resizeId: number;\n    private static _resizeTo: Window | HTMLElement;\n    private static _cancelResize: () => void;\n\n    /**\n     * Initialize the plugin with scope of application instance\n     * @static\n     * @private\n     * @param {object} [options] - See application options\n     */\n    public static init(options: ResizePluginOptions): void\n    {\n        Object.defineProperty(this, 'resizeTo',\n            /**\n             * The HTML element or window to automatically resize the\n             * renderer's view element to match width and height.\n             * @member {Window|HTMLElement}\n             * @name resizeTo\n             * @memberof Application#\n             */\n            {\n                set(dom: Window | HTMLElement)\n                {\n                    globalThis.removeEventListener('resize', this.queueResize);\n                    this._resizeTo = dom;\n                    if (dom)\n                    {\n                        globalThis.addEventListener('resize', this.queueResize);\n                        this.resize();\n                    }\n                },\n                get()\n                {\n                    return this._resizeTo;\n                },\n            });\n\n        /**\n         * Resize is throttled, so it's safe to call this multiple times per frame and it'll\n         * only be called once.\n         * @memberof Application#\n         * @method queueResize\n         * @private\n         */\n        this.queueResize = (): void =>\n        {\n            if (!this._resizeTo)\n            {\n                return;\n            }\n\n            this._cancelResize();\n\n            // // Throttle resize events per raf\n            this._resizeId = requestAnimationFrame(() => this.resize());\n        };\n\n        /**\n         * Cancel the resize queue.\n         * @memberof Application#\n         * @method cancelResize\n         * @private\n         */\n        this._cancelResize = (): void =>\n        {\n            if (this._resizeId)\n            {\n                cancelAnimationFrame(this._resizeId);\n                this._resizeId = null;\n            }\n        };\n\n        /**\n         * Execute an immediate resize on the renderer, this is not\n         * throttled and can be expensive to call many times in a row.\n         * Will resize only if `resizeTo` property is set.\n         * @memberof Application#\n         * @method resize\n         */\n        this.resize = (): void =>\n        {\n            if (!this._resizeTo)\n            {\n                return;\n            }\n\n            // clear queue resize\n            this._cancelResize();\n\n            let width: number;\n            let height: number;\n\n            // Resize to the window\n            if (this._resizeTo === globalThis.window)\n            {\n                width = globalThis.innerWidth;\n                height = globalThis.innerHeight;\n            }\n            // Resize to other HTML entities\n            else\n            {\n                const { clientWidth, clientHeight } = this._resizeTo as HTMLElement;\n\n                width = clientWidth;\n                height = clientHeight;\n            }\n\n            this.renderer.resize(width, height);\n            this.render();\n        };\n\n        // On resize\n        this._resizeId = null;\n        this._resizeTo = null;\n        this.resizeTo = options.resizeTo || null;\n    }\n\n    /**\n     * Clean up the ticker, scoped to application\n     * @static\n     * @private\n     */\n    public static destroy(): void\n    {\n        globalThis.removeEventListener('resize', this.queueResize);\n        this._cancelResize();\n        this._cancelResize = null;\n        this.queueResize = null;\n        this.resizeTo = null;\n        this.resize = null;\n    }\n}\n","import { extensions } from '../extensions/Extensions';\nimport { TickerPlugin } from '../ticker/TickerPlugin';\nimport { ResizePlugin } from './ResizePlugin';\n\nextensions.add(ResizePlugin);\nextensions.add(TickerPlugin);\n","import type { ExtensionMetadata } from '../../../extensions/Extensions';\nimport type { ResolvedAsset } from '../../types';\nimport type { Loader } from '../Loader';\n\n/**\n * The extension priority for loader parsers.\n * Helpful when managing multiple parsers that share the same extension test.\n * The higher priority parsers will be checked first.\n * @enum {number}\n */\nexport enum LoaderParserPriority\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    /** Generic parsers: txt, json, webfonts */\n    Low = 0,\n    /** PixiJS assets with generic extensions: spritesheets, bitmapfonts  */\n    Normal = 1,\n    /** Specific texture types: svg, png, ktx, dds, basis */\n    High = 2,\n}\n\n/**\n * All functions are optional here. The flow:\n *\n * for every asset,\n *\n * 1. `parser.test()`: Test the asset url.\n * 2. `parser.load()`: If test passes call the load function with the url\n * 3. `parser.testParse()`: Test to see if the asset should be parsed by the plugin\n * 4. `parse.parse()`: If test is parsed, then run the parse function on the asset.\n *\n * some plugins may only be used for parsing,\n * some only for loading\n * and some for both!\n */\nexport interface LoaderParser<ASSET = any, META_DATA = any, CONFIG = Record<string, any>>\n{\n    extension?: ExtensionMetadata;\n\n    /** A config to adjust the parser */\n    config?: CONFIG;\n\n    /** The name of the parser (this can be used when specifying loadParser in a ResolvedAsset) */\n    name: string;\n\n    /**\n     * each URL to load will be tested here,\n     * if the test is passed the assets are loaded using the load function below.\n     * Good place to test for things like file extensions!\n     * @param url - The URL to test\n     * @param resolvedAsset - Any custom additional information relevant to the asset being loaded\n     * @param loader - The loader instance\n     */\n    test?: (url: string, resolvedAsset?: ResolvedAsset<META_DATA>, loader?: Loader) => boolean;\n\n    /**\n     * This is the promise that loads the URL provided\n     * resolves with a loaded asset if returned by the parser.\n     * @param url - The URL to load\n     * @param resolvedAsset - Any custom additional information relevant to the asset being loaded\n     * @param loader - The loader instance\n     */\n    load?: <T>(url: string, resolvedAsset?: ResolvedAsset<META_DATA>, loader?: Loader) => Promise<T>;\n\n    /**\n     * This function is used to test if the parse function should be run on the asset\n     * If this returns true then parse is called with the asset\n     * @param asset - The loaded asset data\n     * @param resolvedAsset - Any custom additional information relevant to the asset being loaded\n     * @param loader - The loader instance\n     */\n    testParse?: (asset: ASSET, resolvedAsset?: ResolvedAsset<META_DATA>, loader?: Loader) => Promise<boolean>;\n\n    /**\n     * Gets called on the asset it testParse passes. Useful to convert a raw asset into something more useful than\n     * @param asset - The loaded asset data\n     * @param resolvedAsset - Any custom additional information relevant to the asset being loaded\n     * @param loader - The loader instance\n     */\n    parse?: <T>(asset: ASSET, resolvedAsset?: ResolvedAsset<META_DATA>, loader?: Loader) => Promise<T>;\n\n    /**\n     * If an asset is parsed using this parser, the unload function will be called when the user requests an asset\n     * to be unloaded. This is useful for things like sounds or textures that can be unloaded from memory\n     * @param asset - The asset to unload/destroy\n     * @param resolvedAsset - Any custom additional information relevant to the asset being loaded\n     * @param loader - The loader instance\n     */\n    unload?: (asset: ASSET, resolvedAsset?: ResolvedAsset<META_DATA>, loader?: Loader) => void;\n}\n","/**\n * Copies the search params from one url to another\n * @param targetUrl - the url to copy the search params to\n * @param sourceUrl - the url container the search params we want to copy\n * @returns the url with the search params copied\n */\nexport const copySearchParams = (targetUrl: string, sourceUrl: string) =>\n{\n    const searchParams = sourceUrl.split('?')[1];\n\n    if (searchParams)\n    {\n        targetUrl += `?${searchParams}`;\n    }\n\n    return targetUrl;\n};\n","import type { ICanvas } from './ICanvas';\nimport type { ICanvasRenderingContext2D } from './ICanvasRenderingContext2D';\n\n/**\n * This interface describes all the DOM dependent calls that Pixi makes throughout its codebase.\n * Implementations of this interface can be used to make sure Pixi will work in any environment,\n * such as browser, Web Workers, and Node.js.\n */\nexport interface Adapter\n{\n    /** Returns a canvas object that can be used to create a webgl context. */\n    createCanvas: (width?: number, height?: number) => ICanvas;\n    /** Returns a 2D rendering context. */\n    getCanvasRenderingContext2D: () => { prototype: ICanvasRenderingContext2D; };\n    /** Returns a WebGL rendering context. */\n    getWebGLRenderingContext: () => typeof WebGLRenderingContext;\n    /** Returns a partial implementation of the browsers window.navigator */\n    getNavigator: () => { userAgent: string, gpu: GPU | null };\n    /** Returns the current base URL For browser environments this is either the document.baseURI or window.location.href */\n    getBaseUrl: () => string;\n    getFontFaceSet: () => FontFaceSet | null;\n    fetch: (url: RequestInfo, options?: RequestInit) => Promise<Response>;\n    parseXML: (xml: string) => Document;\n}\n\nexport const BrowserAdapter = {\n    /**\n     * Creates a canvas element of the given size.\n     * This canvas is created using the browser's native canvas element.\n     * @param width - width of the canvas\n     * @param height - height of the canvas\n     */\n    createCanvas: (width: number, height: number): HTMLCanvasElement =>\n    {\n        const canvas = document.createElement('canvas');\n\n        canvas.width = width;\n        canvas.height = height;\n\n        return canvas;\n    },\n    getCanvasRenderingContext2D: () => CanvasRenderingContext2D,\n    getWebGLRenderingContext: () => WebGLRenderingContext,\n    getNavigator: () => navigator,\n    getBaseUrl: () => (document.baseURI ?? window.location.href),\n    getFontFaceSet: () => document.fonts,\n    fetch: (url: RequestInfo, options?: RequestInit) => fetch(url, options),\n    parseXML: (xml: string) =>\n    {\n        const parser = new DOMParser();\n\n        return parser.parseFromString(xml, 'text/xml');\n    },\n} as Adapter;\n\nlet currentAdapter: Adapter = BrowserAdapter;\n\nexport const DOMAdapter = {\n    get(): Adapter\n    {\n        return currentAdapter;\n    },\n    set(adapter: Adapter): void\n    {\n        currentAdapter = adapter;\n    },\n};\n","import { DOMAdapter } from '../settings/adapter/adapter';\n\nfunction assertPath(path: string)\n{\n    if (typeof path !== 'string')\n    {\n        throw new TypeError(`Path must be a string. Received ${JSON.stringify(path)}`);\n    }\n}\n\nfunction removeUrlParams(url: string): string\n{\n    const re = url.split('?')[0];\n\n    return re.split('#')[0];\n}\n\nfunction escapeRegExp(string: string)\n{\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n\nfunction replaceAll(str: string, find: string, replace: string)\n{\n    return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path: string, allowAboveRoot: boolean)\n{\n    let res = '';\n    let lastSegmentLength = 0;\n    let lastSlash = -1;\n    let dots = 0;\n    let code = -1;\n\n    for (let i = 0; i <= path.length; ++i)\n    {\n        if (i < path.length)\n        {\n            code = path.charCodeAt(i);\n        }\n        else if (code === 47)\n        {\n            break;\n        }\n        else\n        {\n            code = 47;\n        }\n        if (code === 47)\n        {\n            if (lastSlash === i - 1 || dots === 1)\n            {\n                // NOOP\n            }\n            else if (lastSlash !== i - 1 && dots === 2)\n            {\n                if (\n                    res.length < 2\n                    || lastSegmentLength !== 2\n                    || res.charCodeAt(res.length - 1) !== 46\n                    || res.charCodeAt(res.length - 2) !== 46\n                )\n                {\n                    if (res.length > 2)\n                    {\n                        const lastSlashIndex = res.lastIndexOf('/');\n\n                        if (lastSlashIndex !== res.length - 1)\n                        {\n                            if (lastSlashIndex === -1)\n                            {\n                                res = '';\n                                lastSegmentLength = 0;\n                            }\n                            else\n                            {\n                                res = res.slice(0, lastSlashIndex);\n                                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n                            }\n                            lastSlash = i;\n                            dots = 0;\n                            continue;\n                        }\n                    }\n                    else if (res.length === 2 || res.length === 1)\n                    {\n                        res = '';\n                        lastSegmentLength = 0;\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                }\n                if (allowAboveRoot)\n                {\n                    if (res.length > 0)\n                    { res += '/..'; }\n                    else\n                    { res = '..'; }\n                    lastSegmentLength = 2;\n                }\n            }\n            else\n            {\n                if (res.length > 0)\n                {\n                    res += `/${path.slice(lastSlash + 1, i)}`;\n                }\n                else\n                {\n                    res = path.slice(lastSlash + 1, i);\n                }\n                lastSegmentLength = i - lastSlash - 1;\n            }\n            lastSlash = i;\n            dots = 0;\n        }\n        else if (code === 46 && dots !== -1)\n        {\n            ++dots;\n        }\n        else\n        {\n            dots = -1;\n        }\n    }\n\n    return res;\n}\n\nexport interface Path\n{\n    toPosix: (path: string) => string;\n    toAbsolute: (url: string, baseUrl?: string, rootUrl?: string) => string;\n    isUrl: (path: string) => boolean;\n    isDataUrl: (path: string) => boolean;\n    isBlobUrl: (path: string) => boolean;\n    hasProtocol: (path: string) => boolean;\n    getProtocol: (path: string) => string;\n    normalize: (path: string) => string;\n    join: (...paths: string[]) => string;\n    isAbsolute: (path: string) => boolean;\n    dirname: (path: string) => string;\n    rootname: (path: string) => string;\n    basename: (path: string, ext?: string) => string;\n    extname: (path: string) => string;\n    parse: (path: string) => { root?: string, dir?: string, base?: string, ext?: string, name?: string };\n    sep: string,\n    delimiter: string\n}\n\nexport const path: Path = {\n    /**\n     * Converts a path to posix format.\n     * @param path - The path to convert to posix\n     */\n    toPosix(path: string) { return replaceAll(path, '\\\\', '/'); },\n    /**\n     * Checks if the path is a URL e.g. http://, https://\n     * @param path - The path to check\n     */\n    isUrl(path: string) { return (/^https?:/).test(this.toPosix(path)); },\n    /**\n     * Checks if the path is a data URL\n     * @param path - The path to check\n     */\n    isDataUrl(path: string)\n    {\n        // eslint-disable-next-line max-len\n        return (/^data:([a-z]+\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s<>]*?)$/i)\n            .test(path);\n    },\n    /**\n     * Checks if the path is a blob URL\n     * @param path - The path to check\n     */\n    isBlobUrl(path: string)\n    {\n        // Not necessary to have an exact regex to match the blob URLs\n        return path.startsWith('blob:');\n    },\n    /**\n     * Checks if the path has a protocol e.g. http://, https://, file:///, data:, blob:, C:/\n     * This will return true for windows file paths\n     * @param path - The path to check\n     */\n    hasProtocol(path: string) { return (/^[^/:]+:/).test(this.toPosix(path)); },\n    /**\n     * Returns the protocol of the path e.g. http://, https://, file:///, data:, blob:, C:/\n     * @param path - The path to get the protocol from\n     */\n    getProtocol(path: string)\n    {\n        assertPath(path);\n        path = this.toPosix(path);\n\n        const matchFile = (/^file:\\/\\/\\//).exec(path);\n\n        if (matchFile)\n        {\n            return matchFile[0];\n        }\n\n        const matchProtocol = (/^[^/:]+:\\/{0,2}/).exec(path);\n\n        if (matchProtocol)\n        {\n            return matchProtocol[0];\n        }\n\n        return '';\n    },\n\n    /**\n     * Converts URL to an absolute path.\n     * When loading from a Web Worker, we must use absolute paths.\n     * If the URL is already absolute we return it as is\n     * If it's not, we convert it\n     * @param url - The URL to test\n     * @param customBaseUrl - The base URL to use\n     * @param customRootUrl - The root URL to use\n     */\n    toAbsolute(url: string, customBaseUrl?: string, customRootUrl?: string)\n    {\n        assertPath(url);\n\n        if (this.isDataUrl(url) || this.isBlobUrl(url)) return url;\n\n        const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? DOMAdapter.get().getBaseUrl()));\n        const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));\n\n        url = this.toPosix(url);\n\n        // root relative url\n        if (url.startsWith('/'))\n        {\n            return path.join(rootUrl, url.slice(1));\n        }\n\n        const absolutePath = this.isAbsolute(url) ? url : this.join(baseUrl, url);\n\n        return absolutePath;\n    },\n\n    /**\n     * Normalizes the given path, resolving '..' and '.' segments\n     * @param path - The path to normalize\n     */\n    normalize(path: string)\n    {\n        assertPath(path);\n\n        if (path.length === 0) return '.';\n        if (this.isDataUrl(path) || this.isBlobUrl(path)) return path;\n\n        path = this.toPosix(path);\n\n        let protocol = '';\n        const isAbsolute = path.startsWith('/');\n\n        if (this.hasProtocol(path))\n        {\n            protocol = this.rootname(path);\n            path = path.slice(protocol.length);\n        }\n\n        const trailingSeparator = path.endsWith('/');\n\n        // Normalize the path\n        path = normalizeStringPosix(path, false);\n\n        if (path.length > 0 && trailingSeparator) path += '/';\n        if (isAbsolute) return `/${path}`;\n\n        return protocol + path;\n    },\n\n    /**\n     * Determines if path is an absolute path.\n     * Absolute paths can be urls, data urls, or paths on disk\n     * @param path - The path to test\n     */\n    isAbsolute(path: string)\n    {\n        assertPath(path);\n        path = this.toPosix(path);\n\n        if (this.hasProtocol(path)) return true;\n\n        return path.startsWith('/');\n    },\n\n    /**\n     * Joins all given path segments together using the platform-specific separator as a delimiter,\n     * then normalizes the resulting path\n     * @param segments - The segments of the path to join\n     */\n    join(...segments: string[])\n    {\n        if (segments.length === 0)\n        { return '.'; }\n        let joined;\n\n        for (let i = 0; i < segments.length; ++i)\n        {\n            const arg = segments[i];\n\n            assertPath(arg);\n            if (arg.length > 0)\n            {\n                if (joined === undefined) joined = arg;\n                else\n                {\n                    const prevArg = segments[i - 1] ?? '';\n\n                    if (this.extname(prevArg))\n                    {\n                        joined += `/../${arg}`;\n                    }\n                    else\n                    {\n                        joined += `/${arg}`;\n                    }\n                }\n            }\n        }\n        if (joined === undefined) { return '.'; }\n\n        return this.normalize(joined);\n    },\n\n    /**\n     * Returns the directory name of a path\n     * @param path - The path to parse\n     */\n    dirname(path: string)\n    {\n        assertPath(path);\n        if (path.length === 0) return '.';\n        path = this.toPosix(path);\n        let code = path.charCodeAt(0);\n        const hasRoot = code === 47;\n        let end = -1;\n        let matchedSlash = true;\n\n        const proto = this.getProtocol(path);\n        const origpath = path;\n\n        path = path.slice(proto.length);\n\n        for (let i = path.length - 1; i >= 1; --i)\n        {\n            code = path.charCodeAt(i);\n            if (code === 47)\n            {\n                if (!matchedSlash)\n                {\n                    end = i;\n                    break;\n                }\n            }\n            else\n            {\n                // We saw the first non-path separator\n                matchedSlash = false;\n            }\n        }\n\n        // if end is -1 and its a url then we need to add the path back\n        // eslint-disable-next-line no-nested-ternary\n        if (end === -1) return hasRoot ? '/' : this.isUrl(origpath) ? proto + path : proto;\n        if (hasRoot && end === 1) return '//';\n\n        return proto + path.slice(0, end);\n    },\n\n    /**\n     * Returns the root of the path e.g. /, C:/, file:///, http://domain.com/\n     * @param path - The path to parse\n     */\n    rootname(path: string)\n    {\n        assertPath(path);\n        path = this.toPosix(path);\n\n        let root = '';\n\n        if (path.startsWith('/')) root = '/';\n        else\n        {\n            root = this.getProtocol(path);\n        }\n\n        if (this.isUrl(path))\n        {\n            // need to find the first path separator\n            const index = path.indexOf('/', root.length);\n\n            if (index !== -1)\n            {\n                root = path.slice(0, index);\n            }\n            else root = path;\n\n            if (!root.endsWith('/')) root += '/';\n        }\n\n        return root;\n    },\n\n    /**\n     * Returns the last portion of a path\n     * @param path - The path to test\n     * @param ext - Optional extension to remove\n     */\n    basename(path: string, ext?: string)\n    {\n        assertPath(path);\n        if (ext) assertPath(ext);\n\n        path = removeUrlParams(this.toPosix(path));\n\n        let start = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i: number;\n\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length)\n        {\n            if (ext.length === path.length && ext === path) return '';\n            let extIdx = ext.length - 1;\n            let firstNonSlashEnd = -1;\n\n            for (i = path.length - 1; i >= 0; --i)\n            {\n                const code = path.charCodeAt(i);\n\n                if (code === 47)\n                {\n                    // If we reached a path separator that was not part of a set of path\n                    // separators at the end of the string, stop now\n                    if (!matchedSlash)\n                    {\n                        start = i + 1;\n                        break;\n                    }\n                }\n                else\n                {\n                    if (firstNonSlashEnd === -1)\n                    {\n                        // We saw the first non-path separator, remember this index in case\n                        // we need it if the extension ends up not matching\n                        matchedSlash = false;\n                        firstNonSlashEnd = i + 1;\n                    }\n                    if (extIdx >= 0)\n                    {\n                        // Try to match the explicit extension\n                        if (code === ext.charCodeAt(extIdx))\n                        {\n                            if (--extIdx === -1)\n                            {\n                                // We matched the extension, so mark this as the end of our path\n                                // component\n                                end = i;\n                            }\n                        }\n                        else\n                        {\n                            // Extension does not match, so our result is the entire path\n                            // component\n                            extIdx = -1;\n                            end = firstNonSlashEnd;\n                        }\n                    }\n                }\n            }\n\n            if (start === end) end = firstNonSlashEnd; else if (end === -1) end = path.length;\n\n            return path.slice(start, end);\n        }\n        for (i = path.length - 1; i >= 0; --i)\n        {\n            if (path.charCodeAt(i) === 47)\n            {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash)\n                {\n                    start = i + 1;\n                    break;\n                }\n            }\n            else if (end === -1)\n            {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n\n        if (end === -1) return '';\n\n        return path.slice(start, end);\n    },\n\n    /**\n     * Returns the extension of the path, from the last occurrence of the . (period) character to end of string in the last\n     * portion of the path. If there is no . in the last portion of the path, or if there are no . characters other than\n     * the first character of the basename of path, an empty string is returned.\n     * @param path - The path to parse\n     */\n    extname(path: string)\n    {\n        assertPath(path);\n        path = removeUrlParams(this.toPosix(path));\n\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n\n        for (let i = path.length - 1; i >= 0; --i)\n        {\n            const code = path.charCodeAt(i);\n\n            if (code === 47)\n            {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash)\n                {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1)\n            {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === 46)\n            {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) startDot = i;\n                else if (preDotState !== 1) preDotState = 1;\n            }\n            else if (startDot !== -1)\n            {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n\n        if (\n            startDot === -1 || end === -1\n            // We saw a non-dot character immediately before the dot\n            || preDotState === 0\n            // The (right-most) trimmed path component is exactly '..'\n            // eslint-disable-next-line no-mixed-operators, no-mixed-operators/no-mixed-operators\n            || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1\n        )\n        {\n            return '';\n        }\n\n        return path.slice(startDot, end);\n    },\n\n    /**\n     * Parses a path into an object containing the 'root', `dir`, `base`, `ext`, and `name` properties.\n     * @param path - The path to parse\n     */\n    parse(path: string)\n    {\n        assertPath(path);\n\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\n\n        if (path.length === 0) return ret;\n        path = removeUrlParams(this.toPosix(path));\n\n        let code = path.charCodeAt(0);\n        const isAbsolute = this.isAbsolute(path);\n        let start: number;\n        const protocol = '';\n\n        ret.root = this.rootname(path);\n\n        if (isAbsolute || this.hasProtocol(path))\n        {\n            start = 1;\n        }\n        else\n        {\n            start = 0;\n        }\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i = path.length - 1;\n\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n\n        // Get non-dir info\n        for (; i >= start; --i)\n        {\n            code = path.charCodeAt(i);\n            if (code === 47)\n            {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash)\n                {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1)\n            {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === 46)\n            {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) startDot = i;\n                else if (preDotState !== 1) preDotState = 1;\n            }\n            else if (startDot !== -1)\n            {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n\n        if (\n            startDot === -1 || end === -1\n            // We saw a non-dot character immediately before the dot\n            || preDotState === 0\n            // The (right-most) trimmed path component is exactly '..'\n            // eslint-disable-next-line no-mixed-operators, no-mixed-operators/no-mixed-operators\n            || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1\n        )\n        {\n            if (end !== -1)\n            {\n                if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);\n                else ret.base = ret.name = path.slice(startPart, end);\n            }\n        }\n        else\n        {\n            if (startPart === 0 && isAbsolute)\n            {\n                ret.name = path.slice(1, startDot);\n                ret.base = path.slice(1, end);\n            }\n            else\n            {\n                ret.name = path.slice(startPart, startDot);\n                ret.base = path.slice(startPart, end);\n            }\n            ret.ext = path.slice(startDot, end);\n        }\n\n        ret.dir = this.dirname(path);\n        if (protocol) ret.dir = protocol + ret.dir;\n\n        return ret;\n    },\n\n    sep: '/',\n    delimiter: ':'\n} as Path;\n","export const convertToList = <T>(\n    input: string | T | (string | T)[],\n    transform?: (input: string) => T,\n    forceTransform = false\n): T[] =>\n{\n    if (!Array.isArray(input))\n    {\n        input = [input as T];\n    }\n\n    if (!transform)\n    {\n        return input as T[];\n    }\n\n    return (input as (string | T)[]).map((item): T =>\n    {\n        if (typeof item === 'string' || forceTransform)\n        {\n            return transform(item as string);\n        }\n\n        return item as T;\n    });\n};\n","import { warn } from '../../utils/logging/warn';\nimport { convertToList } from '../utils/convertToList';\n\nimport type { CacheParser } from './CacheParser';\n\n/**\n * A single Cache for all assets.\n *\n * When assets are added to the cache via set they normally are added to the cache as key-value pairs.\n *\n * With this cache, you can add parsers that will take the object and convert it to a list of assets that can be cached.\n * for example a cacheSprite Sheet parser will add all of the textures found within its sprite sheet directly to the cache.\n *\n * This gives devs the flexibility to cache any type of object however we want.\n *\n * It is not intended that this class is created by developers - it is part of the Asset package.\n * This is the first major system of PixiJS' main Assets class.\n * @class Cache\n */\nclass CacheClass\n{\n    private readonly _parsers: CacheParser[] = [];\n\n    private readonly _cache: Map<any, any> = new Map();\n    private readonly _cacheMap: Map<string, {\n        keys: string[],\n        cacheKeys: string[],\n    }> = new Map();\n\n    /** Clear all entries. */\n    public reset(): void\n    {\n        this._cacheMap.clear();\n        this._cache.clear();\n    }\n\n    /**\n     * Check if the key exists\n     * @param key - The key to check\n     */\n    public has(key: any): boolean\n    {\n        return this._cache.has(key);\n    }\n\n    /**\n     * Fetch entry by key\n     * @param key - The key of the entry to get\n     */\n    public get<T = any>(key: any): T\n    {\n        const result = this._cache.get(key);\n\n        if (!result)\n        {\n            // #if _DEBUG\n            warn(`[Assets] Asset id ${key} was not found in the Cache`);\n            // #endif\n        }\n\n        return result as T;\n    }\n\n    /**\n     * Set a value by key or keys name\n     * @param key - The key or keys to set\n     * @param value - The value to store in the cache or from which cacheable assets will be derived.\n     */\n    public set(key: any | any[], value: unknown): void\n    {\n        const keys = convertToList<string>(key);\n\n        let cacheableAssets: Record<string, any>;\n\n        for (let i = 0; i < this.parsers.length; i++)\n        {\n            const parser = this.parsers[i];\n\n            if (parser.test(value))\n            {\n                cacheableAssets = parser.getCacheableAssets(keys, value);\n\n                break;\n            }\n        }\n\n        // convert cacheable assets to a map of key-value pairs\n        const cacheableMap = new Map(Object.entries(cacheableAssets || {}));\n\n        if (!cacheableAssets)\n        {\n            keys.forEach((key) =>\n            {\n                cacheableMap.set(key, value);\n            });\n        }\n\n        const cacheKeys = [...cacheableMap.keys()];\n\n        const cachedAssets = {\n            cacheKeys,\n            keys\n        };\n\n        // this is so we can remove them later..\n        keys.forEach((key) =>\n        {\n            this._cacheMap.set(key, cachedAssets as any);\n        });\n\n        cacheKeys.forEach((key) =>\n        {\n            if (this._cache.has(key) && this._cache.get(key) !== value)\n            {\n                // #if _DEBUG\n                warn('[Cache] already has key:', key);\n                // #endif\n            }\n\n            this._cache.set(key, cacheableMap.get(key));\n        });\n    }\n\n    /**\n     * Remove entry by key\n     *\n     * This function will also remove any associated alias from the cache also.\n     * @param key - The key of the entry to remove\n     */\n    public remove(key: any): void\n    {\n        if (!this._cacheMap.has(key))\n        {\n            // #if _DEBUG\n            warn(`[Assets] Asset id ${key} was not found in the Cache`);\n            // #endif\n\n            return;\n        }\n\n        const cacheMap = this._cacheMap.get(key);\n\n        const cacheKeys = cacheMap.cacheKeys;\n\n        cacheKeys.forEach((key) =>\n        {\n            this._cache.delete(key);\n        });\n\n        cacheMap.keys.forEach((key: string) =>\n        {\n            this._cacheMap.delete(key);\n        });\n    }\n\n    /** All loader parsers registered */\n    public get parsers(): CacheParser[]\n    {\n        return this._parsers;\n    }\n}\n\nexport const Cache = new CacheClass();\n","export const NOOP = () =>\n{\n    // empty!\n};\n","import { Cache } from '../../../../../assets/cache/Cache';\nimport { extensions, ExtensionType } from '../../../../../extensions/Extensions';\nimport { Texture } from '../Texture';\n\nimport type { TypedArray } from '../../buffer/Buffer';\nimport type { BufferSourceOptions } from './BufferImageSource';\nimport type { ImageResource } from './ImageSource';\nimport type { TextureSource, TextureSourceOptions } from './TextureSource';\n\ninterface TextureSourceConstructor<T extends TextureSource = TextureSource>\n{\n    new (options: TextureSourceOptions): T;\n    test(options: ImageResource | TypedArray | ArrayBuffer): boolean;\n}\n\nconst sources: TextureSourceConstructor[] = [];\n\nextensions.handleByList(ExtensionType.TextureSource, sources);\n\nexport function autoDetectSource(options: TextureSourceOptions<ImageResource> | BufferSourceOptions = {}): TextureSource\n{\n    for (let i = 0; i < sources.length; i++)\n    {\n        const Source = sources[i];\n\n        if (Source.test(options.resource))\n        {\n            return new Source(options);\n        }\n    }\n\n    throw new Error(`Could not find a source type for resource: ${options.resource}`);\n}\n\nexport function resourceToTexture(\n    options: TextureSourceOptions<ImageResource> | BufferSourceOptions = {},\n    skipCache = false\n): Texture\n{\n    const { resource } = options;\n\n    if (!skipCache && Cache.has(resource))\n    {\n        return Cache.get(resource);\n    }\n\n    const texture = new Texture({ source: autoDetectSource(options) });\n\n    texture.on('destroy', () =>\n    {\n        if (Cache.has(resource))\n        {\n            Cache.remove(resource);\n        }\n    });\n\n    if (!skipCache)\n    {\n        Cache.set(resource, texture);\n    }\n\n    return texture;\n}\n","const idCounts: Record<string, number> = Object.create(null);\nconst idHash: Record<string, number> = Object.create(null);\n\nexport function createIdFromString(value: string, groupId: string): number\n{\n    let id = idHash[value];\n\n    if (id === undefined)\n    {\n        if (idCounts[groupId] === undefined)\n        {\n            idCounts[groupId] = 1;\n        }\n\n        idHash[value] = id = idCounts[groupId]++;\n    }\n\n    return id;\n}\n","import EventEmitter from 'eventemitter3';\nimport { deprecation } from '../../../../utils/logging/deprecation';\nimport { createIdFromString } from '../utils/createIdFromString';\n\nimport type { BindResource } from '../../gpu/shader/BindResource';\nimport type { COMPARE_FUNCTION, SCALE_MODE, WRAP_MODE } from './const';\n\nexport interface TextureStyleOptions extends Partial<TextureStyle>\n{\n    /** setting this will set wrapModeU,wrapModeV and wrapModeW all at once! */\n    addressMode?: WRAP_MODE;\n    /** */\n    addressModeU?: WRAP_MODE;\n    /** */\n    addressModeV?: WRAP_MODE;\n    /** Specifies the {{GPUAddressMode|address modes}} for the texture width, height, and depth coordinates, respectively. */\n    addressModeW?: WRAP_MODE;\n\n    /** setting this will set magFilter,minFilter and mipmapFilter all at once!  */\n    scaleMode?: SCALE_MODE;\n    /** Specifies the sampling behavior when the sample footprint is smaller than or equal to one texel. */\n\n    magFilter?: SCALE_MODE;\n    /** Specifies the sampling behavior when the sample footprint is larger than one texel. */\n    minFilter?: SCALE_MODE;\n    /** Specifies behavior for sampling between mipmap levels. */\n    mipmapFilter?: SCALE_MODE;\n\n    /** */\n    lodMinClamp?: number;\n    /** Specifies the minimum and maximum levels of detail, respectively, used internally when sampling a texture. */\n    lodMaxClamp?: number;\n    /**\n     * When provided the sampler will be a comparison sampler with the specified\n     * {@link GPUCompareFunction}.\n     * Note: Comparison samplers may use filtering, but the sampling results will be\n     * implementation-dependent and may differ from the normal filtering rules.\n     */\n    compare?: COMPARE_FUNCTION;\n    /**\n     * Specifies the maximum anisotropy value clamp used by the sampler.\n     * Note: Most implementations support {@link GPUSamplerDescriptor#maxAnisotropy} values in range\n     * between 1 and 16, inclusive. The used value of {@link GPUSamplerDescriptor#maxAnisotropy} will\n     * be clamped to the maximum value that the platform supports.\n     *\n     * setting this to anything higher than 1 will set scale modes to 'linear'\n     */\n    maxAnisotropy?: number;\n\n}\n\nexport class TextureStyle extends EventEmitter<{\n    change: TextureStyle,\n    destroy: TextureStyle,\n}> implements BindResource\n{\n    public resourceType = 'textureSampler';\n    public touched = 0;\n    private _resourceId: number;\n\n    // override to set styles globally\n    public static readonly defaultOptions: TextureStyleOptions = {\n        addressMode: 'clamp-to-edge',\n        scaleMode: 'linear'\n    };\n\n    /** */\n    public addressModeU?: WRAP_MODE;\n    /** */\n    public addressModeV?: WRAP_MODE;\n    /** Specifies the {{GPUAddressMode|address modes}} for the texture width, height, and depth coordinates, respectively. */\n    public addressModeW?: WRAP_MODE;\n    /** Specifies the sampling behavior when the sample footprint is smaller than or equal to one texel. */\n    public magFilter?: SCALE_MODE;\n    /** Specifies the sampling behavior when the sample footprint is larger than one texel. */\n    public minFilter?: SCALE_MODE;\n    /** Specifies behavior for sampling between mipmap levels. */\n    public mipmapFilter?: SCALE_MODE;\n    /** */\n    public lodMinClamp?: number;\n    /** Specifies the minimum and maximum levels of detail, respectively, used internally when sampling a texture. */\n    public lodMaxClamp?: number;\n    /**\n     * When provided the sampler will be a comparison sampler with the specified\n     * {@link GPUCompareFunction}.\n     * Note: Comparison samplers may use filtering, but the sampling results will be\n     * implementation-dependent and may differ from the normal filtering rules.\n     */\n    public compare?: COMPARE_FUNCTION;\n    /**\n     * Specifies the maximum anisotropy value clamp used by the sampler.\n     * Note: Most implementations support {@link GPUSamplerDescriptor#maxAnisotropy} values in range\n     * between 1 and 16, inclusive. The used value of {@link GPUSamplerDescriptor#maxAnisotropy} will\n     * be clamped to the maximum value that the platform supports.\n     * @internal\n     */\n    public _maxAnisotropy?: number = 1;\n\n    constructor(options: TextureStyleOptions = {})\n    {\n        super();\n\n        options = { ...TextureStyle.defaultOptions, ...options };\n\n        this.addressMode = options.addressMode;\n\n        this.addressModeU = options.addressModeU ?? this.addressModeU;\n        this.addressModeV = options.addressModeV ?? this.addressModeV;\n        this.addressModeW = options.addressModeW ?? this.addressModeW;\n\n        this.scaleMode = options.scaleMode;\n\n        this.magFilter = options.magFilter ?? this.magFilter;\n        this.minFilter = options.minFilter ?? this.minFilter;\n        this.mipmapFilter = options.mipmapFilter ?? this.mipmapFilter;\n\n        this.lodMinClamp = options.lodMinClamp;\n        this.lodMaxClamp = options.lodMaxClamp;\n\n        this.compare = options.compare;\n\n        this.maxAnisotropy = options.maxAnisotropy ?? 1;\n    }\n\n    set addressMode(value: WRAP_MODE)\n    {\n        this.addressModeU = value;\n        this.addressModeV = value;\n        this.addressModeW = value;\n    }\n\n    get addressMode(): WRAP_MODE\n    {\n        return this.addressModeU;\n    }\n\n    set wrapMode(value: WRAP_MODE)\n    {\n        deprecation('8', 'TextureStyle.wrapMode is now TextureStyle.addressMode');\n        this.addressMode = value;\n    }\n\n    get wrapMode(): WRAP_MODE\n    {\n        return this.addressMode;\n    }\n\n    set scaleMode(value: SCALE_MODE)\n    {\n        this.magFilter = value;\n        this.minFilter = value;\n        this.mipmapFilter = value;\n    }\n\n    get scaleMode(): SCALE_MODE\n    {\n        return this.magFilter;\n    }\n\n    set maxAnisotropy(value: number)\n    {\n        this._maxAnisotropy = Math.min(value, 16);\n\n        if (this._maxAnisotropy > 1)\n        {\n            this.scaleMode = 'linear';\n        }\n    }\n\n    get maxAnisotropy(): number\n    {\n        return this._maxAnisotropy;\n    }\n\n    // TODO - move this to WebGL?\n    get resourceId(): number\n    {\n        return this._resourceId || this._generateResourceId();\n    }\n\n    public update()\n    {\n        // manage the resource..\n        this.emit('change', this);\n        this._resourceId = null;\n    }\n\n    private _generateResourceId(): number\n    {\n        // eslint-disable-next-line max-len\n        const bigKey = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;\n\n        this._resourceId = createIdFromString(bigKey, 'sampler');\n\n        return this._resourceId;\n    }\n\n    /** Destroys the style */\n    public destroy()\n    {\n        this.emit('destroy', this);\n\n        this.removeAllListeners();\n    }\n}\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../../utils/data/uid';\nimport { deprecation, v8_0_0 } from '../../../../../utils/logging/deprecation';\nimport { TextureStyle } from '../TextureStyle';\n\nimport type { BindResource } from '../../../gpu/shader/BindResource';\nimport type { ALPHA_MODES, SCALE_MODE, TEXTURE_DIMENSIONS, TEXTURE_FORMATS, WRAP_MODE } from '../const';\nimport type { TextureStyleOptions } from '../TextureStyle';\n\nexport interface TextureSourceOptions<T extends Record<string, any> = any>\n{\n    resource?: T;\n\n    width?: number;\n    height?: number;\n    resolution?: number;\n\n    format?: TEXTURE_FORMATS;\n    sampleCount?: number;\n    antialias?: boolean;\n\n    dimensions?: TEXTURE_DIMENSIONS;\n\n    mipLevelCount?: number;\n    autoGenerateMipmaps?: boolean;\n\n    alphaMode?: ALPHA_MODES;\n\n    style?: TextureStyleOptions | TextureStyle;\n}\n\nexport class TextureSource<T extends Record<string, any> = any> extends EventEmitter<{\n    change: BindResource;\n    update: TextureSource;\n    unload: TextureSource;\n    destroy: TextureSource;\n    resize: TextureSource;\n    styleChange: TextureSource;\n    error: Error;\n}> implements BindResource\n{\n    public static defaultOptions: TextureSourceOptions = {\n        resolution: 1,\n        format: 'bgra8unorm',\n        alphaMode: 'no-premultiply-alpha',\n        dimensions: '2d',\n        mipLevelCount: 1,\n        autoGenerateMipmaps: false,\n        sampleCount: 1,\n        antialias: false,\n        style: {} as TextureStyleOptions,\n    };\n\n    public uid = uid('textureSource');\n\n    public resourceType = 'textureSource';\n    public resourceId = uid('textureResource');\n\n    public uploadMethodId = 'unknown';\n\n    // dimensions\n    /** @internal */\n    public _resolution = 1;\n    public pixelWidth = 1;\n    public pixelHeight = 1;\n\n    public width = 1;\n    public height = 1;\n\n    public resource: T;\n\n    // sample count for multisample textures\n    // generally this is used only used internally by pixi!\n    public sampleCount = 1;\n\n    // mip stuff..\n    public mipLevelCount = 1; // overridden if autoGenerateMipmaps is true\n    public autoGenerateMipmaps = false;\n\n    public format: TEXTURE_FORMATS = 'rgba8unorm-srgb';\n    public dimension: TEXTURE_DIMENSIONS = '2d';\n\n    public alphaMode: ALPHA_MODES;\n    private _style: TextureStyle;\n\n    // properties used when rendering to this texture..\n    public antialias = false;\n    public depthStencil = true;\n\n    /**\n     * Has the source been destroyed?\n     * @readonly\n     */\n    public destroyed: boolean;\n\n    /**\n     * Used by automatic texture Garbage Collection, stores last GC tick when it was bound\n     * @protected\n     */\n    public touched = 0;\n\n    /**\n     * Used by the batcher to build texture batches. faster to have the variable here!\n     * @protected\n     */\n    public _batchTick = -1;\n    /**\n     * A temporary batch location for the texture batching. Here for performance reasons only!\n     * @protected\n     */\n    public _textureBindLocation = -1;\n\n    // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n    constructor(protected readonly options: TextureSourceOptions<T> = {})\n    {\n        super();\n\n        options = { ...TextureSource.defaultOptions, ...options };\n\n        this.resource = options.resource;\n\n        this._resolution = options.resolution;\n\n        if (options.width)\n        {\n            this.pixelWidth = options.width * this._resolution;\n        }\n        else\n        {\n            this.pixelWidth = options.resource?.width ?? 1;\n        }\n\n        if (options.height)\n        {\n            this.pixelHeight = options.height * this._resolution;\n        }\n        else\n        {\n            this.pixelHeight = options.resource?.height ?? 1;\n        }\n\n        this.width = this.pixelWidth / this._resolution;\n        this.height = this.pixelHeight / this._resolution;\n\n        this.format = options.format;\n        this.dimension = options.dimensions;\n        this.mipLevelCount = options.mipLevelCount;\n        this.autoGenerateMipmaps = options.autoGenerateMipmaps;\n        this.sampleCount = options.sampleCount;\n        this.antialias = options.antialias;\n        this.alphaMode = options.alphaMode;\n\n        const style = options.style ?? {};\n\n        this.style = style instanceof TextureStyle ? style : new TextureStyle(style);\n\n        this.destroyed = false;\n    }\n\n    get source(): TextureSource\n    {\n        return this;\n    }\n\n    get style(): TextureStyle\n    {\n        return this._style;\n    }\n\n    set style(value: TextureStyle)\n    {\n        if (this.style === value) return;\n\n        this._style?.off('change', this._onStyleChange, this);\n        this._style = value;\n        this._style?.on('change', this._onStyleChange, this);\n\n        this._onStyleChange();\n    }\n\n    private _onStyleChange()\n    {\n        this.emit('styleChange', this);\n    }\n\n    public update()\n    {\n        this.emit('update', this);\n    }\n\n    /** Destroys this texture source */\n    public destroy()\n    {\n        this.destroyed = true;\n        this.emit('destroy', this);\n\n        if (this._style)\n        {\n            this._style.destroy();\n            this._style = null;\n        }\n\n        this.uploadMethodId = null;\n        this.resource = null;\n        this.removeAllListeners();\n    }\n\n    public unload()\n    {\n        this.resourceId++;\n        this.emit('change', this);\n        this.emit('unload', this);\n    }\n\n    public get resourceWidth(): number\n    {\n        const { resource } = this;\n\n        return resource.naturalWidth || resource.videoWidth || resource.displayWidth || resource.width;\n    }\n\n    public get resourceHeight(): number\n    {\n        const { resource } = this;\n\n        return resource.naturalHeight || resource.videoHeight || resource.displayHeight || resource.height;\n    }\n\n    get resolution(): number\n    {\n        return this._resolution;\n    }\n\n    set resolution(resolution: number)\n    {\n        if (this._resolution === resolution) return;\n\n        this._resolution = resolution;\n\n        this.width = this.pixelWidth / resolution;\n        this.height = this.pixelHeight / resolution;\n    }\n\n    public resize(width?: number, height?: number, resolution?: number)\n    {\n        resolution = resolution || this._resolution;\n        width = width || this.width;\n        height = height || this.height;\n\n        // make sure we work with rounded pixels\n        const newPixelWidth = Math.round(width * resolution);\n        const newPixelHeight = Math.round(height * resolution);\n\n        this.width = newPixelWidth / resolution;\n        this.height = newPixelHeight / resolution;\n\n        this._resolution = resolution;\n\n        if (this.pixelWidth === newPixelWidth && this.pixelHeight === newPixelHeight)\n        {\n            return;\n        }\n\n        this.pixelWidth = newPixelWidth;\n        this.pixelHeight = newPixelHeight;\n\n        this.emit('resize', this);\n\n        this.resourceId++;\n        this.emit('change', this);\n    }\n\n    /** @deprecated since 8.0.0 */\n    set wrapMode(value: WRAP_MODE)\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'TextureSource.wrapMode property has been deprecated. Use TextureSource.style.addressMode instead.');\n        this._style.wrapMode = value;\n    }\n\n    /** @deprecated since 8.0.0 */\n    get wrapMode(): WRAP_MODE\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'TextureSource.wrapMode property has been deprecated. Use TextureSource.style.addressMode instead.');\n\n        return this._style.wrapMode;\n    }\n\n    /** @deprecated since 8.0.0 */\n    set scaleMode(value: SCALE_MODE)\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'TextureSource.scaleMode property has been deprecated. Use TextureSource.style.scaleMode instead.');\n        this._style.scaleMode = value;\n    }\n\n    /** @deprecated since 8.0.0 */\n    get scaleMode(): SCALE_MODE\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'TextureSource.scaleMode property has been deprecated. Use TextureSource.style.scaleMode instead.');\n\n        return this._style.scaleMode;\n    }\n\n    public static test(_resource: any): any\n    {\n        // this should be overridden by other sources..\n        throw new Error('Unimplemented');\n    }\n}\n","// Your friendly neighbour https://en.wikipedia.org/wiki/Dihedral_group\n//\n// This file implements the dihedral group of order 16, also called\n// of degree 8. That's why its called groupD8.\n\nimport { Matrix } from './Matrix';\n\n/*\n * Transform matrix for operation n is:\n * | ux | vx |\n * | uy | vy |\n */\n\nconst ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];\nconst uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];\n\n/**\n * [Cayley Table]{@link https://en.wikipedia.org/wiki/Cayley_table}\n * for the composition of each rotation in the dihederal group D8.\n * @type {number[][]}\n * @private\n */\nconst rotationCayley: number[][] = [];\n\n/**\n * Matrices for each `GD8Symmetry` rotation.\n * @type {Matrix[]}\n * @private\n */\nconst rotationMatrices: Matrix[] = [];\n\n/*\n * Alias for {@code Math.sign}.\n */\nconst signum = Math.sign;\n\n/*\n * Initializes `rotationCayley` and `rotationMatrices`. It is called\n * only once below.\n */\nfunction init(): void\n{\n    for (let i = 0; i < 16; i++)\n    {\n        const row: number[] = [];\n\n        rotationCayley.push(row);\n\n        for (let j = 0; j < 16; j++)\n        {\n            /* Multiplies rotation matrices i and j. */\n            const _ux = signum((ux[i] * ux[j]) + (vx[i] * uy[j]));\n            const _uy = signum((uy[i] * ux[j]) + (vy[i] * uy[j]));\n            const _vx = signum((ux[i] * vx[j]) + (vx[i] * vy[j]));\n            const _vy = signum((uy[i] * vx[j]) + (vy[i] * vy[j]));\n\n            /* Finds rotation matrix matching the product and pushes it. */\n            for (let k = 0; k < 16; k++)\n            {\n                if (ux[k] === _ux && uy[k] === _uy\n                      && vx[k] === _vx && vy[k] === _vy)\n                {\n                    row.push(k);\n                    break;\n                }\n            }\n        }\n    }\n\n    for (let i = 0; i < 16; i++)\n    {\n        const mat = new Matrix();\n\n        mat.set(ux[i], uy[i], vx[i], vy[i], 0, 0);\n        rotationMatrices.push(mat);\n    }\n}\n\ninit();\n\ntype GD8Symmetry = number;\n/**\n * @typedef {number} GD8Symmetry\n * @see groupD8\n */\n\n/**\n * Implements the dihedral group D8, which is similar to\n * [group D4]{@link http://mathworld.wolfram.com/DihedralGroupD4.html};\n * D8 is the same but with diagonals, and it is used for texture\n * rotations.\n *\n * The directions the U- and V- axes after rotation\n * of an angle of `a: GD8Constant` are the vectors `(uX(a), uY(a))`\n * and `(vX(a), vY(a))`. These aren't necessarily unit vectors.\n *\n * **Origin:**<br>\n *  This is the small part of gameofbombs.com portal system. It works.\n * @see groupD8.E\n * @see groupD8.SE\n * @see groupD8.S\n * @see groupD8.SW\n * @see groupD8.W\n * @see groupD8.NW\n * @see groupD8.N\n * @see groupD8.NE\n * @author Ivan @ivanpopelyshev\n * @namespace groupD8\n */\nexport const groupD8 = {\n    /**\n     * | Rotation | Direction |\n     * |----------|-----------|\n     * | 0°       | East      |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    E: 0,\n\n    /**\n     * | Rotation | Direction |\n     * |----------|-----------|\n     * | 45°↻     | Southeast |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    SE: 1,\n\n    /**\n     * | Rotation | Direction |\n     * |----------|-----------|\n     * | 90°↻     | South     |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    S: 2,\n\n    /**\n     * | Rotation | Direction |\n     * |----------|-----------|\n     * | 135°↻    | Southwest |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    SW: 3,\n\n    /**\n     * | Rotation | Direction |\n     * |----------|-----------|\n     * | 180°     | West      |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    W: 4,\n\n    /**\n     * | Rotation    | Direction    |\n     * |-------------|--------------|\n     * | -135°/225°↻ | Northwest    |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    NW: 5,\n\n    /**\n     * | Rotation    | Direction    |\n     * |-------------|--------------|\n     * | -90°/270°↻  | North        |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    N: 6,\n\n    /**\n     * | Rotation    | Direction    |\n     * |-------------|--------------|\n     * | -45°/315°↻  | Northeast    |\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    NE: 7,\n\n    /**\n     * Reflection about Y-axis.\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    MIRROR_VERTICAL: 8,\n\n    /**\n     * Reflection about the main diagonal.\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    MAIN_DIAGONAL: 10,\n\n    /**\n     * Reflection about X-axis.\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    MIRROR_HORIZONTAL: 12,\n\n    /**\n     * Reflection about reverse diagonal.\n     * @memberof groupD8\n     * @constant {GD8Symmetry}\n     */\n    REVERSE_DIAGONAL: 14,\n\n    /**\n     * @memberof groupD8\n     * @param {GD8Symmetry} ind - sprite rotation angle.\n     * @returns {GD8Symmetry} The X-component of the U-axis\n     *    after rotating the axes.\n     */\n    uX: (ind: GD8Symmetry): GD8Symmetry => ux[ind],\n\n    /**\n     * @memberof groupD8\n     * @param {GD8Symmetry} ind - sprite rotation angle.\n     * @returns {GD8Symmetry} The Y-component of the U-axis\n     *    after rotating the axes.\n     */\n    uY: (ind: GD8Symmetry): GD8Symmetry => uy[ind],\n\n    /**\n     * @memberof groupD8\n     * @param {GD8Symmetry} ind - sprite rotation angle.\n     * @returns {GD8Symmetry} The X-component of the V-axis\n     *    after rotating the axes.\n     */\n    vX: (ind: GD8Symmetry): GD8Symmetry => vx[ind],\n\n    /**\n     * @memberof groupD8\n     * @param {GD8Symmetry} ind - sprite rotation angle.\n     * @returns {GD8Symmetry} The Y-component of the V-axis\n     *    after rotating the axes.\n     */\n    vY: (ind: GD8Symmetry): GD8Symmetry => vy[ind],\n\n    /**\n     * @memberof groupD8\n     * @param {GD8Symmetry} rotation - symmetry whose opposite\n     *   is needed. Only rotations have opposite symmetries while\n     *   reflections don't.\n     * @returns {GD8Symmetry} The opposite symmetry of `rotation`\n     */\n    inv: (rotation: GD8Symmetry): GD8Symmetry =>\n    {\n        if (rotation & 8)// true only if between 8 & 15 (reflections)\n        {\n            return rotation & 15;// or rotation % 16\n        }\n\n        return (-rotation) & 7;// or (8 - rotation) % 8\n    },\n\n    /**\n     * Composes the two D8 operations.\n     *\n     * Taking `^` as reflection:\n     *\n     * |       | E=0 | S=2 | W=4 | N=6 | E^=8 | S^=10 | W^=12 | N^=14 |\n     * |-------|-----|-----|-----|-----|------|-------|-------|-------|\n     * | E=0   | E   | S   | W   | N   | E^   | S^    | W^    | N^    |\n     * | S=2   | S   | W   | N   | E   | S^   | W^    | N^    | E^    |\n     * | W=4   | W   | N   | E   | S   | W^   | N^    | E^    | S^    |\n     * | N=6   | N   | E   | S   | W   | N^   | E^    | S^    | W^    |\n     * | E^=8  | E^  | N^  | W^  | S^  | E    | N     | W     | S     |\n     * | S^=10 | S^  | E^  | N^  | W^  | S    | E     | N     | W     |\n     * | W^=12 | W^  | S^  | E^  | N^  | W    | S     | E     | N     |\n     * | N^=14 | N^  | W^  | S^  | E^  | N    | W     | S     | E     |\n     *\n     * [This is a Cayley table]{@link https://en.wikipedia.org/wiki/Cayley_table}\n     * @memberof groupD8\n     * @param {GD8Symmetry} rotationSecond - Second operation, which\n     *   is the row in the above cayley table.\n     * @param {GD8Symmetry} rotationFirst - First operation, which\n     *   is the column in the above cayley table.\n     * @returns {GD8Symmetry} Composed operation\n     */\n    add: (rotationSecond: GD8Symmetry, rotationFirst: GD8Symmetry): GD8Symmetry => (\n        rotationCayley[rotationSecond][rotationFirst]\n    ),\n\n    /**\n     * Reverse of `add`.\n     * @memberof groupD8\n     * @param {GD8Symmetry} rotationSecond - Second operation\n     * @param {GD8Symmetry} rotationFirst - First operation\n     * @returns {GD8Symmetry} Result\n     */\n    sub: (rotationSecond: GD8Symmetry, rotationFirst: GD8Symmetry): GD8Symmetry => (\n        rotationCayley[rotationSecond][groupD8.inv(rotationFirst)]\n    ),\n\n    /**\n     * Adds 180 degrees to rotation, which is a commutative\n     * operation.\n     * @memberof groupD8\n     * @param {number} rotation - The number to rotate.\n     * @returns {number} Rotated number\n     */\n    rotate180: (rotation: number): number => rotation ^ 4,\n\n    /**\n     * Checks if the rotation angle is vertical, i.e. south\n     * or north. It doesn't work for reflections.\n     * @memberof groupD8\n     * @param {GD8Symmetry} rotation - The number to check.\n     * @returns {boolean} Whether or not the direction is vertical\n     */\n    isVertical: (rotation: GD8Symmetry): boolean => (rotation & 3) === 2, // rotation % 4 === 2\n\n    /**\n     * Approximates the vector `V(dx,dy)` into one of the\n     * eight directions provided by `groupD8`.\n     * @memberof groupD8\n     * @param {number} dx - X-component of the vector\n     * @param {number} dy - Y-component of the vector\n     * @returns {GD8Symmetry} Approximation of the vector into\n     *  one of the eight symmetries.\n     */\n    byDirection: (dx: number, dy: number): GD8Symmetry =>\n    {\n        if (Math.abs(dx) * 2 <= Math.abs(dy))\n        {\n            if (dy >= 0)\n            {\n                return groupD8.S;\n            }\n\n            return groupD8.N;\n        }\n        else if (Math.abs(dy) * 2 <= Math.abs(dx))\n        {\n            if (dx > 0)\n            {\n                return groupD8.E;\n            }\n\n            return groupD8.W;\n        }\n        else if (dy > 0)\n        {\n            if (dx > 0)\n            {\n                return groupD8.SE;\n            }\n\n            return groupD8.SW;\n        }\n        else if (dx > 0)\n        {\n            return groupD8.NE;\n        }\n\n        return groupD8.NW;\n    },\n\n    /**\n     * Helps sprite to compensate texture packer rotation.\n     * @memberof groupD8\n     * @param {Matrix} matrix - sprite world matrix\n     * @param {GD8Symmetry} rotation - The rotation factor to use.\n     * @param {number} tx - sprite anchoring\n     * @param {number} ty - sprite anchoring\n     */\n    matrixAppendRotationInv: (matrix: Matrix, rotation: GD8Symmetry, tx = 0, ty = 0): void =>\n    {\n        // Packer used \"rotation\", we use \"inv(rotation)\"\n        const mat: Matrix = rotationMatrices[groupD8.inv(rotation)];\n\n        mat.tx = tx;\n        mat.ty = ty;\n        matrix.append(mat);\n    },\n};\n","import EventEmitter from 'eventemitter3';\nimport { groupD8 } from '../../../../maths/matrix/groupD8';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\n\nexport interface TextureLayoutOptions\n{\n    frame?: Rectangle;\n    orig?: Rectangle;\n    trim?: Rectangle;\n    defaultAnchor?: { x: number; y: number };\n    defaultBorders?: TextureBorders;\n    rotate?: number;\n}\n\n/** Stores the width of the non-scalable borders, for example when used with {@link PIXI.NineSlicePlane} texture. */\nexport interface TextureBorders\n{\n    /** left border in pixels */\n    left: number;\n    /** top border in pixels */\n    top: number;\n    /** right border in pixels */\n    right: number;\n    /** bottom border in pixels */\n    bottom: number;\n}\n\nexport type UVs = {\n    x0: number;\n    y0: number;\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n    x3: number;\n    y3: number;\n};\n\nexport class TextureLayout extends EventEmitter<{\n    update: TextureLayout\n    destroy: TextureLayout\n}>\n{\n    public frame: Rectangle;\n    public orig: Rectangle;\n\n    public rotate: number;\n    public uvs: UVs = { x0: 0, y0: 0, x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0 };\n\n    public trim?: Rectangle;\n    public defaultAnchor?: { x: number; y: number };\n    public defaultBorders?: TextureBorders;\n\n    constructor(options: TextureLayoutOptions = {})\n    {\n        super();\n\n        this.frame = options.frame || new Rectangle(0, 0, 1, 1);\n        this.orig = options.orig || this.frame;\n\n        this.rotate = options.rotate ?? 0;\n\n        // optional\n        this.trim = options.trim;\n        this.defaultAnchor = options.defaultAnchor;\n        this.defaultBorders = options.defaultBorders;\n\n        this.updateUvs();\n    }\n\n    public updateUvs()\n    {\n        const uvs = this.uvs;\n        const frame = this.frame;\n        let rotate = this.rotate;\n\n        if (rotate)\n        {\n            // width and height div 2 div baseFrame size\n            const w2 = frame.width / 2;\n            const h2 = frame.height / 2;\n\n            // coordinates of center\n            const cX = frame.x + w2;\n            const cY = frame.y + h2;\n\n            rotate = groupD8.add(rotate, groupD8.NW); // NW is top-left corner\n            uvs.x0 = cX + (w2 * groupD8.uX(rotate));\n            uvs.y0 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2); // rotate 90 degrees clockwise\n            uvs.x1 = cX + (w2 * groupD8.uX(rotate));\n            uvs.y1 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2);\n            uvs.x2 = cX + (w2 * groupD8.uX(rotate));\n            uvs.y2 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2);\n            uvs.x3 = cX + (w2 * groupD8.uX(rotate));\n            uvs.y3 = cY + (h2 * groupD8.uY(rotate));\n        }\n\n        else\n        {\n            uvs.x0 = frame.x;\n            uvs.y0 = frame.y;\n            uvs.x1 = frame.x + frame.width;\n            uvs.y1 = frame.y;\n            uvs.x2 = frame.x + frame.width;\n            uvs.y2 = frame.y + frame.height;\n            uvs.x3 = frame.x;\n            uvs.y3 = frame.y + frame.height;\n        }\n    }\n\n    public update()\n    {\n        this.updateUvs();\n        this.emit('update', this);\n    }\n\n    /** Destroys this TextureLayout */\n    public destroy()\n    {\n        this.emit('destroy', this);\n        this.removeAllListeners();\n        this.frame = null;\n        this.orig = null;\n        this.trim = null;\n        this.defaultAnchor = null;\n        this.uvs = null;\n    }\n}\n","import { Matrix } from '../../../../maths/matrix/Matrix';\n\nimport type { Texture } from './Texture';\n\nconst tempMat = new Matrix();\n\n/**\n * Class controls uv mapping from Texture normal space to BaseTexture normal space.\n *\n * Takes `trim` and `rotate` into account. May contain clamp settings for Meshes and TilingSprite.\n *\n * Can be used in Texture `uvMatrix` field, or separately, you can use different clamp settings on the same texture.\n * If you want to add support for texture region of certain feature or filter, that's what you're looking for.\n *\n * Takes track of Texture changes through `_lastTextureID` private field.\n * Use `update()` method call to track it from outside.\n * @see Texture\n * @see Mesh\n * @see TilingSprite\n */\nexport class TextureMatrix\n{\n    /**\n     * Matrix operation that converts texture region coords to texture coords\n     * @readonly\n     */\n    public mapCoord: Matrix;\n\n    /**\n     * Changes frame clamping\n     * Works with TilingSprite and Mesh\n     * Change to 1.5 if you texture has repeated right and bottom lines, that leads to smoother borders\n     * @default 0\n     */\n    public clampOffset: number;\n\n    /**\n     * Changes frame clamping\n     * Works with TilingSprite and Mesh\n     * Change to -0.5 to add a pixel to the edge, recommended for transparent trimmed textures in atlas\n     * @default 0.5\n     */\n    public clampMargin: number;\n\n    /**\n     * Clamp region for normalized coords, left-top pixel center in xy , bottom-right in zw.\n     * Calculated based on clampOffset.\n     */\n    public readonly uClampFrame: Float32Array;\n\n    /** Normalized clamp offset. Calculated based on clampOffset. */\n    public readonly uClampOffset: Float32Array;\n\n    /**\n     * Tracks Texture frame changes.\n     * @protected\n     */\n    protected _textureID: number;\n\n    /**\n     * Tracks Texture frame changes.\n     * @protected\n     */\n    protected _updateID: number;\n    protected _texture: Texture;\n\n    /**\n     * If texture size is the same as baseTexture.\n     * @default false\n     * @readonly\n     */\n    public isSimple: boolean;\n\n    /**\n     * @param texture - observed texture\n     * @param clampMargin - Changes frame clamping, 0.5 by default. Use -0.5 for extra border.\n     */\n    constructor(texture: Texture, clampMargin?: number)\n    {\n        this.mapCoord = new Matrix();\n        this.uClampFrame = new Float32Array(4);\n        this.uClampOffset = new Float32Array(2);\n        this._textureID = -1;\n        this._updateID = 0;\n\n        this.clampOffset = 0;\n        this.clampMargin = (typeof clampMargin === 'undefined') ? 0.5 : clampMargin;\n        this.isSimple = false;\n\n        this.texture = texture;\n    }\n\n    /** Texture property. */\n    get texture(): Texture\n    {\n        return this._texture;\n    }\n\n    set texture(value: Texture)\n    {\n        if (this.texture === value) return;\n\n        this._texture?.removeListener('update', this.update, this);\n        this._texture = value;\n        this._texture.addListener('update', this.update, this);\n\n        this.update();\n    }\n\n    /**\n     * Multiplies uvs array to transform\n     * @param uvs - mesh uvs\n     * @param [out=uvs] - output\n     * @returns - output\n     */\n    public multiplyUvs(uvs: Float32Array, out?: Float32Array): Float32Array\n    {\n        if (out === undefined)\n        {\n            out = uvs;\n        }\n\n        const mat = this.mapCoord;\n\n        for (let i = 0; i < uvs.length; i += 2)\n        {\n            const x = uvs[i];\n            const y = uvs[i + 1];\n\n            out[i] = (x * mat.a) + (y * mat.c) + mat.tx;\n            out[i + 1] = (x * mat.b) + (y * mat.d) + mat.ty;\n        }\n\n        return out;\n    }\n\n    public update(): boolean\n    {\n        const tex = this._texture;\n\n        this._updateID++;\n\n        const uvs = tex.layout.uvs;\n\n        this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);\n\n        const orig = tex.layout.orig;\n        const trim = tex.layout.trim;\n\n        if (trim)\n        {\n            tempMat.set(\n                orig.width / trim.width,\n                0, 0, orig.height / trim.height,\n                -trim.x / trim.width,\n                -trim.y / trim.height\n            );\n\n            this.mapCoord.append(tempMat);\n        }\n\n        const texBase = tex.source;\n        const frame = this.uClampFrame;\n        const margin = this.clampMargin / texBase._resolution;\n        const offset = this.clampOffset;\n\n        frame[0] = (tex.frameX + margin + offset) / texBase.width;\n        frame[1] = (tex.frameY + margin + offset) / texBase.height;\n        frame[2] = (tex.frameX + tex.frameWidth - margin + offset) / texBase.width;\n        frame[3] = (tex.frameY + tex.frameHeight - margin + offset) / texBase.height;\n        this.uClampOffset[0] = offset / texBase.pixelWidth;\n        this.uClampOffset[1] = offset / texBase.pixelHeight;\n\n        this.isSimple = tex.frameWidth === texBase.width\n            && tex.frameHeight === texBase.height\n            && tex.layout.rotate === 0;\n\n        return true;\n    }\n}\n","import EventEmitter from 'eventemitter3';\nimport { Cache } from '../../../../assets/cache/Cache';\nimport { uid } from '../../../../utils/data/uid';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation';\nimport { NOOP } from '../../../../utils/NOOP';\nimport { resourceToTexture } from './sources/resourceToTexture';\nimport { TextureSource } from './sources/TextureSource';\nimport { TextureLayout } from './TextureLayout';\nimport { TextureMatrix } from './TextureMatrix';\n\nimport type { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport type { BufferSourceOptions } from './sources/BufferImageSource';\nimport type { TextureSourceOptions } from './sources/TextureSource';\nimport type { TextureLayoutOptions } from './TextureLayout';\n\nexport interface TextureOptions\n{\n    source?: TextureSource;\n    layout?: TextureLayout | TextureLayoutOptions\n    label?: string;\n    frame?: Rectangle;\n}\n\nexport interface BindableTexture\n{\n    source: TextureSource;\n}\n\nexport class Texture extends EventEmitter<{\n    update: Texture\n    destroy: Texture\n}> implements BindableTexture\n{\n    public static from(id: string | TextureSource | TextureSourceOptions | BufferSourceOptions, skipCache = false): Texture\n    {\n        if (typeof id === 'string')\n        {\n            return Cache.get(id);\n        }\n        else if (id instanceof TextureSource)\n        {\n            return new Texture({ source: id });\n        }\n\n        // return a auto generated texture from resource\n        return resourceToTexture(id, skipCache);\n    }\n\n    public label?: string;\n    public id = uid('texture');\n    public styleSourceKey = 0;\n\n    /**\n     * Has the texture been destroyed?\n     * @readonly\n     */\n    public destroyed: boolean;\n\n    // private _style: TextureStyle;\n    private _textureMatrix: TextureMatrix;\n\n    /** @internal */\n    public _layout: TextureLayout;\n    /** @internal */\n    public _source: TextureSource;\n\n    constructor({ source, layout, label, frame }: TextureOptions = {})\n    {\n        super();\n\n        this.label = label;\n        this.source = source?.source ?? new TextureSource();\n\n        layout = layout instanceof TextureLayout ? layout : new TextureLayout(layout);\n\n        if (frame)\n        {\n            const { width, height } = this._source;\n\n            layout.frame.x = frame.x / width;\n            layout.frame.y = frame.y / height;\n\n            layout.frame.width = frame.width / width;\n            layout.frame.height = frame.height / height;\n\n            (layout as TextureLayout).updateUvs();\n        }\n\n        this.layout = layout as TextureLayout;\n\n        this.destroyed = false;\n    }\n\n    set source(value: TextureSource)\n    {\n        if (this._source)\n        {\n            this._source.off('resize', this.onUpdate, this);\n        }\n\n        this._source = value;\n\n        value.on('resize', this.onUpdate, this);\n\n        this.emit('update', this);\n    }\n\n    get source(): TextureSource\n    {\n        return this._source;\n    }\n\n    get layout(): TextureLayout\n    {\n        return this._layout;\n    }\n\n    set layout(value: TextureLayout)\n    {\n        this._layout?.off('update', this.onUpdate, this);\n\n        this._layout = value;\n\n        value.on('update', this.onUpdate, this);\n\n        this.emit('update', this);\n    }\n\n    get textureMatrix()\n    {\n        if (!this._textureMatrix)\n        {\n            this._textureMatrix = new TextureMatrix(this);\n        }\n\n        return this._textureMatrix;\n    }\n\n    set frameWidth(value: number)\n    {\n        this._layout.frame.width = value / this._source.width;\n    }\n\n    get frameWidth(): number\n    {\n        return (this._source.pixelWidth / this._source._resolution) * this._layout.frame.width;\n    }\n\n    set frameHeight(value: number)\n    {\n        this._layout.frame.height = value / this._source.height;\n    }\n\n    get frameHeight(): number\n    {\n        return (this._source.pixelHeight / this._source._resolution) * this._layout.frame.height;\n    }\n\n    set frameX(value: number)\n    {\n        if (value === 0)\n        {\n            this._layout.frame.x = 0;\n\n            return;\n        }\n\n        this._layout.frame.x = (this._source.width) / value;\n    }\n\n    get frameX(): number\n    {\n        return (this._source.width) * this._layout.frame.x;\n    }\n\n    set frameY(value: number)\n    {\n        if (value === 0)\n        {\n            this._layout.frame.y = 0;\n\n            return;\n        }\n\n        this._layout.frame.y = (this._source.height) / value;\n    }\n\n    get frameY(): number\n    {\n        return (this._source.height) * this._layout.frame.y;\n    }\n\n    /** The width of the Texture in pixels. */\n    get width(): number\n    {\n        return (this._source.width) * this._layout.orig.width;\n    }\n\n    /** The height of the Texture in pixels. */\n    get height(): number\n    {\n        return (this._source.height) * this._layout.orig.height;\n    }\n\n    /**\n     * Destroys this texture\n     * @param destroySource - Destroy the source when the texture is destroyed.\n     */\n    public destroy(destroySource = false)\n    {\n        if (this._layout)\n        {\n            this._layout.destroy();\n            this._layout = null;\n        }\n\n        if (this._source)\n        {\n            if (destroySource)\n            {\n                this._source.destroy();\n                this._source = null;\n            }\n        }\n\n        this._textureMatrix = null;\n        this.destroyed = true;\n        this.emit('destroy', this);\n        this.removeAllListeners();\n    }\n\n    /**\n     * @internal\n     */\n    protected onUpdate()\n    {\n        this.emit('update', this);\n    }\n\n    /** @deprecated since 8.0.0 */\n    get baseTexture(): TextureSource\n    {\n        deprecation(v8_0_0, 'Texture.baseTexture is now Texture.source');\n\n        return this._source;\n    }\n\n    public static EMPTY: Texture;\n    public static WHITE: Texture;\n}\n\nTexture.EMPTY = new Texture({\n\n});\n\nTexture.EMPTY.label = 'EMPTY';\nTexture.EMPTY.destroy = NOOP;\n","import EventEmitter from 'eventemitter3';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Writeable } from '../../../utils/types';\nimport type { FontMetrics } from '../canvas/CanvasTextMetrics';\n\nexport interface CharData\n{\n    id: number;\n    xOffset: number;\n    yOffset: number;\n    xAdvance: number;\n    kerning: Record<string, number>;\n    texture?: Texture;\n}\n\nexport interface RawCharData extends Omit<CharData, 'texture'>\n{\n    page: number;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    letter: string;\n}\n\nexport interface BitmapFontData\n{\n    baseLineOffset: number;\n    chars: Record<string, RawCharData>;\n    pages: { id: number; file: string }[];\n    lineHeight: number;\n    fontSize: number;\n    fontFamily: string;\n    distanceField?: {\n        type: 'sdf' | 'msdf' | 'none';\n        range: number;\n    };\n}\n\nexport interface BitmapFontInstallOptions\n{\n    /**\n     * Characters included in the font set. You can also use ranges.\n     * For example, `[['a', 'z'], ['A', 'Z'], \"!@#$%^&*()~{}[] \"]`.\n     * Don't forget to include spaces ' ' in your character set!\n     * @default BitmapFont.ALPHANUMERIC\n     */\n    chars?: string | (string | string[])[];\n    /**\n     * Render resolution for glyphs.\n     * @default 1\n     */\n    resolution?: number;\n    /**\n     * Padding between glyphs on texture atlas. Lower values could mean more visual artifacts\n     * and bleeding from other glyphs, larger values increase the space required on the texture.\n     * @default 4\n     */\n    padding?: number;\n    /**\n     * Skip generation of kerning information for the BitmapFont.\n     * If true, this could potentially increase the performance, but may impact the rendered text appearance.\n     * @default false\n     */\n    skipKerning?: boolean;\n}\n\ninterface BitmapFontEvents<Type>\n{\n    destroy: [Type];\n}\n\ntype WriteableAbstractBitmapFont = Writeable<AbstractBitmapFont<any>, keyof AbstractBitmapFont<any>>;\n\nexport abstract class AbstractBitmapFont<FontType>\n    extends EventEmitter<BitmapFontEvents<FontType>>\n    implements Omit<BitmapFontData, 'chars' | 'pages' | 'fontSize'>\n{\n    /** The map of characters by character code. */\n    public readonly chars: Record<string, CharData> = Object.create(null);\n\n    /** The line-height of the font face in pixels. */\n    public readonly lineHeight: BitmapFontData['lineHeight'] = 0;\n\n    /** The name of the font face. */\n    public readonly fontFamily: BitmapFontData['fontFamily'] = '';\n    public readonly fontMetrics: FontMetrics = { fontSize: 0, ascent: 0, descent: 0 };\n    public readonly baseLineOffset: BitmapFontData['baseLineOffset'] = 0;\n    /** The range and type of the distance field for this font. */\n    public readonly distanceField: BitmapFontData['distanceField'] = { type: 'none', range: 0 };\n    /** The map of base page textures (i.e., sheets of glyphs). */\n    public readonly pages: { texture: Texture }[] = [];\n\n    public readonly baseMeasurementFontSize: number = 100;\n    protected baseRenderedFontSize = 100;\n\n    /**\n     * @deprecated since 8.0.0\n     * The name of the font face.\n     */\n    public get font(): BitmapFontData['fontFamily']\n    {\n        deprecation(v8_0_0, 'BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead.');\n\n        return this.fontFamily;\n    }\n\n    /** @deprecated since 8.0.0 */\n    public get pageTextures(): AbstractBitmapFont<FontType>['pages']\n    {\n        deprecation(v8_0_0, 'BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.');\n\n        return this.pages;\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * The size of the font face in pixels.\n     */\n    public get size(): BitmapFontData['fontSize']\n    {\n        deprecation(v8_0_0, 'BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead.');\n\n        return this.fontMetrics.fontSize;\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * The kind of distance field for this font or \"none\".\n     */\n    public get distanceFieldRange(): BitmapFontData['distanceField']['range']\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead.');\n\n        return this.distanceField.range;\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * The range of the distance field in pixels.\n     */\n    public get distanceFieldType(): BitmapFontData['distanceField']['type']\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead.');\n\n        return this.distanceField.type;\n    }\n\n    public destroy(): void\n    {\n        this.emit('destroy', this as unknown as FontType);\n\n        this.removeAllListeners();\n\n        for (const i in this.chars)\n        {\n            this.chars[i].texture.destroy();\n        }\n\n        (this as WriteableAbstractBitmapFont).chars = null;\n    }\n}\n","import { Rectangle } from '../../../maths/shapes/Rectangle';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { AbstractBitmapFont } from './AbstractBitmapFont';\n\nimport type { Writeable } from '../../../utils/types';\nimport type { BitmapFontData } from './AbstractBitmapFont';\n\nexport interface BitmapFontOptions\n{\n    data: BitmapFontData\n    textures: Texture[]\n}\n\ntype WriteableBitmapFont = Writeable<BitmapFont, keyof BitmapFont>;\n\nexport class BitmapFont extends AbstractBitmapFont<BitmapFont>\n{\n    constructor(options: BitmapFontOptions)\n    {\n        super();\n\n        const { textures, data } = options;\n\n        Object.keys(data.pages).forEach((key: string) =>\n        {\n            const pageData = data.pages[parseInt(key, 10)];\n\n            const texture = textures[pageData.id];\n\n            this.pages.push({ texture });\n        });\n\n        Object.keys(data.chars).forEach((key: string) =>\n        {\n            const charData = data.chars[key];\n            const textureSource = textures[charData.page].source;\n\n            const frame = new Rectangle(\n                (charData.x) / textureSource.width,\n                (charData.y) / textureSource.height,\n                (charData.width) / textureSource.width,\n                (charData.height) / textureSource.height,\n            );\n\n            const texture = new Texture({\n                source: textureSource,\n                layout: {\n                    frame\n                }\n            });\n\n            this.chars[key] = {\n                id: key.codePointAt(0),\n                xOffset: charData.xOffset,\n                yOffset: charData.yOffset,\n                xAdvance: charData.xAdvance,\n                kerning: charData.kerning ?? {},\n                texture,\n            };\n        });\n\n        this.baseRenderedFontSize = data.fontSize;\n\n        const writable = this as WriteableBitmapFont;\n\n        writable.baseMeasurementFontSize = data.fontSize;\n        writable.fontMetrics = {\n            ascent: 0,\n            descent: 0,\n            fontSize: data.fontSize,\n        };\n        writable.baseLineOffset = data.baseLineOffset;\n        writable.lineHeight = data.lineHeight;\n        writable.fontFamily = data.fontFamily;\n        writable.distanceField = data.distanceField ?? {\n            type: 'none',\n            range: 0,\n        };\n    }\n\n    public override destroy(): void\n    {\n        super.destroy();\n\n        for (let i = 0; i < this.pages.length; i++)\n        {\n            const { texture } = this.pages[i];\n\n            texture.destroy(true);\n        }\n\n        (this as WriteableBitmapFont).pages = null;\n    }\n}\n","import type { BitmapFontData, RawCharData } from '../AbstractBitmapFont';\n\n/**\n * Internal data format used to convert to BitmapFontData.\n * @private\n */\nexport interface BitmapFontRawData\n{\n    info: {\n        face: string;\n        size: string;\n    }[];\n    common: { lineHeight: string, base: string }[];\n    page: {\n        id: string;\n        file: string;\n    }[];\n    chars: {\n        count: number;\n    }[];\n    char: {\n        id: string\n        page: string\n        xoffset: string\n        yoffset: string\n        xadvance: string,\n        x: string\n        y: string\n        width: string\n        height: string\n        letter?: string\n        char?: string\n    }[];\n    kernings?: {\n        count: number;\n    }[];\n    kerning?: {\n        first: string;\n        second: string;\n        amount: string;\n    }[];\n    distanceField?: {\n        fieldType: 'sdf' | 'msdf' | 'none';\n        distanceRange: string;\n    }[]\n}\n\nexport const TextFormat = {\n    test(data: string | XMLDocument | BitmapFontData): boolean\n    {\n        return typeof data === 'string' && data.startsWith('info face=');\n    },\n\n    parse(txt: string): BitmapFontData\n    {\n        // Retrieve data item\n        const items = txt.match(/^[a-z]+\\s+.+$/gm);\n        const rawData: BitmapFontRawData = {\n            info: [],\n            common: [],\n            page: [],\n            char: [],\n            chars: [],\n            kerning: [],\n            kernings: [],\n            distanceField: [],\n        };\n\n        for (const i in items)\n        {\n            // Extract item name\n            const name = items[i].match(/^[a-z]+/gm)[0] as keyof BitmapFontRawData;\n\n            // Extract item attribute list as string ex.: \"width=10\"\n            const attributeList = items[i].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm);\n\n            // Convert attribute list into an object\n            const itemData: any = {};\n\n            for (const i in attributeList)\n            {\n                // Split key-value pairs\n                const split = attributeList[i].split('=');\n                const key = split[0];\n\n                // Remove eventual quotes from value\n                const strValue = split[1].replace(/\"/gm, '');\n\n                // Try to convert value into float\n                const floatValue = parseFloat(strValue);\n\n                // Use string value case float value is NaN\n                const value = isNaN(floatValue) ? strValue : floatValue;\n\n                itemData[key] = value;\n            }\n\n            // Push current item to the resulting data\n            rawData[name].push(itemData);\n        }\n\n        const font: BitmapFontData = {\n            chars: {},\n            pages: [],\n            lineHeight: 0,\n            fontSize: 0,\n            fontFamily: '',\n            distanceField: null,\n            baseLineOffset: 0,\n        };\n\n        const [info] = rawData.info;\n        const [common] = rawData.common;\n        const [distanceField] = rawData.distanceField ?? [];\n\n        if (distanceField)\n        {\n            font.distanceField = {\n                range: parseInt(distanceField.distanceRange, 10),\n                type: distanceField.fieldType\n            };\n        }\n\n        font.fontSize = parseInt(info.size, 10);\n        font.fontFamily = info.face;\n        font.lineHeight = parseInt(common.lineHeight, 10);\n\n        const page = rawData.page;\n\n        for (let i = 0; i < page.length; i++)\n        {\n            font.pages.push({\n                id: parseInt(page[i].id, 10) || 0,\n                file: page[i].file,\n            });\n        }\n\n        const map: Record<string, string> = {};\n\n        font.baseLineOffset = font.lineHeight - parseInt(common.base, 10);\n\n        const char = rawData.char;\n\n        for (let i = 0; i < char.length; i++)\n        {\n            const charNode = char[i];\n            const id = parseInt(charNode.id, 10);\n\n            let letter = charNode.letter ?? charNode.char;\n\n            if (letter === 'space')letter = ' ';\n\n            map[id] = letter;\n\n            font.chars[letter] = {\n                id,\n                // texture deets..\n                page: parseInt(charNode.page, 10) || 0,\n                x: parseInt(charNode.x, 10),\n                y: parseInt(charNode.y, 10),\n                width: parseInt(charNode.width, 10),\n                height: parseInt(charNode.height, 10),\n                xOffset: parseInt(charNode.xoffset, 10),\n                yOffset: parseInt(charNode.yoffset, 10),\n                xAdvance: parseInt(charNode.xadvance, 10),\n                kerning: {},\n            } as RawCharData;\n        }\n\n        const kerning = rawData.kerning || [];\n\n        for (let i = 0; i < kerning.length; i++)\n        {\n            const first = parseInt(kerning[i].first, 10);\n            const second = parseInt(kerning[i].second, 10);\n            const amount = parseInt(kerning[i].amount, 10);\n\n            font.chars[map[second]].kerning[map[first]] = amount;\n        }\n\n        return font;\n    }\n};\n","import type { BitmapFontData, RawCharData } from '../AbstractBitmapFont';\n\nexport const XMLFormat = {\n    test(data: string | XMLDocument | BitmapFontData): boolean\n    {\n        const xml = data as Document;\n\n        return typeof xml !== 'string'\n            && 'getElementsByTagName' in xml\n            && xml.getElementsByTagName('page').length\n            && xml.getElementsByTagName('info')[0].getAttribute('face') !== null;\n    },\n\n    parse(xml: Document): BitmapFontData\n    {\n        const data: BitmapFontData = {\n            chars: {},\n            pages: [],\n            lineHeight: 0,\n            fontSize: 0,\n            fontFamily: '',\n            distanceField: null,\n            baseLineOffset: 0,\n        };\n\n        const info = xml.getElementsByTagName('info')[0];\n        const common = xml.getElementsByTagName('common')[0];\n        const distanceField = xml.getElementsByTagName('distanceField')[0];\n\n        if (distanceField)\n        {\n            data.distanceField = {\n                type: distanceField.getAttribute('fieldType') as 'sdf' | 'msdf' | 'none',\n                range: parseInt(distanceField.getAttribute('distanceRange'), 10),\n            };\n        }\n\n        // pages and chars:\n        const page = xml.getElementsByTagName('page');\n        const char = xml.getElementsByTagName('char');\n        const kerning = xml.getElementsByTagName('kerning');\n\n        data.fontSize = parseInt(info.getAttribute('size'), 10);\n        data.fontFamily = info.getAttribute('face');\n        data.lineHeight = parseInt(common.getAttribute('lineHeight'), 10);\n\n        for (let i = 0; i < page.length; i++)\n        {\n            data.pages.push({\n                id: parseInt(page[i].getAttribute('id'), 10) || 0,\n                file: page[i].getAttribute('file'),\n            });\n        }\n\n        const map: Record<string, string> = {};\n\n        data.baseLineOffset = data.lineHeight - parseInt(common.getAttribute('base'), 10);\n\n        for (let i = 0; i < char.length; i++)\n        {\n            const charNode = char[i];\n            const id = parseInt(charNode.getAttribute('id'), 10);\n\n            let letter = charNode.getAttribute('letter') ?? charNode.getAttribute('char');\n\n            if (letter === 'space')letter = ' ';\n\n            map[id] = letter;\n\n            data.chars[letter] = {\n                id,\n                // texture deets..\n                page: parseInt(charNode.getAttribute('page'), 10) || 0,\n                x: parseInt(charNode.getAttribute('x'), 10),\n                y: parseInt(charNode.getAttribute('y'), 10),\n                width: parseInt(charNode.getAttribute('width'), 10),\n                height: parseInt(charNode.getAttribute('height'), 10),\n\n                // render deets..\n                xOffset: parseInt(charNode.getAttribute('xoffset'), 10),\n                yOffset: parseInt(charNode.getAttribute('yoffset'), 10), // + baseLineOffset,\n                xAdvance: parseInt(charNode.getAttribute('xadvance'), 10),\n                kerning: {},\n            } as RawCharData;\n        }\n\n        for (let i = 0; i < kerning.length; i++)\n        {\n            const first = parseInt(kerning[i].getAttribute('first'), 10);\n            const second = parseInt(kerning[i].getAttribute('second'), 10);\n            const amount = parseInt(kerning[i].getAttribute('amount'), 10);\n\n            data.chars[map[second]].kerning[map[first]] = amount;// * 10000;\n        }\n\n        return data;\n    }\n};\n","import { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { XMLFormat } from './xmlFormat';\n\nimport type { BitmapFontData } from '../AbstractBitmapFont';\n\nexport const XMLStringFormat = {\n    test(data: string | XMLDocument | BitmapFontData): boolean\n    {\n        if (typeof data === 'string' && data.includes('<font>'))\n        {\n            return XMLFormat.test(DOMAdapter.get().parseXML(data));\n        }\n\n        return false;\n    },\n\n    parse(data: string): BitmapFontData\n    {\n        return XMLFormat.parse(DOMAdapter.get().parseXML(data));\n    }\n};\n","import { LoaderParserPriority } from '../../../../assets/loader/parsers/LoaderParser';\nimport { copySearchParams } from '../../../../assets/utils/copySearchParams';\nimport { ExtensionType } from '../../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { path } from '../../../../utils/path';\nimport { BitmapFont } from '../BitmapFont';\nimport { TextFormat } from './textFormat';\nimport { XMLStringFormat } from './xmlStringFormat';\n\nimport type { Loader } from '../../../../assets/loader/Loader';\nimport type { LoaderParser } from '../../../../assets/loader/parsers/LoaderParser';\nimport type { ResolvedAsset } from '../../../../assets/types';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\n\nconst validExtensions = ['.xml', '.fnt'];\n\n/** simple loader plugin for loading in bitmap fonts! */\nexport const bitmapFontCachePlugin = {\n    extension: ExtensionType.CacheParser,\n    test: (asset: BitmapFont) => asset instanceof BitmapFont,\n    getCacheableAssets(keys: string[], asset: BitmapFont)\n    {\n        const out: Record<string, BitmapFont> = {};\n\n        keys.forEach((key) =>\n        {\n            out[key] = asset;\n        });\n\n        out[asset.fontFamily] = asset;\n\n        return out;\n    }\n};\n\nexport const xmlBitmapFontLoader = {\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Normal,\n    },\n\n    test(url: string): boolean\n    {\n        return validExtensions.includes(path.extname(url).toLowerCase());\n    },\n\n    async testParse(data: string): Promise<boolean>\n    {\n        return TextFormat.test(data) || XMLStringFormat.test(data);\n    },\n\n    async parse(asset: string, data: ResolvedAsset, loader: Loader): Promise<BitmapFont>\n    {\n        const bitmapFontData = TextFormat.test(asset)\n            ? TextFormat.parse(asset)\n            : XMLStringFormat.parse(asset);\n\n        const { src } = data;\n        const { pages } = bitmapFontData;\n        const textureUrls = [];\n\n        for (let i = 0; i < pages.length; ++i)\n        {\n            const pageFile = pages[i].file;\n            let imagePath = path.join(path.dirname(src), pageFile);\n\n            imagePath = copySearchParams(imagePath, src);\n\n            textureUrls.push(imagePath);\n        }\n\n        const loadedTextures = await loader.load<Texture>(textureUrls);\n        const textures = textureUrls.map((url) => loadedTextures[url]);\n\n        const bitmapFont = new BitmapFont({\n            data: bitmapFontData,\n            textures\n        });\n\n        return bitmapFont;\n    },\n\n    async load(url: string, _options: ResolvedAsset): Promise<string>\n    {\n        const response = await DOMAdapter.get().fetch(url);\n\n        return await response.text();\n    },\n\n    unload(bitmapFont: BitmapFont): void\n    {\n        bitmapFont.destroy();\n    }\n} as LoaderParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\n\nimport type { CacheParser } from '../CacheParser';\n\nexport const cacheTextureArray: CacheParser<Texture[]> = {\n    extension: ExtensionType.CacheParser,\n\n    test: (asset: any[]) => Array.isArray(asset) && asset.every((t) => t instanceof Texture),\n\n    getCacheableAssets: (keys: string[], asset: Texture[]) =>\n    {\n        const out: Record<string, Texture> = {};\n\n        keys.forEach((key: string) =>\n        {\n            asset.forEach((item: Texture, i: number) =>\n            {\n                out[key + (i === 0 ? '' : i + 1)] = item;\n            });\n        });\n\n        return out;\n    }\n};\n","export async function testImageFormat(imageData: string): Promise<boolean>\n{\n    // Some browsers currently do not support createImageBitmap with Blob, so new Image() is preferred when exist.\n    // See https://caniuse.com/createimagebitmap for more information.\n\n    if ('Image' in globalThis)\n    {\n        return new Promise<boolean>((resolve) =>\n        {\n            const image = new Image();\n\n            image.onload = () =>\n            {\n                resolve(true);\n            };\n            image.onerror = () =>\n            {\n                resolve(false);\n            };\n            image.src = imageData;\n        });\n    }\n\n    if ('createImageBitmap' in globalThis && 'fetch' in globalThis)\n    {\n        try\n        {\n            const blob = await (await fetch(imageData)).blob();\n\n            await createImageBitmap(blob);\n        }\n        catch (e)\n        {\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { testImageFormat } from '../utils/testImageFormat';\n\nimport type { FormatDetectionParser } from '../types';\n\nexport const detectAvif: FormatDetectionParser = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 1,\n    },\n    test: async (): Promise<boolean> => testImageFormat(\n        // eslint-disable-next-line max-len\n        'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A='\n    ),\n    add: async (formats) => [...formats, 'avif'],\n    remove: async (formats) => formats.filter((f) => f !== 'avif'),\n};\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { FormatDetectionParser } from '../types';\n\nconst imageFormats = ['png', 'jpg', 'jpeg'];\n\nexport const detectDefaults = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: -1,\n    },\n    test: (): Promise<boolean> => Promise.resolve(true),\n    add: async (formats) => [...formats, ...imageFormats],\n    remove: async (formats) => formats.filter((f) => !imageFormats.includes(f)),\n} as FormatDetectionParser;\n","const inWorker = 'WorkerGlobalScope' in globalThis\n    && globalThis instanceof (globalThis as any).WorkerGlobalScope;\n\nexport function testVideoFormat(mimeType: string): boolean\n{\n    if (inWorker)\n    {\n        return false;\n    }\n\n    const video = document.createElement('video');\n\n    return video.canPlayType(mimeType) !== '';\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { testVideoFormat } from '../utils/testVideoFormat';\n\nimport type { FormatDetectionParser } from '../types';\n\nexport const detectMp4 = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 0,\n    },\n    test: async (): Promise<boolean> => testVideoFormat('video/mp4'),\n    add: async (formats) => [...formats, 'mp4', 'm4v'],\n    remove: async (formats) => formats.filter((f) => f !== 'mp4' && f !== 'm4v'),\n} as FormatDetectionParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { testVideoFormat } from '../utils/testVideoFormat';\n\nimport type { FormatDetectionParser } from '../types';\n\nexport const detectOgv = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 0,\n    },\n    test: async (): Promise<boolean> => testVideoFormat('video/ogg'),\n    add: async (formats) => [...formats, 'ogv'],\n    remove: async (formats) => formats.filter((f) => f !== 'ogv'),\n} as FormatDetectionParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { testVideoFormat } from '../utils/testVideoFormat';\n\nimport type { FormatDetectionParser } from '../types';\n\nexport const detectWebm = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 0,\n    },\n    test: async (): Promise<boolean> => testVideoFormat('video/webm'),\n    add: async (formats) => [...formats, 'webm'],\n    remove: async (formats) => formats.filter((f) => f !== 'webm'),\n} as FormatDetectionParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { testImageFormat } from '../utils/testImageFormat';\n\nimport type { FormatDetectionParser } from '../types';\n\nexport const detectWebp = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 0,\n    },\n    test: async (): Promise<boolean> => testImageFormat(\n        'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA='\n    ),\n    add: async (formats) => [...formats, 'webp'],\n    remove: async (formats) => formats.filter((f) => f !== 'webp'),\n} as FormatDetectionParser;\n","export function checkDataUrl(url: string, mimes: string | string[]): boolean\n{\n    if (Array.isArray(mimes))\n    {\n        for (const mime of mimes)\n        {\n            if (url.startsWith(`data:${mime}`)) return true;\n        }\n\n        return false;\n    }\n\n    return url.startsWith(`data:${mimes}`);\n}\n","import { path } from '../../utils/path';\n\nexport function checkExtension(url: string, extension: string | string[]): boolean\n{\n    const tempURL = url.split('?')[0];\n    const ext = path.extname(tempURL).toLowerCase();\n\n    if (Array.isArray(extension))\n    {\n        return extension.includes(ext);\n    }\n\n    return ext === extension;\n}\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../settings/adapter/adapter';\nimport { checkDataUrl } from '../../utils/checkDataUrl';\nimport { checkExtension } from '../../utils/checkExtension';\nimport { LoaderParserPriority } from './LoaderParser';\n\nimport type { LoaderParser } from './LoaderParser';\n\nconst validJSONExtension = '.json';\nconst validJSONMIME = 'application/json';\n\n/** simple loader plugin for loading json data */\nexport const loadJson = {\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Low,\n    },\n\n    name: 'loadJson',\n\n    test(url: string): boolean\n    {\n        return checkDataUrl(url, validJSONMIME) || checkExtension(url, validJSONExtension);\n    },\n\n    async load<T>(url: string): Promise<T>\n    {\n        const response = await DOMAdapter.get().fetch(url);\n\n        const json = await response.json();\n\n        return json as T;\n    },\n} as LoaderParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../settings/adapter/adapter';\nimport { checkDataUrl } from '../../utils/checkDataUrl';\nimport { checkExtension } from '../../utils/checkExtension';\nimport { LoaderParserPriority } from './LoaderParser';\n\nimport type { LoaderParser } from './LoaderParser';\n\nconst validTXTExtension = '.txt';\nconst validTXTMIME = 'text/plain';\n\n/** Simple loader plugin for loading text data */\nexport const loadTxt = {\n\n    name: 'loadTxt',\n\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Low,\n    },\n\n    test(url: string): boolean\n    {\n        return checkDataUrl(url, validTXTMIME) || checkExtension(url, validTXTExtension);\n    },\n\n    async load(url: string): Promise<string>\n    {\n        const response = await DOMAdapter.get().fetch(url);\n\n        const txt = await response.text();\n\n        return txt;\n    },\n} as LoaderParser;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../settings/adapter/adapter';\nimport { warn } from '../../../utils/logging/warn';\nimport { path } from '../../../utils/path';\nimport { Cache } from '../../cache/Cache';\nimport { checkDataUrl } from '../../utils/checkDataUrl';\nimport { checkExtension } from '../../utils/checkExtension';\nimport { LoaderParserPriority } from './LoaderParser';\n\nimport type { ResolvedAsset } from '../../types';\nimport type { LoaderParser } from './LoaderParser';\n\nconst validWeights = [\n    'normal', 'bold',\n    '100', '200', '300', '400', '500', '600', '700', '800', '900',\n];\nconst validFontExtensions = ['.ttf', '.otf', '.woff', '.woff2'];\nconst validFontMIMEs = [\n    'font/ttf',\n    'font/otf',\n    'font/woff',\n    'font/woff2',\n];\n\n/** Loader plugin for handling web fonts */\nexport type LoadFontData = {\n    family: string;\n    display: string;\n    featureSettings: string;\n    stretch: string;\n    style: string;\n    unicodeRange: string;\n    variant: string;\n    weights: string[];\n};\n\n/**\n * RegExp for matching CSS <ident-token>. It doesn't consider escape and non-ASCII characters, but enough for us.\n * @see {@link https://www.w3.org/TR/css-syntax-3/#ident-token-diagram}\n */\nconst CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;\n\n/**\n * Return font face name from a file name\n * Ex.: 'fonts/titan-one.woff' turns into 'Titan One'\n * @param url - File url\n */\nexport function getFontFamilyName(url: string): string\n{\n    const ext = path.extname(url);\n    const name = path.basename(url, ext);\n\n    // Replace dashes by white spaces\n    const nameWithSpaces = name.replace(/(-|_)/g, ' ');\n\n    // Upper case first character of each word\n    const nameTokens = nameWithSpaces.toLowerCase()\n        .split(' ')\n        .map((word) => word.charAt(0).toUpperCase() + word.slice(1));\n\n    let valid = nameTokens.length > 0;\n\n    for (const token of nameTokens)\n    {\n        if (!token.match(CSS_IDENT_TOKEN_REGEX))\n        {\n            valid = false;\n            break;\n        }\n    }\n\n    let fontFamilyName = nameTokens.join(' ');\n\n    if (!valid)\n    {\n        fontFamilyName = `\"${fontFamilyName.replace(/[\\\\\"]/g, '\\\\$&')}\"`;\n    }\n\n    return fontFamilyName;\n}\n\n// See RFC 3986 Chapter 2. Characters\nconst validURICharactersRegex = /^[0-9A-Za-z%:/?#\\[\\]@!\\$&'()\\*\\+,;=\\-._~]*$/;\n\n/**\n * Encode URI only when it contains invalid characters.\n * @param uri - URI to encode.\n */\nfunction encodeURIWhenNeeded(uri: string)\n{\n    if (validURICharactersRegex.test(uri))\n    {\n        return uri;\n    }\n\n    return encodeURI(uri);\n}\n\n/** Web font loader plugin */\nexport const loadWebFont = {\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Low,\n    },\n\n    name: 'loadWebFont',\n\n    test(url: string): boolean\n    {\n        return checkDataUrl(url, validFontMIMEs) || checkExtension(url, validFontExtensions);\n    },\n\n    async load(url: string, options?: ResolvedAsset<LoadFontData>): Promise<FontFace | FontFace[]>\n    {\n        const fonts = DOMAdapter.get().getFontFaceSet();\n\n        if (fonts)\n        {\n            const fontFaces: FontFace[] = [];\n            const name = options.data?.family ?? getFontFamilyName(url);\n            const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? ['normal'];\n            const data = options.data ?? {};\n\n            for (let i = 0; i < weights.length; i++)\n            {\n                const weight = weights[i];\n\n                const font = new FontFace(name, `url(${encodeURIWhenNeeded(url)})`, {\n                    ...data,\n                    weight,\n                });\n\n                await font.load();\n\n                fonts.add(font);\n\n                fontFaces.push(font);\n            }\n\n            Cache.set(name, {\n                url,\n                fontFaces,\n            });\n\n            return fontFaces.length === 1 ? fontFaces[0] : fontFaces;\n        }\n\n        // #if _DEBUG\n        warn('[loadWebFont] FontFace API is not supported. Skipping loading font');\n        // #endif\n\n        return null;\n    },\n\n    unload(font: FontFace | FontFace[]): void\n    {\n        (Array.isArray(font) ? font : [font])\n            .forEach((t) =>\n            {\n                Cache.remove(t.family);\n                DOMAdapter.get().getFontFaceSet().delete(t);\n            });\n    }\n} as LoaderParser<FontFace | FontFace[]>;\n","import { warn } from '../../../../utils/logging/warn';\n\nimport type { GraphicsPath } from '../path/GraphicsPath';\n\nconst commandSizeMap = {\n    a: 7,\n    c: 6,\n    h: 1,\n    l: 2,\n    m: 2,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    z: 0,\n};\n\n// TODO optimise and cache the paths?\nexport function SVGToGraphicsPath(svgPath: string, path: GraphicsPath): GraphicsPath\n{\n    // get commands removing spaces at the end\n\n    const commands = svgPath.match(/[a-df-z][^a-df-z]*/gi);\n    // get command data size\n\n    const data = svgPath.match(/[+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?/g)?.map(parseFloat);\n\n    const betterCommands: string[] = [];\n\n    commands.forEach((command) =>\n    {\n        const data = command.match(/[+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?/g)?.map(parseFloat);\n\n        const type = command[0];\n\n        let totalInstructions = 1;\n\n        if (data)\n        {\n            totalInstructions = data.length / commandSizeMap[type.toLowerCase() as keyof typeof commandSizeMap];\n        }\n\n        for (let i = 0; i < totalInstructions; i++)\n        {\n            betterCommands.push(type);\n        }\n    });\n\n    let dataIndex = 0;\n\n    let lastX = 0;\n    let lastY = 0;\n\n    for (let i = 0; i < betterCommands.length; i++)\n    {\n        const type = betterCommands[i];\n\n        // const command = commands[i];\n\n        //        const type = betterCommand.type;\n\n        switch (type)\n        {\n            case 'M':\n                lastX = data[dataIndex++];\n                lastY = data[dataIndex++];\n\n                path.moveTo(lastX, lastY);\n                break;\n            case 'm':\n\n                lastX += data[dataIndex++];\n                lastY += data[dataIndex++];\n\n                path.moveTo(lastX, lastY);\n                break;\n            case 'H':\n                lastX = data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'h':\n                lastX += data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'V':\n                lastY = data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'v':\n                lastY += data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'L':\n                lastX = data[dataIndex++];\n                lastY = data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'l':\n                lastX += data[dataIndex++];\n                lastY += data[dataIndex++];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'C':\n\n                lastX = data[dataIndex + 4];\n                lastY = data[dataIndex + 5];\n\n                path.bezierCurveTo(\n                    data[dataIndex], data[dataIndex + 1],\n                    data[dataIndex + 2], data[dataIndex + 3],\n                    lastX, lastY\n                );\n\n                dataIndex += 6;\n                break;\n            case 'c':\n\n                path.bezierCurveTo(\n                    lastX + data[dataIndex], lastY + data[dataIndex + 1],\n                    lastX + data[dataIndex + 2], lastY + data[dataIndex + 3],\n                    lastX + data[dataIndex + 4], lastY + data[dataIndex + 5]\n                );\n\n                lastX += data[dataIndex + 4];\n                lastY += data[dataIndex + 5];\n\n                dataIndex += 6;\n                break;\n            case 'S':\n                lastX = data[dataIndex + 2];\n                lastY = data[dataIndex + 3];\n\n                path.bezierCurveToShort(\n                    data[dataIndex], data[dataIndex + 1],\n                    lastX, lastY\n                );\n\n                dataIndex += 4;\n                break;\n            case 's':\n                path.bezierCurveToShort(\n                    lastX + data[dataIndex], lastY + data[dataIndex + 1],\n                    lastX + data[dataIndex + 2], lastY + data[dataIndex + 3],\n                );\n\n                lastX += data[dataIndex + 2];\n                lastY += data[dataIndex + 3];\n\n                dataIndex += 4;\n                break;\n            case 'Q':\n                lastX = data[dataIndex + 2];\n                lastY = data[dataIndex + 3];\n\n                path.quadraticCurveTo(\n                    data[dataIndex], data[dataIndex + 1],\n                    lastX, lastY\n                );\n\n                dataIndex += 4;\n                break;\n            case 'q':\n\n                path.quadraticCurveTo(\n                    lastX + data[dataIndex], lastY + data[dataIndex + 1],\n                    lastX + data[dataIndex + 2], lastY + data[dataIndex + 3]\n                );\n\n                lastX += data[dataIndex + 2];\n                lastY += data[dataIndex + 3];\n\n                dataIndex += 4;\n                break;\n            case 'T':\n\n                lastX = data[dataIndex++];\n                lastY = data[dataIndex++];\n\n                path.quadraticCurveToShort(\n                    lastX, lastY\n                );\n\n                break;\n            case 't':\n\n                lastX += data[dataIndex++];\n                lastY += data[dataIndex++];\n\n                path.quadraticCurveToShort(\n                    lastX, lastY\n                );\n\n                break;\n            case 'A':\n\n                lastX = data[dataIndex + 5];\n                lastY = data[dataIndex + 6];\n\n                path.arcToSvg(\n                    data[dataIndex],\n                    data[dataIndex + 1],\n                    data[dataIndex + 2],\n                    data[dataIndex + 3],\n                    data[dataIndex + 4],\n                    lastX, lastY\n                );\n\n                dataIndex += 7;\n\n                break;\n            case 'a':\n                lastX += data[dataIndex + 5];\n                lastY += data[dataIndex + 6];\n\n                path.arcToSvg(\n                    data[dataIndex],\n                    data[dataIndex + 1],\n                    data[dataIndex + 2],\n                    data[dataIndex + 3],\n                    data[dataIndex + 4],\n                    lastX, lastY\n                );\n\n                dataIndex += 7;\n\n                break;\n            case 'Z':\n            case 'z':\n                path.closePath();\n                break;\n            default:\n                // #if _DEBUG\n                warn(`Unknown SVG path command: ${type}`);\n                // #endif\n        }\n    }\n\n    return path;\n}\n","import { Rectangle } from './Rectangle';\n\nimport type { SHAPE_PRIMITIVE } from '../misc/const';\nimport type { ShapePrimitive } from './ShapePrimitive';\n\n/** The Circle object is used to help draw graphics and can also be used to specify a hit area for containers. */\nexport class Circle implements ShapePrimitive\n{\n    /** @default 0 */\n    public x: number;\n\n    /** @default 0 */\n    public y: number;\n\n    /** @default 0 */\n    public radius: number;\n\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'circle'\n     */\n    public readonly type: SHAPE_PRIMITIVE = 'circle';\n\n    /**\n     * @param x - The X coordinate of the center of this circle\n     * @param y - The Y coordinate of the center of this circle\n     * @param radius - The radius of the circle\n     */\n    constructor(x = 0, y = 0, radius = 0)\n    {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n    }\n\n    /**\n     * Creates a clone of this Circle instance\n     * @returns A copy of the Circle\n     */\n    public clone(): Circle\n    {\n        return new Circle(this.x, this.y, this.radius);\n    }\n\n    /**\n     * Checks whether the x and y coordinates given are contained within this circle\n     * @param x - The X coordinate of the point to test\n     * @param y - The Y coordinate of the point to test\n     * @returns Whether the x/y coordinates are within this Circle\n     */\n    public contains(x: number, y: number): boolean\n    {\n        if (this.radius <= 0)\n        {\n            return false;\n        }\n\n        const r2 = this.radius * this.radius;\n        let dx = (this.x - x);\n        let dy = (this.y - y);\n\n        dx *= dx;\n        dy *= dy;\n\n        return (dx + dy <= r2);\n    }\n\n    /**\n     * Returns the framing rectangle of the circle as a Rectangle object\n     * @param out\n     * @returns The framing rectangle\n     */\n    public getBounds(out?: Rectangle): Rectangle\n    {\n        out = out || new Rectangle();\n\n        out.x = this.x - this.radius;\n        out.y = this.y - this.radius;\n        out.width = this.radius * 2;\n        out.height = this.radius * 2;\n\n        return out;\n    }\n\n    /**\n     * Copies another circle to this one.\n     * @param circle - The circle to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(circle: Circle): this\n    {\n        this.x = circle.x;\n        this.y = circle.y;\n        this.radius = circle.radius;\n\n        return this;\n    }\n\n    /**\n     * Copies this circle to another one.\n     * @param circle - The circle to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(circle: Circle): Circle\n    {\n        circle.copyFrom(this);\n\n        return circle;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;\n    }\n    // #endif\n}\n","import { Rectangle } from './Rectangle';\n\nimport type { ShapePrimitive } from './ShapePrimitive';\n\n/** The Ellipse object is used to help draw graphics and can also be used to specify a hit area for containers. */\nexport class Ellipse implements ShapePrimitive\n{\n    /** @default 0 */\n    public x: number;\n\n    /** @default 0 */\n    public y: number;\n\n    /** @default 0 */\n    public halfWidth: number;\n\n    /** @default 0 */\n    public halfHeight: number;\n\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'ellipse'\n     */\n    public readonly type = 'ellipse';\n\n    /**\n     * @param x - The X coordinate of the center of this ellipse\n     * @param y - The Y coordinate of the center of this ellipse\n     * @param halfWidth - The half width of this ellipse\n     * @param halfHeight - The half height of this ellipse\n     */\n    constructor(x = 0, y = 0, halfWidth = 0, halfHeight = 0)\n    {\n        this.x = x;\n        this.y = y;\n        this.halfWidth = halfWidth;\n        this.halfHeight = halfHeight;\n    }\n\n    /**\n     * Creates a clone of this Ellipse instance\n     * @returns {Ellipse} A copy of the ellipse\n     */\n    public clone(): Ellipse\n    {\n        return new Ellipse(this.x, this.y, this.halfWidth, this.halfHeight);\n    }\n\n    /**\n     * Checks whether the x and y coordinates given are contained within this ellipse\n     * @param x - The X coordinate of the point to test\n     * @param y - The Y coordinate of the point to test\n     * @returns Whether the x/y coords are within this ellipse\n     */\n    public contains(x: number, y: number): boolean\n    {\n        if (this.halfWidth <= 0 || this.halfHeight <= 0)\n        {\n            return false;\n        }\n\n        // normalize the coords to an ellipse with center 0,0\n        let normx = ((x - this.x) / this.halfWidth);\n        let normy = ((y - this.y) / this.halfHeight);\n\n        normx *= normx;\n        normy *= normy;\n\n        return (normx + normy <= 1);\n    }\n\n    /**\n     * Returns the framing rectangle of the ellipse as a Rectangle object\n     * @returns The framing rectangle\n     */\n    public getBounds(): Rectangle\n    {\n        return new Rectangle(this.x - this.halfWidth, this.y - this.halfHeight, this.halfWidth * 2, this.halfHeight * 2);\n    }\n\n    /**\n     * Copies another ellipse to this one.\n     * @param ellipse - The ellipse to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(ellipse: Ellipse): this\n    {\n        this.x = ellipse.x;\n        this.y = ellipse.y;\n        this.halfWidth = ellipse.halfWidth;\n        this.halfHeight = ellipse.halfHeight;\n\n        return this;\n    }\n\n    /**\n     * Copies this ellipse to another one.\n     * @param ellipse - The ellipse to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(ellipse: Ellipse): Ellipse\n    {\n        ellipse.copyFrom(this);\n\n        return ellipse;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`;\n    }\n    // #endif\n}\n","import { Rectangle } from './Rectangle';\n\nimport type { SHAPE_PRIMITIVE } from '../misc/const';\nimport type { PointData } from '../point/PointData';\nimport type { ShapePrimitive } from './ShapePrimitive';\n\n/** A class to define a shape via user defined coordinates. */\nexport class Polygon implements ShapePrimitive\n{\n    /** An array of the points of this polygon. */\n    public points: number[];\n\n    /** `false` after moveTo, `true` after `closePath`. In all other cases it is `true`. */\n    public closePath: boolean;\n\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'polygon'\n     */\n    public readonly type: SHAPE_PRIMITIVE = 'polygon';\n\n    constructor(points: PointData[] | number[]);\n    constructor(...points: PointData[] | number[]);\n\n    /**\n     * @param {PointData[]|number[]} points - This can be an array of Points\n     *  that form the polygon, a flat array of numbers that will be interpreted as [x,y, x,y, ...], or\n     *  the arguments passed can be all the points of the polygon e.g.\n     *  `new Polygon(new Point(), new Point(), ...)`, or the arguments passed can be flat\n     *  x,y values e.g. `new Polygon(x,y, x,y, x,y, ...)` where `x` and `y` are Numbers.\n     */\n    constructor(...points: (PointData[] | number[])[] | PointData[] | number[])\n    {\n        let flat = Array.isArray(points[0]) ? points[0] : points;\n\n        // if this is an array of points, convert it to a flat array of numbers\n        if (typeof flat[0] !== 'number')\n        {\n            const p: number[] = [];\n\n            for (let i = 0, il = flat.length; i < il; i++)\n            {\n                p.push((flat[i] as PointData).x, (flat[i] as PointData).y);\n            }\n\n            flat = p;\n        }\n\n        this.points = flat as number[];\n\n        this.closePath = true;\n    }\n\n    /**\n     * Creates a clone of this polygon.\n     * @returns - A copy of the polygon.\n     */\n    public clone(): Polygon\n    {\n        const points = this.points.slice();\n        const polygon = new Polygon(points);\n\n        polygon.closePath = this.closePath;\n\n        return polygon;\n    }\n\n    /**\n     * Checks whether the x and y coordinates passed to this function are contained within this polygon.\n     * @param x - The X coordinate of the point to test.\n     * @param y - The Y coordinate of the point to test.\n     * @returns - Whether the x/y coordinates are within this polygon.\n     */\n    public contains(x: number, y: number): boolean\n    {\n        let inside = false;\n\n        // use some raycasting to test hits\n        // https://github.com/substack/point-in-polygon/blob/master/index.js\n        const length = this.points.length / 2;\n\n        for (let i = 0, j = length - 1; i < length; j = i++)\n        {\n            const xi = this.points[i * 2];\n            const yi = this.points[(i * 2) + 1];\n            const xj = this.points[j * 2];\n            const yj = this.points[(j * 2) + 1];\n            const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);\n\n            if (intersect)\n            {\n                inside = !inside;\n            }\n        }\n\n        return inside;\n    }\n\n    /**\n     * Returns the framing rectangle of the polygon as a Rectangle object\n     * @param out - optional rectangle to store the result\n     * @returns The framing rectangle\n     */\n    public getBounds(out?: Rectangle): Rectangle\n    {\n        out = out || new Rectangle();\n\n        const points = this.points;\n\n        let minX = Infinity;\n        let maxX = -Infinity;\n\n        let minY = Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0, n = points.length; i < n; i += 2)\n        {\n            const x = points[i];\n            const y = points[i + 1];\n\n            minX = x < minX ? x : minX;\n            maxX = x > maxX ? x : maxX;\n\n            minY = y < minY ? y : minY;\n            maxY = y > maxY ? y : maxY;\n        }\n\n        out.x = minX;\n        out.width = maxX - minX;\n\n        out.y = minY;\n        out.height = maxY - minY;\n\n        return out;\n    }\n\n    /**\n     * Copies another polygon to this one.\n     * @param polygon - The polygon to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(polygon: Polygon): this\n    {\n        this.points = polygon.points.slice();\n        this.closePath = polygon.closePath;\n\n        return this;\n    }\n\n    /**\n     * Copies this polygon to another one.\n     * @param polygon - The polygon to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(polygon: Polygon): Polygon\n    {\n        polygon.copyFrom(this);\n\n        return polygon;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Polygon`\n            + `closeStroke=${this.closePath}`\n            + `points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, '')}]`;\n    }\n    // #endif\n\n    /**\n     * Get the last X coordinate of the polygon\n     * @readonly\n     */\n    get lastX(): number\n    {\n        return this.points[this.points.length - 2];\n    }\n\n    /**\n     * Get the last Y coordinate of the polygon\n     * @readonly\n     */\n    get lastY(): number\n    {\n        return this.points[this.points.length - 1];\n    }\n\n    /**\n     * Get the first X coordinate of the polygon\n     * @readonly\n     */\n    get x(): number\n    {\n        return this.points[this.points.length - 2];\n    }\n    /**\n     * Get the first Y coordinate of the polygon\n     * @readonly\n     */\n    get y(): number\n    {\n        return this.points[this.points.length - 1];\n    }\n}\n\n","import { Rectangle } from './Rectangle';\n\nimport type { ShapePrimitive } from './ShapePrimitive';\n\n/**\n * The Rounded Rectangle object is an area that has nice rounded corners, as indicated by its\n * top-left corner point (x, y) and by its width and its height and its radius.\n */\nexport class RoundedRectangle implements ShapePrimitive\n{\n    /** @default 0 */\n    public x: number;\n\n    /** @default 0 */\n    public y: number;\n\n    /** @default 0 */\n    public width: number;\n\n    /** @default 0 */\n    public height: number;\n\n    /** @default 20 */\n    public radius: number;\n\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'roundedRectangle'\n     */\n    public readonly type = 'roundedRectangle';\n\n    /**\n     * @param x - The X coordinate of the upper-left corner of the rounded rectangle\n     * @param y - The Y coordinate of the upper-left corner of the rounded rectangle\n     * @param width - The overall width of this rounded rectangle\n     * @param height - The overall height of this rounded rectangle\n     * @param radius - Controls the radius of the rounded corners\n     */\n    constructor(x = 0, y = 0, width = 0, height = 0, radius = 20)\n    {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.radius = radius;\n    }\n\n    /**\n     * Returns the framing rectangle of the rounded rectangle as a Rectangle object\n     * @param out - optional rectangle to store the result\n     * @returns The framing rectangle\n     */\n    public getBounds(out?: Rectangle): Rectangle\n    {\n        out = out || new Rectangle();\n\n        out.x = this.x;\n        out.y = this.y;\n        out.width = this.width;\n        out.height = this.height;\n\n        return out;\n    }\n\n    /**\n     * Creates a clone of this Rounded Rectangle.\n     * @returns - A copy of the rounded rectangle.\n     */\n    public clone(): RoundedRectangle\n    {\n        return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);\n    }\n\n    /**\n     * Copies another rectangle to this one.\n     * @param rectangle - The rectangle to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(rectangle: RoundedRectangle): this\n    {\n        this.x = rectangle.x;\n        this.y = rectangle.y;\n        this.width = rectangle.width;\n        this.height = rectangle.height;\n\n        return this;\n    }\n\n    /**\n     * Copies this rectangle to another one.\n     * @param rectangle - The rectangle to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(rectangle: RoundedRectangle): RoundedRectangle\n    {\n        rectangle.copyFrom(this);\n\n        return rectangle;\n    }\n\n    /**\n     * Checks whether the x and y coordinates given are contained within this Rounded Rectangle\n     * @param x - The X coordinate of the point to test.\n     * @param y - The Y coordinate of the point to test.\n     * @returns - Whether the x/y coordinates are within this Rounded Rectangle.\n     */\n    public contains(x: number, y: number): boolean\n    {\n        if (this.width <= 0 || this.height <= 0)\n        {\n            return false;\n        }\n        if (x >= this.x && x <= this.x + this.width)\n        {\n            if (y >= this.y && y <= this.y + this.height)\n            {\n                const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));\n\n                if ((y >= this.y + radius && y <= this.y + this.height - radius)\n                || (x >= this.x + radius && x <= this.x + this.width - radius))\n                {\n                    return true;\n                }\n                let dx = x - (this.x + radius);\n                let dy = y - (this.y + radius);\n                const radius2 = radius * radius;\n\n                if ((dx * dx) + (dy * dy) <= radius2)\n                {\n                    return true;\n                }\n                dx = x - (this.x + this.width - radius);\n                if ((dx * dx) + (dy * dy) <= radius2)\n                {\n                    return true;\n                }\n                dy = y - (this.y + this.height - radius);\n                if ((dx * dx) + (dy * dy) <= radius2)\n                {\n                    return true;\n                }\n                dx = x - (this.x + radius);\n                if ((dx * dx) + (dy * dy) <= radius2)\n                {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}`\n            + `width=${this.width} height=${this.height} radius=${this.radius}]`;\n    }\n    // #endif\n}\n","// thanks to https://github.com/mattdesl/adaptive-bezier-curve\n// for the original code!\n\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 1.19209290e-7;\nconst PATH_DISTANCE_EPSILON = 1.0;\n\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\nconst mCuspLimit = 0;\n\nexport function buildAdaptiveBezier(\n    points: number[],\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    cp2x: number, cp2y: number,\n    eX: number, eY: number,\n)\n{\n    // TODO expose as a parameter\n    const scale = 1;\n    let distanceTolerance = PATH_DISTANCE_EPSILON / scale;\n\n    distanceTolerance *= distanceTolerance;\n    begin(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance);\n\n    return points;\n}\n\n// //// Based on:\n// //// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\nfunction begin(\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    cp2x: number, cp2y: number,\n    eX: number, eY: number,\n    points: number[],\n    distanceTolerance: number\n)\n{\n    // dont need to actually ad this!\n    // points.push(sX, sY);\n    recursive(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance, 0);\n    points.push(eX, eY);\n}\n\n// eslint-disable-next-line max-params\nfunction recursive(\n    x1: number, y1: number,\n    x2: number, y2: number,\n    x3: number, y3: number,\n    x4: number, y4: number,\n    points: number[],\n    distanceTolerance: number,\n    level: number)\n{\n    if (level > RECURSION_LIMIT)\n    { return; }\n\n    const pi = Math.PI;\n\n    // Calculate all the mid-points of the line segments\n    // ----------------------\n    const x12 = (x1 + x2) / 2;\n    const y12 = (y1 + y2) / 2;\n    const x23 = (x2 + x3) / 2;\n    const y23 = (y2 + y3) / 2;\n    const x34 = (x3 + x4) / 2;\n    const y34 = (y3 + y4) / 2;\n    const x123 = (x12 + x23) / 2;\n    const y123 = (y12 + y23) / 2;\n    const x234 = (x23 + x34) / 2;\n    const y234 = (y23 + y34) / 2;\n    const x1234 = (x123 + x234) / 2;\n    const y1234 = (y123 + y234) / 2;\n\n    if (level > 0)\n    { // Enforce subdivision first time\n        // Try to approximate the full cubic curve by a single straight line\n        // ------------------\n        let dx = x4 - x1;\n        let dy = y4 - y1;\n\n        const d2 = Math.abs(((x2 - x4) * dy) - ((y2 - y4) * dx));\n        const d3 = Math.abs(((x3 - x4) * dy) - ((y3 - y4) * dx));\n\n        let da1; let da2;\n\n        if (d2 > FLT_EPSILON && d3 > FLT_EPSILON)\n        {\n            // Regular care\n            // -----------------\n            if ((d2 + d3) * (d2 + d3) <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                // If the curvature doesn't exceed the distanceTolerance value\n                // we tend to finish subdivisions.\n                // ----------------------\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle & Cusp Condition\n                // ----------------------\n                const a23 = Math.atan2(y3 - y2, x3 - x2);\n\n                da1 = Math.abs(a23 - Math.atan2(y2 - y1, x2 - x1));\n                da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - a23);\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n                if (da2 >= pi) da2 = (2 * pi) - da2;\n\n                if (da1 + da2 < mAngleTolerance)\n                {\n                    // Finally we can stop the recursion\n                    // ----------------------\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x2, y2);\n\n                        return;\n                    }\n\n                    if (da2 > mCuspLimit)\n                    {\n                        points.push(x3, y3);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else\n        if (d2 > FLT_EPSILON)\n        {\n            // p1,p3,p4 are collinear, p2 is considerable\n            // ----------------------\n            if (d2 * d2 <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle Condition\n                // ----------------------\n                da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n\n                if (da1 < mAngleTolerance)\n                {\n                    points.push(x2, y2);\n                    points.push(x3, y3);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x2, y2);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else if (d3 > FLT_EPSILON)\n        {\n            // p1,p2,p4 are collinear, p3 is considerable\n            // ----------------------\n            if (d3 * d3 <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle Condition\n                // ----------------------\n                da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2));\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n\n                if (da1 < mAngleTolerance)\n                {\n                    points.push(x2, y2);\n                    points.push(x3, y3);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x3, y3);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else\n        {\n            // Collinear case\n            // -----------------\n            dx = x1234 - ((x1 + x4) / 2);\n            dy = y1234 - ((y1 + y4) / 2);\n            if ((dx * dx) + (dy * dy) <= distanceTolerance)\n            {\n                points.push(x1234, y1234);\n\n                return;\n            }\n        }\n    }\n\n    // Continue subdivision\n    // ----------------------\n    recursive(x1, y1, x12, y12, x123, y123, x1234, y1234, points, distanceTolerance, level + 1);\n    recursive(x1234, y1234, x234, y234, x34, y34, x4, y4, points, distanceTolerance, level + 1);\n}\n\n","// thanks to https://github.com/mattdesl/adaptive-quadratic-curve\n// for the original code!\n\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 1.19209290e-7;\nconst PATH_DISTANCE_EPSILON = 1.0;\n\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\n\nexport function buildAdaptiveQuadratic(\n    points: number[],\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    eX: number, eY: number,\n)\n{\n    const scale = 1.0;\n    let distanceTolerance = PATH_DISTANCE_EPSILON / scale;\n\n    distanceTolerance *= distanceTolerance;\n    begin(sX, sY, cp1x, cp1y, eX, eY, points, distanceTolerance);\n\n    return points;\n}\n\n// //// Based on:\n// //// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\nfunction begin(\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    eX: number, eY: number,\n    points: number[],\n    distanceTolerance: number\n)\n{\n    recursive(points, sX, sY, cp1x, cp1y, eX, eY, distanceTolerance, 0);\n\n    points.push(eX, eY);\n}\n\nfunction recursive(\n    points: number[],\n    x1: number, y1: number,\n    x2: number, y2: number,\n    x3: number, y3: number,\n    distanceTolerance: number,\n    level: number\n)\n{\n    if (level > RECURSION_LIMIT)\n    { return; }\n\n    const pi = Math.PI;\n\n    // Calculate all the mid-points of the line segments\n    // ----------------------\n    const x12 = (x1 + x2) / 2;\n    const y12 = (y1 + y2) / 2;\n    const x23 = (x2 + x3) / 2;\n    const y23 = (y2 + y3) / 2;\n    const x123 = (x12 + x23) / 2;\n    const y123 = (y12 + y23) / 2;\n\n    let dx = x3 - x1;\n    let dy = y3 - y1;\n    const d = Math.abs((((x2 - x3) * dy) - ((y2 - y3) * dx)));\n\n    if (d > FLT_EPSILON)\n    {\n        // Regular care\n        // -----------------\n        if (d * d <= distanceTolerance * ((dx * dx) + (dy * dy)))\n        {\n            // If the curvature doesn't exceed the distance_tolerance value\n            // we tend to finish subdivisions.\n            // ----------------------\n            if (mAngleTolerance < curveAngleToleranceEpsilon)\n            {\n                points.push(x123, y123);\n\n                return;\n            }\n\n            // Angle & Cusp Condition\n            // ----------------------\n            let da = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n\n            if (da >= pi) da = (2 * pi) - da;\n\n            if (da < mAngleTolerance)\n            {\n                // Finally we can stop the recursion\n                // ----------------------\n                points.push(x123, y123);\n\n                return;\n            }\n        }\n    }\n    else\n    {\n        // Collinear case\n        // -----------------\n        dx = x123 - ((x1 + x3) / 2);\n        dy = y123 - ((y1 + y3) / 2);\n        if ((dx * dx) + (dy * dy) <= distanceTolerance)\n        {\n            points.push(x123, y123);\n\n            return;\n        }\n    }\n\n    // Continue subdivision\n    // ----------------------\n    recursive(points, x1, y1, x12, y12, x123, y123, distanceTolerance, level + 1);\n    recursive(points, x123, y123, x23, y23, x3, y3, distanceTolerance, level + 1);\n}\n\n","export function buildArc(\n    points: number[],\n    x: number, y: number,\n    radius: number,\n    start: number,\n    end: number,\n    clockwise: boolean,\n    steps?: number\n)\n{\n    // determine distance between the two angles\n    // ...probably a nicer way of writing this\n    let dist = Math.abs(start - end);\n\n    if (!clockwise && start > end)\n    {\n        dist = (2 * Math.PI) - dist;\n    }\n    else if (clockwise && end > start)\n    {\n        dist = (2 * Math.PI) - dist;\n    }\n\n    // approximate the # of steps using the cube root of the radius\n\n    steps = steps || Math.max(6, Math.floor(6 * Math.pow(radius, 1 / 3) * (dist / (Math.PI))));\n\n    // ensure we have at least 3 steps..\n    steps = Math.max(steps, 3);\n\n    let f = dist / (steps);\n    let t = start;\n\n    // modify direction\n    f *= clockwise ? -1 : 1;\n\n    for (let i = 0; i < steps + 1; i++)\n    {\n        const cs = Math.cos(t);\n        const sn = Math.sin(t);\n\n        const nx = x + (cs * radius);\n        const ny = y + (sn * radius);\n\n        points.push(nx, ny);\n\n        t += f;\n    }\n}\n","import { buildArc } from './buildArc';\n\n/**\n * The arcTo() method creates an arc/curve between two tangents on the canvas.\n *\n * \"borrowed\" from https://code.google.com/p/fxcanvas/ - thanks google!\n * @param points\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param radius\n */\nexport function buildArcTo(\n    points: number[],\n    x1: number, y1: number,\n    x2: number, y2: number,\n    radius: number,\n): void\n{\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n\n    const a1 = fromY - y1;\n    const b1 = fromX - x1;\n    const a2 = y2 - y1;\n    const b2 = x2 - x1;\n    const mm = Math.abs((a1 * b2) - (b1 * a2));\n\n    if (mm < 1.0e-8 || radius === 0)\n    {\n        if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1)\n        {\n            points.push(x1, y1);\n        }\n\n        return;\n    }\n\n    const dd = (a1 * a1) + (b1 * b1);\n    const cc = (a2 * a2) + (b2 * b2);\n    const tt = (a1 * a2) + (b1 * b2);\n    const k1 = radius * Math.sqrt(dd) / mm;\n    const k2 = radius * Math.sqrt(cc) / mm;\n    const j1 = k1 * tt / dd;\n    const j2 = k2 * tt / cc;\n    const cx = (k1 * b2) + (k2 * b1);\n    const cy = (k1 * a2) + (k2 * a1);\n    const px = b1 * (k2 + j1);\n    const py = a1 * (k2 + j1);\n    const qx = b2 * (k1 + j2);\n    const qy = a2 * (k1 + j2);\n    const startAngle = Math.atan2(py - cy, px - cx);\n    const endAngle = Math.atan2(qy - cy, qx - cx);\n\n    buildArc(points,\n        (cx + x1),\n        (cy + y1),\n        radius,\n        startAngle,\n        endAngle,\n        b1 * a2 > b2 * a1\n    );\n}\n","import { buildAdaptiveBezier } from './buildAdaptiveBezier';\n\nconst TAU = Math.PI * 2;\n\nconst out = {\n    centerX: 0,\n    centerY: 0,\n    ang1: 0,\n    ang2: 0\n};\n\nconst mapToEllipse = (\n    { x, y }: {x: number, y: number},\n    rx: number, ry: number,\n    cosPhi: number, sinPhi: number,\n    centerX: number, centerY: number,\n    out: {x: number, y: number}\n): {x: number, y: number} =>\n{\n    x *= rx;\n    y *= ry;\n\n    const xp = (cosPhi * x) - (sinPhi * y);\n    const yp = (sinPhi * x) + (cosPhi * y);\n\n    out.x = xp + centerX;\n    out.y = yp + centerY;\n\n    return out;\n};\n\nfunction approxUnitArc(ang1: number, ang2: number): {x: number, y: number}[]\n{\n    // If 90 degree circular arc, use a constant\n    // as derived from http://spencermortensen.com/articles/bezier-circle\n\n    const a1 = ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n    const a = ang2 === 1.5707963267948966 ? 0.551915024494 : a1;\n\n    const x1 = Math.cos(ang1);\n    const y1 = Math.sin(ang1);\n    const x2 = Math.cos(ang1 + ang2);\n    const y2 = Math.sin(ang1 + ang2);\n\n    return [\n        {\n            x: x1 - (y1 * a),\n            y: y1 + (x1 * a)\n        },\n        {\n            x: x2 + (y2 * a),\n            y: y2 - (x2 * a)\n        },\n        {\n            x: x2,\n            y: y2\n        }\n    ];\n}\n\nconst vectorAngle = (ux: number, uy: number, vx: number, vy: number) =>\n{\n    const sign = ((ux * vy) - (uy * vx) < 0) ? -1 : 1;\n\n    let dot = (ux * vx) + (uy * vy);\n\n    if (dot > 1)\n    {\n        dot = 1;\n    }\n\n    if (dot < -1)\n    {\n        dot = -1;\n    }\n\n    return sign * Math.acos(dot);\n};\n\nconst getArcCenter = (\n    px: number,\n    py: number,\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    largeArcFlag: number,\n    sweepFlag: number,\n    sinPhi: number,\n    cosPhi: number,\n    pxp: number,\n    pyp: number,\n    out: {\n        centerX: number,\n        centerY: number,\n        ang1: number,\n        ang2: number\n    }\n// eslint-disable-next-line max-params\n) =>\n{\n    const rxSq = Math.pow(rx, 2);\n    const rySq = Math.pow(ry, 2);\n    const pxpSq = Math.pow(pxp, 2);\n    const pypSq = Math.pow(pyp, 2);\n\n    let radicant = (rxSq * rySq) - (rxSq * pypSq) - (rySq * pxpSq);\n\n    if (radicant < 0)\n    {\n        radicant = 0;\n    }\n\n    radicant /= (rxSq * pypSq) + (rySq * pxpSq);\n    radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n    const centerXp = radicant * rx / ry * pyp;\n    const centerYp = radicant * -ry / rx * pxp;\n\n    const centerX = (cosPhi * centerXp) - (sinPhi * centerYp) + ((px + cx) / 2);\n    const centerY = (sinPhi * centerXp) + (cosPhi * centerYp) + ((py + cy) / 2);\n\n    const vx1 = (pxp - centerXp) / rx;\n    const vy1 = (pyp - centerYp) / ry;\n    const vx2 = (-pxp - centerXp) / rx;\n    const vy2 = (-pyp - centerYp) / ry;\n\n    const ang1 = vectorAngle(1, 0, vx1, vy1);\n    let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n    if (sweepFlag === 0 && ang2 > 0)\n    {\n        ang2 -= TAU;\n    }\n\n    if (sweepFlag === 1 && ang2 < 0)\n    {\n        ang2 += TAU;\n    }\n\n    out.centerX = centerX;\n    out.centerY = centerY;\n    out.ang1 = ang1;\n    out.ang2 = ang2;\n};\n\nexport function buildArcToSvg(\n    points: number[],\n    px: number,\n    py: number,\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    xAxisRotation = 0,\n    largeArcFlag = 0,\n    sweepFlag = 0\n): void\n{\n    if (rx === 0 || ry === 0)\n    {\n        return;\n    }\n\n    const sinPhi = Math.sin(xAxisRotation * TAU / 360);\n    const cosPhi = Math.cos(xAxisRotation * TAU / 360);\n\n    const pxp = (cosPhi * (px - cx) / 2) + (sinPhi * (py - cy) / 2);\n    const pyp = (-sinPhi * (px - cx) / 2) + (cosPhi * (py - cy) / 2);\n\n    if (pxp === 0 && pyp === 0)\n    {\n        return;\n    }\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    const lambda = (Math.pow(pxp, 2) / Math.pow(rx, 2)) + (Math.pow(pyp, 2) / Math.pow(ry, 2));\n\n    if (lambda > 1)\n    {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n\n    getArcCenter(\n        px,\n        py,\n        cx,\n        cy,\n        rx,\n        ry,\n        largeArcFlag,\n        sweepFlag,\n        sinPhi,\n        cosPhi,\n        pxp,\n        pyp,\n        out\n    );\n\n    let { ang1, ang2 } = out;\n    const { centerX, centerY } = out;\n\n    // If 'ang2' == 90.0000000001, then `ratio` will devalue to\n    // 1.0000000001. This causes `segments` to be greater than one, which is an\n    // unnecessary split, and adds extra points to the bezier curve. To alleviate\n    // this issue, we round to 1.0 when the ratio is close to 1.0.\n    let ratio = Math.abs(ang2) / (TAU / 4);\n\n    if (Math.abs(1.0 - ratio) < 0.0000001)\n    {\n        ratio = 1.0;\n    }\n\n    const segments = Math.max(Math.ceil(ratio), 1);\n\n    ang2 /= segments;\n\n    let lastX = points[points.length - 2];\n    let lastY = points[points.length - 1];\n\n    const outCurvePoint = { x: 0, y: 0 };\n\n    for (let i = 0; i < segments; i++)\n    {\n        const curve = approxUnitArc(ang1, ang2);\n\n        const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n        const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n        const { x, y } = mapToEllipse(curve[2], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n\n        buildAdaptiveBezier(\n            points,\n            lastX, lastY,\n            x1, y1, x2, y2, x, y\n        );\n\n        lastX = x;\n        lastY = y;\n\n        ang1 += ang2;\n    }\n}\n","// a shape lets you build out a shape with lines and curves and primitives..\n\nimport { Circle } from '../../../../maths/shapes/Circle';\nimport { Ellipse } from '../../../../maths/shapes/Ellipse';\nimport { Polygon } from '../../../../maths/shapes/Polygon';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { RoundedRectangle } from '../../../../maths/shapes/RoundedRectangle';\nimport { Bounds } from '../../../container/bounds/Bounds';\nimport { buildAdaptiveBezier } from '../buildCommands/buildAdaptiveBezier';\nimport { buildAdaptiveQuadratic } from '../buildCommands/buildAdaptiveQuadratic';\nimport { buildArc } from '../buildCommands/buildArc';\nimport { buildArcTo } from '../buildCommands/buildArcTo';\nimport { buildArcToSvg } from '../buildCommands/buildArcToSvg';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { ShapePrimitive } from '../../../../maths/shapes/ShapePrimitive';\nimport type { GraphicsPath } from './GraphicsPath';\n\nconst tempRectangle = new Rectangle();\n\nexport class ShapePath\n{\n    public shapePrimitives: {shape: ShapePrimitive, transform?: Matrix}[] = [];\n    private _currentPoly: Polygon | null = null;\n    private readonly _graphicsPath2D: GraphicsPath;\n    private readonly _bounds = new Bounds();\n\n    constructor(graphicsPath2D: GraphicsPath)\n    {\n        this._graphicsPath2D = graphicsPath2D;\n    }\n\n    public moveTo(x: number, y: number): this\n    {\n        this.startPoly(x, y);\n\n        return this;\n    }\n\n    public lineTo(x: number, y: number): this\n    {\n        this._ensurePoly();\n\n        const points = this._currentPoly.points;\n\n        const fromX = points[points.length - 2];\n        const fromY = points[points.length - 1];\n\n        if (fromX !== x || fromY !== y)\n        {\n            points.push(x, y);\n        }\n\n        return this;\n    }\n\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean): this\n    {\n        // TODO - if its 360 degrees.. make it a circle object?\n\n        this._ensurePoly(false);\n\n        const points = this._currentPoly.points;\n\n        buildArc(points, x, y, radius, startAngle, endAngle, anticlockwise);\n\n        return this;\n    }\n\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this\n    {\n        this._ensurePoly();\n\n        const points = this._currentPoly.points;\n\n        buildArcTo(points, x1, y1, x2, y2, radius);\n\n        return this;\n    }\n\n    public arcToSvg(\n        rx: number, ry: number,\n        xAxisRotation: number, largeArcFlag: number, sweepFlag: number,\n        x: number, y: number\n    ): this\n    {\n        const points = this._currentPoly.points;\n\n        // this needs to work on both canvas and GPU backends so might want to move this to the Graphics2D path..\n        buildArcToSvg(\n            points,\n            this._currentPoly.lastX,\n            this._currentPoly.lastY,\n            x,\n            y,\n            rx,\n            ry,\n            xAxisRotation,\n            largeArcFlag,\n            sweepFlag,\n        );\n\n        return this;\n    }\n\n    public bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): this\n    {\n        this._ensurePoly();\n\n        const currentPoly = this._currentPoly;\n\n        // ensure distance from last point to first control point is not too small\n\n        // TODO - make this a plugin that people can override..\n        buildAdaptiveBezier(\n            this._currentPoly.points,\n            currentPoly.lastX, currentPoly.lastY,\n            cp1x, cp1y, cp2x, cp2y, x, y\n        );\n\n        return this;\n    }\n\n    public quadraticCurveTo(cp1x: number, cp1y: number, x: number, y: number): this\n    {\n        this._ensurePoly();\n\n        const currentPoly = this._currentPoly;\n\n        // ensure distance from last point to first control point is not too small\n\n        // TODO - make this a plugin that people can override..\n        buildAdaptiveQuadratic(\n            this._currentPoly.points,\n            currentPoly.lastX, currentPoly.lastY,\n            cp1x, cp1y, x, y\n        );\n\n        return this;\n    }\n\n    public closePath(): this\n    {\n        this.endPoly(true);\n\n        return this;\n    }\n\n    public addPath(path: GraphicsPath, transform?: Matrix): this\n    {\n        this.endPoly();\n\n        if (transform && !transform.isIdentity())\n        {\n            path = path.clone(true);\n            path.transform(transform);\n        }\n\n        for (let i = 0; i < path.instructions.length; i++)\n        {\n            const instruction = path.instructions[i];\n\n            // Sorry TS! this is the best we could do...\n            this[instruction.action](...(instruction.data as [never, never, never, never, never, never, never]));\n            // build out the path points\n        }\n\n        return this;\n    }\n\n    public finish(closePath = false)\n    {\n        this.endPoly(closePath);\n    }\n\n    public rect(x: number, y: number, w: number, h: number, transform?: Matrix): this\n    {\n        this.drawShape(new Rectangle(x, y, w, h), transform);\n\n        return this;\n    }\n\n    public circle(x: number, y: number, radius: number, transform?: Matrix): this\n    {\n        this.drawShape(new Circle(x, y, radius), transform);\n\n        return this;\n    }\n\n    public poly(points: number[], close?: boolean, transform?: Matrix): void\n    {\n        const polygon = new Polygon(points);\n\n        polygon.closePath = close;\n\n        this.drawShape(polygon, transform);\n    }\n\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number, transform?: Matrix): this\n    {\n        // TODO apply rotation to transform...\n\n        this.drawShape(new Ellipse(x, y, radiusX, radiusY), transform);\n\n        return this;\n    }\n\n    public roundRect(x: number, y: number, w: number, h: number, radii?: number, transform?: Matrix): this\n    {\n        this.drawShape(new RoundedRectangle(x, y, w, h, radii), transform);\n\n        return this;\n    }\n\n    public drawShape(shape: ShapePrimitive, matrix?: Matrix): this\n    {\n        this.endPoly();\n\n        this.shapePrimitives.push({ shape, transform: matrix });\n\n        return this;\n    }\n\n    public startPoly(x: number, y: number): this\n    {\n        let currentPoly = this._currentPoly;\n\n        if (currentPoly)\n        {\n            this.endPoly();\n        }\n\n        currentPoly = new Polygon();\n\n        currentPoly.points.push(x, y);\n\n        this._currentPoly = currentPoly;\n\n        return this;\n    }\n\n    public endPoly(closePath = false): this\n    {\n        const shape = this._currentPoly;\n\n        if (shape && shape.points.length > 2)\n        {\n            shape.closePath = closePath;\n\n            this.shapePrimitives.push({ shape });\n        }\n\n        this._currentPoly = null;\n\n        return this;\n    }\n\n    private _ensurePoly(start = true): void\n    {\n        if (this._currentPoly) return;\n\n        this._currentPoly = new Polygon();\n\n        if (start)\n        {\n            // get last points..\n            const lastShape = this.shapePrimitives[this.shapePrimitives.length - 1];\n\n            if (lastShape)\n            {\n                // i KNOW its a rect..\n                let lx = lastShape.shape.x;\n                let ly = lastShape.shape.y;\n\n                if (lastShape.transform.isIdentity())\n                {\n                    const t = lastShape.transform;\n\n                    const tempX = lx;\n\n                    lx = (t.a * lx) + (t.c * ly) + t.tx;\n                    ly = (t.b * tempX) + (t.d * ly) + t.ty;\n                }\n\n                this._currentPoly.points.push(lx, lx);\n            }\n            else\n            {\n                this._currentPoly.points.push(0, 0);\n            }\n        }\n    }\n\n    public buildPath()\n    {\n        const path = this._graphicsPath2D;\n\n        this.shapePrimitives.length = 0;\n        this._currentPoly = null;\n\n        for (let i = 0; i < path.instructions.length; i++)\n        {\n            const instruction = path.instructions[i];\n\n            // Sorry TS! this is the best we could do...\n            this[instruction.action](...(instruction.data as [never, never, never, never, never, never, never]));\n        }\n\n        this.finish();\n    }\n\n    get bounds(): Bounds\n    {\n        const bounds = this._bounds;\n\n        bounds.clear();\n\n        const shapePrimitives = this.shapePrimitives;\n\n        for (let i = 0; i < shapePrimitives.length; i++)\n        {\n            const shapePrimitive = shapePrimitives[i];\n\n            const boundsRect = shapePrimitive.shape.getBounds(tempRectangle);\n\n            if (shapePrimitive.transform)\n            {\n                bounds.pushMatrix(shapePrimitive.transform);\n                bounds.addRect(boundsRect);\n                bounds.popMatrix();\n            }\n            else\n            {\n                bounds.addRect(boundsRect);\n            }\n        }\n\n        return bounds;\n    }\n}\n","import { Point } from '../../../../maths/point/Point';\nimport { uid } from '../../../../utils/data/uid';\nimport { warn } from '../../../../utils/logging/warn';\nimport { SVGToGraphicsPath } from '../svg/SVGToGraphicsPath';\nimport { ShapePath } from './ShapePath';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { Bounds } from '../../../container/bounds/Bounds';\n\nexport interface PathInstruction\n{\n    action: 'moveTo' | 'lineTo' | 'quadraticCurveTo' |\n    'bezierCurveTo' | 'arc' | 'closePath' |\n    'addPath' | 'arcTo' | 'ellipse' |\n    'rect' | 'roundRect' | 'arcToSvg' |\n    'poly' | 'circle';\n    data: any[];\n}\n\nexport class GraphicsPath\n{\n    public instructions: PathInstruction[] = [];\n\n    public uid = uid('graphicsPath');\n\n    private _dirty = true;\n    // needed for hit testing and bounds calculations\n    private _shapePath: ShapePath;\n\n    get shapePath(): ShapePath\n    {\n        if (!this._shapePath)\n        {\n            this._shapePath = new ShapePath(this);\n        }\n\n        if (this._dirty)\n        {\n            this._dirty = false;\n            this._shapePath.buildPath();\n        }\n\n        return this._shapePath;\n    }\n\n    constructor(instructions?: string | PathInstruction[])\n    {\n        if (typeof instructions === 'string')\n        {\n            SVGToGraphicsPath(instructions, this);\n        }\n        else\n        {\n            this.instructions = instructions?.slice() ?? [];\n        }\n    }\n\n    public addPath(path: GraphicsPath, transform?: Matrix): this\n    {\n        path = path.clone();\n        this.instructions.push({ action: 'addPath', data: [path, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): this;\n    public arc(...args: [number, number, number, number, number, boolean]): this\n    {\n        this.instructions.push({ action: 'arc', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this;\n    public arcTo(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'arcTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    // eslint-disable-next-line max-len\n    public arcToSvg(rx: number, ry: number, xAxisRotation: number, largeArcFlag: number, sweepFlag: number, x: number, y: number): this;\n    public arcToSvg(...args: [number, number, number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'arcToSvg', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): this;\n    public bezierCurveTo(...args: [number, number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'bezierCurveTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public bezierCurveToShort(cp2x: number, cp2y: number, x: number, y: number): this\n    {\n        const last = this.instructions[this.instructions.length - 1];\n\n        const lastPoint = this._getLastPoint(Point.shared);\n\n        let cp1x = 0;\n        let cp1y = 0;\n\n        if (!last || last.action !== 'bezierCurveTo')\n        {\n            cp1x = lastPoint.x;\n            cp1y = lastPoint.y;\n        }\n        else\n        {\n            cp1x = last.data[2];\n            cp1y = last.data[3];\n\n            const currentX = lastPoint.x;\n            const currentY = lastPoint.y;\n\n            cp1x = currentX + (currentX - cp1x);\n            cp1y = currentY + (currentY - cp1y);\n        }\n\n        this.instructions.push({ action: 'bezierCurveTo', data: [cp1x, cp1y, cp2x, cp2y, x, y] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public closePath(): this\n    {\n        this.instructions.push({ action: 'closePath', data: [] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number, matrix?: Matrix): this;\n    public ellipse(...args: [number, number, number, number, Matrix]): this\n    {\n        this.instructions.push({ action: 'ellipse', data: args });\n\n        // TODO nail this!\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public lineTo(x: number, y: number): this;\n    public lineTo(...args: [number, number]): this\n    {\n        this.instructions.push({ action: 'lineTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public moveTo(x: number, y: number): this;\n    public moveTo(...args: [number, number]): this\n    {\n        this.instructions.push({ action: 'moveTo', data: args });\n\n        return this;\n    }\n\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number): this;\n    public quadraticCurveTo(...args: [number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'quadraticCurveTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public quadraticCurveToShort(x: number, y: number): this\n    {\n        // check if we have a previous quadraticCurveTo\n        const last = this.instructions[this.instructions.length - 1];\n\n        const lastPoint = this._getLastPoint(Point.shared);\n\n        let cpx1 = 0;\n        let cpy1 = 0;\n\n        if (!last || last.action !== 'quadraticCurveTo')\n        {\n            cpx1 = lastPoint.x;\n            cpy1 = lastPoint.y;\n        }\n        else\n        {\n            cpx1 = last.data[0];\n            cpy1 = last.data[1];\n\n            const currentX = lastPoint.x;\n            const currentY = lastPoint.y;\n\n            cpx1 = currentX + (currentX - cpx1);\n            cpy1 = currentY + (currentY - cpy1);\n        }\n\n        this.instructions.push({ action: 'quadraticCurveTo', data: [cpx1, cpy1, x, y] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public rect(x: number, y: number, w: number, h: number, transform?: Matrix): this\n    {\n        this.instructions.push({ action: 'rect', data: [x, y, w, h, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public circle(x: number, y: number, radius: number, transform?: Matrix): this\n    {\n        this.instructions.push({ action: 'circle', data: [x, y, radius, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public roundRect(x: number, y: number, w: number, h: number, radii?: number, transform?: Matrix): this;\n    public roundRect(...args: [number, number, number, number, number, Matrix?]): this\n    {\n        this.instructions.push({ action: 'roundRect', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    public poly(points: number[], close?: boolean, transform?: Matrix): this;\n    public poly(...args: [number[], boolean, Matrix?]): this\n    {\n        this.instructions.push({ action: 'poly', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    // eslint-disable-next-line max-len\n    public star(x: number, y: number, points: number, radius: number, innerRadius?: number, rotation = 0, transform?: Matrix): this\n    {\n        innerRadius = innerRadius || radius / 2;\n\n        const startAngle = (-1 * Math.PI / 2) + rotation;\n        const len = points * 2;\n        const delta = (Math.PI * 2) / len;\n        const polygon = [];\n\n        for (let i = 0; i < len; i++)\n        {\n            const r = i % 2 ? innerRadius : radius;\n            const angle = (i * delta) + startAngle;\n\n            polygon.push(\n                x + (r * Math.cos(angle)),\n                y + (r * Math.sin(angle))\n            );\n        }\n\n        this.poly(polygon, true, transform);\n\n        return this;\n    }\n\n    public clone(deep = false): GraphicsPath\n    {\n        const newGraphicsPath2D = new GraphicsPath();\n\n        if (!deep)\n        {\n            newGraphicsPath2D.instructions = this.instructions.slice();\n        }\n        else\n        {\n            for (let i = 0; i < this.instructions.length; i++)\n            {\n                const instruction = this.instructions[i];\n\n                newGraphicsPath2D.instructions.push({ action: instruction.action, data: instruction.data.slice() });\n            }\n        }\n\n        return newGraphicsPath2D;\n    }\n\n    public clear(): this\n    {\n        this.instructions.length = 0;\n        this._dirty = true;\n\n        return this;\n    }\n\n    public transform(matrix: Matrix): this\n    {\n        if (matrix.isIdentity()) return this;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        let x = 0;\n        let y = 0;\n\n        let cpx1 = 0;\n        let cpy1 = 0;\n        let cpx2 = 0;\n        let cpy2 = 0;\n\n        let rx = 0;\n        let ry = 0;\n\n        for (let i = 0; i < this.instructions.length; i++)\n        {\n            const instruction = this.instructions[i];\n            const data = instruction.data as any[];\n\n            switch (instruction.action)\n            {\n                case 'moveTo':\n                case 'lineTo':\n\n                    x = data[0];\n                    y = data[1];\n\n                    data[0] = (a * x) + (c * y) + tx;\n                    data[1] = (b * x) + (d * y) + ty;\n                    break;\n                case 'bezierCurveTo':\n\n                    cpx1 = data[0];\n                    cpy1 = data[1];\n                    cpx2 = data[2];\n                    cpy2 = data[3];\n\n                    x = data[4];\n                    y = data[5];\n\n                    data[0] = (a * cpx1) + (c * cpy1) + tx;\n                    data[1] = (b * cpx1) + (d * cpy1) + ty;\n                    data[2] = (a * cpx2) + (c * cpy2) + tx;\n                    data[3] = (b * cpx2) + (d * cpy2) + ty;\n                    data[4] = (a * x) + (c * y) + tx;\n                    data[5] = (b * x) + (d * y) + ty;\n                    break;\n\n                case 'quadraticCurveTo':\n\n                    cpx1 = data[0];\n                    cpy1 = data[1];\n\n                    x = data[2];\n                    y = data[3];\n\n                    data[0] = (a * cpx1) + (c * cpy1) + tx;\n                    data[1] = (b * cpx1) + (d * cpy1) + ty;\n\n                    data[2] = (a * x) + (c * y) + tx;\n                    data[3] = (b * x) + (d * y) + ty;\n\n                    break;\n\n                case 'arcToSvg':\n\n                    x = data[5];\n                    y = data[6];\n\n                    rx = data[0];\n                    ry = data[1];\n\n                    // multiply the radius by the transform..\n\n                    data[0] = (a * rx) + (c * ry);\n                    data[1] = (b * rx) + (d * ry);\n\n                    data[5] = (a * x) + (c * y) + tx;\n                    data[6] = (b * x) + (d * y) + ty;\n\n                    break;\n\n                case 'rect':\n\n                    data[4] = adjustTransform(data[4], matrix);\n                    break;\n                case 'ellipse':\n                    data[8] = adjustTransform(data[8], matrix);\n                    break;\n                case 'roundRect':\n                    data[5] = adjustTransform(data[5], matrix);\n                    break;\n\n                case 'addPath':\n                    data[0].transform(matrix);\n                    break;\n                default:\n                    // #if _DEBUG\n                    warn('unknown transform action', instruction.action);\n                    // #endif\n                    break;\n            }\n        }\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    get bounds(): Bounds\n    {\n        return this.shapePath.bounds;\n    }\n\n    private _getLastPoint(out: Point): Point\n    {\n        let index = this.instructions.length - 1;\n\n        let lastInstruction = this.instructions[index];\n\n        if (!lastInstruction)\n        {\n            out.x = 0;\n            out.y = 0;\n\n            return out;\n        }\n\n        while (lastInstruction.action === 'closePath')\n        {\n            index--;\n\n            if (index < 0)\n            {\n                out.x = 0;\n                out.y = 0;\n\n                return out;\n            }\n\n            lastInstruction = this.instructions[index];\n        }\n\n        let x: number;\n        let y: number;\n        let transform: Matrix;\n\n        switch (lastInstruction.action)\n        {\n            case 'moveTo':\n            case 'lineTo':\n                out.x = lastInstruction.data[0];\n                out.y = lastInstruction.data[1];\n                break;\n            case 'quadraticCurveTo':\n                out.x = lastInstruction.data[2];\n                out.y = lastInstruction.data[3];\n                break;\n            case 'bezierCurveTo':\n                out.x = lastInstruction.data[4];\n                out.y = lastInstruction.data[5];\n                break;\n            case 'arc':\n            case 'arcToSvg':\n                out.x = lastInstruction.data[5];\n                out.y = lastInstruction.data[6];\n                break;\n            case 'addPath':\n                // TODO prolly should transform the last point of the path\n                out.x = lastInstruction.data[0].lastX;\n                out.y = lastInstruction.data[2].lastY;\n                break;\n            case 'rect':\n                // TODO transform...\n\n                transform = lastInstruction.data[4];\n                x = lastInstruction.data[0];\n                y = lastInstruction.data[1];\n\n                if (transform)\n                {\n                    const { a, b, c, d, tx, ty } = transform;\n\n                    out.x = (a * x) + (c * y) + tx;\n                    out.y = (b * x) + (d * y) + ty;\n                }\n                else\n                {\n                    out.x = x;\n                    out.y = y;\n                }\n\n                break;\n            default:\n                // #if _DEBUG\n                warn(`${lastInstruction.action} is not supported yet`);\n                // #endif\n                break;\n        }\n\n        return out;\n    }\n}\n\nfunction adjustTransform(currentMatrix: Matrix, transform?: Matrix): Matrix\n{\n    if (currentMatrix)\n    {\n        return currentMatrix.prepend(transform);\n    }\n\n    return transform.clone();\n}\n","import { Color } from '../../../../color/Color';\nimport { GraphicsPath } from '../path/GraphicsPath';\n\nimport type {\n    ConvertedFillStyle,\n    ConvertedStrokeStyle,\n    FillStyle,\n    GraphicsContext,\n    StrokeStyle,\n} from '../GraphicsContext';\n\ninterface Session\n{\n    context: GraphicsContext;\n    path: GraphicsPath;\n}\n\nexport function SVGParser(\n    svg: string | SVGElement | SVGSVGElement,\n    graphicsContext?: GraphicsContext\n): GraphicsContext\n{\n    if (typeof svg === 'string')\n    {\n        const div = document.createElement('div');\n\n        div.innerHTML = svg.trim();\n        svg = div.querySelector('svg') as SVGElement;\n    }\n\n    const session = {\n        context: graphicsContext,\n        path: new GraphicsPath(),\n    };\n\n    renderChildren(svg, session, null, null);\n\n    return graphicsContext;\n}\n\nfunction renderChildren(svg: SVGElement, session: Session, fillStyle: FillStyle, strokeStyle: StrokeStyle): void\n{\n    const children = svg.children;\n\n    const { fillStyle: f1, strokeStyle: s1 } = parseStyle(svg);\n\n    if (f1 && fillStyle)\n    {\n        fillStyle = { ...fillStyle, ...f1 };\n    }\n    else if (f1)\n    {\n        fillStyle = f1;\n    }\n\n    if (s1 && strokeStyle)\n    {\n        strokeStyle = { ...strokeStyle, ...s1 };\n    }\n    else if (s1)\n    {\n        strokeStyle = s1;\n    }\n\n    session.context.fillStyle = fillStyle;\n    session.context.strokeStyle = strokeStyle;\n\n    let x;\n    let y;\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n    let cx;\n    let cy;\n    let r;\n    let rx;\n    let ry;\n    let points;\n    let pointsString;\n    let d;\n    let graphicsPath;\n    let width;\n    let height;\n\n    switch (svg.nodeName.toLowerCase())\n    {\n        case 'path':\n            d = svg.getAttribute('d') as string;\n\n            graphicsPath = new GraphicsPath(d);\n\n            session.context.path(graphicsPath);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'circle':\n            cx = parseFloatAttribute(svg, 'cx', 0);\n            cy = parseFloatAttribute(svg, 'cy', 0);\n\n            r = parseFloatAttribute(svg, 'r', 0);\n\n            session.context.ellipse(cx, cy, r, r);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'rect':\n            x = parseFloatAttribute(svg, 'x', 0);\n            y = parseFloatAttribute(svg, 'y', 0);\n\n            width = parseFloatAttribute(svg, 'width', 0);\n            height = parseFloatAttribute(svg, 'height', 0);\n\n            rx = parseFloatAttribute(svg, 'rx', 0);\n            ry = parseFloatAttribute(svg, 'ry', 0);\n\n            if (rx || ry)\n            {\n                session.context.roundRect(x, y, width, height, rx || ry);\n            }\n            else\n            {\n                session.context.rect(x, y, width, height);\n            }\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'ellipse':\n            cx = parseFloatAttribute(svg, 'cx', 0);\n            cy = parseFloatAttribute(svg, 'cy', 0);\n\n            rx = parseFloatAttribute(svg, 'rx', 0);\n            ry = parseFloatAttribute(svg, 'ry', 0);\n\n            session.context.beginPath();\n            session.context.ellipse(cx, cy, rx, ry); // , 0, Math.PI * 2);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'line':\n            x1 = parseFloatAttribute(svg, 'x1', 0);\n            y1 = parseFloatAttribute(svg, 'y1', 0);\n\n            x2 = parseFloatAttribute(svg, 'x2', 0);\n            y2 = parseFloatAttribute(svg, 'y2', 0);\n\n            session.context.beginPath();\n            session.context.moveTo(x1, y1);\n            session.context.lineTo(x2, y2);\n\n            if (strokeStyle) session.context.stroke();\n\n            break;\n\n        case 'polygon':\n            pointsString = svg.getAttribute('points') as string;\n\n            points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n\n            session.context.poly(points, true);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'polyline':\n            pointsString = svg.getAttribute('points') as string;\n\n            points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n\n            session.context.poly(points, false);\n\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        // children will cover these two..\n        case 'g':\n        case 'svg':\n            break;\n        default: {\n            // eslint-disable-next-line no-console\n            console.info(`[SVG parser] <${svg.nodeName}> elements unsupported`);\n            break;\n        }\n    }\n\n    for (let i = 0; i < children.length; i++)\n    {\n        renderChildren(children[i] as SVGElement, session, fillStyle, strokeStyle);\n    }\n}\n\nfunction parseFloatAttribute(svg: SVGElement, id: string, defaultValue: number): number\n{\n    const value = svg.getAttribute(id) as string;\n\n    return value ? Number(value) : defaultValue;\n}\n\nfunction parseStyle(svg: SVGElement): { strokeStyle: ConvertedStrokeStyle; fillStyle: ConvertedFillStyle }\n{\n    const style = svg.getAttribute('style');\n\n    const strokeStyle: StrokeStyle = {};\n\n    const fillStyle: FillStyle = {};\n\n    let useFill = false;\n    let useStroke = false;\n\n    if (style)\n    {\n        const styleParts = style.split(';');\n\n        for (let i = 0; i < styleParts.length; i++)\n        {\n            const stylePart = styleParts[i];\n\n            const [key, value] = stylePart.split(':');\n\n            switch (key)\n            {\n                case 'stroke':\n                    if (value !== 'none')\n                    {\n                        strokeStyle.color = Color.shared.setValue(value).toNumber();\n                        useStroke = true;\n                    }\n\n                    break;\n                case 'stroke-width':\n                    strokeStyle.width = Number(value);\n                    break;\n                case 'fill':\n                    if (value !== 'none')\n                    {\n                        useFill = true;\n                        fillStyle.color = Color.shared.setValue(value).toNumber();\n                    }\n                    break;\n                case 'fill-opacity':\n                    fillStyle.alpha = Number(value);\n                    break;\n                case 'stroke-opacity':\n                    strokeStyle.alpha = Number(value);\n                    break;\n                case 'opacity':\n                    fillStyle.alpha = Number(value);\n                    strokeStyle.alpha = Number(value);\n                    break;\n            }\n        }\n    }\n    else\n    {\n        const stroke = svg.getAttribute('stroke');\n\n        if (stroke && stroke !== 'none')\n        {\n            useStroke = true;\n            strokeStyle.color = Color.shared.setValue(stroke).toNumber();\n\n            strokeStyle.width = parseFloatAttribute(svg, 'stroke-width', 1);\n        }\n\n        const fill = svg.getAttribute('fill');\n\n        if (fill && fill !== 'none')\n        {\n            useFill = true;\n            fillStyle.color = Color.shared.setValue(fill).toNumber();\n        }\n    }\n\n    return {\n        strokeStyle: useStroke ? (strokeStyle as ConvertedStrokeStyle) : null,\n        fillStyle: useFill ? (fillStyle as ConvertedFillStyle) : null,\n    };\n}\n","import { ExtensionType } from '../../../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../../../settings/adapter/adapter';\nimport { NOOP } from '../../../../../utils/NOOP';\nimport { Texture } from '../Texture';\nimport { TextureSource } from './TextureSource';\n\nimport type { ExtensionMetadata } from '../../../../../extensions/Extensions';\nimport type { ICanvas } from '../../../../../settings/adapter/ICanvas';\n\nexport type ImageResource =\nImageBitmap\n| HTMLCanvasElement\n| OffscreenCanvas\n| ICanvas\n| VideoFrame\n| HTMLImageElement\n| HTMLVideoElement;\n\nexport class ImageSource extends TextureSource<ImageResource>\n{\n    public static extension: ExtensionMetadata = ExtensionType.TextureSource;\n    public uploadMethodId = 'image';\n\n    public static test(resource: any): resource is ImageResource\n    {\n        return (typeof HTMLImageElement !== 'undefined' && resource instanceof HTMLImageElement)\n        || (typeof ImageBitmap !== 'undefined' && resource instanceof ImageBitmap);\n    }\n}\n\n// create a white canvas\nconst canvas = DOMAdapter.get().createCanvas();\n\nconst size = 1;\n\ncanvas.width = size;\ncanvas.height = size;\n\nconst ctx = canvas.getContext('2d');\n\nctx.fillStyle = '#ffffff';\nctx.fillRect(0, 0, size, size);\n\n// draw red triangle\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(size, 0);\nctx.lineTo(size, size);\nctx.closePath();\nctx.fillStyle = '#ffffff';\nctx.fill();\n\nTexture.WHITE = new Texture({\n    source: new ImageSource({\n        resource: canvas,\n    }),\n});\n\nTexture.WHITE.label = 'WHITE';\nTexture.WHITE.destroy = NOOP;\n","import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { ColorSource } from '../../../../color/Color';\n\nexport type GradientType = 'linear' | 'radial';\n\n// export type GradientSource =\n//     string // CSS gradient string: 'linear-gradient(...)'\n//     | IGradientOptions // Gradient options: { x0, y0, x1, y1, ...}\n//     | Gradient; // class Gradient itself\n\nexport interface LinearGradientFillStyle\n{\n    x0: number;\n    y0: number;\n    x1: number;\n    y1: number;\n    colors: number[];\n    stops: number[];\n}\n\nexport class FillGradient implements CanvasGradient\n{\n    public static defaultTextureSize = 256;\n\n    public readonly uid = uid('fillGradient');\n    public readonly type: GradientType = 'linear';\n\n    public x0: number;\n    public y0: number;\n    public x1: number;\n    public y1: number;\n\n    public texture: Texture;\n    public transform: Matrix;\n    public gradientStops: Array<{ offset: number, color: string }> = [];\n\n    constructor(x0: number, y0: number, x1: number, y1: number)\n    {\n        this.x0 = x0;\n        this.y0 = y0;\n\n        this.x1 = x1;\n        this.y1 = y1;\n    }\n\n    public addColorStop(offset: number, color: ColorSource): this\n    {\n        this.gradientStops.push({ offset, color: Color.shared.setValue(color).toHex() });\n\n        return this;\n    }\n\n    // TODO move to the system!\n    public buildLinearGradient(): void\n    {\n        const defaultSize = FillGradient.defaultTextureSize;\n\n        const { gradientStops } = this;\n\n        const canvas = DOMAdapter.get().createCanvas();\n\n        canvas.width = defaultSize;\n        canvas.height = defaultSize;\n\n        const ctx = canvas.getContext('2d');\n\n        const gradient = ctx.createLinearGradient(0, 0, FillGradient.defaultTextureSize, 1);\n\n        for (let i = 0; i < gradientStops.length; i++)\n        {\n            const stop = gradientStops[i];\n\n            gradient.addColorStop(stop.offset, stop.color);\n        }\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, defaultSize, defaultSize);\n\n        this.texture = new Texture({\n            source: new ImageSource({\n                resource: canvas,\n                style: {\n                    addressModeU: 'clamp-to-edge',\n                    addressModeV: 'repeat',\n                }\n            }),\n        });\n\n        // generate some UVS based on the gradient direction sent\n\n        const { x0, y0, x1, y1 } = this;\n\n        const m = new Matrix();\n\n        // get angle\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n\n        const dist = Math.sqrt((dx * dx) + (dy * dy));\n\n        const angle = Math.atan2(dy, dx);\n\n        m.translate(-x0, -y0);\n        m.scale(1 / defaultSize, 1 / defaultSize);\n        m.rotate(-angle);\n        m.scale(256 / dist, 1);\n\n        this.transform = m;\n    }\n}\n","import { Matrix } from '../../../../maths/matrix/Matrix';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { WRAP_MODE } from '../../../../rendering/renderers/shared/texture/const';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\n\nexport type PatternRepetition = 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat';\n\nconst repetitionMap = {\n    repeat: {\n        addressModeU: 'repeat',\n        addressModeV: 'repeat',\n    },\n    'repeat-x': {\n        addressModeU: 'repeat',\n        addressModeV: 'clamp-to-edge',\n    },\n    'repeat-y': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'repeat',\n    },\n    'no-repeat': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'clamp-to-edge',\n    },\n};\n\nexport class FillPattern implements CanvasPattern\n{\n    public readonly uid = uid('fillPattern');\n    public texture: Texture;\n    public transform = new Matrix();\n\n    constructor(texture: Texture, repetition?: PatternRepetition)\n    {\n        this.texture = texture;\n\n        this.transform.scale(\n            1 / texture.frameWidth,\n            1 / texture.frameHeight\n        );\n\n        if (repetition)\n        {\n            texture.source.style.addressModeU = repetitionMap[repetition].addressModeU as WRAP_MODE;\n            texture.source.style.addressModeV = repetitionMap[repetition].addressModeV as WRAP_MODE;\n        }\n    }\n\n    public setTransform(transform?: Matrix): void\n    {\n        const texture = this.texture;\n\n        this.transform.copyFrom(transform);\n        this.transform.invert();\n        //  transform.scale\n        this.transform.scale(\n            1 / texture.frameWidth,\n            1 / texture.frameHeight\n        );\n    }\n}\n","import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { FillGradient } from '../fill/FillGradient';\nimport { FillPattern } from '../fill/FillPattern';\n\nimport type { ColorSource } from '../../../../color/Color';\nimport type {\n    ConvertedFillStyle,\n    FillStyle,\n    FillStyleInputs,\n    PatternFillStyle,\n} from '../GraphicsContext';\n\nexport function convertFillInputToFillStyle(\n    value: FillStyleInputs,\n    defaultStyle: ConvertedFillStyle\n): ConvertedFillStyle\n{\n    if (!value)\n    {\n        return null;\n    }\n\n    let fillStyleToParse: ConvertedFillStyle;\n    let styleToMerge: FillStyleInputs;\n\n    if ((value as PatternFillStyle)?.fill)\n    {\n        styleToMerge = (value as PatternFillStyle).fill;\n        fillStyleToParse = { ...defaultStyle, ...(value as PatternFillStyle) };\n    }\n    else\n    {\n        styleToMerge = value;\n        fillStyleToParse = defaultStyle;\n    }\n\n    if (Color.isColorLike(styleToMerge as ColorSource))\n    {\n        const temp = Color.shared.setValue(styleToMerge as ColorSource ?? 0);\n        const opts: ConvertedFillStyle = {\n            ...fillStyleToParse,\n            color: temp.toNumber(),\n            alpha: temp.alpha === 1 ? fillStyleToParse.alpha : temp.alpha,\n            texture: Texture.WHITE,\n        };\n\n        return opts;\n    }\n    else if (styleToMerge instanceof FillPattern)\n    {\n        const pattern = styleToMerge as FillPattern;\n\n        return {\n            ...fillStyleToParse,\n            color: 0xffffff,\n            texture: pattern.texture,\n            matrix: pattern.transform,\n            fill: fillStyleToParse.fill ?? null,\n        };\n    }\n\n    // // TODO Texture\n    else if (styleToMerge instanceof FillGradient)\n    {\n        const gradient = styleToMerge as FillGradient;\n\n        gradient.buildLinearGradient();\n\n        return {\n            ...fillStyleToParse,\n            color: 0xffffff,\n            texture: gradient.texture,\n            matrix: gradient.transform,\n        };\n    }\n\n    const style: FillStyle = { ...defaultStyle, ...(value as FillStyle) };\n\n    if (style.texture !== Texture.WHITE)\n    {\n        const m = style.matrix || new Matrix();\n\n        m.scale(1 / style.texture.frameWidth, 1 / style.texture.frameHeight);\n\n        style.matrix = m;\n\n        style.color = 0xffffff;\n    }\n\n    style.color = Color.shared.setValue(style.color).toNumber();\n\n    // its a regular fill style!\n    return style as ConvertedFillStyle;\n}\n","/* eslint-disable max-len */\nimport EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../../color/Color';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { Point } from '../../../maths/point/Point';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { uid } from '../../../utils/data/uid';\nimport { deprecation } from '../../../utils/logging/deprecation';\nimport { Bounds } from '../../container/bounds/Bounds';\nimport { GraphicsPath } from './path/GraphicsPath';\nimport { SVGParser } from './svg/SVGParser';\nimport { convertFillInputToFillStyle } from './utils/convertFillInputToFillStyle';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { ShapePrimitive } from '../../../maths/shapes/ShapePrimitive';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { TextureDestroyOptions, TypeOrBool } from '../../container/destroyTypes';\nimport type { LineCap, LineJoin } from './const';\nimport type { FillGradient } from './fill/FillGradient';\nimport type { FillPattern } from './fill/FillPattern';\nimport type { ShapePath } from './path/ShapePath';\n\nexport interface FillStyle\n{\n    color?: ColorSource;\n    alpha?: number;\n    texture?: Texture | null;\n    matrix?: Matrix | null;\n    fill?: FillPattern | FillGradient | null;\n}\n\nexport type ConvertedFillStyle = Omit<Required<FillStyle>, 'color'> & { color: number };\n\nexport interface PatternFillStyle\n{\n    fill?: FillPattern | FillGradient;\n    color?: number;\n    alpha?: number;\n}\n\nexport interface StrokeStyle extends FillStyle\n{\n    width?: number;\n    alignment?: number;\n    // native?: boolean;\n    cap?: LineCap;\n    join?: LineJoin;\n    miterLimit?: number;\n}\n\nexport type ConvertedStrokeStyle = Omit<StrokeStyle, 'color'> & ConvertedFillStyle;\n\nconst tmpPoint = new Point();\n\nexport type BatchMode = 'auto' | 'batch' | 'no-batch';\n\nexport type FillStyleInputs = ColorSource | FillGradient | CanvasPattern | PatternFillStyle | FillStyle | ConvertedFillStyle | StrokeStyle | ConvertedStrokeStyle;\n\nexport interface FillInstruction\n{\n    action: 'fill' | 'stroke' | 'cut'\n    data: { style: ConvertedFillStyle, path: GraphicsPath, hole?: GraphicsPath }\n}\n\nexport interface TextureInstruction\n{\n    action: 'texture'\n    data: {\n        image: Texture,\n\n        dx: number\n        dy: number\n\n        dw: number\n        dh: number\n\n        transform: Matrix\n        alpha: number\n        style: number,\n    }\n}\n\nexport type GraphicsInstructions = FillInstruction | TextureInstruction;\n\nconst tempMatrix = new Matrix();\n\nexport class GraphicsContext extends EventEmitter<{\n    update: GraphicsContext\n    destroy: GraphicsContext\n}>\n{\n    public static defaultFillStyle: ConvertedFillStyle = {\n        color: 0,\n        alpha: 1,\n        texture: Texture.WHITE,\n        matrix: null,\n        fill: null,\n    };\n\n    public static defaultStrokeStyle: ConvertedStrokeStyle = {\n        width: 1,\n        color: 0,\n        alpha: 1,\n        alignment: 0.5,\n        miterLimit: 10,\n        cap: 'butt',\n        join: 'miter',\n        texture: Texture.WHITE,\n        matrix: null,\n        fill: null,\n    };\n\n    public uid = uid('graphicsContext');\n    public dirty = true;\n    public batchMode: BatchMode = 'auto';\n    public instructions: GraphicsInstructions[] = [];\n    public customShader?: Shader;\n\n    private _activePath: GraphicsPath = new GraphicsPath();\n    private _transform: Matrix = new Matrix();\n\n    private _fillStyle: ConvertedFillStyle = { ...GraphicsContext.defaultFillStyle };\n    private _strokeStyle: ConvertedStrokeStyle = { ...GraphicsContext.defaultStrokeStyle };\n    private _stateStack: { fillStyle: ConvertedFillStyle; strokeStyle: ConvertedStrokeStyle, transform: Matrix }[] = [];\n\n    private _tick = 0;\n\n    private _bounds = new Bounds();\n    private _boundsDirty = true;\n\n    get fillStyle(): ConvertedFillStyle\n    {\n        return this._fillStyle;\n    }\n\n    set fillStyle(value: FillStyleInputs)\n    {\n        this._fillStyle = convertFillInputToFillStyle(value, GraphicsContext.defaultFillStyle);\n    }\n\n    get strokeStyle(): ConvertedStrokeStyle\n    {\n        return this._strokeStyle;\n    }\n\n    set strokeStyle(value: FillStyleInputs)\n    {\n        this._strokeStyle = convertFillInputToFillStyle(value, GraphicsContext.defaultStrokeStyle) as ConvertedStrokeStyle;\n    }\n\n    public texture(texture: Texture): this;\n    public texture(texture: Texture, tint: ColorSource): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number, dw: number, dh: number): this;\n    public texture(texture: Texture, tint?: ColorSource, dx?: number, dy?: number, dw?: number, dh?: number): this\n    {\n        this.instructions.push({\n            action: 'texture',\n            data: {\n                image: texture,\n\n                dx: dx || 0,\n                dy: dy || 0,\n\n                dw: dw || texture.frameWidth,\n                dh: dh || texture.frameHeight,\n\n                transform: this._transform.clone(),\n                alpha: this._fillStyle.alpha,\n                style: tint ? Color.shared.setValue(tint).toNumber() : 0,\n            }\n        });\n\n        this.onUpdate();\n\n        return this;\n    }\n\n    public beginPath(): this\n    {\n        this._activePath = new GraphicsPath();\n\n        return this;\n    }\n\n    /** @deprecated 8.0.0 */\n    public fill(color: ColorSource, alpha: number): this;\n    public fill(style?: FillStyleInputs): this;\n    public fill(style?: FillStyleInputs, alpha?: number): this\n    {\n        let path: GraphicsPath;\n\n        const lastInstruction = this.instructions[this.instructions.length - 1];\n\n        if (this._tick === 0 && lastInstruction && lastInstruction.action === 'stroke')\n        {\n            path = lastInstruction.data.path;\n        }\n        else\n        {\n            path = this._activePath.clone();\n        }\n\n        if (!path) return this;\n\n        if (style)\n        {\n            if (alpha !== undefined && typeof style === 'number')\n            {\n                deprecation('8.0.0', 'GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead');\n                style = { color: style, alpha };\n            }\n            this._fillStyle = convertFillInputToFillStyle(style, GraphicsContext.defaultFillStyle);\n        }\n\n        // TODO not a fan of the clone!!\n        this.instructions.push({\n            action: 'fill',\n            // TODO copy fill style!\n            data: { style: this.fillStyle, path }\n        });\n\n        this.onUpdate();\n\n        this._activePath.instructions.length = 0;\n        this._tick = 0;\n\n        return this;\n    }\n\n    public stroke(style?: FillStyleInputs): this\n    {\n        let path: GraphicsPath;\n\n        const lastInstruction = this.instructions[this.instructions.length - 1];\n\n        if (this._tick === 0 && lastInstruction && lastInstruction.action === 'fill')\n        {\n            path = lastInstruction.data.path;\n        }\n        else\n        {\n            path = this._activePath.clone();\n        }\n\n        if (!path) return this;\n\n        if (style)\n        {\n            this._strokeStyle = convertFillInputToFillStyle(style, GraphicsContext.defaultStrokeStyle);\n        }\n\n        // TODO not a fan of the clone!!\n        this.instructions.push({\n            action: 'stroke',\n            // TODO copy fill style!\n            data: { style: this.strokeStyle, path }\n        });\n\n        this.onUpdate();\n\n        this._activePath.instructions.length = 0;\n        this._tick = 0;\n\n        return this;\n    }\n\n    public cut(): this\n    {\n        for (let i = 0; i < 2; i++)\n        {\n            const lastInstruction = this.instructions[this.instructions.length - 1 - i];\n\n            const holePath = this._activePath.clone();\n\n            if (lastInstruction)\n            {\n                if (lastInstruction.action === 'stroke' || lastInstruction.action === 'fill')\n                {\n                    lastInstruction.data.hole = holePath;\n                }\n            }\n        }\n\n        this._activePath.instructions.length = 0;\n\n        return this;\n    }\n\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arc(\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n            radius,\n            startAngle,\n            endAngle,\n            counterclockwise,\n        );\n\n        return this;\n    }\n\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arcTo(\n            (t.a * x1) + (t.c * y1) + t.tx,\n            (t.b * x1) + (t.d * y1) + t.ty,\n            (t.a * x2) + (t.c * y2) + t.tx,\n            (t.b * x2) + (t.d * y2) + t.ty,\n            radius,\n        );\n\n        return this;\n    }\n\n    public arcToSvg(\n        rx: number, ry: number,\n        xAxisRotation: number,\n        largeArcFlag: number,\n        sweepFlag: number,\n        x: number, y: number\n    ): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arcToSvg(\n            rx, ry,\n            xAxisRotation, // should we rotate this with transform??\n            largeArcFlag,\n            sweepFlag,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n        );\n\n        return this;\n    }\n\n    public bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): this\n    {\n        this._tick++;\n\n        // TODO optimize for no transform\n        const t = this._transform;\n\n        this._activePath.bezierCurveTo(\n            (t.a * cp1x) + (t.c * cp1y) + t.tx,\n            (t.b * cp1x) + (t.d * cp1y) + t.ty,\n            (t.a * cp2x) + (t.c * cp2y) + t.tx,\n            (t.b * cp2x) + (t.d * cp2y) + t.ty,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n        );\n\n        return this;\n    }\n\n    public closePath(): this\n    {\n        this._tick++;\n\n        this._activePath?.closePath();\n\n        return this;\n    }\n\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number): this\n    {\n        this._tick++;\n\n        this._activePath.ellipse(x, y, radiusX, radiusY, this._transform.clone());\n\n        return this;\n    }\n\n    public circle(x: number, y: number, radius: number): this\n    {\n        this._tick++;\n\n        this._activePath.circle(x, y, radius, this._transform.clone());\n\n        return this;\n    }\n\n    public path(path: GraphicsPath): this\n    {\n        this._tick++;\n\n        this._activePath.addPath(path, this._transform.clone());\n\n        return this;\n    }\n\n    public lineTo(x: number, y: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.lineTo(\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty\n        );\n\n        return this;\n    }\n\n    public moveTo(x: number, y: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.moveTo(\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty\n        );\n\n        return this;\n    }\n\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number): void\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.quadraticCurveTo(\n            (t.a * cpx) + (t.c * cpy) + t.tx,\n            (t.b * cpx) + (t.d * cpy) + t.ty,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n        );\n    }\n\n    public rect(x: number, y: number, w: number, h: number): this\n    {\n        this._tick++;\n\n        this._activePath.rect(x, y, w, h, this._transform.clone());\n\n        return this;\n    }\n\n    public roundRect(x: number, y: number, w: number, h: number, radii?: number): this\n    {\n        this._tick++;\n\n        this._activePath.roundRect(x, y, w, h, radii, this._transform.clone());\n\n        return this;\n    }\n\n    public poly(points: number[], close?: boolean): this\n    {\n        this._tick++;\n\n        this._activePath.poly(points, close, this._transform.clone());\n\n        return this;\n    }\n\n    public star(x: number, y: number, points: number, radius: number, innerRadius: number, rotation: number): this\n    {\n        this._tick++;\n\n        this._activePath.star(x, y, points, radius, innerRadius, rotation, this._transform.clone());\n\n        return this;\n    }\n\n    public svg(svg: string): void\n    {\n        this._tick++;\n\n        SVGParser(svg, this);\n    }\n\n    public restore(): void\n    {\n        const state = this._stateStack.pop();\n\n        if (state)\n        {\n            this._transform = state.transform;\n            this._fillStyle = state.fillStyle;\n            this._strokeStyle = state.strokeStyle;\n        }\n    }\n\n    public save(): void\n    {\n        this._stateStack.push({\n            transform: this._transform.clone(),\n            fillStyle: { ...this._fillStyle },\n            strokeStyle: { ...this._strokeStyle },\n        });\n    }\n\n    public getTransform(): Matrix\n    {\n        return this._transform;\n    }\n\n    public resetTransform(): this\n    {\n        this._transform.identity();\n\n        return this;\n    }\n\n    public rotate(angle: number): this\n    {\n        this._transform.rotate(angle);\n\n        return this;\n    }\n\n    public scale(x: number, y: number = x): this\n    {\n        this._transform.scale(x, y);\n\n        return this;\n    }\n\n    public setTransform(transform: Matrix): this;\n    public setTransform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public setTransform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this\n    {\n        if (a instanceof Matrix)\n        {\n            this._transform.set(a.a, a.b, a.c, a.d, a.tx, a.ty);\n\n            return this;\n        }\n\n        this._transform.set(a, b, c, d, dx, dy);\n\n        return this;\n    }\n\n    public transform(transform: Matrix): this;\n    public transform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public transform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this\n    {\n        if (a instanceof Matrix)\n        {\n            this._transform.append(a);\n\n            return this;\n        }\n\n        tempMatrix.set(a, b, c, d, dx, dy);\n        this._transform.append(tempMatrix);\n\n        return this;\n    }\n\n    public translate(x: number, y: number): this\n    {\n        this._transform.translate(x, y);\n\n        return this;\n    }\n\n    public clear(): this\n    {\n        this.instructions.length = 0;\n        this.resetTransform();\n\n        this.onUpdate();\n\n        return this;\n    }\n\n    protected onUpdate(): void\n    {\n        if (this.dirty) return;\n\n        this.emit('update', this, 0x10);\n        this.dirty = true;\n        this._boundsDirty = true;\n    }\n\n    get bounds(): Bounds\n    {\n        if (!this._boundsDirty) return this._bounds;\n\n        // TODO switch to idy dirty with tick..\n        const bounds = this._bounds;\n\n        bounds.clear();\n\n        for (let i = 0; i < this.instructions.length; i++)\n        {\n            const instruction = this.instructions[i];\n            const action = instruction.action;\n\n            if (action === 'fill')\n            {\n                const data = instruction.data as FillInstruction['data'];\n\n                bounds.addBounds(data.path.bounds);\n            }\n            else if (action === 'texture')\n            {\n                const data = instruction.data as TextureInstruction['data'];\n\n                bounds.pushMatrix(data.transform);\n                bounds.addFrame(data.dx, data.dy, data.dx + data.dw, data.dy + data.dh);\n                bounds.popMatrix();\n            }\n        }\n\n        return bounds;\n    }\n\n    /**\n     * Check to see if a point is contained within this geometry.\n     * @param point - Point to check if it's contained.\n     * @returns {boolean} `true` if the point is contained within geometry.\n     */\n    public containsPoint(point: PointData): boolean\n    {\n        const instructions = this.instructions;\n        let hasHit = false;\n\n        // TODO: we should cache the bounds\n        instructions.forEach((instruction) =>\n        {\n            const data = instruction.data as FillInstruction['data'];\n            const path = data.path;\n\n            if (!instruction.action || !path) return;\n\n            const style = data.style;\n            const shapes = path.shapePath?.shapePrimitives;\n\n            this._forEachShape(shapes, (shape) =>\n            {\n                if (!style || !shape) return;\n\n                if (typeof style !== 'number' && style.matrix)\n                {\n                    style.matrix.applyInverse(point, tmpPoint);\n                }\n                else\n                {\n                    tmpPoint.copyFrom(point);\n                }\n\n                hasHit = shape.contains(tmpPoint.x, tmpPoint.y);\n\n                const holes = data.hole;\n\n                if (!holes) return;\n\n                const holeShapes = holes.shapePath?.shapePrimitives;\n\n                if (!holeShapes) return;\n\n                this._forEachShape(holeShapes, (hole) =>\n                {\n                    if (hole.contains(tmpPoint.x, tmpPoint.y))\n                    {\n                        hasHit = false;\n                    }\n                });\n            });\n        });\n\n        return hasHit;\n    }\n\n    private _forEachShape(shapes: ShapePath['shapePrimitives'] | undefined, callback: (shape: ShapePrimitive) => void)\n    {\n        shapes?.forEach((shapePrimitive) =>\n        {\n            const shape = shapePrimitive?.shape;\n\n            if (shape)\n            {\n                callback(shape);\n            }\n        });\n    }\n\n    /**\n     * Destroys the GraphicsData object.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the fill/stroke style?\n     * @param {boolean} [options.textureSource=false] - Should it destroy the texture source of the fill/stroke style?\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false): void\n    {\n        this._stateStack.length = 0;\n        this._transform = null;\n\n        this.emit('destroy', this);\n        this.removeAllListeners();\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            if (this._fillStyle.texture)\n            {\n                this._fillStyle.texture.destroy(destroyTextureSource);\n            }\n\n            if (this._strokeStyle.texture)\n            {\n                this._strokeStyle.texture.destroy(destroyTextureSource);\n            }\n        }\n\n        this._fillStyle = null;\n        this._strokeStyle = null;\n\n        this.instructions = null;\n        this._activePath = null;\n        this._bounds = null;\n        this._stateStack = null;\n        this.customShader = null;\n        this._transform = null;\n    }\n}\n\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { GraphicsContext } from '../../../../scene/graphics/shared/GraphicsContext';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { checkDataUrl } from '../../../utils/checkDataUrl';\nimport { checkExtension } from '../../../utils/checkExtension';\nimport { LoaderParserPriority } from '../LoaderParser';\n\nimport type { LoaderParser } from '../LoaderParser';\n\n/**\n * Regular expression for SVG XML document.\n * @example &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;&lt;!-- image/svg --&gt;&lt;svg\n * @readonly\n */\nconst SVG_XML = /^(<\\?xml[^?]+\\?>)?\\s*(<!--[^(-->)]*-->)?\\s*\\<svg/m;\nconst validSVGExtension = '.svg';\nconst validSVGMIME = 'image/svg+xml';\n\n/** simple loader plugin for loading json data */\nexport const loadSvg = {\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Low,\n    },\n\n    name: 'loadSVG',\n\n    test(url: string): boolean\n    {\n        return checkDataUrl(url, validSVGMIME) || checkExtension(url, validSVGExtension);\n    },\n\n    async testParse(data: string): Promise<boolean>\n    {\n        // source is SVG data-uri\n        return (typeof data === 'string' && data.startsWith('data:image/svg+xml'))\n        // source is SVG inline\n        || (typeof data === 'string' && SVG_XML.test(data));\n    },\n\n    async parse(asset: string): Promise<GraphicsContext>\n    {\n        const context = new GraphicsContext();\n\n        context.svg(asset);\n\n        return context;\n    },\n\n    async load(url: string): Promise<string>\n    {\n        const response = await DOMAdapter.get().fetch(url);\n\n        return response.text();\n    },\n\n    unload(asset: GraphicsContext): void\n    {\n        asset.destroy(true);\n    }\n} as LoaderParser<string | GraphicsContext>;\n","function processX(base: string, ids: string[][], depth: number, result: string[], tags: string[])\n{\n    const id = ids[depth];\n\n    for (let i = 0; i < id.length; i++)\n    {\n        const value = id[i];\n\n        if (depth < ids.length - 1)\n        {\n            processX(base.replace(result[depth], value), ids, depth + 1, result, tags);\n        }\n        else\n        {\n            tags.push(base.replace(result[depth], value));\n        }\n    }\n}\n\n/**\n * Creates a list of all possible combinations of the given strings.\n * @example\n * const out2 = createStringVariations('name is {chicken,wolf,sheep}');\n * console.log(out2); // [ 'name is chicken', 'name is wolf', 'name is sheep' ]\n * @param string - The string to process\n */\nexport function createStringVariations(string: string): string[]\n{\n    const regex = /\\{(.*?)\\}/g;\n\n    const result = string.match(regex);\n\n    const tags: string[] = [];\n\n    if (result)\n    {\n        const ids: string[][] = [];\n\n        result.forEach((vars) =>\n        {\n            // first remove the brackets...\n            const split = vars.substring(1, vars.length - 1).split(',');\n\n            ids.push(split);\n        });\n\n        processX(string, ids, 0, result, tags);\n    }\n    else\n    {\n        tags.push(string);\n    }\n\n    return tags;\n}\n","/**\n * Checks if the given value is an array.\n * @param item - The item to test\n */\nexport const isSingleItem = (item: unknown): boolean => (!Array.isArray(item));\n","import { warn } from '../../utils/logging/warn';\nimport { path } from '../../utils/path';\nimport { convertToList } from '../utils/convertToList';\nimport { createStringVariations } from '../utils/createStringVariations';\nimport { isSingleItem } from '../utils/isSingleItem';\n\nimport type {\n    ArrayOr,\n    AssetsBundle,\n    AssetsManifest,\n    AssetSrc,\n    ResolvedAsset,\n    ResolvedSrc,\n    UnresolvedAsset,\n    UnresolvedAssetObject\n} from '../types';\nimport type { PreferOrder, ResolveURLParser } from './types';\n\nexport interface BundleIdentifierOptions\n{\n    /** The character that is used to connect the bundleId and the assetId when generating a bundle asset id key */\n    connector?: string;\n    /**\n     * A function that generates a bundle asset id key from a bundleId and an assetId\n     * @param bundleId - the bundleId\n     * @param assetId  - the assetId\n     * @returns the bundle asset id key\n     */\n    createBundleAssetId?: (bundleId: string, assetId: string) => string;\n    /**\n     * A function that generates an assetId from a bundle asset id key. This is the reverse of generateBundleAssetId\n     * @param bundleId - the bundleId\n     * @param assetBundleId - the bundle asset id key\n     * @returns the assetId\n     */\n    extractAssetIdFromBundle?: (bundleId: string, assetBundleId: string) => string;\n}\n\n/**\n * A class that is responsible for resolving mapping asset URLs to keys.\n * At its most basic it can be used for Aliases:\n *\n * ```js\n * resolver.add('foo', 'bar');\n * resolver.resolveUrl('foo') // => 'bar'\n * ```\n *\n * It can also be used to resolve the most appropriate asset for a given URL:\n *\n * ```js\n * resolver.prefer({\n *     params: {\n *         format: 'webp',\n *         resolution: 2,\n *     }\n * });\n *\n * resolver.add('foo', ['bar@2x.webp', 'bar@2x.png', 'bar.webp', 'bar.png']);\n *\n * resolver.resolveUrl('foo') // => 'bar@2x.webp'\n * ```\n * Other features include:\n * - Ability to process a manifest file to get the correct understanding of how to resolve all assets\n * - Ability to add custom parsers for specific file types\n * - Ability to add custom prefer rules\n *\n * This class only cares about the URL, not the loading of the asset itself.\n *\n * It is not intended that this class is created by developers - its part of the Asset class\n * This is the third major system of PixiJS' main Assets class\n */\nexport class Resolver\n{\n    /**\n     * The prefix that denotes a URL is for a retina asset.\n     * @static\n     * @name RETINA_PREFIX\n     * @type {RegExp}\n     * @default /@([0-9\\.]+)x/\n     * @example `@2x`\n     */\n    public static RETINA_PREFIX = /@([0-9\\.]+)x/;\n\n    private readonly _defaultBundleIdentifierOptions: Required<BundleIdentifierOptions> = {\n        connector: '-',\n        createBundleAssetId: (bundleId, assetId) =>\n            `${bundleId}${this._bundleIdConnector}${assetId}`,\n        extractAssetIdFromBundle: (bundleId, assetBundleId) =>\n            assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`, ''),\n    };\n\n    /** The character that is used to connect the bundleId and the assetId when generating a bundle asset id key */\n    private _bundleIdConnector = this._defaultBundleIdentifierOptions.connector;\n\n    /**\n     * A function that generates a bundle asset id key from a bundleId and an assetId\n     * @param bundleId - the bundleId\n     * @param assetId  - the assetId\n     * @returns the bundle asset id key\n     */\n    private _createBundleAssetId: (\n        bundleId: string,\n        assetId: string\n    ) => string = this._defaultBundleIdentifierOptions.createBundleAssetId;\n\n    /**\n     * A function that generates an assetId from a bundle asset id key. This is the reverse of generateBundleAssetId\n     * @param bundleId - the bundleId\n     * @param assetBundleId - the bundle asset id key\n     * @returns the assetId\n     */\n    private _extractAssetIdFromBundle: (\n        bundleId: string,\n        assetBundleId: string\n    ) => string = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;\n\n    private _assetMap: Record<string, ResolvedAsset[]> = {};\n    private _preferredOrder: PreferOrder[] = [];\n    private readonly _parsers: ResolveURLParser[] = [];\n\n    private _resolverHash: Record<string, ResolvedAsset> = {};\n    private _rootPath: string;\n    private _basePath: string;\n    private _manifest: AssetsManifest;\n    private _bundles: Record<string, string[]> = {};\n    private _defaultSearchParams: string;\n\n    /**\n     * Override how the resolver deals with generating bundle ids.\n     * must be called before any bundles are added\n     * @param bundleIdentifier - the bundle identifier options\n     */\n    public setBundleIdentifier(bundleIdentifier: BundleIdentifierOptions): void\n    {\n        this._bundleIdConnector = bundleIdentifier.connector ?? this._bundleIdConnector;\n        this._createBundleAssetId = bundleIdentifier.createBundleAssetId ?? this._createBundleAssetId;\n        this._extractAssetIdFromBundle = bundleIdentifier.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle;\n\n        if (this._extractAssetIdFromBundle('foo', this._createBundleAssetId('foo', 'bar')) !== 'bar')\n        {\n            throw new Error('[Resolver] GenerateBundleAssetId are not working correctly');\n        }\n    }\n\n    /**\n     * Let the resolver know which assets you prefer to use when resolving assets.\n     * Multiple prefer user defined rules can be added.\n     * @example\n     * resolver.prefer({\n     *     // first look for something with the correct format, and then then correct resolution\n     *     priority: ['format', 'resolution'],\n     *     params:{\n     *         format:'webp', // prefer webp images\n     *         resolution: 2, // prefer a resolution of 2\n     *     }\n     * })\n     * resolver.add('foo', ['bar@2x.webp', 'bar@2x.png', 'bar.webp', 'bar.png']);\n     * resolver.resolveUrl('foo') // => 'bar@2x.webp'\n     * @param preferOrders - the prefer options\n     */\n    public prefer(...preferOrders: PreferOrder[]): void\n    {\n        preferOrders.forEach((prefer) =>\n        {\n            this._preferredOrder.push(prefer);\n\n            if (!prefer.priority)\n            {\n                // generate the priority based on the order of the object\n                prefer.priority = Object.keys(prefer.params);\n            }\n        });\n\n        this._resolverHash = {};\n    }\n\n    /**\n     * Set the base path to prepend to all urls when resolving\n     * @example\n     * resolver.basePath = 'https://home.com/';\n     * resolver.add('foo', 'bar.ong');\n     * resolver.resolveUrl('foo', 'bar.png'); // => 'https://home.com/bar.png'\n     * @param basePath - the base path to use\n     */\n    public set basePath(basePath: string)\n    {\n        this._basePath = basePath;\n    }\n\n    public get basePath(): string\n    {\n        return this._basePath;\n    }\n\n    /**\n     * Set the root path for root-relative URLs. By default the `basePath`'s root is used. If no `basePath` is set, then the\n     * default value for browsers is `window.location.origin`\n     * @example\n     * // Application hosted on https://home.com/some-path/index.html\n     * resolver.basePath = 'https://home.com/some-path/';\n     * resolver.rootPath = 'https://home.com/';\n     * resolver.add('foo', '/bar.png');\n     * resolver.resolveUrl('foo', '/bar.png'); // => 'https://home.com/bar.png'\n     * @param rootPath - the root path to use\n     */\n    public set rootPath(rootPath: string)\n    {\n        this._rootPath = rootPath;\n    }\n\n    public get rootPath(): string\n    {\n        return this._rootPath;\n    }\n\n    /**\n     * All the active URL parsers that help the parser to extract information and create\n     * an asset object-based on parsing the URL itself.\n     *\n     * Can be added using the extensions API\n     * @example\n     * resolver.add('foo', [\n     *     {\n     *         resolution: 2,\n     *         format: 'png',\n     *         src: 'image@2x.png',\n     *     },\n     *     {\n     *         resolution:1,\n     *         format:'png',\n     *         src: 'image.png',\n     *     },\n     * ]);\n     *\n     * // With a url parser the information such as resolution and file format could extracted from the url itself:\n     * extensions.add({\n     *     extension: ExtensionType.ResolveParser,\n     *     test: loadTextures.test, // test if url ends in an image\n     *     parse: (value: string) =>\n     *     ({\n     *         resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? '1'),\n     *         format: value.split('.').pop(),\n     *         src: value,\n     *     }),\n     * });\n     *\n     * // Now resolution and format can be extracted from the url\n     * resolver.add('foo', [\n     *     'image@2x.png',\n     *     'image.png',\n     * ]);\n     */\n    public get parsers(): ResolveURLParser[]\n    {\n        return this._parsers;\n    }\n\n    /** Used for testing, this resets the resolver to its initial state */\n    public reset(): void\n    {\n        this.setBundleIdentifier(this._defaultBundleIdentifierOptions);\n\n        this._assetMap = {};\n        this._preferredOrder = [];\n        // Do not reset this._parsers\n\n        this._resolverHash = {};\n        this._rootPath = null;\n        this._basePath = null;\n        this._manifest = null;\n        this._bundles = {};\n        this._defaultSearchParams = null;\n    }\n\n    /**\n     * Sets the default URL search parameters for the URL resolver. The urls can be specified as a string or an object.\n     * @param searchParams - the default url parameters to append when resolving urls\n     */\n    public setDefaultSearchParams(searchParams: string | Record<string, unknown>): void\n    {\n        if (typeof searchParams === 'string')\n        {\n            this._defaultSearchParams = searchParams;\n        }\n        else\n        {\n            const queryValues = searchParams as Record<string, any>;\n\n            this._defaultSearchParams = Object.keys(queryValues)\n                .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(queryValues[key])}`)\n                .join('&');\n        }\n    }\n\n    /**\n     * Returns the aliases for a given asset\n     * @param asset - the asset to get the aliases for\n     */\n    public getAlias(asset: UnresolvedAsset): string[]\n    {\n        const { alias, name, src, srcs } = asset;\n        const aliasesToUse = convertToList<ArrayOr<string | AssetSrc>>(\n            alias || name || src || srcs, (value: string | AssetSrc) =>\n            {\n                if (typeof value === 'string') return value;\n\n                if (Array.isArray(value)) return value.map((v) => (v as ResolvedSrc)?.src ?? (v as ResolvedSrc)?.srcs ?? v);\n\n                if (value?.src || value?.srcs) return value.src ?? value.srcs;\n\n                return value;\n            }, true) as string[];\n\n        return aliasesToUse;\n    }\n\n    /**\n     * Add a manifest to the asset resolver. This is a nice way to add all the asset information in one go.\n     * generally a manifest would be built using a tool.\n     * @param manifest - the manifest to add to the resolver\n     */\n    public addManifest(manifest: AssetsManifest): void\n    {\n        if (this._manifest)\n        {\n            // #if _DEBUG\n            warn('[Resolver] Manifest already exists, this will be overwritten');\n            // #endif\n        }\n\n        this._manifest = manifest;\n\n        manifest.bundles.forEach((bundle) =>\n        {\n            this.addBundle(bundle.name, bundle.assets);\n        });\n    }\n\n    /**\n     * This adds a bundle of assets in one go so that you can resolve them as a group.\n     * For example you could add a bundle for each screen in you pixi app\n     * @example\n     * resolver.addBundle('animals', {\n     *     bunny: 'bunny.png',\n     *     chicken: 'chicken.png',\n     *     thumper: 'thumper.png',\n     * });\n     *\n     * const resolvedAssets = await resolver.resolveBundle('animals');\n     * @param bundleId - The id of the bundle to add\n     * @param assets - A record of the asset or assets that will be chosen from when loading via the specified key\n     */\n    public addBundle(bundleId: string, assets: AssetsBundle['assets']): void\n    {\n        const assetNames: string[] = [];\n\n        // when storing keys against a bundle we prepend the bundleId to each asset key\n        // and pass it through as an additional alias for the asset\n        // this keeps clashing ids separate on a per-bundle basis\n        // you can also resolve a file using the bundleId-assetId syntax\n        if (Array.isArray(assets))\n        {\n            assets.forEach((asset) =>\n            {\n                const srcs = asset.src ?? asset.srcs;\n                const aliases = asset.alias ?? asset.name;\n                let ids: string[];\n\n                if (typeof aliases === 'string')\n                {\n                    const bundleAssetId = this._createBundleAssetId(bundleId, aliases);\n\n                    assetNames.push(bundleAssetId);\n                    ids = [aliases, bundleAssetId];\n                }\n                else\n                {\n                    const bundleIds = aliases.map((name) => this._createBundleAssetId(bundleId, name));\n\n                    assetNames.push(...bundleIds);\n                    ids = [...aliases, ...bundleIds];\n                }\n\n                this.add({\n                    ...asset,\n                    ...{\n                        alias: ids,\n                        src: srcs,\n                    }\n                });\n            });\n        }\n        else\n        {\n            Object.keys(assets).forEach((key) =>\n            {\n                const aliases: string[] = [key, this._createBundleAssetId(bundleId, key)];\n\n                if (typeof assets[key] === 'string')\n                {\n                    this.add({\n                        alias: aliases,\n                        src: assets[key] as string,\n                    });\n                }\n                else if (Array.isArray(assets[key]))\n                {\n                    this.add({\n                        alias: aliases,\n                        src: assets[key] as string[],\n                    });\n                }\n                else\n                {\n                    const asset = assets[key] as UnresolvedAssetObject;\n                    const assetSrc = asset.src ?? asset.srcs;\n\n                    this.add({\n                        ...asset,\n                        ...{\n                            alias: aliases,\n                            src: Array.isArray(assetSrc) ? assetSrc : [assetSrc],\n                        }\n                    });\n                }\n\n                assetNames.push(...aliases);\n            });\n        }\n\n        this._bundles[bundleId] = assetNames;\n    }\n\n    /**\n     * Tells the resolver what keys are associated with witch asset.\n     * The most important thing the resolver does\n     * @example\n     * // Single key, single asset:\n     * resolver.add({alias: 'foo', src: 'bar.png');\n     * resolver.resolveUrl('foo') // => 'bar.png'\n     *\n     * // Multiple keys, single asset:\n     * resolver.add({alias: ['foo', 'boo'], src: 'bar.png'});\n     * resolver.resolveUrl('foo') // => 'bar.png'\n     * resolver.resolveUrl('boo') // => 'bar.png'\n     *\n     * // Multiple keys, multiple assets:\n     * resolver.add({alias: ['foo', 'boo'], src: ['bar.png', 'bar.webp']});\n     * resolver.resolveUrl('foo') // => 'bar.png'\n     *\n     * // Add custom data attached to the resolver\n     * Resolver.add({\n     *     alias: 'bunnyBooBooSmooth',\n     *     src: 'bunny{png,webp}',\n     *     data: { scaleMode:SCALE_MODES.NEAREST }, // Base texture options\n     * });\n     *\n     * resolver.resolve('bunnyBooBooSmooth') // => { src: 'bunny.png', data: { scaleMode: SCALE_MODES.NEAREST } }\n     * @param aliases - the UnresolvedAsset or array of UnresolvedAssets to add to the resolver\n     */\n    public add(\n        aliases: ArrayOr<UnresolvedAsset>,\n    ): void\n    {\n        const assets: UnresolvedAsset[] = [];\n\n        if (Array.isArray(aliases))\n        {\n            assets.push(...(aliases as UnresolvedAsset[]));\n        }\n        else\n        {\n            assets.push(aliases as UnresolvedAsset);\n        }\n\n        let keyCheck: (key: string) => void;\n\n        // #if _DEBUG\n        // eslint-disable-next-line prefer-const\n        keyCheck = (key: string) =>\n        {\n            if (this.hasKey(key))\n            {\n                // #if _DEBUG\n                warn(`[Resolver] already has key: ${key} overwriting`);\n                // #endif\n            }\n        };\n        // #endif\n\n        const assetArray = convertToList(assets);\n\n        // loop through all the assets and generate a resolve asset for each src\n        assetArray.forEach((asset) =>\n        {\n            const { src, srcs } = asset;\n            let { data, format, loadParser } = asset;\n\n            // src can contain an unresolved asset itself\n            // so we need to merge that data with the current asset\n            // we dont need to create string variations for the src if it is a ResolvedAsset\n            const srcsToUse: (string | ResolvedSrc)[][] = convertToList<AssetSrc>(src || srcs).map((src) =>\n            {\n                if (typeof src === 'string')\n                { return createStringVariations(src); }\n\n                return Array.isArray(src) ? src : [src];\n            });\n\n            const aliasesToUse = this.getAlias(asset);\n\n            // #if _DEBUG\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            Array.isArray(aliasesToUse) ? aliasesToUse.forEach(keyCheck) : keyCheck(aliasesToUse);\n            // #endif\n\n            // loop through all the srcs and generate a resolve asset for each src\n            const resolvedAssets: ResolvedAsset[] = [];\n\n            srcsToUse.forEach((srcs) =>\n            {\n                srcs.forEach((src) =>\n                {\n                    let formattedAsset = {} as ResolvedAsset;\n\n                    if (typeof src !== 'object')\n                    {\n                        formattedAsset.src = src;\n                        // first see if it contains any {} tags...\n                        for (let i = 0; i < this._parsers.length; i++)\n                        {\n                            const parser = this._parsers[i];\n\n                            if (parser.test(src))\n                            {\n                                formattedAsset = parser.parse(src);\n                                break;\n                            }\n                        }\n                    }\n                    else\n                    {\n                        data = src.data ?? data;\n                        format = src.format ?? format;\n                        loadParser = src.loadParser ?? loadParser;\n                        formattedAsset = {\n                            ...formattedAsset,\n                            ...src,\n                        };\n                    }\n\n                    // check if aliases is undefined\n                    if (!aliasesToUse)\n                    {\n                        throw new Error(`[Resolver] alias is undefined for this asset: ${formattedAsset.src}`);\n                    }\n\n                    formattedAsset = this._buildResolvedAsset(formattedAsset, {\n                        aliases: aliasesToUse,\n                        data,\n                        format,\n                        loadParser,\n                    });\n\n                    resolvedAssets.push(formattedAsset);\n                });\n            });\n\n            aliasesToUse.forEach((alias) =>\n            {\n                this._assetMap[alias] = resolvedAssets;\n            });\n        });\n    }\n\n    // TODO: this needs an overload like load did in Assets\n    /**\n     * If the resolver has had a manifest set via setManifest, this will return the assets urls for\n     * a given bundleId or bundleIds.\n     * @example\n     * // Manifest Example\n     * const manifest = {\n     *     bundles: [\n     *         {\n     *             name: 'load-screen',\n     *             assets: [\n     *                 {\n     *                     alias: 'background',\n     *                     src: 'sunset.png',\n     *                 },\n     *                 {\n     *                     alias: 'bar',\n     *                     src: 'load-bar.{png,webp}',\n     *                 },\n     *             ],\n     *         },\n     *         {\n     *             name: 'game-screen',\n     *             assets: [\n     *                 {\n     *                     alias: 'character',\n     *                     src: 'robot.png',\n     *                 },\n     *                 {\n     *                     alias: 'enemy',\n     *                     src: 'bad-guy.png',\n     *                 },\n     *             ],\n     *         },\n     *     ]\n     * };\n     *\n     * resolver.setManifest(manifest);\n     * const resolved = resolver.resolveBundle('load-screen');\n     * @param bundleIds - The bundle ids to resolve\n     * @returns All the bundles assets or a hash of assets for each bundle specified\n     */\n    public resolveBundle(bundleIds: ArrayOr<string>):\n    Record<string, ResolvedAsset> | Record<string, Record<string, ResolvedAsset>>\n    {\n        const singleAsset = isSingleItem(bundleIds);\n\n        bundleIds = convertToList<string>(bundleIds);\n\n        const out: Record<string, Record<string, ResolvedAsset>> = {};\n\n        bundleIds.forEach((bundleId) =>\n        {\n            const assetNames = this._bundles[bundleId];\n\n            if (assetNames)\n            {\n                const results = this.resolve(assetNames) as Record<string, ResolvedAsset>;\n\n                const assets: Record<string, ResolvedAsset> = {};\n\n                for (const key in results)\n                {\n                    const asset = results[key];\n\n                    assets[this._extractAssetIdFromBundle(bundleId, key)] = asset;\n                }\n\n                out[bundleId] = assets;\n            }\n        });\n\n        return singleAsset ? out[bundleIds[0]] : out;\n    }\n\n    /**\n     * Does exactly what resolve does, but returns just the URL rather than the whole asset object\n     * @param key - The key or keys to resolve\n     * @returns - The URLs associated with the key(s)\n     */\n    public resolveUrl(key: ArrayOr<string>): string | Record<string, string>\n    {\n        const result = this.resolve(key as string) as ResolvedAsset | Record<string, ResolvedAsset>;\n\n        if (typeof key !== 'string')\n        {\n            const out: Record<string, string> = {};\n\n            for (const i in result)\n            {\n                out[i] = (result as Record<string, ResolvedAsset>)[i].src;\n            }\n\n            return out;\n        }\n\n        return (result as ResolvedAsset).src;\n    }\n\n    /**\n     * Resolves each key in the list to an asset object.\n     * Another key function of the resolver! After adding all the various key/asset pairs. this will run the logic\n     * of finding which asset to return based on any preferences set using the `prefer` function\n     * by default the same key passed in will be returned if nothing is matched by the resolver.\n     * @example\n     * resolver.add('boo', 'bunny.png');\n     *\n     * resolver.resolve('boo') // => { src: 'bunny.png' }\n     *\n     * // Will return the same string as no key was added for this value..\n     * resolver.resolve('another-thing.png') // => { src: 'another-thing.png' }\n     * @param keys - key or keys to resolve\n     * @returns - the resolve asset or a hash of resolve assets for each key specified\n     */\n    public resolve(keys: string): ResolvedAsset;\n    public resolve(keys: string[]): Record<string, ResolvedAsset>;\n    public resolve(keys: ArrayOr<string>): ResolvedAsset | Record<string, ResolvedAsset>\n    {\n        const singleAsset = isSingleItem(keys);\n\n        keys = convertToList<string>(keys);\n\n        const result: Record<string, ResolvedAsset> = {};\n\n        keys.forEach((key) =>\n        {\n            if (!this._resolverHash[key])\n            {\n                if (this._assetMap[key])\n                {\n                    let assets = this._assetMap[key];\n                    const bestAsset = assets[0];\n                    const preferredOrder = this._getPreferredOrder(assets);\n\n                    preferredOrder?.priority.forEach((priorityKey) =>\n                    {\n                        preferredOrder.params[priorityKey].forEach((value: unknown) =>\n                        {\n                            const filteredAssets = assets.filter((asset) =>\n                            {\n                                if (asset[priorityKey as keyof ResolvedAsset])\n                                {\n                                    return asset[priorityKey as keyof ResolvedAsset] === value;\n                                }\n\n                                return false;\n                            });\n\n                            if (filteredAssets.length)\n                            {\n                                assets = filteredAssets;\n                            }\n                        });\n                    });\n\n                    this._resolverHash[key] = (assets[0] ?? bestAsset);\n                }\n                else\n                {\n                    this._resolverHash[key] = this._buildResolvedAsset({\n                        alias: [key],\n                        src: key,\n                    }, {});\n                }\n            }\n\n            result[key] = this._resolverHash[key];\n        });\n\n        return singleAsset ? result[keys[0]] : result;\n    }\n\n    /**\n     * Checks if an asset with a given key exists in the resolver\n     * @param key - The key of the asset\n     */\n    public hasKey(key: string): boolean\n    {\n        return !!this._assetMap[key];\n    }\n\n    /**\n     * Checks if a bundle with the given key exists in the resolver\n     * @param key - The key of the bundle\n     */\n    public hasBundle(key: string): boolean\n    {\n        return !!this._bundles[key];\n    }\n\n    /**\n     * Internal function for figuring out what prefer criteria an asset should use.\n     * @param assets\n     */\n    private _getPreferredOrder(assets: ResolvedAsset[]): PreferOrder\n    {\n        for (let i = 0; i < assets.length; i++)\n        {\n            const asset = assets[0];\n\n            const preferred = this._preferredOrder.find((preference: PreferOrder) =>\n                preference.params.format.includes(asset.format));\n\n            if (preferred)\n            {\n                return preferred;\n            }\n        }\n\n        return this._preferredOrder[0];\n    }\n\n    /**\n     * Appends the default url parameters to the url\n     * @param url - The url to append the default parameters to\n     * @returns - The url with the default parameters appended\n     */\n    private _appendDefaultSearchParams(url: string): string\n    {\n        if (!this._defaultSearchParams) return url;\n\n        const paramConnector = (/\\?/).test(url) ? '&' : '?';\n\n        return `${url}${paramConnector}${this._defaultSearchParams}`;\n    }\n\n    private _buildResolvedAsset(formattedAsset: ResolvedAsset, data?: {\n        aliases?: string[],\n        data?: Record<string, unknown>\n        loadParser?: string,\n        format?: string,\n    }): ResolvedAsset\n    {\n        const { aliases, data: assetData, loadParser, format } = data;\n\n        if (this._basePath || this._rootPath)\n        {\n            formattedAsset.src = path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);\n        }\n\n        formattedAsset.alias = aliases ?? formattedAsset.alias ?? [formattedAsset.src];\n        formattedAsset.src = this._appendDefaultSearchParams(formattedAsset.src);\n        formattedAsset.data = { ...assetData || {}, ...formattedAsset.data };\n        formattedAsset.loadParser = loadParser ?? formattedAsset.loadParser;\n        formattedAsset.format = format ?? formattedAsset.src.split('.').pop();\n        formattedAsset.srcs = formattedAsset.src;\n        formattedAsset.name = formattedAsset.alias;\n\n        return formattedAsset;\n    }\n}\n","import { Resolver } from '../../assets/resolver/Resolver';\n\n/**\n * get the resolution / device pixel ratio of an asset by looking for the prefix\n * used by spritesheets and image urls\n * @memberof utils\n * @function getResolutionOfUrl\n * @param {string} url - the image path\n * @param {number} [defaultValue=1] - the defaultValue if no filename prefix is set.\n * @returns {number} resolution / device pixel ratio of an asset\n */\nexport function getResolutionOfUrl(url: string, defaultValue = 1): number\n{\n    const resolution = Resolver.RETINA_PREFIX?.exec(url);\n\n    if (resolution)\n    {\n        return parseFloat(resolution[1]);\n    }\n\n    return defaultValue;\n}\n","let UUID = 0;\nlet MAX_WORKERS: number;\n\n// 1x1 White PNG Data URL\nconst WHITE_PNG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42m'\n    + 'P8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=';\nconst checkImageBitmapCode = {\n    id: 'checkImageBitmap',\n    code: `\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('${WHITE_PNG}');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    `,\n};\n\ntype LoadImageBitmapResult = {\n    data?: ImageBitmap,\n    error?: Error,\n    uuid: number,\n    id: string,\n};\n\nconst workerCode = {\n    id: 'loadImageBitmap',\n    code: `\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(\\`[WorkerManager.loadImageBitmap] Failed to fetch \\${url}: \\`\n                + \\`\\${response.status} \\${response.statusText}\\`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };`,\n};\n\nlet workerURL: string;\n\nclass WorkerManagerClass\n{\n    public worker: Worker;\n    private _resolveHash: {\n        [key: string]: {\n            resolve: (...param: any[]) => void;\n            reject: (...param: any[]) => void;\n        }\n    };\n    private readonly _workerPool: Worker[];\n    private readonly _queue: {\n        id: string;\n        arguments: any[];\n        resolve: (...param: any[]) => void;\n        reject: (...param: any[]) => void;\n    }[];\n    private _initialized = false;\n    private _createdWorkers = 0;\n    private _isImageBitmapSupported?: Promise<boolean>;\n\n    constructor()\n    {\n        this._workerPool = [];\n        this._queue = [];\n\n        this._resolveHash = {};\n    }\n\n    public isImageBitmapSupported(): Promise<boolean>\n    {\n        if (this._isImageBitmapSupported !== undefined) return this._isImageBitmapSupported;\n\n        this._isImageBitmapSupported = new Promise((resolve) =>\n        {\n            const workerURL = URL.createObjectURL(new Blob([checkImageBitmapCode.code],\n                { type: 'application/javascript' }));\n            const worker = new Worker(workerURL);\n\n            worker.addEventListener('message', (event: MessageEvent<boolean>) =>\n            {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n                resolve(event.data);\n            });\n        });\n\n        return this._isImageBitmapSupported;\n    }\n\n    public loadImageBitmap(src: string): Promise<ImageBitmap>\n    {\n        return this._run('loadImageBitmap', [src]) as Promise<ImageBitmap>;\n    }\n\n    private async _initWorkers()\n    {\n        if (this._initialized) return;\n\n        this._initialized = true;\n    }\n\n    private _getWorker(): Worker\n    {\n        if (MAX_WORKERS === undefined)\n        {\n            MAX_WORKERS = navigator.hardwareConcurrency || 4;\n        }\n        let worker = this._workerPool.pop();\n\n        if (!worker && this._createdWorkers < MAX_WORKERS)\n        {\n            if (!workerURL)\n            {\n                workerURL = URL.createObjectURL(new Blob([workerCode.code], { type: 'application/javascript' }));\n            }\n\n            // only create as many as MAX_WORKERS allows..\n            this._createdWorkers++;\n            worker = new Worker(workerURL);\n\n            worker.addEventListener('message', (event: MessageEvent) =>\n            {\n                this._complete(event.data);\n\n                this._returnWorker(event.target as Worker);\n                this._next();\n            });\n        }\n\n        return worker;\n    }\n\n    private _returnWorker(worker: Worker)\n    {\n        this._workerPool.push(worker);\n    }\n\n    private _complete(data: LoadImageBitmapResult): void\n    {\n        if (data.error !== undefined)\n        {\n            this._resolveHash[data.uuid].reject(data.error);\n        }\n        else\n        {\n            this._resolveHash[data.uuid].resolve(data.data);\n        }\n\n        this._resolveHash[data.uuid] = null;\n    }\n\n    private async _run(id: string, args: any[]): Promise<any>\n    {\n        await this._initWorkers();\n        // push into the queue...\n\n        const promise = new Promise((resolve, reject) =>\n        {\n            this._queue.push({ id, arguments: args, resolve, reject });\n        });\n\n        this._next();\n\n        return promise;\n    }\n\n    private _next(): void\n    {\n        // nothing to do\n        if (!this._queue.length) return;\n\n        const worker = this._getWorker();\n\n        // no workers available...\n        if (!worker)\n        {\n            return;\n        }\n\n        const toDo = this._queue.pop();\n\n        const id = toDo.id;\n\n        this._resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };\n\n        worker.postMessage({\n            data: toDo.arguments,\n            uuid: UUID++,\n            id,\n        });\n    }\n}\n\nconst WorkerManager = new WorkerManagerClass();\n\nexport {\n    WorkerManager,\n};\n","import { Texture } from '../../../../../rendering/renderers/shared/texture/Texture';\nimport { warn } from '../../../../../utils/logging/warn';\nimport { Cache } from '../../../../cache/Cache';\n\nimport type { TextureSource } from '../../../../../rendering/renderers/shared/texture/sources/TextureSource';\nimport type { Loader } from '../../../Loader';\n\nexport function createTexture(source: TextureSource, loader: Loader, url: string)\n{\n    const texture = new Texture({\n        source,\n        label: url,\n    });\n\n    const unload = () =>\n    {\n        delete loader.promiseCache[url];\n\n        if (Cache.has(url))\n        {\n            Cache.remove(url);\n        }\n    };\n\n    // remove the promise from the loader and the url from the cache when the texture is destroyed\n    texture.once('destroy', () =>\n    {\n        if (url in loader.promiseCache)\n        {\n            // #if _DEBUG\n            warn('[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! '\n                + 'Use Assets.unload() instead of destroying the BaseTexture.');\n            // #endif\n\n            unload();\n        }\n    });\n    texture.source.once('destroy', () =>\n    {\n        if (!source.destroyed)\n        {\n            // #if _DEBUG\n            warn('[Assets] A Texture managed by Assets was destroyed instead of unloaded! '\n                + 'Use Assets.unload() instead of destroying the Texture.');\n            // #endif\n\n            unload();\n        }\n    });\n\n    return texture;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl';\nimport { checkDataUrl } from '../../../utils/checkDataUrl';\nimport { checkExtension } from '../../../utils/checkExtension';\nimport { LoaderParserPriority } from '../LoaderParser';\nimport { WorkerManager } from '../WorkerManager';\nimport { createTexture } from './utils/createTexture';\n\nimport type { TextureSourceOptions } from '../../../../rendering/renderers/shared/texture/sources/TextureSource';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport type { ResolvedAsset } from '../../../types';\nimport type { Loader } from '../../Loader';\nimport type { LoaderParser } from '../LoaderParser';\n\nconst validImageExtensions = ['.jpeg', '.jpg', '.png', '.webp', '.avif'];\nconst validImageMIMEs = [\n    'image/jpeg',\n    'image/png',\n    'image/webp',\n    'image/avif',\n];\n\n/**\n * Configuration for the `loadTextures` loader plugin.\n * @see loadTextures\n */\nexport interface LoadTextureConfig\n{\n    /**\n     * When set to `true`, loading and decoding images will happen with Worker thread,\n     * if available on the browser. This is much more performant as network requests\n     * and decoding can be expensive on the CPU. However, not all environments support\n     * Workers, in some cases it can be helpful to disable by setting to `false`.\n     * @default true\n     */\n    preferWorkers: boolean;\n    /**\n     * When set to `true`, loading and decoding images will happen with `createImageBitmap`,\n     * otherwise it will use `new Image()`.\n     * @default true\n     */\n    preferCreateImageBitmap: boolean;\n    /**\n     * The crossOrigin value to use for images when `preferCreateImageBitmap` is `false`.\n     * @default 'anonymous'\n     */\n    crossOrigin: HTMLImageElement['crossOrigin'];\n}\n\n/**\n * Returns a promise that resolves an ImageBitmaps.\n * This function is designed to be used by a worker.\n * Part of WorkerManager!\n * @param url - The image to load an image bitmap for\n */\nexport async function loadImageBitmap(url: string): Promise<ImageBitmap>\n{\n    const response = await DOMAdapter.get().fetch(url);\n\n    if (!response.ok)\n    {\n        throw new Error(`[loadImageBitmap] Failed to fetch ${url}: `\n            + `${response.status} ${response.statusText}`);\n    }\n\n    const imageBlob = await response.blob();\n    const imageBitmap = await createImageBitmap(imageBlob);\n\n    return imageBitmap;\n}\n\n/**\n * Loads our textures!\n * this makes use of imageBitmaps where available.\n * We load the ImageBitmap on a different thread using the WorkerManager\n * We can then use the ImageBitmap as a source for a Pixi Texture\n *\n * You can customize the behavior of this loader by setting the `config` property.\n * ```js\n * // Set the config\n * import { loadTextures } from '@pixi/assets';\n * loadTextures.config = {\n *    // If true we will use a worker to load the ImageBitmap\n *    preferWorkers: true,\n *    // If false we will use new Image() instead of createImageBitmap\n *    // If false then this will also disable the use of workers as it requires createImageBitmap\n *    preferCreateImageBitmap: true,\n *    crossOrigin: 'anonymous',\n * };\n * ```\n */\nexport const loadTextures = {\n\n    name: 'loadTextures',\n\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.High,\n    },\n\n    config: {\n        preferWorkers: true,\n        preferCreateImageBitmap: true,\n        crossOrigin: 'anonymous',\n    },\n\n    test(url: string): boolean\n    {\n        return checkDataUrl(url, validImageMIMEs) || checkExtension(url, validImageExtensions);\n    },\n\n    async load(url: string, asset: ResolvedAsset<TextureSourceOptions>, loader: Loader): Promise<Texture>\n    {\n        let src: any = null;\n\n        if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap)\n        {\n            if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported())\n            {\n                src = await WorkerManager.loadImageBitmap(url);\n            }\n            else\n            {\n                src = await loadImageBitmap(url);\n            }\n        }\n        else\n        {\n            src = await new Promise((resolve) =>\n            {\n                src = new Image();\n                src.crossOrigin = this.config.crossOrigin;\n\n                src.src = url;\n                if (src.complete)\n                {\n                    resolve(src);\n                }\n                else\n                {\n                    src.onload = (): void =>\n                    {\n                        resolve(src);\n                    };\n                }\n            });\n        }\n\n        const base = new ImageSource({\n            resource: src,\n            alphaMode: 'premultiply-alpha-on-upload',\n            resolution: asset.data?.resolution || getResolutionOfUrl(url),\n            ...asset.data,\n        });\n\n        return createTexture(base, loader, url);\n    },\n\n    unload(texture: Texture): void\n    {\n        texture.destroy(true);\n    }\n} as LoaderParser<Texture, TextureSourceOptions, LoadTextureConfig>;\n","import type { ALPHA_MODES } from '../../rendering/renderers/shared/texture/const';\n\nlet promise: Promise<ALPHA_MODES> | undefined;\n\n/**\n * Helper for detecting the correct alpha mode for video textures.\n * For some reason, some browsers/devices/WebGL implementations premultiply the alpha\n * of a video before and then a second time if `UNPACK_PREMULTIPLY_ALPHA_WEBGL`\n * is true. So the video is premultiplied twice if the alpha mode is `UNPACK`.\n * In this case we need the alpha mode to be `PMA`. This function detects\n * the upload behavior by uploading a white 2x2 webm with 50% alpha\n * without `UNPACK_PREMULTIPLY_ALPHA_WEBGL` and then checking whether\n * the uploaded pixels are premultiplied.\n * @memberof utils\n * @function detectVideoAlphaMode\n * @returns {Promise<ALPHA_MODES>} The correct alpha mode for video textures.\n */\nexport async function detectVideoAlphaMode(): Promise<ALPHA_MODES>\n{\n    promise ??= (async () =>\n    {\n        const canvas = document.createElement('canvas');\n        const gl = canvas.getContext('webgl');\n\n        if (!gl)\n        {\n            return 'premultiply-alpha-on-upload';\n        }\n\n        const video = await new Promise<HTMLVideoElement | null>((resolve) =>\n        {\n            const video = document.createElement('video');\n\n            video.onloadeddata = () => resolve(video);\n            video.onerror = () => resolve(null);\n            video.autoplay = false;\n            video.crossOrigin = 'anonymous';\n            video.preload = 'auto';\n            // eslint-disable-next-line max-len\n            video.src = 'data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=';\n            video.load();\n        });\n\n        if (!video)\n        {\n            return 'premultiply-alpha-on-upload';\n        }\n\n        const texture = gl.createTexture();\n\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n\n        const framebuffer = gl.createFramebuffer();\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n        gl.framebufferTexture2D(\n            gl.FRAMEBUFFER,\n            gl.COLOR_ATTACHMENT0,\n            gl.TEXTURE_2D,\n            texture,\n            0\n        );\n\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n        gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video);\n\n        const pixel = new Uint8Array(4);\n\n        gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel);\n\n        gl.deleteFramebuffer(framebuffer);\n        gl.deleteTexture(texture);\n        gl.getExtension('WEBGL_lose_context')?.loseContext();\n\n        return pixel[0] <= pixel[3] ? 'premultiplied-alpha' : 'premultiply-alpha-on-upload';\n    })();\n\n    return promise;\n}\n","// VideoSource.ts\n\nimport { ExtensionType } from '../../../../../extensions/Extensions';\nimport { Ticker } from '../../../../../ticker/Ticker';\nimport { detectVideoAlphaMode } from '../../../../../utils/browser/detectVideoAlphaMode';\nimport { TextureSource } from './TextureSource';\n\nimport type { ExtensionMetadata } from '../../../../../extensions/Extensions';\nimport type { Dict } from '../../../../../utils/types';\nimport type { ALPHA_MODES } from '../const';\nimport type { TextureSourceOptions } from './TextureSource';\n\ntype VideoResource = HTMLVideoElement;\n\nexport interface VideoSourceOptions extends TextureSourceOptions<VideoResource>\n{\n    autoLoad?: boolean;\n    autoPlay?: boolean;\n    updateFPS?: number;\n    crossorigin?: boolean | string;\n    loop?: boolean;\n    muted?: boolean;\n    playsinline?: boolean;\n    preload?: boolean;\n    alphaMode?: ALPHA_MODES;\n}\n\nexport interface VideoResourceOptionsElement\n{\n    src: string;\n    mime: string;\n}\n\nexport class VideoSource extends TextureSource<VideoResource>\n{\n    public static extension: ExtensionMetadata = ExtensionType.TextureSource;\n\n    // Public static\n    public static defaultOptions: VideoSourceOptions = {\n        ...TextureSource.defaultOptions,\n        autoLoad: true,\n        autoPlay: true,\n        updateFPS: 0,\n        crossorigin: true,\n        loop: false,\n        muted: true,\n        playsinline: true,\n        preload: false,\n    };\n\n    // Public\n    public isReady = false;\n    public uploadMethodId = 'video';\n\n    // Protected\n    /**\n     * When set to true will automatically play videos used by this texture once\n     * they are loaded. If false, it will not modify the playing state.\n     * @default true\n     */\n    protected autoPlay: boolean;\n\n    // Private\n    /**\n     * `true` to use Ticker.shared to auto update the base texture.\n     * @default true\n     */\n    private _autoUpdate: boolean;\n\n    /**\n     * `true` if the instance is currently connected to PIXI.Ticker.shared to auto update the base texture.\n     * @default false\n     */\n    private _isConnectedToTicker: boolean;\n\n    /**\n     * Promise when loading.\n     * @default null\n     */\n    private _load: Promise<this>;\n\n    private _msToNextUpdate: number;\n\n    /** Callback when completed with load. */\n    private _resolve: (value?: this | PromiseLike<this>) => void;\n    private _reject: (error: ErrorEvent) => void;\n\n    private _updateFPS: number;\n    private _videoFrameRequestCallbackHandle: number | null;\n\n    constructor(\n        options: VideoSourceOptions\n    )\n    {\n        super(options);\n\n        // Merge provided options with default ones\n        options = {\n            ...VideoSource.defaultOptions,\n            ...options\n        };\n\n        this._autoUpdate = true;\n        this._isConnectedToTicker = false;\n        this._updateFPS = options.updateFPS || 0;\n        this._msToNextUpdate = 0;\n        this.autoPlay = options.autoPlay !== false;\n        this.alphaMode = options.alphaMode ?? 'premultiply-alpha-on-upload';\n\n        // Binding for frame updates\n        this._videoFrameRequestCallback = this._videoFrameRequestCallback.bind(this);\n        this._videoFrameRequestCallbackHandle = null;\n\n        this._load = null;\n        this._resolve = null;\n        this._reject = null;\n\n        // Bind for listeners\n        this._onCanPlay = this._onCanPlay.bind(this);\n        this._onError = this._onError.bind(this);\n        this._onPlayStart = this._onPlayStart.bind(this);\n        this._onPlayStop = this._onPlayStop.bind(this);\n        this._onSeeked = this._onSeeked.bind(this);\n\n        if (options.autoLoad !== false)\n        {\n            void this.load();\n        }\n    }\n\n    /** Update the video frame if the source is not destroyed and meets certain conditions. */\n    protected updateFrame(): void\n    {\n        if (this.destroyed)\n        {\n            return;\n        }\n\n        if (this._updateFPS)\n        {\n            // Account for if video has had its playbackRate changed\n            const elapsedMS = Ticker.shared.elapsedMS * this.resource.playbackRate;\n\n            this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);\n        }\n\n        if (!this._updateFPS || this._msToNextUpdate <= 0)\n        {\n            this._msToNextUpdate = this._updateFPS ? Math.floor(1000 / this._updateFPS) : 0;\n        }\n\n        if (this.isValid)\n        {\n            this.update();\n        }\n    }\n\n    /** Callback to update the video frame and potentially request the next frame update. */\n    private _videoFrameRequestCallback(): void\n    {\n        this.updateFrame();\n\n        if (this.destroyed)\n        {\n            this._videoFrameRequestCallbackHandle = null;\n        }\n        else\n        {\n            this._videoFrameRequestCallbackHandle = (this.source as any).requestVideoFrameCallback(\n                this._videoFrameRequestCallback\n            );\n        }\n    }\n\n    /**\n     * Checks if the resource has valid dimensions.\n     * @returns {boolean} True if width and height are set, otherwise false.\n     */\n    public get isValid(): boolean\n    {\n        return !!this.resource.videoWidth && !!this.resource.videoHeight;\n    }\n\n    /**\n     * Start preloading the video resource.\n     * @returns {Promise<this>} Handle the validate event\n     */\n    public async load(): Promise<this>\n    {\n        if (this._load)\n        {\n            return this._load;\n        }\n\n        const source = this.resource;\n\n        // Check if source data is enough and set it to complete if needed\n        if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA)\n            && source.width && source.height)\n        {\n            (source as any).complete = true;\n        }\n\n        // Add event listeners related to playback and seeking\n        source.addEventListener('play', this._onPlayStart);\n        source.addEventListener('pause', this._onPlayStop);\n        source.addEventListener('seeked', this._onSeeked);\n\n        // Add or handle source readiness event listeners\n        if (!this._isSourceReady())\n        {\n            const options = this.options as VideoSourceOptions;\n\n            if (!options.preload)\n            {\n                source.addEventListener('canplay', this._onCanPlay);\n            }\n            source.addEventListener('canplaythrough', this._onCanPlay);\n            source.addEventListener('error', this._onError, true);\n        }\n        else\n        {\n            this._onCanPlay();\n        }\n\n        this.alphaMode = await detectVideoAlphaMode();\n\n        // Create and return the loading promise\n        this._load = new Promise((resolve, reject): void =>\n        {\n            if (this.isValid)\n            {\n                resolve(this);\n            }\n            else\n            {\n                this._resolve = resolve;\n                this._reject = reject;\n\n                source.load();\n            }\n        });\n\n        return this._load;\n    }\n\n    /**\n     * Handle video error events.\n     * @param event - The error event\n     */\n    private _onError(event: ErrorEvent): void\n    {\n        this.resource.removeEventListener('error', this._onError, true);\n        this.emit('error', event);\n\n        if (this._reject)\n        {\n            this._reject(event);\n            this._reject = null;\n            this._resolve = null;\n        }\n    }\n\n    /**\n     * Checks if the underlying source is playing.\n     * @returns True if playing.\n     */\n    private _isSourcePlaying(): boolean\n    {\n        const source = this.resource;\n\n        return (!source.paused && !source.ended);\n    }\n\n    /**\n     * Checks if the underlying source is ready for playing.\n     * @returns True if ready.\n     */\n    private _isSourceReady(): boolean\n    {\n        const source = this.resource;\n\n        return source.readyState > 2;\n    }\n\n    /** Runs the update loop when the video is ready to play. */\n    private _onPlayStart(): void\n    {\n    // Handle edge case where video might not have received its \"can play\" event yet\n        if (!this.isValid)\n        {\n            this._onCanPlay();\n        }\n\n        this._configureAutoUpdate();\n    }\n\n    /** Stops the update loop when a pause event is triggered. */\n    private _onPlayStop(): void\n    {\n        this._configureAutoUpdate();\n    }\n\n    /** Handles behavior when the video completes seeking to the current playback position. */\n    private _onSeeked(): void\n    {\n        if (this._autoUpdate && !this._isSourcePlaying())\n        {\n            this._msToNextUpdate = 0;\n            this.updateFrame();\n            this._msToNextUpdate = 0;\n        }\n    }\n\n    /** Fired when the video is loaded and ready to play. */\n    private _onCanPlay(): void\n    {\n        const source = this.resource;\n\n        // Remove event listeners\n        source.removeEventListener('canplay', this._onCanPlay);\n        source.removeEventListener('canplaythrough', this._onCanPlay);\n\n        if (this.isValid)\n        {\n            this.isReady = true;\n            this.resize(source.videoWidth, source.videoHeight);\n        }\n\n        // Reset update timers and perform a frame update\n        this._msToNextUpdate = 0;\n        this.updateFrame();\n        this._msToNextUpdate = 0;\n\n        // Resolve the loading promise if it exists\n        if (this._resolve)\n        {\n            this._resolve(this);\n            this._resolve = null;\n            this._reject = null;\n        }\n\n        // Handle play behavior based on current source status\n        if (this._isSourcePlaying())\n        {\n            this._onPlayStart();\n        }\n        else if (this.autoPlay)\n        {\n            void this.resource.play();\n        }\n    }\n\n    /** Cleans up resources and event listeners associated with this texture. */\n    public destroy()\n    {\n        this._configureAutoUpdate();\n\n        const source = this.resource;\n\n        if (source)\n        {\n            // Remove event listeners\n            source.removeEventListener('play', this._onPlayStart);\n            source.removeEventListener('pause', this._onPlayStop);\n            source.removeEventListener('seeked', this._onSeeked);\n            source.removeEventListener('canplay', this._onCanPlay);\n            source.removeEventListener('canplaythrough', this._onCanPlay);\n            source.removeEventListener('error', this._onError, true);\n\n            // Clear the video source and pause\n            source.pause();\n            source.src = '';\n            source.load();\n        }\n\n        super.destroy();\n    }\n\n    /** Should the base texture automatically update itself, set to true by default. */\n    get autoUpdate(): boolean\n    {\n        return this._autoUpdate;\n    }\n\n    set autoUpdate(value: boolean)\n    {\n        if (value !== this._autoUpdate)\n        {\n            this._autoUpdate = value;\n            this._configureAutoUpdate();\n        }\n    }\n\n    /**\n     * How many times a second to update the texture from the video.\n     * Leave at 0 to update at every render.\n     * A lower fps can help performance, as updating the texture at 60fps on a 30ps video may not be efficient.\n     */\n    get updateFPS(): number\n    {\n        return this._updateFPS;\n    }\n\n    set updateFPS(value: number)\n    {\n        if (value !== this._updateFPS)\n        {\n            this._updateFPS = value;\n            this._configureAutoUpdate();\n        }\n    }\n\n    /**\n     * Configures the updating mechanism based on the current state and settings.\n     *\n     * This method decides between using the browser's native video frame callback or a custom ticker\n     * for updating the video frame. It ensures optimal performance and responsiveness\n     * based on the video's state, playback status, and the desired frames-per-second setting.\n     *\n     * - If `_autoUpdate` is enabled and the video source is playing:\n     *   - It will prefer the native video frame callback if available and no specific FPS is set.\n     *   - Otherwise, it will use a custom ticker for manual updates.\n     * - If `_autoUpdate` is disabled or the video isn't playing, any active update mechanisms are halted.\n     */\n    private _configureAutoUpdate(): void\n    {\n        // Check if automatic updating is enabled and if the source is currently playing\n        if (this._autoUpdate && this._isSourcePlaying())\n        {\n            // Determine if we should use the browser's native video frame callback (generally for better performance)\n            if (!this._updateFPS && (this.source as any).requestVideoFrameCallback)\n            {\n                // If connected to a custom ticker, remove the update frame function from it\n                if (this._isConnectedToTicker)\n                {\n                    Ticker.shared.remove(this.updateFrame, this);\n                    this._isConnectedToTicker = false;\n                    // Reset the time until the next update\n                    this._msToNextUpdate = 0;\n                }\n\n                // Check if we haven't already requested a video frame callback, and if not, request one\n                if (this._videoFrameRequestCallbackHandle === null)\n                {\n                    this._videoFrameRequestCallbackHandle = (this.source as any).requestVideoFrameCallback(\n                        this._videoFrameRequestCallback\n                    );\n                }\n            }\n            else\n            {\n                // If a video frame request callback exists, cancel it, as we are switching to manual ticker-based updates\n                if (this._videoFrameRequestCallbackHandle !== null)\n                {\n                    (this.source as any).cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle);\n                    this._videoFrameRequestCallbackHandle = null;\n                }\n\n                // If not connected to the custom ticker, add the update frame function to it\n                if (!this._isConnectedToTicker)\n                {\n                    Ticker.shared.add(this.updateFrame, this);\n                    this._isConnectedToTicker = true;\n                    // Reset the time until the next update\n                    this._msToNextUpdate = 0;\n                }\n            }\n        }\n        else\n        {\n            // If automatic updating is disabled or the source isn't playing, perform cleanup\n\n            // Cancel any existing video frame callback request\n            if (this._videoFrameRequestCallbackHandle !== null)\n            {\n                (this.source as any).cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle);\n                this._videoFrameRequestCallbackHandle = null;\n            }\n\n            // Remove the update frame function from the custom ticker\n            if (this._isConnectedToTicker)\n            {\n                Ticker.shared.remove(this.updateFrame, this);\n                this._isConnectedToTicker = false;\n                // Reset the time until the next update\n                this._msToNextUpdate = 0;\n            }\n        }\n    }\n\n    /**\n     * Map of video MIME types that can't be directly derived from file extensions.\n     * @readonly\n     */\n    public static MIME_TYPES: Dict<string>\n        = {\n            ogv: 'video/ogg',\n            mov: 'video/quicktime',\n            m4v: 'video/mp4',\n        };\n\n    public static test(resource: any): resource is VideoResource\n    {\n        return (globalThis.HTMLVideoElement && resource instanceof HTMLVideoElement)\n        || (globalThis.VideoFrame && resource instanceof VideoFrame);\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { VideoSource } from '../../../../rendering/renderers/shared/texture/sources/VideoSource';\nimport { detectVideoAlphaMode } from '../../../../utils/browser/detectVideoAlphaMode';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl';\nimport { checkDataUrl } from '../../../utils/checkDataUrl';\nimport { checkExtension } from '../../../utils/checkExtension';\nimport { createTexture } from './utils/createTexture';\n\nimport type { VideoSourceOptions } from '../../../../rendering/renderers/shared/texture/sources/VideoSource';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport type { ResolvedAsset } from '../../../types';\nimport type { Loader } from '../../Loader';\nimport type { LoaderParser } from '../LoaderParser';\n\nconst validVideoExtensions = ['.mp4', '.m4v', '.webm', '.ogg', '.ogv', '.h264', '.avi', '.mov'];\nconst validVideoMIMEs = validVideoExtensions.map((ext) => `video/${ext.substring(1)}`);\n\n/**\n * Set cross origin based detecting the url and the crossorigin\n * @param element - Element to apply crossOrigin\n * @param url - URL to check\n * @param crossorigin - Cross origin value to use\n */\nexport function crossOrigin(element: HTMLImageElement | HTMLVideoElement, url: string, crossorigin?: boolean | string): void\n{\n    if (crossorigin === undefined && !url.startsWith('data:'))\n    {\n        element.crossOrigin = determineCrossOrigin(url);\n    }\n    else if (crossorigin !== false)\n    {\n        element.crossOrigin = typeof crossorigin === 'string' ? crossorigin : 'anonymous';\n    }\n}\n\n/**\n * Sets the `crossOrigin` property for this resource based on if the url\n * for this resource is cross-origin. If crossOrigin was manually set, this\n * function does nothing.\n * Nipped from the resource loader!\n * @ignore\n * @param {string} url - The url to test.\n * @param {object} [loc=window.location] - The location object to test against.\n * @returns {string} The crossOrigin value to use (or empty string for none).\n */\nexport function determineCrossOrigin(url: string, loc: Location = globalThis.location): string\n{\n    // data: and javascript: urls are considered same-origin\n    if (url.startsWith('data:'))\n    {\n        return '';\n    }\n\n    // default is window.location\n    loc = loc || globalThis.location;\n\n    const parsedUrl = new URL(url, document.baseURI);\n\n    // if cross origin\n    if (parsedUrl.hostname !== loc.hostname || parsedUrl.port !== loc.port || parsedUrl.protocol !== loc.protocol)\n    {\n        return 'anonymous';\n    }\n\n    return '';\n}\n\n/**\n * Loads our video textures!\n *\n * You can pass VideoSource options to the loader via the .data property of the asset descriptor\n * when using Asset.load().\n * ```js\n * // Set the data\n * const texture = await Assets.load({\n *     src: './assets/city.mp4',\n *     data: {\n *         preload: true,\n *         autoPlay: true,\n *     },\n * });\n * ```\n */\n\nexport const loadVideoTextures = {\n\n    name: 'loadVideo',\n\n    extension: {\n        type: ExtensionType.LoadParser,\n    },\n\n    config: null,\n\n    test(url: string): boolean\n    {\n        const isValidDataUrl = checkDataUrl(url, validVideoMIMEs);\n        const isValidExtension = checkExtension(url, validVideoExtensions);\n\n        return isValidDataUrl || isValidExtension;\n    },\n\n    async load(url: string, asset: ResolvedAsset<VideoSourceOptions>, loader: Loader): Promise<Texture>\n    {\n        // --- Merge default and provided options ---\n        const options: VideoSourceOptions = {\n            ...VideoSource.defaultOptions,\n            resolution: asset.data?.resolution || getResolutionOfUrl(url),\n            alphaMode: asset.data?.alphaMode || await detectVideoAlphaMode(),\n            ...asset.data,\n        };\n\n        // --- Create and configure HTMLVideoElement ---\n        const videoElement = document.createElement('video');\n\n        // Set attributes based on options\n        const attributeMap = {\n            preload: options.autoLoad !== false ? 'auto' : undefined,\n            'webkit-playsinline': options.playsinline !== false ? '' : undefined,\n            playsinline: options.playsinline !== false ? '' : undefined,\n            muted: options.muted === true ? '' : undefined,\n            loop: options.loop === true ? '' : undefined,\n            autoplay: options.autoPlay !== false ? '' : undefined\n        };\n\n        Object.keys(attributeMap).forEach((key) =>\n        {\n            const value = attributeMap[key as keyof typeof attributeMap];\n\n            if (value !== undefined) videoElement.setAttribute(key, value);\n        });\n\n        if (options.muted === true)\n        {\n            videoElement.muted = true;\n        }\n\n        crossOrigin(videoElement, url, options.crossorigin); // Assume crossOrigin is globally available\n\n        // --- Set up source and MIME type ---\n        const sourceElement = document.createElement('source');\n\n        // Determine MIME type\n        let mime: string | undefined;\n\n        if (url.startsWith('data:'))\n        {\n            mime = url.slice(5, url.indexOf(';'));\n        }\n        else if (!url.startsWith('blob:'))\n        {\n            const ext = url.split('?')[0].slice(url.lastIndexOf('.') + 1).toLowerCase();\n\n            mime = VideoSource.MIME_TYPES[ext] || `video/${ext}`;\n        }\n\n        sourceElement.src = url;\n\n        if (mime)\n        {\n            sourceElement.type = mime;\n        }\n\n        videoElement.appendChild(sourceElement);\n\n        // --- Create texture ---\n        const base = new VideoSource({ ...options, resource: videoElement });\n\n        return createTexture(base, loader, url);\n    },\n\n    unload(texture: Texture): void\n    {\n        texture.destroy(true);\n    }\n} as LoaderParser<Texture, VideoSourceOptions, null>;\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { loadTextures } from '../../loader/parsers/textures/loadTextures';\nimport { Resolver } from '../Resolver';\n\nimport type { UnresolvedAsset } from '../../types';\nimport type { ResolveURLParser } from '../types';\n\nexport const resolveTextureUrl = {\n    extension: ExtensionType.ResolveParser,\n    test: loadTextures.test,\n    parse: (value: string): UnresolvedAsset =>\n        ({\n            resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? '1'),\n            format: value.split('.').pop(),\n            src: value,\n        }),\n} as ResolveURLParser;\n","import { extensions, ExtensionType } from '../extensions/Extensions';\nimport { bitmapFontCachePlugin, xmlBitmapFontLoader } from '../scene/text/bitmap/asset/loadBitmapFont';\nimport { cacheTextureArray } from './cache/parsers/cacheTextureArray';\nimport { detectAvif } from './detections/parsers/detectAvif';\nimport { detectDefaults } from './detections/parsers/detectDefaults';\nimport { detectMp4 } from './detections/parsers/detectMp4';\nimport { detectOgv } from './detections/parsers/detectOgv';\nimport { detectWebm } from './detections/parsers/detectWebm';\nimport { detectWebp } from './detections/parsers/detectWebp';\nimport { loadJson } from './loader/parsers/loadJson';\nimport { loadTxt } from './loader/parsers/loadTxt';\nimport { loadWebFont } from './loader/parsers/loadWebFont';\nimport { loadSvg } from './loader/parsers/textures/loadSVG';\nimport { loadTextures } from './loader/parsers/textures/loadTextures';\nimport { loadVideoTextures } from './loader/parsers/textures/loadVideoTextures';\nimport { resolveTextureUrl } from './resolver/parsers/resolveTextureUrl';\n\nimport type { AssetExtension } from './AssetExtension';\n\nextensions.add(\n    cacheTextureArray,\n\n    detectDefaults,\n    detectAvif,\n    detectWebp,\n    detectMp4,\n    detectOgv,\n    detectWebm,\n\n    loadJson,\n    loadTxt,\n    loadWebFont,\n    loadSvg,\n    loadTextures,\n    loadVideoTextures,\n\n    resolveTextureUrl,\n\n    // TODO: these should probably be moved to its own init, along with splitting out all the\n    // text pipeline stuff\n    xmlBitmapFontLoader,\n    bitmapFontCachePlugin\n);\n\nconst assetKeyMap = {\n    loader: ExtensionType.LoadParser,\n    resolver: ExtensionType.ResolveParser,\n    cache: ExtensionType.CacheParser,\n    detection: ExtensionType.DetectionParser,\n};\n\ntype AssetType = keyof typeof assetKeyMap;\n\n// Split the Asset extension into it's various parts\n// these are handled in the Assets.ts file\nextensions.handle(ExtensionType.Asset, (extension) =>\n{\n    const ref = extension.ref as AssetExtension;\n\n    Object.entries(assetKeyMap)\n        .filter(([key]) => !!ref[key as AssetType])\n        .forEach(([key, type]) => extensions.add(Object.assign(\n            ref[key as AssetType],\n            // Allow the function to optionally define it's own\n            // ExtensionMetadata, the use cases here is priority for LoaderParsers\n            { extension: ref[key as AssetType].extension ?? type },\n        )));\n}, (extension) =>\n{\n    const ref = extension.ref as AssetExtension;\n\n    Object.keys(assetKeyMap)\n        .filter((key) => !!ref[key as AssetType])\n        .forEach((key) => extensions.remove(ref[key as AssetType]));\n});\n","import { UPDATE_PRIORITY } from '../ticker/const';\nimport { Ticker } from '../ticker/Ticker';\n\nimport type { EventSystem } from './EventSystem';\n\n/**\n * This class handles automatic firing of PointerEvents\n * in the case where the pointer is stationary for too long.\n * This is to ensure that hit-tests are still run on moving objects.\n * @since 7.2.0\n * @see EventsTicker\n */\nclass EventsTickerClass\n{\n    /** The event system. */\n    public events: EventSystem;\n    /** The DOM element to listen to events on. */\n    public domElement: HTMLElement;\n    /** The frequency that fake events will be fired. */\n    public interactionFrequency = 10;\n\n    private _deltaTime = 0;\n    private _didMove = false;\n    private _tickerAdded = false;\n    private _pauseUpdate = true;\n\n    /**\n     * Initializes the event ticker.\n     * @param events - The event system.\n     */\n    public init(events: EventSystem): void\n    {\n        this.removeTickerListener();\n        this.events = events;\n        this.interactionFrequency = 10;\n        this._deltaTime = 0;\n        this._didMove = false;\n        this._tickerAdded = false;\n        this._pauseUpdate = true;\n    }\n\n    /** Whether to pause the update checks or not. */\n    get pauseUpdate(): boolean\n    {\n        return this._pauseUpdate;\n    }\n\n    set pauseUpdate(paused: boolean)\n    {\n        this._pauseUpdate = paused;\n    }\n\n    /** Adds the ticker listener. */\n    public addTickerListener(): void\n    {\n        if (this._tickerAdded || !this.domElement)\n        {\n            return;\n        }\n\n        Ticker.system.add(this._tickerUpdate, this, UPDATE_PRIORITY.INTERACTION);\n\n        this._tickerAdded = true;\n    }\n\n    /** Removes the ticker listener. */\n    public removeTickerListener(): void\n    {\n        if (!this._tickerAdded)\n        {\n            return;\n        }\n\n        Ticker.system.remove(this._tickerUpdate, this);\n\n        this._tickerAdded = false;\n    }\n\n    /** Sets flag to not fire extra events when the user has already moved there mouse */\n    public pointerMoved(): void\n    {\n        this._didMove = true;\n    }\n\n    /** Updates the state of interactive objects. */\n    private _update(): void\n    {\n        if (!this.domElement || this._pauseUpdate)\n        {\n            return;\n        }\n\n        // if the user move the mouse this check has already been done using the mouse move!\n        if (this._didMove)\n        {\n            this._didMove = false;\n\n            return;\n        }\n\n        // eslint-disable-next-line dot-notation\n        const rootPointerEvent = this.events['_rootPointerEvent'];\n\n        if (this.events.supportsTouchEvents && (rootPointerEvent as PointerEvent).pointerType === 'touch')\n        {\n            return;\n        }\n\n        globalThis.document.dispatchEvent(new PointerEvent('pointermove', {\n            clientX: rootPointerEvent.clientX,\n            clientY: rootPointerEvent.clientY,\n        }));\n    }\n\n    /**\n     * Updates the state of interactive objects if at least {@link interactionFrequency}\n     * milliseconds have passed since the last invocation.\n     *\n     * Invoked by a throttled ticker update from {@link Ticker.system}.\n     * @param ticker - The throttled ticker.\n     */\n    private _tickerUpdate(ticker: Ticker): void\n    {\n        this._deltaTime += ticker.deltaTime;\n\n        if (this._deltaTime < this.interactionFrequency)\n        {\n            return;\n        }\n\n        this._deltaTime = 0;\n\n        this._update();\n    }\n}\n\n/**\n * This class handles automatic firing of PointerEvents\n * in the case where the pointer is stationary for too long.\n * This is to ensure that hit-tests are still run on moving objects.\n * @type {EventsTickerClass}\n * @since 7.2.0\n */\nexport const EventsTicker = new EventsTickerClass();\n","import { Point } from '../maths/point/Point';\nimport { FederatedEvent } from './FederatedEvent';\n\nimport type { PointData } from '../maths/point/PointData';\nimport type { Container } from '../scene/container/Container';\nimport type { PixiTouch } from './FederatedEvent';\n\n/** A {@link FederatedEvent} for mouse events. */\nexport class FederatedMouseEvent extends FederatedEvent<\nMouseEvent | PointerEvent | PixiTouch\n> implements MouseEvent\n{\n    /** Whether the \"alt\" key was pressed when this mouse event occurred. */\n    public altKey: boolean;\n\n    /** The specific button that was pressed in this mouse event. */\n    public button: number;\n\n    /** The button depressed when this event occurred. */\n    public buttons: number;\n\n    /** Whether the \"control\" key was pressed when this mouse event occurred. */\n    public ctrlKey: boolean;\n\n    /** Whether the \"meta\" key was pressed when this mouse event occurred. */\n    public metaKey: boolean;\n\n    /** This is currently not implemented in the Federated Events API. */\n    public relatedTarget: EventTarget;\n\n    /** Whether the \"shift\" key was pressed when this mouse event occurred. */\n    public shiftKey: boolean;\n\n    /** The coordinates of the mouse event relative to the canvas. */\n    public client: Point = new Point();\n\n    /** @readonly */\n    public get clientX(): number { return this.client.x; }\n\n    /** @readonly */\n    public get clientY(): number { return this.client.y; }\n\n    /**\n     * Alias for {@link FederatedMouseEvent.clientX this.clientX}.\n     * @readonly\n     */\n    get x(): number { return this.clientX; }\n\n    /**\n     * Alias for {@link FederatedMouseEvent.clientY this.clientY}.\n     * @readonly\n     */\n    get y(): number { return this.clientY; }\n\n    /** This is the number of clicks that occurs in 200ms/click of each other. */\n    public detail: number;\n\n    /** The movement in this pointer relative to the last `mousemove` event. */\n    public movement: Point = new Point();\n\n    /** @readonly */\n    get movementX(): number { return this.movement.x; }\n\n    /** @readonly */\n    get movementY(): number { return this.movement.y; }\n\n    /** The offset of the pointer coordinates w.r.t. target Container in world space. This is not supported at the moment. */\n    public offset: Point = new Point();\n\n    /** @readonly */\n    get offsetX(): number { return this.offset.x; }\n\n    /** @readonly */\n    get offsetY(): number { return this.offset.y; }\n\n    /** The pointer coordinates in world space. */\n    public global: Point = new Point();\n\n    /** @readonly */\n    get globalX(): number { return this.global.x; }\n\n    /** @readonly */\n    get globalY(): number { return this.global.y; }\n\n    /**\n     * The pointer coordinates in the renderer's {@link Renderer.screen screen}. This has slightly\n     * different semantics than native PointerEvent screenX/screenY.\n     */\n    public screen: Point = new Point();\n\n    /**\n     * The pointer coordinates in the renderer's screen. Alias for {@code screen.x}.\n     * @readonly\n     */\n    get screenX(): number { return this.screen.x; }\n\n    /**\n     * The pointer coordinates in the renderer's screen. Alias for {@code screen.y}.\n     * @readonly\n     */\n    get screenY(): number { return this.screen.y; }\n\n    /**\n     * This will return the local coordinates of the specified container for this InteractionData\n     * @param {Container} container - The Container that you would like the local\n     *  coords off\n     * @param {PointData} point - A Point object in which to store the value, optional (otherwise\n     *  will create a new point)\n     * @param {PointData} globalPos - A Point object containing your custom global coords, optional\n     *  (otherwise will use the current global coords)\n     * @returns - A point containing the coordinates of the InteractionData position relative\n     *  to the Container\n     */\n    public getLocalPosition<P extends PointData = Point>(container: Container, point?: P, globalPos?: PointData): P\n    {\n        return container.worldTransform.applyInverse<P>(globalPos || this.global, point);\n    }\n\n    /**\n     * Whether the modifier key was pressed when this event natively occurred.\n     * @param key - The modifier key.\n     */\n    public getModifierState(key: string): boolean\n    {\n        return 'getModifierState' in this.nativeEvent && this.nativeEvent.getModifierState(key);\n    }\n\n    /**\n     * Not supported.\n     * @param _typeArg\n     * @param _canBubbleArg\n     * @param _cancelableArg\n     * @param _viewArg\n     * @param _detailArg\n     * @param _screenXArg\n     * @param _screenYArg\n     * @param _clientXArg\n     * @param _clientYArg\n     * @param _ctrlKeyArg\n     * @param _altKeyArg\n     * @param _shiftKeyArg\n     * @param _metaKeyArg\n     * @param _buttonArg\n     * @param _relatedTargetArg\n     * @deprecated since 7.0.0\n     */\n    // eslint-disable-next-line max-params\n    public initMouseEvent(\n        _typeArg: string,\n        _canBubbleArg: boolean,\n        _cancelableArg: boolean,\n        _viewArg: Window,\n        _detailArg: number,\n        _screenXArg: number,\n        _screenYArg: number,\n        _clientXArg: number,\n        _clientYArg: number,\n        _ctrlKeyArg: boolean,\n        _altKeyArg: boolean,\n        _shiftKeyArg: boolean,\n        _metaKeyArg: boolean,\n        _buttonArg: number,\n        _relatedTargetArg: EventTarget\n    ): void\n    {\n        throw new Error('Method not implemented.');\n    }\n}\n","import { FederatedMouseEvent } from './FederatedMouseEvent';\n\n/** A {@link FederatedEvent} for pointer events. */\nexport class FederatedPointerEvent extends FederatedMouseEvent implements PointerEvent\n{\n    /**\n     * The unique identifier of the pointer.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId}\n     */\n    public pointerId: number;\n\n    /**\n     * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n     * radiusX of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n     */\n    public width = 0;\n\n    /**\n     * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n     * radiusY of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n     */\n    public height = 0;\n\n    /**\n     * Indicates whether or not the pointer device that created the event is the primary pointer.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n     */\n    public isPrimary = false;\n\n    /**\n     * The type of pointer that triggered the event.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerType\n     */\n    public pointerType: string;\n\n    /**\n     * Pressure applied by the pointing device during the event.\n     *s\n     * A Touch's force property will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pressure\n     */\n    public pressure: number;\n\n    /**\n     * Barrel pressure on a stylus pointer.\n     * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n     */\n    public tangentialPressure: number;\n\n    /**\n     * The angle, in degrees, between the pointer device and the screen.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltX\n     */\n    public tiltX: number;\n\n    /**\n     * The angle, in degrees, between the pointer device and the screen.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltY\n     */\n    public tiltY: number;\n\n    /**\n     * Twist of a stylus pointer.\n     * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n     */\n    public twist: number;\n\n    /** This is the number of clicks that occurs in 200ms/click of each other. */\n    public detail: number;\n\n    // Only included for completeness for now\n    public getCoalescedEvents(): PointerEvent[]\n    {\n        if (this.type === 'pointermove' || this.type === 'mousemove' || this.type === 'touchmove')\n        {\n            return [this];\n        }\n\n        return [];\n    }\n\n    // Only included for completeness for now\n    public getPredictedEvents(): PointerEvent[]\n    {\n        throw new Error('getPredictedEvents is not supported!');\n    }\n}\n","import { FederatedMouseEvent } from './FederatedMouseEvent';\n\n/** A {@link FederatedEvent} for wheel events. */\nexport class FederatedWheelEvent extends FederatedMouseEvent implements WheelEvent\n{\n    /**\n     * The units of `deltaX`, `deltaY`, and `deltaZ`. This is one of `DOM_DELTA_LINE`,\n     * `DOM_DELTA_PAGE`, `DOM_DELTA_PIXEL`.\n     */\n    public deltaMode: number;\n\n    /** Horizontal scroll amount */\n    public deltaX: number;\n\n    /** Vertical scroll amount */\n    public deltaY: number;\n\n    /** z-axis scroll amount. */\n    public deltaZ: number;\n\n    /** Units specified in pixels. */\n    public static readonly DOM_DELTA_PIXEL = 0;\n\n    /** Units specified in pixels. */\n    public readonly DOM_DELTA_PIXEL = 0;\n\n    /** Units specified in lines. */\n    public static readonly DOM_DELTA_LINE = 1;\n\n    /** Units specified in lines. */\n    public readonly DOM_DELTA_LINE = 1;\n\n    /** Units specified in pages. */\n    public static readonly DOM_DELTA_PAGE = 2;\n\n    /** Units specified in pages. */\n    public readonly DOM_DELTA_PAGE = 2;\n}\n","import EventEmitter from 'eventemitter3';\nimport { Point } from '../maths/point/Point';\nimport { warn } from '../utils/logging/warn';\nimport { EventsTicker } from './EventTicker';\nimport { FederatedMouseEvent } from './FederatedMouseEvent';\nimport { FederatedPointerEvent } from './FederatedPointerEvent';\nimport { FederatedWheelEvent } from './FederatedWheelEvent';\n\nimport type { Container } from '../scene/container/Container';\nimport type { EmitterListeners, TrackingData } from './EventBoundaryTypes';\nimport type { FederatedEvent } from './FederatedEvent';\nimport type {\n    Cursor, EventMode, FederatedEventHandler,\n    FederatedEventTarget,\n    IFederatedContainer\n} from './FederatedEventTarget';\n\n// The maximum iterations used in propagation. This prevent infinite loops.\nconst PROPAGATION_LIMIT = 2048;\n\nconst tempHitLocation = new Point();\nconst tempLocalMapping = new Point();\n\n/**\n * Event boundaries are \"barriers\" where events coming from an upstream scene are modified before downstream propagation.\n *\n * ## Root event boundary\n *\n * The {@link EventSystem#rootBoundary rootBoundary} handles events coming from the &lt;canvas /&gt;.\n * {@link EventSystem} handles the normalization from native {@link https://dom.spec.whatwg.org/#event Events}\n * into {@link FederatedEvent FederatedEvents}. The rootBoundary then does the hit-testing and event dispatch\n * for the upstream normalized event.\n *\n * ## Additional event boundaries\n *\n * An additional event boundary may be desired within an application's scene graph. For example, if a portion of the scene is\n * is flat with many children at one level - a spatial hash maybe needed to accelerate hit testing. In this scenario, the\n * container can be detached from the scene and glued using a custom event boundary.\n *\n * ```ts\n * import { Container } from '@pixi/display';\n * import { EventBoundary } from '@pixi/events';\n * import { SpatialHash } from 'pixi-spatial-hash';\n *\n * class HashedHitTestingEventBoundary\n * {\n *     private spatialHash: SpatialHash;\n *\n *     constructor(scene: Container, spatialHash: SpatialHash)\n *     {\n *         super(scene);\n *         this.spatialHash = spatialHash;\n *     }\n *\n *     hitTestRecursive(...)\n *     {\n *         // TODO: If target === this.rootTarget, then use spatial hash to get a\n *         // list of possible children that match the given (x,y) coordinates.\n *     }\n * }\n *\n * class VastScene extends Container\n * {\n *     protected eventBoundary: EventBoundary;\n *     protected scene: Container;\n *     protected spatialHash: SpatialHash;\n *\n *     constructor()\n *     {\n *         this.scene = new Container();\n *         this.spatialHash = new SpatialHash();\n *         this.eventBoundary = new HashedHitTestingEventBoundary(this.scene, this.spatialHash);\n *\n *         // Populate this.scene with a ton of children, while updating this.spatialHash\n *     }\n * }\n * ```\n */\nexport class EventBoundary\n{\n    /**\n     * The root event-target residing below the event boundary.\n     * All events are dispatched trickling down and bubbling up to this `rootTarget`.\n     */\n    public rootTarget: Container;\n\n    /**\n     * Emits events after they were dispatched into the scene graph.\n     *\n     * This can be used for global events listening, regardless of the scene graph being used. It should\n     * not be used by interactive libraries for normal use.\n     *\n     * Special events that do not bubble all the way to the root target are not emitted from here,\n     * e.g. pointerenter, pointerleave, click.\n     */\n    public dispatch: EventEmitter = new EventEmitter();\n\n    /** The cursor preferred by the event targets underneath this boundary. */\n    public cursor: Cursor | string;\n\n    /**\n     * This flag would emit `pointermove`, `touchmove`, and `mousemove` events on all Containers.\n     *\n     * The `moveOnAll` semantics mirror those of earlier versions of PixiJS. This was disabled in favor of\n     * the Pointer Event API's approach.\n     */\n    public moveOnAll = false;\n\n    /** Enables the global move events. `globalpointermove`, `globaltouchmove`, and `globalmousemove` */\n    public enableGlobalMoveEvents = true;\n\n    /**\n     * Maps event types to forwarding handles for them.\n     *\n     * {@link EventBoundary EventBoundary} provides mapping for \"pointerdown\", \"pointermove\",\n     * \"pointerout\", \"pointerleave\", \"pointerover\", \"pointerup\", and \"pointerupoutside\" by default.\n     * @see EventBoundary#addEventMapping\n     */\n    protected mappingTable: Record<string, Array<{\n        fn: (e: FederatedEvent) => void,\n        priority: number\n    }>>;\n\n    /**\n     * State object for mapping methods.\n     * @see EventBoundary#trackingData\n     */\n    protected mappingState: Record<string, any> = {\n        trackingData: {}\n    };\n\n    /**\n     * The event pool maps event constructors to an free pool of instances of those specific events.\n     * @see EventBoundary#allocateEvent\n     * @see EventBoundary#freeEvent\n     */\n    protected eventPool: Map<typeof FederatedEvent, FederatedEvent[]> = new Map();\n\n    /** Every interactive element gathered from the scene. Only used in `pointermove` */\n    private readonly _allInteractiveElements: FederatedEventTarget[] = [];\n    /** Every element that passed the hit test. Only used in `pointermove` */\n    private _hitElements: FederatedEventTarget[] = [];\n    /** Whether or not to collect all the interactive elements from the scene. Enabled in `pointermove` */\n    private _isPointerMoveEvent = false;\n\n    /**\n     * @param rootTarget - The holder of the event boundary.\n     */\n    constructor(rootTarget?: Container)\n    {\n        this.rootTarget = rootTarget;\n\n        this.hitPruneFn = this.hitPruneFn.bind(this);\n        this.hitTestFn = this.hitTestFn.bind(this);\n        this.mapPointerDown = this.mapPointerDown.bind(this);\n        this.mapPointerMove = this.mapPointerMove.bind(this);\n        this.mapPointerOut = this.mapPointerOut.bind(this);\n        this.mapPointerOver = this.mapPointerOver.bind(this);\n        this.mapPointerUp = this.mapPointerUp.bind(this);\n        this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);\n        this.mapWheel = this.mapWheel.bind(this);\n\n        this.mappingTable = {};\n        this.addEventMapping('pointerdown', this.mapPointerDown);\n        this.addEventMapping('pointermove', this.mapPointerMove);\n        this.addEventMapping('pointerout', this.mapPointerOut);\n        this.addEventMapping('pointerleave', this.mapPointerOut);\n        this.addEventMapping('pointerover', this.mapPointerOver);\n        this.addEventMapping('pointerup', this.mapPointerUp);\n        this.addEventMapping('pointerupoutside', this.mapPointerUpOutside);\n        this.addEventMapping('wheel', this.mapWheel);\n    }\n\n    /**\n     * Adds an event mapping for the event `type` handled by `fn`.\n     *\n     * Event mappings can be used to implement additional or custom events. They take an event\n     * coming from the upstream scene (or directly from the {@link EventSystem}) and dispatch new downstream events\n     * generally trickling down and bubbling up to {@link EventBoundary.rootTarget this.rootTarget}.\n     *\n     * To modify the semantics of existing events, the built-in mapping methods of EventBoundary should be overridden\n     * instead.\n     * @param type - The type of upstream event to map.\n     * @param fn - The mapping method. The context of this function must be bound manually, if desired.\n     */\n    public addEventMapping(type: string, fn: (e: FederatedEvent) => void): void\n    {\n        if (!this.mappingTable[type])\n        {\n            this.mappingTable[type] = [];\n        }\n\n        this.mappingTable[type].push({\n            fn,\n            priority: 0,\n        });\n        this.mappingTable[type].sort((a, b) => a.priority - b.priority);\n    }\n\n    /**\n     * Dispatches the given event\n     * @param e\n     * @param type\n     */\n    public dispatchEvent(e: FederatedEvent, type?: string): void\n    {\n        e.propagationStopped = false;\n        e.propagationImmediatelyStopped = false;\n\n        this.propagate(e, type);\n        this.dispatch.emit(type || e.type, e);\n    }\n\n    /**\n     * Maps the given upstream event through the event boundary and propagates it downstream.\n     * @param e\n     */\n    public mapEvent(e: FederatedEvent): void\n    {\n        if (!this.rootTarget)\n        {\n            return;\n        }\n\n        const mappers = this.mappingTable[e.type];\n\n        if (mappers)\n        {\n            for (let i = 0, j = mappers.length; i < j; i++)\n            {\n                mappers[i].fn(e);\n            }\n        }\n        else\n        {\n            // #if _DEBUG\n            warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);\n            // #endif\n        }\n    }\n\n    /**\n     * Finds the Container that is the target of a event at the given coordinates.\n     *\n     * The passed (x,y) coordinates are in the world space above this event boundary.\n     * @param x\n     * @param y\n     */\n    public hitTest(\n        x: number,\n        y: number,\n    ): Container\n    {\n        EventsTicker.pauseUpdate = true;\n        // if we are using global move events, we need to hit test the whole scene graph\n        const useMove = this._isPointerMoveEvent && this.enableGlobalMoveEvents;\n        const fn = useMove ? 'hitTestMoveRecursive' : 'hitTestRecursive';\n        const invertedPath = this[fn](\n            this.rootTarget,\n            this.rootTarget.eventMode,\n            tempHitLocation.set(x, y),\n            this.hitTestFn,\n            this.hitPruneFn,\n        );\n\n        return invertedPath && invertedPath[0];\n    }\n\n    /**\n     * Propagate the passed event from from {@link EventBoundary.rootTarget this.rootTarget} to its\n     * target {@code e.target}.\n     * @param e - The event to propagate.\n     * @param type\n     */\n    public propagate(e: FederatedEvent, type?: string): void\n    {\n        if (!e.target)\n        {\n            // This usually occurs when the scene graph is not interactive.\n            return;\n        }\n\n        const composedPath = e.composedPath();\n\n        // Capturing phase\n        e.eventPhase = e.CAPTURING_PHASE;\n\n        for (let i = 0, j = composedPath.length - 1; i < j; i++)\n        {\n            e.currentTarget = composedPath[i];\n\n            this.notifyTarget(e, type);\n\n            if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n        }\n\n        // At target phase\n        e.eventPhase = e.AT_TARGET;\n        e.currentTarget = e.target;\n\n        this.notifyTarget(e, type);\n\n        if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n\n        // Bubbling phase\n        e.eventPhase = e.BUBBLING_PHASE;\n\n        for (let i = composedPath.length - 2; i >= 0; i--)\n        {\n            e.currentTarget = composedPath[i];\n\n            this.notifyTarget(e, type);\n\n            if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n        }\n    }\n\n    /**\n     * Emits the event {@code e} to all interactive containers. The event is propagated in the bubbling phase always.\n     *\n     * This is used in the `globalpointermove` event.\n     * @param e - The emitted event.\n     * @param type - The listeners to notify.\n     * @param targets - The targets to notify.\n     */\n    public all(e: FederatedEvent, type?: string | string[], targets = this._allInteractiveElements): void\n    {\n        if (targets.length === 0) return;\n\n        e.eventPhase = e.BUBBLING_PHASE;\n\n        const events = Array.isArray(type) ? type : [type];\n\n        // loop through all interactive elements and notify them of the event\n        // loop through targets backwards\n        for (let i = targets.length - 1; i >= 0; i--)\n        {\n            events.forEach((event) =>\n            {\n                e.currentTarget = targets[i];\n                this.notifyTarget(e, event);\n            });\n        }\n    }\n\n    /**\n     * Finds the propagation path from {@link EventBoundary.rootTarget rootTarget} to the passed\n     * {@code target}. The last element in the path is {@code target}.\n     * @param target\n     */\n    public propagationPath(target: FederatedEventTarget): FederatedEventTarget[]\n    {\n        const propagationPath = [target];\n\n        for (let i = 0; i < PROPAGATION_LIMIT && (target !== this.rootTarget && target.parent); i++)\n        {\n            if (!target.parent)\n            {\n                throw new Error('Cannot find propagation path to disconnected target');\n            }\n\n            propagationPath.push(target.parent);\n\n            target = target.parent;\n        }\n\n        propagationPath.reverse();\n\n        return propagationPath;\n    }\n\n    protected hitTestMoveRecursive(\n        currentTarget: Container,\n        eventMode: EventMode,\n        location: Point,\n        testFn: (object: Container, pt: Point) => boolean,\n        pruneFn: (object: Container, pt: Point) => boolean,\n        ignore = false\n    ): Container[]\n    {\n        let shouldReturn = false;\n\n        // only bail out early if it is not interactive\n        if (this._interactivePrune(currentTarget)) return null;\n\n        if (currentTarget.eventMode === 'dynamic' || eventMode === 'dynamic')\n        {\n            EventsTicker.pauseUpdate = false;\n        }\n\n        if (currentTarget.interactiveChildren && currentTarget.children)\n        {\n            const children = currentTarget.children;\n\n            for (let i = children.length - 1; i >= 0; i--)\n            {\n                const child = children[i] as Container;\n\n                const nestedHit = this.hitTestMoveRecursive(\n                    child,\n                    this._isInteractive(eventMode) ? eventMode : child.eventMode,\n                    location,\n                    testFn,\n                    pruneFn,\n                    ignore || pruneFn(currentTarget, location)\n                );\n\n                if (nestedHit)\n                {\n                    // Its a good idea to check if a child has lost its parent.\n                    // this means it has been removed whilst looping so its best\n                    if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent)\n                    {\n                        continue;\n                    }\n\n                    // Only add the current hit-test target to the hit-test chain if the chain\n                    // has already started (i.e. the event target has been found) or if the current\n                    // target is interactive (i.e. it becomes the event target).\n                    const isInteractive = currentTarget.isInteractive();\n\n                    if (nestedHit.length > 0 || isInteractive)\n                    {\n                        if (isInteractive) this._allInteractiveElements.push(currentTarget);\n                        nestedHit.push(currentTarget);\n                    }\n\n                    // store all hit elements to be returned once we have traversed the whole tree\n                    if (this._hitElements.length === 0) this._hitElements = nestedHit;\n\n                    shouldReturn = true;\n                }\n            }\n        }\n\n        const isInteractiveMode = this._isInteractive(eventMode);\n        const isInteractiveTarget = currentTarget.isInteractive();\n\n        if (isInteractiveTarget && isInteractiveTarget) this._allInteractiveElements.push(currentTarget);\n\n        // we don't carry on hit testing something once we have found a hit,\n        // now only care about gathering the interactive elements\n        if (ignore || this._hitElements.length > 0) return null;\n\n        if (shouldReturn) return this._hitElements as Container[];\n\n        // Finally, hit test this Container itself.\n        if (isInteractiveMode && (!pruneFn(currentTarget, location) && testFn(currentTarget, location)))\n        {\n            // The current hit-test target is the event's target only if it is interactive. Otherwise,\n            // the first interactive ancestor will be the event's target.\n            return isInteractiveTarget ? [currentTarget] : [];\n        }\n\n        return null;\n    }\n\n    /**\n     * Recursive implementation for {@link EventBoundary.hitTest hitTest}.\n     * @param currentTarget - The Container that is to be hit tested.\n     * @param eventMode - The event mode for the `currentTarget` or one of its parents.\n     * @param location - The location that is being tested for overlap.\n     * @param testFn - Callback that determines whether the target passes hit testing. This callback\n     *  can assume that `pruneFn` failed to prune the container.\n     * @param pruneFn - Callback that determiness whether the target and all of its children\n     *  cannot pass the hit test. It is used as a preliminary optimization to prune entire subtrees\n     *  of the scene graph.\n     * @returns An array holding the hit testing target and all its ancestors in order. The first element\n     *  is the target itself and the last is {@link EventBoundary.rootTarget rootTarget}. This is the opposite\n     *  order w.r.t. the propagation path. If no hit testing target is found, null is returned.\n     */\n    protected hitTestRecursive(\n        currentTarget: Container,\n        eventMode: EventMode,\n        location: Point,\n        testFn: (object: Container, pt: Point) => boolean,\n        pruneFn: (object: Container, pt: Point) => boolean\n    ): Container[]\n    {\n        // Attempt to prune this Container and its subtree as an optimization.\n        if (this._interactivePrune(currentTarget) || pruneFn(currentTarget, location))\n        {\n            return null;\n        }\n        if (currentTarget.eventMode === 'dynamic' || eventMode === 'dynamic')\n        {\n            EventsTicker.pauseUpdate = false;\n        }\n\n        // Find a child that passes the hit testing and return one, if any.\n        if (currentTarget.interactiveChildren && currentTarget.children)\n        {\n            const children = currentTarget.children;\n            const relativeLocation = location;\n\n            for (let i = children.length - 1; i >= 0; i--)\n            {\n                const child = children[i] as Container;\n\n                const nestedHit = this.hitTestRecursive(\n                    child,\n                    this._isInteractive(eventMode) ? eventMode : child.eventMode,\n                    relativeLocation,\n                    testFn,\n                    pruneFn\n                );\n\n                if (nestedHit)\n                {\n                    // Its a good idea to check if a child has lost its parent.\n                    // this means it has been removed whilst looping so its best\n                    if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent)\n                    {\n                        continue;\n                    }\n\n                    // Only add the current hit-test target to the hit-test chain if the chain\n                    // has already started (i.e. the event target has been found) or if the current\n                    // target is interactive (i.e. it becomes the event target).\n                    const isInteractive = currentTarget.isInteractive();\n\n                    if (nestedHit.length > 0 || isInteractive) nestedHit.push(currentTarget);\n\n                    return nestedHit;\n                }\n            }\n        }\n\n        const isInteractiveMode = this._isInteractive(eventMode);\n        const isInteractiveTarget = currentTarget.isInteractive();\n\n        // Finally, hit test this Container itself.\n        if (isInteractiveMode && testFn(currentTarget, location))\n        {\n            // The current hit-test target is the event's target only if it is interactive. Otherwise,\n            // the first interactive ancestor will be the event's target.\n            return isInteractiveTarget ? [currentTarget] : [];\n        }\n\n        return null;\n    }\n\n    private _isInteractive(int: EventMode): int is 'static' | 'dynamic'\n    {\n        return int === 'static' || int === 'dynamic';\n    }\n\n    private _interactivePrune(container: Container): boolean\n    {\n        // If container is a mask, invisible, or not renderable then it cannot be hit directly.\n        if (!container || !container.visible || !container.renderable)\n        {\n            return true;\n        }\n\n        // If this Container is none then it cannot be hit by anything.\n        if (container.eventMode === 'none')\n        {\n            return true;\n        }\n\n        // If this Container is passive and it has no interactive children then it cannot be hit\n        if (container.eventMode === 'passive' && !container.interactiveChildren)\n        {\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Checks whether the container or any of its children cannot pass the hit test at all.\n     *\n     * {@link EventBoundary}'s implementation uses the {@link Container.hitArea hitArea}\n     * and {@link Container._mask} for pruning.\n     * @param container\n     * @param location\n     */\n    protected hitPruneFn(container: Container, location: Point): boolean\n    {\n        if (container.hitArea)\n        {\n            container.worldTransform.applyInverse(location, tempLocalMapping);\n\n            if (!container.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y))\n            {\n                return true;\n            }\n        }\n\n        if (container.effects && container.effects.length)\n        {\n            for (let i = 0; i < container.effects.length; i++)\n            {\n                const effect = container.effects[i];\n\n                if (effect.containsPoint)\n                {\n                    const effectContainsPoint = effect.containsPoint(location, this.hitTestFn);\n\n                    if (!effectContainsPoint)\n                    {\n                        return true;\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Checks whether the container passes hit testing for the given location.\n     * @param container\n     * @param location\n     * @returns - Whether `container` passes hit testing for `location`.\n     */\n    protected hitTestFn(container: Container, location: Point): boolean\n    {\n        // If the container failed pruning with a hitArea, then it must pass it.\n        if (container.hitArea)\n        {\n            return true;\n        }\n\n        if (container.view?.containsPoint)\n        {\n            container.worldTransform.applyInverse(location, tempLocalMapping);\n\n            return container.view.containsPoint(tempLocalMapping) as boolean;\n        }\n\n        // TODO: Should we hit test based on bounds?\n\n        return false;\n    }\n\n    /**\n     * Notify all the listeners to the event's `currentTarget`.\n     *\n     * If the `currentTarget` contains the property `on<type>`, then it is called here,\n     * simulating the behavior from version 6.x and prior.\n     * @param e - The event passed to the target.\n     * @param type\n     */\n    protected notifyTarget(e: FederatedEvent, type?: string): void\n    {\n        type = type ?? e.type;\n\n        // call the `on${type}` for the current target if it exists\n        const handlerKey = `on${type}` as keyof IFederatedContainer;\n\n        (e.currentTarget[handlerKey] as FederatedEventHandler<FederatedEvent>)?.(e);\n\n        const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;\n\n        this._notifyListeners(e, key);\n\n        if (e.eventPhase === e.AT_TARGET)\n        {\n            this._notifyListeners(e, type);\n        }\n    }\n\n    /**\n     * Maps the upstream `pointerdown` events to a downstream `pointerdown` event.\n     *\n     * `touchstart`, `rightdown`, `mousedown` events are also dispatched for specific pointer types.\n     * @param from\n     */\n    protected mapPointerDown(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        const e = this.createPointerEvent(from);\n\n        this.dispatchEvent(e, 'pointerdown');\n\n        if (e.pointerType === 'touch')\n        {\n            this.dispatchEvent(e, 'touchstart');\n        }\n        else if (e.pointerType === 'mouse' || e.pointerType === 'pen')\n        {\n            const isRightButton = e.button === 2;\n\n            this.dispatchEvent(e, isRightButton ? 'rightdown' : 'mousedown');\n        }\n\n        const trackingData = this.trackingData(from.pointerId);\n\n        trackingData.pressTargetsByButton[from.button] = e.composedPath();\n\n        this.freeEvent(e);\n    }\n\n    /**\n     * Maps the upstream `pointermove` to downstream `pointerout`, `pointerover`, and `pointermove` events, in that order.\n     *\n     * The tracking data for the specific pointer has an updated `overTarget`. `mouseout`, `mouseover`,\n     * `mousemove`, and `touchmove` events are fired as well for specific pointer types.\n     * @param from - The upstream `pointermove` event.\n     */\n    protected mapPointerMove(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        this._allInteractiveElements.length = 0;\n        this._hitElements.length = 0;\n        this._isPointerMoveEvent = true;\n        const e = this.createPointerEvent(from);\n\n        this._isPointerMoveEvent = false;\n        const isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n        const trackingData = this.trackingData(from.pointerId);\n        const outTarget = this.findMountedTarget(trackingData.overTargets);\n\n        // First pointerout/pointerleave\n        if (trackingData.overTargets?.length > 0 && outTarget !== e.target)\n        {\n            // pointerout always occurs on the overTarget when the pointer hovers over another element.\n            const outType = from.type === 'mousemove' ? 'mouseout' : 'pointerout';\n            const outEvent = this.createPointerEvent(from, outType, outTarget);\n\n            this.dispatchEvent(outEvent, 'pointerout');\n            if (isMouse) this.dispatchEvent(outEvent, 'mouseout');\n\n            // If the pointer exits overTarget and its descendants, then a pointerleave event is also fired. This event\n            // is dispatched to all ancestors that no longer capture the pointer.\n            if (!e.composedPath().includes(outTarget))\n            {\n                const leaveEvent = this.createPointerEvent(from, 'pointerleave', outTarget);\n\n                leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n\n                while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target))\n                {\n                    leaveEvent.currentTarget = leaveEvent.target;\n\n                    this.notifyTarget(leaveEvent);\n                    if (isMouse) this.notifyTarget(leaveEvent, 'mouseleave');\n\n                    leaveEvent.target = leaveEvent.target.parent;\n                }\n\n                this.freeEvent(leaveEvent);\n            }\n\n            this.freeEvent(outEvent);\n        }\n\n        // Then pointerover\n        if (outTarget !== e.target)\n        {\n            // pointerover always occurs on the new overTarget\n            const overType = from.type === 'mousemove' ? 'mouseover' : 'pointerover';\n            const overEvent = this.clonePointerEvent(e, overType);// clone faster\n\n            this.dispatchEvent(overEvent, 'pointerover');\n            if (isMouse) this.dispatchEvent(overEvent, 'mouseover');\n\n            // Probe whether the newly hovered Container is an ancestor of the original overTarget.\n            let overTargetAncestor = outTarget?.parent;\n\n            while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent)\n            {\n                if (overTargetAncestor === e.target) break;\n\n                overTargetAncestor = overTargetAncestor.parent;\n            }\n\n            // The pointer has entered a non-ancestor of the original overTarget. This means we need a pointerentered\n            // event.\n            const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;\n\n            if (didPointerEnter)\n            {\n                const enterEvent = this.clonePointerEvent(e, 'pointerenter');\n\n                enterEvent.eventPhase = enterEvent.AT_TARGET;\n\n                while (enterEvent.target\n                        && enterEvent.target !== outTarget\n                        && enterEvent.target !== this.rootTarget.parent)\n                {\n                    enterEvent.currentTarget = enterEvent.target;\n\n                    this.notifyTarget(enterEvent);\n                    if (isMouse) this.notifyTarget(enterEvent, 'mouseenter');\n\n                    enterEvent.target = enterEvent.target.parent;\n                }\n\n                this.freeEvent(enterEvent);\n            }\n\n            this.freeEvent(overEvent);\n        }\n\n        const allMethods: string[] = [];\n        const allowGlobalPointerEvents = this.enableGlobalMoveEvents ?? true;\n\n        /* eslint-disable @typescript-eslint/no-unused-expressions */\n        this.moveOnAll ? allMethods.push('pointermove') : this.dispatchEvent(e, 'pointermove');\n        allowGlobalPointerEvents && allMethods.push('globalpointermove');\n\n        // Then pointermove\n        if (e.pointerType === 'touch')\n        {\n            this.moveOnAll ? allMethods.splice(1, 0, 'touchmove') : this.dispatchEvent(e, 'touchmove');\n            allowGlobalPointerEvents && allMethods.push('globaltouchmove');\n        }\n\n        if (isMouse)\n        {\n            this.moveOnAll ? allMethods.splice(1, 0, 'mousemove') : this.dispatchEvent(e, 'mousemove');\n            allowGlobalPointerEvents && allMethods.push('globalmousemove');\n            this.cursor = e.target?.cursor;\n        }\n\n        if (allMethods.length > 0)\n        {\n            this.all(e, allMethods);\n        }\n        this._allInteractiveElements.length = 0;\n        this._hitElements.length = 0;\n        /* eslint-enable @typescript-eslint/no-unused-expressions */\n\n        trackingData.overTargets = e.composedPath();\n\n        this.freeEvent(e);\n    }\n\n    /**\n     * Maps the upstream `pointerover` to downstream `pointerover` and `pointerenter` events, in that order.\n     *\n     * The tracking data for the specific pointer gets a new `overTarget`.\n     * @param from - The upstream `pointerover` event.\n     */\n    protected mapPointerOver(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        const trackingData = this.trackingData(from.pointerId);\n        const e = this.createPointerEvent(from);\n        const isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n\n        this.dispatchEvent(e, 'pointerover');\n        if (isMouse) this.dispatchEvent(e, 'mouseover');\n        if (e.pointerType === 'mouse') this.cursor = e.target?.cursor;\n\n        // pointerenter events must be fired since the pointer entered from upstream.\n        const enterEvent = this.clonePointerEvent(e, 'pointerenter');\n\n        enterEvent.eventPhase = enterEvent.AT_TARGET;\n\n        while (enterEvent.target && enterEvent.target !== this.rootTarget.parent)\n        {\n            enterEvent.currentTarget = enterEvent.target;\n\n            this.notifyTarget(enterEvent);\n            if (isMouse) this.notifyTarget(enterEvent, 'mouseenter');\n\n            enterEvent.target = enterEvent.target.parent;\n        }\n\n        trackingData.overTargets = e.composedPath();\n\n        this.freeEvent(e);\n        this.freeEvent(enterEvent);\n    }\n\n    /**\n     * Maps the upstream `pointerout` to downstream `pointerout`, `pointerleave` events, in that order.\n     *\n     * The tracking data for the specific pointer is cleared of a `overTarget`.\n     * @param from - The upstream `pointerout` event.\n     */\n    protected mapPointerOut(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        const trackingData = this.trackingData(from.pointerId);\n\n        if (trackingData.overTargets)\n        {\n            const isMouse = from.pointerType === 'mouse' || from.pointerType === 'pen';\n            const outTarget = this.findMountedTarget(trackingData.overTargets);\n\n            // pointerout first\n            const outEvent = this.createPointerEvent(from, 'pointerout', outTarget);\n\n            this.dispatchEvent(outEvent);\n            if (isMouse) this.dispatchEvent(outEvent, 'mouseout');\n\n            // pointerleave(s) are also dispatched b/c the pointer must've left rootTarget and its descendants to\n            // get an upstream pointerout event (upstream events do not know rootTarget has descendants).\n            const leaveEvent = this.createPointerEvent(from, 'pointerleave', outTarget);\n\n            leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n\n            while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent)\n            {\n                leaveEvent.currentTarget = leaveEvent.target;\n\n                this.notifyTarget(leaveEvent);\n                if (isMouse) this.notifyTarget(leaveEvent, 'mouseleave');\n\n                leaveEvent.target = leaveEvent.target.parent;\n            }\n\n            trackingData.overTargets = null;\n\n            this.freeEvent(outEvent);\n            this.freeEvent(leaveEvent);\n        }\n\n        this.cursor = null;\n    }\n\n    /**\n     * Maps the upstream `pointerup` event to downstream `pointerup`, `pointerupoutside`,\n     * and `click`/`rightclick`/`pointertap` events, in that order.\n     *\n     * The `pointerupoutside` event bubbles from the original `pointerdown` target to the most specific\n     * ancestor of the `pointerdown` and `pointerup` targets, which is also the `click` event's target. `touchend`,\n     * `rightup`, `mouseup`, `touchendoutside`, `rightupoutside`, `mouseupoutside`, and `tap` are fired as well for\n     * specific pointer types.\n     * @param from - The upstream `pointerup` event.\n     */\n    protected mapPointerUp(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        const now = performance.now();\n        const e = this.createPointerEvent(from);\n\n        this.dispatchEvent(e, 'pointerup');\n\n        if (e.pointerType === 'touch')\n        {\n            this.dispatchEvent(e, 'touchend');\n        }\n        else if (e.pointerType === 'mouse' || e.pointerType === 'pen')\n        {\n            const isRightButton = e.button === 2;\n\n            this.dispatchEvent(e, isRightButton ? 'rightup' : 'mouseup');\n        }\n\n        const trackingData = this.trackingData(from.pointerId);\n        const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n\n        let clickTarget = pressTarget;\n\n        // pointerupoutside only bubbles. It only bubbles upto the parent that doesn't contain\n        // the pointerup location.\n        if (pressTarget && !e.composedPath().includes(pressTarget))\n        {\n            let currentTarget = pressTarget;\n\n            while (currentTarget && !e.composedPath().includes(currentTarget))\n            {\n                e.currentTarget = currentTarget;\n\n                this.notifyTarget(e, 'pointerupoutside');\n\n                if (e.pointerType === 'touch')\n                {\n                    this.notifyTarget(e, 'touchendoutside');\n                }\n                else if (e.pointerType === 'mouse' || e.pointerType === 'pen')\n                {\n                    const isRightButton = e.button === 2;\n\n                    this.notifyTarget(e, isRightButton ? 'rightupoutside' : 'mouseupoutside');\n                }\n\n                currentTarget = currentTarget.parent;\n            }\n\n            delete trackingData.pressTargetsByButton[from.button];\n\n            // currentTarget is the most specific ancestor holding both the pointerdown and pointerup\n            // targets. That is - it's our click target!\n            clickTarget = currentTarget;\n        }\n\n        // click!\n        if (clickTarget)\n        {\n            const clickEvent = this.clonePointerEvent(e, 'click');\n\n            clickEvent.target = clickTarget;\n            clickEvent.path = null;\n\n            if (!trackingData.clicksByButton[from.button])\n            {\n                trackingData.clicksByButton[from.button] = {\n                    clickCount: 0,\n                    target: clickEvent.target,\n                    timeStamp: now,\n                };\n            }\n\n            const clickHistory = trackingData.clicksByButton[from.button];\n\n            if (clickHistory.target === clickEvent.target\n                && now - clickHistory.timeStamp < 200)\n            {\n                ++clickHistory.clickCount;\n            }\n            else\n            {\n                clickHistory.clickCount = 1;\n            }\n\n            clickHistory.target = clickEvent.target;\n            clickHistory.timeStamp = now;\n\n            clickEvent.detail = clickHistory.clickCount;\n\n            if (clickEvent.pointerType === 'mouse')\n            {\n                const isRightButton = clickEvent.button === 2;\n\n                this.dispatchEvent(clickEvent, isRightButton ? 'rightclick' : 'click');\n            }\n            else if (clickEvent.pointerType === 'touch')\n            {\n                this.dispatchEvent(clickEvent, 'tap');\n            }\n\n            this.dispatchEvent(clickEvent, 'pointertap');\n\n            this.freeEvent(clickEvent);\n        }\n\n        this.freeEvent(e);\n    }\n\n    /**\n     * Maps the upstream `pointerupoutside` event to a downstream `pointerupoutside` event, bubbling from the original\n     * `pointerdown` target to `rootTarget`.\n     *\n     * (The most specific ancestor of the `pointerdown` event and the `pointerup` event must the\n     * `{@link EventBoundary}'s root because the `pointerup` event occurred outside of the boundary.)\n     *\n     * `touchendoutside`, `mouseupoutside`, and `rightupoutside` events are fired as well for specific pointer\n     * types. The tracking data for the specific pointer is cleared of a `pressTarget`.\n     * @param from - The upstream `pointerupoutside` event.\n     */\n    protected mapPointerUpOutside(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-pointer event as a pointer event');\n            // #endif\n\n            return;\n        }\n\n        const trackingData = this.trackingData(from.pointerId);\n        const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n        const e = this.createPointerEvent(from);\n\n        if (pressTarget)\n        {\n            let currentTarget = pressTarget;\n\n            while (currentTarget)\n            {\n                e.currentTarget = currentTarget;\n\n                this.notifyTarget(e, 'pointerupoutside');\n\n                if (e.pointerType === 'touch')\n                {\n                    this.notifyTarget(e, 'touchendoutside');\n                }\n                else if (e.pointerType === 'mouse' || e.pointerType === 'pen')\n                {\n                    this.notifyTarget(e, e.button === 2 ? 'rightupoutside' : 'mouseupoutside');\n                }\n\n                currentTarget = currentTarget.parent;\n            }\n\n            delete trackingData.pressTargetsByButton[from.button];\n        }\n\n        this.freeEvent(e);\n    }\n\n    /**\n     * Maps the upstream `wheel` event to a downstream `wheel` event.\n     * @param from - The upstream `wheel` event.\n     */\n    protected mapWheel(from: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedWheelEvent))\n        {\n            // #if _DEBUG\n            warn('EventBoundary cannot map a non-wheel event as a wheel event');\n            // #endif\n\n            return;\n        }\n\n        const wheelEvent = this.createWheelEvent(from);\n\n        this.dispatchEvent(wheelEvent);\n        this.freeEvent(wheelEvent);\n    }\n\n    /**\n     * Finds the most specific event-target in the given propagation path that is still mounted in the scene graph.\n     *\n     * This is used to find the correct `pointerup` and `pointerout` target in the case that the original `pointerdown`\n     * or `pointerover` target was unmounted from the scene graph.\n     * @param propagationPath - The propagation path was valid in the past.\n     * @returns - The most specific event-target still mounted at the same location in the scene graph.\n     */\n    protected findMountedTarget(propagationPath: FederatedEventTarget[]): FederatedEventTarget\n    {\n        if (!propagationPath)\n        {\n            return null;\n        }\n\n        let currentTarget = propagationPath[0];\n\n        for (let i = 1; i < propagationPath.length; i++)\n        {\n            // Set currentTarget to the next target in the path only if it is still attached to the\n            // scene graph (i.e. parent still points to the expected ancestor).\n            if (propagationPath[i].parent === currentTarget)\n            {\n                currentTarget = propagationPath[i];\n            }\n            else\n            {\n                break;\n            }\n        }\n\n        return currentTarget;\n    }\n\n    /**\n     * Creates an event whose {@code originalEvent} is {@code from}, with an optional `type` and `target` override.\n     *\n     * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n     * @param from - The {@code originalEvent} for the returned event.\n     * @param [type=from.type] - The type of the returned event.\n     * @param target - The target of the returned event.\n     */\n    protected createPointerEvent(\n        from: FederatedPointerEvent,\n        type?: string,\n        target?: FederatedEventTarget\n    ): FederatedPointerEvent\n    {\n        const event = this.allocateEvent(FederatedPointerEvent);\n\n        this.copyPointerData(from, event);\n        this.copyMouseData(from, event);\n        this.copyData(from, event);\n\n        event.nativeEvent = from.nativeEvent;\n        event.originalEvent = from;\n        event.target = target\n            ?? this.hitTest(event.global.x, event.global.y) as FederatedEventTarget\n            ?? this._hitElements[0];\n\n        if (typeof type === 'string')\n        {\n            event.type = type;\n        }\n\n        return event;\n    }\n\n    /**\n     * Creates a wheel event whose {@code originalEvent} is {@code from}.\n     *\n     * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n     * @param from - The upstream wheel event.\n     */\n    protected createWheelEvent(from: FederatedWheelEvent): FederatedWheelEvent\n    {\n        const event = this.allocateEvent(FederatedWheelEvent);\n\n        this.copyWheelData(from, event);\n        this.copyMouseData(from, event);\n        this.copyData(from, event);\n\n        event.nativeEvent = from.nativeEvent;\n        event.originalEvent = from;\n        event.target = this.hitTest(event.global.x, event.global.y);\n\n        return event;\n    }\n\n    /**\n     * Clones the event {@code from}, with an optional {@code type} override.\n     *\n     * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n     * @param from - The event to clone.\n     * @param [type=from.type] - The type of the returned event.\n     */\n    protected clonePointerEvent(from: FederatedPointerEvent, type?: string): FederatedPointerEvent\n    {\n        const event = this.allocateEvent(FederatedPointerEvent);\n\n        event.nativeEvent = from.nativeEvent;\n        event.originalEvent = from.originalEvent;\n\n        this.copyPointerData(from, event);\n        this.copyMouseData(from, event);\n        this.copyData(from, event);\n\n        // copy propagation path for perf\n        event.target = from.target;\n        event.path = from.composedPath().slice();\n        event.type = type ?? event.type;\n\n        return event;\n    }\n\n    /**\n     * Copies wheel {@link FederatedWheelEvent} data from {@code from} into {@code to}.\n     *\n     * The following properties are copied:\n     * + deltaMode\n     * + deltaX\n     * + deltaY\n     * + deltaZ\n     * @param from\n     * @param to\n     */\n    protected copyWheelData(from: FederatedWheelEvent, to: FederatedWheelEvent): void\n    {\n        to.deltaMode = from.deltaMode;\n        to.deltaX = from.deltaX;\n        to.deltaY = from.deltaY;\n        to.deltaZ = from.deltaZ;\n    }\n\n    /**\n     * Copies pointer {@link FederatedPointerEvent} data from {@code from} into {@code to}.\n     *\n     * The following properties are copied:\n     * + pointerId\n     * + width\n     * + height\n     * + isPrimary\n     * + pointerType\n     * + pressure\n     * + tangentialPressure\n     * + tiltX\n     * + tiltY\n     * @param from\n     * @param to\n     */\n    protected copyPointerData(from: FederatedEvent, to: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedPointerEvent && to instanceof FederatedPointerEvent)) return;\n\n        to.pointerId = from.pointerId;\n        to.width = from.width;\n        to.height = from.height;\n        to.isPrimary = from.isPrimary;\n        to.pointerType = from.pointerType;\n        to.pressure = from.pressure;\n        to.tangentialPressure = from.tangentialPressure;\n        to.tiltX = from.tiltX;\n        to.tiltY = from.tiltY;\n        to.twist = from.twist;\n    }\n\n    /**\n     * Copies mouse {@link FederatedMouseEvent} data from {@code from} to {@code to}.\n     *\n     * The following properties are copied:\n     * + altKey\n     * + button\n     * + buttons\n     * + clientX\n     * + clientY\n     * + metaKey\n     * + movementX\n     * + movementY\n     * + pageX\n     * + pageY\n     * + x\n     * + y\n     * + screen\n     * + shiftKey\n     * + global\n     * @param from\n     * @param to\n     */\n    protected copyMouseData(from: FederatedEvent, to: FederatedEvent): void\n    {\n        if (!(from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent)) return;\n\n        to.altKey = from.altKey;\n        to.button = from.button;\n        to.buttons = from.buttons;\n        to.client.copyFrom(from.client);\n        to.ctrlKey = from.ctrlKey;\n        to.metaKey = from.metaKey;\n        to.movement.copyFrom(from.movement);\n        to.screen.copyFrom(from.screen);\n        to.shiftKey = from.shiftKey;\n        to.global.copyFrom(from.global);\n    }\n\n    /**\n     * Copies base {@link FederatedEvent} data from {@code from} into {@code to}.\n     *\n     * The following properties are copied:\n     * + isTrusted\n     * + srcElement\n     * + timeStamp\n     * + type\n     * @param from - The event to copy data from.\n     * @param to - The event to copy data into.\n     */\n    protected copyData(from: FederatedEvent, to: FederatedEvent): void\n    {\n        to.isTrusted = from.isTrusted;\n        to.srcElement = from.srcElement;\n        to.timeStamp = performance.now();\n        to.type = from.type;\n        to.detail = from.detail;\n        to.view = from.view;\n        to.which = from.which;\n        to.layer.copyFrom(from.layer);\n        to.page.copyFrom(from.page);\n    }\n\n    /**\n     * @param id - The pointer ID.\n     * @returns The tracking data stored for the given pointer. If no data exists, a blank\n     *  state will be created.\n     */\n    protected trackingData(id: number): TrackingData\n    {\n        if (!this.mappingState.trackingData[id])\n        {\n            this.mappingState.trackingData[id] = {\n                pressTargetsByButton: {},\n                clicksByButton: {},\n                overTarget: null\n            };\n        }\n\n        return this.mappingState.trackingData[id];\n    }\n\n    /**\n     * Allocate a specific type of event from {@link EventBoundary#eventPool this.eventPool}.\n     *\n     * This allocation is constructor-agnostic, as long as it only takes one argument - this event\n     * boundary.\n     * @param constructor - The event's constructor.\n     */\n    protected allocateEvent<T extends FederatedEvent>(\n        constructor: { new(boundary: EventBoundary): T }\n    ): T\n    {\n        if (!this.eventPool.has(constructor as any))\n        {\n            this.eventPool.set(constructor as any, []);\n        }\n\n        const event = this.eventPool.get(constructor as any).pop() as T\n            || new constructor(this);\n\n        event.eventPhase = event.NONE;\n        event.currentTarget = null;\n        event.path = null;\n        event.target = null;\n\n        return event;\n    }\n\n    /**\n     * Frees the event and puts it back into the event pool.\n     *\n     * It is illegal to reuse the event until it is allocated again, using `this.allocateEvent`.\n     *\n     * It is also advised that events not allocated from {@link EventBoundary#allocateEvent this.allocateEvent}\n     * not be freed. This is because of the possibility that the same event is freed twice, which can cause\n     * it to be allocated twice & result in overwriting.\n     * @param event - The event to be freed.\n     * @throws Error if the event is managed by another event boundary.\n     */\n    protected freeEvent<T extends FederatedEvent>(event: T): void\n    {\n        if (event.manager !== this) throw new Error('It is illegal to free an event not managed by this EventBoundary!');\n\n        const constructor = event.constructor;\n\n        if (!this.eventPool.has(constructor as any))\n        {\n            this.eventPool.set(constructor as any, []);\n        }\n\n        this.eventPool.get(constructor as any).push(event);\n    }\n\n    /**\n     * Similar to {@link EventEmitter.emit}, except it stops if the `propagationImmediatelyStopped` flag\n     * is set on the event.\n     * @param e - The event to call each listener with.\n     * @param type - The event key.\n     */\n    private _notifyListeners(e: FederatedEvent, type: string): void\n    {\n        const listeners = ((e.currentTarget as any)._events as EmitterListeners)[type];\n\n        if (!listeners) return;\n        if (!e.currentTarget.isInteractive()) return;\n\n        if ('fn' in listeners)\n        {\n            if (listeners.once) e.currentTarget.removeListener(type, listeners.fn, undefined, true);\n            listeners.fn.call(listeners.context, e);\n        }\n        else\n        {\n            for (\n                let i = 0, j = listeners.length;\n                i < j && !e.propagationImmediatelyStopped;\n                i++)\n            {\n                if (listeners[i].once) e.currentTarget.removeListener(type, listeners[i].fn, undefined, true);\n                listeners[i].fn.call(listeners[i].context, e);\n            }\n        }\n    }\n}\n","import { ExtensionType } from '../extensions/Extensions';\nimport { EventBoundary } from './EventBoundary';\nimport { EventsTicker } from './EventTicker';\nimport { FederatedPointerEvent } from './FederatedPointerEvent';\nimport { FederatedWheelEvent } from './FederatedWheelEvent';\n\nimport type { ExtensionMetadata } from '../extensions/Extensions';\nimport type { PointData } from '../maths/point/PointData';\nimport type { System } from '../rendering/renderers/shared/system/System';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { PixiTouch } from './FederatedEvent';\nimport type { EventMode } from './FederatedEventTarget';\nimport type { FederatedMouseEvent } from './FederatedMouseEvent';\n\nconst MOUSE_POINTER_ID = 1;\nconst TOUCH_TO_POINTER: Record<string, string> = {\n    touchstart: 'pointerdown',\n    touchend: 'pointerup',\n    touchendoutside: 'pointerupoutside',\n    touchmove: 'pointermove',\n    touchcancel: 'pointercancel',\n};\n\n/** @ignore */\nexport interface EventSystemOptions\n{\n    /**\n     * The default event mode mode for all display objects.\n     * This option only is available when using **@pixi/events** package\n     * (included in the **pixi.js** and **pixi.js-legacy** bundle), otherwise it will be ignored.\n     */\n    eventMode?: EventMode;\n\n    /**\n     * The event features that are enabled by the EventSystem\n     * This option only is available when using **@pixi/events** package\n     * (included in the **pixi.js** and **pixi.js-legacy** bundle), otherwise it will be ignored.\n     * @example\n     * const app = new Application({\n     *   view: canvas,\n     *   events: {\n     *     move: true,\n     *     globalMove: false,\n     *     click: true,\n     *     wheel: true,\n     *   },\n     * });\n     */\n    eventFeatures?: Partial<EventSystemFeatures>\n}\n\n/**\n * The event features that are enabled by the EventSystem\n * This option only is available when using **@pixi/events** package\n * (included in the **pixi.js** and **pixi.js-legacy** bundle), otherwise it will be ignored.\n * @since 7.2.0\n */\ninterface EventSystemFeatures\n{\n    /**\n     * Enables pointer events associated with pointer movement:\n     * - `pointermove` / `mousemove` / `touchmove`\n     * - `pointerout` / `mouseout`\n     * - `pointerover` / `mouseover`\n     */\n    move: boolean;\n    // eslint-disable-next-line jsdoc/multiline-blocks\n    /**\n     * Enables global pointer move events:\n     * - `globalpointermove`\n     * - `globalmousemove`\n     * - `globaltouchemove`\n     */\n    globalMove: boolean;\n    /**\n     * Enables pointer events associated with clicking:\n     * - `pointerup` / `mouseup` / `touchend` / 'rightup'\n     * - `pointerupoutside` / `mouseupoutside` / `touchendoutside` / 'rightupoutside'\n     * - `pointerdown` / 'mousedown' / `touchstart` / 'rightdown'\n     * - `click` / `tap`\n     */\n    click: boolean;\n    /** - Enables wheel events. */\n    wheel: boolean;\n}\n\n/** The system for handling UI events. */\nexport class EventSystem implements System<EventSystemOptions>\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'events',\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.CanvasSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        priority: -1,\n    };\n\n    /**\n     * The event features that are enabled by the EventSystem\n     * This option only is available when using **@pixi/events** package\n     * (included in the **pixi.js** and **pixi.js-legacy** bundle), otherwise it will be ignored.\n     * @since 7.2.0\n     */\n    public static defaultEventFeatures: EventSystemFeatures = {\n        move: true,\n        globalMove: true,\n        click: true,\n        wheel: true,\n    };\n\n    private static _defaultEventMode: EventMode;\n\n    /**\n     * The default interaction mode for all display objects.\n     * @see Container.eventMode\n     * @type {EventMode}\n     * @readonly\n     * @since 7.2.0\n     */\n    public static get defaultEventMode()\n    {\n        return this._defaultEventMode;\n    }\n\n    /**\n     * The {@link EventBoundary} for the stage.\n     *\n     * The {@link EventBoundary#rootTarget rootTarget} of this root boundary is automatically set to\n     * the last rendered object before any event processing is initiated. This means the main scene\n     * needs to be rendered atleast once before UI events will start propagating.\n     *\n     * The root boundary should only be changed during initialization. Otherwise, any state held by the\n     * event boundary may be lost (like hovered & pressed Containers).\n     */\n    public readonly rootBoundary: EventBoundary;\n\n    /** Does the device support touch events https://www.w3.org/TR/touch-events/ */\n    public readonly supportsTouchEvents = 'ontouchstart' in globalThis;\n\n    /** Does the device support pointer events https://www.w3.org/Submission/pointer-events/ */\n    public readonly supportsPointerEvents = !!globalThis.PointerEvent;\n\n    /**\n     * Should default browser actions automatically be prevented.\n     * Does not apply to pointer events for backwards compatibility\n     * preventDefault on pointer events stops mouse events from firing\n     * Thus, for every pointer event, there will always be either a mouse of touch event alongside it.\n     * @default true\n     */\n    public autoPreventDefault: boolean;\n\n    /**\n     * Dictionary of how different cursor modes are handled. Strings are handled as CSS cursor\n     * values, objects are handled as dictionaries of CSS values for {@code domElement},\n     * and functions are called instead of changing the CSS.\n     * Default CSS cursor values are provided for 'default' and 'pointer' modes.\n     */\n    public cursorStyles: Record<string, string | ((mode: string) => void) | CSSStyleDeclaration>;\n\n    /**\n     * The DOM element to which the root event listeners are bound. This is automatically set to\n     * the renderer's {@link Renderer#view view}.\n     */\n    public domElement: HTMLElement = null;\n\n    /** The resolution used to convert between the DOM client space into world space. */\n    public resolution = 1;\n\n    /** The renderer managing this {@link EventSystem}. */\n    public renderer: Renderer;\n\n    /**\n     * The event features that are enabled by the EventSystem\n     * This option only is available when using **@pixi/events** package\n     * (included in the **pixi.js** and **pixi.js-legacy** bundle), otherwise it will be ignored.\n     * @since 7.2.0\n     * @example\n     * const app = new Application()\n     * app.renderer.events.features.globalMove = false\n     *\n     * // to override all features use Object.assign\n     * Object.assign(app.renderer.events.features, {\n     *  move: false,\n     *  globalMove: false,\n     *  click: false,\n     *  wheel: false,\n     * })\n     */\n    public readonly features: EventSystemFeatures;\n\n    private _currentCursor: string;\n    private readonly _rootPointerEvent: FederatedPointerEvent;\n    private readonly _rootWheelEvent: FederatedWheelEvent;\n    private _eventsAdded: boolean;\n\n    /**\n     * @param {Renderer} renderer\n     */\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n        this.rootBoundary = new EventBoundary(null);\n        EventsTicker.init(this);\n\n        this.autoPreventDefault = true;\n        this._eventsAdded = false;\n\n        this._rootPointerEvent = new FederatedPointerEvent(null);\n        this._rootWheelEvent = new FederatedWheelEvent(null);\n\n        this.cursorStyles = {\n            default: 'inherit',\n            pointer: 'pointer',\n        };\n\n        this.features = new Proxy({ ...EventSystem.defaultEventFeatures }, {\n            set: (target, key, value) =>\n            {\n                if (key === 'globalMove')\n                {\n                    this.rootBoundary.enableGlobalMoveEvents = value;\n                }\n                target[key as keyof EventSystemFeatures] = value;\n\n                return true;\n            }\n        });\n\n        this._onPointerDown = this._onPointerDown.bind(this);\n        this._onPointerMove = this._onPointerMove.bind(this);\n        this._onPointerUp = this._onPointerUp.bind(this);\n        this._onPointerOverOut = this._onPointerOverOut.bind(this);\n        this.onWheel = this.onWheel.bind(this);\n    }\n\n    /**\n     * Runner init called, view is available at this point.\n     * @ignore\n     */\n    public init(options: EventSystemOptions): void\n    {\n        const { canvas, resolution } = this.renderer;\n\n        this.setTargetElement(canvas as HTMLCanvasElement);\n        this.resolution = resolution;\n        EventSystem._defaultEventMode = options.eventMode ?? 'passive';\n        Object.assign(this.features, options.eventFeatures ?? {});\n        this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove;\n    }\n\n    /**\n     * Handle changing resolution.\n     * @ignore\n     */\n    public resolutionChange(resolution: number): void\n    {\n        this.resolution = resolution;\n    }\n\n    /** Destroys all event listeners and detaches the renderer. */\n    public destroy(): void\n    {\n        this.setTargetElement(null);\n        this.renderer = null;\n        this._currentCursor = null;\n    }\n\n    /**\n     * Sets the current cursor mode, handling any callbacks or CSS style changes.\n     * @param mode - cursor mode, a key from the cursorStyles dictionary\n     */\n    public setCursor(mode: string): void\n    {\n        mode = mode || 'default';\n        let applyStyles = true;\n\n        // offscreen canvas does not support setting styles, but cursor modes can be functions,\n        // in order to handle pixi rendered cursors, so we can't bail\n        if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas)\n        {\n            applyStyles = false;\n        }\n        // if the mode didn't actually change, bail early\n        if (this._currentCursor === mode)\n        {\n            return;\n        }\n        this._currentCursor = mode;\n        const style = this.cursorStyles[mode];\n\n        // only do things if there is a cursor style for it\n        if (style)\n        {\n            switch (typeof style)\n            {\n                case 'string':\n                    // string styles are handled as cursor CSS\n                    if (applyStyles)\n                    {\n                        this.domElement.style.cursor = style;\n                    }\n                    break;\n                case 'function':\n                    // functions are just called, and passed the cursor mode\n                    style(mode);\n                    break;\n                case 'object':\n                    // if it is an object, assume that it is a dictionary of CSS styles,\n                    // apply it to the interactionDOMElement\n                    if (applyStyles)\n                    {\n                        Object.assign(this.domElement.style, style);\n                    }\n                    break;\n            }\n        }\n        else if (applyStyles && typeof mode === 'string' && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode))\n        {\n            // if it mode is a string (not a Symbol) and cursorStyles doesn't have any entry\n            // for the mode, then assume that the dev wants it to be CSS for the cursor.\n            this.domElement.style.cursor = mode;\n        }\n    }\n\n    /**\n     * The global pointer event.\n     * Useful for getting the pointer position without listening to events.\n     * @since 7.2.0\n     */\n    public get pointer(): Readonly<FederatedPointerEvent>\n    {\n        return this._rootPointerEvent;\n    }\n\n    /**\n     * Event handler for pointer down events on {@link EventSystem#domElement this.domElement}.\n     * @param nativeEvent - The native mouse/pointer/touch event.\n     */\n    private _onPointerDown(nativeEvent: MouseEvent | PointerEvent | TouchEvent): void\n    {\n        if (!this.features.click) return;\n        this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n\n        const events = this._normalizeToPointerData(nativeEvent);\n\n        /*\n         * No need to prevent default on natural pointer events, as there are no side effects\n         * Normalized events, however, may have the double mousedown/touchstart issue on the native android browser,\n         * so still need to be prevented.\n         */\n\n        // Guaranteed that there will be at least one event in events, and all events must have the same pointer type\n\n        if (this.autoPreventDefault && (events[0] as any).isNormalized)\n        {\n            const cancelable = nativeEvent.cancelable || !('cancelable' in nativeEvent);\n\n            if (cancelable)\n            {\n                nativeEvent.preventDefault();\n            }\n        }\n\n        for (let i = 0, j = events.length; i < j; i++)\n        {\n            const nativeEvent = events[i];\n            const federatedEvent = this._bootstrapEvent(this._rootPointerEvent, nativeEvent);\n\n            this.rootBoundary.mapEvent(federatedEvent);\n        }\n\n        this.setCursor(this.rootBoundary.cursor);\n    }\n\n    /**\n     * Event handler for pointer move events on on {@link EventSystem#domElement this.domElement}.\n     * @param nativeEvent - The native mouse/pointer/touch events.\n     */\n    private _onPointerMove(nativeEvent: MouseEvent | PointerEvent | TouchEvent): void\n    {\n        if (!this.features.move) return;\n        this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n\n        EventsTicker.pointerMoved();\n\n        const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n\n        for (let i = 0, j = normalizedEvents.length; i < j; i++)\n        {\n            const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n\n            this.rootBoundary.mapEvent(event);\n        }\n\n        this.setCursor(this.rootBoundary.cursor);\n    }\n\n    /**\n     * Event handler for pointer up events on {@link EventSystem#domElement this.domElement}.\n     * @param nativeEvent - The native mouse/pointer/touch event.\n     */\n    private _onPointerUp(nativeEvent: MouseEvent | PointerEvent | TouchEvent): void\n    {\n        if (!this.features.click) return;\n        this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n\n        let target = nativeEvent.target;\n\n        // if in shadow DOM use composedPath to access target\n        if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0)\n        {\n            target = nativeEvent.composedPath()[0];\n        }\n\n        const outside = target !== this.domElement ? 'outside' : '';\n        const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n\n        for (let i = 0, j = normalizedEvents.length; i < j; i++)\n        {\n            const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n\n            event.type += outside;\n\n            this.rootBoundary.mapEvent(event);\n        }\n\n        this.setCursor(this.rootBoundary.cursor);\n    }\n\n    /**\n     * Event handler for pointer over & out events on {@link EventSystem#domElement this.domElement}.\n     * @param nativeEvent - The native mouse/pointer/touch event.\n     */\n    private _onPointerOverOut(nativeEvent: MouseEvent | PointerEvent | TouchEvent): void\n    {\n        if (!this.features.click) return;\n        this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n\n        const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n\n        for (let i = 0, j = normalizedEvents.length; i < j; i++)\n        {\n            const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n\n            this.rootBoundary.mapEvent(event);\n        }\n\n        this.setCursor(this.rootBoundary.cursor);\n    }\n\n    /**\n     * Passive handler for `wheel` events on {@link EventSystem.domElement this.domElement}.\n     * @param nativeEvent - The native wheel event.\n     */\n    protected onWheel(nativeEvent: WheelEvent): void\n    {\n        if (!this.features.wheel) return;\n        const wheelEvent = this.normalizeWheelEvent(nativeEvent);\n\n        this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n        this.rootBoundary.mapEvent(wheelEvent);\n    }\n\n    /**\n     * Sets the {@link EventSystem#domElement domElement} and binds event listeners.\n     *\n     * To deregister the current DOM element without setting a new one, pass {@code null}.\n     * @param element - The new DOM element.\n     */\n    public setTargetElement(element: HTMLElement): void\n    {\n        this._removeEvents();\n        this.domElement = element;\n        EventsTicker.domElement = element;\n        this._addEvents();\n    }\n\n    /** Register event listeners on {@link Renderer#domElement this.domElement}. */\n    private _addEvents(): void\n    {\n        if (this._eventsAdded || !this.domElement)\n        {\n            return;\n        }\n\n        EventsTicker.addTickerListener();\n\n        const style = this.domElement.style as CrossCSSStyleDeclaration;\n\n        if (style)\n        {\n            if ((globalThis.navigator as any).msPointerEnabled)\n            {\n                style.msContentZooming = 'none';\n                style.msTouchAction = 'none';\n            }\n            else if (this.supportsPointerEvents)\n            {\n                style.touchAction = 'none';\n            }\n        }\n\n        /*\n         * These events are added first, so that if pointer events are normalized, they are fired\n         * in the same order as non-normalized events. ie. pointer event 1st, mouse / touch 2nd\n         */\n        if (this.supportsPointerEvents)\n        {\n            globalThis.document.addEventListener('pointermove', this._onPointerMove, true);\n            this.domElement.addEventListener('pointerdown', this._onPointerDown, true);\n            // pointerout is fired in addition to pointerup (for touch events) and pointercancel\n            // we already handle those, so for the purposes of what we do in onPointerOut, we only\n            // care about the pointerleave event\n            this.domElement.addEventListener('pointerleave', this._onPointerOverOut, true);\n            this.domElement.addEventListener('pointerover', this._onPointerOverOut, true);\n            // globalThis.addEventListener('pointercancel', this.onPointerCancel, true);\n            globalThis.addEventListener('pointerup', this._onPointerUp, true);\n        }\n        else\n        {\n            globalThis.document.addEventListener('mousemove', this._onPointerMove, true);\n            this.domElement.addEventListener('mousedown', this._onPointerDown, true);\n            this.domElement.addEventListener('mouseout', this._onPointerOverOut, true);\n            this.domElement.addEventListener('mouseover', this._onPointerOverOut, true);\n            globalThis.addEventListener('mouseup', this._onPointerUp, true);\n\n            if (this.supportsTouchEvents)\n            {\n                this.domElement.addEventListener('touchstart', this._onPointerDown, true);\n                // this.domElement.addEventListener('touchcancel', this.onPointerCancel, true);\n                this.domElement.addEventListener('touchend', this._onPointerUp, true);\n                this.domElement.addEventListener('touchmove', this._onPointerMove, true);\n            }\n        }\n\n        this.domElement.addEventListener('wheel', this.onWheel, {\n            passive: true,\n            capture: true,\n        });\n\n        this._eventsAdded = true;\n    }\n\n    /** Unregister event listeners on {@link EventSystem#domElement this.domElement}. */\n    private _removeEvents(): void\n    {\n        if (!this._eventsAdded || !this.domElement)\n        {\n            return;\n        }\n\n        EventsTicker.removeTickerListener();\n\n        const style = this.domElement.style as CrossCSSStyleDeclaration;\n\n        if ((globalThis.navigator as any).msPointerEnabled)\n        {\n            style.msContentZooming = '';\n            style.msTouchAction = '';\n        }\n        else if (this.supportsPointerEvents)\n        {\n            style.touchAction = '';\n        }\n\n        if (this.supportsPointerEvents)\n        {\n            globalThis.document.removeEventListener('pointermove', this._onPointerMove, true);\n            this.domElement.removeEventListener('pointerdown', this._onPointerDown, true);\n            this.domElement.removeEventListener('pointerleave', this._onPointerOverOut, true);\n            this.domElement.removeEventListener('pointerover', this._onPointerOverOut, true);\n            // globalThis.removeEventListener('pointercancel', this.onPointerCancel, true);\n            globalThis.removeEventListener('pointerup', this._onPointerUp, true);\n        }\n        else\n        {\n            globalThis.document.removeEventListener('mousemove', this._onPointerMove, true);\n            this.domElement.removeEventListener('mousedown', this._onPointerDown, true);\n            this.domElement.removeEventListener('mouseout', this._onPointerOverOut, true);\n            this.domElement.removeEventListener('mouseover', this._onPointerOverOut, true);\n            globalThis.removeEventListener('mouseup', this._onPointerUp, true);\n\n            if (this.supportsTouchEvents)\n            {\n                this.domElement.removeEventListener('touchstart', this._onPointerDown, true);\n                // this.domElement.removeEventListener('touchcancel', this.onPointerCancel, true);\n                this.domElement.removeEventListener('touchend', this._onPointerUp, true);\n                this.domElement.removeEventListener('touchmove', this._onPointerMove, true);\n            }\n        }\n\n        this.domElement.removeEventListener('wheel', this.onWheel, true);\n\n        this.domElement = null;\n        this._eventsAdded = false;\n    }\n\n    /**\n     * Maps x and y coords from a DOM object and maps them correctly to the PixiJS view. The\n     * resulting value is stored in the point. This takes into account the fact that the DOM\n     * element could be scaled and positioned anywhere on the screen.\n     * @param  {PointData} point - the point that the result will be stored in\n     * @param  {number} x - the x coord of the position to map\n     * @param  {number} y - the y coord of the position to map\n     */\n    public mapPositionToPoint(point: PointData, x: number, y: number): void\n    {\n        const rect = this.domElement.isConnected\n            ? this.domElement.getBoundingClientRect()\n            : {\n                x: 0,\n                y: 0,\n                width: (this.domElement as any).width,\n                height: (this.domElement as any).height,\n                left: 0,\n                top: 0\n            };\n\n        const resolutionMultiplier = 1.0 / this.resolution;\n\n        point.x = ((x - rect.left) * ((this.domElement as any).width / rect.width)) * resolutionMultiplier;\n        point.y = ((y - rect.top) * ((this.domElement as any).height / rect.height)) * resolutionMultiplier;\n    }\n\n    /**\n     * Ensures that the original event object contains all data that a regular pointer event would have\n     * @param event - The original event data from a touch or mouse event\n     * @returns An array containing a single normalized pointer event, in the case of a pointer\n     *  or mouse event, or a multiple normalized pointer events if there are multiple changed touches\n     */\n    private _normalizeToPointerData(event: TouchEvent | MouseEvent | PointerEvent): PointerEvent[]\n    {\n        const normalizedEvents = [];\n\n        if (this.supportsTouchEvents && event instanceof TouchEvent)\n        {\n            for (let i = 0, li = event.changedTouches.length; i < li; i++)\n            {\n                const touch = event.changedTouches[i] as PixiTouch;\n\n                if (typeof touch.button === 'undefined') touch.button = 0;\n                if (typeof touch.buttons === 'undefined') touch.buttons = 1;\n                if (typeof touch.isPrimary === 'undefined')\n                {\n                    touch.isPrimary = event.touches.length === 1 && event.type === 'touchstart';\n                }\n                if (typeof touch.width === 'undefined') touch.width = touch.radiusX || 1;\n                if (typeof touch.height === 'undefined') touch.height = touch.radiusY || 1;\n                if (typeof touch.tiltX === 'undefined') touch.tiltX = 0;\n                if (typeof touch.tiltY === 'undefined') touch.tiltY = 0;\n                if (typeof touch.pointerType === 'undefined') touch.pointerType = 'touch';\n                if (typeof touch.pointerId === 'undefined') touch.pointerId = touch.identifier || 0;\n                if (typeof touch.pressure === 'undefined') touch.pressure = touch.force || 0.5;\n                if (typeof touch.twist === 'undefined') touch.twist = 0;\n                if (typeof touch.tangentialPressure === 'undefined') touch.tangentialPressure = 0;\n                // TODO: Remove these, as layerX/Y is not a standard, is deprecated, has uneven\n                // support, and the fill ins are not quite the same\n                // offsetX/Y might be okay, but is not the same as clientX/Y when the canvas's top\n                // left is not 0,0 on the page\n                if (typeof touch.layerX === 'undefined') touch.layerX = touch.offsetX = touch.clientX;\n                if (typeof touch.layerY === 'undefined') touch.layerY = touch.offsetY = touch.clientY;\n\n                // mark the touch as normalized, just so that we know we did it\n                touch.isNormalized = true;\n                touch.type = event.type;\n\n                normalizedEvents.push(touch);\n            }\n        }\n        // apparently PointerEvent subclasses MouseEvent, so yay\n        else if (!globalThis.MouseEvent\n            || (event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))))\n        {\n            const tempEvent = event as PixiPointerEvent;\n\n            if (typeof tempEvent.isPrimary === 'undefined') tempEvent.isPrimary = true;\n            if (typeof tempEvent.width === 'undefined') tempEvent.width = 1;\n            if (typeof tempEvent.height === 'undefined') tempEvent.height = 1;\n            if (typeof tempEvent.tiltX === 'undefined') tempEvent.tiltX = 0;\n            if (typeof tempEvent.tiltY === 'undefined') tempEvent.tiltY = 0;\n            if (typeof tempEvent.pointerType === 'undefined') tempEvent.pointerType = 'mouse';\n            if (typeof tempEvent.pointerId === 'undefined') tempEvent.pointerId = MOUSE_POINTER_ID;\n            if (typeof tempEvent.pressure === 'undefined') tempEvent.pressure = 0.5;\n            if (typeof tempEvent.twist === 'undefined') tempEvent.twist = 0;\n            if (typeof tempEvent.tangentialPressure === 'undefined') tempEvent.tangentialPressure = 0;\n\n            // mark the mouse event as normalized, just so that we know we did it\n            tempEvent.isNormalized = true;\n\n            normalizedEvents.push(tempEvent);\n        }\n        else\n        {\n            normalizedEvents.push(event);\n        }\n\n        return normalizedEvents as PointerEvent[];\n    }\n\n    /**\n     * Normalizes the native {@link https://w3c.github.io/uievents/#interface-wheelevent WheelEvent}.\n     *\n     * The returned {@link FederatedWheelEvent} is a shared instance. It will not persist across\n     * multiple native wheel events.\n     * @param nativeEvent - The native wheel event that occurred on the canvas.\n     * @returns A federated wheel event.\n     */\n    protected normalizeWheelEvent(nativeEvent: WheelEvent): FederatedWheelEvent\n    {\n        const event = this._rootWheelEvent;\n\n        this._transferMouseData(event, nativeEvent);\n\n        // When WheelEvent is triggered by scrolling with mouse wheel, reading WheelEvent.deltaMode\n        // before deltaX/deltaY/deltaZ on Firefox will result in WheelEvent.DOM_DELTA_LINE (1),\n        // while reading WheelEvent.deltaMode after deltaX/deltaY/deltaZ on Firefox or reading\n        // in any order on other browsers will result in WheelEvent.DOM_DELTA_PIXEL (0).\n        // Therefore, we need to read WheelEvent.deltaMode after deltaX/deltaY/deltaZ in order to\n        // make its behavior more consistent across browsers.\n        // @see https://github.com/pixijs/pixijs/issues/8970\n        event.deltaX = nativeEvent.deltaX;\n        event.deltaY = nativeEvent.deltaY;\n        event.deltaZ = nativeEvent.deltaZ;\n        event.deltaMode = nativeEvent.deltaMode;\n\n        this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n        event.global.copyFrom(event.screen);\n        event.offset.copyFrom(event.screen);\n\n        event.nativeEvent = nativeEvent;\n        event.type = nativeEvent.type;\n\n        return event;\n    }\n\n    /**\n     * Normalizes the `nativeEvent` into a federateed {@link FederatedPointerEvent}.\n     * @param event\n     * @param nativeEvent\n     */\n    private _bootstrapEvent(event: FederatedPointerEvent, nativeEvent: PointerEvent): FederatedPointerEvent\n    {\n        event.originalEvent = null;\n        event.nativeEvent = nativeEvent;\n\n        event.pointerId = nativeEvent.pointerId;\n        event.width = nativeEvent.width;\n        event.height = nativeEvent.height;\n        event.isPrimary = nativeEvent.isPrimary;\n        event.pointerType = nativeEvent.pointerType;\n        event.pressure = nativeEvent.pressure;\n        event.tangentialPressure = nativeEvent.tangentialPressure;\n        event.tiltX = nativeEvent.tiltX;\n        event.tiltY = nativeEvent.tiltY;\n        event.twist = nativeEvent.twist;\n        this._transferMouseData(event, nativeEvent);\n\n        this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n        event.global.copyFrom(event.screen);// global = screen for top-level\n        event.offset.copyFrom(event.screen);// EventBoundary recalculates using its rootTarget\n\n        event.isTrusted = nativeEvent.isTrusted;\n        if (event.type === 'pointerleave')\n        {\n            event.type = 'pointerout';\n        }\n        if (event.type.startsWith('mouse'))\n        {\n            event.type = event.type.replace('mouse', 'pointer');\n        }\n        if (event.type.startsWith('touch'))\n        {\n            event.type = TOUCH_TO_POINTER[event.type] || event.type;\n        }\n\n        return event;\n    }\n\n    /**\n     * Transfers base & mouse event data from the {@code nativeEvent} to the federated event.\n     * @param event\n     * @param nativeEvent\n     */\n    private _transferMouseData(event: FederatedMouseEvent, nativeEvent: MouseEvent): void\n    {\n        event.isTrusted = nativeEvent.isTrusted;\n        event.srcElement = nativeEvent.srcElement;\n        event.timeStamp = performance.now();\n        event.type = nativeEvent.type;\n\n        event.altKey = nativeEvent.altKey;\n        event.button = nativeEvent.button;\n        event.buttons = nativeEvent.buttons;\n        event.client.x = nativeEvent.clientX;\n        event.client.y = nativeEvent.clientY;\n        event.ctrlKey = nativeEvent.ctrlKey;\n        event.metaKey = nativeEvent.metaKey;\n        event.movement.x = nativeEvent.movementX;\n        event.movement.y = nativeEvent.movementY;\n        event.page.x = nativeEvent.pageX;\n        event.page.y = nativeEvent.pageY;\n        event.relatedTarget = null;\n        event.shiftKey = nativeEvent.shiftKey;\n    }\n}\n\ninterface CrossCSSStyleDeclaration extends CSSStyleDeclaration\n{\n    msContentZooming: string;\n    msTouchAction: string;\n}\n\ninterface PixiPointerEvent extends PointerEvent\n{\n    isPrimary: boolean;\n    width: number;\n    height: number;\n    tiltX: number;\n    tiltY: number;\n    pointerType: string;\n    pointerId: number;\n    pressure: number;\n    twist: number;\n    tangentialPressure: number;\n    isNormalized: boolean;\n    type: string;\n}\n","import { EventSystem } from './EventSystem';\nimport { FederatedEvent } from './FederatedEvent';\n\nimport type EventEmitter from 'eventemitter3';\nimport type { AllFederatedEventMap } from './FederatedEventMap';\nimport type { FederatedPointerEvent } from './FederatedPointerEvent';\nimport type { FederatedWheelEvent } from './FederatedWheelEvent';\n\nexport type Cursor = 'auto'\n| 'default'\n| 'none'\n| 'context-menu'\n| 'help'\n| 'pointer'\n| 'progress'\n| 'wait'\n| 'cell'\n| 'crosshair'\n| 'text'\n| 'vertical-text'\n| 'alias'\n| 'copy'\n| 'move'\n| 'no-drop'\n| 'not-allowed'\n| 'e-resize'\n| 'n-resize'\n| 'ne-resize'\n| 'nw-resize'\n| 's-resize'\n| 'se-resize'\n| 'sw-resize'\n| 'w-resize'\n| 'ns-resize'\n| 'ew-resize'\n| 'nesw-resize'\n| 'col-resize'\n| 'nwse-resize'\n| 'row-resize'\n| 'all-scroll'\n| 'zoom-in'\n| 'zoom-out'\n| 'grab'\n| 'grabbing';\n\n// @ignore - This is documented elsewhere.\nexport interface IHitArea\n{\n    contains(x: number, y: number): boolean;\n}\n\n/** Function type for handlers, e.g., onclick */\nexport type FederatedEventHandler<T= FederatedPointerEvent> = (event: T) => void;\n\n/**\n * The type of interaction a Container can be. For more information on values and their meaning,\n * see {@link Container.eventMode Container's eventMode property}.\n * @since 7.2.0\n */\nexport type EventMode = 'none' | 'passive' | 'auto' | 'static' | 'dynamic';\n\nexport interface FederatedOptions\n{\n    /** The cursor preferred when the mouse pointer is hovering over. */\n    cursor?: Cursor | string;\n    /** The mode of interaction for this object */\n    eventMode?: EventMode;\n    /** Whether this event target should fire UI events. */\n    interactive?: boolean\n    /** Whether this event target has any children that need UI events. This can be used optimize event propagation. */\n    interactiveChildren?: boolean;\n    /** The hit-area specifies the area for which pointer events should be captured by this event target. */\n    hitArea?: IHitArea | null;\n    /** Handler for 'click' event */\n    onclick?: FederatedEventHandler | null;\n    /** Handler for 'mousedown' event */\n    onmousedown?: FederatedEventHandler | null;\n    /** Handler for 'mouseenter' event */\n    onmouseenter?: FederatedEventHandler | null;\n    /** Handler for 'mouseleave' event */\n    onmouseleave?: FederatedEventHandler | null;\n    /** Handler for 'mousemove' event */\n    onmousemove?: FederatedEventHandler | null;\n    /** Handler for 'globalmousemove' event */\n    onglobalmousemove?: FederatedEventHandler | null;\n    /** Handler for 'mouseout' event */\n    onmouseout?: FederatedEventHandler | null;\n    /** Handler for 'mouseover' event */\n    onmouseover?: FederatedEventHandler | null;\n    /** Handler for 'mouseup' event */\n    onmouseup?: FederatedEventHandler | null;\n    /** Handler for 'mouseupoutside' event */\n    onmouseupoutside?: FederatedEventHandler | null;\n    /** Handler for 'pointercancel' event */\n    onpointercancel?: FederatedEventHandler | null;\n    /** Handler for 'pointerdown' event */\n    onpointerdown?: FederatedEventHandler | null;\n    /** Handler for 'pointerenter' event */\n    onpointerenter?: FederatedEventHandler | null;\n    /** Handler for 'pointerleave' event */\n    onpointerleave?: FederatedEventHandler | null;\n    /** Handler for 'pointermove' event */\n    onpointermove?: FederatedEventHandler | null;\n    /** Handler for 'globalpointermove' event */\n    onglobalpointermove?: FederatedEventHandler | null;\n    /** Handler for 'pointerout' event */\n    onpointerout?: FederatedEventHandler | null;\n    /** Handler for 'pointerover' event */\n    onpointerover?: FederatedEventHandler | null;\n    /** Handler for 'pointertap' event */\n    onpointertap?: FederatedEventHandler | null;\n    /** Handler for 'pointerup' event */\n    onpointerup?: FederatedEventHandler | null;\n    /** Handler for 'pointerupoutside' event */\n    onpointerupoutside?: FederatedEventHandler | null;\n    /** Handler for 'rightclick' event */\n    onrightclick?: FederatedEventHandler | null;\n    /** Handler for 'rightdown' event */\n    onrightdown?: FederatedEventHandler | null;\n    /** Handler for 'rightup' event */\n    onrightup?: FederatedEventHandler | null;\n    /** Handler for 'rightupoutside' event */\n    onrightupoutside?: FederatedEventHandler | null;\n    /** Handler for 'tap' event */\n    ontap?: FederatedEventHandler | null;\n    /** Handler for 'touchcancel' event */\n    ontouchcancel?: FederatedEventHandler | null;\n    /** Handler for 'touchend' event */\n    ontouchend?: FederatedEventHandler | null;\n    /** Handler for 'touchendoutside' event */\n    ontouchendoutside?: FederatedEventHandler | null;\n    /** Handler for 'touchmove' event */\n    ontouchmove?: FederatedEventHandler | null;\n    /** Handler for 'globaltouchmove' event */\n    onglobaltouchmove?: FederatedEventHandler | null;\n    /** Handler for 'touchstart' event */\n    ontouchstart?: FederatedEventHandler | null;\n    /** Handler for 'wheel' event */\n    onwheel?: FederatedEventHandler<FederatedWheelEvent> | null;\n}\n\n/** Describes the shape for a {@link FederatedEvent}'s' `eventTarget`. */\nexport interface FederatedEventTarget extends EventEmitter, EventTarget, Required<FederatedOptions>\n{\n    /** The parent of this event target. */\n    readonly parent?: FederatedEventTarget;\n\n    /** The children of this event target. */\n    readonly children?: ReadonlyArray<FederatedEventTarget>;\n\n    _internalEventMode: EventMode;\n\n    /** Returns true if the Container has interactive 'static' or 'dynamic' */\n    isInteractive: () => boolean;\n\n    // In Angular projects, zone.js is monkey patching the `EventTarget`\n    // by adding its own `removeAllListeners(event?: string): void;` method,\n    // so we have to override this signature when extending both `EventTarget` and `utils.EventEmitter`\n    // to make it compatible with Angular projects\n    // @see https://github.com/pixijs/pixijs/issues/8794\n\n    /** Remove all listeners, or those of the specified event. */\n    removeAllListeners(event?: string | symbol): this;\n}\n\ntype AddListenerOptions = boolean | AddEventListenerOptions;\ntype RemoveListenerOptions = boolean | EventListenerOptions;\n\nexport interface IFederatedContainer\n    extends Omit<FederatedEventTarget, 'parent' | 'children' | keyof EventEmitter | 'cursor'>\n{\n    addEventListener<K extends keyof AllFederatedEventMap>(\n        type: K,\n        listener: (e: AllFederatedEventMap[K]) => any,\n        options?: AddListenerOptions\n    ): void;\n    addEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: AddListenerOptions\n    ): void;\n    removeEventListener<K extends keyof AllFederatedEventMap>(\n        type: K,\n        listener: (e: AllFederatedEventMap[K]) => any,\n        options?: RemoveListenerOptions\n    ): void;\n    removeEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: RemoveListenerOptions\n    ): void;\n}\n\nexport const FederatedContainer: IFederatedContainer = {\n\n    /**\n     * Property-based event handler for the `click` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onclick = (event) => {\n     *  //some function here that happens on click\n     * }\n     */\n    onclick: null,\n\n    /**\n     * Property-based event handler for the `mousedown` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmousedown = (event) => {\n     *  //some function here that happens on mousedown\n     * }\n     */\n    onmousedown: null,\n\n    /**\n     * Property-based event handler for the `mouseenter` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseenter = (event) => {\n     *  //some function here that happens on mouseenter\n     * }\n     */\n    onmouseenter: null,\n\n    /**\n     * Property-based event handler for the `mouseleave` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseleave = (event) => {\n     *  //some function here that happens on mouseleave\n     * }\n     */\n    onmouseleave: null,\n\n    /**\n     * Property-based event handler for the `mousemove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmousemove = (event) => {\n     *  //some function here that happens on mousemove\n     * }\n     */\n    onmousemove: null,\n\n    /**\n     * Property-based event handler for the `globalmousemove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onglobalmousemove = (event) => {\n     *  //some function here that happens on globalmousemove\n     * }\n     */\n    onglobalmousemove: null,\n\n    /**\n     * Property-based event handler for the `mouseout` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseout = (event) => {\n     *  //some function here that happens on mouseout\n     * }\n     */\n    onmouseout: null,\n\n    /**\n     * Property-based event handler for the `mouseover` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseover = (event) => {\n     *  //some function here that happens on mouseover\n     * }\n     */\n    onmouseover:  null,\n\n    /**\n     * Property-based event handler for the `mouseup` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseup = (event) => {\n     *  //some function here that happens on mouseup\n     * }\n     */\n    onmouseup:  null,\n\n    /**\n     * Property-based event handler for the `mouseupoutside` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onmouseupoutside = (event) => {\n     *  //some function here that happens on mouseupoutside\n     * }\n     */\n    onmouseupoutside:  null,\n\n    /**\n     * Property-based event handler for the `pointercancel` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointercancel = (event) => {\n     *  //some function here that happens on pointercancel\n     * }\n     */\n    onpointercancel:  null,\n\n    /**\n     * Property-based event handler for the `pointerdown` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerdown = (event) => {\n     *  //some function here that happens on pointerdown\n     * }\n     */\n    onpointerdown:  null,\n\n    /**\n     * Property-based event handler for the `pointerenter` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerenter = (event) => {\n     *  //some function here that happens on pointerenter\n     * }\n     */\n    onpointerenter:  null,\n\n    /**\n     * Property-based event handler for the `pointerleave` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerleave = (event) => {\n     *  //some function here that happens on pointerleave\n     * }\n     */\n    onpointerleave:  null,\n\n    /**\n     * Property-based event handler for the `pointermove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointermove = (event) => {\n     *  //some function here that happens on pointermove\n     * }\n     */\n    onpointermove:  null,\n\n    /**\n     * Property-based event handler for the `globalpointermove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onglobalpointermove = (event) => {\n     *  //some function here that happens on globalpointermove\n     * }\n     */\n    onglobalpointermove:  null,\n\n    /**\n     * Property-based event handler for the `pointerout` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerout = (event) => {\n     *  //some function here that happens on pointerout\n     * }\n     */\n    onpointerout:  null,\n\n    /**\n     * Property-based event handler for the `pointerover` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerover = (event) => {\n     *  //some function here that happens on pointerover\n     * }\n     */\n    onpointerover:  null,\n\n    /**\n     * Property-based event handler for the `pointertap` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointertap = (event) => {\n     *  //some function here that happens on pointertap\n     * }\n     */\n    onpointertap:  null,\n\n    /**\n     * Property-based event handler for the `pointerup` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerup = (event) => {\n     *  //some function here that happens on pointerup\n     * }\n     */\n    onpointerup:  null,\n\n    /**\n     * Property-based event handler for the `pointerupoutside` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onpointerupoutside = (event) => {\n     *  //some function here that happens on pointerupoutside\n     * }\n     */\n    onpointerupoutside:  null,\n\n    /**\n     * Property-based event handler for the `rightclick` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onrightclick = (event) => {\n     *  //some function here that happens on rightclick\n     * }\n     */\n    onrightclick:  null,\n\n    /**\n     * Property-based event handler for the `rightdown` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onrightdown = (event) => {\n     *  //some function here that happens on rightdown\n     * }\n     */\n    onrightdown:  null,\n\n    /**\n     * Property-based event handler for the `rightup` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onrightup = (event) => {\n     *  //some function here that happens on rightup\n     * }\n     */\n    onrightup:  null,\n\n    /**\n     * Property-based event handler for the `rightupoutside` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onrightupoutside = (event) => {\n     *  //some function here that happens on rightupoutside\n     * }\n     */\n    onrightupoutside:  null,\n\n    /**\n     * Property-based event handler for the `tap` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontap = (event) => {\n     *  //some function here that happens on tap\n     * }\n     */\n    ontap:  null,\n\n    /**\n     * Property-based event handler for the `touchcancel` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontouchcancel = (event) => {\n     *  //some function here that happens on touchcancel\n     * }\n     */\n    ontouchcancel:  null,\n\n    /**\n     * Property-based event handler for the `touchend` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontouchend = (event) => {\n     *  //some function here that happens on touchend\n     * }\n     */\n    ontouchend:  null,\n\n    /**\n     * Property-based event handler for the `touchendoutside` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontouchendoutside = (event) => {\n     *  //some function here that happens on touchendoutside\n     * }\n     */\n    ontouchendoutside:  null,\n\n    /**\n     * Property-based event handler for the `touchmove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontouchmove = (event) => {\n     *  //some function here that happens on touchmove\n     * }\n     */\n    ontouchmove:  null,\n\n    /**\n     * Property-based event handler for the `globaltouchmove` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onglobaltouchmove = (event) => {\n     *  //some function here that happens on globaltouchmove\n     * }\n     */\n    onglobaltouchmove:  null,\n\n    /**\n     * Property-based event handler for the `touchstart` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.ontouchstart = (event) => {\n     *  //some function here that happens on touchstart\n     * }\n     */\n    ontouchstart:  null,\n\n    /**\n     * Property-based event handler for the `wheel` event.\n     * @memberof Container#\n     * @default null\n     * @example\n     * this.onwheel = (event) => {\n     *  //some function here that happens on wheel\n     * }\n     */\n    onwheel:  null,\n    /**\n     * Enable interaction events for the Container. Touch, pointer and mouse\n     * @memberof Container#\n     */\n    get interactive()\n    {\n        return this.eventMode === 'dynamic' || this.eventMode === 'static';\n    },\n    set interactive(value: boolean)\n    {\n        this.eventMode = value ? 'static' : 'passive';\n    },\n    /**\n     * @ignore\n     */\n    _internalEventMode: undefined,\n    /**\n     * Enable interaction events for the Container. Touch, pointer and mouse.\n     * This now replaces the `interactive` property.\n     * There are 5 types of interaction settings:\n     * - `'none'`: Ignores all interaction events, even on its children.\n     * - `'passive'`: Does not emit events and ignores all hit testing on itself and non-interactive children.\n     * Interactive children will still emit events.\n     * - `'auto'`: Does not emit events but is hit tested if parent is interactive. Same as `interactive = false` in v7\n     * - `'static'`: Emit events and is hit tested. Same as `interaction = true` in v7\n     * - `'dynamic'`: Emits events and is hit tested but will also receive mock interaction events fired from a ticker to\n     * allow for interaction when the mouse isn't moving\n     * @example\n     * import { Sprite } from 'pixi.js';\n     *\n     * const sprite = new Sprite(texture);\n     * sprite.eventMode = 'static';\n     * sprite.on('tap', (event) => {\n     *     // Handle event\n     * });\n     * @memberof Container#\n     * @since 7.2.0\n     */\n    get eventMode()\n    {\n        return this._internalEventMode ?? EventSystem.defaultEventMode;\n    },\n    set eventMode(value)\n    {\n        this._internalEventMode = value;\n    },\n\n    /**\n     * Determines if the container is interactive or not\n     * @returns {boolean} Whether the container is interactive or not\n     * @memberof Container#\n     * @since 7.2.0\n     * @example\n     * import { Sprite } from 'pixi.js';\n     * const sprite = new Sprite(texture);\n     * sprite.eventMode = 'static';\n     * sprite.isInteractive(); // true\n     *\n     * sprite.eventMode = 'dynamic';\n     * sprite.isInteractive(); // true\n     *\n     * sprite.eventMode = 'none';\n     * sprite.isInteractive(); // false\n     *\n     * sprite.eventMode = 'passive';\n     * sprite.isInteractive(); // false\n     *\n     * sprite.eventMode = 'auto';\n     * sprite.isInteractive(); // false\n     */\n    isInteractive(): boolean\n    {\n        return this.eventMode === 'static' || this.eventMode === 'dynamic';\n    },\n\n    /**\n     * Determines if the children to the container can be clicked/touched\n     * Setting this to false allows PixiJS to bypass a recursive `hitTest` function\n     * @memberof Container#\n     */\n    interactiveChildren: true,\n\n    /**\n     * Interaction shape. Children will be hit first, then this shape will be checked.\n     * Setting this will cause this shape to be checked in hit tests rather than the container's bounds.\n     * @example\n     * import { Rectangle, Sprite } from 'pixi.js';\n     *\n     * const sprite = new Sprite(texture);\n     * sprite.interactive = true;\n     * sprite.hitArea = new Rectangle(0, 0, 100, 100);\n     * @member {IHitArea}\n     * @memberof Container#\n     */\n    hitArea: null,\n\n    /**\n     * Unlike `on` or `addListener` which are methods from EventEmitter, `addEventListener`\n     * seeks to be compatible with the DOM's `addEventListener` with support for options.\n     * **IMPORTANT:** _Only_ available if using the `@pixi/events` package.\n     * @memberof Container\n     * @param type - The type of event to listen to.\n     * @param listener - The listener callback or object.\n     * @param options - Listener options, used for capture phase.\n     * @example\n     * // Tell the user whether they did a single, double, triple, or nth click.\n     * button.addEventListener('click', {\n     *     handleEvent(e): {\n     *         let prefix;\n     *\n     *         switch (e.detail) {\n     *             case 1: prefix = 'single'; break;\n     *             case 2: prefix = 'double'; break;\n     *             case 3: prefix = 'triple'; break;\n     *             default: prefix = e.detail + 'th'; break;\n     *         }\n     *\n     *         console.log('That was a ' + prefix + 'click');\n     *     }\n     * });\n     *\n     * // But skip the first click!\n     * button.parent.addEventListener('click', function blockClickOnce(e) {\n     *     e.stopImmediatePropagation();\n     *     button.parent.removeEventListener('click', blockClickOnce, true);\n     * }, {\n     *     capture: true,\n     * });\n     */\n    addEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: AddListenerOptions\n    )\n    {\n        const capture = (typeof options === 'boolean' && options)\n            || (typeof options === 'object' && options.capture);\n        const context = typeof listener === 'function' ? undefined : listener;\n\n        type = capture ? `${type}capture` : type;\n        listener = typeof listener === 'function' ? listener : listener.handleEvent;\n\n        (this as unknown as EventEmitter).on(type, listener, context);\n    },\n\n    /**\n     * Unlike `off` or `removeListener` which are methods from EventEmitter, `removeEventListener`\n     * seeks to be compatible with the DOM's `removeEventListener` with support for options.\n     * **IMPORTANT:** _Only_ available if using the `@pixi/events` package.\n     * @memberof Container\n     * @param type - The type of event the listener is bound to.\n     * @param listener - The listener callback or object.\n     * @param options - The original listener options. This is required to deregister a capture phase listener.\n     */\n    removeEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: RemoveListenerOptions\n    )\n    {\n        const capture = (typeof options === 'boolean' && options)\n            || (typeof options === 'object' && options.capture);\n        const context = typeof listener === 'function' ? undefined : listener;\n\n        type = capture ? `${type}capture` : type;\n        listener = typeof listener === 'function' ? listener : listener.handleEvent;\n\n        (this as unknown as EventEmitter).off(type, listener, context);\n    },\n\n    /**\n     * Dispatch the event on this {@link Container} using the event's {@link EventBoundary}.\n     *\n     * The target of the event is set to `this` and the `defaultPrevented` flag is cleared before dispatch.\n     *\n     * **IMPORTANT:** _Only_ available if using the `@pixi/events` package.\n     * @memberof Container\n     * @param e - The event to dispatch.\n     * @returns Whether the {@link FederatedEvent.preventDefault preventDefault}() method was not invoked.\n     * @example\n     * // Reuse a click event!\n     * button.dispatchEvent(clickEvent);\n     */\n    dispatchEvent(e: Event): boolean\n    {\n        if (!(e instanceof FederatedEvent))\n        {\n            throw new Error('Container cannot propagate events outside of the Federated Events API');\n        }\n\n        e.defaultPrevented = false;\n        e.path = null;\n        e.target = this as unknown as FederatedEventTarget;\n        e.manager.dispatchEvent(e);\n\n        return !e.defaultPrevented;\n    }\n};\n","import { extensions } from '../extensions/Extensions';\nimport { Container } from '../scene/container/Container';\nimport { EventSystem } from './EventSystem';\nimport { FederatedContainer } from './FederatedEventTarget';\n\nextensions.add(EventSystem);\nContainer.mixin(FederatedContainer);\n","import { Rectangle } from '../maths/shapes/Rectangle';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture';\n\nimport type { PointData } from '../maths/point/PointData';\nimport type { TextureSource } from '../rendering/renderers/shared/texture/sources/TextureSource';\nimport type { BindableTexture } from '../rendering/renderers/shared/texture/Texture';\nimport type { TextureBorders } from '../rendering/renderers/shared/texture/TextureLayout';\nimport type { Dict } from '../utils/types';\n\n/** Represents the JSON data for a spritesheet atlas. */\nexport interface SpritesheetFrameData\n{\n    frame: {\n        x: number;\n        y: number;\n        w: number;\n        h: number;\n    };\n    trimmed?: boolean;\n    rotated?: boolean;\n    sourceSize?: {\n        w: number;\n        h: number;\n    };\n    spriteSourceSize?: {\n        h?: number;\n        w?: number;\n        x: number;\n        y: number;\n    };\n    anchor?: PointData;\n    borders?: TextureBorders\n}\n\n/** Atlas format. */\nexport interface SpritesheetData\n{\n    frames: Dict<SpritesheetFrameData>;\n    animations?: Dict<string[]>;\n    meta: {\n        app?: string;\n        format?: string;\n        frameTags?: {\n            from: number;\n            name: string;\n            to: number;\n            direction: string;\n        }[];\n        image?: string;\n        layers?: {\n            blendMode: string;\n            name: string;\n            opacity: number;\n        }[];\n        scale: string;\n        size?: {\n            h: number;\n            w: number;\n        };\n        slices?: {\n            color: string;\n            name: string;\n            keys: {\n                frame: number,\n                bounds: {\n                    x: number;\n                    y: number;\n                    w: number;\n                    h: number;\n                };\n            }[];\n        }[];\n        // eslint-disable-next-line camelcase\n        related_multi_packs?: string[];\n        version?: string;\n    };\n}\n\n/**\n * Utility class for maintaining reference to a collection\n * of Textures on a single Spritesheet.\n *\n * To access a sprite sheet from your code you may pass its JSON data file to Pixi's loader:\n *\n * ```js\n * import { Assets } from 'pixi.js';\n *\n * const sheet = await Assets.load('images/spritesheet.json');\n * ```\n *\n * Alternately, you may circumvent the loader by instantiating the Spritesheet directly:\n *\n * ```js\n * import { Spritesheet } from 'pixi.js';\n *\n * const sheet = new Spritesheet(texture, spritesheetData);\n * await sheet.parse();\n * console.log('Spritesheet ready to use!');\n * ```\n *\n * With the `sheet.textures` you can create Sprite objects, and `sheet.animations` can be used to create an AnimatedSprite.\n *\n * Here's an example of a sprite sheet JSON data file:\n * ```json\n * {\n *     \"frames\": {\n *         \"enemy1.png\":\n *         {\n *             \"frame\": {\"x\":103,\"y\":1,\"w\":32,\"h\":32},\n *             \"spriteSourceSize\": {\"x\":0,\"y\":0,\"w\":32,\"h\":32},\n *             \"sourceSize\": {\"w\":32,\"h\":32},\n *             \"anchor\": {\"x\":16,\"y\":16}\n *         },\n *         \"enemy2.png\":\n *         {\n *             \"frame\": {\"x\":103,\"y\":35,\"w\":32,\"h\":32},\n *             \"spriteSourceSize\": {\"x\":0,\"y\":0,\"w\":32,\"h\":32},\n *             \"sourceSize\": {\"w\":32,\"h\":32},\n *             \"anchor\": {\"x\":16,\"y\":16}\n *         },\n *         \"button.png\":\n *         {\n *             \"frame\": {\"x\":1,\"y\":1,\"w\":100,\"h\":100},\n *             \"spriteSourceSize\": {\"x\":0,\"y\":0,\"w\":100,\"h\":100},\n *             \"sourceSize\": {\"w\":100,\"h\":100},\n *             \"anchor\": {\"x\":0,\"y\":0},\n *             \"borders\": {\"left\":35,\"top\":35,\"right\":35,\"bottom\":35}\n *         }\n *     },\n *\n *     \"animations\": {\n *         \"enemy\": [\"enemy1.png\",\"enemy2.png\"]\n *     },\n *\n *     \"meta\": {\n *         \"image\": \"sheet.png\",\n *         \"format\": \"RGBA8888\",\n *         \"size\": {\"w\":136,\"h\":102},\n *         \"scale\": \"1\"\n *     }\n * }\n * ```\n * Sprite sheets can be packed using tools like {@link https://codeandweb.com/texturepacker|TexturePacker},\n * {@link https://renderhjs.net/shoebox/|Shoebox} or {@link https://github.com/krzysztof-o/spritesheet.js|Spritesheet.js}.\n * Default anchor points (see {@link Texture#defaultAnchor}), default 9-slice borders\n * (see {@link Texture#defaultBorders}) and grouping of animation sprites are currently only\n * supported by TexturePacker.\n */\nexport class Spritesheet<S extends SpritesheetData = SpritesheetData>\n{\n    /** The maximum number of Textures to build per process. */\n    public static readonly BATCH_SIZE = 1000;\n\n    /** For multi-packed spritesheets, this contains a reference to all the other spritesheets it depends on. */\n    public linkedSheets: Spritesheet<S>[] = [];\n\n    /** Reference to ths source texture. */\n    public textureSource: TextureSource;\n\n    /**\n     * A map containing all textures of the sprite sheet.\n     * Can be used to create a {@link Sprite|Sprite}:\n     * @example\n     * import { Sprite } from 'pixi.js';\n     *\n     * new Sprite(sheet.textures['image.png']);\n     */\n    public textures: Record<keyof S['frames'], Texture>;\n\n    /**\n     * A map containing the textures for each animation.\n     * Can be used to create an {@link AnimatedSprite|AnimatedSprite}:\n     * @example\n     * import { AnimatedSprite } from 'pixi.js';\n     *\n     * new AnimatedSprite(sheet.animations['anim_name']);\n     */\n    public animations: Record<keyof S['animations'], Texture[]>;\n\n    /**\n     * Reference to the original JSON data.\n     * @type {object}\n     */\n    public data: S;\n\n    /** The resolution of the spritesheet. */\n    public resolution: number;\n\n    /**\n     * Reference to original source image from the Loader. This reference is retained so we\n     * can destroy the Texture later on. It is never used internally.\n     */\n    private _texture: Texture;\n\n    /**\n     * Map of spritesheet frames.\n     * @type {object}\n     */\n    private _frames: S['frames'];\n\n    /** Collection of frame names. */\n    private _frameKeys: (keyof S['frames'])[];\n\n    /** Current batch index being processed. */\n    private _batchIndex: number;\n\n    /**\n     * Callback when parse is completed.\n     * @type {Function}\n     */\n    private _callback: (textures: Dict<Texture>) => void;\n\n    /**\n     * @param texture - Reference to the source BaseTexture object.\n     * @param {object} data - Spritesheet image data.\n     */\n    constructor(texture: BindableTexture, data: S)\n    {\n        this._texture = texture instanceof Texture ? texture : null;\n        this.textureSource = texture.source;\n        this.textures = {} as Record<keyof S['frames'], Texture>;\n        this.animations = {} as Record<keyof S['animations'], Texture[]>;\n        this.data = data;\n\n        const metaResolution = parseFloat(data.meta.scale);\n\n        if (metaResolution)\n        {\n            this.resolution = metaResolution;\n            texture.source.resolution = this.resolution;\n        }\n        else\n        {\n            this.resolution = texture.source._resolution;\n        }\n\n        this._frames = this.data.frames;\n        this._frameKeys = Object.keys(this._frames);\n        this._batchIndex = 0;\n        this._callback = null;\n    }\n\n    /**\n     * Parser spritesheet from loaded data. This is done asynchronously\n     * to prevent creating too many Texture within a single process.\n     * @method Spritesheet#parse\n     */\n    public parse(): Promise<Record<string, Texture>>\n    {\n        return new Promise((resolve) =>\n        {\n            this._callback = resolve;\n            this._batchIndex = 0;\n\n            if (this._frameKeys.length <= Spritesheet.BATCH_SIZE)\n            {\n                this._processFrames(0);\n                this._processAnimations();\n                this._parseComplete();\n            }\n            else\n            {\n                this._nextBatch();\n            }\n        });\n    }\n\n    /**\n     * Process a batch of frames\n     * @param initialFrameIndex - The index of frame to start.\n     */\n    private _processFrames(initialFrameIndex: number): void\n    {\n        let frameIndex = initialFrameIndex;\n        const maxFrames = Spritesheet.BATCH_SIZE;\n\n        while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length)\n        {\n            const i = this._frameKeys[frameIndex];\n            const data = this._frames[i];\n            const rect = data.frame;\n\n            if (rect)\n            {\n                let frame = null;\n                let trim = null;\n                const sourceSize = data.trimmed !== false && data.sourceSize\n                    ? data.sourceSize : data.frame;\n\n                const orig = new Rectangle(\n                    0,\n                    0,\n                    Math.floor(sourceSize.w) / this.resolution,\n                    Math.floor(sourceSize.h) / this.resolution\n                );\n\n                if (data.rotated)\n                {\n                    frame = new Rectangle(\n                        Math.floor(rect.x) / this.resolution,\n                        Math.floor(rect.y) / this.resolution,\n                        Math.floor(rect.h) / this.resolution,\n                        Math.floor(rect.w) / this.resolution\n                    );\n                }\n                else\n                {\n                    frame = new Rectangle(\n                        Math.floor(rect.x) / this.resolution,\n                        Math.floor(rect.y) / this.resolution,\n                        Math.floor(rect.w) / this.resolution,\n                        Math.floor(rect.h) / this.resolution\n                    );\n                }\n\n                //  Check to see if the sprite is trimmed\n                if (data.trimmed !== false && data.spriteSourceSize)\n                {\n                    trim = new Rectangle(\n                        Math.floor(data.spriteSourceSize.x) / this.resolution,\n                        Math.floor(data.spriteSourceSize.y) / this.resolution,\n                        Math.floor(rect.w) / this.resolution,\n                        Math.floor(rect.h) / this.resolution\n                    );\n\n                    trim.x /= this.textureSource.width;\n                    trim.y /= this.textureSource.height;\n                    trim.width /= this.textureSource.width;\n                    trim.height /= this.textureSource.height;\n                }\n\n                // normalise...\n                frame.x /= this.textureSource.width;\n                frame.y /= this.textureSource.height;\n                frame.width /= this.textureSource.width;\n                frame.height /= this.textureSource.height;\n\n                orig.x /= this.textureSource.width;\n                orig.y /= this.textureSource.height;\n                orig.width /= this.textureSource.width;\n                orig.height /= this.textureSource.height;\n\n                this.textures[i] = new Texture({\n                    source: this.textureSource,\n                    layout: {\n                        frame,\n                        orig,\n                        trim,\n                        rotate: data.rotated ? 2 : 0,\n                        defaultAnchor: data.anchor,\n                        defaultBorders: data.borders\n                    },\n                    label: i.toString(),\n                });\n            }\n\n            frameIndex++;\n        }\n    }\n\n    /** Parse animations config. */\n    private _processAnimations(): void\n    {\n        const animations = this.data.animations || {};\n\n        for (const animName in animations)\n        {\n            this.animations[animName as keyof S['animations']] = [];\n            for (let i = 0; i < animations[animName].length; i++)\n            {\n                const frameName = animations[animName][i];\n\n                this.animations[animName].push(this.textures[frameName]);\n            }\n        }\n    }\n\n    /** The parse has completed. */\n    private _parseComplete(): void\n    {\n        const callback = this._callback;\n\n        this._callback = null;\n        this._batchIndex = 0;\n        callback.call(this, this.textures);\n    }\n\n    /** Begin the next batch of textures. */\n    private _nextBatch(): void\n    {\n        this._processFrames(this._batchIndex * Spritesheet.BATCH_SIZE);\n        this._batchIndex++;\n        setTimeout(() =>\n        {\n            if (this._batchIndex * Spritesheet.BATCH_SIZE < this._frameKeys.length)\n            {\n                this._nextBatch();\n            }\n            else\n            {\n                this._processAnimations();\n                this._parseComplete();\n            }\n        }, 0);\n    }\n\n    /**\n     * Destroy Spritesheet and don't use after this.\n     * @param {boolean} [destroyBase=false] - Whether to destroy the base texture as well\n     */\n    public destroy(destroyBase = false): void\n    {\n        for (const i in this.textures)\n        {\n            this.textures[i].destroy();\n        }\n        this._frames = null;\n        this._frameKeys = null;\n        this.data = null;\n        this.textures = null;\n        if (destroyBase)\n        {\n            this._texture?.destroy();\n            this.textureSource.destroy();\n        }\n        this._texture = null;\n        this.textureSource = null;\n        this.linkedSheets = [];\n    }\n}\n","import { LoaderParserPriority } from '../assets/loader/parsers/LoaderParser';\nimport { Resolver } from '../assets/resolver/Resolver';\nimport { copySearchParams } from '../assets/utils/copySearchParams';\nimport { ExtensionType } from '../extensions/Extensions';\nimport { path } from '../utils/path';\nimport { Spritesheet } from './Spritesheet';\n\nimport type { AssetExtension } from '../assets/AssetExtension';\nimport type { Loader } from '../assets/loader/Loader';\nimport type { ResolvedAsset, UnresolvedAsset } from '../assets/types';\nimport type { Texture } from '../rendering/renderers/shared/texture/Texture';\nimport type { SpritesheetData } from './Spritesheet';\n\nexport interface SpriteSheetJson extends SpritesheetData\n{\n    meta: {\n        image: string;\n        scale: string;\n        // eslint-disable-next-line camelcase\n        related_multi_packs?: string[];\n    };\n}\n\nconst validImages = ['jpg', 'png', 'jpeg', 'avif', 'webp'];\n\nfunction getCacheableAssets(keys: string[], asset: Spritesheet, ignoreMultiPack: boolean)\n{\n    const out: Record<string, any> = {};\n\n    keys.forEach((key: string) =>\n    {\n        out[key] = asset;\n    });\n\n    Object.keys(asset.textures).forEach((key) =>\n    {\n        out[key] = asset.textures[key];\n    });\n\n    if (!ignoreMultiPack)\n    {\n        const basePath = path.dirname(keys[0]);\n\n        asset.linkedSheets.forEach((item: Spritesheet, i) =>\n        {\n            const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i]}`], item, true);\n\n            Object.assign(out, out2);\n        });\n    }\n\n    return out;\n}\n\n/**\n * Asset extension for loading spritesheets.\n * @type {AssetExtension}\n */\nexport const spritesheetAsset = {\n    extension: ExtensionType.Asset,\n    /** Handle the caching of the related Spritesheet Textures */\n    cache: {\n        test: (asset: Spritesheet) => asset instanceof Spritesheet,\n        getCacheableAssets: (keys: string[], asset: Spritesheet) => getCacheableAssets(keys, asset, false),\n    },\n    /** Resolve the the resolution of the asset. */\n    resolver: {\n        test: (value: string): boolean =>\n        {\n            const tempURL = value.split('?')[0];\n            const split = tempURL.split('.');\n            const extension = split.pop();\n            const format = split.pop();\n\n            return extension === 'json' && validImages.includes(format);\n        },\n        parse: (value: string): UnresolvedAsset =>\n        {\n            const split = value.split('.');\n\n            return {\n                resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? '1'),\n                format: split[split.length - 2],\n                src: value,\n            };\n        },\n    },\n    /**\n     * Loader plugin that parses sprite sheets!\n     * once the JSON has been loaded this checks to see if the JSON is spritesheet data.\n     * If it is, we load the spritesheets image and parse the data into Spritesheet\n     * All textures in the sprite sheet are then added to the cache\n     * @ignore\n     */\n    loader: {\n        name: 'spritesheetLoader',\n\n        extension: {\n            type: ExtensionType.LoadParser,\n            priority: LoaderParserPriority.Normal,\n        },\n\n        async testParse(asset: SpriteSheetJson, options: ResolvedAsset): Promise<boolean>\n        {\n            return (path.extname(options.src).toLowerCase() === '.json' && !!asset.frames);\n        },\n\n        async parse(asset: SpriteSheetJson, options: ResolvedAsset, loader: Loader): Promise<Spritesheet>\n        {\n            let basePath = path.dirname(options.src);\n\n            if (basePath && basePath.lastIndexOf('/') !== (basePath.length - 1))\n            {\n                basePath += '/';\n            }\n\n            let imagePath = basePath + asset.meta.image;\n\n            imagePath = copySearchParams(imagePath, options.src);\n\n            const assets = await loader.load<Texture>([imagePath]);\n            const texture = assets[imagePath];\n            const spritesheet = new Spritesheet(\n                texture.source,\n                asset,\n            );\n\n            await spritesheet.parse();\n\n            // Check and add the multi atlas\n            // Heavily influenced and based on https://github.com/rocket-ua/pixi-tps-loader/blob/master/src/ResourceLoader.js\n            // eslint-disable-next-line camelcase\n            const multiPacks = asset?.meta?.related_multi_packs;\n\n            if (Array.isArray(multiPacks))\n            {\n                const promises: Promise<Spritesheet<SpriteSheetJson>>[] = [];\n\n                for (const item of multiPacks)\n                {\n                    if (typeof item !== 'string')\n                    {\n                        continue;\n                    }\n\n                    let itemUrl = basePath + item;\n\n                    // Check if the file wasn't already added as multipack\n                    if (options.data?.ignoreMultiPack)\n                    {\n                        continue;\n                    }\n\n                    itemUrl = copySearchParams(itemUrl, options.src);\n\n                    promises.push(loader.load<Spritesheet<SpriteSheetJson>>({\n                        src: itemUrl,\n                        data: {\n                            ignoreMultiPack: true,\n                        }\n                    }));\n                }\n\n                const res = await Promise.all(promises);\n\n                spritesheet.linkedSheets = res;\n                res.forEach((item) =>\n                {\n                    item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => (sp !== item)));\n                });\n            }\n\n            return spritesheet;\n        },\n\n        unload(spritesheet: Spritesheet)\n        {\n            spritesheet.destroy(true);\n        },\n    },\n} as AssetExtension<Spritesheet | SpriteSheetJson>;\n","import { extensions } from '../extensions/Extensions';\nimport { spritesheetAsset } from './spritesheetAsset';\n\nextensions.add(spritesheetAsset);\n","import type { Point } from '../../../../maths/point/Point';\nimport type { Bounds } from '../../../../scene/container/bounds/Bounds';\nimport type { DestroyOptions } from '../../../../scene/container/destroyTypes';\n\nexport interface ViewObserver\n{\n    onViewUpdate: () => void;\n}\n\nexport const emptyViewObserver: ViewObserver = {\n    onViewUpdate: () => { /* empty */ },\n};\n\nexport interface View\n{\n    uid: number;\n\n    batched: boolean;\n\n    /**\n     * an identifier that is used to identify the type of system that will be used to render this renderable\n     * eg, 'sprite' will use the sprite system (based on the systems name\n     */\n    renderPipeId: string;\n\n    owner: ViewObserver;\n\n    /**\n     * this is an int because it is packed directly into an attribute in the shader\n     * @internal\n     */\n    roundPixels?: 0 | 1;\n\n    addBounds: (bounds: Bounds) => void;\n    containsPoint: (point: Point) => boolean;\n\n    destroy(options?: DestroyOptions): void;\n}\n\n","import type { ObservablePoint } from '../maths/point/ObservablePoint';\nimport type { Texture } from '../rendering/renderers/shared/texture/Texture';\n\nexport function updateQuadBounds(\n    bounds: [number, number, number, number],\n    anchor: ObservablePoint,\n    texture: Texture,\n    padding: number\n)\n{\n    const textureSource = texture._source;\n\n    const layout = texture.layout;\n\n    const orig = layout.orig;\n    const trim = layout.trim;\n\n    const textureSourceWidth = textureSource.width;\n    const textureSourceHeight = textureSource.height;\n\n    const width = textureSourceWidth * orig.width;\n    const height = textureSourceHeight * orig.height;\n\n    if (trim)\n    {\n        const sourceWidth = textureSourceWidth * trim.width;\n        const sourceHeight = textureSourceHeight * trim.height;\n\n        bounds[0] = (trim.x * textureSourceWidth) - (anchor._x * width) - padding;\n        bounds[1] = bounds[0] + sourceWidth;\n\n        bounds[2] = (trim.y * textureSourceHeight) - (anchor._y * height) - padding;\n        bounds[3] = bounds[2] + sourceHeight;\n    }\n\n    else\n    {\n        bounds[0] = (-anchor._x * width) - padding;\n        bounds[1] = bounds[0] + width;\n\n        bounds[2] = (-anchor._y * height) - padding;\n        bounds[3] = bounds[2] + height;\n    }\n\n    return;\n}\n","import { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { emptyViewObserver } from '../../rendering/renderers/shared/view/View';\nimport { uid } from '../../utils/data/uid';\nimport { updateQuadBounds } from '../../utils/updateQuadBounds';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { View, ViewObserver } from '../../rendering/renderers/shared/view/View';\nimport type { Bounds } from '../container/bounds/Bounds';\nimport type { TextureDestroyOptions, TypeOrBool } from '../container/destroyTypes';\n\nexport class SpriteView implements View\n{\n    public readonly renderPipeId = 'sprite';\n    public readonly owner: ViewObserver = emptyViewObserver;\n    public readonly uid: number = uid('spriteView');\n    public batched = true;\n    public anchor: ObservablePoint;\n\n    // sprite specific..\n    /** @internal */\n    public _texture: Texture;\n    /** @internal */\n    public _didUpdate = false;\n\n    private _bounds: [number, number, number, number] = [0, 1, 0, 0];\n    private _sourceBounds: [number, number, number, number] = [0, 1, 0, 0];\n    private _boundsDirty = true;\n    private _sourceBoundsDirty = true;\n\n    public roundPixels: 0 | 1 = 0;\n\n    constructor(texture: Texture)\n    {\n        this.anchor = new ObservablePoint(\n            this,\n            texture.layout.defaultAnchor?.x || 0,\n            texture.layout.defaultAnchor?.y || 0,\n        );\n\n        this.texture = texture;\n    }\n\n    set texture(value: Texture)\n    {\n        value ||= Texture.EMPTY;\n\n        if (this._texture === value) return;\n\n        if (this._texture)\n        {\n            this._texture.off('update', this.onUpdate, this);\n        }\n\n        value.on('update', this.onUpdate, this);\n\n        this._texture = value;\n\n        this.onUpdate();\n    }\n\n    get texture()\n    {\n        return this._texture;\n    }\n\n    get bounds()\n    {\n        if (this._boundsDirty)\n        {\n            this._updateBounds();\n            this._boundsDirty = false;\n        }\n\n        return this._bounds;\n    }\n\n    get sourceBounds()\n    {\n        if (this._sourceBoundsDirty)\n        {\n            this._updateSourceBounds();\n            this._sourceBoundsDirty = false;\n        }\n\n        return this._sourceBounds;\n    }\n\n    // passed local space..\n    public containsPoint(point: PointData)\n    {\n        const width = this._texture.frameWidth;\n        const height = this._texture.frameHeight;\n        const x1 = -width * this.anchor.x;\n        let y1 = 0;\n\n        if (point.x >= x1 && point.x < x1 + width)\n        {\n            y1 = -height * this.anchor.y;\n\n            if (point.y >= y1 && point.y < y1 + height)\n            {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        const trim = this._texture._layout.trim;\n\n        if (trim)\n        {\n            const sourceBounds = this.sourceBounds;\n\n            bounds.addFrame(sourceBounds[0], sourceBounds[2], sourceBounds[1], sourceBounds[3]);\n        }\n        else\n        {\n            const _bounds = this.bounds;\n\n            bounds.addFrame(_bounds[0], _bounds[2], _bounds[1], _bounds[3]);\n        }\n    }\n\n    /**\n     * @internal\n     */\n    public onUpdate()\n    {\n        this._didUpdate = true;\n\n        this._sourceBoundsDirty = this._boundsDirty = true;\n\n        this.owner.onViewUpdate();\n    }\n\n    private _updateBounds()\n    {\n        updateQuadBounds(this._bounds, this.anchor, this._texture, 0);\n    }\n\n    private _updateSourceBounds()\n    {\n        const anchor = this.anchor;\n        const texture = this._texture;\n\n        const textureSource = texture._source;\n        const layout = texture.layout;\n\n        const orig = layout.orig;\n\n        const sourceBounds = this._sourceBounds;\n\n        const width = textureSource.width * orig.width;\n        const height = textureSource.height * orig.height;\n\n        sourceBounds[1] = -anchor._x * width;\n        sourceBounds[0] = sourceBounds[1] + width;\n\n        sourceBounds[3] = -anchor._y * height;\n        sourceBounds[2] = sourceBounds[3] + height;\n    }\n\n    /**\n     * Destroys this sprite renderable and optionally its texture.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the renderable as well\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the renderable as well\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false)\n    {\n        this.anchor = null;\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            this._texture.destroy(destroyTextureSource);\n        }\n\n        this._texture = null;\n        this._bounds = null;\n        this._sourceBounds = null;\n    }\n}\n","import { Cache } from '../../assets/cache/Cache';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { Container } from '../container/Container';\nimport { SpriteView } from './SpriteView';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { PointLike } from '../../maths/point/PointLike';\nimport type { ContainerOptions } from '../container/Container';\n\nexport interface SpriteOptions extends Partial<ContainerOptions<SpriteView>>\n{\n    texture?: Texture;\n    anchor?: PointLike\n}\n\nexport class Sprite extends Container<SpriteView>\n{\n    public static from(id: Texture | string)\n    {\n        if (typeof id === 'string')\n        {\n            return new Sprite(Cache.get(id));\n        }\n\n        return new Sprite(id);\n    }\n\n    constructor(options: SpriteOptions | Texture = Texture.EMPTY)\n    {\n        if (options instanceof Texture)\n        {\n            options = { texture: options };\n        }\n\n        const { texture, ...rest } = options;\n\n        super({\n            view: new SpriteView(texture ?? Texture.EMPTY),\n            label: 'Sprite',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    get anchor(): PointLike\n    {\n        return this.view.anchor;\n    }\n\n    set anchor(value: PointData)\n    {\n        this.view.anchor.x = value.x;\n        this.view.anchor.y = value.y;\n    }\n\n    get texture()\n    {\n        return this.view.texture;\n    }\n\n    set texture(value: Texture)\n    {\n        this.view.texture = value;\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n\n","import { Bounds } from '../../../scene/container/bounds/Bounds';\nimport { getGlobalBounds } from '../../../scene/container/bounds/getGlobalBounds';\n\nimport type { Container } from '../../../scene/container/Container';\n\nconst tempBounds = new Bounds();\n\nexport function addMaskBounds(mask: Container, bounds: Bounds, skipUpdateTransform: boolean): void\n{\n    const boundsToMask = tempBounds;\n\n    mask.measurable = true;\n\n    getGlobalBounds(mask, skipUpdateTransform, boundsToMask);\n\n    bounds.addBoundsMask(boundsToMask);\n\n    mask.measurable = false;\n}\n\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Bounds } from '../../../scene/container/bounds/Bounds';\nimport { getLocalBounds } from '../../../scene/container/bounds/getLocalBounds';\nimport { updateLocalTransform } from '../../../scene/container/utils/updateLocalTransform';\nimport { warn } from '../../../utils/logging/warn';\n\nimport type { Container } from '../../../scene/container/Container';\n\nexport function addMaskLocalBounds(mask: Container, bounds: Bounds, localRoot: Container): void\n{\n    const boundsToMask = new Bounds();\n\n    mask.measurable = true;\n\n    const relativeMask = getMatrixRelativeToParent(mask, localRoot, new Matrix());\n\n    getLocalBounds(mask, boundsToMask, relativeMask);\n\n    // // transform bounds to\n    mask.measurable = false;\n\n    bounds.addBoundsMask(boundsToMask);\n}\n\nexport function getMatrixRelativeToParent(target: Container, root: Container, matrix: Matrix): Matrix\n{\n    if (!target)\n    {\n        // we have reach the top of the tree!\n        // #if _DEBUG\n        warn('Item is not inside the root container');\n        // #endif\n\n        return matrix;\n    }\n\n    if (target !== root)\n    {\n        getMatrixRelativeToParent(target.parent, root, matrix);\n\n        if (target.didChange)\n        {\n            updateLocalTransform(target.localTransform, target);\n        }\n\n        matrix.append(target.localTransform);\n    }\n\n    return matrix;\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Sprite } from '../../../scene/sprite/Sprite';\nimport { addMaskBounds } from '../utils/addMaskBounds';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds';\n\nimport type { ExtensionMetadata } from '../../../extensions/Extensions';\nimport type { Point } from '../../../maths/point/Point';\nimport type { Bounds } from '../../../scene/container/bounds/Bounds';\nimport type { Container } from '../../../scene/container/Container';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { PoolItem } from '../../../utils/pool/Pool';\n\nexport class AlphaMask implements Effect, PoolItem\n{\n    public static extension: ExtensionMetadata = ExtensionType.MaskEffect;\n\n    public priority = 0;\n    public mask: Container;\n    public pipe = 'alphaMask';\n    public renderMaskToTexture: boolean;\n\n    constructor(options?: {mask: Container})\n    {\n        if (options?.mask)\n        {\n            this.init(options.mask);\n        }\n    }\n\n    public init(mask: Container): void\n    {\n        this.mask = mask;\n\n        // TODO - might want to change this to adjust on the fly\n        // user may add children to the sprite..\n        this.renderMaskToTexture = !(mask instanceof Sprite);\n\n        this.mask.renderable = this.renderMaskToTexture;\n        this.mask.includeInBuild = !this.renderMaskToTexture;\n\n        this.mask.measurable = false;\n    }\n\n    public reset()\n    {\n        this.mask.measurable = true;\n        this.mask = null;\n    }\n\n    public addBounds(bounds: Bounds, skipUpdateTransform?: boolean): void\n    {\n        addMaskBounds(this.mask, bounds, skipUpdateTransform);\n    }\n\n    public addLocalBounds(bounds: Bounds, localRoot: Container): void\n    {\n        addMaskLocalBounds(this.mask, bounds, localRoot);\n    }\n\n    public containsPoint(point: Point, hitTestFn: (container: Container, point: Point) => boolean): boolean\n    {\n        const mask = this.mask as any;\n\n        // if the point is in the mask, yay!\n        return hitTestFn(mask, point);\n    }\n\n    public destroy(): void\n    {\n        this.reset();\n    }\n\n    public static test(mask: any): boolean\n    {\n        return mask instanceof Sprite;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { ExtensionMetadata } from '../../../extensions/Extensions';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { PoolItem } from '../../../utils/pool/Pool';\n\nexport class ColorMask implements Effect, PoolItem\n{\n    public static extension: ExtensionMetadata = ExtensionType.MaskEffect;\n\n    public priority = 0;\n    public mask: number;\n    public pipe = 'colorMask';\n\n    constructor(options: {mask: number})\n    {\n        if (options?.mask)\n        {\n            this.init(options.mask);\n        }\n    }\n\n    public init(mask: number): void\n    {\n        this.mask = mask;\n    }\n\n    public destroy(): void\n    {\n        // nothing to destroy\n    }\n\n    public static test(mask: any): boolean\n    {\n        return typeof mask === 'number';\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Container } from '../../../scene/container/Container';\nimport { addMaskBounds } from '../utils/addMaskBounds';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds';\n\nimport type { ExtensionMetadata } from '../../../extensions/Extensions';\nimport type { Point } from '../../../maths/point/Point';\nimport type { Bounds } from '../../../scene/container/bounds/Bounds';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { PoolItem } from '../../../utils/pool/Pool';\n\nexport class StencilMask implements Effect, PoolItem\n{\n    public static extension: ExtensionMetadata = ExtensionType.MaskEffect;\n\n    public priority = 0;\n    public mask: Container;\n    public pipe = 'stencilMask';\n\n    constructor(options: {mask: Container})\n    {\n        if (options?.mask)\n        {\n            this.init(options.mask);\n        }\n    }\n\n    public init(mask: Container): void\n    {\n        this.mask = mask;\n        this.mask.includeInBuild = false;\n        this.mask.measurable = false;\n    }\n\n    public reset()\n    {\n        this.mask.measurable = true;\n        this.mask.includeInBuild = true;\n        this.mask = null;\n    }\n\n    public addBounds(bounds: Bounds, skipUpdateTransform: boolean): void\n    {\n        addMaskBounds(this.mask, bounds, skipUpdateTransform);\n    }\n\n    public addLocalBounds(bounds: Bounds, localRoot: Container): void\n    {\n        addMaskLocalBounds(this.mask, bounds, localRoot);\n    }\n\n    public containsPoint(point: Point, hitTestFn: (container: Container, point: Point) => boolean): boolean\n    {\n        const mask = this.mask as any;\n\n        // if the point is in the mask, yay!\n        return hitTestFn(mask, point);\n    }\n\n    public destroy(): void\n    {\n        this.reset();\n    }\n\n    public static test(mask: any): boolean\n    {\n        return mask instanceof Container;\n    }\n}\n","import { ExtensionType } from '../../../../../extensions/Extensions';\nimport { TextureSource } from './TextureSource';\n\nimport type { ExtensionMetadata } from '../../../../../extensions/Extensions';\nimport type { TypedArray } from '../../buffer/Buffer';\nimport type { TextureSourceOptions } from './TextureSource';\n\nexport interface BufferSourceOptions extends TextureSourceOptions<TypedArray | ArrayBuffer>\n{\n    width: number;\n    height: number;\n}\n\nexport class BufferImageSource extends TextureSource<TypedArray | ArrayBuffer>\n{\n    public static extension: ExtensionMetadata = ExtensionType.TextureSource;\n\n    public uploadMethodId = 'buffer';\n\n    constructor(options: BufferSourceOptions)\n    {\n        const buffer = options.resource || new Float32Array(options.width * options.height * 4);\n        let format = options.format;\n\n        if (!format)\n        {\n            if (buffer instanceof Float32Array)\n            {\n                format = 'rgba32float';\n            }\n            else if (buffer instanceof Int32Array)\n            {\n                format = 'rgba32uint';\n            }\n            else if (buffer instanceof Uint32Array)\n            {\n                format = 'rgba32uint';\n            }\n            else if (buffer instanceof Int16Array)\n            {\n                format = 'rgba16uint';\n            }\n            else if (buffer instanceof Uint16Array)\n            {\n                format = 'rgba16uint';\n            }\n            else if (buffer instanceof Int8Array)\n            {\n                format = 'bgra8unorm';\n            }\n            else\n            {\n                format = 'bgra8unorm';\n            }\n        }\n\n        super({\n            ...options,\n            format,\n        });\n    }\n\n    public static test(resource: any): resource is TypedArray | ArrayBuffer\n    {\n        return resource instanceof Int8Array\n        || resource instanceof Uint8Array\n        || resource instanceof Uint8ClampedArray\n        || resource instanceof Int16Array\n        || resource instanceof Uint16Array\n        || resource instanceof Int32Array\n        || resource instanceof Uint32Array\n        || resource instanceof Float32Array;\n    }\n}\n","import { ExtensionType } from '../../../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../../../settings/adapter/adapter';\nimport { TextureSource } from './TextureSource';\n\nimport type { ExtensionMetadata } from '../../../../../extensions/Extensions';\nimport type { ICanvas } from '../../../../../settings/adapter/ICanvas';\nimport type { TextureSourceOptions } from './TextureSource';\n\nexport interface CanvasSourceOptions extends TextureSourceOptions<ICanvas>\n{\n    autoDensity?: boolean;\n}\n\nexport class CanvasSource extends TextureSource<ICanvas>\n{\n    public static extension: ExtensionMetadata = ExtensionType.TextureSource;\n\n    public uploadMethodId = 'image';\n    public autoDensity: boolean;\n\n    constructor(options: CanvasSourceOptions)\n    {\n        if (!options.resource)\n        {\n            options.resource = DOMAdapter.get().createCanvas();\n        }\n\n        if (!options.width)\n        {\n            options.width = options.resource.width;\n\n            if (!options.autoDensity)\n            {\n                options.width /= options.resolution;\n            }\n        }\n\n        if (!options.height)\n        {\n            options.height = options.resource.height;\n\n            if (!options.autoDensity)\n            {\n                options.height /= options.resolution;\n            }\n        }\n\n        options.alphaMode ??= 'premultiply-alpha-on-upload';\n\n        super(options);\n\n        this.autoDensity = options.autoDensity;\n\n        const canvas = options.resource;\n\n        if (this.pixelWidth !== canvas.width || this.pixelWidth !== canvas.height)\n        {\n            this.resizeCanvas();\n        }\n    }\n\n    public resizeCanvas()\n    {\n        if (this.autoDensity)\n        {\n            this.resource.style.width = `${this.width}px`;\n            this.resource.style.height = `${this.height}px`;\n        }\n\n        this.resource.width = this.pixelWidth;\n        this.resource.height = this.pixelHeight;\n    }\n\n    public resize(width = this.width, height = this.height, resolution = this._resolution): void\n    {\n        super.resize(width, height, resolution);\n\n        this.resizeCanvas();\n    }\n\n    public static test(resource: any): resource is ICanvas\n    {\n        return (globalThis.HTMLCanvasElement && resource instanceof HTMLCanvasElement)\n        || (globalThis.OffscreenCanvas && resource instanceof OffscreenCanvas);\n    }\n}\n","import { extensions } from '../extensions/Extensions';\nimport { AlphaMask } from './mask/alpha/AlphaMask';\nimport { ColorMask } from './mask/color/ColorMask';\nimport { StencilMask } from './mask/stencil/StencilMask';\nimport { BufferImageSource } from './renderers/shared/texture/sources/BufferImageSource';\nimport { CanvasSource } from './renderers/shared/texture/sources/CanvasSource';\nimport { ImageSource } from './renderers/shared/texture/sources/ImageSource';\nimport { VideoSource } from './renderers/shared/texture/sources/VideoSource';\n\nextensions.add(AlphaMask, ColorMask, StencilMask, VideoSource, ImageSource, CanvasSource, BufferImageSource);\n","import { DOMAdapter } from '../../settings/adapter/adapter';\n\nlet supported: boolean | undefined;\n\n/**\n * Helper for checking for WebGL support.\n * @param failIfMajorPerformanceCaveat\n * @memberof utils\n * @function isWebGLSupported\n * @returns {boolean} Is WebGL supported.\n */\nexport function isWebGLSupported(failIfMajorPerformanceCaveat: boolean): boolean\n{\n    if (typeof supported === 'undefined')\n    {\n        supported = (function supported(): boolean\n        {\n            const contextOptions = {\n                stencil: true,\n                failIfMajorPerformanceCaveat,\n            };\n\n            try\n            {\n                if (!DOMAdapter.get().getWebGLRenderingContext())\n                {\n                    return false;\n                }\n\n                const canvas = DOMAdapter.get().createCanvas();\n                let gl: WebGLRenderingContext = canvas.getContext('webgl2', contextOptions);\n\n                const success = !!gl?.getContextAttributes()?.stencil;\n\n                if (gl)\n                {\n                    const loseContext = gl.getExtension('WEBGL_lose_context');\n\n                    if (loseContext)\n                    {\n                        loseContext.loseContext();\n                    }\n                }\n\n                gl = null;\n\n                return success;\n            }\n            catch (e)\n            {\n                return false;\n            }\n        })();\n    }\n\n    return supported;\n}\n","import { DOMAdapter } from '../../settings/adapter/adapter';\n\n/**\n * Helper for checking for WebGPU support.\n * @param options\n * @memberof utils\n * @function isWebGPUSupported\n * @returns Is WebGPU supported.\n */\nexport async function isWebGPUSupported(options: GPURequestAdapterOptions = {}): Promise<boolean>\n{\n    // try to create get the gpu\n    const gpu = DOMAdapter.get().getNavigator().gpu;\n\n    if (!gpu) return false;\n\n    try\n    {\n        const adapter = await navigator.gpu.requestAdapter(options);\n        // TODO and one of these!\n\n        await adapter.requestDevice();\n\n        return true;\n    }\n    catch (e)\n    {\n        return false;\n    }\n}\n","/**\n * A Runner is a highly performant and simple alternative to signals. Best used in situations\n * where events are dispatched to many objects at high frequency (say every frame!)\n *\n *\n * like a signal..\n * ```\n * import { Runner } from '@pixi/runner';\n *\n * const myObject = {\n *     loaded: new Runner('loaded')\n * }\n *\n * const listener = {\n *     loaded: function(){\n *         // thin\n *     }\n * }\n *\n * myObject.loaded.add(listener);\n *\n * myObject.loaded.emit();\n * ```\n *\n * Or for handling calling the same function on many items\n * ```\n * import { Runner } from '@pixi/runner';\n *\n * const myGame = {\n *     update: new Runner('update')\n * }\n *\n * const gameObject = {\n *     update: function(time){\n *         // update my gamey state\n *     }\n * }\n *\n * myGame.update.add(gameObject);\n *\n * myGame.update.emit(time);\n * ```\n */\nexport class SystemRunner\n{\n    public items: any[];\n    private _name: string;\n\n    /**\n     * @param name - The function name that will be executed on the listeners added to this Runner.\n     */\n    constructor(name: string)\n    {\n        this.items = [];\n        this._name = name;\n    }\n\n    /* eslint-disable jsdoc/require-param, jsdoc/check-param-names */\n    /**\n     * Dispatch/Broadcast Runner to all listeners added to the queue.\n     * @param {...any} params - (optional) parameters to pass to each listener\n     */\n    /*  eslint-enable jsdoc/require-param, jsdoc/check-param-names */\n    public emit(a0?: unknown, a1?: unknown, a2?: unknown, a3?: unknown,\n        a4?: unknown, a5?: unknown, a6?: unknown, a7?: unknown): this\n    {\n        const { name, items } = this;\n\n        for (let i = 0, len = items.length; i < len; i++)\n        {\n            items[i][name](a0, a1, a2, a3, a4, a5, a6, a7);\n        }\n\n        return this;\n    }\n\n    /**\n     * Add a listener to the Runner\n     *\n     * Runners do not need to have scope or functions passed to them.\n     * All that is required is to pass the listening object and ensure that it has contains a function that has the same name\n     * as the name provided to the Runner when it was created.\n     *\n     * Eg A listener passed to this Runner will require a 'complete' function.\n     *\n     * ```\n     * import { Runner } from '@pixi/runner';\n     *\n     * const complete = new Runner('complete');\n     * ```\n     *\n     * The scope used will be the object itself.\n     * @param {any} item - The object that will be listening.\n     */\n    public add(item: unknown): this\n    {\n        if ((item as any)[this._name])\n        {\n            this.remove(item);\n            this.items.push(item);\n        }\n\n        return this;\n    }\n\n    /**\n     * Remove a single listener from the dispatch queue.\n     * @param {any} item - The listener that you would like to remove.\n     */\n    public remove(item: unknown): this\n    {\n        const index = this.items.indexOf(item);\n\n        if (index !== -1)\n        {\n            this.items.splice(index, 1);\n        }\n\n        return this;\n    }\n\n    /**\n     * Check to see if the listener is already in the Runner\n     * @param {any} item - The listener that you would like to check.\n     */\n    public contains(item: unknown): boolean\n    {\n        return this.items.indexOf(item) !== -1;\n    }\n\n    /** Remove all listeners from the Runner */\n    public removeAll(): this\n    {\n        this.items.length = 0;\n\n        return this;\n    }\n\n    /** Remove all references, don't use after this. */\n    public destroy(): void\n    {\n        this.removeAll();\n        this.items = null;\n        this._name = null;\n    }\n\n    /**\n     * `true` if there are no this Runner contains no listeners\n     * @readonly\n     */\n    public get empty(): boolean\n    {\n        return this.items.length === 0;\n    }\n\n    /**\n     * The name of the runner.\n     * @readonly\n     */\n    public get name(): string\n    {\n        return this._name;\n    }\n}\n","import { Color, type ColorSource } from '../../../../color/Color';\nimport { Container } from '../../../../scene/container/Container';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation';\nimport { SystemRunner } from './SystemRunner';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport type { DestroyOptions } from '../../../../scene/container/destroyTypes';\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { Writeable } from '../../../../utils/types';\nimport type { RenderSurface } from '../../gpu/renderTarget/GpuRenderTargetSystem';\nimport type { Renderer } from '../../types';\nimport type { GenerateTextureOptions, GenerateTextureSystem } from '../extract/GenerateTextureSystem';\nimport type { PipeConstructor } from '../instructions/RenderPipe';\nimport type { Texture } from '../texture/Texture';\nimport type { ViewSystem } from '../view/ViewSystem';\nimport type { System, SystemConstructor } from './System';\n\ninterface RendererConfig\n{\n    type: number;\n    name: string;\n    runners?: string[];\n    systems: {name: string, value: SystemConstructor}[];\n    renderPipes: {name: string, value: PipeConstructor}[];\n    renderPipeAdaptors: {name: string, value: any}[];\n}\n\nexport interface RenderOptions\n{\n    container: Container;\n    transform?: Matrix;\n    target?: RenderSurface;\n    clearColor?: ColorSource;\n    clear?: boolean;\n}\n\nconst defaultRunners = [\n    'init',\n    'destroy',\n    'contextChange',\n    'resolutionChange',\n    'reset',\n    'renderEnd',\n    'renderStart',\n    'render',\n    'update',\n    'postrender',\n    'prerender'\n] as const;\n\ntype DefaultRunners = typeof defaultRunners[number];\ntype Runners = {[key in DefaultRunners]: SystemRunner} & {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    [K: ({} & string) | ({} & symbol)]: SystemRunner;\n};\n\n/**\n * The SystemManager is a class that provides functions for managing a set of systems\n * This is a base class, that is generic (no render code or knowledge at all)\n */\nexport class AbstractRenderer<PIPES, OPTIONS extends PixiMixins.RendererOptions, CANVAS extends ICanvas = HTMLCanvasElement>\n{\n    public static defaultOptions = {\n        /**\n         * Default resolution / device pixel ratio of the renderer.\n         * @default 1\n         */\n        resolution: 1,\n        /**\n         * Should the `failIfMajorPerformanceCaveat` flag be enabled as a context option used in the `isWebGLSupported`\n         * function. If set to true, a WebGL renderer can fail to be created if the browser thinks there could be\n         * performance issues when using WebGL.\n         *\n         * In PixiJS v6 this has changed from true to false by default, to allow WebGL to work in as many\n         * scenarios as possible. However, some users may have a poor experience, for example, if a user has a gpu or\n         * driver version blacklisted by the\n         * browser.\n         *\n         * If your application requires high performance rendering, you may wish to set this to false.\n         * We recommend one of two options if you decide to set this flag to false:\n         *\n         * 1: Use the Canvas renderer as a fallback in case high performance WebGL is\n         *    not supported.\n         *\n         * 2: Call `isWebGLSupported` (which if found in the utils package) in your code before attempting to create a\n         *    PixiJS renderer, and show an error message to the user if the function returns false, explaining that their\n         *    device & browser combination does not support high performance WebGL.\n         *    This is a much better strategy than trying to create a PixiJS renderer and finding it then fails.\n         * @default false\n         */\n        failIfMajorPerformanceCaveat: false,\n        /**\n         * Should round pixels be forced when rendering?\n         * @default false\n         */\n        roundPixels: false\n    };\n\n    public readonly type: number;\n    public readonly name: string;\n\n    /** @internal */\n    public _roundPixels: 0 | 1;\n\n    public readonly runners: Runners = Object.create(null) as Runners;\n    public readonly renderPipes = Object.create(null) as PIPES;\n    public view: ViewSystem;\n    public textureGenerator: GenerateTextureSystem;\n\n    private _systemsHash: Record<string, System> = Object.create(null);\n    private _lastObjectRendered: Container;\n\n    /**\n     * Set up a system with a collection of SystemClasses and runners.\n     * Systems are attached dynamically to this class when added.\n     * @param config - the config for the system manager\n     */\n    constructor(config: RendererConfig)\n    {\n        this.type = config.type;\n        this.name = config.name;\n\n        const combinedRunners = [...defaultRunners, ...(config.runners ?? [])];\n\n        this._addRunners(...combinedRunners);\n        this._addSystems(config.systems);\n        this._addPipes(config.renderPipes, config.renderPipeAdaptors);\n    }\n\n    /**\n     * Initialize the renderer.\n     * @param options - The options to use to create the renderer.\n     */\n    public async init(options: Partial<OPTIONS> = {})\n    {\n        // loop through all systems...\n        for (const systemName in this._systemsHash)\n        {\n            const system = this._systemsHash[systemName];\n\n            const defaultSystemOptions = (system.constructor as any).defaultOptions;\n\n            options = { ...defaultSystemOptions, ...options };\n        }\n\n        options = { ...AbstractRenderer.defaultOptions, ...options };\n        this._roundPixels = options.roundPixels ? 1 : 0;\n\n        // await emits..\n        for (let i = 0; i < this.runners.init.items.length; i++)\n        {\n            await this.runners.init.items[i].init(options);\n        }\n    }\n\n    /** @deprecated since 8.0.0 */\n    public render(container: Container, options: {renderTexture: any}): void;\n    /**\n     * Renders the object to its view.\n     * @param options - The options to render with.\n     * @param options.container - The container to render.\n     * @param [options.target] - The target to render to.\n     */\n    public render(options: RenderOptions | Container): void;\n    public render(args: RenderOptions | Container, deprecated?: {renderTexture: any}): void\n    {\n        let options = args;\n\n        if (options instanceof Container)\n        {\n            options = { container: options };\n\n            if (deprecated)\n            {\n                // eslint-disable-next-line max-len\n                deprecation(v8_0_0, 'passing a second argument is deprecated, please use render options instead');\n\n                options.target = deprecated.renderTexture;\n            }\n        }\n\n        options.target ||= this.view.texture;\n\n        // TODO: we should eventually fix events so that it can handle multiple canvas elements\n        if (options.target === this.view.texture)\n        {\n            // TODO get rid of this\n            this._lastObjectRendered = options.container;\n        }\n\n        if (options.clearColor)\n        {\n            const isRGBAArray = Array.isArray(options.clearColor) && options.clearColor.length === 4;\n\n            options.clearColor = isRGBAArray ? options.clearColor : Color.shared.setValue(options.clearColor).toArray();\n        }\n\n        this.runners.prerender.emit(options);\n        this.runners.renderStart.emit(options);\n        this.runners.render.emit(options);\n        this.runners.renderEnd.emit(options);\n        this.runners.postrender.emit(options);\n    }\n\n    /**\n     * Resizes the WebGL view to the specified width and height.\n     * @param desiredScreenWidth - The desired width of the screen.\n     * @param desiredScreenHeight - The desired height of the screen.\n     * @param resolution - The resolution / device pixel ratio of the renderer.\n     */\n    public resize(desiredScreenWidth: number, desiredScreenHeight: number, resolution?: number): void\n    {\n        this.view.resize(desiredScreenWidth, desiredScreenHeight, resolution);\n    }\n\n    /** The resolution / device pixel ratio of the renderer. */\n    get resolution(): number\n    {\n        return this.view.resolution;\n    }\n\n    set resolution(value: number)\n    {\n        this.view.resolution = value;\n        this.runners.resolutionChange.emit(value);\n    }\n\n    /**\n     * Same as view.width, actual number of pixels in the canvas by horizontal.\n     * @member {number}\n     * @readonly\n     * @default 800\n     */\n    get width(): number\n    {\n        return this.view.texture.frameWidth;\n    }\n\n    /**\n     * Same as view.height, actual number of pixels in the canvas by vertical.\n     * @default 600\n     */\n    get height(): number\n    {\n        return this.view.texture.frameHeight;\n    }\n\n    // NOTE: this was `view` in v7\n    /** The canvas element that everything is drawn to.*/\n    get canvas(): CANVAS\n    {\n        return this.view.canvas as CANVAS;\n    }\n\n    /**\n     * the last object rendered by the renderer. Useful for other plugins like interaction managers\n     * @readonly\n     */\n    get lastObjectRendered(): Container\n    {\n        return this._lastObjectRendered;\n    }\n\n    /**\n     * Flag if we are rendering to the screen vs renderTexture\n     * @readonly\n     * @default true\n     */\n    get renderingToScreen(): boolean\n    {\n        const renderer = this as unknown as Renderer;\n\n        return renderer.renderTarget.renderingToScreen;\n    }\n\n    /**\n     * Measurements of the screen. (0, 0, screenWidth, screenHeight).\n     *\n     * Its safe to use as filterArea or hitArea for the whole stage.\n     * @member {Rectangle}\n     */\n    get screen(): Rectangle\n    {\n        return this.view.screen;\n    }\n\n    /**\n     * Create a bunch of runners based of a collection of ids\n     * @param runnerIds - the runner ids to add\n     */\n    private _addRunners(...runnerIds: string[]): void\n    {\n        runnerIds.forEach((runnerId) =>\n        {\n            this.runners[runnerId] = new SystemRunner(runnerId);\n        });\n    }\n\n    private _addSystems(systems: RendererConfig['systems']): void\n    {\n        let i: keyof typeof systems;\n\n        for (i in systems)\n        {\n            const val = systems[i];\n\n            this._addSystem(val.value, val.name);\n        }\n    }\n\n    /**\n     * Add a new system to the renderer.\n     * @param ClassRef - Class reference\n     * @param name - Property name for system, if not specified\n     *        will use a static `name` property on the class itself. This\n     *        name will be assigned as s property on the Renderer so make\n     *        sure it doesn't collide with properties on Renderer.\n     * @returns Return instance of renderer\n     */\n    private _addSystem(ClassRef: SystemConstructor, name: string): this\n    {\n        const system = new ClassRef(this as unknown as Renderer);\n\n        if ((this as any)[name])\n        {\n            throw new Error(`Whoops! The name \"${name}\" is already in use`);\n        }\n\n        (this as any)[name] = system;\n\n        this._systemsHash[name] = system;\n\n        for (const i in this.runners)\n        {\n            this.runners[i].add(system);\n        }\n\n        return this;\n    }\n\n    private _addPipes(pipes: RendererConfig['renderPipes'], pipeAdaptors: RendererConfig['renderPipeAdaptors']): void\n    {\n        const adaptors = pipeAdaptors.reduce((acc, adaptor) =>\n        {\n            acc[adaptor.name] = adaptor.value;\n\n            return acc;\n        }, {} as Record<string, any>);\n\n        pipes.forEach((pipe) =>\n        {\n            const PipeClass = pipe.value;\n            const name = pipe.name;\n\n            const Adaptor = adaptors[name];\n\n            // sorry typescript..\n            (this.renderPipes as any)[name] = new PipeClass(\n                this as unknown as Renderer,\n                Adaptor ? new Adaptor() : null\n            );\n        });\n    }\n\n    public destroy(options: DestroyOptions = false): void\n    {\n        const writeable = this as Writeable<typeof this, 'renderPipes' | 'runners'>;\n\n        this.runners.destroy.items.reverse();\n        this.runners.destroy.emit(options);\n\n        // destroy all runners\n        Object.values(this.runners).forEach((runner) =>\n        {\n            runner.destroy();\n        });\n\n        writeable.runners = null;\n        this._systemsHash = null;\n\n        // destroy all pipes\n        writeable.renderPipes = null;\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * @param options - options or container target to use when generating the texture\n     * @returns a texture\n     */\n    public generateTexture(options: GenerateTextureOptions | Container): Texture\n    {\n        return this.textureGenerator.generateTexture(options);\n    }\n\n    /**\n     * Whether the renderer will round coordinates to whole pixels when rendering.\n     * Can be overridden on a per scene item basis.\n     */\n    get roundPixels(): boolean\n    {\n        return !!this._roundPixels;\n    }\n}\n","import { isWebGLSupported } from '../../utils/browser/isWebGLSupported';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported';\nimport { AbstractRenderer } from './shared/system/AbstractRenderer';\n\nimport type { WebGLOptions } from './gl/WebGLRenderer';\nimport type { WebGPUOptions } from './gpu/WebGPURenderer';\nimport type { Renderer } from './types';\n\n/** Options for autoDetectRenderer. */\nexport interface AutoDetectOptions extends WebGLOptions, WebGPUOptions\n{\n    preference?: 'webgl' | 'webgpu' | 'canvas';\n    manageImports?: boolean;\n    webgpu?: Partial<WebGPUOptions>;\n    webgl?: Partial<WebGLOptions>;\n}\n\nconst renderPriority = ['webgpu', 'webgl', 'canvas'];\n\nexport async function autoDetectRenderer(options: Partial<AutoDetectOptions>): Promise<Renderer>\n{\n    let preferredOrder: string[] = [];\n\n    if (options.preference)\n    {\n        preferredOrder.push(options.preference);\n\n        renderPriority.forEach((item) =>\n        {\n            if (item !== options.preference)\n            {\n                preferredOrder.push(item);\n            }\n        });\n    }\n    else\n    {\n        preferredOrder = renderPriority.slice();\n    }\n\n    let RendererClass: new () => Renderer;\n\n    if (options.manageImports ?? true)\n    {\n        await import('../../all');\n    }\n\n    let finalOptions: Partial<AutoDetectOptions> = {};\n\n    for (let i = 0; i < preferredOrder.length; i++)\n    {\n        const rendererType = preferredOrder[i];\n\n        if (rendererType === 'webgpu' && (await isWebGPUSupported()))\n        {\n            const { WebGPURenderer } = await import('./gpu/WebGPURenderer');\n\n            RendererClass = WebGPURenderer;\n\n            finalOptions = { ...options, ...options.webgpu };\n\n            break;\n        }\n        else if (\n            rendererType === 'webgl'\n            && isWebGLSupported(\n                options.failIfMajorPerformanceCaveat\n                    ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n            )\n        )\n        {\n            const { WebGLRenderer } = await import('./gl/WebGLRenderer');\n\n            RendererClass = WebGLRenderer;\n\n            finalOptions = { ...options, ...options.webgl };\n\n            break;\n        }\n        else if (rendererType === 'canvas')\n        {\n            finalOptions = { ...options };\n\n            break;\n        }\n    }\n\n    delete finalOptions.webgpu;\n    delete finalOptions.webgl;\n\n    const renderer = new RendererClass();\n\n    await renderer.init(finalOptions);\n\n    return renderer;\n}\n","import { extensions, ExtensionType } from '../extensions/Extensions';\nimport { autoDetectRenderer } from '../rendering/renderers/autoDetectRenderer';\nimport { Container } from '../scene/container/Container';\n\nimport type { Rectangle } from '../maths/shapes/Rectangle';\nimport type { AutoDetectOptions } from '../rendering/renderers/autoDetectRenderer';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { DestroyOptions } from '../scene/container/destroyTypes';\nimport type { ResizePluginOptions } from './ResizePlugin';\n\n/** Any plugin that's usable for Application should contain these methods. */\nexport interface ApplicationPlugin\n{\n    /**\n     * Called when Application is constructed, scoped to Application instance.\n     * Passes in `options` as the only argument, which are Application constructor options.\n     * @param {object} options - Application options.\n     */\n    init(options: Partial<ApplicationOptions>): void;\n    /** Called when destroying Application, scoped to Application instance. */\n    destroy(): void;\n}\n\n/** Application options supplied to constructor. */\nexport interface ApplicationOptions extends AutoDetectOptions, PixiMixins.ApplicationOptions, ResizePluginOptions {}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface Application extends PixiMixins.Application {}\n\n/**\n * Convenience class to create a new PixiJS application.\n *\n * This class automatically creates the renderer, ticker and root container.\n * @example\n * import { Application, Sprite } from 'pixi.js';\n *\n * // Create the application\n * const app = new Application();\n *\n * await app.init();\n *\n * // Add the view to the DOM\n * document.body.appendChild(app.view);\n *\n * // ex, add display objects\n * app.stage.addChild(Sprite.from('something.png'));\n * @class\n */\nexport class Application<R extends Renderer = Renderer>\n{\n    /** Collection of installed plugins. */\n    public static _plugins: ApplicationPlugin[] = [];\n\n    /**\n     * The root display container that's rendered.\n     * @member {Container}\n     */\n    public stage: Container = new Container();\n\n    /**\n     * WebGL renderer if available, otherwise CanvasRenderer.\n     * @member {Renderer}\n     */\n    public renderer: R;\n\n    /**\n     * @param options - The optional application and renderer parameters.\n     */\n    public async init(options?: Partial<ApplicationOptions>)\n    {\n        // The default options\n        options = {\n            ...{\n                // forceCanvas: false,\n            },\n            ...options,\n        };\n\n        this.renderer = await autoDetectRenderer(options as ApplicationOptions) as R;\n\n        // install plugins here\n        Application._plugins.forEach((plugin) =>\n        {\n            plugin.init.call(this, options);\n        });\n    }\n\n    /** Render the current stage. */\n    public render(): void\n    {\n        this.renderer.render({ container: this.stage });\n    }\n\n    /**\n     * Reference to the renderer's canvas element.\n     * @readonly\n     */\n    get canvas(): R['canvas']\n    {\n        return this.renderer.canvas as R['canvas'];\n    }\n\n    /**\n     * Reference to the renderer's screen rectangle. Its safe to use as `filterArea` or `hitArea` for the whole screen.\n     * @member {Rectangle}\n     * @readonly\n     */\n    get screen(): Rectangle\n    {\n        return this.renderer.screen;\n    }\n\n    /**\n     * Destroys the application and all of its resources.\n     * @param {object|boolean} [options=false] - The options for destroying the application.\n     * @param {boolean} [options.removeView=false] - Whether to remove the application's canvas element from the DOM.\n     * @param {boolean} [options.children=false] - If set to true, all the children will have their destroy method\n     * called as well. `options` will be passed on to those calls.\n     * @param {boolean} [options.texture=false] - Only used for children with textures e.g. Sprites.\n     * If options.children is set to true,\n     * it should destroy the texture of the child sprite.\n     * @param {boolean} [options.textureSource=false] - Only used for children with textures e.g. Sprites.\n     *  If options.children is set to true,\n     * it should destroy the texture source of the child sprite.\n     * @param {boolean} [options.context=false] - Only used for children with graphicsContexts e.g. Graphics.\n     * If options.children is set to true,\n     * it should destroy the context of the child graphics.\n     */\n    public destroy(options: DestroyOptions = false): void\n    {\n        // Destroy plugins in the opposite order\n        // which they were constructed\n        const plugins = Application._plugins.slice(0);\n\n        plugins.reverse();\n        plugins.forEach((plugin) =>\n        {\n            plugin.destroy.call(this);\n        });\n\n        this.stage.destroy(options);\n        this.stage = null;\n\n        this.renderer.destroy(options);\n        this.renderer = null;\n    }\n}\n\nextensions.handleByList(ExtensionType.Application, Application._plugins);\n","import type { Loader } from './loader/Loader';\nimport type { ResolvedAsset } from './types';\n\n/** Quietly Loads assets in the background. */\nexport class BackgroundLoader\n{\n    /** Whether or not the loader should continue loading. */\n    private _isActive: boolean;\n\n    /** Assets to load. */\n    private readonly _assetList: ResolvedAsset[];\n\n    /** Whether or not the loader is loading. */\n    private _isLoading: boolean;\n\n    /** Number of assets to load at a time. */\n    private readonly _maxConcurrent: number;\n\n    /** Should the loader log to the console. */\n    public verbose: boolean;\n    private readonly _loader: Loader;\n\n    /**\n     * @param loader\n     * @param verbose - should the loader log to the console\n     */\n    constructor(loader: Loader, verbose = false)\n    {\n        this._loader = loader;\n        this._assetList = [];\n        this._isLoading = false;\n        this._maxConcurrent = 1;\n        this.verbose = verbose;\n    }\n\n    /**\n     * Adds an array of assets to load.\n     * @param assetUrls - assets to load\n     */\n    public add(assetUrls: ResolvedAsset[]): void\n    {\n        assetUrls.forEach((a) =>\n        {\n            this._assetList.push(a);\n        });\n\n        if (this.verbose)\n        {\n            // eslint-disable-next-line no-console\n            console.log('[BackgroundLoader] assets: ', this._assetList);\n        }\n\n        if (this._isActive && !this._isLoading)\n        {\n            void this._next();\n        }\n    }\n\n    /**\n     * Loads the next set of assets. Will try to load as many assets as it can at the same time.\n     *\n     * The max assets it will try to load at one time will be 4.\n     */\n    private async _next(): Promise<void>\n    {\n        if (this._assetList.length && this._isActive)\n        {\n            this._isLoading = true;\n\n            const toLoad = [];\n\n            const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);\n\n            for (let i = 0; i < toLoadAmount; i++)\n            {\n                toLoad.push(this._assetList.pop());\n            }\n\n            await this._loader.load(toLoad);\n\n            this._isLoading = false;\n\n            void this._next();\n        }\n    }\n\n    /**\n     * Activate/Deactivate the loading. If set to true then it will immediately continue to load the next asset.\n     * @returns whether the class is active\n     */\n    get active(): boolean\n    {\n        return this._isActive;\n    }\n\n    set active(value: boolean)\n    {\n        if (this._isActive === value) return;\n\n        this._isActive = value;\n\n        if (value && !this._isLoading)\n        {\n            void this._next();\n        }\n    }\n}\n","import { warn } from '../../utils/logging/warn';\nimport { path } from '../../utils/path';\nimport { convertToList } from '../utils/convertToList';\nimport { isSingleItem } from '../utils/isSingleItem';\n\nimport type { ResolvedAsset } from '../types';\nimport type { LoaderParser } from './parsers/LoaderParser';\nimport type { PromiseAndParser } from './types';\n\n/**\n * The Loader is responsible for loading all assets, such as images, spritesheets, audio files, etc.\n * It does not do anything clever with URLs - it just loads stuff!\n * Behind the scenes all things are cached using promises. This means it's impossible to load an asset more than once.\n * Through the use of LoaderParsers, the loader can understand how to load any kind of file!\n *\n * It is not intended that this class is created by developers - its part of the Asset class\n * This is the second major system of PixiJS' main Assets class\n */\nexport class Loader\n{\n    private readonly _parsers: LoaderParser[] = [];\n    private _parserHash: Record<string, LoaderParser>;\n\n    private _parsersValidated = false;\n\n    /** All loader parsers registered */\n    public parsers = new Proxy(this._parsers, {\n        set: (target, key, value) =>\n        {\n            this._parsersValidated = false;\n\n            target[key as any as number] = value;\n\n            return true;\n        }\n    });\n\n    /** Cache loading promises that ae currently active */\n    public promiseCache: Record<string, PromiseAndParser> = {};\n\n    /** function used for testing */\n    public reset(): void\n    {\n        this._parsersValidated = false;\n        this.promiseCache = {};\n    }\n\n    /**\n     * Used internally to generate a promise for the asset to be loaded.\n     * @param url - The URL to be loaded\n     * @param data - any custom additional information relevant to the asset being loaded\n     * @returns - a promise that will resolve to an Asset for example a Texture of a JSON object\n     */\n    private _getLoadPromiseAndParser(url: string, data?: ResolvedAsset): PromiseAndParser\n    {\n        const result: PromiseAndParser = {\n            promise: null,\n            parser: null\n        };\n\n        result.promise = (async () =>\n        {\n            let asset = null;\n\n            let parser: LoaderParser = null;\n\n            // first check to see if the user has specified a parser\n            if (data.loadParser)\n            {\n                // they have? lovely, lets use it\n                parser = this._parserHash[data.loadParser];\n\n                if (!parser)\n                {\n                    // #if _DEBUG\n                    // eslint-disable-next-line max-len\n                    warn(`[Assets] specified load parser \"${data.loadParser}\" not found while loading ${url}`);\n                    // #endif\n                }\n            }\n\n            // no parser specified, so lets try and find one using the tests\n            if (!parser)\n            {\n                for (let i = 0; i < this.parsers.length; i++)\n                {\n                    const parserX = this.parsers[i];\n\n                    if (parserX.load && parserX.test?.(url, data, this))\n                    {\n                        parser = parserX;\n                        break;\n                    }\n                }\n\n                if (!parser)\n                {\n                    // #if _DEBUG\n                    // eslint-disable-next-line max-len\n                    warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);\n                    // #endif\n\n                    return null;\n                }\n            }\n\n            asset = await parser.load(url, data, this);\n            result.parser = parser;\n\n            for (let i = 0; i < this.parsers.length; i++)\n            {\n                const parser = this.parsers[i];\n\n                if (parser.parse)\n                {\n                    if (parser.parse && await parser.testParse?.(asset, data, this))\n                    {\n                        // transform the asset..\n                        asset = await parser.parse(asset, data, this) || asset;\n\n                        result.parser = parser;\n                    }\n                }\n            }\n\n            return asset;\n        })();\n\n        return result;\n    }\n\n    /**\n     * Loads one or more assets using the parsers added to the Loader.\n     * @example\n     * // Single asset:\n     * const asset = await Loader.load('cool.png');\n     * console.log(asset);\n     *\n     * // Multiple assets:\n     * const assets = await Loader.load(['cool.png', 'cooler.png']);\n     * console.log(assets);\n     * @param assetsToLoadIn - urls that you want to load, or a single one!\n     * @param onProgress - For multiple asset loading only, an optional function that is called\n     * when progress on asset loading is made. The function is passed a single parameter, `progress`,\n     * which represents the percentage (0.0 - 1.0) of the assets loaded. Do not use this function\n     * to detect when assets are complete and available, instead use the Promise returned by this function.\n     */\n    public async load<T = any>(\n        assetsToLoadIn: string | ResolvedAsset,\n        onProgress?: (progress: number) => void,\n    ): Promise<T>;\n    public async load<T = any>(\n        assetsToLoadIn: string[] | ResolvedAsset[],\n        onProgress?: (progress: number) => void,\n    ): Promise<Record<string, T>>;\n    public async load<T = any>(\n        assetsToLoadIn: string | string[] | ResolvedAsset | ResolvedAsset[],\n        onProgress?: (progress: number) => void,\n    ): Promise<T | Record<string, T>>\n    {\n        if (!this._parsersValidated)\n        {\n            this._validateParsers();\n        }\n\n        let count = 0;\n\n        const assets: Record<string, Promise<any>> = {};\n\n        const singleAsset = isSingleItem(assetsToLoadIn);\n\n        const assetsToLoad = convertToList<ResolvedAsset>(assetsToLoadIn, (item) => ({\n            alias: [item],\n            src: item,\n        }));\n\n        const total = assetsToLoad.length;\n\n        const promises: Promise<void>[] = assetsToLoad.map(async (asset: ResolvedAsset) =>\n        {\n            const url = path.toAbsolute(asset.src);\n\n            if (!assets[asset.src])\n            {\n                try\n                {\n                    if (!this.promiseCache[url])\n                    {\n                        this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);\n                    }\n\n                    assets[asset.src] = await this.promiseCache[url].promise;\n\n                    // Only progress if nothing goes wrong\n                    if (onProgress) onProgress(++count / total);\n                }\n                catch (e)\n                {\n                    // Delete eventually registered file and promises from internal cache\n                    // so they can be eligible for another loading attempt\n                    delete this.promiseCache[url];\n                    delete assets[asset.src];\n\n                    // Stop further execution\n                    throw new Error(`[Loader.load] Failed to load ${url}.\\n${e}`);\n                }\n            }\n        });\n\n        await Promise.all(promises);\n\n        return singleAsset ? assets[assetsToLoad[0].src] : assets;\n    }\n\n    /**\n     * Unloads one or more assets. Any unloaded assets will be destroyed, freeing up memory for your app.\n     * The parser that created the asset, will be the one that unloads it.\n     * @example\n     * // Single asset:\n     * const asset = await Loader.load('cool.png');\n     *\n     * await Loader.unload('cool.png');\n     *\n     * console.log(asset.destroyed); // true\n     * @param assetsToUnloadIn - urls that you want to unload, or a single one!\n     */\n    public async unload(\n        assetsToUnloadIn: string | string[] | ResolvedAsset | ResolvedAsset[],\n    ): Promise<void>\n    {\n        const assetsToUnload = convertToList<ResolvedAsset>(assetsToUnloadIn, (item) => ({\n            alias: [item],\n            src: item,\n        }));\n\n        const promises: Promise<void>[] = assetsToUnload.map(async (asset: ResolvedAsset) =>\n        {\n            const url = path.toAbsolute(asset.src);\n\n            const loadPromise = this.promiseCache[url];\n\n            if (loadPromise)\n            {\n                const loadedAsset = await loadPromise.promise;\n\n                delete this.promiseCache[url];\n\n                loadPromise.parser?.unload?.(loadedAsset, asset, this);\n            }\n        });\n\n        await Promise.all(promises);\n    }\n\n    /** validates our parsers, right now it only checks for name conflicts but we can add more here as required! */\n    private _validateParsers()\n    {\n        this._parsersValidated = true;\n\n        this._parserHash = this._parsers\n            .filter((parser) => parser.name)\n            .reduce((hash, parser) =>\n            {\n                if (!parser.name)\n                {\n                    // #if _DEBUG\n                    warn(`[Assets] loadParser should have a name`);\n                    // #endif\n                }\n                else if (hash[parser.name])\n                {\n                    // #if _DEBUG\n                    warn(`[Assets] loadParser name conflict \"${parser.name}\"`);\n                    // #endif\n                }\n\n                return { ...hash, [parser.name]: parser };\n            }, {} as Record<string, LoaderParser>);\n    }\n}\n","import { extensions, ExtensionType } from '../extensions/Extensions';\nimport { warn } from '../utils/logging/warn';\nimport { BackgroundLoader } from './BackgroundLoader';\nimport { Cache } from './cache/Cache';\nimport { Loader } from './loader/Loader';\nimport { Resolver } from './resolver/Resolver';\nimport { convertToList } from './utils/convertToList';\nimport { isSingleItem } from './utils/isSingleItem';\n\nimport type { FormatDetectionParser } from './detections/types';\nimport type { LoadTextureConfig } from './loader/parsers/textures/loadTextures';\nimport type { BundleIdentifierOptions } from './resolver/Resolver';\nimport type { ArrayOr, AssetsBundle, AssetsManifest, ResolvedAsset, UnresolvedAsset } from './types';\n\nexport type ProgressCallback = (progress: number) => void;\n\n/**\n * Extensible preferences that can be used, for instance, when configuring loaders.\n * @since 7.2.0\n */\nexport interface AssetsPreferences extends LoadTextureConfig, PixiMixins.AssetsPreferences {}\n\n/** Initialization options object for Asset Class. */\nexport interface AssetInitOptions\n{\n    // basic...\n    /** a base path for any assets loaded */\n    basePath?: string;\n\n    /** a default URL parameter string to append to all assets loaded */\n    defaultSearchParams?: string | Record<string, any>;\n\n    /**\n     * a manifest to tell the asset loader upfront what all your assets are\n     * this can be the manifest object itself, or a URL to the manifest.\n     */\n    manifest?: string | AssetsManifest;\n    /**\n     * optional preferences for which textures preferences you have when resolving assets\n     * for example you might set the resolution to 0.5 if the user is on a rubbish old phone\n     * or you might set the resolution to 2 if the user is on a retina display\n     */\n    texturePreference?: {\n        /** the resolution order you prefer, can be an array (priority order - first is prefered) or a single resolutions  */\n        resolution?: number | number[];\n        /**\n         * the formats you prefer, by default this will be:\n         * ['avif', 'webp', 'png', 'jpg', 'jpeg', 'webm', 'mp4', 'm4v', 'ogv']\n         */\n        format?: ArrayOr<string>;\n    };\n\n    /**\n     * If true, don't attempt to detect whether browser has preferred formats available.\n     * May result in increased performance as it skips detection step.\n     */\n    skipDetections?: boolean;\n\n    /** advanced - override how bundlesIds are generated */\n    bundleIdentifier?: BundleIdentifierOptions;\n\n    /** Optional loader preferences */\n    preferences?: Partial<AssetsPreferences>;\n}\n\n/**\n * A one stop shop for all Pixi resource management!\n * Super modern and easy to use, with enough flexibility to customize and do what you need!\n * @namespace Assets\n *\n * Only one Asset Class exists accessed via the Global Asset object.\n *\n * It has four main responsibilities:\n * 1. Allows users to map URLs to keys and resolve them according to the user's browser capabilities\n * 2. Loads the resources and transforms them into assets that developers understand.\n * 3. Caches the assets and provides a way to access them.\n * 4. Allow developers to unload assets and clear the cache.\n *\n * It also has a few advanced features:\n * 1. Allows developers to provide a manifest upfront of all assets and help manage them via 'bundles'.\n * 2. Allows users to background load assets. Shortening (or eliminating) load times and improving UX. With this feature,\n * in-game loading bars can be a thing of the past!\n *\n * ### Assets Loading\n *\n * Do not be afraid to load things multiple times - under the hood, it will NEVER load anything more than once.\n *\n * For example:\n *\n * ```js\n * import { Assets } from 'pixi.js';\n *\n * promise1 = Assets.load('bunny.png')\n * promise2 = Assets.load('bunny.png')\n *\n * // promise1 === promise2\n * ```\n *\n * Here both promises will be the same. Once resolved... Forever resolved! It makes for really easy resource management!\n *\n * Out of the box it supports the following files:\n * - textures (avif, webp, png, jpg, gif, svg)\n * - sprite sheets (json)\n * - bitmap fonts (xml, fnt, txt)\n * - web fonts (ttf, woff, woff2)\n * - json files (json)\n * - text files (txt)\n *\n * More types can be added fairly easily by creating additional loader parsers.\n *\n * ### Textures\n * - Textures are loaded as ImageBitmap on a worker thread where possible.\n * Leading to much less janky load + parse times.\n * - By default, we will prefer to load AVIF and WebP image files if you specify them.\n * But if the browser doesn't support AVIF or WebP we will fall back to png and jpg.\n * - Textures can also be accessed via Texture.from(...) and now use this asset manager under the hood!\n * - Don't worry if you set preferences for textures that don't exist (for example you prefer 2x resolutions images\n *  but only 1x is available for that texture, the Asset manager will pick that up as a fallback automatically)\n *\n * #### Sprite sheets\n * - It's hard to know what resolution a sprite sheet is without loading it first, to address this\n * there is a naming convention we have added that will let Pixi understand the image format and resolution\n * of the spritesheet via its file name:\n *\n * `my-spritesheet{resolution}.{imageFormat}.json`\n *\n * For example:\n *\n * `my-spritesheet@2x.webp.json` // 2x resolution, WebP sprite sheet\n * `my-spritesheet@0.5x.png.json` // 0.5x resolution, png sprite sheet\n *\n * This is optional! You can just load a sprite sheet as normal.\n * This is only useful if you have a bunch of different res / formatted spritesheets.\n *\n * ### Fonts\n * Web fonts will be loaded with all weights.\n * It is possible to load only specific weights by doing the following:\n *\n * ```js\n * import { Assets } from 'pixi.js';\n *\n * // Load specific weights..\n * await Assets.load({\n *     data: {\n *         weights: ['normal'], // Only loads the weight\n *     },\n *     src: `outfit.woff2`,\n * });\n *\n * // Load everything...\n * await Assets.load(`outfit.woff2`);\n * ```\n *\n * ### Background Loading\n * Background loading will load stuff for you passively behind the scenes. To minimize jank,\n * it will only load one asset at a time. As soon as a developer calls `Assets.load(...)` the\n * background loader is paused and requested assets are loaded as a priority.\n * Don't worry if something is in there that's already loaded, it will just get skipped!\n *\n * You still need to call `Assets.load(...)` to get an asset that has been loaded in the background.\n * It's just that this promise will resolve instantly if the asset\n * has already been loaded.\n *\n * ### Manifest and Bundles\n * - Manifest is a JSON file that contains a list of all assets and their properties.\n * - Bundles are a way to group assets together.\n *\n * ```js\n * import { Assets } from 'pixi.js';\n *\n * // Manifest Example\n * const manifest = {\n *     bundles: [\n *         {\n *             name: 'load-screen',\n *             assets: [\n *                 {\n *                     alias: 'background',\n *                     src: 'sunset.png',\n *                 },\n *                 {\n *                     alias: 'bar',\n *                     src: 'load-bar.{png,webp}',\n *                 },\n *             ],\n *         },\n *         {\n *             name: 'game-screen',\n *             assets: [\n *                 {\n *                     alias: 'character',\n *                     src: 'robot.png',\n *                 },\n *                 {\n *                     alias: 'enemy',\n *                     src: 'bad-guy.png',\n *                 },\n *             ],\n *         },\n *     ]\n * };\n *\n * await Asset.init({ manifest });\n *\n * // Load a bundle...\n * loadScreenAssets = await Assets.loadBundle('load-screen');\n * // Load another bundle...\n * gameScreenAssets = await Assets.loadBundle('game-screen');\n * ```\n * @example\n * import { Assets } from 'pixi.js';\n *\n * const bunny = await Assets.load('bunny.png');\n */\nexport class AssetsClass\n{\n    /** the resolver to map various urls */\n    public resolver: Resolver;\n    /** The loader, loads stuff! */\n    public loader: Loader;\n    /**\n     * The global cache of all assets within PixiJS\n     * @type {Cache}\n     */\n    public cache: typeof Cache;\n\n    /** takes care of loading assets in the background */\n    private readonly _backgroundLoader: BackgroundLoader;\n\n    private readonly _detections: FormatDetectionParser[] = [];\n\n    private _initialized = false;\n\n    constructor()\n    {\n        this.resolver = new Resolver();\n        this.loader = new Loader();\n        this.cache = Cache;\n\n        this._backgroundLoader = new BackgroundLoader(this.loader);\n        this._backgroundLoader.active = true;\n\n        this.reset();\n    }\n\n    /**\n     * Best practice is to call this function before any loading commences\n     * Initiating is the best time to add any customization to the way things are loaded.\n     *\n     * you do not need to call this for the Asset class to work, only if you want to set any initial properties\n     * @param options - options to initialize the Asset manager with\n     */\n    public async init(options: AssetInitOptions = {}): Promise<void>\n    {\n        if (this._initialized)\n        {\n            // #if _DEBUG\n            warn('[Assets]AssetManager already initialized, did you load before calling this Asset.init()?');\n            // #endif\n\n            return;\n        }\n\n        this._initialized = true;\n\n        if (options.defaultSearchParams)\n        {\n            this.resolver.setDefaultSearchParams(options.defaultSearchParams);\n        }\n\n        if (options.basePath)\n        {\n            this.resolver.basePath = options.basePath;\n        }\n\n        if (options.bundleIdentifier)\n        {\n            this.resolver.setBundleIdentifier(options.bundleIdentifier);\n        }\n\n        if (options.manifest)\n        {\n            let manifest = options.manifest;\n\n            if (typeof manifest === 'string')\n            {\n                manifest = await this.load<AssetsManifest>(manifest);\n            }\n\n            this.resolver.addManifest(manifest);\n        }\n\n        const resolutionPref = options.texturePreference?.resolution ?? 1;\n        const resolution = (typeof resolutionPref === 'number') ? [resolutionPref] : resolutionPref;\n\n        const formats = await this._detectFormats({\n            preferredFormats: options.texturePreference?.format,\n            skipDetections: options.skipDetections,\n            detections: this._detections\n        });\n\n        this.resolver.prefer({\n            params: {\n                format: formats,\n                resolution,\n            },\n        });\n\n        if (options.preferences)\n        {\n            this.setPreferences(options.preferences);\n        }\n    }\n\n    /**\n     * Allows you to specify how to resolve any assets load requests.\n     * There are a few ways to add things here as shown below:\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * // Simple\n     * Assets.add({alias: 'bunnyBooBoo', src: 'bunny.png'});\n     * const bunny = await Assets.load('bunnyBooBoo');\n     *\n     * // Multiple keys:\n     * Assets.add({alias: ['burger', 'chicken'], src: 'bunny.png'});\n     *\n     * const bunny = await Assets.load('burger');\n     * const bunny2 = await Assets.load('chicken');\n     *\n     * // passing options to to the object\n     * Assets.add({\n     *     alias: 'bunnyBooBooSmooth',\n     *     src: 'bunny{png,webp}',\n     *     data: { scaleMode: SCALE_MODES.NEAREST }, // Base texture options\n     * });\n     *\n     * // Multiple assets\n     *\n     * // The following all do the same thing:\n     *\n     * Assets.add({alias: 'bunnyBooBoo', src: 'bunny{png,webp}'});\n     *\n     * Assets.add({\n     *     alias: 'bunnyBooBoo',\n     *     src: [\n     *         'bunny.png',\n     *         'bunny.webp',\n     *    ],\n     * });\n     *\n     * const bunny = await Assets.load('bunnyBooBoo'); // Will try to load WebP if available\n     * @param assets - the unresolved assets to add to the resolver\n     */\n    public add(assets: (ArrayOr<UnresolvedAsset>)): void\n    {\n        this.resolver.add(assets);\n    }\n\n    /**\n     * Loads your assets! You pass in a key or URL and it will return a promise that\n     * resolves to the loaded asset. If multiple assets a requested, it will return a hash of assets.\n     *\n     * Don't worry about loading things multiple times, behind the scenes assets are only ever loaded\n     * once and the same promise reused behind the scenes so you can safely call this function multiple\n     * times with the same key and it will always return the same asset.\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * // Load a URL:\n     * const myImageTexture = await Assets.load('http://some.url.com/image.png'); // => returns a texture\n     *\n     * Assets.add('thumper', 'bunny.png');\n     * Assets.add('chicko', 'chicken.png');\n     *\n     * // Load multiple assets:\n     * const textures = await Assets.load(['thumper', 'chicko']); // => {thumper: Texture, chicko: Texture}\n     * @param urls - the urls to load\n     * @param onProgress - optional function that is called when progress on asset loading is made.\n     * The function is passed a single parameter, `progress`, which represents the percentage\n     * (0.0 - 1.0) of the assets loaded.\n     * @returns - the assets that were loaded, either a single asset or a hash of assets\n     */\n    public async load<T = any>(\n        urls: string | UnresolvedAsset,\n        onProgress?: ProgressCallback,\n    ): Promise<T>;\n    public async load<T = any>(\n        urls: string[] | UnresolvedAsset[],\n        onProgress?: ProgressCallback,\n    ): Promise<Record<string, T>>;\n    public async load<T = any>(\n        urls: ArrayOr<string> | ArrayOr<UnresolvedAsset>,\n        onProgress?: ProgressCallback\n    ): Promise<T | Record<string, T>>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        const singleAsset = isSingleItem(urls);\n\n        const urlArray: string[] = convertToList<UnresolvedAsset | string>(urls)\n            .map((url) =>\n            {\n                if (typeof url !== 'string')\n                {\n                    const aliases = this.resolver.getAlias(url);\n\n                    if (aliases.some((alias) => !this.resolver.hasKey(alias)))\n                    {\n                        this.add(url);\n                    }\n\n                    return Array.isArray(aliases) ? aliases[0] : aliases;\n                }\n\n                // if it hasn't been added, add it now\n                if (!this.resolver.hasKey(url)) this.add({ alias: url, src: url });\n\n                return url;\n            }) as string[];\n\n        // check cache first...\n        const resolveResults = this.resolver.resolve(urlArray);\n\n        // remap to the keys used..\n        const out: Record<string, T> = await this._mapLoadToResolve<T>(resolveResults, onProgress);\n\n        return singleAsset ? out[urlArray[0] as string] : out;\n    }\n\n    /**\n     * This adds a bundle of assets in one go so that you can load them as a group.\n     * For example you could add a bundle for each screen in you pixi app\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * Assets.addBundle('animals', {\n     *     bunny: 'bunny.png',\n     *     chicken: 'chicken.png',\n     *     thumper: 'thumper.png',\n     * });\n     *\n     * const assets = await Assets.loadBundle('animals');\n     * @param bundleId - the id of the bundle to add\n     * @param assets - a record of the asset or assets that will be chosen from when loading via the specified key\n     */\n    public addBundle(bundleId: string, assets: AssetsBundle['assets']): void\n    {\n        this.resolver.addBundle(bundleId, assets);\n    }\n\n    /**\n     * Bundles are a way to load multiple assets at once.\n     * If a manifest has been provided to the init function then you can load a bundle, or bundles.\n     * you can also add bundles via `addBundle`\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * // Manifest Example\n     * const manifest = {\n     *     bundles: [\n     *         {\n     *             name: 'load-screen',\n     *             assets: [\n     *                 {\n     *                     alias: 'background',\n     *                     src: 'sunset.png',\n     *                 },\n     *                 {\n     *                     alias: 'bar',\n     *                     src: 'load-bar.{png,webp}',\n     *                 },\n     *             ],\n     *         },\n     *         {\n     *             name: 'game-screen',\n     *             assets: [\n     *                 {\n     *                     alias: 'character',\n     *                     src: 'robot.png',\n     *                 },\n     *                 {\n     *                     alias: 'enemy',\n     *                     src: 'bad-guy.png',\n     *                 },\n     *             ],\n     *         },\n     *     ]\n     * };\n     *\n     * await Asset.init({ manifest });\n     *\n     * // Load a bundle...\n     * loadScreenAssets = await Assets.loadBundle('load-screen');\n     * // Load another bundle...\n     * gameScreenAssets = await Assets.loadBundle('game-screen');\n     * @param bundleIds - the bundle id or ids to load\n     * @param onProgress - Optional function that is called when progress on asset loading is made.\n     * The function is passed a single parameter, `progress`, which represents the percentage (0.0 - 1.0)\n     * of the assets loaded. Do not use this function to detect when assets are complete and available,\n     * instead use the Promise returned by this function.\n     * @returns all the bundles assets or a hash of assets for each bundle specified\n     */\n    public async loadBundle(bundleIds: ArrayOr<string>, onProgress?: ProgressCallback): Promise<any>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        let singleAsset = false;\n\n        if (typeof bundleIds === 'string')\n        {\n            singleAsset = true;\n            bundleIds = [bundleIds];\n        }\n\n        const resolveResults = this.resolver.resolveBundle(bundleIds);\n\n        const out: Record<string, Record<string, any>> = {};\n\n        const keys = Object.keys(resolveResults);\n        let count = 0;\n        let total = 0;\n        const _onProgress = () =>\n        {\n            onProgress?.(++count / total);\n        };\n        const promises = keys.map((bundleId) =>\n        {\n            const resolveResult = resolveResults[bundleId];\n\n            total += Object.keys(resolveResult).length;\n\n            return this._mapLoadToResolve(resolveResult, _onProgress)\n                .then((resolveResult) =>\n                {\n                    out[bundleId] = resolveResult;\n                });\n        });\n\n        await Promise.all(promises);\n\n        return singleAsset ? out[bundleIds[0]] : out;\n    }\n\n    /**\n     * Initiate a background load of some assets. It will passively begin to load these assets in the background.\n     * So when you actually come to loading them you will get a promise that resolves to the loaded assets immediately\n     *\n     * An example of this might be that you would background load game assets after your inital load.\n     * then when you got to actually load your game screen assets when a player goes to the game - the loading\n     * would already have stared or may even be complete, saving you having to show an interim load bar.\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * Assets.backgroundLoad('bunny.png');\n     *\n     * // later on in your app...\n     * await Assets.loadBundle('bunny.png'); // Will resolve quicker as loading may have completed!\n     * @param urls - the url / urls you want to background load\n     */\n    public async backgroundLoad(urls: ArrayOr<string>): Promise<void>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        if (typeof urls === 'string')\n        {\n            urls = [urls];\n        }\n\n        const resolveResults = this.resolver.resolve(urls);\n\n        this._backgroundLoader.add(Object.values(resolveResults));\n    }\n\n    /**\n     * Initiate a background of a bundle, works exactly like backgroundLoad but for bundles.\n     * this can only be used if the loader has been initiated with a manifest\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * await Assets.init({\n     *     manifest: {\n     *         bundles: [\n     *             {\n     *                 name: 'load-screen',\n     *                 assets: [...],\n     *             },\n     *             ...\n     *         ],\n     *     },\n     * });\n     *\n     * Assets.backgroundLoadBundle('load-screen');\n     *\n     * // Later on in your app...\n     * await Assets.loadBundle('load-screen'); // Will resolve quicker as loading may have completed!\n     * @param bundleIds - the bundleId / bundleIds you want to background load\n     */\n    public async backgroundLoadBundle(bundleIds: ArrayOr<string>): Promise<void>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        if (typeof bundleIds === 'string')\n        {\n            bundleIds = [bundleIds];\n        }\n\n        const resolveResults = this.resolver.resolveBundle(bundleIds);\n\n        Object.values(resolveResults).forEach((resolveResult) =>\n        {\n            this._backgroundLoader.add(Object.values(resolveResult));\n        });\n    }\n\n    /**\n     * Only intended for development purposes.\n     * This will wipe the resolver and caches.\n     * You will need to reinitialize the Asset\n     */\n    public reset(): void\n    {\n        this.resolver.reset();\n        this.loader.reset();\n        this.cache.reset();\n\n        this._initialized = false;\n    }\n\n    /**\n     * Instantly gets an asset already loaded from the cache. If the asset has not yet been loaded,\n     * it will return undefined. So it's on you! When in doubt just use `Assets.load` instead.\n     * (Remember, the loader will never load things more than once!)\n     * @param keys - The key or keys for the assets that you want to access\n     * @returns - The assets or hash of assets requested\n     */\n    public get<T = any>(keys: string): T;\n    public get<T = any>(keys: string[]): Record<string, T>;\n    public get<T = any>(keys: ArrayOr<string>): T | Record<string, T>\n    {\n        if (typeof keys === 'string')\n        {\n            return Cache.get(keys);\n        }\n\n        const assets: Record<string, T> = {};\n\n        for (let i = 0; i < keys.length; i++)\n        {\n            assets[i] = Cache.get(keys[i]);\n        }\n\n        return assets;\n    }\n\n    /**\n     * helper function to map resolved assets back to loaded assets\n     * @param resolveResults - the resolve results from the resolver\n     * @param onProgress - the progress callback\n     */\n    private async _mapLoadToResolve<T>(\n        resolveResults: ResolvedAsset | Record<string, ResolvedAsset>,\n        onProgress?: ProgressCallback\n    ): Promise<Record<string, T>>\n    {\n        const resolveArray = Object.values(resolveResults) as ResolvedAsset[];\n        const resolveKeys = Object.keys(resolveResults);\n\n        // pause background loader...\n        this._backgroundLoader.active = false;\n\n        const loadedAssets = await this.loader.load<T>(resolveArray, onProgress);\n\n        // resume background loader...\n        this._backgroundLoader.active = true;\n\n        // remap to the keys used..\n\n        const out: Record<string, T> = {};\n\n        resolveArray.forEach((resolveResult, i) =>\n        {\n            const asset = loadedAssets[resolveResult.src];\n\n            const keys = [resolveResult.src];\n\n            if (resolveResult.alias)\n            {\n                keys.push(...resolveResult.alias);\n            }\n\n            out[resolveKeys[i]] = asset;\n\n            Cache.set(keys, asset);\n        });\n\n        return out;\n    }\n\n    /**\n     * Unload an asset or assets. As the Assets class is responsible for creating the assets via the `load` function\n     * this will make sure to destroy any assets and release them from memory.\n     * Once unloaded, you will need to load the asset again.\n     *\n     * Use this to help manage assets if you find that you have a large app and you want to free up memory.\n     *\n     * - it's up to you as the developer to make sure that textures are not actively being used when you unload them,\n     * Pixi won't break but you will end up with missing assets. Not a good look for the user!\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * // Load a URL:\n     * const myImageTexture = await Assets.load('http://some.url.com/image.png'); // => returns a texture\n     *\n     * await Assets.unload('http://some.url.com/image.png')\n     *\n     * // myImageTexture will be destroyed now.\n     *\n     * // Unload multiple assets:\n     * const textures = await Assets.unload(['thumper', 'chicko']);\n     * @param urls - the urls to unload\n     */\n    public async unload(\n        urls: ArrayOr<string> | ResolvedAsset | ResolvedAsset[]\n    ): Promise<void>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        const urlArray = convertToList<string | ResolvedAsset>(urls)\n            .map((url) =>\n                ((typeof url !== 'string') ? url.src : url));\n\n        // check cache first...\n        const resolveResults = this.resolver.resolve(urlArray);\n\n        await this._unloadFromResolved(resolveResults);\n    }\n\n    /**\n     * Bundles are a way to manage multiple assets at once.\n     * this will unload all files in a bundle.\n     *\n     * once a bundle has been unloaded, you need to load it again to have access to the assets.\n     * @example\n     * import { Assets } from 'pixi.js';\n     *\n     * Assets.addBundle({\n     *     'thumper': 'http://some.url.com/thumper.png',\n     * })\n     *\n     * const assets = await Assets.loadBundle('thumper');\n     *\n     * // Now to unload...\n     *\n     * await Assets.unloadBundle('thumper');\n     *\n     * // All assets in the assets object will now have been destroyed and purged from the cache\n     * @param bundleIds - the bundle id or ids to unload\n     */\n    public async unloadBundle(bundleIds: ArrayOr<string>): Promise<void>\n    {\n        if (!this._initialized)\n        {\n            await this.init();\n        }\n\n        bundleIds = convertToList<string>(bundleIds);\n\n        const resolveResults = this.resolver.resolveBundle(bundleIds);\n\n        const promises = Object.keys(resolveResults).map((bundleId) =>\n            this._unloadFromResolved(resolveResults[bundleId]));\n\n        await Promise.all(promises);\n    }\n\n    private async _unloadFromResolved(resolveResult: ResolvedAsset | Record<string, ResolvedAsset>)\n    {\n        const resolveArray = Object.values(resolveResult);\n\n        resolveArray.forEach((resolveResult) =>\n        {\n            Cache.remove(resolveResult.src);\n        });\n\n        await this.loader.unload(resolveArray);\n    }\n\n    /**\n     * Detects the supported formats for the browser, and returns an array of supported formats, respecting\n     * the users preferred formats order.\n     * @param options - the options to use when detecting formats\n     * @param options.preferredFormats - the preferred formats to use\n     * @param options.skipDetections - if we should skip the detections altogether\n     * @param options.detections - the detections to use\n     * @returns - the detected formats\n     */\n    private async _detectFormats(options: {\n        preferredFormats: string | string[],\n        skipDetections: boolean,\n        detections: FormatDetectionParser[]\n    }): Promise<string[]>\n    {\n        let formats: string[] = [];\n\n        // set preferred formats\n        if (options.preferredFormats)\n        {\n            formats = Array.isArray(options.preferredFormats)\n                ? options.preferredFormats : [options.preferredFormats];\n        }\n\n        // we should add any formats that are supported by the browser\n        for (const detection of options.detections)\n        {\n            if (options.skipDetections || await detection.test())\n            {\n                formats = await detection.add(formats);\n            }\n            else if (!options.skipDetections)\n            {\n                formats = await detection.remove(formats);\n            }\n        }\n\n        // remove any duplicates\n        formats = formats.filter((format, index) => formats.indexOf(format) === index);\n\n        return formats;\n    }\n\n    /** All the detection parsers currently added to the Assets class. */\n    public get detections(): FormatDetectionParser[]\n    {\n        return this._detections;\n    }\n\n    /**\n     * General setter for preferences. This is a helper function to set preferences on all parsers.\n     * @param preferences - the preferences to set\n     */\n    public setPreferences(preferences: Partial<AssetsPreferences>): void\n    {\n        // Find matching config keys in loaders with preferences\n        // and set the values\n        this.loader.parsers.forEach((parser) =>\n        {\n            if (!parser.config) return;\n\n            (Object.keys(parser.config) as (keyof AssetsPreferences)[])\n                .filter((key) => key in preferences)\n                .forEach((key) =>\n                {\n                    parser.config[key] = preferences[key];\n                });\n        });\n    }\n}\n\nexport const Assets = new AssetsClass();\n\n// Handle registration of extensions\nextensions\n    .handleByList(ExtensionType.LoadParser, Assets.loader.parsers)\n    .handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers)\n    .handleByList(ExtensionType.CacheParser, Assets.cache.parsers)\n    .handleByList(ExtensionType.DetectionParser, Assets.detections);\n","import type { PRECISION } from '../const';\n\ninterface EnsurePrecisionOptions\n{\n    requestedVertexPrecision: PRECISION;\n    requestedFragmentPrecision: PRECISION;\n    maxSupportedVertexPrecision: PRECISION;\n    maxSupportedFragmentPrecision: PRECISION;\n}\n\n/**\n * Sets the float precision on the shader, ensuring the device supports the request precision.\n * If the precision is already present, it just ensures that the device is able to handle it.\n * @param src\n * @param options\n * @param options.requestedVertexPrecision\n * @param options.requestedFragmentPrecision\n * @param options.maxSupportedVertexPrecision\n * @param options.maxSupportedFragmentPrecision\n * @param isFragment\n */\nexport function ensurePrecision(\n    src: string,\n    options: EnsurePrecisionOptions,\n    isFragment: boolean,\n): string\n{\n    const maxSupportedPrecision = isFragment ? options.maxSupportedFragmentPrecision : options.maxSupportedVertexPrecision;\n\n    if (src.substring(0, 9) !== 'precision')\n    {\n        // no precision supplied, so PixiJS will add the requested level.\n        let precision = isFragment ? options.requestedFragmentPrecision : options.requestedVertexPrecision;\n\n        // If highp is requested but not supported, downgrade precision to a level all devices support.\n        if (precision === 'highp' && maxSupportedPrecision !== 'highp')\n        {\n            precision = 'mediump';\n        }\n\n        if (src.substring(0, 8) !== '#version')\n        {\n            return `precision ${precision} float;\\n${src}`;\n        }\n\n        // get the first line break in the src\n        const firstLineBreak = src.indexOf('\\n');\n\n        // insert the precision statement after the first line\n        return `${src.substring(0, firstLineBreak + 1)}precision ${precision} float;\\n${src.substring(firstLineBreak + 1)}`;\n    }\n    else if (maxSupportedPrecision !== 'highp' && src.substring(0, 15) === 'precision highp')\n    {\n        // precision was supplied, but at a level this device does not support, so downgrading to mediump.\n        return src.replace('precision highp', 'precision mediump');\n    }\n\n    return src;\n}\n","import { DOMAdapter } from '../../../../../settings/adapter/adapter';\n\nconst unknownContext = {};\nlet context: WebGLRenderingContext | WebGL2RenderingContext = unknownContext as any;\n\n/**\n * returns a little WebGL context to use for program inspection.\n * @static\n * @private\n * @returns {WebGLRenderingContext} a gl context to test with\n */\nexport function getTestContext(): WebGLRenderingContext | WebGL2RenderingContext\n{\n    if (context === unknownContext || context?.isContextLost())\n    {\n        const canvas = DOMAdapter.get().createCanvas();\n\n        context = canvas.getContext('webgl2', {});\n    }\n\n    return context;\n}\n","import { getTestContext } from './getTestContext';\n\nimport type { PRECISION } from '../const';\n\nlet maxFragmentPrecision: PRECISION;\n\nexport function getMaxFragmentPrecision(): PRECISION\n{\n    if (!maxFragmentPrecision)\n    {\n        maxFragmentPrecision = 'mediump';\n        const gl = getTestContext();\n\n        if (gl)\n        {\n            if (gl.getShaderPrecisionFormat)\n            {\n                const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n\n                maxFragmentPrecision = shaderFragment.precision ? 'highp' : 'mediump';\n            }\n        }\n    }\n\n    return maxFragmentPrecision;\n}\n","const fragmentNameCache: { [key: string]: number } = {};\nconst VertexNameCache: { [key: string]: number } = {};\n\nexport function setProgramName(src: string, { name = `pixi-program` }: { name: string; }, isFragment = true)\n{\n    name = name.replace(/\\s+/g, '-');\n\n    name += isFragment ? '-fragment' : '-vertex';\n\n    const nameCache = isFragment ? fragmentNameCache : VertexNameCache;\n\n    if (nameCache[name])\n    {\n        nameCache[name]++;\n        name += `-${nameCache[name]}`;\n    }\n    else\n    {\n        nameCache[name] = 1;\n    }\n\n    // if it already contains the define return\n    if (src.indexOf('#define SHADER_NAME') !== -1) return src;\n\n    const shaderName = `#define SHADER_NAME ${name}`;\n\n    if (src.substring(0, 8) !== '#version')\n    {\n        return `${shaderName}\\n${src}`;\n    }\n\n    // get the first line break in the src\n    const firstLineBreak = src.indexOf('\\n');\n\n    // insert the precision statement after the first line\n    return `${src.substring(0, firstLineBreak + 1)}${shaderName}\\n${src.substring(firstLineBreak + 1)}`;\n}\n","export function setProgramVersion(src: string, { version = '300 es' }: { version: string; })\n{\n    if (src.substring(0, 8) === '#version') return src;\n\n    return `#version ${version}\\n${src}`;\n}\n","import { ensurePrecision } from './program/ensurePrecision';\nimport { getMaxFragmentPrecision } from './program/getMaxFragmentPrecision';\nimport { setProgramName } from './program/setProgramName';\nimport { setProgramVersion } from './program/setProgramVersion';\n\nimport type { TypedArray } from '../../shared/buffer/Buffer';\n\nexport type ProgramPipelineLayoutDescription = GPUBindGroupLayoutEntry[][];\nexport type ProgramLayout = Record<string, number>[];\n\nexport interface IAttributeData\n{\n    type: string;\n    size: number;\n    location: number;\n    name: string;\n}\n\nexport interface IUniformData\n{\n    name: string;\n    index: number;\n    type: string;\n    size: number;\n    isArray: boolean;\n    value: any;\n}\n\nexport interface IUniformBlockData\n{\n    index: number;\n    name: string;\n    size: number;\n    value?: TypedArray;\n}\n\nexport interface GlProgramOptions\n{\n    fragment?: string;\n    vertex?: string;\n    name?: string;\n    preferredVertexPrecision?: string;\n    preferredFragmentPrecision?: string;\n}\n\nconst processes: Record<string, ((source: string, options: any, isFragment?: boolean) => string)> = {\n    ensurePrecision,\n    setProgramName,\n    setProgramVersion\n};\n\nexport class GlProgram\n{\n    public static defaultOptions: GlProgramOptions = {\n        preferredVertexPrecision: 'highp',\n        preferredFragmentPrecision: 'mediump',\n    };\n\n    public fragment?: string;\n    public vertex?: string;\n\n    public attributeData: Record<string, IAttributeData>;\n    public uniformData: Record<string, IUniformData>;\n    public uniformBlockData: Record<string, IUniformBlockData>;\n\n    public transformFeedbackVaryings?: {names: string[], bufferMode: 'separate' | 'interleaved'};\n\n    public readonly key: string;\n\n    constructor(options: GlProgramOptions)\n    {\n        options = { ...GlProgram.defaultOptions, ...options };\n\n        const preprocessorOptions = {\n            ensurePrecision: {\n                requestedFragmentPrecision: options.preferredFragmentPrecision,\n                requestedVertexPrecision: options.preferredVertexPrecision,\n                maxSupportedVertexPrecision: 'highp',\n                maxSupportedFragmentPrecision: getMaxFragmentPrecision(),\n            },\n            setProgramName: {\n                name: options.name,\n            },\n            setProgramVersion: {\n                version: '300 es',\n            }\n        };\n\n        let fragment = options.fragment;\n        let vertex = options.vertex;\n\n        Object.keys(processes).forEach((processKey) =>\n        {\n            const processOptions = preprocessorOptions[processKey as keyof typeof preprocessorOptions] ?? {};\n\n            fragment = processes[processKey](fragment, processOptions, true);\n            vertex = processes[processKey](vertex, processOptions, false);\n        });\n\n        this.fragment = fragment;\n        this.vertex = vertex;\n\n        this.key = `${this.vertex}:${this.fragment}`;\n    }\n\n    public destroy(): void\n    {\n        this.fragment = null;\n        this.vertex = null;\n\n        this.attributeData = null;\n        this.uniformData = null;\n        this.uniformBlockData = null;\n\n        this.transformFeedbackVaryings = null;\n    }\n\n    public static programCached: Record<string, GlProgram> = Object.create(null);\n    public static from(options: GlProgramOptions): GlProgram\n    {\n        const key = `${options.vertex}:${options.fragment}`;\n\n        if (!GlProgram.programCached[key])\n        {\n            GlProgram.programCached[key] = new GlProgram(options);\n        }\n\n        return GlProgram.programCached[key];\n    }\n}\n","export interface StructsAndGroups\n{\n    groups: {\n        group: number;\n        binding: number;\n        name: string;\n        isUniform: boolean;\n        type: string;\n    }[];\n    structs: {\n        name: string;\n        members: Record<string, string>;\n    }[];\n}\n\nexport function extractStructAndGroups(wgsl: string): StructsAndGroups\n{\n    // Patterns for parsing the WGSL file\n    const linePattern = /(?<!\\/\\/.*)@(group|binding)\\(\\d+\\)[^;]+;/g;\n    const groupPattern = /@group\\((\\d+)\\)/;\n    const bindingPattern = /@binding\\((\\d+)\\)/;\n    const namePattern = /var(<[^>]+>)? (\\w+)/;\n    const typePattern = /:\\s*(\\w+)/;\n    const structPattern = /struct\\s+(\\w+)\\s*{([^}]+)}/g;\n    const structMemberPattern = /(\\w+)\\s*:\\s*([\\w\\<\\>]+)/g;\n    const structName = /struct\\s+(\\w+)/;\n\n    // Find the @group and @binding annotations\n    const groups = wgsl.match(linePattern)?.map((item) => ({\n        group: parseInt(item.match(groupPattern)[1], 10),\n        binding: parseInt(item.match(bindingPattern)[1], 10),\n        name: item.match(namePattern)[2],\n        isUniform: item.match(namePattern)[1] === '<uniform>',\n        type: item.match(typePattern)[1],\n    }));\n\n    if (!groups)\n    {\n        return {\n            groups: [],\n            structs: [],\n        };\n    }\n\n    // Find the structs\n    const structs = wgsl\n        .match(structPattern)\n        ?.map((struct) =>\n        {\n            const name = struct.match(structName)[1];\n            const members = struct.match(structMemberPattern).reduce((acc: Record<string, string>, member) =>\n            {\n                const [name, type] = member.split(':');\n\n                acc[name.trim()] = type.trim();\n\n                return acc;\n            }, {});\n\n            if (!members)\n            {\n                return null;\n            }\n\n            return { name, members };\n            // Only include the structs mentioned in the @group/@binding annotations\n        })\n        .filter(({ name }) => groups.some((group) => group.type === name)) ?? [];\n\n    return {\n        groups,\n        structs,\n    };\n}\n","export enum ShaderStage\n    {\n    VERTEX = 1,\n    FRAGMENT = 2,\n    COMPUTE = 4\n}\n","import { ShaderStage } from '../../shared/shader/const';\n\nimport type { ProgramPipelineLayoutDescription } from '../../gl/shader/GlProgram';\nimport type { StructsAndGroups } from './extractStructAndGroups';\n\nexport function generateGpuLayoutGroups({ groups }: StructsAndGroups): ProgramPipelineLayoutDescription\n{\n    const layout: ProgramPipelineLayoutDescription = [];\n\n    for (let i = 0; i < groups.length; i++)\n    {\n        const group = groups[i];\n\n        if (!layout[group.group])\n        {\n            layout[group.group] = [];\n        }\n\n        if (group.isUniform)\n        {\n            layout[group.group].push({\n                binding: group.binding,\n                visibility: ShaderStage.VERTEX | ShaderStage.FRAGMENT,\n                buffer: {\n                    type: 'uniform'\n                }\n            });\n        }\n        else if (group.type === 'sampler')\n        {\n            layout[group.group].push({\n                binding: group.binding,\n                visibility: ShaderStage.FRAGMENT,\n                sampler: {\n                    type: 'filtering'\n                }\n            });\n        }\n        else if (group.type === 'texture_2d')\n        {\n            layout[group.group].push({\n                binding: group.binding,\n                visibility: ShaderStage.FRAGMENT,\n                texture: {\n                    sampleType: 'float',\n                    viewDimension: '2d',\n                    multisampled: false,\n                }\n            });\n        }\n    }\n\n    return layout;\n}\n","import type { ProgramLayout } from '../../gl/shader/GlProgram';\nimport type { StructsAndGroups } from './extractStructAndGroups';\n\nexport function generateLayoutHash({ groups }: StructsAndGroups): ProgramLayout\n{\n    const layout: ProgramLayout = [];\n\n    for (let i = 0; i < groups.length; i++)\n    {\n        const group = groups[i];\n\n        if (!layout[group.group])\n        {\n            layout[group.group] = {};\n        }\n\n        layout[group.group][group.name] = group.binding;\n    }\n\n    return layout;\n}\n","import type { StructsAndGroups } from './extractStructAndGroups';\n\nexport function removeStructAndGroupDuplicates(\n    vertexStructsAndGroups: StructsAndGroups,\n    fragmentStructsAndGroups: StructsAndGroups\n)\n{\n    const structNameSet = new Set();\n    const dupeGroupKeySet = new Set();\n\n    const structs = [...vertexStructsAndGroups.structs, ...fragmentStructsAndGroups.structs]\n        .filter((struct) =>\n        {\n            if (structNameSet.has(struct.name))\n            {\n                return false;\n            }\n            structNameSet.add(struct.name);\n\n            return true;\n        });\n\n    const groups = [...vertexStructsAndGroups.groups, ...fragmentStructsAndGroups.groups]\n        .filter((group) =>\n        {\n            const key = `${group.name}-${group.binding}`;\n\n            if (dupeGroupKeySet.has(key))\n            {\n                return false;\n            }\n            dupeGroupKeySet.add(key);\n\n            return true;\n        });\n\n    return { structs, groups };\n}\n","import { extractStructAndGroups } from './extractStructAndGroups';\nimport { generateGpuLayoutGroups } from './generateGpuLayoutGroups';\nimport { generateLayoutHash } from './generateLayoutHash';\nimport { removeStructAndGroupDuplicates } from './removeStructAndGroupDuplicates';\n\nimport type { ProgramLayout, ProgramPipelineLayoutDescription } from '../../gl/shader/GlProgram';\nimport type { StructsAndGroups } from './extractStructAndGroups';\n\nexport interface ProgramSource\n{\n    source: string;\n    entryPoint?: string;\n}\n\nexport interface GpuProgramOptions\n{\n    name?: string;\n    fragment?: ProgramSource;\n    vertex?: ProgramSource;\n    layout?: ProgramLayout;\n    gpuLayout?: ProgramPipelineLayoutDescription;\n}\n\n// TODO incorporate later?\nexport interface SimpleShaderOptions\n{\n    fragment?: string;\n    vertex?: string;\n}\n\nexport class GpuProgram\n{\n    public fragment?: ProgramSource;\n    public vertex?: ProgramSource;\n\n    public layout: ProgramLayout;\n\n    public gpuLayout: ProgramPipelineLayoutDescription;\n\n    /** @internal */\n    public _layoutKey = 0;\n    /** @internal */\n    public _gpuLayout: {\n        bindGroups: GPUBindGroupLayout[];\n        pipeline: GPUPipelineLayout | 'auto';\n    };\n\n    public structsAndGroups: StructsAndGroups;\n    public name: string;\n\n    constructor({ fragment, vertex, layout, gpuLayout, name }: GpuProgramOptions)\n    {\n        this.name = name;\n\n        this.fragment = fragment;\n        this.vertex = vertex;\n\n        // TODO this should be cached - or dealt with at a system level.\n        if (fragment.source === vertex.source)\n        {\n            const structsAndGroups = extractStructAndGroups(fragment.source);\n\n            this.structsAndGroups = structsAndGroups;\n        }\n        else\n        {\n            const vertexStructsAndGroups = extractStructAndGroups(vertex.source);\n            const fragmentStructsAndGroups = extractStructAndGroups(fragment.source);\n\n            this.structsAndGroups = removeStructAndGroupDuplicates(vertexStructsAndGroups, fragmentStructsAndGroups);\n        }\n\n        // todo layout\n        this.layout = layout ?? generateLayoutHash(this.structsAndGroups);\n\n        // struct properties!\n\n        this.gpuLayout = gpuLayout ?? generateGpuLayoutGroups(this.structsAndGroups);\n    }\n\n    public destroy(): void\n    {\n        this._gpuLayout = null;\n        this.gpuLayout = null;\n        this.layout = null;\n        this.structsAndGroups = null;\n        this.fragment = null;\n        this.vertex = null;\n    }\n\n    public static programCached: Record<string, GpuProgram> = Object.create(null);\n    public static from(options: GpuProgramOptions): GpuProgram\n    {\n        // eslint-disable-next-line max-len\n        const key = `${options.vertex.source}:${options.fragment.source}:${options.fragment.entryPoint}:${options.vertex.entryPoint}`;\n\n        if (!GpuProgram.programCached[key])\n        {\n            GpuProgram.programCached[key] = new GpuProgram(options);\n        }\n\n        return GpuProgram.programCached[key];\n    }\n}\n\n","/**\n * @method defaultValue\n * @param {string} type - Type of value\n * @param {number} size\n * @private\n */\nexport function defaultUniformValue(\n    type: string,\n    size: number\n): number | Float32Array | Int32Array | Uint32Array | boolean | boolean[]\n{\n    switch (type)\n    {\n        case 'f32':\n            return 0;\n\n        case 'vec2<f32>':\n            return new Float32Array(2 * size);\n\n        case 'vec3<f32>':\n            return new Float32Array(3 * size);\n\n        case 'vec4<f32>':\n            return new Float32Array(4 * size);\n        case 'mat2x2<f32>':\n            return new Float32Array([1, 0,\n                0, 1]);\n\n        case 'mat3x3<f32>':\n            return new Float32Array([1, 0, 0,\n                0, 1, 0,\n                0, 0, 1]);\n\n        case 'mat4x4<f32>':\n            return new Float32Array([1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1]);\n    }\n\n    return null;\n}\n","import { uid } from '../../../../utils/data/uid';\nimport { defaultUniformValue } from './utils/defaultUniformValue';\n\nimport type { BindResource } from '../../gpu/shader/BindResource';\nimport type { Buffer } from '../buffer/Buffer';\nimport type { UniformData } from './utils/createUBOElements';\n\ntype FLOPS<T = UniformData> = T extends { value: infer V } ? V : never;\n\n// TODO replace..T['value']\ntype ExtractUniformObject<T = Record<string, UniformData>> = {\n    [K in keyof T]: FLOPS<T[K]>;\n};\n\nexport type UniformGroupOptions = {\n    ubo?: boolean;\n    isStatic?: boolean;\n};\n\nexport class UniformGroup<UNIFORMS extends { [key: string]: UniformData } = any> implements BindResource\n{\n    public static DEFAULT: UniformGroupOptions = {\n        ubo: false,\n        isStatic: false,\n    };\n\n    public touched = 0;\n\n    public readonly uid = uid('uniform');\n\n    public resourceType = 'uniformGroup';\n    public resourceId = this.uid;\n\n    public uniformStructures: UNIFORMS;\n    public uniforms: ExtractUniformObject<UNIFORMS>;\n\n    public ubo: boolean;\n\n    public buffer?: Buffer;\n\n    public isStatic: boolean;\n    // to identify this as a uniform group\n    public readonly isUniformGroup = true;\n\n    public dirtyId = 0;\n\n    public readonly signature: string;\n\n    /** @internal */\n    public _syncFunction?: (uniforms: UNIFORMS, data: Float32Array, offset: number) => void;\n\n    constructor(uniformStructures: UNIFORMS, options?: UniformGroupOptions)\n    {\n        options = { ...UniformGroup.DEFAULT, ...options };\n\n        this.uniformStructures = uniformStructures;\n\n        const uniforms = {} as ExtractUniformObject<UNIFORMS>;\n\n        for (const i in uniformStructures)\n        {\n            const uniformData = uniformStructures[i] as UniformData;\n\n            uniformData.name = i;\n            uniformData.size = uniformData.size ?? 1;\n            uniformData.value ??= defaultUniformValue(uniformData.type, uniformData.size);\n\n            uniforms[i] = uniformData.value as ExtractUniformObject<UNIFORMS>[keyof UNIFORMS];\n        }\n\n        this.uniforms = uniforms;\n\n        this.dirtyId = 1;\n        this.ubo = options.ubo;\n        this.isStatic = options.isStatic;\n\n        this.signature = Object.keys(uniforms).map(\n            (i) => `${i}-${(uniformStructures[i as keyof typeof uniformStructures] as UniformData).type}`\n        ).join('-');\n    }\n\n    public update(): void\n    {\n        this.dirtyId++;\n        // dispatch...\n    }\n}\n","import type { BindResource } from './BindResource';\n\nexport class BindGroup\n{\n    public resources: Record<string, BindResource> = Object.create(null);\n    public key: string;\n    private _dirty = true;\n\n    constructor(resources?: Record<string, BindResource>)\n    {\n        let index = 0;\n\n        for (const i in resources)\n        {\n            const resource: BindResource = resources[i];\n\n            this.setResource(resource, index++);\n        }\n\n        this.updateKey();\n    }\n\n    public update()\n    {\n        this.updateKey();\n    }\n\n    public updateKey(): void\n    {\n        if (!this._dirty) return;\n\n        this._dirty = false;\n\n        const keyParts = [];\n        let index = 0;\n\n        // TODO - lets use big ints instead of strings...\n        for (const i in this.resources)\n        {\n            // TODO make this consistent...\n            keyParts[index++] = this.resources[i].resourceId;\n        }\n\n        this.key = keyParts.join('|');\n    }\n\n    public setResource(resource: BindResource, index: number): void\n    {\n        const currentResource = this.resources[index];\n\n        if (resource === currentResource) return;\n\n        if (currentResource)\n        {\n            resource.off?.('change', this.onResourceChange, this);\n        }\n\n        resource.on?.('change', this.onResourceChange, this);\n\n        this.resources[index] = resource;\n        this._dirty = true;\n    }\n\n    public getResource(index: number): BindResource\n    {\n        return this.resources[index];\n    }\n\n    public touch(tick: number)\n    {\n        const resources = this.resources;\n\n        for (const i in resources)\n        {\n            resources[i].touched = tick;\n        }\n    }\n\n    public destroy()\n    {\n        const resources = this.resources;\n\n        for (const i in resources)\n        {\n            const resource = resources[i];\n\n            resource.off?.('change', this.onResourceChange, this);\n        }\n\n        this.resources = null;\n    }\n\n    protected onResourceChange()\n    {\n        this._dirty = true;\n        this.update();\n    }\n}\n","import type { ICanvas } from '../../settings/adapter/ICanvas';\nimport type { WebGLOptions, WebGLPipes, WebGLRenderer } from './gl/WebGLRenderer';\nimport type { WebGPUOptions, WebGPUPipes, WebGPURenderer } from './gpu/WebGPURenderer';\n\n/** A generic renderer. */\nexport type Renderer<T extends ICanvas = HTMLCanvasElement> = WebGLRenderer<T> | WebGPURenderer<T>;\nexport type RenderPipes = WebGLPipes | WebGPUPipes;\nexport interface RendererOptions extends WebGLOptions, WebGPUOptions {}\n\n/* eslint-disable @typescript-eslint/indent */\n/**\n * Ids for the different render types.\n * The idea is that you can use bitwise operations to filter weather or not you want to do somthing in a certain render type.\n * Filters for example can be compatible for both webGL or WebGPU but not compatible with canvas.\n * So internally if it works with both we set filter.compatibleRenderers = RendererType.WEBGL | RendererType.WEBGPU\n * if it only works with webgl we set filter.compatibleRenderers = RendererType.WEBGL\n *\n */\nexport enum RendererType\n{\n    WEBGL = 0b1,\n    WEBGPU = 0b10\n}\n","import EventEmitter from 'eventemitter3';\nimport { BindGroup } from '../../gpu/shader/BindGroup';\nimport { RendererType } from '../../types';\nimport { UniformGroup } from './UniformGroup';\n\nimport type { GlProgram } from '../../gl/shader/GlProgram';\nimport type { BindResource } from '../../gpu/shader/BindResource';\nimport type { GpuProgram } from '../../gpu/shader/GpuProgram';\n\nexport type ShaderGroups = Record<number, BindGroup>;\n\nexport interface ShaderWithGroupsDescriptor\n{\n    glProgram?: GlProgram;\n    gpuProgram?: GpuProgram;\n    groups: ShaderGroups;\n    groupMap?: Record<string, Record<string, any>>;\n    compatibleRenderers?: number;\n}\n\nexport interface ShaderWithResourcesDescriptor\n{\n    glProgram?: GlProgram;\n    gpuProgram?: GpuProgram;\n    resources: Record<string, any>;\n    compatibleRenderers?: number;\n}\n\ninterface GroupsData\n{\n    group: number\n    binding: number\n    name: string\n}\n\ntype ShaderDescriptor = ShaderWithGroupsDescriptor & ShaderWithResourcesDescriptor;\n\nexport class Shader extends EventEmitter<{\n    'destroy': Shader;\n}>\n{\n    public gpuProgram: GpuProgram;\n    public glProgram: GlProgram;\n\n    public readonly compatibleRenderers;\n\n    public groups: Record<number, BindGroup>;\n    public resources: Record<string, any>;\n\n    public uniformBindMap: Record<number, Record<number, string>> = Object.create(null);\n\n    constructor({ gpuProgram, glProgram, resources, compatibleRenderers }: ShaderWithResourcesDescriptor);\n    constructor({ gpuProgram, glProgram, groups, groupMap, compatibleRenderers }: ShaderWithGroupsDescriptor);\n    constructor({ gpuProgram, glProgram, groups, resources, groupMap, compatibleRenderers }: ShaderDescriptor)\n    {\n        super();\n\n        this.gpuProgram = gpuProgram;\n        this.glProgram = glProgram;\n\n        if (compatibleRenderers === undefined)\n        {\n            compatibleRenderers = 0;\n\n            if (gpuProgram)compatibleRenderers |= RendererType.WEBGPU;\n            if (glProgram)compatibleRenderers |= RendererType.WEBGL;\n        }\n\n        this.compatibleRenderers = compatibleRenderers;\n\n        const nameHash: Record<string, GroupsData> = {};\n\n        if (resources && groups)\n        {\n            throw new Error('[Shader] Cannot have both resources and groups');\n        }\n        else if (!resources && !groups)\n        {\n            throw new Error('[Shader] Must provide either resources or groups descriptor');\n        }\n        else if (!gpuProgram && groups && !groupMap)\n        {\n            throw new Error('[Shader] No group map or WebGPU shader provided - consider using resources instead.');\n        }\n        else if (!gpuProgram && groups && groupMap)\n        {\n            for (const i in groupMap)\n            {\n                for (const j in groupMap[i])\n                {\n                    const uniformName = groupMap[i][j];\n\n                    nameHash[uniformName] = {\n                        group: i as unknown as number,\n                        binding: j as unknown as number,\n                        name: uniformName\n                    };\n                }\n            }\n        }\n        else if (gpuProgram && groups && !groupMap)\n        {\n            const groupData = gpuProgram.structsAndGroups.groups;\n\n            groupMap = {};\n\n            groupData.forEach((data) =>\n            {\n                groupMap[data.group] = groupMap[data.group] || {};\n                groupMap[data.group][data.binding] = data.name;\n\n                nameHash[data.name] = data;\n            });\n        }\n        else if (resources)\n        {\n            if (!gpuProgram)\n            {\n                // build out a dummy bind group..\n                groupMap = {};\n                groups = {\n                    99: new BindGroup(),\n                };\n\n                let bindTick = 0;\n\n                for (const i in resources)\n                {\n                    // Yes i know this is a little strange, but wil line up the shaders neatly\n                    // basically we want to be driven by how webGPU does things.\n                    // so making a fake group will work and not affect gpu as it means no gpu shader was provided..\n                    nameHash[i] = { group: 99, binding: bindTick, name: i };\n\n                    groupMap[99] = groupMap[99] || {};\n                    groupMap[99][bindTick] = i;\n\n                    bindTick++;\n                }\n            }\n            else\n            {\n                const groupData = gpuProgram.structsAndGroups.groups;\n\n                groupMap = {};\n\n                groupData.forEach((data) =>\n                {\n                    groupMap[data.group] = groupMap[data.group] || {};\n                    groupMap[data.group][data.binding] = data.name;\n\n                    nameHash[data.name] = data;\n                });\n            }\n\n            groups = {};\n\n            for (const i in resources)\n            {\n                const name = i;\n                let value = resources[i];\n\n                if (!(value.source) && !(value as BindResource).resourceType)\n                {\n                    value = new UniformGroup(value);\n                }\n\n                const data = nameHash[name];\n\n                if (data)\n                {\n                    groups[data.group] = groups[data.group] || new BindGroup();\n\n                    groups[data.group].setResource(value, data.binding);\n                }\n            }\n        }\n\n        this.groups = groups;\n        this.uniformBindMap = groupMap;\n\n        this.resources = this._buildResourceAccessor(groups, nameHash);\n    }\n\n    public addResource(name: string, groupIndex: number, bindIndex: number): void\n    {\n        this.uniformBindMap[groupIndex] ||= {};\n\n        this.uniformBindMap[groupIndex][bindIndex] ||= name;\n    }\n\n    private _buildResourceAccessor(groups: ShaderGroups, nameHash: Record<string, GroupsData>)\n    {\n        const uniformsOut = {};\n\n        for (const i in nameHash)\n        {\n            const data = nameHash[i];\n\n            // add getter setter for uniforms\n            Object.defineProperty(uniformsOut, data.name, {\n                get()\n                {\n                    return groups[data.group].getResource(data.binding);\n                },\n                set(value)\n                {\n                    groups[data.group].setResource(value, data.binding);\n                }\n            });\n        }\n\n        return uniformsOut;\n    }\n\n    public destroy(destroyProgram = false): void\n    {\n        this.emit('destroy', this);\n\n        if (destroyProgram)\n        {\n            this.gpuProgram?.destroy();\n            this.glProgram?.destroy();\n        }\n\n        this.gpuProgram = null;\n        this.glProgram = null;\n\n        this.groups = null;\n\n        this.removeAllListeners();\n\n        this.uniformBindMap = null;\n\n        this.resources = null;\n    }\n}\n","/* eslint-disable max-len */\nimport type { BLEND_MODES, CULL_MODES } from './const';\n\nconst blendModeIds = {\n    normal: 0,\n    additive: 1,\n    multiply: 2,\n    screen: 3,\n    overlay: 4,\n    erase: 5,\n};\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\n\n/**\n * This is a WebGL state, and is is passed to {@link StateSystem}.\n *\n * Each mesh rendered may require WebGL to be in a different state.\n * For example you may want different blend mode or to enable polygon offsets\n */\nexport class State\n{\n    public data: number;\n    /** @internal */\n    public _blendModeId: number;\n    private _blendMode: BLEND_MODES;\n    private _polygonOffset: number;\n\n    constructor()\n    {\n        this.data = 0;\n\n        this.blendMode = 'normal';\n        this.polygonOffset = 0;\n\n        this.blend = true;\n        this.depthMask = true;\n    }\n\n    /**\n     * Activates blending of the computed fragment color values.\n     * @default true\n     */\n    get blend(): boolean\n    {\n        return !!(this.data & (1 << BLEND));\n    }\n\n    set blend(value: boolean)\n    {\n        if (!!(this.data & (1 << BLEND)) !== value)\n        {\n            this.data ^= (1 << BLEND);\n        }\n    }\n\n    /**\n     * Activates adding an offset to depth values of polygon's fragments\n     * @default false\n     */\n    get offsets(): boolean\n    {\n        return !!(this.data & (1 << OFFSET));\n    }\n\n    set offsets(value: boolean)\n    {\n        if (!!(this.data & (1 << OFFSET)) !== value)\n        {\n            this.data ^= (1 << OFFSET);\n        }\n    }\n\n    set cullMode(value: CULL_MODES)\n    {\n        if (value === 'none')\n        {\n            this.culling = false;\n\n            return;\n        }\n\n        this.culling = true;\n        this.clockwiseFrontFace = value === 'front';\n    }\n\n    get cullMode(): CULL_MODES\n    {\n        if (!this.culling)\n        {\n            return 'none';\n        }\n\n        return this.clockwiseFrontFace ? 'front' : 'back';\n    }\n\n    /**\n     * Activates culling of polygons.\n     * @default false\n     */\n    get culling(): boolean\n    {\n        return !!(this.data & (1 << CULLING));\n    }\n\n    set culling(value: boolean)\n    {\n        if (!!(this.data & (1 << CULLING)) !== value)\n        {\n            this.data ^= (1 << CULLING);\n        }\n    }\n\n    /**\n     * Activates depth comparisons and updates to the depth buffer.\n     * @default false\n     */\n    get depthTest(): boolean\n    {\n        return !!(this.data & (1 << DEPTH_TEST));\n    }\n\n    set depthTest(value: boolean)\n    {\n        if (!!(this.data & (1 << DEPTH_TEST)) !== value)\n        {\n            this.data ^= (1 << DEPTH_TEST);\n        }\n    }\n\n    /**\n     * Enables or disables writing to the depth buffer.\n     * @default true\n     */\n    get depthMask(): boolean\n    {\n        return !!(this.data & (1 << DEPTH_MASK));\n    }\n\n    set depthMask(value: boolean)\n    {\n        if (!!(this.data & (1 << DEPTH_MASK)) !== value)\n        {\n            this.data ^= (1 << DEPTH_MASK);\n        }\n    }\n\n    /**\n     * Specifies whether or not front or back-facing polygons can be culled.\n     * @default false\n     */\n    get clockwiseFrontFace(): boolean\n    {\n        return !!(this.data & (1 << WINDING));\n    }\n\n    set clockwiseFrontFace(value: boolean)\n    {\n        if (!!(this.data & (1 << WINDING)) !== value)\n        {\n            this.data ^= (1 << WINDING);\n        }\n    }\n\n    /**\n     * The blend mode to be applied when this state is set. Apply a value of `normal` to reset the blend mode.\n     * Setting this mode to anything other than NO_BLEND will automatically switch blending on.\n     * @default 'normal'\n     */\n    get blendMode(): BLEND_MODES\n    {\n        return this._blendMode;\n    }\n\n    set blendMode(value: BLEND_MODES)\n    {\n        this.blend = (value !== 'none');\n        this._blendMode = value;\n        this._blendModeId = blendModeIds[value as keyof typeof blendModeIds] || 0;\n    }\n\n    /**\n     * The polygon offset. Setting this property to anything other than 0 will automatically enable polygon offset fill.\n     * @default 0\n     */\n    get polygonOffset(): number\n    {\n        return this._polygonOffset;\n    }\n\n    set polygonOffset(value: number)\n    {\n        this.offsets = !!value;\n        this._polygonOffset = value;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/core:State `\n            + `blendMode=${this.blendMode} `\n            + `clockwiseFrontFace=${this.clockwiseFrontFace} `\n            + `culling=${this.culling} `\n            + `depthMask=${this.depthMask} `\n            + `polygonOffset=${this.polygonOffset}`\n            + `]`;\n    }\n    // #endif\n\n    public static for2d(): State\n    {\n        const state = new State();\n\n        state.depthTest = false;\n        state.blend = true;\n\n        return state;\n    }\n}\n\n","import { Shader } from '../rendering/renderers/shared/shader/Shader';\nimport { State } from '../rendering/renderers/shared/state/State';\n\nimport type { RenderSurface } from '../rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem';\nimport type { ShaderWithResourcesDescriptor } from '../rendering/renderers/shared/shader/Shader';\nimport type { BLEND_MODES } from '../rendering/renderers/shared/state/const';\nimport type { Texture } from '../rendering/renderers/shared/texture/Texture';\nimport type { FilterSystem } from './FilterSystem';\n\nexport interface FilterOptions extends ShaderWithResourcesDescriptor\n{\n    blendMode?: BLEND_MODES;\n    resolution?: number;\n    padding?: number;\n    antialias?: FilterAntiAlias | boolean;\n    blendRequired?: boolean;\n}\n\nexport type FilterAntiAlias = 'on' | 'off' | 'inherit';\n\nexport class Filter extends Shader\n{\n    /**\n     * The default filter settings\n     * @static\n     */\n    public static readonly defaultOptions: Partial<FilterOptions> = {\n        blendMode: 'normal',\n        resolution: 1,\n        padding: 0,\n        antialias: 'inherit',\n        blendRequired: false,\n    };\n\n    /**\n     * The padding of the filter. Some filters require extra space to breath such as a blur.\n     * Increasing this will add extra width and height to the bounds of the object that the\n     * filter is applied to.\n     * @default 0\n     */\n    public padding: number;\n\n    /**\n     * should the filter use antialiasing?\n     * @default inherit\n     */\n    public antialias: FilterAntiAlias;\n\n    /** If enabled is true the filter is applied, if false it will not. */\n    public enabled = true;\n\n    /**\n     * The WebGL state the filter requires to render.\n     * @internal\n     */\n    public _state = State.for2d();\n\n    /**\n     * The resolution of the filter. Setting this to be lower will lower the quality but\n     * increase the performance of the filter.\n     * @default Filter.defaultOptions.resolution\n     */\n    public resolution: number;\n\n    /**\n     * Whether or not this filter requires the previous render texture for blending.\n     * @default false\n     */\n    public blendRequired: boolean;\n\n    constructor(options: FilterOptions)\n    {\n        options = { ...Filter.defaultOptions, ...options };\n\n        super(options);\n\n        this.padding = options.padding;\n\n        // check if is boolean\n        if (typeof options.antialias === 'boolean')\n        {\n            this.antialias = options.antialias ? 'on' : 'off';\n        }\n        else\n        {\n            this.antialias = options.antialias ?? 'inherit';\n        }\n\n        this.resolution = options.resolution;\n        this.blendRequired = options.blendRequired;\n\n        this.addResource('filterUniforms', 0, 0);\n        this.addResource('uSampler', 0, 1);\n    }\n\n    /**\n     * Applies the filter\n     * @param filterManager - The renderer to retrieve the filter from\n     * @param input - The input render target.\n     * @param output - The target to output to.\n     * @param clearMode - Should the output be cleared before rendering to it\n     */\n    public apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: RenderSurface,\n        clearMode: boolean\n    ): void\n    {\n        filterManager.applyFilter(this, input, output, clearMode);\n    }\n\n    /**\n     * Sets the blend mode of the filter.\n     * @default \"normal\"\n     */\n    get blendMode(): BLEND_MODES\n    {\n        return this._state.blendMode;\n    }\n\n    set blendMode(value: BLEND_MODES)\n    {\n        this._state.blendMode = value;\n    }\n}\n","import { GlProgram } from '../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { Filter } from '../Filter';\nimport blendTemplateFrag from './blend-template.frag';\nimport blendTemplateVert from './blend-template.vert';\nimport blendTemplate from './blend-template.wgsl';\n\nexport interface BlendModeFilterOptions\n{\n    source?: string;\n    gpu?: {\n        functions?: string;\n        main?: string;\n    }\n    gl?: {\n        functions?: string;\n        main?: string;\n    }\n}\n\nexport class BlendModeFilter extends Filter\n{\n    constructor(options: BlendModeFilterOptions)\n    {\n        const gpuOptions = options.gpu;\n\n        const gpuSource = compileBlendModeShader({ source: blendTemplate, ...gpuOptions });\n\n        const gpuProgram = new GpuProgram({\n            vertex: {\n                source: gpuSource,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source: gpuSource,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const glOptions = options.gl;\n\n        const glSource = compileBlendModeShader({ source: blendTemplateFrag, ...glOptions });\n\n        const glProgram = new GlProgram({\n            vertex: blendTemplateVert,\n            fragment: glSource\n        });\n\n        const uniformGroup = new UniformGroup({\n            uBlend: {\n                value: 1,\n                type: 'f32'\n            }\n        });\n\n        super({\n            gpuProgram,\n            glProgram,\n            blendRequired: true,\n            resources: {\n                blendUniforms: uniformGroup,\n                backTexture: Texture.EMPTY\n            }\n        });\n    }\n}\n\nfunction compileBlendModeShader(options: {source: string, functions?: string, main?: string}): string\n{\n    const { source, functions, main } = options;\n\n    return source.replace('{FUNCTIONS}', functions).replace('{MAIN}', main);\n}\n","/** A helper object containing the hsl shader code for both glsl */\nexport const hslgl = `\n\tfloat getLuminosity(vec3 c) {\n\t\treturn 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;\n\t}\n\n\tvec3 setLuminosity(vec3 c, float lum) {\n\t\tfloat modLum = lum - getLuminosity(c);\n\t\tvec3 color = c.rgb + vec3(modLum);\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tvec3 modLumVec = vec3(modLum);\n\n\t\tfloat cMin = min(color.r, min(color.g, color.b));\n\t\tfloat cMax = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0) {\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0) {\n\t\t\tcolor = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfloat getSaturation(vec3 c) {\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tvec3 setSaturationMinMidMax(vec3 cSorted, float s) {\n\t\tvec3 colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x) {\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse {\n\t\t\tcolorSorted.y = 0.0;\n\t\t\tcolorSorted.z = 0.0;\n\t\t}\n\n\t\tcolorSorted.x = 0.0;\n\n\t\treturn colorSorted;\n\t}\n\n\tvec3 setSaturation(vec3 c, float s) {\n\t\tvec3 color = c;\n\n\t\tif(color.r <= color.g && color.r <= color.b) {\n\t\t\tif(color.g <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rgb, s).rgb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rbg, s).rbg;\n\t\t\t}\n\t\t}\n\t\telse if(color.g <= color.r && color.g <= color.b) {\n\t\t\tif(color.r <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.grb, s).grb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.gbr, s).gbr;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif(color.r <= color.g) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.brg, s).brg;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.bgr, s).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n    `;\n","/** A helper object containing the hsl shader code for wgsl */\nexport const hslgpu = `\n\tfn getLuminosity(c: vec3<f32>) -> f32\n\t{\n\t\treturn 0.3*c.r + 0.59*c.g + 0.11*c.b;\n\t}\n\n\tfn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>\n\t{\n\t\tvar modLum: f32 = lum - getLuminosity(c);\n\t\tvar color: vec3<f32> = c.rgb + modLum;\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tlet modLumVec = vec3<f32>(modLum);\n\n\t\tlet cMin: f32 = min(color.r, min(color.g, color.b));\n\t\tlet cMax: f32 = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfn getSaturation(c: vec3<f32>) -> f32\n\t{\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tfn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x)\n\t\t{\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcolorSorted.y = 0;\n\t\t\tcolorSorted.z = 0;\n\t\t}\n\n\t\tcolorSorted.x = 0;\n\n\t\treturn colorSorted;\n\t}\n\n\tfn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar color = c;\n\n\t\tif (color.r <= color.g && color.r <= color.b)\n\t\t{\n\t\t\tif (color.g <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;\n\t\t\t}\n\t\t}\n\t\telse if (color.g <= color.r && color.g <= color.b)\n\t\t{\n\t\t\tif (color.r <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif (color.r <= color.g)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n\t`;\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\nimport { hslgl } from './hls/GLhls';\nimport { hslgpu } from './hls/GPUhls';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class ColorBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'color',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                ${hslgl}\n\n                vec3 blendColor(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendColor(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                ${hslgpu}\n\n                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/**\n Looks at the color information in each channel and darkens the base color to\n reflect the blend color by increasing the contrast between the two.\n */\nexport class ColorBurnBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'color-burn',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0 - ((1.0 - base) / blend)), 0.0);\n                }\n\n                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendColorBurn(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/**\n  Looks at the color information in each channel and brightens the base color to reflect the blend color by decreasing contrast between the two.\n */\nexport class ColorDodgeBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'color-dodge',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float colorDodge(float base, float blend)\n                {\n                    return base / (1.0 - blend);\n                }\n\n                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendColorDodge(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return base / (1.0 - blend);\n                }\n\n                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `,\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Uses each color channel to select the darker of the following two values; base or blend color */\nexport class DarkenBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'darken',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                vec3 blendDarken(vec3 base, vec3 blend, float opacity)\n                {\n                    return (min(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendDarken(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (min(blend,base) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class DifferenceBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'difference',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendDifference(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Divides the blend from the base color using each color channel */\nexport class DivideBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'divide',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float divide(float base, float blend)\n                {\n                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;\n                }\n\n                vec3 blendDivide(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendDivide(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn divide(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);\n                }\n\n                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class ExclusionBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'exclusion',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                vec3 exclusion(vec3 base, vec3 blend)\n                {\n                    return base + blend - 2.0 * base * blend;\n                }\n\n                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendExclusion(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return base+blend-2.0*base*blend;\n                }\n\n                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class HardLightBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'hard-light',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float hardLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);\n                }\n\n                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendHardLight(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                fn hardLight(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);\n                }\n\n                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/**\n * Hard defines each of the color channel values of the blend color to the RGB values of the base color.\n * If the sum of a channel is 255, it receives a value of 255; if less than 255, a value of 0.\n */\nexport class HardMixBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'hard-mix',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float hardMix(float base, float blend)\n                {\n                    return (base + blend >= 1.0) ? 1.0 : 0.0;\n                }\n\n                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendHardMix(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                fn hardMix(base: f32, blend: f32) -> f32\n                {\n                    return select(0.0, 1.0, base + blend >= 1.0);\n                }\n\n                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class LightenBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'lighten',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                vec3 blendLighten(vec3 base, vec3 blend, float opacity)\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendLighten(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/**\n Looks at the color information in each channel and darkens the base color to\n reflect the blend color by increasing the contrast between the two.\n */\nexport class LinearBurnBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'linear-burn',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float linearBurn(float base, float blend)\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendLinearBurn(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Looks at the color information in each channel and brightens the base color to reflect the blend color by decreasing contrast between the two.  */\nexport class LinearDodgeBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'linear-dodge',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendLinearDodge(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1, base + blend);\n                }\n\n                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Increase or decrease brightness by durning or dodging color values, based on the blend color */\nexport class LinearLightBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'linear-light',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float linearBurn(float base, float blend) {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                float linearLight(float base, float blend) {\n                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));\n                }\n\n                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendLinearLight(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base + blend);\n                }\n\n                fn linearLight(base: f32, blend: f32) -> f32\n                {\n                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\nimport { hslgl } from './hls/GLhls';\nimport { hslgpu } from './hls/GPUhls';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class LuminosityBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'luminosity',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                ${hslgl}\n\n                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendLuminosity(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                ${hslgpu}\n\n                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class NegationBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'negation',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                vec3 negation(vec3 base, vec3 blend)\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                vec3 blendNegation(vec3 base, vec3 blend, float opacity)\n                {\n                    return (negation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendNegation(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class OverlayBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'overlay',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float overlay(float base, float blend)\n                {\n                    return (blend < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));\n                }\n\n                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendOverlay(back.rgb, front.rgb, front.a), uBlend);\n                `,\n            },\n            gpu: {\n                functions: `\n                fn overlay(base: f32, blend: f32) -> f32\n                {\n                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);\n                }\n\n                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `,\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Replaces colors based on the blend color. */\nexport class PinLightBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'pin-light',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float pinLight(float base, float blend)\n                {\n                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));\n                }\n\n                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn pinLight(base: f32, blend: f32) -> f32\n                {\n                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\nimport { hslgl } from './hls/GLhls';\nimport { hslgpu } from './hls/GPUhls';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class SaturationBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'saturation',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                ${hslgl}\n\n                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                ${hslgpu}\n\n                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n            `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class SoftLightBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'soft-light',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float softLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));\n                }\n\n                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn softLight(base: f32, blend: f32) -> f32\n                {\n                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);\n                }\n\n                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\n/** Subtracts the blend from the base color using each color channel */\nexport class SubtractBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'subtract',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float subtract(float base, float blend)\n                {\n                    return max(0.0, base - blend);\n                }\n\n                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                fragColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), uBlend);\n                `\n            },\n            gpu: {\n                functions: `\n                fn subtract(base: f32, blend: f32) -> f32\n                {\n                    return max(0, base - blend);\n                }\n\n                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","/* eslint-disable max-len */\n\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BlendModeFilter } from './BlendModeFilter';\n\nimport type { ExtensionMetadata } from '../../extensions/Extensions';\n\nexport class VividLightBlend extends BlendModeFilter\n{\n    /** @ignore */\n    public static extension: ExtensionMetadata = {\n        name: 'vivid-light',\n        type: ExtensionType.BlendMode\n    };\n\n    constructor()\n    {\n        super({\n            gl: {\n                functions: `\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                float colorDodge(float base, float blend)\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                float vividLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));\n                }\n\n                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n                main: `\n                fragColor = vec4(blendVividLight(back.rgb, front.rgb, front.a), uBlend);\n            `\n            },\n            gpu: {\n                functions: `\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                fn vividLight(base: f32, blend: f32) -> f32\n                {\n                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);\n                }\n\n                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n                main: `\n                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);\n                `\n            }\n        });\n    }\n}\n","import { extensions } from '../../extensions/Extensions';\nimport { ColorBlend } from './ColorBlend';\nimport { ColorBurnBlend } from './ColorBurnBlend';\nimport { ColorDodgeBlend } from './ColorDodgeBlend';\nimport { DarkenBlend } from './DarkenBlend';\nimport { DifferenceBlend } from './DifferenceBlend';\nimport { DivideBlend } from './DivideBlend';\nimport { ExclusionBlend } from './ExclusionBlend';\nimport { HardLightBlend } from './HardLightBlend';\nimport { HardMixBlend } from './HardMixBlend';\nimport { LightenBlend } from './LightenBlend';\nimport { LinearBurnBlend } from './LinearBurnBlend';\nimport { LinearDodgeBlend } from './LinearDodgeBlend';\nimport { LinearLightBlend } from './LinearLightBlend';\nimport { LuminosityBlend } from './LuminosityBlend';\nimport { NegationBlend } from './NegationBlend';\nimport { OverlayBlend } from './OverlayBlend';\nimport { PinLightBlend } from './PinLightBlend';\nimport { SaturationBlend } from './SaturationBlend';\nimport { SoftLightBlend } from './SoftLightBlend';\nimport { SubtractBlend } from './SubtractBlend';\nimport { VividLightBlend } from './VividLightBlend';\n\nextensions.add(\n    ColorBlend,\n    ColorBurnBlend,\n    ColorDodgeBlend,\n    DarkenBlend,\n    DifferenceBlend,\n    DivideBlend,\n    ExclusionBlend,\n    HardLightBlend,\n    HardMixBlend,\n    LightenBlend,\n    LinearBurnBlend,\n    LinearLightBlend,\n    LinearDodgeBlend,\n    LuminosityBlend,\n    NegationBlend,\n    OverlayBlend,\n    PinLightBlend,\n    SaturationBlend,\n    SoftLightBlend,\n    SubtractBlend,\n    VividLightBlend,\n);\n","import { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Filter } from '../../Filter';\nimport source from './alpha.wgsl';\n\nexport interface AlphaFilterOptions\n{\n    /**\n     * Amount of alpha from 0 to 1, where 0 is transparent\n     * @default 1\n     */\n    alpha: number;\n}\n\n/**\n * Simplest filter - applies alpha.\n *\n * Use this instead of Container's alpha property to avoid visual layering of individual elements.\n * AlphaFilter applies alpha evenly across the entire display object and any opaque elements it contains.\n * If elements are not opaque, they will blend with each other anyway.\n *\n * Very handy if you want to use common features of all filters:\n *\n * 1. Assign a blendMode to this filter, blend all elements inside display object with background.\n *\n * 2. To use clipping in display coordinates, assign a filterArea to the same container that has this filter.\n */\nexport class AlphaFilter extends Filter\n{\n    public static readonly DEFAULT_OPTIONS: AlphaFilterOptions = {\n        alpha: 1\n    };\n\n    constructor(options?: AlphaFilterOptions)\n    {\n        options = { ...AlphaFilter.DEFAULT_OPTIONS, ...options };\n\n        const gpuProgram = new GpuProgram({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const filterUniforms = new UniformGroup({\n            uAlpha: { value: options.alpha, type: 'f32' },\n        });\n\n        super({\n            gpuProgram,\n            resources: {\n                filterUniforms\n            }\n        });\n    }\n\n    /**\n     * Coefficient for alpha multiplication\n     * @default 1\n     */\n    get alpha(): number { return this.resources.filterUniforms.uniforms.uAlpha; }\n    set alpha(value: number) { this.resources.filterUniforms.uniforms.uAlpha = value; }\n}\n","// Taken from the bit-twiddle package\n\n/**\n * Rounds to next power of two.\n * @function nextPow2\n * @param {number} v - input value\n * @returns {number} - next rounded power of two\n */\nexport function nextPow2(v: number): number\n{\n    v += v === 0 ? 1 : 0;\n    --v;\n    v |= v >>> 1;\n    v |= v >>> 2;\n    v |= v >>> 4;\n    v |= v >>> 8;\n    v |= v >>> 16;\n\n    return v + 1;\n}\n\n/**\n * Checks if a number is a power of two.\n * @function isPow2\n * @param {number} v - input value\n * @returns {boolean} `true` if value is power of two\n */\nexport function isPow2(v: number): boolean\n{\n    return !(v & (v - 1)) && (!!v);\n}\n\n/**\n * Computes ceil of log base 2\n * @function log2\n * @param {number} v - input value\n * @returns {number} logarithm base 2\n */\nexport function log2(v: number): number\n{\n    let r = (v > 0xFFFF ? 1 : 0) << 4;\n\n    v >>>= r;\n\n    let shift = (v > 0xFF ? 1 : 0) << 3;\n\n    v >>>= shift; r |= shift;\n    shift = (v > 0xF ? 1 : 0) << 2;\n    v >>>= shift; r |= shift;\n    shift = (v > 0x3 ? 1 : 0) << 1;\n    v >>>= shift; r |= shift;\n\n    return r | (v >> 1);\n}\n","import { nextPow2 } from '../../../../maths/misc/pow2';\nimport { TextureSource } from './sources/TextureSource';\nimport { Texture } from './Texture';\n\nimport type { SCALE_MODE } from './const';\nimport type { TextureSourceOptions } from './sources/TextureSource';\n\nlet count = 0;\n\n/**\n * Texture pool, used by FilterSystem and plugins.\n *\n * Stores collection of temporary pow2 or screen-sized renderTextures\n *\n * If you use custom RenderTexturePool for your filters, you can use methods\n * `getFilterTexture` and `returnFilterTexture` same as in\n */\nexport class TexturePoolClass\n{\n    public textureOptions: TextureSourceOptions;\n\n    /**\n     * Allow renderTextures of the same size as screen, not just pow2\n     *\n     * Automatically sets to true after `setScreenSize`\n     * @default false\n     */\n    public enableFullScreen: boolean;\n\n    private _texturePool: {[x in string | number]: Texture[]};\n    private _poolKeyHash: Record<number, number> = Object.create(null);\n\n    /**\n     * @param textureOptions - options that will be passed to BaseRenderTexture constructor\n     * @param {SCALE_MODE} [textureOptions.scaleMode] - See {@link SCALE_MODE} for possible values.\n     */\n    constructor(textureOptions?: TextureSourceOptions)\n    {\n        this._texturePool = {};\n        this.textureOptions = textureOptions || {};\n        this.enableFullScreen = false;\n    }\n\n    /**\n     * Creates texture with params that were specified in pool constructor.\n     * @param pixelWidth - Width of texture in pixels.\n     * @param pixelHeight - Height of texture in pixels.\n     * @param antialias\n     */\n    public createTexture(pixelWidth: number, pixelHeight: number, antialias: boolean): Texture\n    {\n        const textureSource = new TextureSource({\n            ...this.textureOptions,\n\n            width: pixelWidth,\n            height: pixelHeight,\n            resolution: 1,\n            antialias,\n        });\n\n        return new Texture({\n            source: textureSource,\n            label: `texturePool_${count++}`,\n        });\n    }\n\n    /**\n     * Gets a Power-of-Two render texture or fullScreen texture\n     * @param frameWidth - The minimum width of the render texture.\n     * @param frameHeight - The minimum height of the render texture.\n     * @param resolution - The resolution of the render texture.\n     * @param antialias\n     * @returns The new render texture.\n     */\n    public getOptimalTexture(frameWidth: number, frameHeight: number, resolution = 1, antialias: boolean): Texture\n    {\n        let po2Width = Math.ceil((frameWidth * resolution) - 1e-6);\n        let po2Height = Math.ceil((frameHeight * resolution) - 1e-6);\n\n        po2Width = nextPow2(po2Width);\n        po2Height = nextPow2(po2Height);\n\n        const key = (po2Width << 17) + (po2Height << 1) + (antialias ? 1 : 0);\n\n        if (!this._texturePool[key])\n        {\n            this._texturePool[key] = [];\n        }\n\n        let texture = this._texturePool[key].pop();\n\n        if (!texture)\n        {\n            texture = this.createTexture(po2Width, po2Height, antialias);\n        }\n\n        texture.source._resolution = resolution;\n        texture.source.width = po2Width / resolution;\n        texture.source.height = po2Height / resolution;\n        texture.source.pixelWidth = po2Width;\n        texture.source.pixelHeight = po2Height;\n\n        // fit the layout to the requested original size\n        texture.frameX = 0;\n        texture.frameY = 0;\n        texture.frameWidth = frameWidth;\n        texture.frameHeight = frameHeight;\n        texture.layout.update();\n\n        this._poolKeyHash[texture.id] = key;\n\n        return texture;\n    }\n\n    public getSameSizeTexture(texture: Texture, antialias = false)\n    {\n        const source = texture.source;\n\n        return this.getOptimalTexture(texture.width, texture.height, source._resolution, antialias);\n    }\n\n    /**\n     * Place a render texture back into the pool.\n     * @param renderTexture - The renderTexture to free\n     */\n    public returnTexture(renderTexture: Texture): void\n    {\n        const key = this._poolKeyHash[renderTexture.id];\n\n        this._texturePool[key].push(renderTexture);\n    }\n\n    /**\n     * Clears the pool.\n     * @param destroyTextures - Destroy all stored textures.\n     */\n    public clear(destroyTextures?: boolean): void\n    {\n        destroyTextures = destroyTextures !== false;\n        if (destroyTextures)\n        {\n            for (const i in this._texturePool)\n            {\n                const textures = this._texturePool[i];\n\n                if (textures)\n                {\n                    for (let j = 0; j < textures.length; j++)\n                    {\n                        textures[j].destroy(true);\n                    }\n                }\n            }\n        }\n\n        this._texturePool = {};\n    }\n}\n\nexport const TexturePool = new TexturePoolClass();\n","interface IGAUSSIAN_VALUES\n{\n    [x: number]: number[];\n}\n\nexport const GAUSSIAN_VALUES: IGAUSSIAN_VALUES = {\n    5: [0.153388, 0.221461, 0.250301],\n    7: [0.071303, 0.131514, 0.189879, 0.214607],\n    9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],\n    11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],\n    13: [0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],\n    15: [0.000489, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448],\n};\n","import { GAUSSIAN_VALUES } from '../const';\n\nconst fragTemplate = [\n    'in vec2 vBlurTexCoords[%size%];',\n    'uniform sampler2D uSampler;',\n    'out vec4 fragColor;',\n\n    'void main(void)',\n    '{',\n    '    fragColor = vec4(0.0);',\n    '    %blur%',\n    '}',\n\n].join('\\n');\n\nexport function generateBlurFragSource(kernelSize: number): string\n{\n    const kernel = GAUSSIAN_VALUES[kernelSize];\n    const halfLength = kernel.length;\n\n    let fragSource = fragTemplate;\n\n    let blurLoop = '';\n    const template = 'fragColor += texture(uSampler, vBlurTexCoords[%index%]) * %value%;';\n    let value: number;\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        let blur = template.replace('%index%', i.toString());\n\n        value = i;\n\n        if (i >= halfLength)\n        {\n            value = kernelSize - i - 1;\n        }\n\n        blur = blur.replace('%value%', kernel[value].toString());\n\n        blurLoop += blur;\n        blurLoop += '\\n';\n    }\n\n    fragSource = fragSource.replace('%blur%', blurLoop);\n    fragSource = fragSource.replace('%size%', kernelSize.toString());\n\n    return fragSource;\n}\n","const vertTemplate = `\n    in vec2 aPosition;\n\n    uniform float strength;\n\n    out vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    uniform vec4 inputPixel;\n    uniform vec4 outputTexture;\n\n    vec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * outputFrame.zw + outputFrame.xy;\n    \n    position.x = position.x * (2.0 / outputTexture.x) - 1.0;\n    position.y = position.y * (2.0*outputTexture.z / outputTexture.y) - outputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\n    vec2 filterTextureCoord( void )\n    {\n        return aPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        float pixelStrength = inputSize.%dimension% * strength;\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }`;\n\nexport function generateBlurVertSource(kernelSize: number, x: boolean): string\n{\n    const halfLength = Math.ceil(kernelSize / 2);\n\n    let vertSource = vertTemplate;\n\n    let blurLoop = '';\n    let template;\n\n    if (x)\n    {\n        template = 'vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);';\n    }\n    else\n    {\n        template = 'vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);';\n    }\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        let blur = template.replace('%index%', i.toString());\n\n        blur = blur.replace('%sampleIndex%', `${i - (halfLength - 1)}.0`);\n\n        blurLoop += blur;\n        blurLoop += '\\n';\n    }\n\n    vertSource = vertSource.replace('%blur%', blurLoop);\n    vertSource = vertSource.replace('%size%', kernelSize.toString());\n    vertSource = vertSource.replace('%dimension%', x ? 'z' : 'w');\n\n    return vertSource;\n}\n","import { GlProgram } from '../../../../rendering/renderers/gl/shader/GlProgram';\nimport { generateBlurFragSource } from './generateBlurFragSource';\nimport { generateBlurVertSource } from './generateBlurVertSource';\n\nexport function generateBlurGlProgram(horizontal: boolean, kernelSize: number)\n{\n    const vertex = generateBlurVertSource(kernelSize, horizontal);\n    const fragment = generateBlurFragSource(kernelSize);\n\n    return GlProgram.from({\n        vertex,\n        fragment,\n        name: `blur-${horizontal ? 'horizontal' : 'vertical'}-pass-filter`\n    });\n}\n","import { GpuProgram } from '../../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { GAUSSIAN_VALUES } from '../const';\nimport source from './blur-template.wgsl';\n\nexport function generateBlurProgram(horizontal: boolean, kernelSize: number)\n{\n    const kernel = GAUSSIAN_VALUES[kernelSize];\n    const halfLength = kernel.length;\n\n    const blurStructSource: string[] = [];\n    const blurOutSource: string[] = [];\n    const blurSamplingSource: string[] = [];\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        blurStructSource[i] = `@location(${i}) offset${i}: vec2<f32>,`;\n\n        if (horizontal)\n        {\n            blurOutSource[i] = `filteredCord + vec2(${i - halfLength + 1} * strength, 0.0),`;\n        }\n        else\n        {\n            blurOutSource[i] = `filteredCord + vec2(0.0, ${i - halfLength + 1} * strength),`;\n        }\n\n        const kernelIndex = i < halfLength ? i : (kernelSize - i - 1);\n        const kernelValue = kernel[kernelIndex].toString();\n\n        blurSamplingSource[i] = `fragColor += textureSample(uSampler, mySampler, offset${i}) * ${kernelValue};`;\n    }\n\n    const blurStruct = blurStructSource.join('\\n');\n    const blurOut = blurOutSource.join('\\n');\n    const blurSampling = blurSamplingSource.join('\\n');\n\n    const finalSource = source\n        .replace('%blur-struct%', blurStruct)\n        .replace('%blur-vertex-out%', blurOut)\n        .replace('%blur-fragment-in%', blurStruct)\n        .replace('%blur-sampling%', blurSampling);\n\n    return GpuProgram.from({\n        vertex: {\n            source: finalSource,\n            entryPoint: 'mainVertex',\n        },\n        fragment: {\n            source: finalSource,\n            entryPoint: 'mainFragment',\n        },\n    });\n}\n\n","import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { RendererType } from '../../../rendering/renderers/types';\nimport { Filter } from '../../Filter';\nimport { generateBlurGlProgram } from './gl/generateBlurGlProgram';\nimport { generateBlurProgram } from './gpu/generateBlurProgram';\n\nimport type { RenderSurface } from '../../../rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { FilterSystem } from '../../FilterSystem';\nimport type { BlurFilterOptions } from './BlurFilter';\n\nexport interface BlurFilterPassOptions extends BlurFilterOptions\n{\n    horizontal: boolean;\n}\n\n/** The BlurFilterPass applies a horizontal or vertical Gaussian blur to an object. */\nexport class BlurFilterPass extends Filter\n{\n    public static defaultOptions: Partial<BlurFilterPassOptions> = {\n        strength: 8,\n        quality: 4,\n        kernelSize: 5,\n    };\n\n    public horizontal: boolean;\n    public passes!: number;\n    public strength!: number;\n\n    private _quality: number;\n    private readonly _uniforms: any;\n\n    /**\n     * @param options\n     * @param options.horizontal - Do pass along the x-axis (`true`) or y-axis (`false`).\n     * @param options.strength - The strength of the blur filter.\n     * @param options.quality - The quality of the blur filter.\n     * @param options.kernelSize - The kernelSize of the blur filter.Options: 5, 7, 9, 11, 13, 15.\n     */\n    constructor(options: BlurFilterPassOptions)\n    {\n        options = { ...BlurFilterPass.defaultOptions, ...options };\n\n        const glProgram = generateBlurGlProgram(options.horizontal, options.kernelSize);\n        const gpuProgram = generateBlurProgram(options.horizontal, options.kernelSize);\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                blurUniforms: {\n                    strength: { value: 0, type: 'f32' },\n                }\n            },\n            ...options\n        });\n\n        this.horizontal = options.horizontal;\n\n        this._quality = 0;\n\n        this.quality = options.quality;\n\n        this.blur = options.strength;\n\n        this._uniforms = this.resources.blurUniforms.uniforms;\n    }\n\n    /**\n     * Applies the filter.\n     * @param filterManager - The manager.\n     * @param input - The input target.\n     * @param output - The output target.\n     * @param clearMode - How to clear\n     */\n    public apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: RenderSurface,\n        clearMode: boolean\n    ): void\n    {\n        this._uniforms.strength = this.strength / this.passes;\n\n        if (this.passes === 1)\n        {\n            filterManager.applyFilter(this, input, output, clearMode);\n        }\n        else\n        {\n            const tempTexture = TexturePool.getSameSizeTexture(input);\n\n            let flip = input;\n            let flop = tempTexture;\n\n            this._state.blend = false;\n\n            for (let i = 0; i < this.passes - 1; i++)\n            {\n                filterManager.applyFilter(this, flip, flop, filterManager.renderer.type === RendererType.WEBGPU);\n\n                const temp = flop;\n\n                flop = flip;\n                flip = temp;\n            }\n\n            this._state.blend = true;\n            filterManager.applyFilter(this, flip, output, clearMode);\n            TexturePool.returnTexture(tempTexture);\n        }\n    }\n\n    /**\n     * Sets the strength of both the blur.\n     * @default 16\n     */\n    get blur(): number\n    {\n        return this.strength;\n    }\n\n    set blur(value: number)\n    {\n        this.padding = 1 + (Math.abs(value) * 2);\n        this.strength = value;\n    }\n\n    /**\n     * Sets the quality of the blur by modifying the number of passes. More passes means higher\n     * quality bluring but the lower the performance.\n     * @default 4\n     */\n    get quality(): number\n    {\n        return this._quality;\n    }\n\n    set quality(value: number)\n    {\n        this._quality = value;\n        this.passes = value;\n    }\n}\n","import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { RendererType } from '../../../rendering/renderers/types';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { Filter } from '../../Filter';\nimport { BlurFilterPass } from './BlurFilterPass';\n\nimport type { RenderSurface } from '../../../rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem';\nimport type { BLEND_MODES } from '../../../rendering/renderers/shared/state/const';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { FilterOptions } from '../../Filter';\nimport type { FilterSystem } from '../../FilterSystem';\n\nexport interface BlurFilterOptions extends Partial<FilterOptions>\n{\n    strength?: number;\n    quality?: number;\n    resolution?: number;\n    kernelSize?: number;\n}\n\n/**\n * The BlurFilter applies a Gaussian blur to an object.\n *\n * The strength of the blur can be set for the x-axis and y-axis separately.\n */\nexport class BlurFilter extends Filter\n{\n    public static defaultOptions: Partial<BlurFilterOptions> = {\n        strength: 8,\n        quality: 4,\n        kernelSize: 5,\n    };\n\n    public blurXFilter: BlurFilterPass;\n    public blurYFilter: BlurFilterPass;\n\n    private _repeatEdgePixels = false;\n\n    /**\n     * @param options - The options of the blur filter.\n     * @param options.strength - The strength of the blur filter.\n     * @param options.quality - The quality of the blur filter.\n     * @param options.kernelSize - The kernelSize of the blur filter.Options: 5, 7, 9, 11, 13, 15.\n     */\n    constructor(options?: BlurFilterOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(strength?: number, quality?: number, resolution?: number, kernelSize?: number);\n    constructor(...args: [BlurFilterOptions?] | [number?, number?, number?, number?])\n    {\n        let options = args[0] ?? {};\n\n        // if options is a number)\n        if (typeof options === 'number')\n        {\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }');\n\n            options = { strength: options };\n\n            if (args[1])options.quality = args[1];\n            if (args[2])options.resolution = args[2];\n            if (args[3])options.kernelSize = args[3];\n        }\n\n        options = { ...BlurFilterPass.defaultOptions, ...options };\n\n        super({\n            ...options,\n            compatibleRenderers: RendererType.WEBGL | RendererType.WEBGPU,\n            resources: {}\n        });\n\n        this.blurXFilter = new BlurFilterPass({ horizontal: false, ...options });\n        this.blurYFilter = new BlurFilterPass({ horizontal: true, ...options });\n\n        this.quality = options.quality;\n        this.blur = options.strength;\n\n        this.repeatEdgePixels = false;\n    }\n\n    /**\n     * Applies the filter.\n     * @param filterManager - The manager.\n     * @param input - The input target.\n     * @param output - The output target.\n     * @param clearMode - How to clear\n     */\n    public apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: RenderSurface,\n        clearMode: boolean\n    ): void\n    {\n        const xStrength = Math.abs(this.blurXFilter.strength);\n        const yStrength = Math.abs(this.blurYFilter.strength);\n\n        if (xStrength && yStrength)\n        {\n            const tempTexture = TexturePool.getSameSizeTexture(input);\n\n            this.blurXFilter.apply(filterManager, input, tempTexture, true);\n            this.blurYFilter.apply(filterManager, tempTexture, output, clearMode);\n\n            TexturePool.returnTexture(tempTexture);\n        }\n        else if (yStrength)\n        {\n            this.blurYFilter.apply(filterManager, input, output, clearMode);\n        }\n        else\n        {\n            this.blurXFilter.apply(filterManager, input, output, clearMode);\n        }\n    }\n\n    protected updatePadding(): void\n    {\n        if (this._repeatEdgePixels)\n        {\n            this.padding = 0;\n        }\n        else\n        {\n            this.padding = Math.max(Math.abs(this.blurXFilter.blur), Math.abs(this.blurYFilter.blur)) * 2;\n        }\n    }\n\n    /**\n     * Sets the strength of both the blurX and blurY properties simultaneously\n     * @default 2\n     */\n    get blur(): number\n    {\n        return this.blurXFilter.blur;\n    }\n\n    set blur(value: number)\n    {\n        this.blurXFilter.blur = this.blurYFilter.blur = value;\n        this.updatePadding();\n    }\n\n    /**\n     * Sets the number of passes for blur. More passes means higher quality bluring.\n     * @default 1\n     */\n    get quality(): number\n    {\n        return this.blurXFilter.quality;\n    }\n\n    set quality(value: number)\n    {\n        this.blurXFilter.quality = this.blurYFilter.quality = value;\n    }\n\n    /**\n     * Sets the strength of the blurX property\n     * @default 2\n     */\n    get blurX(): number\n    {\n        return this.blurXFilter.blur;\n    }\n\n    set blurX(value: number)\n    {\n        this.blurXFilter.blur = value;\n        this.updatePadding();\n    }\n\n    /**\n     * Sets the strength of the blurY property\n     * @default 2\n     */\n    get blurY(): number\n    {\n        return this.blurYFilter.blur;\n    }\n\n    set blurY(value: number)\n    {\n        this.blurYFilter.blur = value;\n        this.updatePadding();\n    }\n\n    /**\n     * Sets the blendmode of the filter\n     * @default \"normal\"\n     */\n    get blendMode(): BLEND_MODES\n    {\n        return this.blurYFilter.blendMode;\n    }\n\n    set blendMode(value: BLEND_MODES)\n    {\n        this.blurYFilter.blendMode = value;\n    }\n\n    /**\n     * If set to true the edge of the target will be clamped\n     * @default false\n     */\n    get repeatEdgePixels(): boolean\n    {\n        return this._repeatEdgePixels;\n    }\n\n    set repeatEdgePixels(value: boolean)\n    {\n        this._repeatEdgePixels = value;\n        this.updatePadding();\n    }\n}\n","import { Color } from '../../../color/Color';\nimport { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Filter } from '../../Filter';\nimport vertex from '../defaultFilter.vert';\nimport fragment from './colorMatrixFilter.frag';\nimport source from './colorMatrixFilter.wgsl';\n\nimport type { ColorSource } from '../../../color/Color';\n\n// ts fixed array of length 20\nexport type ColorMatrix = [\n    number, number, number, number, number,\n    number, number, number, number, number,\n    number, number, number, number, number,\n    number, number, number, number, number\n];\n\n/**\n * The ColorMatrixFilter class lets you apply a 5x4 matrix transformation on the RGBA\n * color and alpha values of every pixel on your container to produce a result\n * with a new set of RGBA color and alpha values. It's pretty powerful!\n *\n * ```js\n *  let colorMatrix = new filters.ColorMatrixFilter();\n *  container.filters = [colorMatrix];\n *  colorMatrix.contrast(2);\n * ```\n * @author Clément Chenebault <clement@goodboydigital.com>\n * @memberof filters\n */\nexport class ColorMatrixFilter extends Filter\n{\n    constructor()\n    {\n        const colorMatrixUniforms = new UniformGroup({\n            uColorMatrix: {\n                value: [\n                    1, 0, 0, 0, 0,\n                    0, 1, 0, 0, 0,\n                    0, 0, 1, 0, 0,\n                    0, 0, 0, 1, 0,\n                ],\n                type: 'vec4<f32>',\n                size: 5,\n            },\n            uAlpha: {\n                value: 1,\n                type: 'f32'\n            }\n        });\n\n        const gpuProgram = GpuProgram.from({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const glProgram = GlProgram.from({\n            vertex,\n            fragment,\n            name: 'color-matrix-filter'\n        });\n\n        super({\n            gpuProgram,\n            glProgram,\n            resources: {\n                colorMatrixUniforms\n            }\n        });\n\n        this.alpha = 1;\n    }\n\n    /**\n     * Transforms current matrix and set the new one\n     * @param {number[]} matrix - 5x4 matrix\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    private _loadMatrix(matrix: ColorMatrix, multiply = false): void\n    {\n        let newMatrix = matrix;\n\n        if (multiply)\n        {\n            this._multiply(newMatrix, this.matrix, matrix);\n            newMatrix = this._colorMatrix(newMatrix) as any;\n        }\n\n        // set the new matrix\n\n        this.resources.colorMatrixUniforms.uniforms.uColorMatrix = newMatrix;\n        this.resources.colorMatrixUniforms.update();\n    }\n\n    /**\n     * Multiplies two mat5's\n     * @private\n     * @param out - 5x4 matrix the receiving matrix\n     * @param a - 5x4 matrix the first operand\n     * @param b - 5x4 matrix the second operand\n     * @returns {number[]} 5x4 matrix\n     */\n    private _multiply(out: ColorMatrix, a: ColorMatrix, b: ColorMatrix): ColorMatrix\n    {\n        // Red Channel\n        out[0] = (a[0] * b[0]) + (a[1] * b[5]) + (a[2] * b[10]) + (a[3] * b[15]);\n        out[1] = (a[0] * b[1]) + (a[1] * b[6]) + (a[2] * b[11]) + (a[3] * b[16]);\n        out[2] = (a[0] * b[2]) + (a[1] * b[7]) + (a[2] * b[12]) + (a[3] * b[17]);\n        out[3] = (a[0] * b[3]) + (a[1] * b[8]) + (a[2] * b[13]) + (a[3] * b[18]);\n        out[4] = (a[0] * b[4]) + (a[1] * b[9]) + (a[2] * b[14]) + (a[3] * b[19]) + a[4];\n\n        // Green Channel\n        out[5] = (a[5] * b[0]) + (a[6] * b[5]) + (a[7] * b[10]) + (a[8] * b[15]);\n        out[6] = (a[5] * b[1]) + (a[6] * b[6]) + (a[7] * b[11]) + (a[8] * b[16]);\n        out[7] = (a[5] * b[2]) + (a[6] * b[7]) + (a[7] * b[12]) + (a[8] * b[17]);\n        out[8] = (a[5] * b[3]) + (a[6] * b[8]) + (a[7] * b[13]) + (a[8] * b[18]);\n        out[9] = (a[5] * b[4]) + (a[6] * b[9]) + (a[7] * b[14]) + (a[8] * b[19]) + a[9];\n\n        // Blue Channel\n        out[10] = (a[10] * b[0]) + (a[11] * b[5]) + (a[12] * b[10]) + (a[13] * b[15]);\n        out[11] = (a[10] * b[1]) + (a[11] * b[6]) + (a[12] * b[11]) + (a[13] * b[16]);\n        out[12] = (a[10] * b[2]) + (a[11] * b[7]) + (a[12] * b[12]) + (a[13] * b[17]);\n        out[13] = (a[10] * b[3]) + (a[11] * b[8]) + (a[12] * b[13]) + (a[13] * b[18]);\n        out[14] = (a[10] * b[4]) + (a[11] * b[9]) + (a[12] * b[14]) + (a[13] * b[19]) + a[14];\n\n        // Alpha Channel\n        out[15] = (a[15] * b[0]) + (a[16] * b[5]) + (a[17] * b[10]) + (a[18] * b[15]);\n        out[16] = (a[15] * b[1]) + (a[16] * b[6]) + (a[17] * b[11]) + (a[18] * b[16]);\n        out[17] = (a[15] * b[2]) + (a[16] * b[7]) + (a[17] * b[12]) + (a[18] * b[17]);\n        out[18] = (a[15] * b[3]) + (a[16] * b[8]) + (a[17] * b[13]) + (a[18] * b[18]);\n        out[19] = (a[15] * b[4]) + (a[16] * b[9]) + (a[17] * b[14]) + (a[18] * b[19]) + a[19];\n\n        return out;\n    }\n\n    /**\n     * Create a Float32 Array and normalize the offset component to 0-1\n     * @param {number[]} matrix - 5x4 matrix\n     * @returns {number[]} 5x4 matrix with all values between 0-1\n     */\n    private _colorMatrix(matrix: ColorMatrix): ColorMatrix\n    {\n        // Create a Float32 Array and normalize the offset component to 0-1\n        const m = new Float32Array(matrix);\n\n        m[4] /= 255;\n        m[9] /= 255;\n        m[14] /= 255;\n        m[19] /= 255;\n\n        return m as any;\n    }\n\n    /**\n     * Adjusts brightness\n     * @param b - value of the brigthness (0-1, where 0 is black)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public brightness(b: number, multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            b, 0, 0, 0, 0,\n            0, b, 0, 0, 0,\n            0, 0, b, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Sets each channel on the diagonal of the color matrix.\n     * This can be used to achieve a tinting effect on Containers similar to the tint field of some\n     * display objects like Sprite, Text, Graphics, and Mesh.\n     * @param color - Color of the tint. This is a hex value.\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public tint(color: ColorSource, multiply?: boolean): void\n    {\n        const [r, g, b] = Color.shared.setValue(color).toArray();\n        const matrix: ColorMatrix = [\n            r, 0, 0, 0, 0,\n            0, g, 0, 0, 0,\n            0, 0, b, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Set the matrices in grey scales\n     * @param scale - value of the grey (0-1, where 0 is black)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public greyscale(scale: number, multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            scale, scale, scale, 0, 0,\n            scale, scale, scale, 0, 0,\n            scale, scale, scale, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * for our american friends!\n     * @param scale\n     * @param multiply\n     */\n    public grayscale(scale: number, multiply: boolean): void\n    {\n        this.greyscale(scale, multiply);\n    }\n\n    /**\n     * Set the black and white matrice.\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public blackAndWhite(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            0.3, 0.6, 0.1, 0, 0,\n            0.3, 0.6, 0.1, 0, 0,\n            0.3, 0.6, 0.1, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Set the hue property of the color\n     * @param rotation - in degrees\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public hue(rotation: number, multiply: boolean): void\n    {\n        rotation = (rotation || 0) / 180 * Math.PI;\n\n        const cosR = Math.cos(rotation);\n        const sinR = Math.sin(rotation);\n        const sqrt = Math.sqrt;\n\n        /* a good approximation for hue rotation\n         This matrix is far better than the versions with magic luminance constants\n         formerly used here, but also used in the starling framework (flash) and known from this\n         old part of the internet: quasimondo.com/archives/000565.php\n\n         This new matrix is based on rgb cube rotation in space. Look here for a more descriptive\n         implementation as a shader not a general matrix:\n         https://github.com/evanw/glfx.js/blob/58841c23919bd59787effc0333a4897b43835412/src/filters/adjust/huesaturation.js\n\n         This is the source for the code:\n         see http://stackoverflow.com/questions/8507885/shift-hue-of-an-rgb-color/8510751#8510751\n         */\n\n        const w = 1 / 3;\n        const sqrW = sqrt(w); // weight is\n\n        const a00 = cosR + ((1.0 - cosR) * w);\n        const a01 = (w * (1.0 - cosR)) - (sqrW * sinR);\n        const a02 = (w * (1.0 - cosR)) + (sqrW * sinR);\n\n        const a10 = (w * (1.0 - cosR)) + (sqrW * sinR);\n        const a11 = cosR + (w * (1.0 - cosR));\n        const a12 = (w * (1.0 - cosR)) - (sqrW * sinR);\n\n        const a20 = (w * (1.0 - cosR)) - (sqrW * sinR);\n        const a21 = (w * (1.0 - cosR)) + (sqrW * sinR);\n        const a22 = cosR + (w * (1.0 - cosR));\n\n        const matrix: ColorMatrix = [\n            a00, a01, a02, 0, 0,\n            a10, a11, a12, 0, 0,\n            a20, a21, a22, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Set the contrast matrix, increase the separation between dark and bright\n     * Increase contrast : shadows darker and highlights brighter\n     * Decrease contrast : bring the shadows up and the highlights down\n     * @param amount - value of the contrast (0-1)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public contrast(amount: number, multiply: boolean): void\n    {\n        const v = (amount || 0) + 1;\n        const o = -0.5 * (v - 1);\n\n        const matrix: ColorMatrix = [\n            v, 0, 0, 0, o,\n            0, v, 0, 0, o,\n            0, 0, v, 0, o,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Set the saturation matrix, increase the separation between colors\n     * Increase saturation : increase contrast, brightness, and sharpness\n     * @param amount - The saturation amount (0-1)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public saturate(amount = 0, multiply?: boolean): void\n    {\n        const x = (amount * 2 / 3) + 1;\n        const y = ((x - 1) * -0.5);\n\n        const matrix: ColorMatrix = [\n            x, y, y, 0, 0,\n            y, x, y, 0, 0,\n            y, y, x, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /** Desaturate image (remove color) Call the saturate function */\n    public desaturate(): void // eslint-disable-line no-unused-vars\n    {\n        this.saturate(-1);\n    }\n\n    /**\n     * Negative image (inverse of classic rgb matrix)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public negative(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            -1, 0, 0, 1, 0,\n            0, -1, 0, 1, 0,\n            0, 0, -1, 1, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Sepia image\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public sepia(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            0.393, 0.7689999, 0.18899999, 0, 0,\n            0.349, 0.6859999, 0.16799999, 0, 0,\n            0.272, 0.5339999, 0.13099999, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Color motion picture process invented in 1916 (thanks Dominic Szablewski)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public technicolor(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            1.9125277891456083, -0.8545344976951645, -0.09155508482755585, 0, 11.793603434377337,\n            -0.3087833385928097, 1.7658908555458428, -0.10601743074722245, 0, -70.35205161461398,\n            -0.231103377548616, -0.7501899197440212, 1.847597816108189, 0, 30.950940869491138,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Polaroid filter\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public polaroid(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            1.438, -0.062, -0.062, 0, 0,\n            -0.122, 1.378, -0.122, 0, 0,\n            -0.016, -0.016, 1.483, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Filter who transforms : Red -> Blue and Blue -> Red\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public toBGR(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            0, 0, 1, 0, 0,\n            0, 1, 0, 0, 0,\n            1, 0, 0, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Color reversal film introduced by Eastman Kodak in 1935. (thanks Dominic Szablewski)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public kodachrome(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0, 63.72958762196502,\n            -0.16404339962244616, 1.0835251566291304, -0.05498805115633132, 0, 24.732407896706203,\n            -0.16786010706155763, -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Brown delicious browni filter (thanks Dominic Szablewski)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public browni(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            0.5997023498159715, 0.34553243048391263, -0.2708298674538042, 0, 47.43192855600873,\n            -0.037703249837783157, 0.8609577587992641, 0.15059552388459913, 0, -36.96841498319127,\n            0.24113635128153335, -0.07441037908422492, 0.44972182064877153, 0, -7.562075277591283,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Vintage filter (thanks Dominic Szablewski)\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public vintage(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            0.6279345635605994, 0.3202183420819367, -0.03965408211312453, 0, 9.651285835294123,\n            0.02578397704808868, 0.6441188644374771, 0.03259127616149294, 0, 7.462829176470591,\n            0.0466055556782719, -0.0851232987247891, 0.5241648018700465, 0, 5.159190588235296,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * We don't know exactly what it does, kind of gradient map, but funny to play with!\n     * @param desaturation - Tone values.\n     * @param toned - Tone values.\n     * @param lightColor - Tone values, example: `0xFFE580`\n     * @param darkColor - Tone values, example: `0xFFE580`\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public colorTone(\n        desaturation: number,\n        toned: number,\n        lightColor: ColorSource,\n        darkColor: ColorSource,\n        multiply: boolean\n    ): void\n    {\n        desaturation = desaturation || 0.2;\n        toned = toned || 0.15;\n        lightColor = lightColor || 0xFFE580;\n        darkColor = darkColor || 0x338000;\n\n        const temp = Color.shared;\n        const [lR, lG, lB] = temp.setValue(lightColor).toArray();\n        const [dR, dG, dB] = temp.setValue(darkColor).toArray();\n\n        const matrix: ColorMatrix = [\n            0.3, 0.59, 0.11, 0, 0,\n            lR, lG, lB, desaturation, 0,\n            dR, dG, dB, toned, 0,\n            lR - dR, lG - dG, lB - dB, 0, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Night effect\n     * @param intensity - The intensity of the night effect.\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public night(intensity: number, multiply: boolean): void\n    {\n        intensity = intensity || 0.1;\n\n        const matrix: ColorMatrix = [\n            intensity * (-2.0), -intensity, 0, 0, 0,\n            -intensity, 0, intensity, 0, 0,\n            0, intensity, intensity * 2.0, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * Predator effect\n     *\n     * Erase the current matrix by setting a new indepent one\n     * @param amount - how much the predator feels his future victim\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public predator(amount: number, multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            // row 1\n            11.224130630493164 * amount,\n            -4.794486999511719 * amount,\n            -2.8746118545532227 * amount,\n            0 * amount,\n            0.40342438220977783 * amount,\n            // row 2\n            -3.6330697536468506 * amount,\n            9.193157196044922 * amount,\n            -2.951810836791992 * amount,\n            0 * amount,\n            -1.316135048866272 * amount,\n            // row 3\n            -3.2184197902679443 * amount,\n            -4.2375030517578125 * amount,\n            7.476448059082031 * amount,\n            0 * amount,\n            0.8044459223747253 * amount,\n            // row 4\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /**\n     * LSD effect\n     *\n     * Multiply the current matrix\n     * @param multiply - if true, current matrix and matrix are multiplied. If false,\n     *  just set the current matrix with @param matrix\n     */\n    public lsd(multiply: boolean): void\n    {\n        const matrix: ColorMatrix = [\n            2, -0.4, 0.5, 0, 0,\n            -0.5, 2, -0.4, 0, 0,\n            -0.4, -0.5, 3, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, multiply);\n    }\n\n    /** Erase the current matrix by setting the default one. */\n    public reset(): void\n    {\n        const matrix: ColorMatrix = [\n            1, 0, 0, 0, 0,\n            0, 1, 0, 0, 0,\n            0, 0, 1, 0, 0,\n            0, 0, 0, 1, 0,\n        ];\n\n        this._loadMatrix(matrix, false);\n    }\n\n    /**\n     * The matrix of the color matrix filter\n     * @member {number[]}\n     * @default [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]\n     */\n    get matrix(): ColorMatrix\n    {\n        return this.resources.colorMatrixUniforms.uniforms.uColorMatrix;\n    }\n\n    set matrix(value: ColorMatrix)\n    {\n        this.resources.colorMatrixUniforms.uniforms.uColorMatrix = value;\n    }\n\n    /**\n     * The opacity value to use when mixing the original and resultant colors.\n     *\n     * When the value is 0, the original color is used without modification.\n     * When the value is 1, the result color is used.\n     * When in the range (0, 1) the color is interpolated between the original and result by this amount.\n     * @default 1\n     */\n    get alpha(): number\n    {\n        return this.resources.colorMatrixUniforms.uniforms.uAlpha;\n    }\n\n    set alpha(value: number)\n    {\n        this.resources.colorMatrixUniforms.uniforms.uAlpha = value;\n    }\n}\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Point } from '../../../maths/point/Point';\nimport { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Sprite } from '../../../scene/sprite/Sprite';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { Filter } from '../../Filter';\nimport fragment from './displacement.frag';\nimport vertex from './displacement.vert';\nimport source from './displacement.wgsl';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { FilterSystem } from '../../FilterSystem';\n\nexport interface DisplacementFilterOptions\n{\n    sprite: Sprite,\n    scale?: number | { x: number, y: number },\n}\n\n/**\n * A Noise effect filter.\n *\n * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\n * @memberof filters\n * @author Vico @vicocotea\n */\nexport class DisplacementFilter extends Filter\n{\n    private readonly _sprite: Sprite;\n\n    constructor(options: Sprite | DisplacementFilterOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(sprite: Sprite, scale?: number | PointData);\n    constructor(...args: [Sprite | DisplacementFilterOptions] | [Sprite, (number | PointData)?])\n    {\n        let options = args[0];\n\n        if (options instanceof Sprite)\n        {\n            if (args[1])\n            {\n                deprecation(v8_0_0, 'DisplacementFilter now uses options object instead of params. {sprite, scale}');\n            }\n\n            options = { sprite: options, scale: args[1] };\n        }\n\n        let scale = options.scale ?? 20;\n\n        // check if is a number or a point\n        if (typeof scale === 'number')\n        {\n            scale = new Point(scale, scale);\n        }\n\n        const filterUniforms = new UniformGroup({\n            filterMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            scale: { value: scale, type: 'vec2<f32>' },\n            rotation: { value: new Float32Array([0, 0, 0, 0]), type: 'vec4<f32>' },\n        });\n\n        const glProgram = GlProgram.from({\n            vertex,\n            fragment,\n            name: 'displacement-filter'\n        });\n\n        const gpuProgram = GpuProgram.from({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const textureSource = options.sprite.texture.source;\n\n        super({\n            gpuProgram,\n            glProgram,\n            resources: {\n                filterUniforms,\n                mapTexture: textureSource,\n                mapSampler: textureSource.style,\n            }\n        });\n\n        this._sprite = options.sprite;\n        this._sprite.renderable = false;\n    }\n\n    public apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: Texture,\n        clearMode: boolean\n    ): void\n    {\n        const uniforms = this.resources.filterUniforms.uniforms;\n\n        filterManager.calculateSpriteMatrix(\n            uniforms.filterMatrix,\n            this._sprite\n        );\n\n        // Extract rotation from world transform\n        const wt = this._sprite.worldTransform;\n        const lenX = Math.sqrt((wt.a * wt.a) + (wt.b * wt.b));\n        const lenY = Math.sqrt((wt.c * wt.c) + (wt.d * wt.d));\n\n        if (lenX !== 0 && lenY !== 0)\n        {\n            uniforms.rotation[0] = wt.a / lenX;\n            uniforms.rotation[1] = wt.b / lenX;\n            uniforms.rotation[2] = wt.c / lenY;\n            uniforms.rotation[3] = wt.d / lenY;\n        }\n\n        this.resources.mapTexture = this._sprite.texture.source;\n\n        filterManager.applyFilter(this, input, output, clearMode);\n    }\n\n    get scale(): Point\n    {\n        return this.resources.filterUniforms.uniforms.scale as Point;\n    }\n}\n","import { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Filter } from '../../Filter';\nimport vertex from '../defaultFilter.vert';\nimport fragment from './noise.frag';\nimport source from './noise.wgsl';\n\nexport interface NoiseFilterOptions\n{\n    noise?: number;\n    seed?: number;\n}\n\n/**\n * A Noise effect filter.\n *\n * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\n * @memberof filters\n * @author Vico @vicocotea\n */\nexport class NoiseFilter extends Filter\n{\n    public static readonly DEFAULT: NoiseFilterOptions = {\n        noise: 0.5,\n        seed: undefined,\n    };\n\n    /**\n     * @param options\n     */\n    constructor(options: NoiseFilterOptions = {})\n    {\n        options = { ...NoiseFilter.DEFAULT, ...options };\n\n        const gpuProgram = new GpuProgram({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const glProgram = new GlProgram({\n            vertex,\n            fragment,\n            name: 'noise-filter'\n        });\n\n        super({\n            gpuProgram,\n            glProgram,\n            resources: {\n                noiseUniforms: new UniformGroup({\n                    uNoise: { value: options.noise, type: 'f32' },\n                    uSeed: { value: options.seed ?? Math.random(), type: 'f32' },\n                })\n            },\n            resolution: 1,\n        });\n\n        const noise = options.noise ?? 0.5;\n        const seed = options.seed ?? Math.random();\n\n        this.noise = noise;\n        this.seed = seed;\n    }\n\n    /**\n     * The amount of noise to apply, this value should be in the range (0, 1].\n     * @default 0.5\n     */\n    get noise(): number\n    {\n        return this.resources.noiseUniforms.uniforms.uNoise;\n    }\n\n    set noise(value: number)\n    {\n        this.resources.noiseUniforms.uniforms.uNoise = value;\n    }\n\n    /** A seed value to apply to the random noise generation. `Math.random()` is a good value to use. */\n    get seed(): number\n    {\n        return this.resources.noiseUniforms.uniforms.uSeed;\n    }\n\n    set seed(value: number)\n    {\n        this.resources.noiseUniforms.uniforms.uSeed = value;\n    }\n}\n","import { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Filter } from '../../Filter';\nimport fragment from './shockwave.frag';\nimport vertex from './shockwave.vert';\nimport source from './shockwave.wgsl';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { RenderSurface } from '../../../rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { FilterSystem } from '../../FilterSystem';\n\nexport interface ShockwaveFilterOptions\n{\n    /**\n     * The `x` and `y` center coordinates to change the position of the center of the circle of effect.\n     * @default [0,0]\n     */\n    center?: PointData;\n    /**\n     * The speed about the shockwave ripples out. The unit is `pixel-per-second`\n     * @default 500\n     */\n    speed?: number;\n    /**\n     * The amplitude of the shockwave\n     * @default 30\n     */\n    amplitude?: number;\n    /**\n     * The wavelength of the shockwave\n     * @default 160\n     */\n    wavelength?: number;\n    /**\n     * The brightness of the shockwave\n     * @default 1\n     */\n    brightness?: number;\n    /**\n     * The maximum radius of shockwave. less than `0` means the max is an infinite distance\n     * @default -1\n     */\n    radius?: number;\n}\n\n/**\n * A Noise effect filter.\n *\n * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\n * @memberof filters\n * @author Vico @vicocotea\n */\nexport class ShockwaveFilter extends Filter\n{\n    public static readonly DEFAULT: ShockwaveFilterOptions = {\n        center: { x: 0, y: 0 },\n        speed: 500,\n        amplitude: 30,\n        wavelength: 160,\n        brightness: 1,\n        radius: -1,\n    };\n\n    public uniforms: {\n        uTime: number;\n        uCenter: PointData;\n        uSpeed: number;\n        uWave: Float32Array;\n    };\n\n    /** Sets the elapsed time of the shockwave. It could control the current size of shockwave. */\n    public time: number;\n\n    /**\n     * @param options\n     */\n    constructor(options: ShockwaveFilterOptions = {})\n    {\n        options = { ...ShockwaveFilter.DEFAULT, ...options };\n\n        const gpuProgram = new GpuProgram({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const glProgram = new GlProgram({\n            vertex,\n            fragment,\n            name: 'shockwave-filter'\n        });\n\n        super({\n            gpuProgram,\n            glProgram,\n            resources: {\n                shockwaveUniforms: new UniformGroup({\n                    uTime: { value: 0, type: 'f32' },\n                    uCenter: { value: options.center, type: 'vec2<f32>' },\n                    uSpeed: { value: options.speed, type: 'f32' },\n                    uWave: { value: new Float32Array(4), type: 'vec4<f32>' },\n                })\n            },\n            resolution: 1,\n        });\n\n        this.time = 0;\n\n        this.uniforms = this.resources.shockwaveUniforms.uniforms;\n\n        Object.assign(this, options);\n    }\n\n    public override apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: RenderSurface,\n        clearMode: boolean\n    ): void\n    {\n        // There is no set/get of `time`, for performance.\n        // Because in the most real cases, `time` will be changed in ever game tick.\n        // Use set/get will take more function-call.\n        this.uniforms.uTime = this.time;\n        filterManager.applyFilter(this, input, output, clearMode);\n    }\n\n    /**\n     * The `x` and `y` center coordinates to change the position of the center of the circle of effect.\n     * @default [0,0]\n     */\n    get center(): PointData { return this.uniforms.uCenter; }\n    set center(value: PointData) { this.uniforms.uCenter = value; }\n\n    /**\n     * Sets the center of the effect in normalized screen coords on the `x` axis\n     * @default 0\n     */\n    get centerX(): number { return this.uniforms.uCenter.x; }\n    set centerX(value: number) { this.uniforms.uCenter.x = value; }\n\n    /**\n     * Sets the center of the effect in normalized screen coords on the `y` axis\n     * @default 0\n     */\n    get centerY(): number { return this.uniforms.uCenter.y; }\n    set centerY(value: number) { this.uniforms.uCenter.y = value; }\n\n    /**\n     * The speed about the shockwave ripples out. The unit is `pixel-per-second`\n     * @default 500\n     */\n    get speed(): number { return this.uniforms.uSpeed; }\n    set speed(value: number) { this.uniforms.uSpeed = value; }\n\n    /**\n     * The amplitude of the shockwave\n     * @default 30\n     */\n    get amplitude(): number { return this.uniforms.uWave[0]; }\n    set amplitude(value: number) { this.uniforms.uWave[0] = value; }\n\n    /**\n     * The wavelength of the shockwave\n     * @default 160\n     */\n    get wavelength(): number { return this.uniforms.uWave[1]; }\n    set wavelength(value: number) { this.uniforms.uWave[1] = value; }\n\n    /**\n     * The brightness of the shockwave\n     * @default 1\n     */\n    get brightness(): number { return this.uniforms.uWave[2]; }\n    set brightness(value: number) { this.uniforms.uWave[2] = value; }\n\n    /**\n     * The maximum radius of shockwave. less than `0` means the max is an infinite distance\n     * @default -1\n     */\n    get radius(): number { return this.uniforms.uWave[3]; }\n    set radius(value: number) { this.uniforms.uWave[3] = value; }\n}\n","import { ExtensionType } from '../extensions/Extensions';\n\nimport type { InstructionSet } from '../rendering/renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { Container } from '../scene/container/Container';\nimport type { Effect } from '../scene/container/Effect';\nimport type { FilterInstruction } from './FilterSystem';\n\n// eslint-disable-next-line max-len\nexport class FilterPipe implements InstructionPipe<FilterInstruction>\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'filter',\n    } as const;\n\n    private _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public push(filterEffect: Effect, container: Container, instructionSet: InstructionSet): void\n    {\n        const renderPipes = this._renderer.renderPipes;\n\n        renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'filter',\n            canBundle: false,\n            action: 'pushFilter',\n            container,\n            filterEffect,\n        } as FilterInstruction);\n    }\n\n    public pop(_filterEffect: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        this._renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'filter',\n            action: 'popFilter',\n            canBundle: false,\n        });\n    }\n\n    public execute(instruction: FilterInstruction)\n    {\n        if (instruction.action === 'pushFilter')\n        {\n            this._renderer.filter.push(instruction);\n        }\n        else if (instruction.action === 'popFilter')\n        {\n            this._renderer.filter.pop();\n        }\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null;\n    }\n}\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { BindResource } from '../../gpu/shader/BindResource';\nimport type { BufferUsage } from './const';\n\n// eslint-disable-next-line max-len\nexport type TypedArray = Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array | Uint8ClampedArray | Float32Array | Float64Array;\n\nexport interface BufferOptions\n{\n    data?: TypedArray | number[];\n    size?: number;\n    usage: number;\n    label?: string;\n}\n\nexport interface BufferDescriptor\n{\n\n    label?: string;\n    size: GPUSize64;\n    usage: BufferUsage;\n    mappedAtCreation?: boolean;\n}\n\nexport class Buffer extends EventEmitter<{\n    change: BindResource,\n    update: Buffer,\n    destroy: Buffer,\n}> implements BindResource\n{\n    public readonly resourceType = 'buffer';\n    public resourceId = uid('bufferResource');\n\n    public touched = 0;\n    public readonly uid = uid('buffer');\n\n    public descriptor: BufferDescriptor;\n\n    /** @internal */\n    public _updateID = 1;\n    /** @internal */\n    public _updateSize: number;\n\n    private _data: TypedArray;\n\n    constructor({ data, size, usage, label }: BufferOptions)\n    {\n        super();\n\n        if (data instanceof Array)\n        {\n            data = new Float32Array(data as number[]);\n        }\n\n        this._data = data as TypedArray;\n\n        size = size ?? (data as TypedArray)?.byteLength;\n\n        const mappedAtCreation = !!data;\n\n        this.descriptor = {\n            size,\n            usage,\n            mappedAtCreation,\n            label,\n        };\n    }\n\n    get data()\n    {\n        return this._data;\n    }\n\n    set data(value: TypedArray)\n    {\n        if (this._data !== value)\n        {\n            const oldData = this._data;\n\n            this._data = value;\n\n            if (oldData.length !== value.length)\n            {\n                this.descriptor.size = value.byteLength;\n                this.resourceId = uid('bufferResource');\n\n                this.emit('change', this);\n            }\n            else\n            {\n                this.emit('update', this);\n            }\n        }\n    }\n\n    public update(sizeInBytes?: number): void\n    {\n        this._updateSize = sizeInBytes || this.descriptor.size;\n        this._updateID++;\n\n        this.emit('update', this);\n    }\n\n    public destroy()\n    {\n        this.emit('destroy', this);\n\n        this._data = null;\n        this.descriptor = null;\n\n        this.removeAllListeners();\n    }\n}\n\n","export enum BufferUsage\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    MAP_READ = 0x0001,\n    MAP_WRITE = 0x0002,\n    COPY_SRC = 0x0004,\n    COPY_DST = 0x0008,\n    INDEX = 0x0010,\n    VERTEX = 0x0020,\n    UNIFORM = 0x0040,\n    STORAGE = 0x0080,\n    INDIRECT = 0x0100,\n    QUERY_RESOLVE = 0x0200,\n    STATIC = 0x0400\n}\n","import { Buffer } from '../../buffer/Buffer';\nimport { BufferUsage } from '../../buffer/const';\n\nimport type { TypedArray } from '../../buffer/Buffer';\n\nexport function ensureIsBuffer(buffer: Buffer | TypedArray | number[], index: boolean): Buffer\n{\n    if (!(buffer instanceof Buffer))\n    {\n        let usage: number = index ? BufferUsage.INDEX : BufferUsage.VERTEX;\n\n        // its an array!\n        if (buffer instanceof Array)\n        {\n            if (index)\n            {\n                buffer = new Uint32Array(buffer);\n                usage = BufferUsage.INDEX | BufferUsage.COPY_DST;\n            }\n\n            else\n            {\n                buffer = new Float32Array(buffer);\n                usage = BufferUsage.VERTEX | BufferUsage.COPY_DST;\n            }\n        }\n\n        buffer = new Buffer({\n            data: buffer,\n            label: 'index-mesh-buffer',\n            usage\n        });\n    }\n\n    return buffer;\n}\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid';\nimport { ensureIsBuffer } from './utils/ensureIsBuffer';\n\nimport type { Buffer, TypedArray } from '../buffer/Buffer';\nimport type { Topology, VertexFormat } from './const';\n\nexport interface Attribute\n{\n    buffer: Buffer;\n    stride: number;\n    offset: number;\n    format: VertexFormat;\n    instance?: boolean;\n    shaderLocation: number; // TODO - auto assign this move this?? introspection??\n    size?: number;\n    type?: number;\n    start?: number;\n}\n\ntype AttributesOption = Omit<Attribute, 'buffer'> & { buffer: Buffer | TypedArray | number[]};\n\nexport interface GeometryDescriptor\n{\n    label?: string;\n    attributes: Record<string, AttributesOption>;\n    indexBuffer?: Buffer | TypedArray | number[];\n    topology?: Topology;\n}\n\nexport class Geometry extends EventEmitter<{\n    update: Geometry,\n    destroy: Geometry,\n}>\n{\n    public topology: Topology;\n\n    public uid: number = uid('geometry');\n    public attributes: Record<string, Attribute>;\n    public buffers: Buffer[];\n    public indexBuffer: Buffer;\n\n    /** @internal */\n    public _layoutKey = 0;\n\n    public instanced: boolean;\n    public instanceCount: number;\n\n    constructor({ attributes, indexBuffer, topology }: GeometryDescriptor)\n    {\n        super();\n\n        this.attributes = attributes as Record<string, Attribute>;\n        this.buffers = [];\n\n        for (const i in attributes)\n        {\n            const attribute = attributes[i];\n\n            attribute.buffer = ensureIsBuffer(attribute.buffer, false);\n\n            const bufferIndex = this.buffers.indexOf(attribute.buffer);\n\n            if (bufferIndex === -1)\n            {\n                this.buffers.push(attribute.buffer);\n\n                attribute.buffer.on('update', this.onBufferUpdate, this);\n            }\n        }\n\n        if (indexBuffer)\n        {\n            this.indexBuffer = ensureIsBuffer(indexBuffer, true);\n\n            this.buffers.push(this.indexBuffer);\n        }\n\n        this.topology = topology || 'triangle-list';\n    }\n\n    protected onBufferUpdate(): void\n    {\n        this.emit('update', this);\n    }\n\n    /**\n     * Returns the requested attribute.\n     * @param id - The name of the attribute required\n     * @returns - The attribute requested.\n     */\n    public getAttribute(id: string): Attribute\n    {\n        return this.attributes[id];\n    }\n\n    /**\n     * Returns the index buffer\n     * @returns - The index buffer.\n     */\n    public getIndex(): Buffer\n    {\n        return this.indexBuffer;\n    }\n\n    /**\n     * Returns the requested buffer.\n     * @param id - The name of the buffer required.\n     * @returns - The buffer requested.\n     */\n    public getBuffer(id: string): Buffer\n    {\n        return this.getAttribute(id).buffer;\n    }\n\n    public getSize(): number\n    {\n        for (const i in this.attributes)\n        {\n            const attribute = this.attributes[i];\n            const buffer = this.getBuffer(i);\n\n            // TODO use SIZE again like v7..\n            return (buffer.data as any).length / ((attribute.stride / 4) || attribute.size);\n        }\n\n        return 0;\n    }\n\n    public destroy(destroyBuffers = false): void\n    {\n        this.emit('destroy', this);\n\n        this.removeAllListeners();\n\n        if (destroyBuffers)\n        {\n            this.buffers.forEach((buffer) => buffer.destroy());\n        }\n\n        this.attributes = null;\n        this.buffers = null;\n    }\n}\n\n","import type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Bounds } from './Bounds';\n\nexport function getGlobalRenderableBounds(renderables: Renderable[], bounds: Bounds): Bounds\n{\n    bounds.clear();\n\n    // instead of copying the matrix each time we are assigning it in bounds\n    // this is a performance hack :D\n    // so we need to restore the matrix after we are done\n\n    const tempMatrix = bounds.matrix;\n\n    for (let i = 0; i < renderables.length; i++)\n    {\n        const renderable = renderables[i];\n\n        if (renderable.layerVisibleRenderable < 0b11)\n        {\n            continue;\n        }\n\n        bounds.matrix = renderable.worldTransform;\n        renderable.view.addBounds(bounds);\n    }\n\n    bounds.matrix = tempMatrix;\n\n    return bounds;\n}\n","import { ExtensionType } from '../extensions/Extensions';\nimport { Matrix } from '../maths/matrix/Matrix';\nimport { Point } from '../maths/point/Point';\nimport { BindGroup } from '../rendering/renderers/gpu/shader/BindGroup';\nimport { Geometry } from '../rendering/renderers/shared/geometry/Geometry';\nimport { UniformGroup } from '../rendering/renderers/shared/shader/UniformGroup';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture';\nimport { TexturePool } from '../rendering/renderers/shared/texture/TexturePool';\nimport { Bounds } from '../scene/container/bounds/Bounds';\nimport { getGlobalBounds } from '../scene/container/bounds/getGlobalBounds';\nimport { getGlobalRenderableBounds } from '../scene/container/bounds/getRenderableBounds';\nimport { warn } from '../utils/logging/warn';\n\nimport type { GlRenderTargetSystem } from '../rendering/renderers/gl/GlRenderTargetSystem';\nimport type { WebGLRenderer } from '../rendering/renderers/gl/WebGLRenderer';\nimport type { RenderSurface } from '../rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem';\nimport type { WebGPURenderer } from '../rendering/renderers/gpu/WebGPURenderer';\nimport type { Instruction } from '../rendering/renderers/shared/instructions/Instruction';\nimport type { Renderable } from '../rendering/renderers/shared/Renderable';\nimport type { RenderTarget } from '../rendering/renderers/shared/renderTarget/RenderTarget';\nimport type { System } from '../rendering/renderers/shared/system/System';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { Container } from '../scene/container/Container';\nimport type { Sprite } from '../scene/sprite/Sprite';\nimport type { Filter } from './Filter';\nimport type { FilterEffect } from './FilterEffect';\n\ntype FilterAction = 'pushFilter' | 'popFilter';\n\n//\nconst quadGeometry = new Geometry({\n    attributes: {\n        aPosition: {\n            buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n            shaderLocation: 0,\n            format: 'float32x2',\n            stride: 2 * 4,\n            offset: 0,\n        },\n    },\n    indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3]),\n});\n\n/**\n * The filter pipeline is responsible for applying filters scene items!\n *\n * KNOWN BUGS:\n * 1. Global bounds calculation is incorrect if it is used when flip flopping filters. The maths can be found below\n * eg: filters [noiseFilter, blurFilter] noiseFilter will calculate the global bounds incorrectly.\n *\n * 2. RenderGroups do not work with filters. This is because the renderGroup matrix is not currently taken into account.\n *\n * Implementation notes:\n * 1. Gotcha - nesting filters that require blending will not work correctly. This creates a chicken and egg problem\n * the complexity and performance required to do this is not worth it i feel.. but lets see if others agree!\n *\n * 2. Filters are designed to be changed on the fly, this is means that changing filter information each frame will\n * not trigger an instruction rebuild. If you are constantly turning a filter on and off.. its therefore better to set\n * enabled to true or false on the filter. Or setting an empty array.\n *\n * 3. Need to look at perhaps aliasing when flip flopping filters. Really we should only need to antialias the FIRST\n * Texture we render too. The rest can be non aliased. This might help performance.\n * Currently we flip flop with an antialiased texture if antialiasing is enabled on the filter.\n */\nexport interface FilterInstruction extends Instruction\n{\n    type: 'filter',\n    action: FilterAction,\n    container?: Container,\n    renderables?: Renderable[],\n    filterEffect: FilterEffect,\n}\n\nexport interface FilterData\n{\n    skip: boolean;\n    inputTexture: Texture\n    bounds: Bounds,\n    blendRequired: boolean,\n    container: Container,\n    filterEffect: FilterEffect,\n    previousRenderSurface: RenderTarget,\n    backTexture?: Texture,\n}\n\n// eslint-disable-next-line max-len\nexport class FilterSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'filter',\n    } as const;\n\n    public readonly renderer: Renderer;\n\n    private _filterStackIndex = 0;\n    private _filterStack: FilterData[] = [];\n\n    private readonly _filterGlobalUniforms = new UniformGroup({\n        inputSize: { value: new Float32Array(4), type: 'vec4<f32>' },\n        inputPixel: { value: new Float32Array(4), type: 'vec4<f32>' },\n        inputClamp: { value: new Float32Array(4), type: 'vec4<f32>' },\n        outputFrame: { value: new Float32Array(4), type: 'vec4<f32>' },\n        globalFrame: { value: new Float32Array(4), type: 'vec4<f32>' },\n        outputTexture: { value: new Float32Array(4), type: 'vec4<f32>' },\n    });\n\n    private readonly _globalFilterBindGroup: BindGroup = new BindGroup({});\n    private _activeFilterData: FilterData;\n\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n    }\n\n    public push(instruction: FilterInstruction)\n    {\n        const renderer = this.renderer;\n\n        const filters = instruction.filterEffect.filters;\n\n        if (!this._filterStack[this._filterStackIndex])\n        {\n            this._filterStack[this._filterStackIndex] = this._getFilterData();\n        }\n\n        // get a filter data from the stack. They can be reused multiple times each frame,\n        // so we don't need to worry about overwriting them in a single pass.\n        const filterData = this._filterStack[this._filterStackIndex];\n\n        this._filterStackIndex++;\n\n        const bounds: Bounds = filterData.bounds;\n\n        if (instruction.renderables)\n        {\n            getGlobalRenderableBounds(instruction.renderables, bounds);\n        }\n        else\n        {\n            getGlobalBounds(instruction.container, true, bounds);\n        }\n        // get GLOBAL bounds of the item we are going to apply the filter to\n\n        // if there are no filters, we skip the pass\n        if (filters.length === 0)\n        {\n            filterData.skip = true;\n\n            return;\n        }\n\n        // next we get the settings for the filter\n        // we need to find the LOWEST resolution for the filter list\n        let resolution = renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution;\n\n        // Padding is additive to add padding to our padding\n        let padding = 0;\n        // if this is true for any filter, it should be true\n        let antialias = renderer.renderTarget.rootRenderTarget.colorTexture.source.antialias;\n        // true if any filter requires the previous render target\n        let blendRequired = false;\n        // true if any filter in the list is enabled\n        let enabled = false;\n\n        for (let i = 0; i < filters.length; i++)\n        {\n            const filter = filters[i];\n\n            resolution = Math.min(resolution, filter.resolution);\n            padding += filter.padding;\n\n            if (filter.antialias !== 'inherit')\n            {\n                if (filter.antialias === 'on')\n                {\n                    antialias = true;\n                }\n                else\n                {\n                    antialias = false;\n                }\n            }\n\n            const isCompatible = !!(filter.compatibleRenderers & renderer.type);\n\n            if (!isCompatible)\n            {\n                enabled = false;\n                break;\n            }\n\n            if (filter.blendRequired && !((renderer as WebGLRenderer).backBuffer?.useBackBuffer ?? true))\n            {\n                // #if _DEBUG\n                // eslint-disable-next-line max-len\n                warn('Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options.');\n                // #endif\n\n                enabled = false;\n                break;\n            }\n\n            enabled = filter.enabled || enabled;\n            blendRequired = blendRequired || filter.blendRequired;\n        }\n\n        // if no filters are enabled lets skip!\n        if (!enabled)\n        {\n            filterData.skip = true;\n\n            return;\n        }\n\n        // her we constrain the bounds to the viewport we will render too\n        // need to factor in resolutions also..\n        bounds.scale(resolution)\n            .fit(renderer.renderTarget.rootRenderTarget.viewport)\n            .scale(1 / resolution)\n            .pad(padding)\n            .ceil();\n\n        // skip if the bounds are negative or zero as this means they are\n        // not visible on the screen\n        if (!bounds.isPositive)\n        {\n            filterData.skip = true;\n\n            return;\n        }\n\n        // set all the filter data\n        filterData.skip = false;\n\n        filterData.bounds = bounds;\n        filterData.blendRequired = blendRequired;\n        filterData.container = instruction.container;\n        filterData.filterEffect = instruction.filterEffect;\n\n        filterData.previousRenderSurface = renderer.renderTarget.renderTarget;\n\n        // bind...\n        // get a P02 texture from our pool...\n        filterData.inputTexture = TexturePool.getOptimalTexture(\n            bounds.width,\n            bounds.height,\n            resolution,\n            antialias,\n        );\n\n        renderer.renderTarget.bind(filterData.inputTexture, true);\n        // set the global uniforms to take into account the bounds offset required\n\n        renderer.globalUniforms.push({\n            offset: bounds,\n        });\n    }\n\n    public pop()\n    {\n        const renderer = this.renderer;\n\n        this._filterStackIndex--;\n        const filterData = this._filterStack[this._filterStackIndex];\n\n        // if we are skipping this filter then we just do nothing :D\n        if (filterData.skip)\n        {\n            return;\n        }\n\n        this._activeFilterData = filterData;\n\n        const inputTexture = filterData.inputTexture;\n\n        const bounds = filterData.bounds;\n\n        let backTexture = Texture.EMPTY;\n\n        // TODO - another area we need to know about the renderer\n        // but its still not worth making ana adaptor for this yet\n        (renderer.renderTarget as GlRenderTargetSystem).finishRenderPass?.();\n\n        if (filterData.blendRequired)\n        {\n            // this actually forces the current commandQueue to render everything so far.\n            // if we don't do this, we won't be able to copy pixels for the background\n\n            renderer.encoder.finishRenderPass();\n\n            // renderer.renderTarget.finishRenderPass();\n            const previousBounds = this._filterStackIndex > 0 ? this._filterStack[this._filterStackIndex - 1].bounds : null;\n\n            backTexture = this.getBackTexture(filterData.previousRenderSurface, bounds, previousBounds);\n        }\n\n        filterData.backTexture = backTexture;\n\n        const filters = filterData.filterEffect.filters;\n\n        // get a BufferResource from the uniformBatch.\n        // this will batch the shader uniform data and give us a buffer resource we can\n        // set on our globalUniform Bind Group\n        // eslint-disable-next-line max-len\n\n        // update the resources on the bind group...\n        this._globalFilterBindGroup.setResource(inputTexture.source.style, 2);\n        this._globalFilterBindGroup.setResource(backTexture.source, 3);\n\n        renderer.globalUniforms.pop();\n\n        if (filters.length === 1)\n        {\n            // render a single filter...\n            // this.applyFilter(filters[0], inputTexture, filterData.previousRenderSurface, false);\n            filters[0].apply(this, inputTexture, filterData.previousRenderSurface, false);\n\n            // return the texture to the pool so we can reuse the next frame\n            TexturePool.returnTexture(inputTexture);\n        }\n        else\n        {\n            let flip = filterData.inputTexture;\n\n            // get another texture that we will render the next filter too\n            let flop = TexturePool.getOptimalTexture(\n                bounds.width,\n                bounds.height,\n                flip.source._resolution,\n                false\n            );\n\n            let i = 0;\n\n            // loop and apply the filters, omitting the last one as we will render that to the final target\n            for (i = 0; i < filters.length - 1; ++i)\n            {\n                const filter = filters[i];\n\n                filter.apply(this, flip, flop, true);\n                const t = flip;\n\n                flip = flop;\n                flop = t;\n            }\n\n            filters[i].apply(this, flip, filterData.previousRenderSurface, false);\n\n            // return those textures for later!\n            TexturePool.returnTexture(flip);\n            TexturePool.returnTexture(flop);\n        }\n\n        // if we made a background texture, lets return that also\n        if (filterData.blendRequired)\n        {\n            TexturePool.returnTexture(backTexture);\n        }\n    }\n\n    public getBackTexture(lastRenderSurface: RenderTarget, bounds: Bounds, previousBounds?: Bounds)\n    {\n        const backgroundResolution = lastRenderSurface.colorTexture.source._resolution;\n\n        const backTexture = TexturePool.getOptimalTexture(\n            bounds.width,\n            bounds.height,\n            backgroundResolution,\n            false,\n        );\n\n        let x = bounds.minX;\n        let y = bounds.minY;\n\n        if (previousBounds)\n        {\n            x -= previousBounds.minX;\n            y -= previousBounds.minY;\n        }\n\n        x = Math.floor(x * backgroundResolution);\n        y = Math.floor(y * backgroundResolution);\n\n        const width = Math.ceil(bounds.width * backgroundResolution);\n        const height = Math.ceil(bounds.height * backgroundResolution);\n\n        this.renderer.renderTarget.copyToTexture(\n            lastRenderSurface,\n            backTexture,\n            { x, y },\n            { width, height }\n        );\n\n        return backTexture;\n    }\n\n    public applyFilter(filter: Filter, input: Texture, output: RenderSurface, clear: boolean)\n    {\n        const renderer = this.renderer;\n\n        const filterData = this._filterStack[this._filterStackIndex];\n\n        const bounds = filterData.bounds;\n\n        const offset = Point.shared;\n        const previousRenderSurface = filterData.previousRenderSurface;\n\n        const isFinalTarget = previousRenderSurface === this.renderer.renderTarget.getRenderTarget(output);\n\n        let resolution = this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution;\n\n        if (this._filterStackIndex > 0)\n        {\n            resolution = this._filterStack[this._filterStackIndex - 1].inputTexture.source._resolution;\n        }\n\n        const filterUniforms = this._filterGlobalUniforms;\n        const uniforms = filterUniforms.uniforms;\n\n        const outputFrame = uniforms.outputFrame;\n        const inputSize = uniforms.inputSize;\n        const inputPixel = uniforms.inputPixel;\n        const inputClamp = uniforms.inputClamp;\n        const globalFrame = uniforms.globalFrame;\n        const outputTexture = uniforms.outputTexture;\n\n        // are we rendering back to the original surface?\n        if (isFinalTarget)\n        {\n            // get previous bounds..\n            if (this._filterStackIndex > 0)\n            {\n                offset.x = this._filterStack[this._filterStackIndex - 1].bounds.minX;\n                offset.y = this._filterStack[this._filterStackIndex - 1].bounds.minY;\n            }\n\n            outputFrame[0] = bounds.minX - offset.x;\n            outputFrame[1] = bounds.minY - offset.y;\n        }\n        else\n        {\n            outputFrame[0] = 0;\n            outputFrame[1] = 0;\n        }\n\n        outputFrame[2] = input.frameWidth;\n        outputFrame[3] = input.frameHeight;\n\n        inputSize[0] = input.source.width;\n        inputSize[1] = input.source.height;\n        inputSize[2] = 1 / inputSize[0];\n        inputSize[3] = 1 / inputSize[1];\n\n        inputPixel[0] = input.source.pixelWidth;\n        inputPixel[1] = input.source.pixelHeight;\n        inputPixel[2] = 1.0 / inputPixel[0];\n        inputPixel[3] = 1.0 / inputPixel[1];\n\n        inputClamp[0] = 0.5 * inputPixel[2];\n        inputClamp[1] = 0.5 * inputPixel[3];\n        inputClamp[2] = (input.frameWidth * inputSize[2]) - (0.5 * inputPixel[2]);\n        inputClamp[3] = (input.frameHeight * inputSize[3]) - (0.5 * inputPixel[3]);\n\n        const rootTexture = this.renderer.renderTarget.rootRenderTarget.colorTexture;\n\n        globalFrame[0] = offset.x * resolution;\n        globalFrame[1] = offset.y * resolution;\n\n        globalFrame[2] = rootTexture.source.width * resolution;\n        globalFrame[3] = rootTexture.source.height * resolution;\n\n        // set the output texture - this is where we are going to rendr to\n        const renderSurface = this.renderer.renderTarget.getRenderTarget(output);\n\n        outputTexture[0] = renderSurface.colorTexture.frameWidth;\n        outputTexture[1] = renderSurface.colorTexture.frameHeight;\n        outputTexture[2] = renderSurface.isRoot ? -1 : 1;\n\n        filterUniforms.update();\n\n        // TODO - should prolly use a adaptor...\n        if ((renderer as WebGPURenderer).renderPipes.uniformBatch)\n        {\n            const batchUniforms = (renderer as WebGPURenderer).renderPipes.uniformBatch\n                .getUniformBufferResource(this._filterGlobalUniforms);\n\n            this._globalFilterBindGroup.setResource(batchUniforms, 0);\n        }\n        else\n        {\n            this._globalFilterBindGroup.setResource(filterUniforms, 0);\n        }\n\n        // now lets update the output texture...\n\n        // set bind group..\n        this._globalFilterBindGroup.setResource(input.source, 1);\n        this._globalFilterBindGroup.setResource(input.source.style, 2);\n\n        renderer.renderTarget.bind(output, !!clear);\n\n        filter.groups[0] = this._globalFilterBindGroup;\n\n        renderer.encoder.draw({\n            geometry: quadGeometry,\n            shader: filter,\n            state: filter._state,\n            topology: 'triangle-list'\n        });\n    }\n\n    private _getFilterData(): FilterData\n    {\n        return {\n            skip: false,\n            inputTexture: null,\n            bounds: new Bounds(),\n            container: null,\n            filterEffect: null,\n            blendRequired: false,\n            previousRenderSurface: null,\n        };\n    }\n\n    /**\n     * Multiply _input normalized coordinates_ to this matrix to get _sprite texture normalized coordinates_.\n     *\n     * Use `outputMatrix * vTextureCoord` in the shader.\n     * @param outputMatrix - The matrix to output to.\n     * @param {Sprite} sprite - The sprite to map to.\n     * @returns The mapped matrix.\n     */\n    public calculateSpriteMatrix(outputMatrix: Matrix, sprite: Sprite): Matrix\n    {\n        const data = this._activeFilterData;\n\n        const mappedMatrix = outputMatrix.set(\n            data.inputTexture._source.width,\n            0, 0,\n            data.inputTexture._source.height,\n            data.bounds.minX, data.bounds.minY\n        );\n\n        const worldTransform = sprite.worldTransform.copyTo(Matrix.shared);\n\n        worldTransform.invert();\n        mappedMatrix.prepend(worldTransform);\n        mappedMatrix.scale(1.0 / (sprite.texture.frameWidth), 1.0 / (sprite.texture.frameHeight));\n\n        mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);\n\n        return mappedMatrix;\n    }\n\n    public destroy?: () => void;\n}\n","import { Matrix } from '../../maths/matrix/Matrix';\nimport { GlProgram } from '../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../rendering/renderers/gpu/shader/GpuProgram';\nimport { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup';\nimport { TextureMatrix } from '../../rendering/renderers/shared/texture/TextureMatrix';\nimport { Filter } from '../Filter';\nimport fragment from './mask.frag';\nimport vertex from './mask.vert';\nimport source from './mask.wgsl';\n\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { Sprite } from '../../scene/sprite/Sprite';\nimport type { FilterSystem } from '../FilterSystem';\n\nexport interface MaskFilterOptions\n{\n    sprite: Sprite,\n    scale?: number | { x: number, y: number },\n}\n\nexport class MaskFilter extends Filter\n{\n    public sprite: Sprite;\n    private readonly _textureMatrix: TextureMatrix;\n\n    constructor({ sprite }: MaskFilterOptions)\n    {\n        const textureMatrix = new TextureMatrix(sprite.texture);\n\n        const filterUniforms = new UniformGroup({\n            filterMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            maskClamp: { value: textureMatrix.uClampFrame, type: 'vec4<f32>' },\n            alpha: { value: 1, type: 'f32' },\n        });\n\n        const gpuProgram = new GpuProgram({\n            vertex: {\n                source,\n                entryPoint: 'mainVertex',\n            },\n            fragment: {\n                source,\n                entryPoint: 'mainFragment',\n            },\n        });\n\n        const glProgram = GlProgram.from({\n            vertex,\n            fragment,\n            name: 'mask-filter',\n        });\n\n        super({\n            gpuProgram,\n            glProgram,\n            resources: {\n                filterUniforms,\n                mapTexture: sprite.texture.source,\n            }\n        });\n\n        this.sprite = sprite;\n\n        this._textureMatrix = textureMatrix;\n    }\n\n    public apply(\n        filterManager: FilterSystem,\n        input: Texture,\n        output: Texture,\n        clearMode: boolean\n    ): void\n    {\n        // will trigger an update if the texture changed..\n        this._textureMatrix.texture = this.sprite.texture;\n\n        filterManager.calculateSpriteMatrix(\n            this.resources.filterUniforms.uniforms.filterMatrix as Matrix,\n            this.sprite\n        ).prepend(this._textureMatrix.mapCoord);\n\n        this.resources.mapTexture = this.sprite.texture.source;\n\n        filterManager.applyFilter(this, input, output, clearMode);\n    }\n}\n","// import { SHAPES } from '../const';\nimport { Rectangle } from './Rectangle';\n\nimport type { SHAPE_PRIMITIVE } from '../misc/const';\nimport type { ShapePrimitive } from './ShapePrimitive';\n\n/** A class to define a shape of a triangle via user defined coordinates. */\nexport class Triangle implements ShapePrimitive\n{\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @default 'triangle'\n     */\n    public readonly type: SHAPE_PRIMITIVE = 'triangle';\n\n    /**\n     * The X coord of the first point.\n     * @default 0\n     */\n    public x: number;\n    /**\n     * The Y coord of the first point.\n     * @default 0\n     */\n    public y: number;\n    /**\n     * The X coord of the second point.\n     * @default 0\n     */\n    public x2: number;\n    /**\n     * The Y coord of the second point.\n     * @default 0\n     */\n    public y2: number;\n    /**\n     * The X coord of the third point.\n     * @default 0\n     */\n    public x3: number;\n    /**\n     * The Y coord of the third point.\n     * @default 0\n     */\n    public y3: number;\n\n    /**\n     * @param x - The X coord of the first point.\n     * @param y - The Y coord of the first point.\n     * @param x2 - The X coord of the second point.\n     * @param y2 - The Y coord of the second point.\n     * @param x3 - The X coord of the third point.\n     * @param y3 - The Y coord of the third point.\n     */\n    constructor(x = 0, y = 0, x2 = 0, y2 = 0, x3 = 0, y3 = 0)\n    {\n        this.x = x;\n        this.y = y;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.x3 = x3;\n        this.y3 = y3;\n    }\n\n    /**\n     * Checks whether the x and y coordinates given are contained within this triangle\n     * @param x - The X coordinate of the point to test\n     * @param y - The Y coordinate of the point to test\n     * @returns Whether the x/y coordinates are within this Triangle\n     */\n    public contains(x: number, y: number): boolean\n    {\n        const s = ((this.x - this.x3) * (y - this.y3)) - ((this.y - this.y3) * (x - this.x3));\n        const t = ((this.x2 - this.x) * (y - this.y)) - ((this.y2 - this.y) * (x - this.x));\n\n        if ((s < 0) !== (t < 0) && s !== 0 && t !== 0)\n        { return false; }\n\n        const d = ((this.x3 - this.x2) * (y - this.y2)) - ((this.y3 - this.y2) * (x - this.x2));\n\n        return d === 0 || (d < 0) === (s + t <= 0);\n    }\n\n    /**\n     * Creates a clone of this Triangle\n     * @returns a copy of the triangle\n     */\n    public clone(): ShapePrimitive\n    {\n        const triangle = new Triangle(\n            this.x,\n            this.y,\n            this.x2,\n            this.y2,\n            this.x3,\n            this.y3\n        );\n\n        return triangle;\n    }\n\n    /**\n     * Copies another triangle to this one.\n     * @param triangle - The triangle to copy from.\n     * @returns Returns itself.\n     */\n    public copyFrom(triangle: Triangle): this\n    {\n        this.x = triangle.x;\n        this.y = triangle.y;\n        this.x2 = triangle.x2;\n        this.y2 = triangle.y2;\n        this.x3 = triangle.x3;\n        this.y3 = triangle.y3;\n\n        return this;\n    }\n\n    /**\n     * Copies this triangle to another one.\n     * @param triangle - The triangle to copy to.\n     * @returns Returns given parameter.\n     */\n    public copyTo(triangle: Triangle): Triangle\n    {\n        triangle.copyFrom(this);\n\n        return triangle;\n    }\n\n    /**\n     * Returns the framing rectangle of the triangle as a Rectangle object\n     * @param out - optional rectangle to store the result\n     * @returns The framing rectangle\n     */\n    public getBounds(out?: Rectangle): Rectangle\n    {\n        out = out || new Rectangle();\n\n        const minX = Math.min(this.x, this.x2, this.x3);\n        const maxX = Math.max(this.x, this.x2, this.x3);\n        const minY = Math.min(this.y, this.y2, this.y3);\n        const maxY = Math.max(this.y, this.y2, this.y3);\n\n        out.x = minX;\n        out.y = minY;\n        out.width = maxX - minX;\n        out.height = maxY - minY;\n\n        return out;\n    }\n}\n","import { warn } from '../../../../utils/logging/warn';\n\n/**\n * takes the HighFragment source parts and adds them to the hook hash\n * @param srcParts - the hash of hook arrays\n * @param parts - the code to inject into the hooks\n * @param name - optional the name of the part to add\n */\nexport function addBits(srcParts: Record<string, string>, parts: Record<string, string[]>, name?: string)\n{\n    if (srcParts)\n    {\n        for (const i in srcParts)\n        {\n            const id = i.toLocaleLowerCase();\n\n            const part = parts[id];\n\n            if (part)\n            {\n                let sanitisedPart = srcParts[i];\n\n                if (i === 'header')\n                {\n                    sanitisedPart = sanitisedPart\n                        .replace(/@in\\s+[^;]+;\\s*/g, '')\n                        .replace(/@out\\s+[^;]+;\\s*/g, '');\n                }\n\n                if (name)\n                {\n                    part.push(`//----${name}----//`);\n                }\n                part.push(sanitisedPart);\n            }\n\n            else\n            {\n                // #if _DEBUG\n                warn(`${i} placement hook does not exist in shader`);\n                // #endif\n            }\n        }\n    }\n}\n","export const findHooksRx = /\\{\\{(.*?)\\}\\}/g;\n\n/**\n * takes a program string and returns an hash mapping the hooks to empty arrays\n * @param programSrc - the program containing hooks\n */\nexport function compileHooks(programSrc: string): Record<string, string[]>\n{\n    const parts: Record<string, string[]> = {};\n\n    const partMatches = programSrc\n        .match(findHooksRx)\n        ?.map((hook) => hook.replace(/[{()}]/g, '')) ?? [];\n\n    partMatches.forEach((hook) =>\n    {\n        parts[hook] = [];\n    });\n\n    return parts;\n}\n","function extractInputs(fragmentSource: string, out: string[])\n{\n    let match;\n    const regex = /@in\\s+([^;]+);/g;\n\n    while ((match = regex.exec(fragmentSource)) !== null)\n    {\n        out.push(match[1]);\n    }\n}\n\nexport function compileInputs(fragments: any[], template: string, sort = false)\n{\n    // get all the inputs from the fragments..\n    const results: string[] = [];\n\n    extractInputs(template, results);\n\n    fragments.forEach((fragment) =>\n    {\n        if (fragment.header)\n        {\n            extractInputs(fragment.header, results);\n        }\n    });\n\n    // build the input:\n    const mainInput = results;\n\n    if (sort)\n    {\n        mainInput.sort();\n    }\n\n    const finalString = mainInput\n        .map((inValue, i) => `       @location(${i}) ${inValue},`)\n        .join('\\n');\n\n    // Remove lines from original string\n    let cleanedString = template.replace(/@in\\s+[^;]+;\\s*/g, '');\n\n    cleanedString = cleanedString.replace('{{in}}', `\\n${finalString}\\n`);\n\n    return cleanedString;\n}\n","function extractOutputs(fragmentSource: string, out: string[])\n{\n    let match;\n    const regex = /@out\\s+([^;]+);/g;\n\n    while ((match = regex.exec(fragmentSource)) !== null)\n    {\n        out.push(match[1]);\n    }\n}\n\nfunction extractVariableName(value: string)\n{\n    const regex = /\\b(\\w+)\\s*:/g;\n\n    const match = regex.exec(value);\n\n    return match ? match[1] : '';\n}\n\nfunction stripVariable(value: string)\n{\n    const regex = /@.*?\\s+/g;\n\n    return value.replace(regex, '');\n}\n\nexport function compileOutputs(fragments: any[], template: string)\n{\n    // get all the inputs from the fragments..\n    const results: string[] = [];\n\n    extractOutputs(template, results);\n\n    fragments.forEach((fragment) =>\n    {\n        if (fragment.header)\n        {\n            extractOutputs(fragment.header, results);\n        }\n    });\n\n    let index = 0;\n\n    // generate the output struct\n    const mainStruct = results\n        .sort()\n        .map((inValue) =>\n        {\n            if (inValue.indexOf('builtin') > -1)\n            {\n                return inValue;\n            }\n\n            return `@location(${index++}) ${inValue}`;\n        })\n        .join(',\\n');\n\n    // generate the variables we will set:\n    const mainStart = results\n        .sort()\n        .map((inValue) => `       var ${stripVariable(inValue)};`)\n        .join('\\n');\n\n    // generate the return object\n    const mainEnd = `return VSOutput(\n                ${results\n        .sort()\n        .map((inValue) => ` ${extractVariableName(inValue)}`)\n        .join(',\\n')});`;\n\n    // Remove lines from original string\n    let compiledCode = template.replace(/@out\\s+[^;]+;\\s*/g, '');\n\n    compiledCode = compiledCode.replace('{{struct}}', `\\n${mainStruct}\\n`);\n    compiledCode = compiledCode.replace('{{start}}', `\\n${mainStart}\\n`);\n    compiledCode = compiledCode.replace('{{return}}', `\\n${mainEnd}\\n`);\n\n    return compiledCode;\n}\n","/**\n * takes a shader src and replaces any hooks with the HighFragment code.\n * @param templateSrc - the program src template\n * @param fragmentParts - the fragments to inject\n */\nexport function injectBits(templateSrc: string, fragmentParts: Record<string, string[]>): string\n{\n    let out = templateSrc;\n\n    for (const i in fragmentParts)\n    {\n        const parts = fragmentParts[i];\n\n        const toInject = parts.join('\\n');\n\n        if (toInject.length)\n        {\n            out = out.replace(`{{${i}}}`, `//-----${i} START-----//\\n${parts.join('\\n')}\\n//----${i} FINISH----//`);\n        }\n\n        else\n        {\n            out = out.replace(`{{${i}}}`, '');\n        }\n    }\n\n    return out;\n}\n","import { addBits } from './utils/addBits';\nimport { compileHooks } from './utils/compileHooks';\nimport { compileInputs } from './utils/compileInputs';\nimport { compileOutputs } from './utils/compileOutputs';\nimport { injectBits } from './utils/injectBits';\n\nimport type { HighShaderBit, HighShaderSource } from './types';\n\n/** A high template consists of vertex and fragment source */\nexport interface HighShaderTemplate\n{\n    name?: string;\n    fragment: string;\n    vertex: string;\n}\n\nexport interface CompileHighShaderOptions\n{\n    template: HighShaderTemplate;\n    bits: HighShaderBit[];\n}\n\nconst cacheMap: {[key: string]: HighShaderSource} = Object.create(null);\nconst bitCacheMap: Map<HighShaderBit, number> = new Map();\n\nlet CACHE_UID = 0;\n\n/**\n * This function will take a HighShader template, some High fragments and then merge them in to a shader source.\n * @param options\n * @param options.template\n * @param options.bits\n */\nexport function compileHighShader({\n    template,\n    bits\n}: CompileHighShaderOptions): HighShaderSource\n{\n    const cacheId = generateCacheId(template, bits);\n\n    if (cacheMap[cacheId]) return cacheMap[cacheId];\n\n    const { vertex, fragment } = compileInputsAndOutputs(template, bits);\n\n    cacheMap[cacheId] = compileBits(vertex, fragment, bits);\n\n    return cacheMap[cacheId];\n}\n\nexport function compileHighShaderGl({\n    template,\n    bits\n}: CompileHighShaderOptions): HighShaderSource\n{\n    const cacheId = generateCacheId(template, bits);\n\n    if (cacheMap[cacheId]) return cacheMap[cacheId];\n\n    cacheMap[cacheId] = compileBits(template.vertex, template.fragment, bits);\n\n    return cacheMap[cacheId];\n}\n\nfunction compileInputsAndOutputs(template: HighShaderTemplate, bits: HighShaderBit[])\n{\n    const vertexFragments = bits.map((shaderBit) => shaderBit.vertex).filter((v) => !!v);\n    const fragmentFragments = bits.map((shaderBit) => shaderBit.fragment).filter((v) => !!v);\n\n    // WebGPU compile inputs and outputs..\n    let compiledVertex = compileInputs(vertexFragments, template.vertex);\n\n    compiledVertex = compileOutputs(vertexFragments, compiledVertex);\n\n    const compiledFragment = compileInputs(fragmentFragments, template.fragment, true);\n\n    return {\n        vertex: compiledVertex,\n        fragment: compiledFragment,\n    };\n}\n\nfunction generateCacheId(template: HighShaderTemplate, bits: HighShaderBit[]): string\n{\n    return bits\n        .map((highFragment) =>\n        {\n            if (!bitCacheMap.has(highFragment))\n            {\n                bitCacheMap.set(highFragment, CACHE_UID++);\n            }\n\n            return bitCacheMap.get(highFragment);\n        })\n        .sort((a, b) => a - b)\n        .join('-') + template.vertex + template.fragment;\n}\n\nfunction compileBits(vertex: string, fragment: string, bits: HighShaderBit[])\n{\n    const vertexParts = compileHooks(vertex);\n    const fragmentParts = compileHooks(fragment);\n\n    bits.forEach((shaderBit) =>\n    {\n        addBits(shaderBit.vertex, vertexParts, shaderBit.name);\n        addBits(shaderBit.fragment, fragmentParts, shaderBit.name);\n    });\n\n    return {\n        vertex: injectBits(vertex, vertexParts),\n        fragment: injectBits(fragment, fragmentParts),\n    };\n}\n","const vertexGPUTemplate = /* wgsl */`\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.worldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n        vUV = aUV;\n\n        {{main}}\n\n        var modelViewProjectionMatrix = globalUniforms.projectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.worldAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n`;\n\nconst fragmentGPUTemplate = /* wgsl */`\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        return outColor * vColor;\n      };\n`;\n\nconst vertexGlTemplate = /* glsl */`\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = worldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n\n        {{start}}\n        \n        vColor = vec4(1.);\n        vUV = aUV;\n\n        {{main}}\n\n        mat3 modelViewProjectionMatrix = projectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= worldAlpha;\n\n        {{end}}\n    }\n`;\n\nconst fragmentGlTemplate = /* glsl */`\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n    }\n`;\n\nexport {\n    fragmentGlTemplate,\n    fragmentGPUTemplate,\n    vertexGlTemplate,\n    vertexGPUTemplate\n};\n","export const globalUniformsBit = {\n    name: 'global-uniforms-bit',\n    vertex: {\n        header: /* wgsl */`\n        struct GlobalUniforms {\n            projectionMatrix:mat3x3<f32>,\n            worldTransformMatrix:mat3x3<f32>,\n            worldAlpha: f32,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        `\n    }\n};\n\nexport const globalUniformsBitGl = {\n    name: 'global-uniforms-bit',\n    vertex: {\n        header: /* glsl */`\n          uniform globalUniforms {\n            mat3 projectionMatrix;\n            mat3 worldTransformMatrix;\n            float worldAlpha;\n            vec2 uResolution;\n          };\n        `\n    }\n};\n","import { GlProgram } from '../renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../renderers/gpu/shader/GpuProgram';\nimport { compileHighShader, compileHighShaderGl } from './compiler/compileHighShader';\nimport { fragmentGlTemplate, fragmentGPUTemplate, vertexGlTemplate, vertexGPUTemplate } from './defaultProgramTemplate';\nimport { globalUniformsBit, globalUniformsBitGl } from './shader-bits/globalUniformsBit';\n\nimport type { HighShaderBit } from './compiler/types';\n\nexport function compileHighShaderGpuProgram({ bits, name }: {bits: HighShaderBit[], name: string}): GpuProgram\n{\n    const source = compileHighShader({\n        template: {\n            fragment: fragmentGPUTemplate,\n            vertex: vertexGPUTemplate,\n        },\n        bits: [\n            globalUniformsBit,\n            ...bits,\n        ]\n    });\n\n    return new GpuProgram({\n        name,\n        vertex: {\n            source: source.vertex,\n            entryPoint: 'main',\n        },\n        fragment: {\n            source: source.fragment,\n            entryPoint: 'main',\n        },\n    });\n}\n\nexport function compileHighShaderGlProgram({ bits, name }: {bits: HighShaderBit[], name: string}): GlProgram\n{\n    return new GlProgram({\n        name,\n        ...compileHighShaderGl({\n            template: {\n                vertex: vertexGlTemplate,\n                fragment: fragmentGlTemplate,\n            },\n            bits: [\n                globalUniformsBitGl,\n                ...bits,\n            ]\n        })\n    });\n}\n","export const colorBit = {\n    name: 'color-bit',\n    vertex: {\n        header: /* wgsl */`\n            @in aColor: vec4<f32>;\n        `,\n        main: /* wgsl */`\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        `\n    }\n};\n\nexport const colorBitGl = {\n    name: 'color-bit',\n    vertex: {\n        header: /* glsl */`\n            in vec4 aColor;\n        `,\n        main: /* glsl */`\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        `\n    }\n};\n","import type { HighShaderBit } from '../compiler/types';\n\nconst textureBatchBitGpuCache: Record<number, HighShaderBit> = {};\n\n/**\n *\n * @param maxTextures - the max textures the shader can use.\n * @returns a shader bit that will allow the shader to sample multiple textures AND round pixels.\n */\nfunction generateBindingSrc(maxTextures: number): string\n{\n    const src = [];\n\n    if (maxTextures === 1)\n    {\n        src.push('@group(1) @binding(0) var textureSource1: texture_2d<f32>;');\n        src.push('@group(1) @binding(1) var textureSampler1: sampler;');\n    }\n    else\n    {\n        let bindingIndex = 0;\n\n        for (let i = 0; i < maxTextures; i++)\n        {\n            src.push(`@group(1) @binding(${bindingIndex++}) var textureSource${i + 1}: texture_2d<f32>;`);\n            src.push(`@group(1) @binding(${bindingIndex++}) var textureSampler${i + 1}: sampler;`);\n        }\n    }\n\n    return src.join('\\n');\n}\n\nfunction generateSampleSrc(maxTextures: number): string\n{\n    const src = [];\n\n    if (maxTextures === 1)\n    {\n        src.push('outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);');\n    }\n    else\n    {\n        src.push('switch vTextureId {');\n\n        for (let i = 0; i < maxTextures; i++)\n        {\n            if (i === maxTextures - 1)\n            {\n                src.push(`  default:{`);\n            }\n            else\n            {\n                src.push(`  case ${i}:{`);\n            }\n            src.push(`      outColor = textureSampleGrad(textureSource${i + 1}, textureSampler${i + 1}, vUV, uvDx, uvDy);`);\n            src.push(`      break;}`);\n        }\n\n        src.push(`}`);\n    }\n\n    return src.join('\\n');\n}\n\nexport function generateTextureBatchBit(maxTextures: number): HighShaderBit\n{\n    if (!textureBatchBitGpuCache[maxTextures])\n    {\n        textureBatchBitGpuCache[maxTextures] = {\n            name: 'texture-batch-bit',\n            vertex: {\n                header: `\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            `,\n                main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n                end: `\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            `\n            },\n            fragment: {\n                header: `\n                @in @interpolate(flat) vTextureId: u32;\n    \n                ${generateBindingSrc(16)}\n            `,\n                main: `\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n    \n                ${generateSampleSrc(16)}\n            `\n            }\n        };\n    }\n\n    return textureBatchBitGpuCache[maxTextures];\n}\n\nconst textureBatchBitGlCache: Record<number, HighShaderBit> = {};\n\n/**\n *\n * @param maxTextures - the max textures the shader can use.\n * @returns a shader bit that will allow the shader to sample multiple textures AND round pixels.\n */\nfunction generateSampleGlSrc(maxTextures: number): string\n{\n    const src = [];\n\n    for (let i = 0; i < maxTextures; i++)\n    {\n        if (i > 0)\n        {\n            src.push('else');\n        }\n\n        if (i < maxTextures - 1)\n        {\n            src.push(`if(vTextureId < ${i}.5)`);\n        }\n\n        src.push('{');\n        src.push(`\\toutColor = texture(uSamplers[${i}], vUV);`);\n        src.push('}');\n    }\n\n    return src.join('\\n');\n}\n\nexport function generateTextureBatchBitGl(maxTextures: number): HighShaderBit\n{\n    if (!textureBatchBitGlCache[maxTextures])\n    {\n        textureBatchBitGlCache[maxTextures] = {\n            name: 'texture-batch-bit',\n            vertex: {\n                header: `\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n              \n            `,\n                main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n                end: `\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            `\n            },\n            fragment: {\n                header: `\n                in float vTextureId;\n    \n                uniform sampler2D uSamplers[${maxTextures}];\n              \n            `,\n                main: `\n    \n                ${generateSampleGlSrc(16)}\n            `\n            }\n        };\n    }\n\n    return textureBatchBitGlCache[maxTextures];\n}\n","export const roundPixelsBit = {\n    name: 'round-pixels-bit',\n    vertex: {\n        header: /* wgsl */`\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor((position * 0.5 + 0.5) * targetSize) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    }\n};\n\nexport const roundPixelsBitGl = {\n    name: 'round-pixels-bit',\n    vertex: {\n        header: /* glsl */`   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor((position * 0.5 + 0.5) * targetSize) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    }\n};\n\n","export const MAX_TEXTURES = 16;\n","import { MAX_TEXTURES } from '../../../batcher/shared/const';\nimport { UniformGroup } from '../../shared/shader/UniformGroup';\n\nconst sampleValues = new Int32Array(MAX_TEXTURES);\n\nfor (let i = 0; i < MAX_TEXTURES; i++)\n{\n    sampleValues[i] = i;\n}\n\nexport const batchSamplersUniformGroup = new UniformGroup({\n    uSamplers: { value: sampleValues, type: `u32`, size: MAX_TEXTURES }\n}, { isStatic: true });\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { compileHighShaderGlProgram } from '../../high-shader/compileHighShaderToProgram';\nimport { colorBitGl } from '../../high-shader/shader-bits/colorBit';\nimport { generateTextureBatchBitGl } from '../../high-shader/shader-bits/generateTextureBatchBit';\nimport { roundPixelsBitGl } from '../../high-shader/shader-bits/roundPixelsBit';\nimport { batchSamplersUniformGroup } from '../../renderers/gl/shader/batchSamplersUniformGroup';\nimport { Shader } from '../../renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../renderers/shared/shader/UniformGroup';\nimport { State } from '../../renderers/shared/state/State';\nimport { MAX_TEXTURES } from '../shared/const';\n\nimport type { WebGLRenderer } from '../../renderers/gl/WebGLRenderer';\nimport type { Geometry } from '../../renderers/shared/geometry/Geometry';\nimport type { Batch } from '../shared/Batcher';\nimport type { BatcherAdaptor, BatcherPipe } from '../shared/BatcherPipe';\n\nexport class GlBatchAdaptor implements BatcherAdaptor\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipesAdaptor,\n        ],\n        name: 'batch',\n    } as const;\n\n    private _shader: Shader;\n    private _didUpload = false;\n    private readonly _tempState = State.for2d();\n\n    public init()\n    {\n        const uniforms = new UniformGroup({\n            tint: { value: new Float32Array([1, 1, 1, 1]), type: 'f32' },\n            translationMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n        });\n\n        const glProgram = compileHighShaderGlProgram({\n            name: 'batch',\n            bits: [\n                colorBitGl,\n                generateTextureBatchBitGl(MAX_TEXTURES),\n                roundPixelsBitGl,\n            ]\n        });\n\n        this._shader = new Shader({\n            glProgram,\n            resources: {\n                uniforms,\n                batchSamplers: batchSamplersUniformGroup,\n            }\n        });\n    }\n\n    public start(batchPipe: BatcherPipe, geometry: Geometry): void\n    {\n        const renderer = batchPipe.renderer as WebGLRenderer;\n\n        renderer.shader.bind(this._shader, this._didUpload);\n\n        renderer.shader.bindUniformBlock(renderer.globalUniforms.uniformGroup, 'globalUniforms', 0);\n\n        renderer.geometry.bind(geometry, this._shader.glProgram);\n    }\n\n    public execute(batchPipe: BatcherPipe, batch: Batch): void\n    {\n        const renderer = batchPipe.renderer as WebGLRenderer;\n\n        this._didUpload = true;\n\n        this._tempState.blendMode = batch.blendMode;\n\n        renderer.state.set(this._tempState);\n\n        const textures = batch.textures.textures;\n\n        for (let i = 0; i < textures.length; i++)\n        {\n            renderer.texture.bind(textures[i], i);\n        }\n\n        renderer.geometry.draw('triangle-list', batch.size, batch.start);\n    }\n\n    public destroy(): void\n    {\n        this._shader.destroy(true);\n        this._shader = null;\n    }\n}\n","import { Buffer } from '../../renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../renderers/shared/buffer/const';\nimport { Geometry } from '../../renderers/shared/geometry/Geometry';\n\nconst placeHolderBufferData = new Float32Array(1);\nconst placeHolderIndexData = new Uint32Array(1);\n\nexport class BatchGeometry extends Geometry\n{\n    constructor()\n    {\n        const vertexSize = 6;\n\n        const attributeBuffer = new Buffer({\n            data: placeHolderBufferData,\n            label: 'attribute-batch-buffer',\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n        });\n\n        const indexBuffer = new Buffer({\n            data: placeHolderIndexData,\n            label: 'index-batch-buffer',\n            usage: BufferUsage.INDEX | BufferUsage.COPY_DST, // | BufferUsage.STATIC,\n        });\n\n        const stride = vertexSize * 4;\n\n        super({\n            attributes: {\n                aPosition: {\n                    buffer: attributeBuffer,\n                    shaderLocation: 0,\n                    format: 'float32x2',\n                    stride,\n                    offset: 0,\n                },\n                aUV: {\n                    buffer: attributeBuffer,\n                    shaderLocation: 1,\n                    format: 'float32x2',\n                    stride,\n                    offset: 2 * 4,\n                },\n                aColor: {\n                    buffer: attributeBuffer,\n                    shaderLocation: 2,\n                    format: 'unorm8x4',\n                    stride,\n                    offset: 4 * 4,\n                },\n                aTextureIdAndRound: {\n                    buffer: attributeBuffer,\n                    shaderLocation: 3,\n                    format: 'uint16x2',\n                    stride,\n                    offset: 5 * 4,\n                },\n            },\n            indexBuffer\n        });\n    }\n\n    public reset()\n    {\n        this.indexBuffer.data = placeHolderIndexData;\n        this.buffers[0].data = placeHolderBufferData;\n    }\n}\n\n","export function generateGPULayout(maxTextures: number): GPUBindGroupLayoutEntry[]\n{\n    const gpuLayout: GPUBindGroupLayoutEntry[] = [];\n\n    let bindIndex = 0;\n\n    for (let i = 0; i < maxTextures; i++)\n    {\n        gpuLayout[bindIndex] = {\n            texture: {\n                sampleType: 'float',\n                viewDimension: '2d',\n                multisampled: false,\n            },\n            binding: bindIndex,\n            visibility: GPUShaderStage.FRAGMENT,\n        };\n        bindIndex++;\n\n        gpuLayout[bindIndex] = {\n            sampler: {\n                type: 'filtering',\n            },\n            binding: bindIndex,\n            visibility: GPUShaderStage.FRAGMENT,\n        };\n\n        bindIndex++;\n    }\n\n    return gpuLayout;\n}\n","export function generateLayout(maxTextures: number): Record<string, number>\n{\n    const layout: Record<string, number> = {};\n\n    let bindIndex = 0;\n\n    for (let i = 0; i < maxTextures; i++)\n    {\n        layout[`textureSource${i + 1}`] = bindIndex++;\n        layout[`textureSampler${i + 1}`] = bindIndex++;\n    }\n\n    return layout;\n}\n","import { BindGroup } from '../../renderers/gpu/shader/BindGroup';\nimport { Texture } from '../../renderers/shared/texture/Texture';\nimport { MAX_TEXTURES } from '../shared/const';\n\nimport type { TextureSource } from '../../renderers/shared/texture/sources/TextureSource';\n\nconst cachedGroups: Record<number, BindGroup> = {};\n\nexport function getTextureBatchBindGroup(textures: TextureSource[], size: number)\n{\n    let uid = 0;\n\n    for (let i = 0; i < size; i++)\n    {\n        uid = ((uid * 31) + textures[i].uid) >>> 0;\n    }\n\n    return cachedGroups[uid] || generateTextureBatchBindGroup(textures, uid);\n}\n\nfunction generateTextureBatchBindGroup(textures: TextureSource[], key: number): BindGroup\n{\n    const bindGroupResources: Record<string, any> = {};\n\n    let bindIndex = 0;\n\n    for (let i = 0; i < MAX_TEXTURES; i++)\n    {\n        const texture = i < textures.length ? textures[i] : Texture.EMPTY.source;\n\n        bindGroupResources[bindIndex++] = texture.source;\n        bindGroupResources[bindIndex++] = texture.style;\n    }\n\n    // pad out with empty textures\n    const bindGroup = new BindGroup(bindGroupResources);\n\n    cachedGroups[key] = bindGroup;\n\n    return bindGroup;\n}\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { compileHighShaderGpuProgram } from '../../high-shader/compileHighShaderToProgram';\nimport { colorBit } from '../../high-shader/shader-bits/colorBit';\nimport { generateTextureBatchBit } from '../../high-shader/shader-bits/generateTextureBatchBit';\nimport { roundPixelsBit } from '../../high-shader/shader-bits/roundPixelsBit';\nimport { Shader } from '../../renderers/shared/shader/Shader';\nimport { State } from '../../renderers/shared/state/State';\nimport { MAX_TEXTURES } from '../shared/const';\nimport { getTextureBatchBindGroup } from './getTextureBatchBindGroup';\n\nimport type { GpuEncoderSystem } from '../../renderers/gpu/GpuEncoderSystem';\nimport type { WebGPURenderer } from '../../renderers/gpu/WebGPURenderer';\nimport type { Geometry } from '../../renderers/shared/geometry/Geometry';\nimport type { Batch } from '../shared/Batcher';\nimport type { BatcherAdaptor, BatcherPipe } from '../shared/BatcherPipe';\n\nconst tempState = State.for2d();\n\nexport class GpuBatchAdaptor implements BatcherAdaptor\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipesAdaptor,\n        ],\n        name: 'batch',\n    } as const;\n\n    private _shader: Shader;\n    private _geometry: Geometry;\n\n    public init()\n    {\n        const gpuProgram = compileHighShaderGpuProgram({\n            name: 'batch',\n            bits: [\n                colorBit,\n                generateTextureBatchBit(MAX_TEXTURES),\n                roundPixelsBit,\n            ]\n        });\n\n        this._shader = new Shader({\n            gpuProgram,\n            groups: {\n                // these will be dynamically allocated\n            },\n        });\n    }\n\n    public start(batchPipe: BatcherPipe, geometry: Geometry): void\n    {\n        const renderer = batchPipe.renderer as WebGPURenderer;\n        const encoder = renderer.encoder as GpuEncoderSystem;\n        const program = this._shader.gpuProgram;\n\n        this._geometry = geometry;\n\n        encoder.setGeometry(geometry);\n\n        tempState.blendMode = 'normal';\n\n        // this just initiates the pipeline, so we can then set bind groups on it\n        renderer.pipeline.getPipeline(\n            geometry,\n            program,\n            tempState\n        );\n\n        const globalUniformsBindGroup = renderer.globalUniforms.bindGroup;\n\n        encoder.setBindGroup(0, globalUniformsBindGroup, program);\n    }\n\n    public execute(batchPipe: BatcherPipe, batch: Batch): void\n    {\n        const program = this._shader.gpuProgram;\n        const renderer = batchPipe.renderer as WebGPURenderer;\n        const encoder = renderer.encoder as GpuEncoderSystem;\n\n        if (!batch.bindGroup)\n        {\n            const textureBatch = batch.textures;\n\n            batch.bindGroup = getTextureBatchBindGroup(textureBatch.textures, textureBatch.count);\n        }\n\n        tempState.blendMode = batch.blendMode;\n\n        const gpuBindGroup = renderer.bindGroup.getBindGroup(\n            batch.bindGroup, program, 1\n        );\n\n        const pipeline = renderer.pipeline.getPipeline(\n            this._geometry,\n            program,\n            tempState\n        );\n\n        batch.bindGroup.touch(renderer.textureGC.count);\n\n        encoder.setPipeline(pipeline);\n\n        encoder.renderPassEncoder.setBindGroup(1, gpuBindGroup);\n        encoder.renderPassEncoder.drawIndexed(batch.size, 1, batch.start);\n    }\n\n    public destroy(): void\n    {\n        this._shader.destroy(true);\n        this._shader = null;\n    }\n}\n","type TypedArray = Float32Array | Uint32Array | Int32Array | Uint8Array;\n\n/** Flexible wrapper around `ArrayBuffer` that also provides typed array views on demand. */\nexport class ViewableBuffer\n{\n    public size: number;\n\n    /** Underlying `ArrayBuffer` that holds all the data and is of capacity `this.size`. */\n    public rawBinaryData: ArrayBuffer;\n\n    /** View on the raw binary data as a `Uint32Array`. */\n    public uint32View: Uint32Array;\n\n    /** View on the raw binary data as a `Float32Array`. */\n    public float32View: Float32Array;\n    public uint16View: Uint16Array;\n\n    private _int8View: Int8Array;\n    private _uint8View: Uint8Array;\n    private _int16View: Int16Array;\n    private _int32View: Int32Array;\n    private _float64Array: Float64Array;\n    private _bigUint64Array: BigUint64Array;\n\n    /**\n     * @param length - The size of the buffer in bytes.\n     */\n    constructor(length: number);\n\n    /**\n     * @param arrayBuffer - The source array buffer.\n     */\n    constructor(arrayBuffer: ArrayBuffer);\n\n    constructor(sizeOrBuffer: number | ArrayBuffer | Uint8Array)\n    {\n        if (typeof sizeOrBuffer === 'number')\n        {\n            this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);\n        }\n        else if (sizeOrBuffer instanceof Uint8Array)\n        {\n            this.rawBinaryData = sizeOrBuffer.buffer;\n        }\n        else\n        {\n            this.rawBinaryData = sizeOrBuffer;\n        }\n\n        this.uint32View = new Uint32Array(this.rawBinaryData);\n        this.float32View = new Float32Array(this.rawBinaryData);\n\n        this.size = this.rawBinaryData.byteLength;\n    }\n\n    /** View on the raw binary data as a `Int8Array`. */\n    get int8View(): Int8Array\n    {\n        if (!this._int8View)\n        {\n            this._int8View = new Int8Array(this.rawBinaryData);\n        }\n\n        return this._int8View;\n    }\n\n    /** View on the raw binary data as a `Uint8Array`. */\n    get uint8View(): Uint8Array\n    {\n        if (!this._uint8View)\n        {\n            this._uint8View = new Uint8Array(this.rawBinaryData);\n        }\n\n        return this._uint8View;\n    }\n\n    /**  View on the raw binary data as a `Int16Array`. */\n    get int16View(): Int16Array\n    {\n        if (!this._int16View)\n        {\n            this._int16View = new Int16Array(this.rawBinaryData);\n        }\n\n        return this._int16View;\n    }\n\n    /** View on the raw binary data as a `Int32Array`. */\n    get int32View(): Int32Array\n    {\n        if (!this._int32View)\n        {\n            this._int32View = new Int32Array(this.rawBinaryData);\n        }\n\n        return this._int32View;\n    }\n\n    get float64View(): Float64Array\n    {\n        if (!this._float64Array)\n        {\n            this._float64Array = new Float64Array(this.rawBinaryData);\n        }\n\n        return this._float64Array;\n    }\n\n    get bigUint64View(): BigUint64Array\n    {\n        if (!this._bigUint64Array)\n        {\n            this._bigUint64Array = new BigUint64Array(this.rawBinaryData);\n        }\n\n        return this._bigUint64Array;\n    }\n\n    /**\n     * Returns the view of the given type.\n     * @param type - One of `int8`, `uint8`, `int16`,\n     *    `uint16`, `int32`, `uint32`, and `float32`.\n     * @returns - typed array of given type\n     */\n    public view(type: string): TypedArray\n    {\n        return (this as any)[`${type}View`];\n    }\n\n    /** Destroys all buffer references. Do not use after calling this. */\n    public destroy(): void\n    {\n        this.rawBinaryData = null;\n        this._int8View = null;\n        this._uint8View = null;\n        this._int16View = null;\n        this.uint16View = null;\n        this._int32View = null;\n        this.uint32View = null;\n        this.float32View = null;\n    }\n\n    public static sizeOf(type: string): number\n    {\n        switch (type)\n        {\n            case 'int8':\n            case 'uint8':\n                return 1;\n            case 'int16':\n            case 'uint16':\n                return 2;\n            case 'int32':\n            case 'uint32':\n            case 'float32':\n                return 4;\n            default:\n                throw new Error(`${type} isn't a valid view type`);\n        }\n    }\n}\n","export function fastCopy(sourceBuffer: ArrayBuffer, destinationBuffer: ArrayBuffer): void\n{\n    const lengthDouble = (sourceBuffer.byteLength / 8) | 0;\n\n    const sourceFloat64View = new Float64Array(sourceBuffer, 0, lengthDouble);\n    const destinationFloat64View = new Float64Array(destinationBuffer, 0, lengthDouble);\n\n    for (let i = 0; i < lengthDouble; i++)\n    {\n        destinationFloat64View[i] = sourceFloat64View[i];\n    }\n\n    // copying over the remaining bytes\n    const sourceUint8View = new Uint8Array(sourceBuffer, lengthDouble * 8);\n    const destinationUint8View = new Uint8Array(destinationBuffer, lengthDouble * 8);\n\n    for (let i = 0; i < sourceUint8View.length; i++)\n    {\n        destinationUint8View[i] = sourceUint8View[i];\n    }\n}\n","import type { TextureSource } from '../../renderers/shared/texture/sources/TextureSource';\n\n/** Used by the batcher to build texture batches. Holds list of textures and their respective locations. */\nexport class BatchTextureArray\n{\n    /** Inside textures array. */\n    public textures: TextureSource[];\n\n    /** Respective locations for textures. */\n    public ids: Record<number, number> = Object.create(null);\n\n    /** Number of filled elements. */\n    public count: number;\n\n    constructor()\n    {\n        this.textures = [];\n        this.count = 0;\n    }\n\n    public clear(): void\n    {\n        for (let i = 0; i < this.count; i++)\n        {\n            const t = this.textures[i];\n\n            this.textures[i] = null;\n            this.ids[t.uid] = null;\n        }\n\n        this.count = 0;\n    }\n}\n","import { uid } from '../../../utils/data/uid';\nimport { ViewableBuffer } from '../../../utils/ViewableBuffer';\nimport { fastCopy } from '../../renderers/shared/buffer/utils/fastCopy';\nimport { BatchTextureArray } from './BatchTextureArray';\nimport { MAX_TEXTURES } from './const';\n\nimport type { BindGroup } from '../../renderers/gpu/shader/BindGroup';\nimport type { InstructionSet } from '../../renderers/shared/instructions/InstructionSet';\nimport type { BLEND_MODES } from '../../renderers/shared/state/const';\nimport type { Texture } from '../../renderers/shared/texture/Texture';\n\nexport type BatchAction = 'startBatch' | 'renderBatch';\n\nexport class Batch\n{\n    public type = 'batch';\n    public action: BatchAction = 'startBatch';\n\n    // TODO - eventually this could be useful for flagging batches as dirty and then only rebuilding those ones\n    // public elementStart = 0;\n    // public elementSize = 0;\n\n    // for drawing..\n    public start = 0;\n    public size = 0;\n    public textures: BatchTextureArray;\n\n    public blendMode: BLEND_MODES = 'normal';\n\n    public canBundle = true;\n\n    /**\n     * breaking rules slightly here in the name of performance..\n     * storing references to these bindgroups here is just faster for access!\n     * keeps a reference to the GPU bind group to set when rendering this batch for WebGPU. Will be null is using WebGL.\n     */\n    public gpuBindGroup: GPUBindGroup;\n    /**\n     * breaking rules slightly here in the name of performance..\n     * storing references to these bindgroups here is just faster for access!\n     * keeps a reference to the bind group to set when rendering this batch for WebGPU. Will be null if using WebGl.\n     */\n    public bindGroup: BindGroup;\n\n    public batcher: Batcher;\n\n    public destroy()\n    {\n        this.textures = null;\n        this.gpuBindGroup = null;\n        this.bindGroup = null;\n        this.batcher = null;\n    }\n}\n\nexport interface BatchableObject\n{\n    indexStart: number;\n\n    packAttributes: (\n        float32View: Float32Array,\n        uint32View: Uint32Array,\n        index: number,\n        textureId: number,\n    ) => void;\n    packIndex: (indexBuffer: Uint32Array, index: number, indicesOffset: number) => void;\n\n    texture: Texture;\n    blendMode: BLEND_MODES;\n    vertexSize: number;\n    indexSize: number;\n\n    // stored for efficient updating..\n    textureId: number;\n    location: number; // location in the buffer\n    batcher: Batcher;\n    batch: Batch;\n\n    roundPixels: 0 | 1;\n}\n\nlet BATCH_TICK = 0;\n\nexport class Batcher\n{\n    public uid = uid('batcher');\n    public attributeBuffer: ViewableBuffer;\n    public indexBuffer: Uint32Array;\n\n    public attributeSize: number;\n    public indexSize: number;\n    public elementSize: number;\n    public elementStart: number;\n\n    public dirty = true;\n\n    public batchIndex = 0;\n    public batches: Batch[] = [];\n\n    // specifics.\n    private readonly _vertexSize: number = 6;\n\n    private _elements: BatchableObject[] = [];\n\n    private readonly _batchPool: Batch[] = [];\n    private _batchPoolIndex = 0;\n    private readonly _textureBatchPool: BatchTextureArray[] = [];\n    private _textureBatchPoolIndex = 0;\n    private _batchIndexStart: number;\n    private _batchIndexSize: number;\n\n    constructor(vertexSize = 4, indexSize = 6)\n    {\n        this.attributeBuffer = new ViewableBuffer(vertexSize * this._vertexSize * 4);\n\n        this.indexBuffer = new Uint32Array(indexSize);\n    }\n\n    public begin()\n    {\n        this.batchIndex = 0;\n        this.elementSize = 0;\n        this.elementStart = 0;\n        this.indexSize = 0;\n        this.attributeSize = 0;\n        this._batchPoolIndex = 0;\n        this._textureBatchPoolIndex = 0;\n        this._batchIndexStart = 0;\n        this._batchIndexSize = 0;\n\n        this.dirty = true;\n    }\n\n    public add(batchableObject: BatchableObject)\n    {\n        this._elements[this.elementSize++] = batchableObject;\n\n        batchableObject.indexStart = this.indexSize;\n        batchableObject.location = this.attributeSize;\n        batchableObject.batcher = this;\n\n        this.indexSize += batchableObject.indexSize;\n        this.attributeSize += ((batchableObject.vertexSize) * this._vertexSize);\n    }\n\n    public checkAndUpdateTexture(batchableObject: BatchableObject, texture: Texture): boolean\n    {\n        const textureId = batchableObject.batch.textures.ids[texture._source.uid];\n\n        // TODO could try to be a bit smarter if there are spare textures..\n        // but need to figure out how to alter the bind groups too..\n        if (!textureId && textureId !== 0) return false;\n\n        batchableObject.textureId = textureId;\n        batchableObject.texture = texture;\n\n        return true;\n    }\n\n    public updateElement(batchableObject: BatchableObject)\n    {\n        this.dirty = true;\n\n        batchableObject.packAttributes(\n            this.attributeBuffer.float32View,\n            this.attributeBuffer.uint32View,\n            batchableObject.location, batchableObject.textureId);\n    }\n\n    /**\n     * breaks the batcher. This happens when a batch gets too big,\n     * or we need to switch to a different type of rendering (a filter for example)\n     * @param instructionSet\n     */\n    public break(instructionSet: InstructionSet)\n    {\n        // ++BATCH_TICK;\n        const elements = this._elements;\n\n        let textureBatch = this._textureBatchPool[this._textureBatchPoolIndex++] || new BatchTextureArray();\n\n        textureBatch.clear();\n\n        // length 0??!! (we broke without ading anything)\n        if (!elements[this.elementStart]) return;\n\n        let blendMode = elements[this.elementStart].blendMode;\n\n        if (this.attributeSize * 4 > this.attributeBuffer.size)\n        {\n            this._resizeAttributeBuffer(this.attributeSize * 4);\n        }\n\n        if (this.indexSize > this.indexBuffer.length)\n        {\n            this._resizeIndexBuffer(this.indexSize);\n        }\n\n        const f32 = this.attributeBuffer.float32View;\n        const u32 = this.attributeBuffer.uint32View;\n        const iBuffer = this.indexBuffer;\n\n        let size = this._batchIndexSize;\n        let start = this._batchIndexStart;\n\n        let action: BatchAction = 'startBatch';\n        let batch = this._batchPool[this._batchPoolIndex++] || new Batch();\n\n        for (let i = this.elementStart; i < this.elementSize; ++i)\n        {\n            const element = elements[i];\n\n            elements[i] = null;\n\n            const texture = element.texture;\n            const source = texture._source;\n\n            const blendModeChange = blendMode !== element.blendMode;\n\n            if (source._batchTick === BATCH_TICK && !blendModeChange)\n            {\n                element.textureId = source._textureBindLocation;\n\n                size += element.indexSize;\n                element.packAttributes(f32, u32, element.location, element.textureId);\n                element.packIndex(iBuffer, element.indexStart, element.location / this._vertexSize);\n\n                element.batch = batch;\n\n                continue;\n            }\n\n            source._batchTick = BATCH_TICK;\n\n            if (textureBatch.count >= MAX_TEXTURES || blendModeChange)\n            {\n                this._finishBatch(\n                    batch,\n                    start,\n                    size - start,\n                    textureBatch,\n                    blendMode,\n                    instructionSet,\n                    action\n                );\n\n                action = 'renderBatch';\n                start = size;\n                // create a batch...\n                blendMode = element.blendMode;\n\n                textureBatch = this._textureBatchPool[this._textureBatchPoolIndex++] || new BatchTextureArray();\n                textureBatch.clear();\n\n                batch = this._batchPool[this._batchPoolIndex++] || new Batch();\n                ++BATCH_TICK;\n            }\n\n            element.textureId = source._textureBindLocation = textureBatch.count;\n            textureBatch.ids[source.uid] = textureBatch.count;\n            textureBatch.textures[textureBatch.count++] = source;\n            element.batch = batch;\n\n            size += element.indexSize;\n            element.packAttributes(f32, u32, element.location, element.textureId);\n            element.packIndex(iBuffer, element.indexStart, element.location / this._vertexSize);\n        }\n\n        if (textureBatch.count > 0)\n        {\n            this._finishBatch(\n                batch,\n                start,\n                size - start,\n                textureBatch,\n                blendMode,\n                instructionSet,\n                action\n            );\n\n            start = size;\n            ++BATCH_TICK;\n        }\n\n        this.elementStart = this.elementSize;\n        this._batchIndexStart = start;\n        this._batchIndexSize = size;\n    }\n\n    private _finishBatch(\n        batch: Batch,\n        indexStart: number,\n        indexSize: number,\n        textureBatch: BatchTextureArray,\n        blendMode: BLEND_MODES,\n        instructionSet: InstructionSet,\n        action: BatchAction\n    )\n    {\n        batch.gpuBindGroup = null;\n        batch.action = action;\n\n        batch.batcher = this;\n        batch.textures = textureBatch;\n        batch.blendMode = blendMode;\n\n        batch.start = indexStart;\n        batch.size = indexSize;\n\n        ++BATCH_TICK;\n\n        instructionSet.add(batch);\n    }\n\n    public finish(instructionSet: InstructionSet)\n    {\n        this.break(instructionSet);\n    }\n\n    public ensureAttributeBuffer(size: number)\n    {\n        if (size * 4 < this.attributeBuffer.size) return;\n\n        this._resizeAttributeBuffer(size * 4);\n    }\n\n    public ensureIndexBuffer(size: number)\n    {\n        if (size < this.indexBuffer.length) return;\n\n        this._resizeIndexBuffer(size);\n    }\n\n    private _resizeAttributeBuffer(size: number)\n    {\n        const newSize = Math.max(size, this.attributeBuffer.size * 2);\n\n        const newArrayBuffer = new ViewableBuffer(newSize);\n\n        fastCopy(this.attributeBuffer.rawBinaryData, newArrayBuffer.rawBinaryData);\n\n        this.attributeBuffer = newArrayBuffer;\n    }\n\n    private _resizeIndexBuffer(size: number)\n    {\n        const indexBuffer = this.indexBuffer;\n\n        const newSize = Math.max(size, indexBuffer.length * 2);\n\n        const newIndexBuffer = new Uint32Array(newSize);\n\n        fastCopy(indexBuffer.buffer, newIndexBuffer.buffer);\n\n        this.indexBuffer = newIndexBuffer;\n    }\n\n    public destroy()\n    {\n        for (let i = 0; i < this.batches.length; i++)\n        {\n            this.batches[i].destroy();\n        }\n\n        this.batches = null;\n\n        for (let i = 0; i < this._elements.length; i++)\n        {\n            this._elements[i].batch = null;\n        }\n\n        this._elements = null;\n\n        this.indexBuffer = null;\n\n        this.attributeBuffer.destroy();\n        this.attributeBuffer = null;\n    }\n}\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { State } from '../../renderers/shared/state/State';\nimport { BatchGeometry } from '../gpu/BatchGeometry';\nimport { Batcher } from './Batcher';\n\nimport type { Geometry } from '../../renderers/shared/geometry/Geometry';\nimport type { InstructionSet } from '../../renderers/shared/instructions/InstructionSet';\nimport type { BatchPipe, InstructionPipe } from '../../renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../renderers/types';\nimport type { Batch, BatchableObject } from './Batcher';\n\nexport interface BatcherAdaptor\n{\n    start(batchPipe: BatcherPipe, geometry: Geometry): void\n    init(): void;\n    execute(batchPipe: BatcherPipe, batch: Batch): void\n    destroy(): void;\n}\n\n// eslint-disable-next-line max-len\nexport class BatcherPipe implements InstructionPipe<Batch>, BatchPipe\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'batch',\n    } as const;\n\n    public state: State = State.for2d();\n    public renderer: Renderer;\n\n    private _batches: Record<number, Batcher> = Object.create(null);\n    private _geometries: Record<number, BatchGeometry> = Object.create(null);\n    private _adaptor: BatcherAdaptor;\n\n    private _activeBatch: Batcher;\n    private _activeGeometry: Geometry;\n\n    constructor(renderer: Renderer, adaptor: BatcherAdaptor)\n    {\n        this.renderer = renderer;\n        this._adaptor = adaptor;\n\n        this._adaptor.init();\n    }\n\n    public buildStart(instructionSet: InstructionSet)\n    {\n        if (!this._batches[instructionSet.uid])\n        {\n            const batcher = new Batcher();\n\n            this._batches[instructionSet.uid] = batcher;\n            this._geometries[batcher.uid] = new BatchGeometry();\n        }\n\n        this._activeBatch = this._batches[instructionSet.uid];\n        this._activeGeometry = this._geometries[this._activeBatch.uid];\n\n        this._activeBatch.begin();\n    }\n\n    public addToBatch(batchableObject: BatchableObject)\n    {\n        this._activeBatch.add(batchableObject);\n    }\n\n    public break(instructionSet: InstructionSet)\n    {\n        this._activeBatch.break(instructionSet);\n    }\n\n    public buildEnd(instructionSet: InstructionSet)\n    {\n        const activeBatch = this._activeBatch;\n        const geometry = this._activeGeometry;\n\n        activeBatch.finish(instructionSet);\n\n        geometry.indexBuffer.data = activeBatch.indexBuffer;\n        geometry.indexBuffer.update(activeBatch.indexSize * 4);\n\n        geometry.buffers[0].data = activeBatch.attributeBuffer.float32View;\n    }\n\n    public upload(instructionSet: InstructionSet)\n    {\n        const batcher = this._batches[instructionSet.uid];\n        const geometry = this._geometries[batcher.uid];\n\n        if (batcher.dirty)\n        {\n            batcher.dirty = false;\n            geometry.buffers[0].update(batcher.attributeSize * 4);\n        }\n    }\n\n    public execute(batch: Batch)\n    {\n        if (batch.action === 'startBatch')\n        {\n            const batcher = batch.batcher;\n            const geometry = this._geometries[batcher.uid];\n\n            this._adaptor.start(this, geometry);\n        }\n\n        this._adaptor.execute(this, batch);\n    }\n\n    public destroy()\n    {\n        this.state = null;\n        this.renderer = null;\n\n        this._adaptor.destroy();\n        this._adaptor = null;\n\n        for (const i in this._batches)\n        {\n            this._batches[i].destroy();\n        }\n\n        this._batches = null;\n\n        for (const i in this._geometries)\n        {\n            this._geometries[i].destroy();\n        }\n\n        this._geometries = null;\n    }\n}\n","/**\n * formats a shader so its more pleasant to read!\n * @param shader - a glsl shader program source\n */\nexport function formatShader(shader: string): string\n{\n    const spl = shader.split(/([\\n{}])/g)\n        .map((a) => a.trim())\n        .filter((a) => a.length);\n\n    let indent = '';\n\n    const formatted = spl.map((a) =>\n    {\n        let indentedLine = indent + a;\n\n        if (a === '{')\n        {\n            indent += '    ';\n        }\n        else if (a === '}')\n        {\n            indent = indent.substr(0, indent.length - 4);\n\n            indentedLine = indent + a;\n        }\n\n        return indentedLine;\n    }).join('\\n');\n\n    return formatted;\n}\n\n","export const localUniformBit = {\n    name: 'local-uniform-bit',\n    vertex: {\n        header: /* wgsl */`\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `,\n        main: /* wgsl */`\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `,\n        end: /* wgsl */`\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    },\n};\n\n// TODO this works, but i think down the road it will be better to manage groups automatically if there are clashes\nexport const localUniformBitGroup2 = {\n    ...localUniformBit,\n    vertex: {\n        ...localUniformBit.vertex,\n        // replace the group!\n        header: localUniformBit.vertex.header.replace('group(1)', 'group(2)'),\n    }\n};\n\nexport const localUniformBitGl = {\n    name: 'local-uniform-bit',\n    vertex: {\n        header: /* glsl */`\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        `,\n        main: /* glsl */`\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        `,\n        end: /* glsl */`\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        `\n    },\n};\n","export const textureBit = {\n    name: 'texture-bit',\n    fragment: {\n        header: /* wgsl */`\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n         \n        `,\n        main: /* wgsl */`\n            outColor = textureSample(uTexture, uSampler, vUV);\n        `\n    }\n};\n\nexport const textureBitGl = {\n    name: 'texture-bit',\n    fragment: {\n        header: /* wgsl */`\n        uniform sampler2D uTexture;\n\n         \n        `,\n        main: /* wgsl */`\n            outColor = texture(uTexture, vUV);\n        `\n    }\n};\n\n","import EventEmitter from 'eventemitter3';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { uid } from '../../../utils/data/uid';\n\nimport type { Container } from '../../../scene/container/Container';\nimport type { Renderable } from './Renderable';\nimport type { View } from './view/View';\n\n/**\n * LayerRenderable is used to render the view of the root container of a layer group\n * We don't want to inherit the transform / color of the root container as that information is\n * uploaded to the GPU and applied globally.\n *\n * This proxy allows us to override the values. This saves us a lot of extra if statements in the core loop\n * for what is normally a very rare use case!\n */\nexport class LayerRenderable<T extends View = View> extends EventEmitter implements Renderable<T>\n{\n    public uid = uid('renderable');\n    public view: T;\n    private readonly _original: Container<View>;\n    public layerTransform: Matrix;\n    public worldTransform: Matrix;\n    public layerColor: number;\n    public layerVisibleRenderable: number;\n    public didViewUpdate: boolean;\n\n    constructor({ original, view }: { original: Container<View>; view: T })\n    {\n        super();\n\n        this.view = view;\n        this._original = original;\n        this.layerTransform = new Matrix();\n        this.layerColor = 0xffffffff;\n        this.layerVisibleRenderable = 0b11;\n\n        this.view.owner = this;\n    }\n\n    get layerBlendMode()\n    {\n        return this._original.layerBlendMode;\n    }\n\n    public onViewUpdate()\n    {\n        this.didViewUpdate = true;\n        this._original.layerGroup.onChildViewUpdate(this);\n    }\n\n    get isRenderable()\n    {\n        return this._original.isRenderable;\n    }\n}\n","import { LayerRenderable } from '../../../rendering/renderers/shared/LayerRenderable';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe, RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { RenderPipes } from '../../../rendering/renderers/types';\nimport type { Container } from '../Container';\nimport type { LayerGroup } from '../LayerGroup';\n\nexport function buildInstructions(layerGroup: LayerGroup, renderPipes: RenderPipes)\n{\n    const root = layerGroup.root;\n    const instructionSet = layerGroup.instructionSet;\n\n    instructionSet.reset();\n\n    // TODO add some events / runners for build start\n    renderPipes.batch.buildStart(instructionSet);\n    renderPipes.blendMode.buildStart();\n    renderPipes.colorMask.buildStart();\n\n    if (root.sortableChildren)\n    {\n        root.sortChildren();\n    }\n\n    collectAllRenderablesAdvanced(root, instructionSet, renderPipes, true);\n\n    // instructionSet.log();\n    // TODO add some events / runners for build end\n    renderPipes.batch.buildEnd(instructionSet);\n    renderPipes.blendMode.buildEnd(instructionSet);\n\n    // instructionSet.log();\n}\n\nexport function collectAllRenderables(\n    container: Container,\n    instructionSet: InstructionSet,\n    rendererPipes: RenderPipes\n): void\n{\n    // if there is 0b01 or 0b10 the return value\n\n    if (container.layerVisibleRenderable < 0b11 || !container.includeInBuild) return;\n\n    if (container.sortableChildren)\n    {\n        container.sortChildren();\n    }\n\n    if (container.isSimple)\n    {\n        collectAllRenderablesSimple(container, instructionSet, rendererPipes);\n    }\n    else\n    {\n        collectAllRenderablesAdvanced(container, instructionSet, rendererPipes, false);\n    }\n}\n\nfunction collectAllRenderablesSimple(\n    container: Container,\n    instructionSet: InstructionSet,\n    renderPipes: RenderPipes\n): void\n{\n    const view = container.view;\n\n    if (view)\n    {\n        // TODO add blends in\n        renderPipes.blendMode.setBlendMode(container as Renderable, container.layerBlendMode, instructionSet);\n\n        container.didViewUpdate = false;\n\n        const rp = renderPipes as unknown as Record<string, RenderPipe>;\n\n        rp[view.renderPipeId].addRenderable(container, instructionSet);\n    }\n\n    if (!container.isLayerRoot)\n    {\n        const children = container.children;\n        const length = children.length;\n\n        for (let i = 0; i < length; i++)\n        {\n            collectAllRenderables(children[i], instructionSet, renderPipes);\n        }\n    }\n}\n\nfunction collectAllRenderablesAdvanced(\n    container: Container,\n    instructionSet: InstructionSet,\n    renderPipes: RenderPipes,\n    isRoot: boolean\n): void\n{\n    if (isRoot)\n    {\n        const layerGroup = container.layerGroup;\n\n        if (layerGroup.root.view)\n        {\n            // proxy renderable is needed here as we do not want to inherit the transform / color of the root container\n            const proxyRenderable = layerGroup.proxyRenderable ?? initProxyRenderable(layerGroup);\n\n            if (proxyRenderable)\n            {\n                renderPipes.blendMode.setBlendMode(proxyRenderable, proxyRenderable.layerBlendMode, instructionSet);\n\n                // eslint-disable-next-line max-len\n                (renderPipes[proxyRenderable.view.renderPipeId as keyof RenderPipes] as any).addRenderable(proxyRenderable, instructionSet);\n            }\n        }\n    }\n    else\n    {\n        for (let i = 0; i < container.effects.length; i++)\n        {\n            const effect = container.effects[i];\n            const pipe = renderPipes[effect.pipe as keyof RenderPipes]as InstructionPipe<any>;\n\n            pipe.push(effect, container, instructionSet);\n        }\n    }\n\n    if (!isRoot && container.isLayerRoot)\n    {\n        renderPipes.layer.addLayerGroup(container.layerGroup, instructionSet);\n    }\n    else\n    {\n        const view = container.view;\n\n        if (view)\n        {\n            // TODO add blends in\n            renderPipes.blendMode.setBlendMode(container as Renderable, container.layerBlendMode, instructionSet);\n            container.didViewUpdate = false;\n\n            const pipe = renderPipes[view.renderPipeId as keyof RenderPipes]as RenderPipe<any>;\n\n            pipe.addRenderable(container, instructionSet);\n        }\n\n        const children = container.children;\n\n        if (children.length)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                collectAllRenderables(children[i], instructionSet, renderPipes);\n            }\n        }\n    }\n\n    if (!isRoot)\n    {\n        // loop backwards through effects\n        for (let i = container.effects.length - 1; i >= 0; i--)\n        {\n            const effect = container.effects[i];\n            const pipe = renderPipes[effect.pipe as keyof RenderPipes]as InstructionPipe<any>;\n\n            pipe.pop(effect, container, instructionSet);\n        }\n    }\n}\n\nfunction initProxyRenderable(layerGroup: LayerGroup)\n{\n    const root = layerGroup.root;\n\n    layerGroup.proxyRenderable = new LayerRenderable({\n        original: root,\n        view: root.view,\n    });\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { FilterEffect } from '../../../filters/FilterEffect';\nimport { MaskFilter } from '../../../filters/mask/MaskFilter';\nimport { Bounds } from '../../../scene/container/bounds/Bounds';\nimport { getGlobalBounds } from '../../../scene/container/bounds/getGlobalBounds';\nimport { collectAllRenderables } from '../../../scene/container/utils/buildInstructions';\nimport { Sprite } from '../../../scene/sprite/Sprite';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { Texture } from '../../renderers/shared/texture/Texture';\nimport { TexturePool } from '../../renderers/shared/texture/TexturePool';\n\nimport type { Container } from '../../../scene/container/Container';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { Instruction } from '../../renderers/shared/instructions/Instruction';\nimport type { InstructionSet } from '../../renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../../renderers/shared/instructions/RenderPipe';\nimport type { RenderTarget } from '../../renderers/shared/renderTarget/RenderTarget';\nimport type { Renderer } from '../../renderers/types';\nimport type { AlphaMask } from './AlphaMask';\n\ntype MaskMode = 'pushMaskBegin' | 'pushMaskEnd' | 'popMaskBegin' | 'popMaskEnd';\n\nconst tempBounds = new Bounds();\n\nclass AlphaMaskEffect extends FilterEffect implements PoolItem\n{\n    constructor()\n    {\n        super({\n            filters: [new MaskFilter({\n                sprite: new Sprite(Texture.EMPTY)\n            })]\n        });\n    }\n\n    get sprite(): Sprite\n    {\n        return (this.filters[0] as MaskFilter).sprite;\n    }\n\n    set sprite(value: Sprite)\n    {\n        (this.filters[0] as MaskFilter).sprite = value;\n    }\n\n    public init: () => void;\n}\n\nexport interface AlphaMaskInstruction extends Instruction\n{\n    type: 'alphaMask',\n    action: MaskMode,\n    mask: AlphaMask,\n    maskedContainer: Container,\n    renderMask: boolean,\n}\n\nexport interface AlphaMaskData\n{\n    filterEffect: AlphaMaskEffect,\n    maskedContainer: Container,\n    previousRenderTarget?: RenderTarget,\n    filterTexture?: Texture,\n}\n\nexport class AlphaMaskPipe implements InstructionPipe<AlphaMaskInstruction>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'alphaMask',\n    } as const;\n\n    private _renderer: Renderer;\n    private _activeMaskStage: AlphaMaskData[] = [];\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public push(mask: Effect, maskedContainer: Container, instructionSet: InstructionSet): void\n    {\n        const renderer = this._renderer;\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'alphaMask',\n            action: 'pushMaskBegin',\n            mask,\n            canBundle: false,\n            maskedContainer\n        } as AlphaMaskInstruction);\n\n        if ((mask as AlphaMask).renderMaskToTexture)\n        {\n            const maskContainer = (mask as AlphaMask).mask;\n\n            maskContainer.includeInBuild = true;\n\n            collectAllRenderables(\n                maskContainer,\n                instructionSet,\n                renderer.renderPipes\n            );\n\n            maskContainer.includeInBuild = false;\n        }\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'alphaMask',\n            action: 'pushMaskEnd',\n            mask,\n            maskedContainer,\n            canBundle: false,\n        } as AlphaMaskInstruction);\n    }\n\n    public pop(mask: Effect, _maskedContainer: Container, instructionSet: InstructionSet): void\n    {\n        const renderer = this._renderer;\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'alphaMask',\n            action: 'popMaskEnd',\n            mask,\n            canBundle: false,\n        } as AlphaMaskInstruction);\n    }\n\n    public execute(instruction: AlphaMaskInstruction)\n    {\n        const renderer = this._renderer;\n        const renderMask = instruction.mask.renderMaskToTexture;\n\n        if (instruction.action === 'pushMaskBegin')\n        {\n            const filterEffect = BigPool.get(AlphaMaskEffect);\n\n            if (renderMask)\n            {\n                instruction.mask.mask.measurable = true;\n\n                const bounds = getGlobalBounds(instruction.mask.mask, true, tempBounds);\n\n                instruction.mask.mask.measurable = false;\n\n                bounds.ceil();\n\n                /// /////\n                const filterTexture = TexturePool.getOptimalTexture(\n                    bounds.width,\n                    bounds.height,\n                    1,\n                    false\n                );\n\n                const renderTarget = renderer.renderTarget.push(filterTexture, true);\n\n                renderer.globalUniforms.push({\n                    projectionData: renderTarget,\n                    offset: bounds,\n                    worldColor: 0xFFFFFFFF\n                });\n\n                const sprite = filterEffect.sprite;\n\n                sprite.texture = filterTexture;\n\n                sprite.worldTransform.tx = bounds.minX;\n                sprite.worldTransform.ty = bounds.minY;\n\n                this._activeMaskStage.push({\n\n                    filterEffect,\n                    maskedContainer: instruction.maskedContainer,\n                    filterTexture,\n                });\n            }\n            else\n            {\n                filterEffect.sprite = instruction.mask.mask as Sprite;\n\n                this._activeMaskStage.push({\n                    filterEffect,\n                    maskedContainer: instruction.maskedContainer,\n                });\n            }\n        }\n        else if (instruction.action === 'pushMaskEnd')\n        {\n            const maskData = this._activeMaskStage[this._activeMaskStage.length - 1];\n\n            if (renderMask)\n            {\n                renderer.renderTarget.pop();\n                renderer.globalUniforms.pop();\n            }\n\n            renderer.filter.push({\n                type: 'filter',\n                action: 'pushFilter',\n                container: maskData.maskedContainer,\n                filterEffect: maskData.filterEffect,\n                canBundle: false,\n            });\n        }\n        else if (instruction.action === 'popMaskEnd')\n        {\n            renderer.filter.pop();\n\n            const maskData = this._activeMaskStage.pop();\n\n            if (renderMask)\n            {\n                TexturePool.returnTexture(maskData.filterTexture);\n            }\n\n            BigPool.return(maskData.filterEffect);\n        }\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null;\n        this._activeMaskStage = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { Container } from '../../../scene/container/Container';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { Instruction } from '../../renderers/shared/instructions/Instruction';\nimport type { InstructionSet } from '../../renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../../renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../renderers/types';\nimport type { ColorMask } from './ColorMask';\n\nexport interface ColorMaskInstruction extends Instruction\n{\n    type: 'colorMask',\n    colorMask: number,\n}\n\nexport class ColorMaskPipe implements InstructionPipe<ColorMaskInstruction>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'colorMask',\n    } as const;\n\n    private readonly _renderer: Renderer;\n    private _colorStack: number[] = [];\n    private _colorStackIndex = 0;\n    private _currentColor = 0;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public buildStart()\n    {\n        this._colorStack[0] = 0xF;\n        this._colorStackIndex = 1;\n        this._currentColor = 0xF;\n    }\n\n    public push(mask: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        const renderer = this._renderer;\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        const colorStack = this._colorStack;\n\n        colorStack[this._colorStackIndex] = colorStack[this._colorStackIndex - 1] & (mask as ColorMask).mask;\n\n        const currentColor = this._colorStack[this._colorStackIndex];\n\n        if (currentColor !== this._currentColor)\n        {\n            this._currentColor = currentColor;\n            instructionSet.add({\n                type: 'colorMask',\n                colorMask: currentColor,\n                canBundle: false,\n            } as ColorMaskInstruction);\n        }\n\n        this._colorStackIndex++;\n    }\n\n    public pop(_mask: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        const renderer = this._renderer;\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        const colorStack = this._colorStack;\n\n        this._colorStackIndex--;\n\n        const currentColor = colorStack[this._colorStackIndex - 1];\n\n        if (currentColor !== this._currentColor)\n        {\n            this._currentColor = currentColor;\n\n            instructionSet.add({\n                type: 'colorMask',\n                colorMask: currentColor,\n                canBundle: false,\n            } as ColorMaskInstruction);\n        }\n    }\n\n    public execute(instruction: ColorMaskInstruction)\n    {\n        const renderer = this._renderer;\n\n        renderer.colorMask.setMask(instruction.colorMask);\n    }\n\n    public destroy()\n    {\n        this._colorStack = null;\n    }\n}\n","import { addMaskBounds } from '../utils/addMaskBounds';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds';\n\nimport type { Point } from '../../../maths/point/Point';\nimport type { Bounds } from '../../../scene/container/bounds/Bounds';\nimport type { Container } from '../../../scene/container/Container';\nimport type { Effect } from '../../../scene/container/Effect';\n\nexport class ScissorMask implements Effect\n{\n    public priority = 0;\n    public mask: Container;\n    public pipe = 'scissorMask';\n\n    constructor(mask: Container)\n    {\n        this.mask = mask;\n\n        this.mask.renderable = false;\n        this.mask.measurable = false;\n    }\n\n    public addBounds(bounds: Bounds, skipUpdateTransform?: boolean): void\n    {\n        addMaskBounds(this.mask, bounds, skipUpdateTransform);\n    }\n\n    public addLocalBounds(bounds: Bounds, localRoot: Container): void\n    {\n        addMaskLocalBounds(this.mask, bounds, localRoot);\n    }\n\n    public containsPoint(point: Point, hitTestFn: (container: Container, point: Point) => boolean): boolean\n    {\n        const mask = this.mask as any;\n\n        // if the point is in the mask, yay!\n        return hitTestFn(mask, point);\n    }\n\n    public reset()\n    {\n        this.mask.measurable = true;\n        this.mask = null;\n    }\n\n    public destroy(): void\n    {\n        this.reset();\n    }\n}\n","export enum CLEAR\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    NONE = 0,\n    COLOR = 16384,\n    STENCIL = 1024,\n    DEPTH = 256,\n\n    COLOR_DEPTH = COLOR | DEPTH,\n    COLOR_STENCIL = COLOR | STENCIL,\n    DEPTH_STENCIL = DEPTH | STENCIL,\n    ALL = COLOR | DEPTH | STENCIL,\n\n}\n\n/** Used for clearing render textures true is the same as `ALL` false is the same as `NONE` */\nexport type CLEAR_OR_BOOL = CLEAR | boolean;\n","/* eslint-disable @typescript-eslint/indent */\n/** Various blend modes supported by Pixi */\nexport type BLEND_MODES = 'inherit'\n| 'normal'\n| 'add'\n| 'multiply'\n| 'screen'\n| 'darken'\n| 'lighten'\n| 'erase'\n| 'color-dodge'\n| 'color-burn'\n| 'linear-burn'\n| 'linear-dodge'\n| 'linear-light'\n| 'hard-light'\n| 'soft-light'\n| 'pin-light'\n| 'difference'\n| 'exclusion'\n| 'overlay'\n// | 'hue'\n| 'saturation'\n| 'color'\n| 'luminosity'\n| 'normal-npm'\n| 'add-npm'\n| 'screen-npm'\n| 'none'\n| 'subtract'\n| 'divide'\n| 'vivid-light'\n| 'hard-mix'\n| 'negation';\n\nexport enum STENCIL_MODES\n{\n    DISABLED = 0,\n    RENDERING_MASK_ADD = 1,\n    MASK_ACTIVE = 2,\n    RENDERING_MASK_REMOVE = 3,\n    NONE = 4,\n}\n\nexport type CULL_MODES = 'none' | 'back' | 'front';\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { collectAllRenderables } from '../../../scene/container/utils/buildInstructions';\nimport { CLEAR } from '../../renderers/gl/const';\nimport { STENCIL_MODES } from '../../renderers/shared/state/const';\n\nimport type { Container } from '../../../scene/container/Container';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { Instruction } from '../../renderers/shared/instructions/Instruction';\nimport type { InstructionSet } from '../../renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../../renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../renderers/types';\nimport type { StencilMask } from './StencilMask';\n\ntype MaskMode = 'pushMaskBegin' | 'pushMaskEnd' | 'popMaskBegin' | 'popMaskEnd';\n\nexport interface StencilMaskInstruction extends Instruction\n{\n    type: 'stencilMask',\n    action: MaskMode,\n    mask: StencilMask,\n}\n\nexport class StencilMaskPipe implements InstructionPipe<StencilMaskInstruction>\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'stencilMask',\n    } as const;\n\n    private _renderer: Renderer;\n\n    // used when building and also when executing..\n    private _maskStackHash: Record<number, number> = {};\n\n    private _maskHash = new WeakMap<StencilMask, {\n        instructionsStart: number,\n        instructionsLength: number,\n    }>();\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public push(mask: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        const effect = mask as StencilMask;\n\n        const renderer = this._renderer;\n\n        renderer.renderPipes.batch.break(instructionSet);\n        renderer.renderPipes.blendMode.setBlendMode(effect.mask, 'none', instructionSet);\n\n        instructionSet.add({\n            type: 'stencilMask',\n            action: 'pushMaskBegin',\n            mask,\n            canBundle: false,\n        } as StencilMaskInstruction);\n\n        const maskContainer = effect.mask;\n\n        maskContainer.includeInBuild = true;\n\n        if (!this._maskHash.has(effect))\n        {\n            this._maskHash.set(effect, {\n                instructionsStart: 0,\n                instructionsLength: 0,\n            });\n        }\n\n        const maskData = this._maskHash.get(effect);\n\n        maskData.instructionsStart = instructionSet.instructionSize;\n\n        collectAllRenderables(\n            maskContainer,\n            instructionSet,\n            renderer.renderPipes,\n        );\n\n        maskContainer.includeInBuild = false;\n\n        renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'stencilMask',\n            action: 'pushMaskEnd',\n            mask,\n            canBundle: false,\n        } as StencilMaskInstruction);\n\n        const instructionsLength = instructionSet.instructionSize - maskData.instructionsStart - 1;\n\n        maskData.instructionsLength = instructionsLength;\n\n        const renderTargetUid = renderer.renderTarget.renderTarget.uid;\n\n        if (this._maskStackHash[renderTargetUid] === undefined)\n        {\n            this._maskStackHash[renderTargetUid] = 0;\n        }\n\n        this._maskStackHash[renderTargetUid]++;\n    }\n\n    public pop(mask: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        const effect = mask as StencilMask;\n\n        const renderer = this._renderer;\n\n        const renderTargetUid = renderer.renderTarget.renderTarget.uid;\n\n        // stencil is stored based on current render target..\n\n        this._maskStackHash[renderTargetUid]--;\n\n        renderer.renderPipes.batch.break(instructionSet);\n        renderer.renderPipes.blendMode.setBlendMode(effect.mask, 'none', instructionSet);\n\n        instructionSet.add({\n            type: 'stencilMask',\n            action: 'popMaskBegin',\n            canBundle: false,\n        });\n\n        const maskData = this._maskHash.get(mask as StencilMask);\n\n        if (this._maskStackHash[renderTargetUid] !== 0)\n        {\n            for (let i = 0; i < maskData.instructionsLength; i++)\n            {\n                // eslint-disable-next-line max-len\n                instructionSet.instructions[instructionSet.instructionSize++] = instructionSet.instructions[maskData.instructionsStart++];\n            }\n        }\n\n        instructionSet.add({\n            type: 'stencilMask',\n            action: 'popMaskEnd',\n            canBundle: false,\n        });\n    }\n\n    public execute(instruction: StencilMaskInstruction)\n    {\n        const renderer = this._renderer;\n        const renderTargetUid = renderer.renderTarget.renderTarget.uid;\n\n        let maskStackIndex = this._maskStackHash[renderTargetUid] ?? 0;\n\n        if (instruction.action === 'pushMaskBegin')\n        {\n            maskStackIndex++;\n\n            renderer.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_ADD, maskStackIndex);\n            renderer.colorMask.setMask(0);\n        }\n        else if (instruction.action === 'pushMaskEnd')\n        {\n            renderer.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE, maskStackIndex);\n            renderer.colorMask.setMask(0xF);\n        }\n        else if (instruction.action === 'popMaskBegin')\n        {\n            maskStackIndex--;\n\n            if (maskStackIndex !== 0)\n            {\n                renderer.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_REMOVE, maskStackIndex);\n                renderer.colorMask.setMask(0);\n            }\n            else\n            {\n                renderer.renderTarget.clear(CLEAR.STENCIL);\n            }\n        }\n        else if (instruction.action === 'popMaskEnd')\n        {\n            if (maskStackIndex === 0)\n            {\n                renderer.stencil.setStencilMode(STENCIL_MODES.DISABLED, maskStackIndex);\n            }\n            else\n            {\n                renderer.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE, maskStackIndex);\n            }\n\n            renderer.colorMask.setMask(0xF);\n        }\n\n        this._maskStackHash[renderTargetUid] = maskStackIndex;\n    }\n\n    public destroy()\n    {\n        this._renderer = null;\n        this._maskStackHash = null;\n        this._maskHash = null;\n    }\n}\n","/**\n * Constants for various buffer types in Pixi\n * @see BUFFER_TYPE\n * @name BUFFER_TYPE\n * @static\n * @enum {number}\n * @property {number} ELEMENT_ARRAY_BUFFER - buffer type for using as an index buffer\n * @property {number} ARRAY_BUFFER - buffer type for using attribute data\n * @property {number} UNIFORM_BUFFER - the buffer type is for uniform buffer objects\n */\nexport enum BUFFER_TYPE\n    // eslint-disable-next-line @typescript-eslint/indent\n {\n    ELEMENT_ARRAY_BUFFER = 34963,\n    ARRAY_BUFFER = 34962,\n    UNIFORM_BUFFER = 35345,\n}\n\n","import type { BUFFER_TYPE } from './const';\n\nexport class GlBuffer\n{\n    public buffer: WebGLBuffer;\n    public updateID: number;\n    public byteLength: number;\n    public type: number;\n\n    constructor(buffer: WebGLBuffer, type: BUFFER_TYPE)\n    {\n        this.buffer = buffer || null;\n        this.updateID = -1;\n        this.byteLength = -1;\n        this.type = type;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { BufferUsage } from '../../shared/buffer/const';\nimport { BUFFER_TYPE } from './const';\nimport { GlBuffer } from './GlBuffer';\n\nimport type { Writeable } from '../../../../utils/types';\nimport type { Buffer } from '../../shared/buffer/Buffer';\nimport type { System } from '../../shared/system/System';\n// @ts-expect-error - used for jsdoc typedefs\nimport type { Renderer } from '../../types';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\nimport type { WebGLRenderer } from '../WebGLRenderer';\n\n/**\n * System plugin to the renderer to manage buffers.\n *\n * WebGL uses Buffers as a way to store objects to the GPU.\n * This system makes working with them a lot easier.\n *\n * Buffers are used in three main places in WebGL\n * - geometry information\n * - Uniform information (via uniform buffer objects - a WebGL 2 only feature)\n * - Transform feedback information. (WebGL 2 only feature)\n *\n * This system will handle the binding of buffers to the GPU as well as uploading\n * them. With this system, you never need to work directly with GPU buffers, but instead work with\n * the Buffer class.\n * @class\n */\nexport class GlBufferSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'buffer',\n    } as const;\n\n    private _gl: GlRenderingContext;\n    private _gpuBuffers: {[key: number]: GlBuffer} = Object.create(null);\n\n    /** Cache keeping track of the base bound buffer bases */\n    private readonly _boundBufferBases: {[key: number]: Buffer} = Object.create(null);\n\n    private _renderer: WebGLRenderer;\n\n    /**\n     * @param {Renderer} renderer - The renderer this System works for.\n     */\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    /**\n     * @ignore\n     */\n    public destroy(): void\n    {\n        const writeable = this as Writeable<typeof this, '_boundBufferBases'>;\n\n        this.destroyAll(true);\n        this._renderer = null;\n        this._gl = null;\n        this._gpuBuffers = null;\n        writeable._boundBufferBases = null;\n    }\n\n    /** Sets up the renderer context and necessary buffers. */\n    protected contextChange(): void\n    {\n        this.destroyAll(true);\n\n        this._gl = this._renderer.gl;\n    }\n\n    public getGlBuffer(buffer: Buffer): GlBuffer\n    {\n        return this._gpuBuffers[buffer.uid] || this.createGLBuffer(buffer);\n    }\n\n    /**\n     * This binds specified buffer. On first run, it will create the webGL buffers for the context too\n     * @param buffer - the buffer to bind to the renderer\n     */\n    public bind(buffer: Buffer): void\n    {\n        const { _gl: gl } = this;\n\n        const glBuffer = this.getGlBuffer(buffer);\n\n        gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n    }\n\n    /**\n     * Binds an uniform buffer to at the given index.\n     *\n     * A cache is used so a buffer will not be bound again if already bound.\n     * @param buffer - the buffer to bind\n     * @param index - the base index to bind it to.\n     */\n    public bindBufferBase(buffer: Buffer, index: number): void\n    {\n        const { _gl: gl } = this;\n\n        if (this._boundBufferBases[index] !== buffer)\n        {\n            const glBuffer = this.getGlBuffer(buffer);\n\n            this._boundBufferBases[index] = buffer;\n\n            gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);\n        }\n    }\n\n    /**\n     * Binds a buffer whilst also binding its range.\n     * This will make the buffer start from the offset supplied rather than 0 when it is read.\n     * @param buffer - the buffer to bind\n     * @param index - the base index to bind at, defaults to 0\n     * @param offset - the offset to bind at (this is blocks of 256). 0 = 0, 1 = 256, 2 = 512 etc\n     */\n    public bindBufferRange(buffer: Buffer, index?: number, offset?: number): void\n    {\n        const { _gl: gl } = this;\n\n        offset = offset || 0;\n\n        const glBuffer = this.getGlBuffer(buffer);\n\n        gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, 256);\n    }\n\n    /**\n     * Will ensure the data in the buffer is uploaded to the GPU.\n     * @param {Buffer} buffer - the buffer to update\n     */\n    public updateBuffer(buffer: Buffer): GlBuffer\n    {\n        const { _gl: gl } = this;\n\n        const glBuffer = this.getGlBuffer(buffer);\n\n        if (buffer._updateID === glBuffer.updateID)\n        {\n            return glBuffer;\n        }\n\n        glBuffer.updateID = buffer._updateID;\n\n        gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n\n        if (glBuffer.byteLength >= buffer.data.byteLength)\n        {\n            // assuming our buffers are aligned to 4 bits...\n            // offset is always zero for now!\n            gl.bufferSubData(glBuffer.type, 0, buffer.data, 0, buffer._updateSize / 4);\n        }\n        else\n        {\n            const drawType = (buffer.descriptor.usage & BufferUsage.STATIC) ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;\n\n            glBuffer.byteLength = buffer.data.byteLength;\n\n            // assuming our buffers are aligned to 4 bits...\n            gl.bufferData(glBuffer.type, buffer.data, drawType);\n        }\n\n        return glBuffer;\n    }\n\n    /**\n     * dispose all WebGL resources of all managed buffers\n     * @param {boolean} [contextLost=false] - If context was lost, we suppress `gl.delete` calls\n     */\n    public destroyAll(contextLost?: boolean): void\n    {\n        const gl = this._gl;\n\n        if (!contextLost)\n        {\n            for (const id in this._gpuBuffers)\n            {\n                gl.deleteBuffer(this._gpuBuffers[id].buffer);\n            }\n        }\n\n        this._gpuBuffers = {};\n    }\n\n    /**\n     * Disposes buffer\n     * @param {Buffer} buffer - buffer with data\n     * @param {boolean} [contextLost=false] - If context was lost, we suppress deleteVertexArray\n     */\n    protected onBufferDestroy(buffer: Buffer, contextLost?: boolean): void\n    {\n        const glBuffer = this._gpuBuffers[buffer.uid];\n\n        const gl = this._gl;\n\n        if (!contextLost)\n        {\n            gl.deleteBuffer(glBuffer.buffer);\n        }\n\n        this._gpuBuffers[buffer.uid] = null;\n    }\n\n    /**\n     * creates and attaches a GLBuffer object tied to the current context.\n     * @param buffer\n     * @protected\n     */\n    protected createGLBuffer(buffer: Buffer): GlBuffer\n    {\n        const { _gl: gl } = this;\n\n        let type = BUFFER_TYPE.ARRAY_BUFFER;\n\n        if ((buffer.descriptor.usage & BufferUsage.INDEX))\n        {\n            type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n        }\n        else if ((buffer.descriptor.usage & BufferUsage.UNIFORM))\n        {\n            type = BUFFER_TYPE.UNIFORM_BUFFER;\n        }\n\n        const glBuffer = new GlBuffer(gl.createBuffer(), type);\n\n        this._gpuBuffers[buffer.uid] = glBuffer;\n\n        buffer.on('destroy', this.onBufferDestroy, this);\n\n        return glBuffer;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { warn } from '../../../../utils/logging/warn';\n\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { System } from '../../shared/system/System';\nimport type { WebGLRenderer } from '../WebGLRenderer';\nimport type { GlRenderingContext } from './GlRenderingContext';\nimport type { WebGLExtensions } from './WebGLExtensions';\n\nexport interface ISupportDict\n{\n    uint32Indices: boolean;\n}\n\n/**\n * Options for the context system.\n * @ignore\n */\nexport interface ContextSystemOptions\n{\n    /** **WebGL Only.** User-provided WebGL rendering context object. */\n    context: WebGL2RenderingContext | null;\n    /**\n     * **WebGL Only.** A hint indicating what configuration of GPU is suitable for the WebGL context,\n     * can be `'default'`, `'high-performance'` or `'low-power'`.\n     * Setting to `'high-performance'` will prioritize rendering performance over power consumption,\n     * while setting to `'low-power'` will prioritize power saving over rendering performance.\n     */\n    powerPreference: WebGLPowerPreference;\n    /** **WebGL Only.** Whether the compositor will assume the drawing buffer contains colors with premultiplied alpha. */\n    premultipliedAlpha: boolean;\n    /**\n     * **WebGL Only.** Whether to enable drawing buffer preservation. If enabled, the drawing buffer will preserve\n     * its value until cleared or overwritten. Enable this if you need to call `toDataUrl` on the WebGL context.\n     */\n    preserveDrawingBuffer: boolean;\n\n    antialias?: boolean;\n}\n\n/** System plugin to the renderer to manage the context. */\nexport class GlContextSystem implements System<ContextSystemOptions>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'context',\n    } as const;\n\n    /** @ignore */\n    public static defaultOptions: ContextSystemOptions = {\n        /**\n         * {@link WebGLOptions.context}\n         * @default null\n         */\n        context: null,\n        /**\n         * {@link WebGLOptions.premultipliedAlpha}\n         * @default true\n         */\n        premultipliedAlpha: true,\n        /**\n         * {@link WebGLOptions.preserveDrawingBuffer}\n         * @default false\n         */\n        preserveDrawingBuffer: false,\n        /**\n         * {@link WebGLOptions.powerPreference}\n         * @default default\n         */\n        powerPreference: 'default',\n    };\n\n    /**\n     * Either 1 or 2 to reflect the WebGL version being used.\n     * @readonly\n     */\n    public webGLVersion: number;\n\n    /**\n     * Features supported by current context.\n     * @type {object}\n     * @readonly\n     * @property {boolean} uint32Indices - Support for 32-bit indices buffer.\n     */\n    public readonly supports: ISupportDict;\n\n    protected CONTEXT_UID: number;\n    protected gl: WebGL2RenderingContext;\n\n    /**\n     * Extensions available.\n     * @type {object}\n     * @readonly\n     * @property {WEBGL_draw_buffers} drawBuffers - WebGL v1 extension\n     * @property {WEBGL_depth_texture} depthTexture - WebGL v1 extension\n     * @property {OES_texture_float} floatTexture - WebGL v1 extension\n     * @property {WEBGL_lose_context} loseContext - WebGL v1 extension\n     * @property {OES_vertex_array_object} vertexArrayObject - WebGL v1 extension\n     * @property {EXT_texture_filter_anisotropic} anisotropicFiltering - WebGL v1 and v2 extension\n     */\n    public extensions: WebGLExtensions;\n\n    private _renderer: WebGLRenderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n\n        this.webGLVersion = 1;\n        this.extensions = Object.create(null);\n\n        this.supports = {\n            uint32Indices: false,\n        };\n\n        // Bind functions\n        this.handleContextLost = this.handleContextLost.bind(this);\n        this.handleContextRestored = this.handleContextRestored.bind(this);\n    }\n\n    /**\n     * `true` if the context is lost\n     * @readonly\n     */\n    get isLost(): boolean\n    {\n        return (!this.gl || this.gl.isContextLost());\n    }\n\n    /**\n     * Handles the context change event.\n     * @param {WebGLRenderingContext} gl - New WebGL context.\n     */\n    protected contextChange(gl: WebGL2RenderingContext): void\n    {\n        this.gl = gl;\n        this._renderer.gl = gl;\n\n        // restore a context if it was previously lost\n        if (gl.isContextLost() && gl.getExtension('WEBGL_lose_context'))\n        {\n            gl.getExtension('WEBGL_lose_context').restoreContext();\n        }\n    }\n\n    public init(options: ContextSystemOptions): void\n    {\n        /*\n         * The options passed in to create a new WebGL context.\n         */\n        if (options?.context)\n        {\n            this.initFromContext(options.context);\n        }\n        else\n        {\n            const alpha = this._renderer.background.alpha < 1;\n            const premultipliedAlpha = options.premultipliedAlpha ?? true;\n            const antialias = options.antialias && !this._renderer.backBuffer.useBackBuffer;\n\n            this.initFromOptions({\n                alpha,\n                premultipliedAlpha,\n                antialias,\n                stencil: true,\n                preserveDrawingBuffer: options.preserveDrawingBuffer,\n                powerPreference: options.powerPreference,\n            });\n        }\n    }\n\n    /**\n     * Initializes the context.\n     * @protected\n     * @param {WebGLRenderingContext} gl - WebGL context\n     */\n    protected initFromContext(gl: WebGL2RenderingContext): void\n    {\n        this.gl = gl;\n        this.validateContext(gl);\n\n        this._renderer.runners.contextChange.emit(gl);\n\n        const element = this._renderer.view.canvas;\n\n        (element as any).addEventListener('webglcontextlost', this.handleContextLost, false);\n        element.addEventListener('webglcontextrestored', this.handleContextRestored, false);\n    }\n\n    /**\n     * Initialize from context options\n     * @protected\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\n     * @param {object} options - context attributes\n     */\n    protected initFromOptions(options: WebGLContextAttributes): void\n    {\n        const gl = this.createContext(this._renderer.view.canvas, options);\n\n        this.initFromContext(gl);\n    }\n\n    /**\n     * Helper class to create a WebGL Context\n     * @param canvas - the canvas element that we will get the context from\n     * @param options - An options object that gets passed in to the canvas element containing the\n     *    context attributes\n     * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext\n     * @returns {WebGLRenderingContext} the WebGL context\n     */\n    public createContext(canvas: ICanvas, options: WebGLContextAttributes): GlRenderingContext\n    {\n        const gl = canvas.getContext('webgl2', options);\n\n        this.webGLVersion = 2;\n        this.gl = gl as WebGL2RenderingContext;\n\n        this.getExtensions();\n\n        return this.gl;\n    }\n\n    /** Auto-populate the {@link ContextSystem.extensions extensions}. */\n    protected getExtensions(): void\n    {\n        // time to set up default extensions that Pixi uses.\n        const { gl } = this;\n\n        const common = {\n            anisotropicFiltering: gl.getExtension('EXT_texture_filter_anisotropic'),\n            floatTextureLinear: gl.getExtension('OES_texture_float_linear'),\n\n            s3tc: gl.getExtension('WEBGL_compressed_texture_s3tc'),\n            s3tc_sRGB: gl.getExtension('WEBGL_compressed_texture_s3tc_srgb'), // eslint-disable-line camelcase\n            etc: gl.getExtension('WEBGL_compressed_texture_etc'),\n            etc1: gl.getExtension('WEBGL_compressed_texture_etc1'),\n            pvrtc: gl.getExtension('WEBGL_compressed_texture_pvrtc')\n                || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n            atc: gl.getExtension('WEBGL_compressed_texture_atc'),\n            astc: gl.getExtension('WEBGL_compressed_texture_astc'),\n        };\n\n        Object.assign(this.extensions, common, {\n            // Floats and half-floats\n            colorBufferFloat: gl.getExtension('EXT_color_buffer_float'),\n        });\n    }\n\n    /**\n     * Handles a lost webgl context\n     * @param {WebGLContextEvent} event - The context lost event.\n     */\n    protected handleContextLost(event: WebGLContextEvent): void\n    {\n        event.preventDefault();\n    }\n\n    /** Handles a restored webgl context. */\n    protected handleContextRestored(): void\n    {\n        this._renderer.runners.contextChange.emit(this.gl);\n    }\n\n    public destroy(): void\n    {\n        const element = this._renderer.view.canvas;\n\n        this._renderer = null;\n\n        // remove listeners\n        (element as any).removeEventListener('webglcontextlost', this.handleContextLost);\n        element.removeEventListener('webglcontextrestored', this.handleContextRestored);\n\n        this.gl.useProgram(null);\n\n        if (this.extensions.loseContext)\n        {\n            this.extensions.loseContext.loseContext();\n        }\n    }\n\n    /**\n     * Validate context.\n     * @param {WebGLRenderingContext} gl - Render context.\n     */\n    protected validateContext(gl: WebGL2RenderingContext): void\n    {\n        const attributes = gl.getContextAttributes();\n\n        const isWebGl2 = 'WebGL2RenderingContext' in globalThis && gl instanceof globalThis.WebGL2RenderingContext;\n\n        if (isWebGl2)\n        {\n            this.webGLVersion = 2;\n        }\n\n        // this is going to be fairly simple for now.. but at least we have room to grow!\n        if (attributes && !attributes.stencil)\n        {\n            // #if _DEBUG\n            /* eslint-disable max-len, no-console */\n            warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly');\n            /* eslint-enable max-len, no-console */\n            // #endif\n        }\n\n        const hasUint32 = isWebGl2 || !!(gl as WebGLRenderingContext).getExtension('OES_element_index_uint');\n\n        this.supports.uint32Indices = hasUint32;\n\n        if (!hasUint32)\n        {\n            // #if _DEBUG\n            /* eslint-disable max-len, no-console */\n            warn('Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly');\n            /* eslint-enable max-len, no-console */\n            // #endif\n        }\n    }\n}\n","/**\n * Various GL texture/resources formats.\n * @static\n * @name FORMATS\n * @enum {number}\n * @property {number} [RGBA=6408] -\n * @property {number} [RGB=6407] -\n * @property {number} [RG=33319] -\n * @property {number} [RED=6403] -\n * @property {number} [RGBA_INTEGER=36249] -\n * @property {number} [RGB_INTEGER=36248] -\n * @property {number} [RG_INTEGER=33320] -\n * @property {number} [RED_INTEGER=36244] -\n * @property {number} [ALPHA=6406] -\n * @property {number} [LUMINANCE=6409] -\n * @property {number} [LUMINANCE_ALPHA=6410] -\n * @property {number} [DEPTH_COMPONENT=6402] -\n * @property {number} [DEPTH_STENCIL=34041] -\n */\nexport enum GL_FORMATS\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    RGBA = 6408,\n    RGB = 6407,\n    RG = 33319,\n    RED = 6403,\n    RGBA_INTEGER = 36249,\n    RGB_INTEGER = 36248,\n    RG_INTEGER = 33320,\n    RED_INTEGER = 36244,\n    ALPHA = 6406,\n    LUMINANCE = 6409,\n    LUMINANCE_ALPHA = 6410,\n    DEPTH_COMPONENT = 6402,\n    DEPTH_STENCIL = 34041,\n}\n\n/**\n * Various GL target types.\n * @static\n * @name TARGETS\n * @enum {number}\n * @property {number} [TEXTURE_2D=3553] -\n * @property {number} [TEXTURE_CUBE_MAP=34067] -\n * @property {number} [TEXTURE_2D_ARRAY=35866] -\n * @property {number} [TEXTURE_CUBE_MAP_POSITIVE_X=34069] -\n * @property {number} [TEXTURE_CUBE_MAP_NEGATIVE_X=34070] -\n * @property {number} [TEXTURE_CUBE_MAP_POSITIVE_Y=34071] -\n * @property {number} [TEXTURE_CUBE_MAP_NEGATIVE_Y=34072] -\n * @property {number} [TEXTURE_CUBE_MAP_POSITIVE_Z=34073] -\n * @property {number} [TEXTURE_CUBE_MAP_NEGATIVE_Z=34074] -\n */\nexport enum GL_TARGETS\n    // eslint-disable-next-line @typescript-eslint/indent\n {\n    TEXTURE_2D = 3553,\n    TEXTURE_CUBE_MAP = 34067,\n    TEXTURE_2D_ARRAY = 35866,\n    TEXTURE_CUBE_MAP_POSITIVE_X = 34069,\n    TEXTURE_CUBE_MAP_NEGATIVE_X = 34070,\n    TEXTURE_CUBE_MAP_POSITIVE_Y = 34071,\n    TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072,\n    TEXTURE_CUBE_MAP_POSITIVE_Z = 34073,\n    TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074,\n}\n\n/**\n * The wrap modes that are supported by pixi.\n *\n * The {@link settings.WRAP_MODE} wrap mode affects the default wrapping mode of future operations.\n * It can be re-assigned to either CLAMP or REPEAT, depending upon suitability.\n * If the texture is non power of two then clamp will be used regardless as WebGL can\n * only use REPEAT if the texture is po2.\n *\n * This property only affects WebGL.\n * @name WRAP_MODES\n * @static\n * @enum {number}\n * @property {number} CLAMP - The textures uvs are clamped\n * @property {number} REPEAT - The texture uvs tile and repeat\n * @property {number} MIRRORED_REPEAT - The texture uvs tile and repeat with mirroring\n */\nexport enum GL_WRAP_MODES\n    // eslint-disable-next-line @typescript-eslint/indent\n {\n    CLAMP = 33071,\n    REPEAT = 10497,\n    MIRRORED_REPEAT = 33648,\n}\n\nexport enum GL_TYPES\n// eslint-disable-next-line @typescript-eslint/indent\n{\n    /**\n     * 8 bits per channel for gl.RGBA\n     * @default 5121\n     */\n    UNSIGNED_BYTE = 5121,\n    /**\n     * @default 5123\n     */\n    UNSIGNED_SHORT = 5123,\n    /**\n     * 5 red bits, 6 green bits, 5 blue bits.\n     * @default 33635\n     */\n    UNSIGNED_SHORT_5_6_5 = 33635,\n    /**\n     * 4 red bits, 4 green bits, 4 blue bits, 4 alpha bits.\n     * @default 32819\n     */\n    UNSIGNED_SHORT_4_4_4_4 = 32819,\n    /**\n     * 5 red bits, 5 green bits, 5 blue bits, 1 alpha bit.\n     * @default 32820\n     */\n    UNSIGNED_SHORT_5_5_5_1 = 32820,\n    /**\n     * @default 5125\n     */\n    UNSIGNED_INT = 5125,\n    /**\n     * @default 35899\n     */\n    UNSIGNED_INT_10F_11F_11F_REV = 35899,\n    /**\n     * @default 33640\n     */\n    UNSIGNED_INT_2_10_10_10_REV = 33640,\n    /**\n     * @default 34042\n     */\n    UNSIGNED_INT_24_8 = 34042,\n    /**\n     * @default 35902\n     */\n    UNSIGNED_INT_5_9_9_9_REV = 35902,\n    /**\n     * @default 5120\n     */\n    BYTE = 5120,\n    /**\n     * @default 5122\n     */\n    SHORT = 5122,\n    /**\n     * @default 5124\n     */\n    INT = 5124,\n    /**\n     * @default 5126\n     */\n    FLOAT = 5126,\n    /**\n     * @default 36269\n     */\n    FLOAT_32_UNSIGNED_INT_24_8_REV = 36269,\n    /**\n     * @default 36193\n     */\n    HALF_FLOAT = 36193,\n}\n\n","import { GL_TYPES } from '../../texture/const';\n\nimport type { VertexFormat } from '../../../shared/geometry/const';\n\nconst infoMap = {\n    uint8x2: { type: GL_TYPES.UNSIGNED_BYTE, size: 2, normalised: false },\n    uint8x4: { type: GL_TYPES.UNSIGNED_BYTE, size: 4, normalised: false },\n    sint8x2: { type: GL_TYPES.BYTE, size: 2, normalised: false },\n    sint8x4: { type: GL_TYPES.BYTE, size: 4, normalised: false },\n    unorm8x2: { type: GL_TYPES.UNSIGNED_BYTE, size: 2, normalised: true },\n    unorm8x4: { type: GL_TYPES.UNSIGNED_BYTE, size: 4, normalised: true },\n    snorm8x2: { type: GL_TYPES.BYTE, size: 2, normalised: true },\n    snorm8x4: { type: GL_TYPES.BYTE, size: 4, normalised: true },\n    uint16x2: { type: GL_TYPES.UNSIGNED_SHORT, size: 2, normalised: false },\n    uint16x4: { type: GL_TYPES.UNSIGNED_SHORT, size: 4, normalised: false },\n    sint16x2: { type: GL_TYPES.SHORT, size: 2, normalised: false },\n    sint16x4: { type: GL_TYPES.SHORT, size: 4, normalised: false },\n    unorm16x2: { type: GL_TYPES.UNSIGNED_SHORT, size: 2, normalised: true },\n    unorm16x4: { type: GL_TYPES.UNSIGNED_SHORT, size: 4, normalised: true },\n    snorm16x2: { type: GL_TYPES.SHORT, size: 2, normalised: true },\n    snorm16x4: { type: GL_TYPES.SHORT, size: 4, normalised: true },\n    float16x2: { type: GL_TYPES.HALF_FLOAT, size: 2, normalised: false },\n    float16x4: { type: GL_TYPES.HALF_FLOAT, size: 4, normalised: false },\n    float32: { type: GL_TYPES.FLOAT, size: 1, normalised: false },\n    float32x2: { type: GL_TYPES.FLOAT, size: 2, normalised: false },\n    float32x3: { type: GL_TYPES.FLOAT, size: 3, normalised: false },\n    float32x4: { type: GL_TYPES.FLOAT, size: 4, normalised: false },\n    uint32: { type: GL_TYPES.UNSIGNED_INT, size: 1, normalised: false },\n    uint32x2: { type: GL_TYPES.UNSIGNED_INT, size: 2, normalised: false },\n    uint32x3: { type: GL_TYPES.UNSIGNED_INT, size: 3, normalised: false },\n    uint32x4: { type: GL_TYPES.UNSIGNED_INT, size: 4, normalised: false },\n    sint32: { type: GL_TYPES.INT, size: 1, normalised: false },\n    sint32x2: { type: GL_TYPES.INT, size: 2, normalised: false },\n    sint32x3: { type: GL_TYPES.INT, size: 3, normalised: false },\n    sint32x4: { type: GL_TYPES.INT, size: 4, normalised: false },\n};\n\nexport function getGlInfoFromFormat(format: VertexFormat): { type: number; size: number; normalised: boolean }\n{\n    return infoMap[format] ?? infoMap.float32;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { warn } from '../../../../utils/logging/warn';\nimport { getGlInfoFromFormat } from './utils/getGlInfoFromFormat';\n\nimport type { Topology } from '../../shared/geometry/const';\nimport type { Geometry } from '../../shared/geometry/Geometry';\nimport type { System } from '../../shared/system/System';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\nimport type { GlProgram } from '../shader/GlProgram';\nimport type { WebGLRenderer } from '../WebGLRenderer';\n\nconst byteSizeMap: {[key: number]: number} = { 5126: 4, 5123: 2, 5121: 1 };\n\nconst topologyToGlMap = {\n    'point-list': 0x0000,\n    'line-list': 0x0001,\n    'line-strip': 0x0003,\n    'triangle-list': 0x0004,\n    'triangle-strip': 0x0005\n};\n\n/** System plugin to the renderer to manage geometry. */\n\nexport class GlGeometrySystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'geometry',\n    } as const;\n\n    /**\n     * `true` if we has `*_vertex_array_object` extension.\n     * @readonly\n     */\n    public hasVao: boolean;\n\n    /**\n     * `true` if has `ANGLE_instanced_arrays` extension.\n     * @readonly\n     */\n    public hasInstance: boolean;\n\n    /**\n     * `true` if support `gl.UNSIGNED_INT` in `gl.drawElements` or `gl.drawElementsInstanced`.\n     * @readonly\n     */\n    public canUseUInt32ElementIndex: boolean;\n\n    protected gl: GlRenderingContext;\n    protected _activeGeometry: Geometry;\n    protected _activeVao: WebGLVertexArrayObject;\n\n    protected _geometryVaoHash: Record<number, Record<string, WebGLVertexArrayObject>> = {};\n\n    /** Renderer that owns this {@link GeometrySystem}. */\n    private _renderer: WebGLRenderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n        this._activeGeometry = null;\n        this._activeVao = null;\n\n        this.hasVao = true;\n        this.hasInstance = true;\n        this.canUseUInt32ElementIndex = true;\n    }\n\n    /** Sets up the renderer context and necessary buffers. */\n    protected contextChange(): void\n    {\n        this.gl = this._renderer.gl;\n    }\n\n    /**\n     * Binds geometry so that is can be drawn. Creating a Vao if required\n     * @param geometry - Instance of geometry to bind.\n     * @param program - Instance of program to use vao for.\n     */\n    public bind(geometry?: Geometry, program?: GlProgram): void\n    {\n        // shader = shader || this.renderer.shader.shader;\n\n        const gl = this.gl;\n\n        this._activeGeometry = geometry;\n\n        const vao = this.getVao(geometry, program);\n\n        if (this._activeVao !== vao)\n        {\n            this._activeVao = vao;\n\n            gl.bindVertexArray(vao);\n        }\n\n        this.updateBuffers();\n    }\n\n    /** Reset and unbind any active VAO and geometry. */\n    public reset(): void\n    {\n        this.unbind();\n    }\n\n    /** Update buffers of the currently bound geometry. */\n    public updateBuffers(): void\n    {\n        const geometry = this._activeGeometry;\n\n        const bufferSystem = this._renderer.buffer;\n\n        for (let i = 0; i < geometry.buffers.length; i++)\n        {\n            const buffer = geometry.buffers[i];\n\n            bufferSystem.updateBuffer(buffer);\n        }\n    }\n\n    /**\n     * Check compatibility between a geometry and a program\n     * @param geometry - Geometry instance.\n     * @param program - Program instance.\n     */\n    protected checkCompatibility(geometry: Geometry, program: GlProgram): void\n    {\n        // geometry must have at least all the attributes that the shader requires.\n        const geometryAttributes = geometry.attributes;\n        const shaderAttributes = program.attributeData;\n\n        for (const j in shaderAttributes)\n        {\n            if (!geometryAttributes[j])\n            {\n                throw new Error(`shader and geometry incompatible, geometry missing the \"${j}\" attribute`);\n            }\n        }\n    }\n\n    /**\n     * Takes a geometry and program and generates a unique signature for them.\n     * @param geometry - To get signature from.\n     * @param program - To test geometry against.\n     * @returns - Unique signature of the geometry and program\n     */\n    protected getSignature(geometry: Geometry, program: GlProgram): string\n    {\n        const attribs = geometry.attributes;\n        const shaderAttributes = program.attributeData;\n\n        const strings = ['g', geometry.uid];\n\n        for (const i in attribs)\n        {\n            if (shaderAttributes[i])\n            {\n                strings.push(i, shaderAttributes[i].location);\n            }\n        }\n\n        return strings.join('-');\n    }\n\n    protected getVao(geometry: Geometry, program: GlProgram): WebGLVertexArrayObject\n    {\n        return this._geometryVaoHash[geometry.uid]?.[program.key] || this.initGeometryVao(geometry, program);\n    }\n\n    /**\n     * Creates or gets Vao with the same structure as the geometry and stores it on the geometry.\n     * If vao is created, it is bound automatically. We use a shader to infer what and how to set up the\n     * attribute locations.\n     * @param geometry - Instance of geometry to to generate Vao for.\n     * @param program\n     * @param _incRefCount - Increment refCount of all geometry buffers.\n     */\n    protected initGeometryVao(geometry: Geometry, program: GlProgram, _incRefCount = true): WebGLVertexArrayObject\n    {\n        const gl = this._renderer.gl;\n        // const CONTEXT_UID = this.CONTEXT_UID;\n        const bufferSystem = this._renderer.buffer;\n\n        this._renderer.shader.getProgramData(program);\n\n        this.checkCompatibility(geometry, program);\n\n        const signature = this.getSignature(geometry, program);\n\n        if (!this._geometryVaoHash[geometry.uid])\n        {\n            this._geometryVaoHash[geometry.uid] = Object.create(null);\n\n            geometry.on('destroy', this.onGeometryDestroy, this);\n        }\n\n        const vaoObjectHash = this._geometryVaoHash[geometry.uid];\n\n        let vao = vaoObjectHash[signature];\n\n        if (vao)\n        {\n            // this will give us easy access to the vao\n            vaoObjectHash[program.key] = vao;\n\n            return vao;\n        }\n\n        const buffers = geometry.buffers;\n        const attributes = geometry.attributes;\n        const tempStride: Record<string, number> = {};\n        const tempStart: Record<string, number> = {};\n\n        for (const j in buffers)\n        {\n            tempStride[j] = 0;\n            tempStart[j] = 0;\n        }\n\n        for (const j in attributes)\n        {\n            if (!attributes[j].size && program.attributeData[j])\n            {\n                attributes[j].size = program.attributeData[j].size;\n            }\n            else if (!attributes[j].size)\n            {\n                // #if _DEBUG\n                warn(`PIXI Geometry attribute '${j}' size cannot be determined (likely the bound shader does not have the attribute)`);  // eslint-disable-line\n                // #endif\n            }\n\n            tempStride[attributes[j].buffer.uid] += attributes[j].size * byteSizeMap[attributes[j].type];\n        }\n\n        for (const j in attributes)\n        {\n            const attribute = attributes[j];\n            const attribSize = attribute.size;\n\n            if (attribute.stride === undefined)\n            {\n                if (tempStride[attribute.buffer.uid] === attribSize * byteSizeMap[attribute.type])\n                {\n                    attribute.stride = 0;\n                }\n                else\n                {\n                    attribute.stride = tempStride[attribute.buffer.uid];\n                }\n            }\n\n            if (attribute.start === undefined)\n            {\n                attribute.start = tempStart[attribute.buffer.uid];\n\n                tempStart[attribute.buffer.uid] += attribSize * byteSizeMap[attribute.type];\n            }\n        }\n\n        // @TODO: We don't know if VAO is supported.\n        vao = gl.createVertexArray();\n\n        gl.bindVertexArray(vao);\n\n        // first update - and create the buffers!\n        // only create a gl buffer if it actually gets\n        for (let i = 0; i < buffers.length; i++)\n        {\n            const buffer = buffers[i];\n\n            bufferSystem.bind(buffer);\n        }\n\n        // TODO - maybe make this a data object?\n        // lets wait to see if we need to first!\n\n        this.activateVao(geometry, program);\n\n        // add it to the cache!\n        vaoObjectHash[program.key] = vao;\n        vaoObjectHash[signature] = vao;\n\n        gl.bindVertexArray(null);\n\n        return vao;\n    }\n\n    /**\n     * Disposes geometry.\n     * @param geometry - Geometry with buffers. Only VAO will be disposed\n     * @param [contextLost=false] - If context was lost, we suppress deleteVertexArray\n     */\n    protected onGeometryDestroy(geometry: Geometry, contextLost?: boolean): void\n    {\n        const vaoObjectHash = this._geometryVaoHash[geometry.uid];\n\n        const gl = this.gl;\n\n        if (vaoObjectHash)\n        {\n            if (contextLost)\n            {\n                for (const i in vaoObjectHash)\n                {\n                    if (this._activeVao !== vaoObjectHash[i])\n                    {\n                        this.unbind();\n                    }\n\n                    gl.deleteVertexArray(vaoObjectHash[i]);\n                }\n            }\n\n            this._geometryVaoHash[geometry.uid] = null;\n        }\n    }\n\n    /**\n     * Dispose all WebGL resources of all managed geometries.\n     * @param [contextLost=false] - If context was lost, we suppress `gl.delete` calls\n     */\n    public destroyAll(contextLost = false): void\n    {\n        const gl = this.gl;\n\n        for (const i in this._geometryVaoHash)\n        {\n            if (contextLost)\n            {\n                for (const j in this._geometryVaoHash[i])\n                {\n                    const vaoObjectHash = this._geometryVaoHash[i];\n\n                    if (this._activeVao !== vaoObjectHash)\n                    {\n                        this.unbind();\n                    }\n\n                    gl.deleteVertexArray(vaoObjectHash[j]);\n                }\n            }\n\n            this._geometryVaoHash[i] = null;\n        }\n    }\n\n    /**\n     * Activate vertex array object.\n     * @param geometry - Geometry instance.\n     * @param program - Shader program instance.\n     */\n    protected activateVao(geometry: Geometry, program: GlProgram): void\n    {\n        const gl = this._renderer.gl;\n\n        const bufferSystem = this._renderer.buffer;\n        const attributes = geometry.attributes;\n\n        if (geometry.indexBuffer)\n        {\n            // first update the index buffer if we have one..\n            bufferSystem.bind(geometry.indexBuffer);\n        }\n\n        let lastBuffer = null;\n\n        // add a new one!\n        for (const j in attributes)\n        {\n            const attribute = attributes[j];\n            const buffer = attribute.buffer;\n            const glBuffer = bufferSystem.getGlBuffer(buffer);\n\n            if (program.attributeData[j])\n            {\n                if (lastBuffer !== glBuffer)\n                {\n                    bufferSystem.bind(buffer);\n\n                    lastBuffer = glBuffer;\n                }\n\n                const location = program.attributeData[j].location;\n\n                // TODO introduce state again\n                // we can optimise this for older devices that have no VAOs\n                gl.enableVertexAttribArray(location);\n\n                const glInfo = getGlInfoFromFormat(attribute.format);\n\n                gl.vertexAttribPointer(location,\n                    glInfo.size,\n                    glInfo.type, // attribute.type || gl.FLOAT,\n                    glInfo.normalised,\n                    attribute.stride,\n                    attribute.offset);\n\n                if (attribute.instance)\n                {\n                    // TODO calculate instance count based of this...\n                    if (this.hasInstance)\n                    {\n                        gl.vertexAttribDivisor(location, 1);// attribute.divisor);\n                    }\n                    else\n                    {\n                        throw new Error('geometry error, GPU Instancing is not supported on this device');\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Draws the currently bound geometry.\n     * @param topology - The type primitive to render.\n     * @param size - The number of elements to be rendered. If not specified, all vertices after the\n     *  starting vertex will be drawn.\n     * @param start - The starting vertex in the geometry to start drawing from. If not specified,\n     *  drawing will start from the first vertex.\n     * @param instanceCount - The number of instances of the set of elements to execute. If not specified,\n     *  all instances will be drawn.\n     */\n    public draw(topology?: Topology, size?: number, start?: number, instanceCount?: number): this\n    {\n        const { gl } = this._renderer;\n        const geometry = this._activeGeometry;\n\n        const glTopology = topologyToGlMap[geometry.topology || topology];\n\n        if (geometry.indexBuffer)\n        {\n            const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n            const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n\n            if (geometry.instanced)\n            {\n                /* eslint-disable max-len */\n                gl.drawElementsInstanced(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, geometry.instanceCount || 1);\n                /* eslint-enable max-len */\n            }\n            else\n            {\n                /* eslint-disable max-len */\n                gl.drawElements(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);\n                /* eslint-enable max-len */\n            }\n        }\n        else if (geometry.instanced)\n        {\n            // TODO need a better way to calculate size..\n            gl.drawArraysInstanced(glTopology, start, size || geometry.getSize(), instanceCount || 1);\n        }\n        else\n        {\n            gl.drawArrays(glTopology, start, size || geometry.getSize());\n        }\n\n        return this;\n    }\n\n    /** Unbind/reset everything. */\n    protected unbind(): void\n    {\n        this.gl.bindVertexArray(null);\n        this._activeVao = null;\n        this._activeGeometry = null;\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null;\n        this.gl = null;\n        this._activeVao = null;\n        this._activeGeometry = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Shader } from '../shared/shader/Shader';\nimport { State } from '../shared/state/State';\nimport { TextureSource } from '../shared/texture/sources/TextureSource';\nimport { Texture } from '../shared/texture/Texture';\nimport { GlProgram } from './shader/GlProgram';\n\nimport type { RgbaArray } from '../../../color/Color';\nimport type { RenderSurface } from '../gpu/renderTarget/GpuRenderTargetSystem';\nimport type { System } from '../shared/system/System';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nconst bigTriangleProgram = new GlProgram({\n    vertex: `\n        out vec2 vUv;\n\n        void main() {\n            vUv = vec2((gl_VertexID << 1) & 2, (gl_VertexID & 2));\n\n            gl_Position = vec4(vUv * 2.0f + -1.0f, 0.0f, 1.0f);\n\n            // flip dem UVs\n            vUv.y = 1.0f - vUv.y;\n        }`,\n    fragment: `\n        in vec2 vUv;\n        out vec4 fragColor;\n\n        uniform sampler2D uTexture;\n\n        void main() {\n            fragColor = texture(uTexture, vUv);\n        }`,\n    name: 'big-triangle',\n});\n\nconst bigTriangleShader = new Shader({\n    glProgram: bigTriangleProgram,\n    resources: {\n        uTexture: Texture.WHITE.source,\n    },\n});\n\nexport interface GlBackBufferOptions\n{\n    useBackBuffer?: boolean;\n    antialias?: boolean;\n}\n\nexport class GlBackBufferSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'backBuffer',\n    } as const;\n\n    public static defaultOptions: GlBackBufferOptions = {\n        useBackBuffer: false,\n    };\n\n    public useBackBuffer = false;\n\n    private _backBufferTexture: Texture;\n    private readonly _renderer: WebGLRenderer;\n    private _targetTexture: Texture;\n    private _useBackBufferThisRender = false;\n    private _antialias: boolean;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public init(options: GlBackBufferOptions = {})\n    {\n        const { useBackBuffer, antialias } = { ...GlBackBufferSystem.defaultOptions, ...options };\n\n        this.useBackBuffer = useBackBuffer;\n        this._antialias = antialias;\n    }\n\n    protected renderStart({ target, clear, clearColor }: { target: RenderSurface, clear: boolean, clearColor: RgbaArray })\n    {\n        this._useBackBufferThisRender = this.useBackBuffer && !!target;\n\n        if (this.useBackBuffer)\n        {\n            const renderTarget = this._renderer.renderTarget.getRenderTarget(target);\n\n            this._targetTexture = renderTarget.colorTexture;\n\n            target = this._getBackBufferTexture(renderTarget.colorTexture);\n        }\n\n        clearColor ??= this._renderer.background.colorRgba;\n\n        this._renderer.renderTarget.start(target, clear, clearColor);\n    }\n\n    protected renderEnd()\n    {\n        this._presentBackBuffer();\n    }\n\n    private _presentBackBuffer()\n    {\n        const renderer = this._renderer;\n\n        renderer.renderTarget.finishRenderPass();\n\n        if (!this._useBackBufferThisRender) return;\n\n        const gl = renderer.gl;\n\n        renderer.renderTarget.bind(this._targetTexture, false);\n\n        bigTriangleShader.resources.uTexture = this._backBufferTexture.source;\n\n        renderer.shader.bind(bigTriangleShader, false);\n        renderer.state.set(State.for2d());\n\n        gl.drawArrays(gl.TRIANGLES, 0, 3);\n    }\n\n    private _getBackBufferTexture(targetTexture: Texture)\n    {\n        const source = targetTexture.source;\n\n        this._backBufferTexture = this._backBufferTexture || new Texture({\n            source: new TextureSource({\n                width: source.width,\n                height: source.height,\n                resolution: source._resolution,\n                antialias: this._antialias,\n            }),\n        });\n\n        // this will not resize if its the same size already! No extra check required\n        this._backBufferTexture.source.resize(\n            source.width,\n            source.height,\n            source._resolution,\n        );\n\n        return this._backBufferTexture;\n    }\n\n    public destroy()\n    {\n        if (this._backBufferTexture)\n        {\n            this._backBufferTexture.destroy();\n            this._backBufferTexture = null;\n        }\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { System } from '../shared/system/System';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nexport class GlColorMaskSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'colorMask',\n    } as const;\n\n    private readonly _renderer: WebGLRenderer;\n    private _colorMaskCache = 0b1111;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public setMask(colorMask: number)\n    {\n        if (this._colorMaskCache === colorMask) return;\n        this._colorMaskCache = colorMask;\n\n        this._renderer.gl.colorMask(\n            !!(colorMask & 0b1000),\n            !!(colorMask & 0b0100),\n            !!(colorMask & 0b0010),\n            !!(colorMask & 0b0001)\n        );\n    }\n\n    public destroy?: () => void;\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { Writeable } from '../../../utils/types';\nimport type { Topology } from '../shared/geometry/const';\nimport type { Geometry } from '../shared/geometry/Geometry';\nimport type { Shader } from '../shared/shader/Shader';\nimport type { State } from '../shared/state/State';\nimport type { System } from '../shared/system/System';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nexport class GlEncoderSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'encoder',\n    } as const;\n\n    public readonly commandFinished = Promise.resolve();\n    private readonly _renderer: WebGLRenderer;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public setGeometry(geometry: Geometry, shader?: Shader)\n    {\n        this._renderer.geometry.bind(geometry, shader.glProgram);\n    }\n\n    public finishRenderPass()\n    {\n        // noop\n    }\n\n    public draw(options: {\n        geometry: Geometry,\n        shader: Shader,\n        state?: State,\n        topology?: Topology,\n        size?: number,\n        start?: number,\n        instanceCount?: number\n        skipSync?: boolean,\n    })\n    {\n        const renderer = this._renderer;\n        const { geometry, shader, state, skipSync, topology: type, size, start, instanceCount } = options;\n\n        renderer.shader.bind(shader, skipSync);\n\n        renderer.geometry.bind(geometry, renderer.shader.activeProgram);\n\n        if (state)\n        {\n            renderer.state.set(state);\n        }\n\n        renderer.geometry.draw(type, size, start, instanceCount);\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n","export class GlRenderTarget\n{\n    public width = -1;\n    public height = -1;\n\n    public framebuffer: WebGLFramebuffer;\n    public resolveTargetFramebuffer: WebGLFramebuffer;\n    public msaaRenderBuffer: WebGLRenderbuffer[] = [];\n    public depthStencilRenderBuffer: WebGLRenderbuffer;\n\n    public msaa = false;\n    public dirtyId = -1;\n}\n","import type { RenderTarget } from './RenderTarget';\n\n/**\n * Checks if the render target is viewable on the screen\n * Basically, is it a canvas element and is that canvas element in the DOM\n * @param renderTarget - the render target to check\n * @returns true if the render target is viewable on the screen\n */\nexport function isRenderingToScreen(renderTarget: RenderTarget): boolean\n{\n    const resource = renderTarget.colorTexture.source.resource;\n\n    return (resource instanceof HTMLCanvasElement && document.body.contains(resource));\n}\n","import type { Matrix } from '../../../../maths/matrix/Matrix';\n\nexport function calculateProjection(\n    pm: Matrix,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    flipY: boolean\n): Matrix\n{\n    const sign = flipY ? 1 : -1;\n\n    pm.identity();\n\n    pm.a = (1 / width * 2);\n    pm.d = sign * (1 / height * 2);\n\n    pm.tx = -1 - (x * pm.a);\n    pm.ty = -sign - (y * pm.d);\n\n    return pm;\n}\n","// what we are building is a platform and a framework.\n// import { Matrix } from '../../shared/maths/Matrix';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { uid } from '../../../../utils/data/uid';\nimport { calculateProjection } from '../../gpu/renderTarget/calculateProjection';\nimport { TextureSource } from '../texture/sources/TextureSource';\nimport { Texture } from '../texture/Texture';\n\nexport interface RenderTargetDescriptor\n{\n    width?: number;\n    height?: number;\n    resolution?: number;\n    colorTextures?: Texture[] | number;\n\n    // TODO this is actually depth and stencil buffer..\n    depthTexture?: Texture | boolean;\n    stencil?: boolean;\n    antialias?: boolean;\n}\n\nexport class RenderTarget\n{\n    public static defaultDescriptor: RenderTargetDescriptor = {\n        width: 0,\n        height: 0,\n        resolution: 1,\n        colorTextures: 1,\n        stencil: true,\n        antialias: false, // save on perf by default!\n    };\n\n    public uid = uid('renderTarget');\n\n    public width = 0;\n    public height = 0;\n    public resolution = 1;\n\n    public colorTextures: Texture[] = [];\n\n    public depthTexture: Texture;\n    public stencil: boolean;\n\n    public dirtyId = 0;\n    public isRoot = false;\n\n    private readonly _viewport: Rectangle;\n    private readonly _projectionMatrix = new Matrix();\n    private readonly _size = new Float32Array(2);\n\n    constructor(descriptor: RenderTargetDescriptor = {})\n    {\n        descriptor = { ...RenderTarget.defaultDescriptor, ...descriptor };\n\n        this.width = descriptor.width;\n        this.height = descriptor.height;\n        this.resolution = descriptor.resolution;\n        this.stencil = descriptor.stencil;\n\n        this._viewport = new Rectangle(0, 0, this.width, this.height);\n\n        if (typeof descriptor.colorTextures === 'number')\n        {\n            for (let i = 0; i < descriptor.colorTextures; i++)\n            {\n                this.colorTextures.push(new Texture({\n                    source: new TextureSource({\n                        width: this.width,\n                        height: this.height,\n                        resolution: descriptor.resolution,\n                        antialias: descriptor.antialias,\n                    })\n                }));\n            }\n        }\n        else\n        {\n            this.colorTextures = [...descriptor.colorTextures];\n\n            const colorSource = this.colorTexture.source;\n\n            this._resize(colorSource.width, colorSource.height, colorSource._resolution);\n        }\n\n        // the first color texture drives the size of all others..\n        this.colorTexture.source.on('resize', this.onSourceResize, this);\n\n        // TODO should listen for texture destroyed?\n\n        if (descriptor.depthTexture)\n        {\n            this.depthTexture = new Texture({\n                source: new TextureSource({\n                    width: this.width,\n                    height: this.height,\n                    resolution: this.resolution,\n                    format: 'stencil8',\n                    // sampleCount: handled by the render target system..\n                })\n            });\n        }\n    }\n\n    get size(): [number, number]\n    {\n        const _size = this._size;\n\n        _size[0] = this.pixelWidth;\n        _size[1] = this.pixelHeight;\n\n        return _size as any as [number, number];\n    }\n\n    get pixelWidth(): number\n    {\n        return this.width * this.resolution;\n    }\n\n    get pixelHeight(): number\n    {\n        return this.height * this.resolution;\n    }\n\n    get colorTexture(): Texture\n    {\n        return this.colorTextures[0];\n    }\n\n    get projectionMatrix(): Matrix\n    {\n        const texture = this.colorTexture;\n\n        // TODO - this needs to only happen on resize - or behind a dirty flag\n        calculateProjection(this._projectionMatrix, 0, 0, texture.frameWidth, texture.frameHeight, !this.isRoot);\n\n        return this._projectionMatrix;\n    }\n\n    get viewport(): Rectangle\n    {\n        // TODO - this needs to only happen on resize or when a texture frame changes\n        const texture = this.colorTexture;\n        const source = texture.source;\n\n        const pixelWidth = source.pixelWidth;\n        const pixelHeight = source.pixelHeight;\n\n        const viewport = this._viewport;\n        const frame = texture.layout.frame;\n\n        viewport.x = (frame.x * pixelWidth) | 0;\n        viewport.y = (frame.y * pixelHeight) | 0;\n        viewport.width = (frame.width * pixelWidth) | 0;\n        viewport.height = (frame.height * pixelHeight) | 0;\n\n        return viewport;\n    }\n\n    protected onSourceResize(source: TextureSource)\n    {\n        this._resize(source.width, source.height, source._resolution, true);\n    }\n\n    private _resize(width: number, height: number, resolution = this.resolution, skipColorTexture = false)\n    {\n        this.width = width;\n        this.height = height;\n        this.resolution = resolution;\n\n        this.dirtyId++;\n\n        this.colorTextures.forEach((colorTexture, i) =>\n        {\n            if (skipColorTexture && i === 0) return;\n\n            colorTexture.source.resize(width, height, resolution);\n        });\n\n        if (this.depthTexture)\n        {\n            this.depthTexture.source.resize(width, height, resolution);\n        }\n    }\n\n    public destroy()\n    {\n        throw new Error('Method not implemented.');\n    }\n}\n","import { CanvasSource } from '../sources/CanvasSource';\nimport { Texture } from '../Texture';\n\nimport type { ICanvas } from '../../../../../settings/adapter/ICanvas';\nimport type { CanvasSourceOptions } from '../sources/CanvasSource';\n\nconst canvasCache: Map<ICanvas, Texture> = new Map();\n\nexport function getCanvasTexture(canvas: ICanvas, options?: CanvasSourceOptions): Texture\n{\n    if (!canvasCache.has(canvas))\n    {\n        const texture = new Texture({\n            source: new CanvasSource({\n                resource: canvas,\n                ...options,\n            })\n        });\n\n        canvasCache.set(canvas, texture);\n    }\n\n    return canvasCache.get(canvas);\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { isRenderingToScreen } from '../shared/renderTarget/isRenderingToScreen';\nimport { RenderTarget } from '../shared/renderTarget/RenderTarget';\nimport { SystemRunner } from '../shared/system/SystemRunner';\nimport { Texture } from '../shared/texture/Texture';\nimport { getCanvasTexture } from '../shared/texture/utils/getCanvasTexture';\nimport { CLEAR } from './const';\nimport { GlRenderTarget } from './GlRenderTarget';\n\nimport type { RgbaArray } from '../../../color/Color';\nimport type { ICanvas } from '../../../settings/adapter/ICanvas';\nimport type { RenderSurface } from '../gpu/renderTarget/GpuRenderTargetSystem';\nimport type { System } from '../shared/system/System';\nimport type { CLEAR_OR_BOOL } from './const';\nimport type { GlRenderingContext } from './context/GlRenderingContext';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nexport class GlRenderTargetSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'renderTarget',\n    } as const;\n\n    public rootProjectionMatrix: Matrix;\n    public renderingToScreen: boolean;\n    public rootRenderTarget: RenderTarget;\n    public renderTarget: RenderTarget;\n    public onRenderTargetChange = new SystemRunner('onRenderTargetChange');\n\n    // TODO work on this later!\n    // multiRender = true;\n    private _gl: GlRenderingContext;\n\n    private readonly _renderSurfaceToRenderTargetHash: Map<RenderSurface, RenderTarget> = new Map();\n    private _gpuRenderTargetHash: Record<number, GlRenderTarget> = Object.create(null);\n    private readonly _renderer: WebGLRenderer;\n    private readonly _renderTargetStack: RenderTarget[] = [];\n    private readonly _defaultClearColor: RgbaArray = [0, 0, 0, 0];\n    private readonly _clearColorCache: RgbaArray = [0, 0, 0, 0];\n\n    private readonly _viewPortCache = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n    };\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this.rootProjectionMatrix = new Matrix();\n\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gl: GlRenderingContext): void\n    {\n        this._gl = gl;\n    }\n\n    public start(\n        rootRenderSurface: RenderSurface,\n        clear: CLEAR_OR_BOOL = true,\n        clearColor?: RgbaArray\n    ): void\n    {\n        this._renderTargetStack.length = 0;\n\n        const renderTarget = this.getRenderTarget(rootRenderSurface);\n\n        this.rootRenderTarget = renderTarget;\n\n        this.renderingToScreen = isRenderingToScreen(this.rootRenderTarget);\n\n        this.rootProjectionMatrix = renderTarget.projectionMatrix;\n\n        this.push(renderTarget, clear, clearColor);\n    }\n\n    public bind(\n        renderSurface: RenderSurface,\n        clear: CLEAR_OR_BOOL = true,\n        clearColor?: RgbaArray\n    ): RenderTarget\n    {\n        const renderTarget = this.getRenderTarget(renderSurface);\n\n        this.renderTarget = renderTarget;\n\n        const gpuRenderTarget = this.getGpuRenderTarget(renderTarget);\n\n        if (renderTarget.dirtyId !== gpuRenderTarget.dirtyId)\n        {\n            gpuRenderTarget.dirtyId = renderTarget.dirtyId;\n            this._resizeGpuRenderTarget(renderTarget);\n        }\n\n        const gl = this._gl;\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, gpuRenderTarget.framebuffer);\n\n        // unbind the current render texture..\n        renderTarget.colorTextures.forEach((texture) =>\n        {\n            this._renderer.texture.unbind(texture);\n        });\n\n        const viewport = renderTarget.viewport;\n\n        let viewPortY = viewport.y;\n\n        if (renderTarget.isRoot)\n        {\n            // /TODO this is the same logic?\n            viewPortY = this._renderer.view.canvas.height - viewport.height;\n        }\n\n        const viewPortCache = this._viewPortCache;\n\n        if (viewPortCache.x !== viewport.x\n            || viewPortCache.y !== viewPortY\n            || viewPortCache.width !== viewport.width\n            || viewPortCache.height !== viewport.height)\n        {\n            viewPortCache.x = viewport.x;\n            viewPortCache.y = viewPortY;\n            viewPortCache.width = viewport.width;\n            viewPortCache.height = viewport.height;\n\n            gl.viewport(\n                viewport.x,\n                viewPortY,\n                viewport.width,\n                viewport.height,\n            );\n        }\n\n        this.clear(clear, clearColor);\n\n        this.onRenderTargetChange.emit(renderTarget);\n\n        return renderTarget;\n    }\n\n    public clear(clear: CLEAR_OR_BOOL, clearColor?: RgbaArray)\n    {\n        if (!clear) return;\n\n        // if clear is boolean..\n        if (typeof clear === 'boolean')\n        {\n            clear = clear ? CLEAR.ALL : CLEAR.NONE;\n        }\n\n        const gl = this._gl;\n\n        if (clear & CLEAR.COLOR)\n        {\n            clearColor ??= this._defaultClearColor;\n\n            const clearColorCache = this._clearColorCache;\n            const clearColorArray = clearColor as number[];\n\n            if (clearColorCache[0] !== clearColorArray[0]\n                || clearColorCache[1] !== clearColorArray[1]\n                || clearColorCache[2] !== clearColorArray[2]\n                || clearColorCache[3] !== clearColorArray[3])\n            {\n                clearColorCache[0] = clearColorArray[0];\n                clearColorCache[1] = clearColorArray[1];\n                clearColorCache[2] = clearColorArray[2];\n                clearColorCache[3] = clearColorArray[3];\n\n                gl.clearColor(clearColorArray[0], clearColorArray[1], clearColorArray[2], clearColorArray[3]);\n            }\n        }\n\n        gl.clear(clear);\n    }\n\n    public push(\n        renderSurface: RenderSurface,\n        clear: CLEAR_OR_BOOL = true,\n        clearColor?: RgbaArray\n    )\n    {\n        const renderTarget = this.bind(renderSurface, clear, clearColor);\n\n        this._renderTargetStack.push(renderTarget);\n\n        return renderTarget;\n    }\n\n    public pop()\n    {\n        this._renderTargetStack.pop();\n\n        this.bind(this._renderTargetStack[this._renderTargetStack.length - 1], false);\n    }\n\n    public getRenderTarget(renderSurface: RenderSurface): RenderTarget\n    {\n        return this._renderSurfaceToRenderTargetHash.get(renderSurface) ?? this._initRenderTarget(renderSurface);\n    }\n\n    private _initRenderTarget(renderSurface: RenderSurface): RenderTarget\n    {\n        let renderTarget: RenderTarget = null;\n\n        if (renderSurface instanceof HTMLCanvasElement)\n        {\n            renderSurface = getCanvasTexture(renderSurface as ICanvas);\n        }\n\n        if (renderSurface instanceof RenderTarget)\n        {\n            renderTarget = renderSurface;\n        }\n        else if (renderSurface instanceof Texture)\n        {\n            renderTarget = new RenderTarget({\n                colorTextures: [renderSurface],\n            });\n\n            if (renderSurface.source.resource instanceof HTMLCanvasElement)\n            {\n                renderTarget.isRoot = true;\n            }\n\n            renderSurface.source.on('destroy', () =>\n            {\n                renderTarget.destroy();\n            });\n        }\n\n        this._renderSurfaceToRenderTargetHash.set(renderSurface, renderTarget);\n\n        return renderTarget;\n    }\n\n    public finishRenderPass(renderTarget?: RenderTarget)\n    {\n        renderTarget = renderTarget || this.renderTarget;\n\n        const glRenderTarget = this.getGpuRenderTarget(renderTarget);\n\n        if (!glRenderTarget.msaa) return;\n\n        const gl = this._renderer.gl;\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n        gl.bindFramebuffer(gl.READ_FRAMEBUFFER, glRenderTarget.framebuffer);\n\n        gl.blitFramebuffer(\n            0, 0, glRenderTarget.width, glRenderTarget.height,\n            0, 0, glRenderTarget.width, glRenderTarget.height,\n            gl.COLOR_BUFFER_BIT, gl.NEAREST,\n        );\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.framebuffer);\n\n        // dont think we need this anymore? keeping around just in case the wheels fall off\n        // gl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n    }\n\n    public copyToTexture(\n        sourceRenderSurfaceTexture: RenderTarget,\n        destinationTexture: Texture,\n        origin: { x: number; y: number; },\n        size: { width: number; height: number; }\n    )\n    {\n        const renderer = this._renderer;\n        const glRenderTarget = this.getGpuRenderTarget(sourceRenderSurfaceTexture);\n        const gl = renderer.gl;\n\n        this.finishRenderPass(sourceRenderSurfaceTexture);\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n\n        renderer.texture.bind(destinationTexture, 0);\n\n        gl.copyTexSubImage2D(gl.TEXTURE_2D, 0,\n            0, 0,\n            origin.x,\n            origin.y,\n            size.width,\n            size.height\n        );\n\n        return destinationTexture;\n    }\n\n    public getGpuRenderTarget(renderTarget: RenderTarget)\n    {\n        return this._gpuRenderTargetHash[renderTarget.uid] || this._initGpuRenderTarget(renderTarget);\n    }\n\n    private _initGpuRenderTarget(renderTarget: RenderTarget)\n    {\n        const renderer = this._renderer;\n\n        const gl = renderer.gl;\n\n        // do single...\n\n        const glRenderTarget = new GlRenderTarget();\n\n        // we are rendering to a canvas..\n        if (renderTarget.colorTexture.source.resource instanceof HTMLCanvasElement)\n        {\n            this._gpuRenderTargetHash[renderTarget.uid] = glRenderTarget;\n\n            glRenderTarget.framebuffer = null;\n\n            return glRenderTarget;\n        }\n\n        this._initColor(renderTarget, glRenderTarget);\n\n        if (renderTarget.stencil)\n        {\n            this._initStencil(glRenderTarget);\n        }\n\n        // set up a depth texture..\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        this._gpuRenderTargetHash[renderTarget.uid] = glRenderTarget;\n\n        return glRenderTarget;\n    }\n\n    private _resizeGpuRenderTarget(renderTarget: RenderTarget)\n    {\n        if (renderTarget.isRoot) return;\n\n        const glRenderTarget = this.getGpuRenderTarget(renderTarget);\n\n        this._resizeColor(renderTarget, glRenderTarget);\n\n        if (renderTarget.stencil)\n        {\n            this._resizeStencil(glRenderTarget);\n        }\n    }\n\n    private _initColor(renderTarget: RenderTarget, glRenderTarget: GlRenderTarget)\n    {\n        const renderer = this._renderer;\n\n        const gl = renderer.gl;\n        // deal with our outputs..\n        const resolveTargetFramebuffer = gl.createFramebuffer();\n\n        glRenderTarget.resolveTargetFramebuffer = resolveTargetFramebuffer;\n\n        // set up the texture..\n        gl.bindFramebuffer(gl.FRAMEBUFFER, resolveTargetFramebuffer);\n\n        glRenderTarget.width = renderTarget.colorTexture.source.pixelWidth;\n        glRenderTarget.height = renderTarget.colorTexture.source.pixelHeight;\n\n        renderTarget.colorTextures.forEach((colorTexture, i) =>\n        {\n            const source = colorTexture.source;\n\n            if (source.antialias)\n            {\n                glRenderTarget.msaa = true;\n            }\n\n            // TODO bindSource could return the glTexture\n            renderer.texture.bindSource(source, 0);\n            const glSource = renderer.texture.getGlSource(source);\n\n            const glTexture = glSource.texture;\n\n            gl.framebufferTexture2D(gl.FRAMEBUFFER,\n                gl.COLOR_ATTACHMENT0 + i,\n                3553, // texture.target,\n                glTexture,\n                0);// mipLevel);\n        });\n\n        if (glRenderTarget.msaa)\n        {\n            const viewFramebuffer = gl.createFramebuffer();\n\n            glRenderTarget.framebuffer = viewFramebuffer;\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n\n            renderTarget.colorTextures.forEach((_, i) =>\n            {\n                const msaaRenderBuffer = gl.createRenderbuffer();\n\n                glRenderTarget.msaaRenderBuffer[i] = msaaRenderBuffer;\n            });\n        }\n        else\n        {\n            glRenderTarget.framebuffer = resolveTargetFramebuffer;\n        }\n    }\n\n    private _resizeColor(renderTarget: RenderTarget, glRenderTarget: GlRenderTarget)\n    {\n        const source = renderTarget.colorTexture.source;\n\n        glRenderTarget.width = source.pixelWidth;\n        glRenderTarget.height = source.pixelHeight;\n\n        renderTarget.colorTextures.forEach((colorTexture, i) =>\n        {\n            // nno need to resize the first texture..\n            if (i === 0) return;\n\n            colorTexture.source.resize(source.width, source.height, source._resolution);\n        });\n\n        if (glRenderTarget.msaa)\n        {\n            const renderer = this._renderer;\n            const gl = renderer.gl;\n\n            const viewFramebuffer = glRenderTarget.framebuffer;\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n\n            renderTarget.colorTextures.forEach((colorTexture, i) =>\n            {\n                const source = colorTexture.source;\n\n                renderer.texture.bindSource(source, 0);\n                const glSource = renderer.texture.getGlSource(source);\n\n                const glInternalFormat = glSource.internalFormat;\n\n                const msaaRenderBuffer = glRenderTarget.msaaRenderBuffer[i];\n\n                gl.bindRenderbuffer(\n                    gl.RENDERBUFFER,\n                    msaaRenderBuffer\n                );\n\n                gl.renderbufferStorageMultisample(\n                    gl.RENDERBUFFER,\n                    4,\n                    glInternalFormat,\n                    source.pixelWidth,\n                    source.pixelHeight\n                );\n\n                gl.framebufferRenderbuffer(\n                    gl.FRAMEBUFFER,\n                    gl.COLOR_ATTACHMENT0 + i,\n                    gl.RENDERBUFFER,\n                    msaaRenderBuffer\n                );\n            });\n        }\n    }\n\n    private _initStencil(glRenderTarget: GlRenderTarget)\n    {\n        const gl = this._renderer.gl;\n\n        const depthStencilRenderBuffer = gl.createRenderbuffer();\n\n        glRenderTarget.depthStencilRenderBuffer = depthStencilRenderBuffer;\n\n        gl.bindRenderbuffer(\n            gl.RENDERBUFFER,\n            depthStencilRenderBuffer\n        );\n\n        gl.framebufferRenderbuffer(\n            gl.FRAMEBUFFER,\n            gl.DEPTH_STENCIL_ATTACHMENT,\n            gl.RENDERBUFFER,\n            depthStencilRenderBuffer\n        );\n    }\n\n    private _resizeStencil(glRenderTarget: GlRenderTarget)\n    {\n        const gl = this._renderer.gl;\n\n        gl.bindRenderbuffer(\n            gl.RENDERBUFFER,\n            glRenderTarget.depthStencilRenderBuffer\n        );\n\n        if (glRenderTarget.msaa)\n        {\n            gl.renderbufferStorageMultisample(\n                gl.RENDERBUFFER,\n                4,\n                gl.DEPTH24_STENCIL8,\n                glRenderTarget.width,\n                glRenderTarget.height\n            );\n        }\n        else\n        {\n            gl.renderbufferStorage(\n                gl.RENDERBUFFER,\n                gl.DEPTH24_STENCIL8,\n                glRenderTarget.width,\n                glRenderTarget.height\n            );\n        }\n    }\n\n    public destroy?: () => void;\n}\n","import { STENCIL_MODES } from '../../shared/state/const';\n\nexport const GpuStencilModesToPixi: GPUDepthStencilState[] = [];\n\nGpuStencilModesToPixi[STENCIL_MODES.NONE] = undefined;\n\nGpuStencilModesToPixi[STENCIL_MODES.DISABLED] = {\n    format: 'stencil8',\n    depthCompare: 'always',\n    depthWriteEnabled: false,\n    stencilWriteMask: 0,\n    stencilReadMask: 0,\n    stencilBack: {\n        compare: 'always',\n        passOp: 'keep',\n    },\n};\n\nGpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_ADD] = {\n    format: 'stencil8',\n    depthCompare: 'always',\n    depthWriteEnabled: false,\n    stencilBack: {\n        compare: 'always',\n        passOp: 'increment-clamp',\n    },\n};\n\nGpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_ADD] = {\n    format: 'stencil8',\n    depthCompare: 'always',\n    depthWriteEnabled: false,\n    stencilBack: {\n        compare: 'always',\n        passOp: 'increment-clamp',\n    },\n};\n\nGpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_REMOVE] = {\n    format: 'stencil8',\n    depthCompare: 'always',\n    depthWriteEnabled: false,\n    stencilBack: {\n        compare: 'always',\n        passOp: 'decrement-clamp',\n    },\n};\n\nGpuStencilModesToPixi[STENCIL_MODES.MASK_ACTIVE] = {\n    format: 'stencil8',\n    depthCompare: 'always',\n    depthWriteEnabled: false,\n    stencilWriteMask: 0,\n    stencilBack: {\n        compare: 'equal',\n        passOp: 'keep',\n    },\n};\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { GpuStencilModesToPixi } from '../gpu/state/GpuStencilModesToPixi';\nimport { STENCIL_MODES } from '../shared/state/const';\n\nimport type { RenderTarget } from '../shared/renderTarget/RenderTarget';\nimport type { System } from '../shared/system/System';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nexport class GlStencilSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'stencil',\n    } as const;\n\n    private _gl: WebGLRenderingContext;\n\n    private readonly _stencilCache = {\n        enabled: false,\n        stencilReference: 0,\n        stencilMode: STENCIL_MODES.NONE,\n    };\n\n    private _renderTargetStencilState: Record<number, {\n        stencilMode: STENCIL_MODES;\n        stencilReference: number;\n    }> = Object.create(null);\n\n    private _stencilOpsMapping: {\n        keep: number;\n        zero: number;\n        replace: number;\n        invert: number;\n        'increment-clamp': number;\n        'decrement-clamp': number;\n        'increment-wrap': number;\n        'decrement-wrap': number;\n    };\n\n    private _comparisonFuncMapping: {\n        always: number;\n        never: number;\n        equal: number;\n        'not-equal': number;\n        less: number;\n        'less-equal': number;\n        greater: number;\n        'greater-equal': number;\n    };\n\n    private _activeRenderTarget: RenderTarget;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        renderer.renderTarget.onRenderTargetChange.add(this);\n    }\n\n    protected contextChange(gl: WebGLRenderingContext)\n    {\n        // TODO - this could be declared in a gl const\n        // we know the numbers don't tend to change!\n        this._gl = gl;\n\n        this._comparisonFuncMapping = {\n            always: gl.ALWAYS,\n            never: gl.NEVER,\n            equal: gl.EQUAL,\n            'not-equal': gl.NOTEQUAL,\n            less: gl.LESS,\n            'less-equal': gl.LEQUAL,\n            greater: gl.GREATER,\n            'greater-equal': gl.GEQUAL,\n        };\n\n        this._stencilOpsMapping = {\n            keep: gl.KEEP,\n            zero: gl.ZERO,\n            replace: gl.REPLACE,\n            invert: gl.INVERT,\n            'increment-clamp': gl.INCR,\n            'decrement-clamp': gl.DECR,\n            'increment-wrap': gl.INCR_WRAP,\n            'decrement-wrap': gl.DECR_WRAP,\n        };\n    }\n\n    protected onRenderTargetChange(renderTarget: RenderTarget)\n    {\n        if (this._activeRenderTarget === renderTarget) return;\n\n        this._activeRenderTarget = renderTarget;\n\n        let stencilState = this._renderTargetStencilState[renderTarget.uid];\n\n        if (!stencilState)\n        {\n            stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n                stencilMode: STENCIL_MODES.DISABLED,\n                stencilReference: 0,\n            };\n        }\n\n        // restore the current render targets stencil state..\n        this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n    }\n\n    public setStencilMode(stencilMode: STENCIL_MODES, stencilReference: number)\n    {\n        const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n\n        const gl = this._gl;\n        const mode = GpuStencilModesToPixi[stencilMode];\n\n        const _stencilCache = this._stencilCache;\n\n        // store the stencil state for restoration later, if a render target changes\n        stencilState.stencilMode = stencilMode;\n        stencilState.stencilReference = stencilReference;\n\n        if (stencilMode === STENCIL_MODES.DISABLED)\n        {\n            if (this._stencilCache.enabled)\n            {\n                this._stencilCache.enabled = false;\n\n                gl.disable(gl.STENCIL_TEST);\n            }\n\n            return;\n        }\n\n        if (!this._stencilCache.enabled)\n        {\n            this._stencilCache.enabled = true;\n            gl.enable(gl.STENCIL_TEST);\n        }\n\n        if (stencilMode !== _stencilCache.stencilMode || _stencilCache.stencilReference !== stencilReference)\n        {\n            _stencilCache.stencilMode = stencilMode;\n            _stencilCache.stencilReference = stencilReference;\n\n            // this is pretty simple mapping.\n            // will work for pixi's simple mask cases.\n            // although a true mapping of the GPU state to webGL state should be done\n            gl.stencilFunc(this._comparisonFuncMapping[mode.stencilBack.compare], stencilReference, 0xFF);\n            gl.stencilOp(gl.KEEP, gl.KEEP, this._stencilOpsMapping[mode.stencilBack.passOp]);\n        }\n    }\n\n    public destroy?: () => void;\n}\n","/**\n * @private\n */\nexport class IGLUniformData\n{\n    public location: WebGLUniformLocation;\n    public value: number | boolean | Float32Array | Int32Array | Uint32Array | boolean[];\n}\n\n/** Helper class to create a WebGL Program */\nexport class GlProgramData\n{\n    /** The shader program. */\n    public program: WebGLProgram;\n\n    /**\n     * Holds the uniform data which contains uniform locations\n     * and current uniform values used for caching and preventing unneeded GPU commands.\n     */\n    public uniformData: Record<string, any>;\n\n    /**\n     * UniformGroups holds the various upload functions for the shader. Each uniform group\n     * and program have a unique upload function generated.\n     */\n    public uniformGroups: Record<string, any>;\n\n    /** A hash that stores where UBOs are bound to on the program. */\n    public uniformBlockBindings: Record<string, any>;\n\n    /** A hash for lazily-generated uniform uploading functions. */\n    public uniformSync: Record<string, any>;\n\n    /**\n     * A place where dirty ticks are stored for groups\n     * If a tick here does not match with the Higher level Programs tick, it means\n     * we should re upload the data.\n     */\n    public uniformDirtyGroups: Record<string, any>;\n\n    /**\n     * Makes a new Pixi program.\n     * @param program - webgl program\n     * @param uniformData - uniforms\n     */\n    constructor(program: WebGLProgram, uniformData: {[key: string]: IGLUniformData})\n    {\n        this.program = program;\n        this.uniformData = uniformData;\n        this.uniformGroups = {};\n        this.uniformDirtyGroups = {};\n        this.uniformBlockBindings = {};\n    }\n\n    /** Destroys this program. */\n    public destroy(): void\n    {\n        this.uniformData = null;\n        this.uniformGroups = null;\n        this.uniformDirtyGroups = null;\n        this.uniformBlockBindings = null;\n        this.program = null;\n    }\n}\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { BindResource } from '../../gpu/shader/BindResource';\nimport type { Buffer } from './Buffer';\n\nexport class BufferResource extends EventEmitter<{\n    'change': BindResource,\n}> implements BindResource\n{\n    public readonly uid = uid('buffer');\n    public touched = 0;\n\n    public resourceType = 'bufferResource';\n\n    // this really means ths the buffer resource cannot be updated!\n    public resourceId = uid('buffer');\n\n    public buffer: Buffer;\n    public readonly offset: number;\n    public readonly size: number;\n    public readonly bufferResource = true;\n\n    constructor({ buffer, offset, size }: { buffer: Buffer; offset: number; size?: number; })\n    {\n        super();\n\n        this.buffer = buffer;\n        this.offset = offset;\n        this.size = size;\n\n        this.buffer.on('change', this.onBufferChange, this);\n    }\n\n    protected onBufferChange(): void\n    {\n        this.resourceId = uid('buffer');\n\n        this.emit('change', this);\n    }\n\n    public destroy(destroyBuffer = false): void\n    {\n        if (destroyBuffer)\n        {\n            this.buffer.destroy();\n        }\n\n        this.buffer = null;\n    }\n}\n","/**\n * @private\n * @param {WebGLRenderingContext} gl - The current WebGL context {WebGLProgram}\n * @param {number} type - the type, can be either VERTEX_SHADER or FRAGMENT_SHADER\n * @param {string} src - The vertex shader source as an array of strings.\n * @returns {WebGLShader} the shader\n */\nexport function compileShader(gl: WebGLRenderingContextBase, type: number, src: string): WebGLShader\n{\n    const shader = gl.createShader(type);\n\n    gl.shaderSource(shader, src);\n    gl.compileShader(shader);\n\n    return shader;\n}\n","function booleanArray(size: number): Array<boolean>\n{\n    const array = new Array(size);\n\n    for (let i = 0; i < array.length; i++)\n    {\n        array[i] = false;\n    }\n\n    return array;\n}\n\n/**\n * @method defaultValue\n * @param {string} type - Type of value\n * @param {number} size\n * @private\n */\nexport function defaultValue(\n    type: string,\n    size: number\n): number | Float32Array | Int32Array | Uint32Array | boolean | boolean[]\n{\n    switch (type)\n    {\n        case 'float':\n            return 0;\n\n        case 'vec2':\n            return new Float32Array(2 * size);\n\n        case 'vec3':\n            return new Float32Array(3 * size);\n\n        case 'vec4':\n            return new Float32Array(4 * size);\n\n        case 'int':\n        case 'uint':\n        case 'sampler2D':\n        case 'sampler2DArray':\n            return 0;\n\n        case 'ivec2':\n            return new Int32Array(2 * size);\n\n        case 'ivec3':\n            return new Int32Array(3 * size);\n\n        case 'ivec4':\n            return new Int32Array(4 * size);\n\n        case 'uvec2':\n            return new Uint32Array(2 * size);\n\n        case 'uvec3':\n            return new Uint32Array(3 * size);\n\n        case 'uvec4':\n            return new Uint32Array(4 * size);\n\n        case 'bool':\n            return false;\n\n        case 'bvec2':\n\n            return booleanArray(2 * size);\n\n        case 'bvec3':\n            return booleanArray(3 * size);\n\n        case 'bvec4':\n            return booleanArray(4 * size);\n\n        case 'mat2':\n            return new Float32Array([1, 0,\n                0, 1]);\n\n        case 'mat3':\n            return new Float32Array([1, 0, 0,\n                0, 1, 0,\n                0, 0, 1]);\n\n        case 'mat4':\n            return new Float32Array([1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1]);\n    }\n\n    return null;\n}\n","import type { Dict } from '../../../../../utils/types';\n\nconst GLSL_TO_SIZE: Dict<number> = {\n    float:    1,\n    vec2:     2,\n    vec3:     3,\n    vec4:     4,\n\n    int:      1,\n    ivec2:    2,\n    ivec3:    3,\n    ivec4:    4,\n\n    uint:     1,\n    uvec2:    2,\n    uvec3:    3,\n    uvec4:    4,\n\n    bool:     1,\n    bvec2:    2,\n    bvec3:    3,\n    bvec4:    4,\n\n    mat2:     4,\n    mat3:     9,\n    mat4:     16,\n\n    sampler2D:  1,\n};\n\n/**\n * @private\n * @method mapSize\n * @param {string} type\n */\nexport function mapSize(type: string): number\n{\n    return GLSL_TO_SIZE[type];\n}\n","import type { Dict } from '../../../../../utils/types';\n\nlet GL_TABLE: Dict<string> = null;\n\nconst GL_TO_GLSL_TYPES: Dict<string> = {\n    FLOAT:       'float',\n    FLOAT_VEC2:  'vec2',\n    FLOAT_VEC3:  'vec3',\n    FLOAT_VEC4:  'vec4',\n\n    INT:         'int',\n    INT_VEC2:    'ivec2',\n    INT_VEC3:    'ivec3',\n    INT_VEC4:    'ivec4',\n\n    UNSIGNED_INT:         'uint',\n    UNSIGNED_INT_VEC2:    'uvec2',\n    UNSIGNED_INT_VEC3:    'uvec3',\n    UNSIGNED_INT_VEC4:    'uvec4',\n\n    BOOL:        'bool',\n    BOOL_VEC2:   'bvec2',\n    BOOL_VEC3:   'bvec3',\n    BOOL_VEC4:   'bvec4',\n\n    FLOAT_MAT2:  'mat2',\n    FLOAT_MAT3:  'mat3',\n    FLOAT_MAT4:  'mat4',\n\n    SAMPLER_2D:              'sampler2D',\n    INT_SAMPLER_2D:          'sampler2D',\n    UNSIGNED_INT_SAMPLER_2D: 'sampler2D',\n    SAMPLER_CUBE:              'samplerCube',\n    INT_SAMPLER_CUBE:          'samplerCube',\n    UNSIGNED_INT_SAMPLER_CUBE: 'samplerCube',\n    SAMPLER_2D_ARRAY:              'sampler2DArray',\n    INT_SAMPLER_2D_ARRAY:          'sampler2DArray',\n    UNSIGNED_INT_SAMPLER_2D_ARRAY: 'sampler2DArray',\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function mapType(gl: any, type: number): string\n{\n    if (!GL_TABLE)\n    {\n        const typeNames = Object.keys(GL_TO_GLSL_TYPES);\n\n        GL_TABLE = {};\n\n        for (let i = 0; i < typeNames.length; ++i)\n        {\n            const tn = typeNames[i];\n\n            GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n        }\n    }\n\n    return GL_TABLE[type];\n}\n","import { mapSize } from './mapSize';\nimport { mapType } from './mapType';\n\nimport type { IAttributeData } from '../GlProgram';\n\n/**\n * returns the attribute data from the program\n * @private\n * @param {WebGLProgram} [program] - the WebGL program\n * @param {WebGLRenderingContext} [gl] - the WebGL context\n * @returns {object} the attribute data for this program\n */\nexport function getAttributeData(program: WebGLProgram, gl: WebGLRenderingContextBase): Record<string, IAttributeData>\n{\n    const attributes: {[key: string]: IAttributeData} = {};\n\n    const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let i = 0; i < totalAttributes; i++)\n    {\n        const attribData = gl.getActiveAttrib(program, i);\n\n        if (attribData.name.startsWith('gl_'))\n        {\n            continue;\n        }\n\n        const type = mapType(gl, attribData.type);\n        const data = {\n            type,\n            name: attribData.name,\n            size: mapSize(type),\n            location: gl.getAttribLocation(program, attribData.name),\n        };\n\n        attributes[attribData.name] = data;\n    }\n\n    return attributes;\n}\n","import type { IUniformBlockData } from '../GlProgram';\n\n/**\n * returns the uniform block data from the program\n * @private\n * @param program - the webgl program\n * @param gl - the WebGL context\n * @returns {object} the uniform data for this program\n */\nexport function getUniformBufferData(program: WebGLProgram, gl: WebGL2RenderingContext): Record<string, IUniformBlockData>\n{\n    const uniformBlocks: Record<string, IUniformBlockData> = {};\n\n    // const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    const totalUniformsBlocks = gl.getProgramParameter(program, gl.ACTIVE_UNIFORM_BLOCKS);\n\n    for (let i = 0; i < totalUniformsBlocks; i++)\n    {\n        const name = gl.getActiveUniformBlockName(program, i);\n        const uniformBlockIndex = gl.getUniformBlockIndex(program, name);\n\n        const size = gl.getActiveUniformBlockParameter(program, i, gl.UNIFORM_BLOCK_DATA_SIZE);\n\n        uniformBlocks[name] = {\n            name,\n            index: uniformBlockIndex,\n            size,\n        };\n    }\n\n    return uniformBlocks;\n}\n","import { defaultValue } from './defaultValue';\nimport { mapType } from './mapType';\n\nimport type { IUniformData } from '../GlProgram';\n\n/**\n * returns the uniform data from the program\n * @private\n * @param program - the webgl program\n * @param gl - the WebGL context\n * @returns {object} the uniform data for this program\n */\nexport function getUniformData(program: WebGLProgram, gl: WebGLRenderingContextBase): {[key: string]: IUniformData}\n{\n    const uniforms: {[key: string]: IUniformData} = {};\n\n    const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (let i = 0; i < totalUniforms; i++)\n    {\n        const uniformData = gl.getActiveUniform(program, i);\n        const name = uniformData.name.replace(/\\[.*?\\]$/, '');\n\n        const isArray = !!(uniformData.name.match(/\\[.*?\\]$/));\n\n        const type = mapType(gl, uniformData.type);\n\n        uniforms[name] = {\n            name,\n            index: i,\n            type,\n            size: uniformData.size,\n            isArray,\n            value: defaultValue(type, uniformData.size),\n        };\n    }\n\n    return uniforms;\n}\n","/**\n * will log a shader error highlighting the lines with the error\n * also will add numbers along the side.\n * @param gl - the WebGLContext\n * @param shader - the shader to log errors for\n */\nfunction logPrettyShaderError(gl: WebGLRenderingContext, shader: WebGLShader): void\n{\n    const shaderSrc = gl.getShaderSource(shader)\n        .split('\\n')\n        .map((line, index) => `${index}: ${line}`);\n\n    const shaderLog = gl.getShaderInfoLog(shader);\n    const splitShader = shaderLog.split('\\n');\n\n    const dedupe: Record<number, boolean> = {};\n\n    const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\\: 0\\:([\\d]+)\\:.*$/, '$1')))\n        .filter((n) =>\n        {\n            if (n && !dedupe[n])\n            {\n                dedupe[n] = true;\n\n                return true;\n            }\n\n            return false;\n        });\n\n    const logArgs = [''];\n\n    lineNumbers.forEach((number) =>\n    {\n        shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;\n        logArgs.push('background: #FF0000; color:#FFFFFF; font-size: 10px', 'font-size: 10px');\n    });\n\n    const fragmentSourceToLog = shaderSrc\n        .join('\\n');\n\n    logArgs[0] = fragmentSourceToLog;\n\n    console.error(shaderLog);\n\n    // eslint-disable-next-line no-console\n    console.groupCollapsed('click to view full shader code');\n    console.warn(...logArgs);\n    // eslint-disable-next-line no-console\n    console.groupEnd();\n}\n\n/**\n *\n * logs out any program errors\n * @param gl - The current WebGL context\n * @param program - the WebGL program to display errors for\n * @param vertexShader  - the fragment WebGL shader program\n * @param fragmentShader - the vertex WebGL shader program\n */\nexport function logProgramError(\n    gl: WebGLRenderingContext,\n    program: WebGLProgram,\n    vertexShader: WebGLShader,\n    fragmentShader: WebGLShader\n): void\n{\n    // if linking fails, then log and cleanup\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n    {\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS))\n        {\n            logPrettyShaderError(gl, vertexShader);\n        }\n\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS))\n        {\n            logPrettyShaderError(gl, fragmentShader);\n        }\n\n        console.error('PixiJS Error: Could not initialize shader.');\n\n        // if there is a program info log, log it\n        if (gl.getProgramInfoLog(program) !== '')\n        {\n            console.warn('PixiJS Warning: gl.getProgramInfoLog()', gl.getProgramInfoLog(program));\n        }\n    }\n}\n","import { warn } from '../../../../../utils/logging/warn';\nimport { GlProgramData } from '../GlProgramData';\nimport { compileShader } from './compileShader';\nimport { defaultValue } from './defaultValue';\nimport { getAttributeData } from './getAttributeData';\nimport { getUniformBufferData } from './getUniformBufferData';\nimport { getUniformData } from './getUniformData';\nimport { logProgramError } from './logProgramError';\n\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlProgram } from '../GlProgram';\nimport type { IGLUniformData } from '../GlProgramData';\n\n/**\n * generates a WebGL Program object from a high level Pixi Program.\n * @param gl - a rendering context on which to generate the program\n * @param program - the high level Pixi Program.\n */\nexport function generateProgram(gl: GlRenderingContext, program: GlProgram): GlProgramData\n{\n    const glVertShader = compileShader(gl, gl.VERTEX_SHADER, program.vertex);\n    const glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, program.fragment);\n\n    const webGLProgram = gl.createProgram();\n\n    gl.attachShader(webGLProgram, glVertShader);\n    gl.attachShader(webGLProgram, glFragShader);\n\n    const transformFeedbackVaryings = program.transformFeedbackVaryings;\n\n    if (transformFeedbackVaryings)\n    {\n        if (typeof gl.transformFeedbackVaryings !== 'function')\n        {\n            // #if _DEBUG\n            warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);\n            // #endif\n        }\n        else\n        {\n            gl.transformFeedbackVaryings(\n                webGLProgram,\n                transformFeedbackVaryings.names,\n                transformFeedbackVaryings.bufferMode === 'separate'\n                    ? gl.SEPARATE_ATTRIBS\n                    : gl.INTERLEAVED_ATTRIBS\n            );\n        }\n    }\n\n    gl.linkProgram(webGLProgram);\n\n    if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS))\n    {\n        logProgramError(gl, webGLProgram, glVertShader, glFragShader);\n    }\n\n    program.attributeData = getAttributeData(webGLProgram, gl);\n    program.uniformData = getUniformData(webGLProgram, gl);\n    program.uniformBlockData = getUniformBufferData(webGLProgram, gl);\n\n    gl.deleteShader(glVertShader);\n    gl.deleteShader(glFragShader);\n\n    const uniformData: {[key: string]: IGLUniformData} = {};\n\n    for (const i in program.uniformData)\n    {\n        const data = program.uniformData[i];\n\n        uniformData[i] = {\n            location: gl.getUniformLocation(webGLProgram, i),\n            value: defaultValue(data.type, data.size),\n        };\n    }\n\n    const glProgram = new GlProgramData(webGLProgram, uniformData);\n\n    return glProgram;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { BufferResource } from '../../shared/buffer/BufferResource';\nimport { UniformGroup } from '../../shared/shader/UniformGroup';\nimport { TextureSource } from '../../shared/texture/sources/TextureSource';\nimport { TextureStyle } from '../../shared/texture/TextureStyle';\nimport { generateProgram } from './program/generateProgram';\n\nimport type { Shader } from '../../shared/shader/Shader';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\nimport type { WebGLRenderer } from '../WebGLRenderer';\nimport type { GlProgram } from './GlProgram';\nimport type { GlProgramData } from './GlProgramData';\n\n// default sync data so we don't create a new one each time!\nconst defaultSyncData = {\n    textureCount: 0,\n    blockIndex: 0,\n};\n\nexport class GlShaderSystem\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'shader',\n    } as const;\n\n    public activeProgram: GlProgram = null;\n\n    private _programDataHash: Record<string, GlProgramData> = Object.create(null);\n    private readonly _renderer: WebGLRenderer;\n    private _gl: WebGL2RenderingContext;\n    private _maxBindings: number;\n    private _nextIndex = 0;\n    private _boundUniformsIdsToIndexHash: Record<number, number> = Object.create(null);\n    private _boundIndexToUniformsHash: Record<number, UniformGroup | BufferResource> = Object.create(null);\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gl: GlRenderingContext): void\n    {\n        this._gl = gl;\n\n        this._maxBindings = gl.getParameter(gl.MAX_UNIFORM_BUFFER_BINDINGS);\n    }\n\n    public bind(shader: Shader, skipSync?: boolean): void\n    {\n        this._setProgram(shader.glProgram);\n\n        if (skipSync) return;\n\n        defaultSyncData.textureCount = 0;\n        defaultSyncData.blockIndex = 0;\n\n        const gl = this._gl;\n\n        const programData = this.getProgramData(shader.glProgram);\n\n        // loop through the groups and sync everything...\n        for (const i in shader.groups)\n        {\n            const bindGroup = shader.groups[i];\n\n            for (const j in bindGroup.resources)\n            {\n                const resource = bindGroup.resources[j];\n\n                if (resource instanceof UniformGroup)\n                {\n                    if (resource.ubo)\n                    {\n                        this.bindUniformBlock(\n                            resource,\n                            shader.uniformBindMap[i as unknown as number][j as unknown as number],\n                            defaultSyncData.blockIndex++\n                        );\n                    }\n                    else\n                    {\n                        this._updateUniformGroup(resource);\n                    }\n                }\n                else if (resource instanceof BufferResource)\n                {\n                    this.bindUniformBlock(\n                        resource,\n                        shader.uniformBindMap[i as unknown as number][j as unknown as number],\n                        defaultSyncData.blockIndex++\n                    );\n                }\n                else if (resource instanceof TextureSource)\n                {\n                    // TODO really we should not be binding the sampler here too\n                    this._renderer.texture.bind(resource, defaultSyncData.textureCount);\n\n                    const uniformName = shader.uniformBindMap[i as unknown as number][j as unknown as number];\n\n                    const uniformData = programData.uniformData[uniformName];\n\n                    if (uniformData)\n                    {\n                        if (uniformData.value !== defaultSyncData.textureCount)\n                        {\n                            gl.uniform1i(uniformData.location, defaultSyncData.textureCount);\n                        }\n\n                        defaultSyncData.textureCount++;\n                    }\n                }\n                else if (resource instanceof TextureStyle)\n                {\n                    // TODO not doing anything here works is assuming that textures are bound with the style they own.\n                    // this.renderer.texture.bindSampler(resource, defaultSyncData.textureCount);\n                }\n            }\n        }\n    }\n\n    private _updateUniformGroup(uniformGroup: UniformGroup): void\n    {\n        this._renderer.uniformGroup.updateUniformGroup(uniformGroup, this.activeProgram, defaultSyncData);\n    }\n\n    public bindUniformBlock(uniformGroup: UniformGroup | BufferResource, name: string, index = 0): void\n    {\n        const bufferSystem = this._renderer.buffer;\n        const programData = this.getProgramData(this.activeProgram);\n\n        const isBufferResource = (uniformGroup as BufferResource).bufferResource;\n\n        if (isBufferResource)\n        {\n            this._renderer.uniformBuffer.updateUniformGroup(uniformGroup as UniformGroup);\n        }\n\n        bufferSystem.updateBuffer(uniformGroup.buffer);\n\n        let boundIndex = this._boundUniformsIdsToIndexHash[uniformGroup.uid];\n\n        // check if it is already bound..\n        if (boundIndex === undefined)\n        {\n            const nextIndex = this._nextIndex++ % this._maxBindings;\n\n            const currentBoundUniformGroup = this._boundIndexToUniformsHash[nextIndex];\n\n            if (currentBoundUniformGroup)\n            {\n                this._boundUniformsIdsToIndexHash[currentBoundUniformGroup.uid] = undefined;\n            }\n\n            // find a free slot..\n            boundIndex = this._boundUniformsIdsToIndexHash[uniformGroup.uid] = nextIndex;\n            this._boundIndexToUniformsHash[nextIndex] = uniformGroup;\n\n            if (isBufferResource)\n            {\n                bufferSystem.bindBufferRange(uniformGroup.buffer, nextIndex, (uniformGroup as BufferResource).offset);\n            }\n            else\n            {\n                bufferSystem.bindBufferBase(uniformGroup.buffer, nextIndex);\n            }\n        }\n\n        const gl = this._gl;\n\n        const uniformBlockIndex = this.activeProgram.uniformBlockData[name].index;\n\n        if (programData.uniformBlockBindings[index] === boundIndex) return;\n        programData.uniformBlockBindings[index] = boundIndex;\n\n        gl.uniformBlockBinding(programData.program, uniformBlockIndex, boundIndex);\n    }\n\n    private _setProgram(program: GlProgram)\n    {\n        if (this.activeProgram === program) return;\n\n        this.activeProgram = program;\n\n        const programData = this.getProgramData(program);\n\n        this._gl.useProgram(programData.program);\n    }\n\n    public getProgramData(program: GlProgram): GlProgramData\n    {\n        return this._programDataHash[program.key] || this._createProgramData(program);\n    }\n\n    private _createProgramData(program: GlProgram): GlProgramData\n    {\n        const key = program.key;\n\n        this._programDataHash[key] = generateProgram(this._gl, program);\n\n        return this._programDataHash[key];\n    }\n\n    public destroy(): void\n    {\n        for (const key of Object.keys(this._programDataHash))\n        {\n            const programData = this._programDataHash[key];\n\n            programData.destroy();\n            this._programDataHash[key] = null;\n        }\n\n        this._programDataHash = null;\n        this._boundUniformsIdsToIndexHash = null;\n    }\n}\n","// Cache the result to prevent running this over and over\nlet unsafeEval: boolean;\n\n/**\n * Not all platforms allow to generate function code (e.g., `new Function`).\n * this provides the platform-level detection.\n * @private\n * @returns {boolean} `true` if `new Function` is supported.\n */\nexport function unsafeEvalSupported(): boolean\n{\n    if (typeof unsafeEval === 'boolean')\n    {\n        return unsafeEval;\n    }\n\n    try\n    {\n        /* eslint-disable no-new-func */\n        const func = new Function('param1', 'param2', 'param3', 'return param1[param2] === param3;');\n        /* eslint-enable no-new-func */\n\n        unsafeEval = func({ a: 'b' }, 'a', 'b') === true;\n    }\n    catch (e)\n    {\n        unsafeEval = false;\n    }\n\n    return unsafeEval;\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n// Parsers, each one of these will take a look at the type of shader property and uniform.\n// if they pass the test function then the code function is called that returns a the shader upload code for that uniform.\n// Shader upload code is automagically generated with these parsers.\n// If no parser is valid then the default upload functions are used.\n// exposing Parsers means that custom upload logic can be added to pixi's shaders.\n// A good example would be a pixi rectangle can be directly set on a uniform.\n// If the shader sees it it knows how to upload the rectangle structure as a vec4\n// format is as follows:\n//\n// {\n//     test: (data, uniform) => {} <--- test is this code should be used for this uniform\n//     code: (name, uniform) => {} <--- returns the string of the piece of code that uploads the uniform\n//     codeUbo: (name, uniform) => {} <--- returns the string of the piece of code that uploads the\n//                                         uniform to a uniform buffer\n// }\n\nimport { Texture } from '../../../shared/texture/Texture';\n\nexport interface IUniformParser\n{\n    test(data: unknown, uniform: any): boolean;\n    code(name: string, uniform: any): string;\n}\n\nexport const uniformParsers: IUniformParser[] = [\n\n    // a float cache layer\n    {\n        test: (data: any): boolean =>\n            data.type === 'float' && data.size === 1 && !data.isArray,\n        code: (name: string): string =>\n            `\n            if(uv[\"${name}\"] !== ud[\"${name}\"].value)\n            {\n                ud[\"${name}\"].value = uv[\"${name}\"]\n                gl.uniform1f(ud[\"${name}\"].location, uv[\"${name}\"])\n            }\n            `,\n    },\n    // handling samplers\n    {\n        test: (data: any, uniform: any): boolean =>\n            // eslint-disable-next-line max-len,no-eq-null,eqeqeq\n            (data.type === 'sampler2D' || data.type === 'samplerCube' || data.type === 'sampler2DArray') && data.size === 1 && !data.isArray && (uniform == null || uniform instanceof Texture),\n        code: (name: string): string => `t = syncData.textureCount++;\n\n            renderer.texture.bind(uv[\"${name}\"], t);\n\n            if(ud[\"${name}\"].value !== t)\n            {\n                ud[\"${name}\"].value = t;\n                gl.uniform1i(ud[\"${name}\"].location, t);\\n; // eslint-disable-line max-len\n            }`,\n    },\n    // uploading pixi matrix object to mat3\n    {\n        test: (data: any, uniform: any): boolean =>\n            data.type === 'mat3' && data.size === 1 && !data.isArray && uniform.a !== undefined,\n        code: (name: string): string =>\n\n            // TODO and some smart caching dirty ids here!\n            `\n            gl.uniformMatrix3fv(ud[\"${name}\"].location, false, uv[\"${name}\"].toArray(true));\n            `,\n    },\n    // uploading a pixi point as a vec2 with caching layer\n    {\n        test: (data: any, uniform: any): boolean =>\n            data.type === 'vec2' && data.size === 1 && !data.isArray && uniform.x !== undefined,\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud[\"${name}\"].location, v.x, v.y);\n                }`,\n\n    },\n    // caching layer for a vec2\n    {\n        test: (data: any): boolean =>\n            data.type === 'vec2' && data.size === 1 && !data.isArray,\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud[\"${name}\"].location, v[0], v[1]);\n                }\n            `,\n    },\n    // upload a pixi rectangle as a vec4 with caching layer\n    {\n        test: (data: any, uniform: any): boolean =>\n            data.type === 'vec4' && data.size === 1 && !data.isArray && uniform.width !== undefined,\n\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud[\"${name}\"].location, v.x, v.y, v.width, v.height)\n                }`,\n    },\n    // upload a pixi color as vec4 with caching layer\n    {\n        test: (data: any, uniform: any): boolean =>\n            data.type === 'vec4' && data.size === 1 && !data.isArray && uniform.red !== undefined,\n\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud[\"${name}\"].location, v.red, v.green, v.blue, v.alpha)\n                }`,\n    },\n    // upload a pixi color as a vec3 with caching layer\n    {\n        test: (data: any, uniform: any): boolean =>\n            data.type === 'vec3' && data.size === 1 && !data.isArray && uniform.red !== undefined,\n\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud[\"${name}\"].location, v.red, v.green, v.blue)\n                }`,\n    },\n\n    // a caching layer for vec4 uploading\n    {\n        test: (data: any): boolean =>\n            data.type === 'vec4' && data.size === 1 && !data.isArray,\n        code: (name: string): string =>\n            `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud[\"${name}\"].location, v[0], v[1], v[2], v[3])\n                }`,\n    },\n];\n\n","// cu = Cached value's uniform data field\n// cv = Cached value\n// v = value to upload\n// ud = uniformData\n// uv = uniformValue\n\nimport { BufferResource } from '../../../shared/buffer/BufferResource';\nimport { UniformGroup } from '../../../shared/shader/UniformGroup';\nimport { uniformParsers } from './uniformParsers';\n\nimport type { UniformsSyncCallback } from '../../../shared/shader/utils/createUniformBufferSync';\n\n// l = location\nconst GLSL_TO_SINGLE_SETTERS_CACHED: Record<string, string> = {\n\n    float: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }`,\n\n    vec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }`,\n\n    vec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }`,\n\n    vec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }`,\n\n    int: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n    ivec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n    ivec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n    ivec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n\n    uint: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }`,\n    uvec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }`,\n    uvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }`,\n    uvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }`,\n\n    bool: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }`,\n    bvec2: `\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n    bvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n    bvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n\n    mat2:     'gl.uniformMatrix2fv(location, false, v)',\n    mat3:     'gl.uniformMatrix3fv(location, false, v)',\n    mat4:     'gl.uniformMatrix4fv(location, false, v)',\n\n    sampler2D: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n    samplerCube: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n    sampler2DArray: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n};\n\nconst GLSL_TO_ARRAY_SETTERS: Record<string, string> = {\n\n    float:    `gl.uniform1fv(location, v)`,\n\n    vec2:     `gl.uniform2fv(location, v)`,\n    vec3:     `gl.uniform3fv(location, v)`,\n    vec4:     'gl.uniform4fv(location, v)',\n\n    mat4:     'gl.uniformMatrix4fv(location, false, v)',\n    mat3:     'gl.uniformMatrix3fv(location, false, v)',\n    mat2:     'gl.uniformMatrix2fv(location, false, v)',\n\n    int:      'gl.uniform1iv(location, v)',\n    ivec2:    'gl.uniform2iv(location, v)',\n    ivec3:    'gl.uniform3iv(location, v)',\n    ivec4:    'gl.uniform4iv(location, v)',\n\n    uint:     'gl.uniform1uiv(location, v)',\n    uvec2:    'gl.uniform2uiv(location, v)',\n    uvec3:    'gl.uniform3uiv(location, v)',\n    uvec4:    'gl.uniform4uiv(location, v)',\n\n    bool:     'gl.uniform1iv(location, v)',\n    bvec2:    'gl.uniform2iv(location, v)',\n    bvec3:    'gl.uniform3iv(location, v)',\n    bvec4:    'gl.uniform4iv(location, v)',\n\n    sampler2D:      'gl.uniform1iv(location, v)',\n    samplerCube:    'gl.uniform1iv(location, v)',\n    sampler2DArray: 'gl.uniform1iv(location, v)',\n};\n\nexport function generateUniformsSync(group: UniformGroup, uniformData: Record<string, any>): UniformsSyncCallback\n{\n    const funcFragments = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    `];\n\n    for (const i in group.uniforms)\n    {\n        const data = uniformData[i];\n\n        if (!data)\n        {\n            if (group.uniforms[i] instanceof UniformGroup)\n            {\n                if ((group.uniforms[i] as UniformGroup).ubo)\n                {\n                    funcFragments.push(`\n                        renderer.shader.bindUniformBlock(uv.${i}, \"${i}\");\n                    `);\n                }\n                else\n                {\n                    funcFragments.push(`\n                        renderer.shader.updateUniformGroup(uv.${i});\n                    `);\n                }\n            }\n            else if (group.uniforms[i] instanceof BufferResource)\n            {\n                funcFragments.push(`\n                        renderer.shader.bindBufferResource(uv.${i}, \"${i}\");\n                    `);\n            }\n\n            continue;\n        }\n\n        const uniform = group.uniforms[i];\n\n        let parsed = false;\n\n        for (let j = 0; j < uniformParsers.length; j++)\n        {\n            if (uniformParsers[j].test(data, uniform))\n            {\n                funcFragments.push(uniformParsers[j].code(i, uniform));\n                parsed = true;\n\n                break;\n            }\n        }\n\n        if (!parsed)\n        {\n            const templateType = data.size === 1 && !data.isArray ? GLSL_TO_SINGLE_SETTERS_CACHED : GLSL_TO_ARRAY_SETTERS;\n            const template = templateType[data.type].replace('location', `ud[\"${i}\"].location`);\n\n            funcFragments.push(`\n            cu = ud[\"${i}\"];\n            cv = cu.value;\n            v = uv[\"${i}\"];\n            ${template};`);\n        }\n    }\n\n    /*\n     * the introduction of syncData is to solve an issue where textures in uniform groups are not set correctly\n     * the texture count was always starting from 0 in each group. This needs to increment each time a texture is used\n     * no matter which group is being used\n     *\n     */\n    // eslint-disable-next-line no-new-func\n    return new Function('ud', 'uv', 'renderer', 'syncData', funcFragments.join('\\n')) as UniformsSyncCallback;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { unsafeEvalSupported } from '../../../../utils/unsafeEvalSupported';\nimport { generateUniformsSync } from './program/generateUniformsSync';\n\nimport type { UniformGroup } from '../../shared/shader/UniformGroup';\nimport type { UniformsSyncCallback } from '../../shared/shader/utils/createUniformBufferSync';\nimport type { System } from '../../shared/system/System';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\nimport type { WebGLRenderer } from '../WebGLRenderer';\nimport type { GlProgram } from './GlProgram';\n\n/** System plugin to the renderer to manage shaders. */\nexport class GlUniformGroupSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'uniformGroup',\n    } as const;\n\n    /**\n     * The current WebGL rendering context.\n     * @member {WebGLRenderingContext}\n     */\n    protected gl: GlRenderingContext;\n\n    public destroyed = false;\n\n    /** Cache to holds the generated functions. Stored against UniformObjects unique signature. */\n    private _cache: Record<string, UniformsSyncCallback> = {};\n    private _renderer: WebGLRenderer;\n\n    private _uniformGroupSyncHash: Record<string, Record<string, UniformsSyncCallback>> = {};\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n\n        // Validation check that this environment support `new Function`\n        this._systemCheck();\n\n        this.gl = null;\n        this._cache = {};\n    }\n\n    /**\n     * Overrideable function by `@pixi/unsafe-eval` to silence\n     * throwing an error if platform doesn't support unsafe-evals.\n     * @private\n     */\n    private _systemCheck(): void\n    {\n        if (!unsafeEvalSupported())\n        {\n            throw new Error('Current environment does not allow unsafe-eval, '\n                + 'please use @pixi/unsafe-eval module to enable support.');\n        }\n    }\n\n    protected contextChange(gl: GlRenderingContext): void\n    {\n        this.gl = gl;\n    }\n\n    /**\n     * Uploads the uniforms values to the currently bound shader.\n     * @param group - the uniforms values that be applied to the current shader\n     * @param program\n     * @param syncData\n     * @param syncData.textureCount\n     */\n    public updateUniformGroup(group: UniformGroup, program: GlProgram, syncData: {textureCount: number}): void\n    {\n        const programData = this._renderer.shader.getProgramData(program);\n\n        if (!group.isStatic || group.dirtyId !== programData.uniformDirtyGroups[group.uid])\n        {\n            programData.uniformDirtyGroups[group.uid] = group.dirtyId;\n\n            const syncFunc = this._getUniformSyncFunction(group, program);\n\n            syncFunc(programData.uniformData, group.uniforms, this._renderer, syncData);\n        }\n    }\n\n    /**\n     * Overrideable by the @pixi/unsafe-eval package to use static syncUniforms instead.\n     * @param group\n     * @param program\n     */\n    private _getUniformSyncFunction(group: UniformGroup, program: GlProgram): UniformsSyncCallback\n    {\n        return this._uniformGroupSyncHash[group.signature]?.[program.key]\n        || this._createUniformSyncFunction(group, program);\n    }\n\n    private _createUniformSyncFunction(group: UniformGroup, program: GlProgram): UniformsSyncCallback\n    {\n        const uniformGroupSyncHash = this._uniformGroupSyncHash[group.signature]\n         || (this._uniformGroupSyncHash[group.signature] = {});\n\n        const id = this._getSignature(group, program.uniformData, 'u');\n\n        if (!this._cache[id])\n        {\n            this._cache[id] = generateUniformsSync(group, program.uniformData);\n        }\n\n        uniformGroupSyncHash[program.key] = this._cache[id];\n\n        return uniformGroupSyncHash[program.key];\n    }\n\n    /**\n     * Takes a uniform group and data and generates a unique signature for them.\n     * @param group - The uniform group to get signature of\n     * @param group.uniforms\n     * @param uniformData - Uniform information generated by the shader\n     * @param preFix\n     * @returns Unique signature of the uniform group\n     */\n    private _getSignature(group: UniformGroup, uniformData: Record<string, any>, preFix: string): string\n    {\n        const uniforms = group.uniforms;\n\n        const strings = [`${preFix}-`];\n\n        for (const i in uniforms)\n        {\n            strings.push(i);\n\n            if (uniformData[i])\n            {\n                strings.push(uniformData[i].type);\n            }\n        }\n\n        return strings.join('-');\n    }\n\n    /** Destroys this System and removes all its textures. */\n    public destroy(): void\n    {\n        this._renderer = null;\n        // TODO implement destroy method for ShaderSystem\n        this.destroyed = true;\n        this._cache = null;\n    }\n}\n","export function migrateFragmentFromV7toV8(fragmentShader: string): string\n{\n    fragmentShader = fragmentShader\n        .replaceAll('texture2D', 'texture')\n        .replaceAll('gl_FragColor', 'fragColor')\n        .replaceAll('varying', 'in');\n\n    fragmentShader = `\n        out vec4 fragColor;\n    ${fragmentShader}\n    `;\n\n    return fragmentShader;\n}\n","import type { BLEND_MODES } from '../../shared/state/const';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\n\n/**\n * Maps gl blend combinations to WebGL.\n * @param gl\n * @returns {object} Map of gl blend combinations to WebGL.\n */\nexport function mapWebGLBlendModesToPixi(gl: GlRenderingContext): Record<BLEND_MODES, number[]>\n{\n    const blendMap: Partial<Record<BLEND_MODES, number[]>> = {};\n\n    // TODO - premultiply alpha would be different.\n    // add a boolean for that!\n    blendMap.normal = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n    blendMap.add = [gl.ONE, gl.ONE];\n    blendMap.multiply = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n    blendMap.screen = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n    blendMap.none = [0, 0];\n\n    // not-premultiplied blend modes\n    blendMap['normal-npm'] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n    blendMap['add-npm'] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];\n    blendMap['screen-npm'] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n\n    blendMap.erase = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];\n    // TODO - implement if requested!\n    // composite operations\n    // array[BLEND_MODES.SRC_IN] = [gl.DST_ALPHA, gl.ZERO];\n    // array[BLEND_MODES.SRC_OUT] = [gl.ONE_MINUS_DST_ALPHA, gl.ZERO];\n    // array[BLEND_MODES.SRC_ATOP] = [gl.DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];\n    // array[BLEND_MODES.DST_OVER] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE];\n    // array[BLEND_MODES.DST_IN] = [gl.ZERO, gl.SRC_ALPHA];\n    // array[BLEND_MODES.DST_OUT] = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];\n    // array[BLEND_MODES.DST_ATOP] = [gl.ONE_MINUS_DST_ALPHA, gl.SRC_ALPHA];\n    // array[BLEND_MODES.XOR] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];\n    // SUBTRACT from flash\n    // array[BLEND_MODES.SUBTRACT] = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD];\n\n    return blendMap as Record<BLEND_MODES, number[]>;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { State } from '../../shared/state/State';\nimport { mapWebGLBlendModesToPixi } from './mapWebGLBlendModesToPixi';\n\nimport type { BLEND_MODES } from '../../shared/state/const';\nimport type { System } from '../../shared/system/System';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\n\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\n\n/** System plugin to the renderer to manage WebGL state machines. */\nexport class GlStateSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'state',\n    } as const;\n\n    /**\n     * State ID\n     * @readonly\n     */\n    public stateId: number;\n\n    /**\n     * Polygon offset\n     * @readonly\n     */\n    public polygonOffset: number;\n\n    /**\n     * Blend mode\n     * @default 'none'\n     * @readonly\n     */\n    public blendMode: BLEND_MODES;\n\n    /** Whether current blend equation is different */\n    protected _blendEq: boolean;\n\n    /**\n     * GL context\n     * @member {WebGLRenderingContext}\n     * @readonly\n     */\n    protected gl: GlRenderingContext;\n\n    protected blendModesMap: Record<BLEND_MODES, number[]>;\n\n    /**\n     * Collection of calls\n     * @member {Function[]}\n     */\n    protected readonly map: ((value: boolean) => void)[];\n\n    /**\n     * Collection of check calls\n     * @member {Function[]}\n     */\n    protected readonly checks: ((system: this, state: State) => void)[];\n\n    /**\n     * Default WebGL State\n     * @readonly\n     */\n    protected defaultState: State;\n\n    constructor()\n    {\n        this.gl = null;\n\n        this.stateId = 0;\n        this.polygonOffset = 0;\n        this.blendMode = 'none';\n\n        this._blendEq = false;\n\n        // map functions for when we set state..\n        this.map = [];\n        this.map[BLEND] = this.setBlend;\n        this.map[OFFSET] = this.setOffset;\n        this.map[CULLING] = this.setCullFace;\n        this.map[DEPTH_TEST] = this.setDepthTest;\n        this.map[WINDING] = this.setFrontFace;\n        this.map[DEPTH_MASK] = this.setDepthMask;\n\n        this.checks = [];\n\n        this.defaultState = new State();\n        this.defaultState.blend = true;\n    }\n\n    protected contextChange(gl: GlRenderingContext): void\n    {\n        this.gl = gl;\n\n        this.blendModesMap = mapWebGLBlendModesToPixi(gl);\n\n        this.set(this.defaultState);\n\n        this.reset();\n    }\n\n    /**\n     * Sets the current state\n     * @param {*} state - The state to set.\n     */\n    public set(state: State): void\n    {\n        state = state || this.defaultState;\n\n        // TODO maybe to an object check? ( this.state === state )?\n        if (this.stateId !== state.data)\n        {\n            let diff = this.stateId ^ state.data;\n            let i = 0;\n\n            // order from least to most common\n            while (diff)\n            {\n                if (diff & 1)\n                {\n                    // state change!\n                    this.map[i].call(this, !!(state.data & (1 << i)));\n                }\n\n                diff = diff >> 1;\n                i++;\n            }\n\n            this.stateId = state.data;\n        }\n\n        // based on the above settings we check for specific modes..\n        // for example if blend is active we check and set the blend modes\n        // or of polygon offset is active we check the poly depth.\n        for (let i = 0; i < this.checks.length; i++)\n        {\n            this.checks[i](this, state);\n        }\n    }\n\n    /**\n     * Sets the state, when previous state is unknown.\n     * @param {*} state - The state to set\n     */\n    public forceState(state: State): void\n    {\n        state = state || this.defaultState;\n        for (let i = 0; i < this.map.length; i++)\n        {\n            this.map[i].call(this, !!(state.data & (1 << i)));\n        }\n        for (let i = 0; i < this.checks.length; i++)\n        {\n            this.checks[i](this, state);\n        }\n\n        this.stateId = state.data;\n    }\n\n    /**\n     * Sets whether to enable or disable blending.\n     * @param value - Turn on or off WebGl blending.\n     */\n    public setBlend(value: boolean): void\n    {\n        this._updateCheck(GlStateSystem._checkBlendMode, value);\n\n        this.gl[value ? 'enable' : 'disable'](this.gl.BLEND);\n    }\n\n    /**\n     * Sets whether to enable or disable polygon offset fill.\n     * @param value - Turn on or off webgl polygon offset testing.\n     */\n    public setOffset(value: boolean): void\n    {\n        this._updateCheck(GlStateSystem._checkPolygonOffset, value);\n\n        this.gl[value ? 'enable' : 'disable'](this.gl.POLYGON_OFFSET_FILL);\n    }\n\n    /**\n     * Sets whether to enable or disable depth test.\n     * @param value - Turn on or off webgl depth testing.\n     */\n    public setDepthTest(value: boolean): void\n    {\n        this.gl[value ? 'enable' : 'disable'](this.gl.DEPTH_TEST);\n    }\n\n    /**\n     * Sets whether to enable or disable depth mask.\n     * @param value - Turn on or off webgl depth mask.\n     */\n    public setDepthMask(value: boolean): void\n    {\n        this.gl.depthMask(value);\n    }\n\n    /**\n     * Sets whether to enable or disable cull face.\n     * @param {boolean} value - Turn on or off webgl cull face.\n     */\n    public setCullFace(value: boolean): void\n    {\n        this.gl[value ? 'enable' : 'disable'](this.gl.CULL_FACE);\n    }\n\n    /**\n     * Sets the gl front face.\n     * @param {boolean} value - true is clockwise and false is counter-clockwise\n     */\n    public setFrontFace(value: boolean): void\n    {\n        this.gl.frontFace(this.gl[value ? 'CW' : 'CCW']);\n    }\n\n    /**\n     * Sets the blend mode.\n     * @param {number} value - The blend mode to set to.\n     */\n    public setBlendMode(value: BLEND_MODES): void\n    {\n        if (!this.blendModesMap[value])\n        {\n            value = 'normal';\n        }\n\n        if (value === this.blendMode)\n        {\n            return;\n        }\n\n        this.blendMode = value;\n\n        const mode = this.blendModesMap[value];\n        const gl = this.gl;\n\n        if (mode.length === 2)\n        {\n            gl.blendFunc(mode[0], mode[1]);\n        }\n        else\n        {\n            gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);\n        }\n\n        if (mode.length === 6)\n        {\n            this._blendEq = true;\n            gl.blendEquationSeparate(mode[4], mode[5]);\n        }\n        else if (this._blendEq)\n        {\n            this._blendEq = false;\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n        }\n    }\n\n    /**\n     * Sets the polygon offset.\n     * @param {number} value - the polygon offset\n     * @param {number} scale - the polygon offset scale\n     */\n    public setPolygonOffset(value: number, scale: number): void\n    {\n        this.gl.polygonOffset(value, scale);\n    }\n\n    // used\n    /** Resets all the logic and disables the VAOs. */\n    public reset(): void\n    {\n        this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);\n\n        this.forceState(this.defaultState);\n\n        this._blendEq = true;\n        // setting to '' means the blend mode will be set as soon as we set the first blend mode when rendering!\n        this.blendMode = '' as BLEND_MODES;\n        this.setBlendMode('normal');\n    }\n\n    /**\n     * Checks to see which updates should be checked based on which settings have been activated.\n     *\n     * For example, if blend is enabled then we should check the blend modes each time the state is changed\n     * or if polygon fill is activated then we need to check if the polygon offset changes.\n     * The idea is that we only check what we have too.\n     * @param func - the checking function to add or remove\n     * @param value - should the check function be added or removed.\n     */\n    private _updateCheck(func: (system: this, state: State) => void, value: boolean): void\n    {\n        const index = this.checks.indexOf(func);\n\n        if (value && index === -1)\n        {\n            this.checks.push(func);\n        }\n        else if (!value && index !== -1)\n        {\n            this.checks.splice(index, 1);\n        }\n    }\n\n    /**\n     * A private little wrapper function that we call to check the blend mode.\n     * @param system - the System to perform the state check on\n     * @param state - the state that the blendMode will pulled from\n     */\n    private static _checkBlendMode(system: GlStateSystem, state: State): void\n    {\n        system.setBlendMode(state.blendMode);\n    }\n\n    /**\n     * A private little wrapper function that we call to check the polygon offset.\n     * @param system - the System to perform the state check on\n     * @param state - the state that the blendMode will pulled from\n     */\n    private static _checkPolygonOffset(system: GlStateSystem, state: State): void\n    {\n        system.setPolygonOffset(1, state.polygonOffset);\n    }\n\n    /**\n     * @ignore\n     */\n    public destroy(): void\n    {\n        this.gl = null;\n        this.checks.length = 0;\n    }\n}\n","import { GL_FORMATS, GL_TARGETS, GL_TYPES } from './const';\n\n/** Internal texture for WebGL context. */\nexport class GlTexture\n{\n    public target: GL_TARGETS = GL_TARGETS.TEXTURE_2D;\n\n    /** The WebGL texture. */\n    public texture: WebGLTexture;\n\n    /** Width of texture that was used in texImage2D. */\n    public width: number;\n\n    /** Height of texture that was used in texImage2D. */\n    public height: number;\n\n    /** Whether mip levels has to be generated. */\n    public mipmap: boolean;\n\n    /** Type copied from baseTexture. */\n    public type: number;\n\n    /** Type copied from baseTexture. */\n    public internalFormat: number;\n\n    /** Type of sampler corresponding to this texture. See {@link SAMPLER_TYPES} */\n    public samplerType: number;\n\n    public format: GL_FORMATS;\n\n    constructor(texture: WebGLTexture)\n    {\n        this.texture = texture;\n        this.width = -1;\n        this.height = -1;\n        this.type = GL_TYPES.UNSIGNED_BYTE;\n        this.internalFormat = GL_FORMATS.RGBA;\n        this.format = GL_FORMATS.RGBA;\n        this.samplerType = 0;\n    }\n}\n","import type { TextureSource } from '../../../shared/texture/sources/TextureSource';\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlTexture } from '../GlTexture';\nimport type { GLTextureUploader } from './GLTextureUploader';\n\nexport const glUploadBufferImageResource = {\n\n    id: 'image',\n\n    upload(source: TextureSource, glTexture: GlTexture, gl: GlRenderingContext)\n    {\n        if (glTexture.width === source.width || glTexture.height === source.height)\n        {\n            gl.texSubImage2D(\n                gl.TEXTURE_2D,\n                0,\n                0,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource\n            );\n        }\n        else\n        {\n            gl.texImage2D(\n                glTexture.target,\n                0,\n                glTexture.internalFormat,\n                source.width,\n                source.height,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource\n            );\n        }\n\n        glTexture.width = source.width;\n        glTexture.height = source.height;\n    }\n} as GLTextureUploader;\n\n","import type { CanvasSource } from '../../../shared/texture/sources/CanvasSource';\nimport type { ImageSource } from '../../../shared/texture/sources/ImageSource';\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlTexture } from '../GlTexture';\nimport type { GLTextureUploader } from './GLTextureUploader';\n\nexport const glUploadImageResource = {\n\n    id: 'image',\n\n    upload(source: ImageSource | CanvasSource, glTexture: GlTexture, gl: GlRenderingContext)\n    {\n        const premultipliedAlpha = source.alphaMode === 'premultiply-alpha-on-upload';\n\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultipliedAlpha);\n\n        const glWidth = glTexture.width;\n        const glHeight = glTexture.height;\n\n        const textureWidth = source.pixelWidth;\n        const textureHeight = source.pixelHeight;\n\n        const resourceWidth = source.resourceWidth;\n        const resourceHeight = source.resourceHeight;\n\n        if (resourceWidth < textureWidth || resourceHeight < textureHeight)\n        {\n            if (glWidth !== textureWidth || glHeight !== textureHeight)\n            {\n                gl.texImage2D(\n                    glTexture.target,\n                    0,\n                    glTexture.internalFormat,\n                    textureWidth,\n                    textureHeight,\n                    0,\n                    glTexture.format,\n                    glTexture.type,\n                    null\n                );\n            }\n\n            gl.texSubImage2D(\n                gl.TEXTURE_2D,\n                0,\n                0,\n                0,\n                resourceWidth,\n                resourceHeight,\n                glTexture.format,\n                glTexture.type,\n                source.resource as TexImageSource\n            );\n        }\n        else if (glWidth === textureWidth || glHeight === textureHeight)\n        {\n            gl.texSubImage2D(\n                gl.TEXTURE_2D,\n                0,\n                0,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource as TexImageSource\n            );\n        }\n        else\n        {\n            gl.texImage2D(\n                glTexture.target,\n                0,\n                glTexture.internalFormat,\n                textureWidth,\n                textureHeight,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource as TexImageSource\n            );\n        }\n\n        glTexture.width = textureWidth;\n        glTexture.height = textureHeight;\n    }\n} as GLTextureUploader;\n\n","import { glUploadImageResource } from './glUploadImageResource';\n\nimport type { VideoSource } from '../../../shared/texture/sources/VideoSource';\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlTexture } from '../GlTexture';\nimport type { GLTextureUploader } from './GLTextureUploader';\n\nexport const glUploadVideoResource = {\n\n    id: 'video',\n\n    upload(source: VideoSource, glTexture: GlTexture, gl: GlRenderingContext)\n    {\n        if (!source.isValid)\n        {\n            gl.texImage2D(\n                glTexture.target,\n                0,\n                glTexture.internalFormat,\n                1,\n                1,\n                0,\n                glTexture.format,\n                glTexture.type,\n                null\n            );\n\n            return;\n        }\n\n        glUploadImageResource.upload(source, glTexture, gl);\n    }\n} as GLTextureUploader;\n\n","export const scaleModeToGlFilter = {\n    linear: 9729,\n    nearest: 9728,\n};\n\nexport const mipmapScaleModeToGlFilter = {\n    linear: {\n        linear: 9987,\n        nearest: 9985,\n    },\n    nearest: {\n        linear: 9986,\n        nearest: 9984,\n    }\n};\n\nexport const wrapModeToGlAddress = {\n    'clamp-to-edge': 33071,\n    repeat: 10497,\n    'mirror-repeat': 33648,\n};\n\nexport const compareModeToGlCompare = {\n    never: 512,\n    less: 513,\n    equal: 514,\n    'less-equal': 515,\n    greater: 516,\n    'not-equal': 517,\n    'greater-equal': 518,\n    always: 519,\n};\n\n","import {\n    compareModeToGlCompare,\n    mipmapScaleModeToGlFilter,\n    scaleModeToGlFilter,\n    wrapModeToGlAddress\n} from './pixiToGlMaps';\n\nimport type { TextureStyle } from '../../../shared/texture/TextureStyle';\n\nexport function applyStyleParams(\n    style: TextureStyle,\n    gl: WebGL2RenderingContext,\n    mipmaps: boolean,\n    // eslint-disable-next-line camelcase\n    anisotropicExt: EXT_texture_filter_anisotropic,\n    glFunctionName: 'samplerParameteri' | 'texParameteri',\n    firstParam: 3553 | WebGLSampler\n)\n{\n    const castParam = firstParam as 3553;\n\n    // 1. set the wrapping mode\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_S, wrapModeToGlAddress[style.addressModeU]);\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_T, wrapModeToGlAddress[style.addressModeV]);\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_R, wrapModeToGlAddress[style.addressModeW]);\n\n    // 2. set the filtering mode\n    gl[glFunctionName](castParam, gl.TEXTURE_MAG_FILTER, scaleModeToGlFilter[style.magFilter]);\n\n    // assuming the currently bound texture is the one we want to set the filter for\n    // the only smelly part of this code, WebGPU is much better here :P\n    if (mipmaps)\n    {\n        const glFilterMode = mipmapScaleModeToGlFilter[style.minFilter][style.mipmapFilter];\n\n        gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, glFilterMode);\n    }\n\n    else\n    {\n        gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, scaleModeToGlFilter[style.minFilter]);\n    }\n\n    // 3. set the anisotropy\n    if (anisotropicExt && style.maxAnisotropy > 1)\n    {\n        const level = Math.min(style.maxAnisotropy, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));\n\n        gl[glFunctionName](castParam, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);\n    }\n\n    // 4. set the compare mode\n    if (style.compare)\n    {\n        gl[glFunctionName](castParam, gl.TEXTURE_COMPARE_FUNC, compareModeToGlCompare[style.compare]);\n    }\n}\n","import type { GlRenderingContext } from '../../context/GlRenderingContext';\n\n/**\n * Returns a lookup table that maps each type-format pair to a compatible internal format.\n * @function mapTypeAndFormatToInternalFormat\n * @private\n * @param {WebGLRenderingContext} gl - The rendering context.\n * @returns Lookup table.\n */\nexport function mapFormatToGlFormat(gl: GlRenderingContext): Record<string, number>\n{\n    return {\n        // 8-bit formats\n        r8unorm: gl.RED,\n        r8snorm: gl.RED,\n        r8uint: gl.RED,\n        r8sint: gl.RED,\n\n        // 16-bit formats\n        r16uint: gl.RED,\n        r16sint:    gl.RED,\n        r16float: gl.RED,\n        rg8unorm:  gl.RG,\n        rg8snorm:   gl.RG,\n        rg8uint:  gl.RG,\n        rg8sint:  gl.RG,\n\n        // 32-bit formats\n        r32uint: gl.RED,\n        r32sint: gl.RED,\n        r32float: gl.RED,\n        rg16uint:   gl.RG,\n        rg16sint:  gl.RG,\n        rg16float:  gl.RG,\n        rgba8unorm: gl.RGBA,\n        'rgba8unorm-srgb': gl.RGBA,\n\n        // Packed 32-bit formats\n        rgba8snorm: gl.RGBA,\n        rgba8uint: gl.RGBA,\n        rgba8sint: gl.RGBA,\n        bgra8unorm: gl.RGBA,\n        'bgra8unorm-srgb': gl.RGBA,\n        rgb9e5ufloat: gl.RGB,\n        rgb10a2unorm: gl.RGBA,\n        rg11b10ufloat: gl.RGB,\n\n        // 64-bit formats\n        rg32uint: gl.RG,\n        rg32sint: gl.RG,\n        rg32float:  gl.RG,\n        rgba16uint: gl.RGBA,\n        rgba16sint: gl.RGBA,\n        rgba16float: gl.RGBA,\n\n        // 128-bit formats\n        rgba32uint: gl.RGBA,\n        rgba32sint: gl.RGBA,\n        rgba32float: gl.RGBA,\n\n        // Depth/stencil formats\n        stencil8: gl.STENCIL_INDEX8,\n        depth16unorm: gl.DEPTH_COMPONENT,\n        depth24plus: gl.DEPTH_COMPONENT,\n        'depth24plus-stencil8': gl.DEPTH_STENCIL,\n        depth32float: gl.DEPTH_COMPONENT,\n        'depth32float-stencil8': gl.DEPTH_STENCIL,\n\n    };\n}\n","import type { GlRenderingContext } from '../../context/GlRenderingContext';\n\n/**\n * Returns a lookup table that maps each type-format pair to a compatible internal format.\n * @function mapTypeAndFormatToInternalFormat\n * @private\n * @param {WebGLRenderingContext} gl - The rendering context.\n * @returns Lookup table.\n */\nexport function mapFormatToGlInternalFormat(gl: GlRenderingContext): Record<string, number>\n{\n    return {\n        // 8-bit formats\n        r8unorm: gl.R8,\n        r8snorm: gl.R8_SNORM,\n        r8uint: gl.R8UI,\n        r8sint: gl.R8I,\n\n        // 16-bit formats\n        r16uint: gl.R16UI,\n        r16sint: gl.R16I,\n        r16float: gl.R16F,\n        rg8unorm: gl.RG8,\n        rg8snorm: gl.RG8_SNORM,\n        rg8uint: gl.RG8UI,\n        rg8sint: gl.RG8I,\n\n        // 32-bit formats\n        r32uint: gl.R32UI,\n        r32sint: gl.R32I,\n        r32float: gl.R32F,\n        rg16uint: gl.RG16UI,\n        rg16sint: gl.RG16I,\n        rg16float: gl.RG16F,\n        rgba8unorm: gl.RGBA,\n        'rgba8unorm-srgb': gl.SRGB8_ALPHA8,\n\n        // Packed 32-bit formats\n        rgba8snorm: gl.RGBA8_SNORM,\n        rgba8uint: gl.RGBA8UI,\n        rgba8sint: gl.RGBA8I,\n        bgra8unorm: gl.RGBA8,\n        'bgra8unorm-srgb': gl.SRGB8_ALPHA8,\n        rgb9e5ufloat: gl.RGB9_E5,\n        rgb10a2unorm: gl.RGB10_A2,\n        rg11b10ufloat: gl.R11F_G11F_B10F,\n\n        // 64-bit formats\n        rg32uint: gl.RG32UI,\n        rg32sint: gl.RG32I,\n        rg32float: gl.RG32F,\n        rgba16uint: gl.RGBA16UI,\n        rgba16sint: gl.RGBA16I,\n        rgba16float: gl.RGBA16F,\n\n        // 128-bit formats\n        rgba32uint: gl.RGBA32UI,\n        rgba32sint: gl.RGBA32I,\n        rgba32float: gl.RGBA32F,\n\n        // Depth/stencil formats\n        stencil8: gl.STENCIL_INDEX8,\n        depth16unorm: gl.DEPTH_COMPONENT16,\n        depth24plus: gl.DEPTH_COMPONENT24,\n        'depth24plus-stencil8': gl.DEPTH24_STENCIL8,\n        depth32float: gl.DEPTH_COMPONENT32F,\n        'depth32float-stencil8': gl.DEPTH32F_STENCIL8,\n\n    };\n}\n","import type { GlRenderingContext } from '../../context/GlRenderingContext';\n\n/**\n * Returns a lookup table that maps each type-format pair to a compatible internal format.\n * @function mapTypeAndFormatToInternalFormat\n * @private\n * @param {WebGLRenderingContext} gl - The rendering context.\n * @returns Lookup table.\n */\nexport function mapFormatToGlType(gl: GlRenderingContext): Record<string, number>\n{\n    return {\n        // 8-bit formats\n        r8unorm: gl.UNSIGNED_BYTE,\n        r8snorm: gl.BYTE,\n        r8uint: gl.UNSIGNED_BYTE,\n        r8sint: gl.BYTE,\n\n        // 16-bit formats\n        r16uint: gl.UNSIGNED_SHORT,\n        r16sint: gl.SHORT,\n        r16float: gl.HALF_FLOAT,\n        rg8unorm: gl.UNSIGNED_BYTE,\n        rg8snorm: gl.BYTE,\n        rg8uint: gl.UNSIGNED_BYTE,\n        rg8sint: gl.BYTE,\n\n        // 32-bit formats\n        r32uint: gl.UNSIGNED_INT,\n        r32sint: gl.INT,\n        r32float: gl.FLOAT,\n        rg16uint: gl.UNSIGNED_SHORT,\n        rg16sint: gl.SHORT,\n        rg16float: gl.HALF_FLOAT,\n        rgba8unorm: gl.UNSIGNED_BYTE,\n        'rgba8unorm-srgb': gl.UNSIGNED_BYTE,\n\n        // Packed 32-bit formats\n        rgba8snorm: gl.BYTE,\n        rgba8uint: gl.UNSIGNED_BYTE,\n        rgba8sint: gl.BYTE,\n        bgra8unorm: gl.UNSIGNED_BYTE,\n        'bgra8unorm-srgb': gl.UNSIGNED_BYTE,\n        rgb9e5ufloat: gl.UNSIGNED_INT_5_9_9_9_REV,\n        rgb10a2unorm: gl.UNSIGNED_INT_2_10_10_10_REV,\n        rg11b10ufloat: gl.UNSIGNED_INT_10F_11F_11F_REV,\n\n        // 64-bit formats\n        rg32uint: gl.UNSIGNED_INT,\n        rg32sint: gl.INT,\n        rg32float: gl.FLOAT,\n        rgba16uint: gl.UNSIGNED_SHORT,\n        rgba16sint: gl.SHORT,\n        rgba16float: gl.HALF_FLOAT,\n\n        // 128-bit formats\n        rgba32uint: gl.UNSIGNED_INT,\n        rgba32sint: gl.INT,\n        rgba32float: gl.FLOAT,\n\n        // Depth/stencil formats\n        stencil8: gl.UNSIGNED_BYTE,\n        depth16unorm: gl.UNSIGNED_SHORT,\n        depth24plus: gl.UNSIGNED_INT,\n        'depth24plus-stencil8': gl.UNSIGNED_INT_24_8,\n        depth32float: gl.FLOAT,\n        'depth32float-stencil8': gl.FLOAT_32_UNSIGNED_INT_24_8_REV,\n\n    };\n}\n","export function unpremultiplyAlpha(pixels: Uint8Array | Uint8ClampedArray): void\n{\n    if (pixels instanceof Uint8ClampedArray)\n    {\n        pixels = new Uint8Array(pixels.buffer);\n    }\n\n    const n = pixels.length;\n\n    for (let i = 0; i < n; i += 4)\n    {\n        const alpha = pixels[i + 3];\n\n        if (alpha !== 0)\n        {\n            const a = 255.001 / alpha;\n\n            pixels[i] = (pixels[i] * a) + 0.5;\n            pixels[i + 1] = (pixels[i + 1] * a) + 0.5;\n            pixels[i + 2] = (pixels[i + 2] * a) + 0.5;\n        }\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { Texture } from '../../shared/texture/Texture';\nimport { GlTexture } from './GlTexture';\nimport { glUploadBufferImageResource } from './uploaders/glUploadBufferImageResource';\nimport { glUploadImageResource } from './uploaders/glUploadImageResource';\nimport { glUploadVideoResource } from './uploaders/glUploadVideoResource';\nimport { applyStyleParams } from './utils/applyStyleParams';\nimport { mapFormatToGlFormat } from './utils/mapFormatToGlFormat';\nimport { mapFormatToGlInternalFormat } from './utils/mapFormatToGlInternalFormat';\nimport { mapFormatToGlType } from './utils/mapFormatToGlType';\nimport { unpremultiplyAlpha } from './utils/unpremultiplyAlpha';\n\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { Writeable } from '../../../../utils/types';\nimport type { System } from '../../shared/system/System';\nimport type { CanvasGenerator, GetPixelsOutput } from '../../shared/texture/GenerateCanvas';\nimport type { TextureSource } from '../../shared/texture/sources/TextureSource';\nimport type { BindableTexture } from '../../shared/texture/Texture';\nimport type { TextureStyle } from '../../shared/texture/TextureStyle';\nimport type { GlRenderingContext } from '../context/GlRenderingContext';\nimport type { WebGLRenderer } from '../WebGLRenderer';\nimport type { GLTextureUploader } from './uploaders/GLTextureUploader';\n\nconst TEMP_RECT = new Rectangle();\nconst BYTES_PER_PIXEL = 4;\n\nexport class GlTextureSystem implements System, CanvasGenerator\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'texture',\n    } as const;\n\n    public readonly managedTextures: TextureSource[] = [];\n\n    private readonly _renderer: WebGLRenderer;\n\n    private _glTextures: Record<number, GlTexture> = Object.create(null);\n    private readonly _glSamplers: Record<string, WebGLSampler> = Object.create(null);\n\n    private _boundTextures: TextureSource[] = [];\n    private _activeTextureLocation = -1;\n\n    private readonly _boundSamplers: Record<number, WebGLSampler> = Object.create(null);\n\n    private readonly _uploads: Record<string, GLTextureUploader> = {\n        image: glUploadImageResource,\n        buffer: glUploadBufferImageResource,\n        video: glUploadVideoResource,\n    };\n\n    private _gl: GlRenderingContext;\n    private _mapFormatToInternalFormat: Record<string, number>;\n    private _mapFormatToType: Record<string, number>;\n    private _mapFormatToFormat: Record<string, number>;\n\n    // TODO - separate samplers will be a cool thing to add, but not right now!\n    private readonly _useSeparateSamplers = false;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gl: GlRenderingContext): void\n    {\n        this._gl = gl;\n\n        if (!this._mapFormatToInternalFormat)\n        {\n            this._mapFormatToInternalFormat = mapFormatToGlInternalFormat(gl);\n            this._mapFormatToType = mapFormatToGlType(gl);\n            this._mapFormatToFormat = mapFormatToGlFormat(gl);\n        }\n\n        for (let i = 0; i < 16; i++)\n        {\n            this.bind(Texture.EMPTY, i);\n        }\n    }\n\n    public bind(texture: BindableTexture, location = 0)\n    {\n        const source = texture.source;\n\n        if (texture)\n        {\n            this.bindSource(source, location);\n\n            if (this._useSeparateSamplers)\n            {\n                this._bindSampler(source.style, location);\n            }\n        }\n        else\n        {\n            this.bindSource(null, location);\n\n            if (this._useSeparateSamplers)\n            {\n                this._bindSampler(null, location);\n            }\n        }\n    }\n\n    public bindSource(source: TextureSource, location = 0): void\n    {\n        const gl = this._gl;\n\n        source.touched = this._renderer.textureGC.count;\n\n        if (this._boundTextures[location] !== source)\n        {\n            this._boundTextures[location] = source;\n            this._activateLocation(location);\n\n            source = source || Texture.EMPTY.source;\n\n            // bind texture and source!\n            const glTexture = this.getGlSource(source);\n\n            gl.bindTexture(glTexture.target, glTexture.texture);\n        }\n    }\n\n    private _bindSampler(style: TextureStyle, location = 0): void\n    {\n        const gl = this._gl;\n\n        if (!style)\n        {\n            this._boundSamplers[location] = null;\n            gl.bindSampler(location, null);\n\n            return;\n        }\n\n        const sampler = this._getGlSampler(style);\n\n        if (this._boundSamplers[location] !== sampler)\n        {\n            this._boundSamplers[location] = sampler;\n            gl.bindSampler(location, sampler);\n        }\n    }\n\n    public unbind(texture: BindableTexture): void\n    {\n        const source = texture.source;\n        const boundTextures = this._boundTextures;\n        const gl = this._gl;\n\n        for (let i = 0; i < boundTextures.length; i++)\n        {\n            if (boundTextures[i] === source)\n            {\n                this._activateLocation(i);\n\n                const glTexture = this.getGlSource(source);\n\n                gl.bindTexture(glTexture.target, null);\n                boundTextures[i] = null;\n            }\n        }\n    }\n\n    private _activateLocation(location: number): void\n    {\n        if (this._activeTextureLocation !== location)\n        {\n            this._activeTextureLocation = location;\n            this._gl.activeTexture(this._gl.TEXTURE0 + location);\n        }\n    }\n\n    private _initSource(source: TextureSource): GlTexture\n    {\n        const gl = this._gl;\n\n        const glTexture = new GlTexture(gl.createTexture());\n\n        glTexture.type = this._mapFormatToType[source.format];\n        glTexture.internalFormat = this._mapFormatToInternalFormat[source.format];\n        glTexture.format = this._mapFormatToFormat[source.format];\n\n        if (source.autoGenerateMipmaps)\n        {\n            const biggestDimension = Math.max(source.width, source.height);\n\n            source.mipLevelCount = Math.floor(Math.log2(biggestDimension)) + 1;\n        }\n\n        this._glTextures[source.uid] = glTexture;\n\n        source.on('update', this.onSourceUpdate, this);\n        source.on('resize', this.onSourceUpdate, this);\n        source.on('styleChange', this.onStyleChange, this);\n        source.on('destroy', this.onSourceDestroy, this);\n        source.on('unload', this.onSourceUnload, this);\n\n        this.managedTextures.push(source);\n\n        this.onSourceUpdate(source);\n        this.onStyleChange(source);\n\n        return glTexture;\n    }\n\n    protected onStyleChange(source: TextureSource): void\n    {\n        const gl = this._gl;\n\n        const glTexture = this._glTextures[source.uid];\n\n        gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n\n        this._boundTextures[this._activeTextureLocation] = source;\n\n        applyStyleParams(\n            source.style,\n            gl,\n            source.mipLevelCount > 1,\n            this._renderer.context.extensions.anisotropicFiltering,\n            'texParameteri',\n            gl.TEXTURE_2D\n        );\n    }\n\n    protected onSourceUnload(source: TextureSource): void\n    {\n        const glTexture = this._glTextures[source.uid];\n\n        if (!glTexture) return;\n\n        this.unbind(source);\n        this._glTextures[source.uid] = null;\n\n        this._gl.deleteTexture(glTexture.texture);\n    }\n\n    protected onSourceUpdate(source: TextureSource): void\n    {\n        const gl = this._gl;\n\n        const glTexture = this.getGlSource(source);\n\n        gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n\n        this._boundTextures[this._activeTextureLocation] = source;\n\n        if (this._uploads[source.uploadMethodId])\n        {\n            this._uploads[source.uploadMethodId].upload(source, glTexture, this._gl);\n\n            if (source.autoGenerateMipmaps && source.mipLevelCount > 1)\n            {\n                gl.generateMipmap(glTexture.target);\n            }\n        }\n        else\n        {\n            // eslint-disable-next-line max-len\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, source.pixelWidth, source.pixelHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        }\n    }\n\n    protected onSourceDestroy(source: TextureSource): void\n    {\n        source.off('destroy', this.onSourceDestroy, this);\n        source.off('update', this.onSourceUpdate, this);\n        source.off('unload', this.onSourceUnload, this);\n\n        this.managedTextures.splice(this.managedTextures.indexOf(source), 1);\n\n        this.onSourceUnload(source);\n    }\n\n    private _initSampler(style: TextureStyle): WebGLSampler\n    {\n        const gl = this._gl;\n\n        const glSampler = this._gl.createSampler();\n\n        this._glSamplers[style.resourceId] = glSampler;\n\n        applyStyleParams(\n            style,\n            gl,\n            this._boundTextures[this._activeTextureLocation].mipLevelCount > 1,\n            this._renderer.context.extensions.anisotropicFiltering,\n            'samplerParameteri',\n            glSampler\n        );\n\n        return this._glSamplers[style.resourceId];\n    }\n\n    private _getGlSampler(sampler: TextureStyle): WebGLSampler\n    {\n        return this._glSamplers[sampler.resourceId] || this._initSampler(sampler);\n    }\n\n    public getGlSource(source: TextureSource): GlTexture\n    {\n        return this._glTextures[source.uid] || this._initSource(source);\n    }\n\n    public generateCanvas(texture: Texture): ICanvas\n    {\n        const { pixels, width, height } = this.getPixels(texture);\n\n        const canvas = DOMAdapter.get().createCanvas();\n\n        canvas.width = width;\n        canvas.height = height;\n\n        const ctx = canvas.getContext('2d');\n\n        if (ctx)\n        {\n            const imageData = ctx.createImageData(width, height);\n\n            imageData.data.set(pixels);\n            ctx.putImageData(imageData, 0, 0);\n        }\n\n        return canvas;\n    }\n\n    public getPixels(texture: Texture): GetPixelsOutput\n    {\n        const resolution = texture.source.resolution;\n        const frame = TEMP_RECT;\n\n        frame.x = texture.frameX;\n        frame.y = texture.frameY;\n        frame.width = texture.frameWidth;\n        frame.height = texture.frameHeight;\n\n        const width = Math.max(Math.round(frame.width * resolution), 1);\n        const height = Math.max(Math.round(frame.height * resolution), 1);\n        const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);\n\n        const renderer = this._renderer;\n\n        const renderTarget = renderer.renderTarget.getRenderTarget(texture);\n        const glRenterTarget = renderer.renderTarget.getGpuRenderTarget(renderTarget);\n\n        const gl = renderer.gl;\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, glRenterTarget.resolveTargetFramebuffer);\n\n        gl.readPixels(\n            Math.round(frame.x * resolution),\n            Math.round(frame.y * resolution),\n            width,\n            height,\n            gl.RGBA,\n            gl.UNSIGNED_BYTE,\n            pixels\n        );\n\n        // if (texture.source.premultiplyAlpha > 0)\n        // TODO - premultiplied alpha does not exist right now, need to add that back in!\n        // eslint-disable-next-line no-constant-condition\n        if (false)\n        {\n            unpremultiplyAlpha(pixels);\n        }\n\n        return { pixels: new Uint8ClampedArray(pixels.buffer), width, height };\n    }\n\n    public destroy(): void\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { MAX_TEXTURES } from '../../../rendering/batcher/shared/const';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit';\nimport { generateTextureBatchBitGl } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { batchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/batchSamplersUniformGroup';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\n\nimport type { Batch } from '../../../rendering/batcher/shared/Batcher';\nimport type { WebGLRenderer } from '../../../rendering/renderers/gl/WebGLRenderer';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { GraphicsAdaptor, GraphicsPipe } from '../shared/GraphicsPipe';\nimport type { GraphicsView } from '../shared/GraphicsView';\n\nexport class GlGraphicsAdaptor implements GraphicsAdaptor\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipesAdaptor,\n        ],\n        name: 'graphics',\n    } as const;\n\n    public shader: Shader;\n\n    public init()\n    {\n        const uniforms = new UniformGroup({\n            uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n            uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n        });\n\n        const glProgram = compileHighShaderGlProgram({\n            name: 'graphics',\n            bits: [\n                colorBitGl,\n                generateTextureBatchBitGl(MAX_TEXTURES),\n                localUniformBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        this.shader = new Shader({\n            glProgram,\n            resources: {\n                localUniforms: uniforms,\n                batchSamplers: batchSamplersUniformGroup,\n            }\n        });\n    }\n\n    public execute(graphicsPipe: GraphicsPipe, renderable: Renderable<GraphicsView>): void\n    {\n        const context = renderable.view.context;\n        const shader = context.customShader || this.shader;\n        const renderer = graphicsPipe.renderer as WebGLRenderer;\n        const contextSystem = renderer.graphicsContext;\n\n        const {\n            geometry, instructions,\n        } = contextSystem.getContextRenderData(context);\n\n        // WebGL specific..\n\n        renderer.shader.bind(shader);\n        renderer.shader.bindUniformBlock(renderer.globalUniforms.uniformGroup, 'globalUniforms');\n\n        // renderer.\n\n        renderer.geometry.bind(geometry, shader.glProgram);\n\n        const batches = instructions.instructions as Batch[];\n\n        for (let i = 0; i < instructions.instructionSize; i++)\n        {\n            const batch = batches[i];\n\n            if (batch.size)\n            {\n                for (let j = 0; j < batch.textures.textures.length; j++)\n                {\n                    renderer.texture.bind(batch.textures.textures[j], j);\n                }\n\n                renderer.geometry.draw('triangle-list', batch.size, batch.start);\n            }\n        }\n    }\n\n    public destroy(): void\n    {\n        this.shader.destroy(true);\n        this.shader = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { textureBitGl } from '../../../rendering/high-shader/shader-bits/textureBit';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\n\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { MeshAdaptor, MeshPipe } from '../shared/MeshPipe';\nimport type { MeshView } from '../shared/MeshView';\n\nexport class GlMeshAdaptor implements MeshAdaptor\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipesAdaptor,\n        ],\n        name: 'mesh',\n    } as const;\n\n    private _shader: Shader;\n\n    public init(): void\n    {\n        const glProgram = compileHighShaderGlProgram({\n            name: 'mesh',\n            bits: [\n                localUniformBitGl,\n                textureBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        this._shader = new Shader({\n            glProgram,\n            resources: {\n                uTexture: Texture.EMPTY.source,\n            }\n        });\n\n        // will be added later in the shader so declare them here:\n        this._shader.addResource('globalUniforms', 0, 0);\n        this._shader.addResource('localUniforms', 1, 0);\n    }\n\n    public execute(meshPipe: MeshPipe, renderable: Renderable<MeshView>): void\n    {\n        const renderer = meshPipe.renderer;\n        const view = renderable.view;\n\n        let shader: Shader = view._shader;\n\n        if (!shader)\n        {\n            shader = this._shader;\n\n            const source = view.texture.source;\n\n            shader.resources.uTexture = source;\n            shader.resources.uSampler = source.style;\n        }\n\n        shader.groups[0] = renderer.globalUniforms.bindGroup;\n        shader.groups[1] = meshPipe.localUniformsBindGroup;\n\n        renderer.encoder.draw({\n            geometry: view._geometry,\n            shader,\n            state: view.state\n        });\n    }\n\n    public destroy(): void\n    {\n        this._shader.destroy(true);\n        this._shader = null;\n    }\n}\n","import type { InstructionPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { RenderPipes } from '../../../rendering/renderers/types';\nimport type { LayerGroup } from '../LayerGroup';\n\nexport function executeInstructions(layerGroup: LayerGroup, renderer: RenderPipes)\n{\n    const instructionSet = layerGroup.instructionSet;\n    const instructions = instructionSet.instructions;\n\n    for (let i = 0; i < instructionSet.instructionSize; i++)\n    {\n        const instruction = instructions[i];\n\n        (renderer[instruction.type as keyof RenderPipes] as InstructionPipe<any>).execute(instruction);\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { executeInstructions } from './utils/executeInstructions';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { LayerGroup } from './LayerGroup';\n\nexport class LayerPipe implements InstructionPipe<LayerGroup>\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'layer',\n    } as const;\n\n    private _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public addLayerGroup(layerGroup: LayerGroup, instructionSet: InstructionSet): void\n    {\n        this._renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add(layerGroup);\n    }\n\n    public execute(layerGroup: LayerGroup)\n    {\n        if (!layerGroup.isRenderable) return;\n\n        this._renderer.globalUniforms.push({\n            projectionData: this._renderer.renderTarget.renderTarget,\n            worldTransformMatrix: layerGroup.worldTransform,\n            worldColor: layerGroup.worldColor,\n\n        });\n\n        executeInstructions(layerGroup, this._renderer.renderPipes);\n\n        this._renderer.globalUniforms.pop();\n\n        // now render a quad..\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null;\n    }\n}\n","import type { LayerGroup } from '../LayerGroup';\n\nexport function collectLayerGroups(renderGroup: LayerGroup, out: LayerGroup[] = [])\n{\n    out.push(renderGroup);\n\n    for (let i = 0; i < renderGroup.layerGroupChildren.length; i++)\n    {\n        collectLayerGroups(renderGroup.layerGroupChildren[i], out);\n    }\n\n    return out;\n}\n","export function mixHexColors(color1: number, color2: number, ratio: number): number\n{\n    const r1 = (color1 >> 16) & 0xFF;\n    const g1 = (color1 >> 8) & 0xFF;\n    const b1 = color1 & 0xFF;\n\n    const r2 = (color2 >> 16) & 0xFF;\n    const g2 = (color2 >> 8) & 0xFF;\n    const b2 = color2 & 0xFF;\n\n    const r = r1 + ((r2 - r1) * ratio);\n    const g = g1 + ((g2 - g1) * ratio);\n    const b = b1 + ((b2 - b1) * ratio);\n\n    return (r << 16) + (g << 8) + b;\n}\n\n","import { mixHexColors } from './mixHexColors';\n\nconst WHITE_WHITE = 0xFFFFFF + (0xFFFFFF << 32);\n\nexport function mixColors(localColor: number, parentColor: number)\n{\n    const localAlpha = ((localColor >> 24) & 0xFF) / 255;\n    const parentAlpha = ((parentColor >> 24) & 0xFF) / 255;\n\n    const globalAlpha = ((localAlpha * parentAlpha) * 255);\n\n    const localBGRColor = localColor & 0x00FFFFFF;\n    const parentBGRColor = parentColor & 0x00FFFFFF;\n\n    let sharedBGRColor = 0xFFFFFF;\n\n    if (localBGRColor + (parentBGRColor << 32) !== WHITE_WHITE)\n    {\n        // color has changed!\n        if (localBGRColor === 0xFFFFFF)\n        {\n            sharedBGRColor = parentBGRColor;\n        }\n        else if (parentBGRColor === 0xFFFFFF)\n        {\n            sharedBGRColor = localBGRColor;\n        }\n\n        else\n        {\n            sharedBGRColor = mixHexColors(localBGRColor, parentBGRColor, 0.5);\n        }\n    }\n\n    return sharedBGRColor + (globalAlpha << 24);\n}\n\nexport function mixStandardAnd32BitColors(localColorRGB: number, localAlpha: number, parentColor: number)\n{\n    const parentAlpha = ((parentColor >> 24) & 0xFF) / 255;\n\n    const globalAlpha = ((localAlpha * parentAlpha) * 255);\n\n    // flip rgb to bgr\n    const localBGRColor = ((localColorRGB & 0xFF) << 16) + (localColorRGB & 0xFF00) + ((localColorRGB >> 16) & 0xFF);\n\n    const parentBGRColor = parentColor & 0x00FFFFFF;\n\n    let sharedBGRColor = 0xFFFFFF;\n\n    if (localBGRColor + (parentBGRColor << 32) !== WHITE_WHITE)\n    {\n        // color has changed!\n        if (localBGRColor === 0xFFFFFF)\n        {\n            sharedBGRColor = parentBGRColor;\n        }\n        else if (parentBGRColor === 0xFFFFFF)\n        {\n            sharedBGRColor = localBGRColor;\n        }\n\n        else\n        {\n            sharedBGRColor = mixHexColors(localBGRColor, parentBGRColor, 0.5);\n        }\n    }\n\n    return sharedBGRColor + (globalAlpha << 24);\n}\n\n","import { Container, UPDATE_BLEND, UPDATE_COLOR, UPDATE_VISIBLE } from '../Container';\nimport { mixColors } from './mixColors';\nimport { updateLocalTransform } from './updateLocalTransform';\n\nimport type { LayerGroup } from '../LayerGroup';\n\nconst tempContainer = new Container();\n\nexport function updateLayerGroupTransforms(layerGroup: LayerGroup, updateChildRenderGroups = false)\n{\n    updateLayerTransform(layerGroup);\n\n    const childrenToUpdate = layerGroup.childrenToUpdate;\n\n    const updateTick = layerGroup.updateTick;\n\n    layerGroup.updateTick++;\n\n    for (const j in childrenToUpdate)\n    {\n        const childrenAtDepth = childrenToUpdate[j];\n\n        const list = childrenAtDepth.list;\n        const index = childrenAtDepth.index;\n\n        for (let i = 0; i < index; i++)\n        {\n            updateTransformAndChildren(list[i], updateTick, 0);\n        }\n\n        childrenAtDepth.index = 0;\n    }\n\n    if (updateChildRenderGroups)\n    {\n        for (let i = 0; i < layerGroup.layerGroupChildren.length; i++)\n        {\n            updateLayerGroupTransforms(layerGroup.layerGroupChildren[i], updateChildRenderGroups);\n        }\n    }\n}\n\nexport function updateLayerTransform(layerGroup: LayerGroup)\n{\n    if (layerGroup.layerGroupParent)\n    {\n        layerGroup.worldTransform.appendFrom(\n            layerGroup.root.layerTransform,\n            layerGroup.layerGroupParent.worldTransform,\n        );\n\n        layerGroup.worldColor = mixColors(\n            layerGroup.root.layerColor,\n            layerGroup.layerGroupParent.worldColor,\n        );\n    }\n    else\n    {\n        layerGroup.worldTransform.copyFrom(layerGroup.root.layerTransform);\n        layerGroup.worldColor = layerGroup.root.localColor;\n    }\n}\n\nexport function updateTransformAndChildren(container: Container, updateTick: number, updateFlags: number)\n{\n    if (updateTick === container.updateTick) return;\n    container.updateTick = updateTick;\n\n    container.didChange = false;\n\n    const localTransform = container.localTransform;\n\n    updateLocalTransform(localTransform, container);\n\n    const parent = container.parent;\n\n    if (parent && !parent.isLayerRoot)\n    {\n        updateFlags = updateFlags | container._updateFlags;\n\n        container.layerTransform.appendFrom(\n            localTransform,\n            parent.layerTransform,\n        );\n\n        if (updateFlags)\n        {\n            updateColorBlendVisibility(container, parent, updateFlags);\n        }\n    }\n    else\n    {\n        updateFlags = container._updateFlags;\n\n        container.layerTransform.copyFrom(localTransform);\n\n        if (updateFlags)\n        {\n            updateColorBlendVisibility(container, tempContainer, updateFlags);\n        }\n    }\n\n    // don't update children if its a layer..\n    if (!container.isLayerRoot)\n    {\n        const children = container.children;\n        const length = children.length;\n\n        for (let i = 0; i < length; i++)\n        {\n            updateTransformAndChildren(children[i], updateTick, updateFlags);\n        }\n\n        const layerGroup = container.layerGroup;\n\n        if (container.view && !layerGroup.structureDidChange)\n        {\n            layerGroup.updateRenderable(container);\n        }\n    }\n}\n\nfunction updateColorBlendVisibility(\n    container: Container,\n    parent: Container,\n    updateFlags: number,\n): void\n{\n    if (updateFlags & UPDATE_COLOR)\n    {\n        container.layerColor = mixColors(container.localColor, parent.layerColor);\n    }\n\n    if (updateFlags & UPDATE_BLEND)\n    {\n        container.layerBlendMode = container.localBlendMode === 'inherit' ? parent.layerBlendMode : container.localBlendMode;\n    }\n\n    if (updateFlags & UPDATE_VISIBLE)\n    {\n        container.layerVisibleRenderable = container.localVisibleRenderable & parent.layerVisibleRenderable;\n    }\n\n    container._updateFlags = 0;\n}\n\n","import type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { RenderPipes } from '../../../rendering/renderers/types';\nimport type { LayerGroup } from '../LayerGroup';\n\nexport function validateRenderables(layerGroup: LayerGroup, renderPipes: RenderPipes): boolean\n{\n    const { list, index } = layerGroup.childrenRenderablesToUpdate;\n\n    let rebuildRequired = false;\n\n    for (let i = 0; i < index; i++)\n    {\n        const container = list[i];\n\n        const renderable = container.view;\n        const pipe = renderPipes[renderable.renderPipeId as keyof RenderPipes] as RenderPipe<any>;\n\n        rebuildRequired = pipe.validateRenderable(container);\n\n        if (rebuildRequired)\n        {\n            break;\n        }\n    }\n\n    layerGroup.structureDidChange = rebuildRequired;\n\n    if (rebuildRequired)\n    {\n        layerGroup.childrenRenderablesToUpdate.index = 0;\n    }\n\n    return rebuildRequired;\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { buildInstructions } from './utils/buildInstructions';\nimport { collectLayerGroups } from './utils/collectLayerGroups';\nimport { executeInstructions } from './utils/executeInstructions';\nimport { updateLayerGroupTransforms } from './utils/updateLayerGroupTransforms';\nimport { validateRenderables } from './utils/validateRenderables';\n\nimport type { Matrix } from '../../maths/matrix/Matrix';\nimport type { WebGPURenderer } from '../../rendering/renderers/gpu/WebGPURenderer';\nimport type { System } from '../../rendering/renderers/shared/system/System';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { Writeable } from '../../utils/types';\nimport type { Container } from './Container';\nimport type { LayerGroup } from './LayerGroup';\n\n/**\n * The view system manages the main canvas that is attached to the DOM.\n * This main role is to deal with how the holding the view reference and dealing with how it is resized.\n */\n\nexport class LayerSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'layer',\n    } as const;\n\n    private readonly _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected render({ container, transform }: {container: Container, transform: Matrix}): void\n    {\n        container.layer = true;\n\n        const renderer = this._renderer;\n\n        // collect all the renderGroups in the scene and then render them one by one..\n        const layerGroups = collectLayerGroups(container.layerGroup, []);\n\n        const renderPipes = (renderer as WebGPURenderer).renderPipes;\n\n        for (let i = 0; i < layerGroups.length; i++)\n        {\n            const layerGroup = layerGroups[i];\n\n            layerGroup.runOnRender();\n\n            layerGroup.instructionSet.renderPipes = renderPipes;\n\n            if (!layerGroup.structureDidChange)\n            {\n                // phase 1 - validate all the renderables\n                validateRenderables(layerGroup, renderPipes);\n            }\n\n            // phase 2 - update all the transforms\n            // including updating the renderables..\n            updateLayerGroupTransforms(layerGroup);\n\n            if (layerGroup.structureDidChange)\n            {\n                layerGroup.structureDidChange = false;\n\n                // build the renderables\n                buildInstructions(layerGroup, renderPipes);\n            }\n            else\n            {\n                // update remaining renderables\n                updateRenderables(layerGroup);\n            }\n\n            // upload all the things!\n            renderer.renderPipes.batch.upload(layerGroup.instructionSet);\n        }\n\n        if (transform)\n        {\n            container.layerGroup.worldTransform.copyFrom(transform);\n        }\n\n        renderer.globalUniforms.start(\n            {\n                projectionData: renderer.renderTarget.rootRenderTarget,\n                worldTransformMatrix: container.layerGroup.worldTransform\n            }\n        );\n\n        executeInstructions(container.layerGroup, renderPipes);\n\n        // TODO need to add some events / runners for things like this to hook up to\n        if (renderPipes.uniformBatch)\n        {\n            renderPipes.uniformBatch.renderEnd();\n            renderPipes.uniformBuffer.renderEnd();\n        }\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n\nfunction updateRenderables(layerGroup: LayerGroup)\n{\n    const { list, index } = layerGroup.childrenRenderablesToUpdate;\n\n    for (let i = 0; i < index; i++)\n    {\n        const container = list[i];\n\n        if (container.didViewUpdate)\n        {\n            layerGroup.updateRenderable(container);\n        }\n    }\n\n    layerGroup.childrenRenderablesToUpdate.index = 0;\n}\n\n","import type { Matrix } from '../../../../../maths/matrix/Matrix';\n\nexport function buildUvs(\n    vertices: number[],\n    verticesStride: number,\n    verticesOffset: number,\n\n    uvs: number[],\n    uvsOffset: number,\n    uvsStride: number,\n\n    size: number,\n    matrix: Matrix = null\n): void\n{\n    let index = 0;\n\n    verticesOffset *= verticesStride;\n    uvsOffset *= uvsStride;\n\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n\n    while (index < size)\n    {\n        const x = vertices[verticesOffset];\n        const y = vertices[verticesOffset + 1];\n\n        uvs[uvsOffset] = (a * x) + (c * y) + tx;\n        uvs[uvsOffset + 1] = (b * x) + (d * y) + ty;\n\n        uvsOffset += uvsStride;\n\n        verticesOffset += verticesStride;\n\n        index++;\n    }\n}\n\nexport function buildSimpleUvs(\n    uvs: number[],\n    uvsOffset: number,\n    uvsStride: number,\n    size: number,\n)\n{\n    let index = 0;\n\n    uvsOffset *= uvsStride;\n\n    while (index < size)\n    {\n        uvs[uvsOffset] = 0;\n        uvs[uvsOffset + 1] = 0;\n\n        uvsOffset += uvsStride;\n\n        index++;\n    }\n}\n","import type { Matrix } from '../../../../../maths/matrix/Matrix';\n\nexport function transformVertices(vertices: number[], m: Matrix, offset?: number, stride?: number, size?: number)\n{\n    const a = m.a;\n    const b = m.b;\n    const c = m.c;\n    const d = m.d;\n    const tx = m.tx;\n    const ty = m.ty;\n\n    offset = offset || 0;\n    stride = stride || 2;\n    size = size || (vertices.length / stride) - offset;\n\n    let index = offset * stride;\n\n    for (let i = 0; i < size; i++)\n    {\n        const x = vertices[index];\n        const y = vertices[index + 1];\n\n        vertices[index] = (a * x) + (c * y) + tx;\n        vertices[index + 1] = (b * x) + (d * y) + ty;\n\n        index += stride;\n    }\n}\n","import { mixColors } from '../../container/utils/mixColors';\n\nimport type { Batch, BatchableObject, Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { GraphicsView } from './GraphicsView';\n\nexport class BatchableGraphics implements BatchableObject\n{\n    public indexStart: number;\n    public textureId: number;\n    public texture: Texture;\n    public location: number;\n    public batcher: Batcher = null;\n    public batch: Batch = null;\n    public renderable: Renderable<GraphicsView>;\n    public indexOffset: number;\n    public indexSize: number;\n    public vertexOffset: number;\n    public vertexSize: number;\n    public color: number;\n    public alpha: number;\n    public applyTransform = true;\n    public roundPixels: 0 | 1 = 0;\n\n    public geometryData: { vertices: number[]; uvs: number[]; indices: number[]; };\n\n    get blendMode()\n    {\n        if (this.applyTransform)\n        {\n            return this.renderable.layerBlendMode;\n        }\n\n        return 'normal';\n    }\n\n    public packIndex(indexBuffer: Uint32Array, index: number, indicesOffset: number)\n    {\n        const indices = this.geometryData.indices;\n\n        for (let i = 0; i < this.indexSize; i++)\n        {\n            indexBuffer[index++] = indices[i + this.indexOffset] + indicesOffset - this.vertexOffset;\n        }\n    }\n\n    public packAttributes(\n        float32View: Float32Array,\n        uint32View: Uint32Array,\n        index: number,\n        textureId: number\n    )\n    {\n        const geometry = this.geometryData;\n        const graphics = this.renderable;\n\n        const positions = geometry.vertices;\n        const uvs = geometry.uvs;\n\n        const offset = this.vertexOffset * 2;\n        const vertSize = (this.vertexOffset + this.vertexSize) * 2;\n\n        const rgb = this.color;\n        const bgr = (rgb >> 16) | (rgb & 0xff00) | ((rgb & 0xff) << 16);\n\n        if (this.applyTransform)\n        {\n            const argb = mixColors(bgr + ((this.alpha * 255) << 24), graphics.layerColor);\n\n            const wt = graphics.layerTransform;\n            const textureIdAndRound = (textureId << 16) | (this.roundPixels & 0xFFFF);\n\n            const a = wt.a;\n            const b = wt.b;\n            const c = wt.c;\n            const d = wt.d;\n            const tx = wt.tx;\n            const ty = wt.ty;\n\n            for (let i = offset; i < vertSize; i += 2)\n            {\n                const x = positions[i];\n                const y = positions[i + 1];\n\n                float32View[index] = (a * x) + (c * y) + tx;\n                float32View[index + 1] = (b * x) + (d * y) + ty;\n\n                float32View[index + 2] = uvs[i];\n                float32View[index + 3] = uvs[i + 1];\n\n                uint32View[index + 4] = argb;\n                uint32View[index + 5] = textureIdAndRound;\n\n                index += 6;\n            }\n        }\n        else\n        {\n            const argb = bgr + ((this.alpha * 255) << 24);\n\n            for (let i = offset; i < vertSize; i += 2)\n            {\n                float32View[index] = positions[i];\n                float32View[index + 1] = positions[i + 1];\n\n                float32View[index + 2] = uvs[i];\n                float32View[index + 3] = uvs[i + 1];\n\n                uint32View[index + 4] = argb;\n                uint32View[index + 5] = textureId;\n\n                index += 6;\n            }\n        }\n    }\n\n    // TODO rename to vertexSize\n    get vertSize()\n    {\n        return this.vertexSize;\n    }\n\n    public copyTo(gpuBuffer: BatchableGraphics)\n    {\n        gpuBuffer.indexOffset = this.indexOffset;\n        gpuBuffer.indexSize = this.indexSize;\n\n        gpuBuffer.vertexOffset = this.vertexOffset;\n        gpuBuffer.vertexSize = this.vertexSize;\n\n        gpuBuffer.color = this.color;\n        gpuBuffer.alpha = this.alpha;\n\n        gpuBuffer.texture = this.texture;\n        gpuBuffer.geometryData = this.geometryData;\n    }\n}\n","import type { Circle } from '../../../../maths/shapes/Circle';\nimport type { Ellipse } from '../../../../maths/shapes/Ellipse';\nimport type { RoundedRectangle } from '../../../../maths/shapes/RoundedRectangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\ntype RoundedShape = Circle | Ellipse | RoundedRectangle;\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildCircle: ShapeBuildCommand<RoundedShape> = {\n\n    build(shape: RoundedShape, points: number[])\n    {\n        let x;\n        let y;\n        let dx;\n        let dy;\n\n        let rx;\n        let ry;\n\n        if (shape.type === 'circle')\n        {\n            const circle = shape as Circle;\n\n            x = circle.x;\n            y = circle.y;\n            rx = ry = circle.radius;\n            dx = dy = 0;\n        }\n\n        else if (shape.type === 'ellipse')\n        {\n            const ellipse = shape as Ellipse;\n\n            x = ellipse.x;\n            y = ellipse.y;\n            rx = ellipse.halfWidth;\n            ry = ellipse.halfHeight;\n            dx = dy = 0;\n        }\n        else\n        {\n            const roundedRect = shape as RoundedRectangle;\n            const halfWidth = roundedRect.width / 2;\n            const halfHeight = roundedRect.height / 2;\n\n            x = roundedRect.x + halfWidth;\n            y = roundedRect.y + halfHeight;\n            rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));\n            dx = halfWidth - rx;\n            dy = halfHeight - ry;\n        }\n\n        if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0))\n        {\n            return points;\n        }\n\n        // Choose a number of segments such that the maximum absolute deviation from the circle is approximately 0.029\n        const n = Math.ceil(2.3 * Math.sqrt(rx + ry));\n        const m = (n * 8) + (dx ? 4 : 0) + (dy ? 4 : 0);\n\n        if (m === 0)\n        {\n            return points;\n        }\n\n        if (n === 0)\n        {\n            points[0] = points[6] = x + dx;\n            points[1] = points[3] = y + dy;\n            points[2] = points[4] = x - dx;\n            points[5] = points[7] = y - dy;\n\n            return points;\n        }\n\n        let j1 = 0;\n        let j2 = (n * 4) + (dx ? 2 : 0) + 2;\n        let j3 = j2;\n        let j4 = m;\n\n        let x0 = dx + rx;\n        let y0 = dy;\n        let x1 = x + x0;\n        let x2 = x - x0;\n        let y1 = y + y0;\n\n        points[j1++] = x1;\n        points[j1++] = y1;\n        points[--j2] = y1;\n        points[--j2] = x2;\n\n        if (dy)\n        {\n            const y2 = y - y0;\n\n            points[j3++] = x2;\n            points[j3++] = y2;\n            points[--j4] = y2;\n            points[--j4] = x1;\n        }\n\n        for (let i = 1; i < n; i++)\n        {\n            const a = Math.PI / 2 * (i / n);\n            const x0 = dx + (Math.cos(a) * rx);\n            const y0 = dy + (Math.sin(a) * ry);\n            const x1 = x + x0;\n            const x2 = x - x0;\n            const y1 = y + y0;\n            const y2 = y - y0;\n\n            points[j1++] = x1;\n            points[j1++] = y1;\n            points[--j2] = y1;\n            points[--j2] = x2;\n            points[j3++] = x2;\n            points[j3++] = y2;\n            points[--j4] = y2;\n            points[--j4] = x1;\n        }\n\n        x0 = dx;\n        y0 = dy + ry;\n        x1 = x + x0;\n        x2 = x - x0;\n        y1 = y + y0;\n        const y2 = y - y0;\n\n        points[j1++] = x1;\n        points[j1++] = y1;\n        points[--j4] = y2;\n        points[--j4] = x1;\n\n        if (dx)\n        {\n            points[j1++] = x2;\n            points[j1++] = y1;\n            points[--j4] = y2;\n            points[--j4] = x2;\n        }\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number)\n    {\n        if (points.length === 0)\n        {\n            return;\n        }\n\n        let x = 0;\n        let y = 0;\n\n        const div = points.length / 4;\n\n        x += points[0];\n        y += points[1];\n\n        x += points[div | 0];\n        y += points[(div | 0) + 1];\n\n        x += points[(div * 2) | 0];\n        y += points[((div * 2) | 0) + 1];\n\n        x += points[(div * 3) | 0];\n        y += points[((div * 3) | 0) + 1];\n\n        x /= 4;\n        y /= 4;\n\n        let count = verticesOffset;\n\n        vertices[count * verticesStride] = x;\n        vertices[(count * verticesStride) + 1] = y;\n\n        count++;\n        const center = verticesOffset;\n\n        vertices[count * verticesStride] = points[0];\n        vertices[(count * verticesStride) + 1] = points[1];\n\n        count++;\n\n        for (let i = 2; i < points.length; i += 2)\n        {\n            vertices[count * verticesStride] = points[i];\n            vertices[(count * verticesStride) + 1] = points[i + 1];\n\n            // add some uvs\n            indices[indicesOffset++] = count;\n            indices[indicesOffset++] = center;\n            indices[indicesOffset++] = count - 1;\n\n            count++;\n        }\n\n        indices[indicesOffset++] = count - 1;\n        indices[indicesOffset++] = center;\n        indices[indicesOffset++] = center + 1;\n    },\n};\n","export type LineCap = 'butt' | 'round' | 'square';\nexport type LineJoin = 'round' | 'bevel' | 'miter';\n\nexport const closePointEps = 1e-4;\nexport const curveEps = 0.0001;\n","export function getOrientationOfPoints(points: number[]): number\n{\n    const m = points.length;\n\n    if (m < 6)\n    {\n        return 1;\n    }\n\n    let area = 0;\n\n    for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2)\n    {\n        const x2 = points[i];\n        const y2 = points[i + 1];\n\n        area += (x2 - x1) * (y2 + y1);\n\n        x1 = x2;\n        y1 = y2;\n    }\n\n    if (area < 0)\n    {\n        return -1;\n    }\n\n    return 1;\n}\n","import { Point } from '../../../../maths/point/Point';\nimport { closePointEps, curveEps } from '../const';\nimport { getOrientationOfPoints } from '../utils/getOrientationOfPoints';\n\nimport type { StrokeStyle } from '../GraphicsContext';\n\n/**\n * Buffers vertices to draw a square cap.\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n * @param {number} x - X-coord of end point\n * @param {number} y - Y-coord of end point\n * @param {number} nx - X-coord of line normal pointing inside\n * @param {number} ny - Y-coord of line normal pointing inside\n * @param {number} innerWeight - Weight of inner points\n * @param {number} outerWeight - Weight of outer points\n * @param {boolean} clockwise - Whether the cap is drawn clockwise\n * @param {Array<number>} verts - vertex buffer\n * @returns {number} - no. of vertices pushed\n */\nfunction square(\n    x: number,\n    y: number,\n    nx: number,\n    ny: number,\n    innerWeight: number,\n    outerWeight: number,\n    clockwise: boolean, /* rotation for square (true at left end, false at right end) */\n    verts: Array<number>\n): number\n{\n    const ix = x - (nx * innerWeight);\n    const iy = y - (ny * innerWeight);\n    const ox = x + (nx * outerWeight);\n    const oy = y + (ny * outerWeight);\n\n    /* Rotate nx,ny for extension vector */\n    let exx; let\n        eyy;\n\n    if (clockwise)\n    {\n        exx = ny;\n        eyy = -nx;\n    }\n    else\n    {\n        exx = -ny;\n        eyy = nx;\n    }\n\n    /* [i|0]x,y extended at cap */\n    const eix = ix + exx;\n    const eiy = iy + eyy;\n    const eox = ox + exx;\n    const eoy = oy + eyy;\n\n    /* Square itself must be inserted clockwise*/\n    verts.push(eix, eiy);\n    verts.push(eox, eoy);\n\n    return 2;\n}\n\n/**\n * Buffers vertices to draw an arc at the line joint or cap.\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n * @param {number} cx - X-coord of center\n * @param {number} cy - Y-coord of center\n * @param {number} sx - X-coord of arc start\n * @param {number} sy - Y-coord of arc start\n * @param {number} ex - X-coord of arc end\n * @param {number} ey - Y-coord of arc end\n * @param {Array[]} verts - buffer of vertices\n * @param {boolean} clockwise - orientation of vertices\n * @returns {number} - no. of vertices pushed\n */\nfunction round(\n    cx: number,\n    cy: number,\n    sx: number,\n    sy: number,\n    ex: number,\n    ey: number,\n    verts: number[],\n    clockwise: boolean, /* if not cap, then clockwise is turn of joint, otherwise rotation from angle0 to angle1 */\n): number\n{\n    const cx2p0x = sx - cx;\n    const cy2p0y = sy - cy;\n\n    let angle0 = Math.atan2(cx2p0x, cy2p0y);\n    let angle1 = Math.atan2(ex - cx, ey - cy);\n\n    if (clockwise && angle0 < angle1)\n    {\n        angle0 += Math.PI * 2;\n    }\n    else if (!clockwise && angle0 > angle1)\n    {\n        angle1 += Math.PI * 2;\n    }\n\n    let startAngle = angle0;\n    const angleDiff = angle1 - angle0;\n    const absAngleDiff = Math.abs(angleDiff);\n\n    const radius = Math.sqrt((cx2p0x * cx2p0x) + (cy2p0y * cy2p0y));\n    const segCount = ((15 * absAngleDiff * Math.sqrt(radius) / Math.PI) >> 0) + 1;\n    const angleInc = angleDiff / segCount;\n\n    startAngle += angleInc;\n\n    if (clockwise)\n    {\n        verts.push(cx, cy);\n        verts.push(sx, sy);\n\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\n        {\n            verts.push(cx, cy);\n            verts.push(cx + ((Math.sin(angle) * radius)),\n                cy + ((Math.cos(angle) * radius)));\n        }\n\n        verts.push(cx, cy);\n        verts.push(ex, ey);\n    }\n    else\n    {\n        verts.push(sx, sy);\n        verts.push(cx, cy);\n\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\n        {\n            verts.push(cx + ((Math.sin(angle) * radius)),\n                cy + ((Math.cos(angle) * radius)));\n            verts.push(cx, cy);\n        }\n\n        verts.push(ex, ey);\n        verts.push(cx, cy);\n    }\n\n    return segCount * 2;\n}\n\n/**\n * Builds a line to draw using the polygon method.\n * @param points\n * @param lineStyle\n * @param flipAlignment\n * @param closed\n * @param vertices\n * @param _verticesStride\n * @param _verticesOffset\n * @param indices\n * @param _indicesOffset\n */\nexport function buildLine(\n    points: number[],\n    lineStyle: StrokeStyle,\n    flipAlignment: boolean,\n    closed: boolean,\n    // alignment:number,\n\n    vertices: number[],\n    _verticesStride: number,\n    _verticesOffset: number,\n\n    indices: number[],\n    _indicesOffset: number,\n\n): void\n{\n    // const shape = graphicsData.shape as Polygon;\n    //   let points = graphicsData.points || shape.points.slice();\n    const eps = closePointEps;\n\n    if (points.length === 0)\n    {\n        return;\n    }\n\n    const style = lineStyle;\n\n    let alignment = style.alignment;\n\n    if (lineStyle.alignment !== 0.5)\n    {\n        // rotate the points!\n        let orientation = getOrientationOfPoints(points);\n\n        if (flipAlignment)orientation *= -1;\n\n        alignment = ((alignment - 0.5) * orientation) + 0.5;\n    }\n\n    // get first and last point.. figure out the middle!\n    const firstPoint = new Point(points[0], points[1]);\n    const lastPoint = new Point(points[points.length - 2], points[points.length - 1]);\n    const closedShape = closed;\n    const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps\n        && Math.abs(firstPoint.y - lastPoint.y) < eps;\n\n    // if the first point is the last point - gonna have issues :)\n    if (closedShape)\n    {\n        // need to clone as we are going to slightly modify the shape..\n        points = points.slice();\n\n        if (closedPath)\n        {\n            points.pop();\n            points.pop();\n            lastPoint.set(points[points.length - 2], points[points.length - 1]);\n        }\n\n        const midPointX = (firstPoint.x + lastPoint.x) * 0.5;\n        const midPointY = (lastPoint.y + firstPoint.y) * 0.5;\n\n        points.unshift(midPointX, midPointY);\n        points.push(midPointX, midPointY);\n    }\n\n    const verts = vertices;\n\n    const length = points.length / 2;\n    let indexCount = points.length;\n    const indexStart = verts.length / 2;\n\n    // Max. inner and outer width\n    const width = style.width / 2;\n    const widthSquared = width * width;\n    const miterLimitSquared = style.miterLimit * style.miterLimit;\n\n    /* Line segments of interest where (x1,y1) forms the corner. */\n    let x0 = points[0];\n    let y0 = points[1];\n    let x1 = points[2];\n    let y1 = points[3];\n    let x2 = 0;\n    let y2 = 0;\n\n    /* perp[?](x|y) = the line normal with magnitude lineWidth. */\n    let perpX = -(y0 - y1);\n    let perpY = x0 - x1;\n    let perp1x = 0;\n    let perp1y = 0;\n\n    let dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n\n    perpX /= dist;\n    perpY /= dist;\n    perpX *= width;\n    perpY *= width;\n\n    const ratio = alignment;// 0.5;\n    const innerWeight = (1 - ratio) * 2;\n    const outerWeight = ratio * 2;\n\n    if (!closedShape)\n    {\n        if (style.cap === 'round')\n        {\n            indexCount += round(\n                x0 - (perpX * (innerWeight - outerWeight) * 0.5),\n                y0 - (perpY * (innerWeight - outerWeight) * 0.5),\n                x0 - (perpX * innerWeight),\n                y0 - (perpY * innerWeight),\n                x0 + (perpX * outerWeight),\n                y0 + (perpY * outerWeight),\n                verts,\n                true,\n            ) + 2;\n        }\n        else if (style.cap === 'square')\n        {\n            indexCount += square(x0, y0, perpX, perpY, innerWeight, outerWeight, true, verts);\n        }\n    }\n\n    // Push first point (below & above vertices)\n    verts.push(\n        x0 - (perpX * innerWeight),\n        y0 - (perpY * innerWeight));\n    verts.push(\n        x0 + (perpX * outerWeight),\n        y0 + (perpY * outerWeight));\n\n    for (let i = 1; i < length - 1; ++i)\n    {\n        x0 = points[(i - 1) * 2];\n        y0 = points[((i - 1) * 2) + 1];\n\n        x1 = points[i * 2];\n        y1 = points[(i * 2) + 1];\n\n        x2 = points[(i + 1) * 2];\n        y2 = points[((i + 1) * 2) + 1];\n\n        perpX = -(y0 - y1);\n        perpY = x0 - x1;\n\n        dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n        perpX /= dist;\n        perpY /= dist;\n        perpX *= width;\n        perpY *= width;\n\n        perp1x = -(y1 - y2);\n        perp1y = x1 - x2;\n\n        dist = Math.sqrt((perp1x * perp1x) + (perp1y * perp1y));\n        perp1x /= dist;\n        perp1y /= dist;\n        perp1x *= width;\n        perp1y *= width;\n\n        /* d[x|y](0|1) = the component displacement between points p(0,1|1,2) */\n        const dx0 = x1 - x0;\n        const dy0 = y0 - y1;\n        const dx1 = x1 - x2;\n        const dy1 = y2 - y1;\n\n        /* +ve if internal angle < 90 degree, -ve if internal angle > 90 degree. */\n        const dot = (dx0 * dx1) + (dy0 * dy1);\n        /* +ve if internal angle counterclockwise, -ve if internal angle clockwise. */\n        const cross = (dy0 * dx1) - (dy1 * dx0);\n        const clockwise = (cross < 0);\n\n        /* Going nearly parallel? */\n        /* atan(0.001) ~= 0.001 rad ~= 0.057 degree */\n        if (Math.abs(cross) < 0.001 * Math.abs(dot))\n        {\n            verts.push(\n                x1 - (perpX * innerWeight),\n                y1 - (perpY * innerWeight));\n            verts.push(\n                x1 + (perpX * outerWeight),\n                y1 + (perpY * outerWeight));\n\n            /* 180 degree corner? */\n            if (dot >= 0)\n            {\n                if (style.join === 'round')\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false) + 4;\n                }\n                else\n                {\n                    indexCount += 2;\n                }\n\n                verts.push(\n                    x1 - (perp1x * outerWeight),\n                    y1 - (perp1y * outerWeight));\n                verts.push(\n                    x1 + (perp1x * innerWeight),\n                    y1 + (perp1y * innerWeight));\n            }\n\n            continue;\n        }\n\n        /* p[x|y] is the miter point. pDist is the distance between miter point and p1. */\n        const c1 = ((-perpX + x0) * (-perpY + y1)) - ((-perpX + x1) * (-perpY + y0));\n        const c2 = ((-perp1x + x2) * (-perp1y + y1)) - ((-perp1x + x1) * (-perp1y + y2));\n        const px = ((dx0 * c2) - (dx1 * c1)) / cross;\n        const py = ((dy1 * c1) - (dy0 * c2)) / cross;\n        const pDist = ((px - x1) * (px - x1)) + ((py - y1) * (py - y1));\n\n        /* Inner miter point */\n        const imx = x1 + ((px - x1) * innerWeight);\n        const imy = y1 + ((py - y1) * innerWeight);\n        /* Outer miter point */\n        const omx = x1 - ((px - x1) * outerWeight);\n        const omy = y1 - ((py - y1) * outerWeight);\n\n        /* Is the inside miter point too far away, creating a spike? */\n        const smallerInsideSegmentSq = Math.min((dx0 * dx0) + (dy0 * dy0), (dx1 * dx1) + (dy1 * dy1));\n        const insideWeight = clockwise ? innerWeight : outerWeight;\n        const smallerInsideDiagonalSq = smallerInsideSegmentSq + (insideWeight * insideWeight * widthSquared);\n        const insideMiterOk = pDist <= smallerInsideDiagonalSq;\n\n        if (insideMiterOk)\n        {\n            if (style.join === 'bevel' || pDist / widthSquared > miterLimitSquared)\n            {\n                if (clockwise) /* rotating at inner angle */\n                {\n                    verts.push(imx, imy); // inner miter point\n                    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight)); // first segment's outer vertex\n                    verts.push(imx, imy); // inner miter point\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight)); // second segment's outer vertex\n                }\n                else /* rotating at outer angle */\n                {\n                    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight)); // first segment's inner vertex\n                    verts.push(omx, omy); // outer miter point\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight)); // second segment's outer vertex\n                    verts.push(omx, omy); // outer miter point\n                }\n\n                indexCount += 2;\n            }\n            else if (style.join === 'round')\n            {\n                if (clockwise) /* arc is outside */\n                {\n                    verts.push(imx, imy);\n                    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight));\n\n                    indexCount += round(\n                        x1, y1,\n                        x1 + (perpX * outerWeight), y1 + (perpY * outerWeight),\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\n                        verts, true\n                    ) + 4;\n\n                    verts.push(imx, imy);\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight));\n                }\n                else /* arc is inside */\n                {\n                    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight));\n                    verts.push(omx, omy);\n\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false\n                    ) + 4;\n\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight));\n                    verts.push(omx, omy);\n                }\n            }\n            else\n            {\n                verts.push(imx, imy);\n                verts.push(omx, omy);\n            }\n        }\n        else // inside miter is NOT ok\n        {\n            verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight)); // first segment's inner vertex\n            verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight)); // first segment's outer vertex\n            if (style.join === 'round')\n            {\n                if (clockwise) /* arc is outside */\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 + (perpX * outerWeight), y1 + (perpY * outerWeight),\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\n                        verts, true\n                    ) + 2;\n                }\n                else /* arc is inside */\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false\n                    ) + 2;\n                }\n            }\n            else if (style.join === 'miter' && pDist / widthSquared <= miterLimitSquared)\n            {\n                if (clockwise)\n                {\n                    verts.push(omx, omy); // inner miter point\n                    verts.push(omx, omy); // inner miter point\n                }\n                else\n                {\n                    verts.push(imx, imy); // outer miter point\n                    verts.push(imx, imy); // outer miter point\n                }\n                indexCount += 2;\n            }\n            verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight)); // second segment's inner vertex\n            verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight)); // second segment's outer vertex\n            indexCount += 2;\n        }\n    }\n\n    x0 = points[(length - 2) * 2];\n    y0 = points[((length - 2) * 2) + 1];\n\n    x1 = points[(length - 1) * 2];\n    y1 = points[((length - 1) * 2) + 1];\n\n    perpX = -(y0 - y1);\n    perpY = x0 - x1;\n\n    dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n    perpX /= dist;\n    perpY /= dist;\n    perpX *= width;\n    perpY *= width;\n\n    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight));\n    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight));\n\n    if (!closedShape)\n    {\n        if (style.cap === 'round')\n        {\n            indexCount += round(\n                x1 - (perpX * (innerWeight - outerWeight) * 0.5),\n                y1 - (perpY * (innerWeight - outerWeight) * 0.5),\n                x1 - (perpX * innerWeight),\n                y1 - (perpY * innerWeight),\n                x1 + (perpX * outerWeight),\n                y1 + (perpY * outerWeight),\n                verts,\n                false\n            ) + 2;\n        }\n        else if (style.cap === 'square')\n        {\n            indexCount += square(x1, y1, perpX, perpY, innerWeight, outerWeight, false, verts);\n        }\n    }\n\n    // const indices = graphicsGeometry.indices;\n    const eps2 = curveEps * curveEps;\n\n    // indices.push(indexStart);\n    for (let i = indexStart; i < indexCount + indexStart - 2; ++i)\n    {\n        x0 = verts[(i * 2)];\n        y0 = verts[(i * 2) + 1];\n\n        x1 = verts[(i + 1) * 2];\n        y1 = verts[((i + 1) * 2) + 1];\n\n        x2 = verts[(i + 2) * 2];\n        y2 = verts[((i + 2) * 2) + 1];\n\n        /* Skip zero area triangles */\n        if (Math.abs((x0 * (y1 - y2)) + (x1 * (y2 - y0)) + (x2 * (y0 - y1))) < eps2)\n        {\n            continue;\n        }\n\n        indices.push(i, i + 1, i + 2);\n    }\n}\n\n","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","import { default as earcut } from 'earcut';\n\nexport function triangulateWithHoles(\n    points: number[],\n    holes: number[],\n    vertices: number[],\n    verticesStride: number,\n    verticesOffset: number,\n\n    indices: number[],\n    indicesOffset: number\n)\n{\n    const triangles = earcut(points, holes, 2);\n\n    if (!triangles)\n    {\n        return;\n    }\n\n    for (let i = 0; i < triangles.length; i += 3)\n    {\n        indices[indicesOffset++] = (triangles[i] + verticesOffset);\n        indices[indicesOffset++] = (triangles[i + 1] + verticesOffset);\n        indices[indicesOffset++] = (triangles[i + 2] + verticesOffset);\n    }\n\n    let index = verticesOffset * verticesStride;\n\n    for (let i = 0; i < points.length; i += 2)\n    {\n        vertices[index] = points[i];\n        vertices[index + 1] = points[i + 1];\n\n        index += verticesStride;\n    }\n}\n\n","import { triangulateWithHoles } from '../utils/triangulateWithHoles';\n\nimport type { Polygon } from '../../../../maths/shapes/Polygon';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\nconst emptyArray: number[] = [];\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildPolygon: ShapeBuildCommand<Polygon> = {\n\n    build(shape: Polygon, points: number[]): number[]\n    {\n        for (let i = 0; i < shape.points.length; i++)\n        {\n            points[i] = shape.points[i];\n        }\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n        //  holes: number[],\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        triangulateWithHoles(points, emptyArray, vertices, verticesStride, verticesOffset, indices, indicesOffset);\n    },\n\n};\n","import type { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildRectangle: ShapeBuildCommand<Rectangle> = {\n\n    build(shape: Rectangle, points: number[]): number[]\n    {\n        const rectData = shape;\n        const x = rectData.x;\n        const y = rectData.y;\n        const width = rectData.width;\n        const height = rectData.height;\n\n        if (!(width >= 0 && height >= 0))\n        {\n            return points;\n        }\n\n        points[0] = x;\n        points[1] = y;\n        points[2] = x + width;\n        points[3] = y;\n        points[4] = x + width;\n        points[5] = y + height;\n        points[6] = x;\n        points[7] = y + height;\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        let count = 0;\n\n        verticesOffset *= verticesStride;\n\n        vertices[verticesOffset + count] = points[0];\n        vertices[verticesOffset + count + 1] = points[1];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[2];\n        vertices[verticesOffset + count + 1] = points[3];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[6];\n        vertices[verticesOffset + count + 1] = points[7];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[4];\n        vertices[verticesOffset + count + 1] = points[5];\n\n        count += verticesStride;\n\n        const verticesIndex = verticesOffset / verticesStride;\n\n        // triangle 1\n        indices[indicesOffset++] = verticesIndex;\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 2;\n\n        // triangle 2\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 3;\n        indices[indicesOffset++] = verticesIndex + 2;\n    },\n};\n","import type { Triangle } from '../../../../maths/shapes/Triangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\n/**\n * Builds a triangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildTriangle: ShapeBuildCommand<Triangle> = {\n\n    build(shape: Triangle, points: number[]): number[]\n    {\n        points[0] = shape.x;\n        points[1] = shape.y;\n        points[2] = shape.x2;\n        points[3] = shape.y2;\n        points[4] = shape.x3;\n        points[5] = shape.y3;\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        let count = 0;\n\n        verticesOffset *= verticesStride;\n\n        vertices[verticesOffset + count] = points[0];\n        vertices[verticesOffset + count + 1] = points[1];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[2];\n        vertices[verticesOffset + count + 1] = points[3];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[4];\n        vertices[verticesOffset + count + 1] = points[5];\n\n        const verticesIndex = verticesOffset / verticesStride;\n\n        // triangle 1\n        indices[indicesOffset++] = verticesIndex;\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 2;\n    },\n};\n","import { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { buildSimpleUvs, buildUvs } from '../../../../rendering/renderers/shared/geometry/utils/buildUvs';\nimport { transformVertices } from '../../../../rendering/renderers/shared/geometry/utils/transformVertices';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { BigPool } from '../../../../utils/pool/PoolGroup';\nimport { BatchableGraphics } from '../BatchableGraphics';\nimport { buildCircle } from '../buildCommands/buildCircle';\nimport { buildLine } from '../buildCommands/buildLine';\nimport { buildPolygon } from '../buildCommands/buildPolygon';\nimport { buildRectangle } from '../buildCommands/buildRectangle';\nimport { buildTriangle } from '../buildCommands/buildTriangle';\nimport { triangulateWithHoles } from './triangulateWithHoles';\n\nimport type { Polygon } from '../../../../maths/shapes/Polygon';\nimport type { ShapeBuildCommand } from '../buildCommands/ShapeBuildCommand';\nimport type { ConvertedFillStyle, GraphicsContext, TextureInstruction } from '../GraphicsContext';\nimport type { GraphicsPath } from '../path/GraphicsPath';\nimport type { ShapePath } from '../path/ShapePath';\n\nconst buildMap: Record<string, ShapeBuildCommand> = {\n    rectangle: buildRectangle,\n    polygon: buildPolygon,\n    triangle: buildTriangle,\n    circle: buildCircle,\n    ellipse: buildCircle,\n    roundedRectangle: buildCircle,\n};\n\nconst tempRect = new Rectangle();\n\nexport function buildContextBatches(context: GraphicsContext): BatchableGraphics[]\n{\n    const vertices: number[] = [];\n    const uvs: number[] = [];\n    const indices: number[] = [];\n\n    const geometryData = {\n        vertices,\n        uvs,\n        indices,\n    };\n\n    const batches: BatchableGraphics[] = [];\n\n    for (let i = 0; i < context.instructions.length; i++)\n    {\n        const instruction = context.instructions[i];\n\n        if (instruction.action === 'texture')\n        {\n            // add a quad!\n            addTextureToGeometryData(instruction.data, batches, geometryData);\n        }\n        else if (instruction.action === 'fill' || instruction.action === 'stroke')\n        {\n            const isStroke = instruction.action === 'stroke';\n\n            // build path collection of polys and shapes points..\n            const shapePath = instruction.data.path.shapePath;\n\n            const style = instruction.data.style;\n\n            const hole = instruction.data.hole;\n\n            if (isStroke && hole)\n            {\n                addShapePathToGeometryData(hole.shapePath, style, null, true, batches, geometryData);\n            }\n\n            addShapePathToGeometryData(shapePath, style, hole, isStroke, batches, geometryData);\n        }\n    }\n\n    return batches;\n}\n\nfunction addTextureToGeometryData(\n    data: TextureInstruction['data'],\n    batches: BatchableGraphics[],\n    geometryData: {\n        vertices: number[];\n        uvs: number[];\n        indices: number[];\n    }\n)\n{\n    const { vertices, uvs, indices } = geometryData;\n\n    const indexOffset = indices.length;\n    const vertOffset = vertices.length / 2;\n\n    const points: number[] = [];\n\n    const build = buildMap.rectangle;\n\n    const rect = tempRect;\n\n    const texture = data.image;\n\n    rect.x = data.dx;\n    rect.y = data.dy;\n    rect.width = data.dw;\n    rect.height = data.dh;\n\n    const matrix = data.transform;\n\n    // TODO - this can be cached...\n    build.build(rect, points);\n\n    if (matrix)\n    {\n        transformVertices(points, matrix);\n    }\n\n    build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n\n    const textureUvs = texture.layout.uvs;\n\n    uvs.push(\n        textureUvs.x0, textureUvs.y0,\n        textureUvs.x1, textureUvs.y1,\n        textureUvs.x3, textureUvs.y3,\n        textureUvs.x2, textureUvs.y2,\n    );\n\n    const graphicsBatch = BigPool.get(BatchableGraphics);\n\n    graphicsBatch.indexOffset = indexOffset;\n    graphicsBatch.indexSize = indices.length - indexOffset;\n\n    graphicsBatch.vertexOffset = vertOffset;\n    graphicsBatch.vertexSize = (vertices.length / 2) - vertOffset;\n\n    graphicsBatch.color = data.style;\n    graphicsBatch.alpha = data.alpha;\n\n    graphicsBatch.texture = texture;\n    graphicsBatch.geometryData = geometryData;\n\n    batches.push(graphicsBatch);\n}\n\nfunction addShapePathToGeometryData(\n    shapePath: ShapePath,\n    style: ConvertedFillStyle,\n    hole: GraphicsPath,\n    isStroke: boolean,\n    batches: BatchableGraphics[],\n    geometryData: {\n        vertices: number[];\n        uvs: number[];\n        indices: number[];\n    }\n)\n{\n    const { vertices, uvs, indices } = geometryData;\n    const lastIndex = shapePath.shapePrimitives.length - 1;\n\n    shapePath.shapePrimitives.forEach(({ shape, transform: matrix }, i) =>\n    {\n        const indexOffset = indices.length;\n        const vertOffset = vertices.length / 2;\n\n        const points: number[] = [];\n\n        const build = buildMap[shape.type];\n\n        // TODO - this can be cached...\n        // TODO - THIS IS DONE TWICE!!!!!!\n        // ONCE FOR STROKE AND ONCE FOR FILL\n        // move to the ShapePath2D class itself?\n        build.build(shape, points);\n\n        if (matrix)\n        {\n            transformVertices(points, matrix);\n        }\n\n        if (!isStroke)\n        {\n            if (hole && lastIndex === i)\n            {\n                if (lastIndex !== 0)\n                {\n                    console.warn('[Pixi Graphics] only the last shape have be cut out');\n                }\n\n                const holeIndices: number[] = [];\n\n                const otherPoints = points.slice();\n\n                const holeArrays = getHoleArrays(hole.shapePath);\n\n                holeArrays.forEach((holePoints) =>\n                {\n                    holeIndices.push(otherPoints.length / 2);\n                    otherPoints.push(...holePoints);\n                });\n\n                triangulateWithHoles(otherPoints, holeIndices, vertices, 2, vertOffset, indices, indexOffset);\n            }\n            else\n            {\n                build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n            }\n        }\n        else\n        {\n            const close = (shape as Polygon).closePath ?? true;\n            const lineStyle = style;\n\n            buildLine(points, lineStyle, false, close, vertices, 2, vertOffset, indices, indexOffset);\n        }\n\n        const uvsOffset = uvs.length / 2;\n\n        const texture = style.texture;\n\n        if (texture !== Texture.WHITE)\n        {\n            const textureMatrix = style.matrix;\n\n            if (matrix)\n            {\n                // todo can prolly do this before calculating uvs..\n                textureMatrix.append(matrix.clone().invert());\n            }\n\n            buildUvs(vertices, 2, vertOffset, uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset, textureMatrix);\n        }\n        else\n        {\n            buildSimpleUvs(uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset);\n        }\n\n        const graphicsBatch = BigPool.get(BatchableGraphics);\n\n        graphicsBatch.indexOffset = indexOffset;\n        graphicsBatch.indexSize = indices.length - indexOffset;\n\n        graphicsBatch.vertexOffset = vertOffset;\n        graphicsBatch.vertexSize = (vertices.length / 2) - vertOffset;\n\n        graphicsBatch.color = style.color as number;\n        graphicsBatch.alpha = style.alpha;\n\n        graphicsBatch.texture = texture;\n        graphicsBatch.geometryData = geometryData;\n\n        batches.push(graphicsBatch);\n    });\n}\n\nfunction getHoleArrays(shape: ShapePath)\n{\n    if (!shape) return [];\n\n    const holePrimitives = shape.shapePrimitives;\n\n    const holeArrays = [];\n\n    for (let k = 0; k < holePrimitives.length; k++)\n    {\n        const holePrimitive = holePrimitives[k].shape;\n\n        // TODO - need to transform the points via there transform here..\n        const holePoints: number[] = [];\n\n        const holeBuilder = buildMap[holePrimitive.type] as ShapeBuildCommand;\n\n        holeBuilder.build(holePrimitive, holePoints);\n\n        holeArrays.push(holePoints);\n    }\n\n    return holeArrays;\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { BatchGeometry } from '../../../rendering/batcher/gpu/BatchGeometry';\nimport { getTextureBatchBindGroup } from '../../../rendering/batcher/gpu/getTextureBatchBindGroup';\nimport { Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { buildContextBatches } from './utils/buildContextBatches';\n\nimport type { System } from '../../../rendering/renderers/shared/system/System';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { BatchableGraphics } from './BatchableGraphics';\nimport type { GraphicsContext } from './GraphicsContext';\n\nexport class GpuGraphicsContext\n{\n    public isBatchable: boolean;\n    public batches: BatchableGraphics[];\n}\n\nexport class GraphicsContextRenderData\n{\n    public geometry = new BatchGeometry();\n    public instructions = new InstructionSet();\n\n    public init()\n    {\n        this.geometry.reset();\n        this.instructions.reset();\n    }\n}\n\nexport class GraphicsContextSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'graphicsContext'\n    } as const;\n\n    // the root context batches, used to either make a batch or geometry\n    // all graphics use this as a base\n    private readonly _activeBatchers: Batcher[] = [];\n    private _gpuContextHash: Record<number, GpuGraphicsContext> = {};\n    // used for non-batchable graphics\n    private _graphicsDataContextHash: Record<number, GraphicsContextRenderData> = Object.create(null);\n    private readonly _needsContextNeedsRebuild: GraphicsContext[] = [];\n\n    protected prerender()\n    {\n        this._returnActiveBatchers();\n    }\n\n    public getContextRenderData(context: GraphicsContext): GraphicsContextRenderData\n    {\n        return this._graphicsDataContextHash[context.uid] || this._initContextRenderData(context);\n    }\n\n    // Context management functions\n    public updateGpuContext(context: GraphicsContext)\n    {\n        let gpuContext: GpuGraphicsContext = this._gpuContextHash[context.uid]\n\n        || this._initContext(context);\n\n        if (context.dirty)\n        {\n            if (gpuContext)\n            {\n                this._cleanGraphicsContextData(context);\n            }\n            else\n            {\n                gpuContext = this._initContext(context);\n            }\n\n            const contextBatches = buildContextBatches(context);\n\n            let size = 0;\n\n            const batchMode = context.batchMode;\n\n            let isBatchable = true;\n            // check the size...\n\n            if (context.customShader || batchMode === 'no-batch')\n            {\n                isBatchable = false;\n            }\n            else if (batchMode === 'auto')\n            {\n                for (let i = 0; i < contextBatches.length; i++)\n                {\n                    size += contextBatches[i].vertexSize;\n\n                    if (size > 400)\n                    {\n                        isBatchable = false;\n                        break;\n                    }\n                }\n            }\n\n            gpuContext = this._gpuContextHash[context.uid] = {\n                isBatchable,\n                batches: contextBatches,\n            };\n\n            context.dirty = false;\n        }\n\n        return gpuContext;\n    }\n\n    public getGpuContext(context: GraphicsContext): GpuGraphicsContext\n    {\n        return this._gpuContextHash[context.uid] || this._initContext(context);\n    }\n\n    private _returnActiveBatchers()\n    {\n        for (let i = 0; i < this._activeBatchers.length; i++)\n        {\n            BigPool.return(this._activeBatchers[i] as PoolItem);\n        }\n\n        this._activeBatchers.length = 0;\n    }\n\n    private _initContextRenderData(context: GraphicsContext): GraphicsContextRenderData\n    {\n        const graphicsData: GraphicsContextRenderData = BigPool.get(GraphicsContextRenderData);// ();\n\n        const batches = this._gpuContextHash[context.uid].batches;\n\n        let vertexSize = 0;\n        let indexSize = 0;\n\n        batches.forEach((batch) =>\n        {\n            batch.applyTransform = false;\n            vertexSize += batch.geometryData.vertices.length;\n            indexSize += batch.geometryData.indices.length;\n        });\n\n        const batcher = BigPool.get(Batcher);\n\n        this._activeBatchers.push(batcher);\n\n        batcher.ensureAttributeBuffer(vertexSize);\n        batcher.ensureIndexBuffer(indexSize);\n\n        batcher.begin();\n\n        for (let i = 0; i < batches.length; i++)\n        {\n            const batch = batches[i];\n\n            batcher.add(batch);\n        }\n\n        batcher.finish(graphicsData.instructions);\n\n        const geometry = graphicsData.geometry;\n\n        geometry.indexBuffer.data = batcher.indexBuffer;\n\n        // not to self - this works as we are assigning the batchers array buffer\n        // once its up loaded - this buffer is then put back in the pool to be reused.\n        // this mean we don't have to creating new Batchers for each graphics items\n        geometry.buffers[0].data = batcher.attributeBuffer.float32View;\n\n        geometry.indexBuffer.update(batcher.indexSize * 4);\n        geometry.buffers[0].update(batcher.attributeSize * 4);\n\n        const drawBatches = batcher.batches;\n\n        for (let i = 0; i < drawBatches.length; i++)\n        {\n            const batch = drawBatches[i];\n\n            batch.bindGroup = getTextureBatchBindGroup(batch.textures.textures, batch.textures.count);\n        }\n\n        this._graphicsDataContextHash[context.uid] = graphicsData;\n\n        return graphicsData;\n    }\n\n    private _initContext(context: GraphicsContext): GpuGraphicsContext\n    {\n        const gpuContext = new GpuGraphicsContext();\n\n        this._gpuContextHash[context.uid] = gpuContext;\n\n        context.on('update', this.onGraphicsContextUpdate, this);\n        context.on('destroy', this.onGraphicsContextDestroy, this);\n\n        return this._gpuContextHash[context.uid];\n    }\n\n    protected onGraphicsContextUpdate(context: GraphicsContext)\n    {\n        this._needsContextNeedsRebuild.push(context);\n    }\n\n    protected onGraphicsContextDestroy(context: GraphicsContext)\n    {\n        this._cleanGraphicsContextData(context);\n        this._gpuContextHash[context.uid] = null;\n    }\n\n    private _cleanGraphicsContextData(context: GraphicsContext)\n    {\n        const gpuContext: GpuGraphicsContext = this._gpuContextHash[context.uid];\n\n        if (!gpuContext.isBatchable)\n        {\n            if (this._graphicsDataContextHash[context.uid])\n            {\n                BigPool.return(this.getContextRenderData(context) as PoolItem);\n\n                // we will rebuild this...\n                this._graphicsDataContextHash[context.uid] = null;\n            }\n        }\n\n        if (gpuContext.batches)\n        {\n            gpuContext.batches.forEach((batch) =>\n            {\n                BigPool.return(batch as PoolItem);\n            });\n        }\n    }\n\n    public destroy()\n    {\n        // Clean up all graphics contexts\n        for (const context of this._needsContextNeedsRebuild)\n        {\n            this._cleanGraphicsContextData(context);\n            this._gpuContextHash[context.uid] = null;\n        }\n\n        this._needsContextNeedsRebuild.length = 0;\n    }\n}\n","export function colorToUniform(rgb: number, alpha: number, out: Float32Array, offset: number)\n{\n    // TODO replace with Color..\n    out[offset++] = ((rgb >> 16) & 0xFF) / 255;\n    out[offset++] = ((rgb >> 8) & 0xFF) / 255;\n    out[offset++] = (rgb & 0xFF) / 255;\n    out[offset++] = alpha;\n}\n\nexport function color32BitToUniform(abgr: number, out: Float32Array, offset: number)\n{\n    out[offset++] = (abgr & 0xFF) / 255;\n    out[offset++] = ((abgr >> 8) & 0xFF) / 255;\n    out[offset++] = ((abgr >> 16) & 0xFF) / 255;\n    out[offset++] = ((abgr >> 24) & 0xFF) / 255;\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { State } from '../../../rendering/renderers/shared/state/State';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { color32BitToUniform } from '../gpu/colorToUniform';\nimport { BatchableGraphics } from './BatchableGraphics';\n\nimport type { Instruction } from '../../../rendering/renderers/shared/instructions/Instruction';\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { BatchPipe, RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { GpuGraphicsContext, GraphicsContextSystem } from './GraphicsContextSystem';\nimport type { GraphicsView } from './GraphicsView';\n\nexport interface GraphicsAdaptor\n{\n    shader: Shader;\n    init(): void;\n    execute(graphicsPipe: GraphicsPipe, renderable: Renderable<GraphicsView>): void;\n    destroy(): void;\n}\n\nexport interface GraphicsInstruction extends Instruction\n{\n    type: 'graphics';\n    renderable: Renderable<GraphicsView>;\n}\n\nexport interface GraphicsSystem\n{\n    graphicsContext: GraphicsContextSystem;\n    renderPipes: {\n        batch: BatchPipe\n    }\n    _roundPixels: 0 | 1;\n}\n\nexport class GraphicsPipe implements RenderPipe<GraphicsView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'graphics',\n    } as const;\n\n    public renderer: GraphicsSystem;\n    public state: State = State.for2d();\n\n    // batchable graphics list, used to render batches\n    private _renderableBatchesHash: Record<number, BatchableGraphics[]> = Object.create(null);\n    private _adaptor: GraphicsAdaptor;\n\n    constructor(renderer: GraphicsSystem, adaptor: GraphicsAdaptor)\n    {\n        this.renderer = renderer;\n\n        this._adaptor = adaptor;\n        this._adaptor.init();\n    }\n\n    public validateRenderable(renderable: Renderable<GraphicsView>): boolean\n    {\n        // assume context is dirty..\n\n        const context = renderable.view.context;\n\n        const wasBatched = !!this._renderableBatchesHash[renderable.uid];\n\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(context);\n\n        if (gpuContext.isBatchable || wasBatched !== gpuContext.isBatchable)\n        {\n            // TODO what if they are the same size??\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(renderable: Renderable<GraphicsView>, instructionSet: InstructionSet)\n    {\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(renderable.view.context);\n\n        // need to get batches here.. as we need to know if we can batch or not..\n        // this also overrides the current batches..\n\n        if (renderable.view._didUpdate)\n        {\n            renderable.view._didUpdate = false;\n\n            this._rebuild(renderable);\n        }\n\n        if (gpuContext.isBatchable)\n        {\n            this._addToBatcher(renderable, instructionSet);\n        }\n        else\n        {\n            this.renderer.renderPipes.batch.break(instructionSet);\n            instructionSet.add({\n                type: 'graphics',\n                renderable\n            } as GraphicsInstruction);\n        }\n    }\n\n    public updateRenderable(renderable: Renderable<GraphicsView>)\n    {\n        const batches = this._renderableBatchesHash[renderable.uid];\n\n        if (batches)\n        {\n            for (let i = 0; i < batches.length; i++)\n            {\n                const batch = batches[i];\n\n                batch.batcher.updateElement(batch);\n            }\n        }\n    }\n\n    public destroyRenderable(renderable: Renderable<GraphicsView>)\n    {\n        this._removeBatchForRenderable(renderable.uid);\n    }\n\n    public execute({ renderable }: GraphicsInstruction)\n    {\n        if (!renderable.isRenderable) return;\n\n        const renderer = this.renderer;\n        const context = renderable.view.context;\n        const contextSystem = renderer.graphicsContext;\n\n        // early out if there is no actual visual stuff...\n        if (!contextSystem.getGpuContext(context).batches.length)\n        { return; }\n\n        const shader = context.customShader || this._adaptor.shader;\n\n        this.state.blendMode = renderable.layerBlendMode;\n\n        const localUniforms = shader.resources.localUniforms.uniforms;\n\n        localUniforms.uTransformMatrix = renderable.layerTransform;\n        localUniforms.uRound = renderer._roundPixels | renderable.view.roundPixels;\n\n        color32BitToUniform(\n            renderable.layerColor,\n            localUniforms.uColor,\n            0\n        );\n\n        this._adaptor.execute(this, renderable);\n    }\n\n    private _rebuild(renderable: Renderable<GraphicsView>)\n    {\n        const wasBatched = !!this._renderableBatchesHash[renderable.uid];\n\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(renderable.view.context);\n\n        // TODO POOL the old batches!\n\n        if (wasBatched)\n        {\n            this._removeBatchForRenderable(renderable.uid);\n        }\n\n        if (gpuContext.isBatchable)\n        {\n            this._initBatchesForRenderable(renderable);\n        }\n\n        renderable.view.batched = gpuContext.isBatchable;\n    }\n\n    private _addToBatcher(renderable: Renderable<GraphicsView>, instructionSet: InstructionSet)\n    {\n        const batchPipe = this.renderer.renderPipes.batch;\n\n        const batches = this._getBatchesForRenderable(renderable);\n\n        for (let i = 0; i < batches.length; i++)\n        {\n            const batch = batches[i];\n\n            batchPipe.addToBatch(batch, instructionSet);\n        }\n    }\n\n    private _getBatchesForRenderable(renderable: Renderable<GraphicsView>): BatchableGraphics[]\n    {\n        return this._renderableBatchesHash[renderable.uid] || this._initBatchesForRenderable(renderable);\n    }\n\n    private _initBatchesForRenderable(renderable: Renderable<GraphicsView>): BatchableGraphics[]\n    {\n        const context = renderable.view.context;\n\n        const gpuContext: GpuGraphicsContext = this.renderer.graphicsContext.getGpuContext(context);\n\n        const roundPixels = (this.renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        const batches = gpuContext.batches.map((batch) =>\n        {\n            // TODO pool this!!\n            const batchClone = BigPool.get(BatchableGraphics);\n\n            batch.copyTo(batchClone);\n\n            batchClone.renderable = renderable;\n\n            batchClone.roundPixels = roundPixels;\n\n            return batchClone;\n        });\n\n        this._renderableBatchesHash[renderable.uid] = batches;\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return batches;\n    }\n\n    private _removeBatchForRenderable(renderableUid: number)\n    {\n        this._renderableBatchesHash[renderableUid].forEach((batch) =>\n        {\n            BigPool.return(batch as PoolItem);\n        });\n\n        this._renderableBatchesHash[renderableUid] = null;\n    }\n\n    public destroy()\n    {\n        this.renderer = null;\n\n        this._adaptor.destroy();\n        this._adaptor = null;\n        this.state = null;\n\n        for (const i in this._renderableBatchesHash)\n        {\n            this._removeBatchForRenderable(i as unknown as number);\n        }\n\n        this._renderableBatchesHash = null;\n    }\n}\n","import type { Batch, BatchableObject, Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { MeshView } from './MeshView';\n\nexport class BatchableMesh implements BatchableObject\n{\n    public indexStart: number;\n    public textureId: number;\n    public texture: Texture;\n    public location: number;\n    public batcher: Batcher = null;\n    public batch: Batch = null;\n    public renderable: Renderable<MeshView>;\n    public roundPixels: 0 | 1 = 0;\n\n    get blendMode() { return this.renderable.layerBlendMode; }\n\n    public reset()\n    {\n        this.renderable = null;\n        this.texture = null;\n        this.batcher = null;\n        this.batch = null;\n    }\n\n    public packIndex(indexBuffer: Uint32Array, index: number, indicesOffset: number)\n    {\n        const indices = this.renderable.view.geometry.indices;\n\n        for (let i = 0; i < indices.length; i++)\n        {\n            indexBuffer[index++] = indices[i] + indicesOffset;\n        }\n    }\n\n    public packAttributes(\n        float32View: Float32Array,\n        uint32View: Uint32Array,\n        index: number,\n        textureId: number\n    )\n    {\n        const renderable = this.renderable;\n\n        const view = this.renderable.view;\n\n        const geometry = view.geometry;\n        const wt = renderable.layerTransform;\n\n        const textureIdAndRound = (textureId << 16) | (this.roundPixels & 0xFFFF);\n\n        const a = wt.a;\n        const b = wt.b;\n        const c = wt.c;\n        const d = wt.d;\n        const tx = wt.tx;\n        const ty = wt.ty;\n\n        // const trim = texture.trim;\n        const positions = geometry.positions;\n        const uvs = geometry.uvs;\n\n        const abgr = renderable.layerColor;\n\n        for (let i = 0; i < positions.length; i += 2)\n        {\n            const x = positions[i];\n            const y = positions[i + 1];\n\n            float32View[index] = (a * x) + (c * y) + tx;\n            float32View[index + 1] = (b * x) + (d * y) + ty;\n\n            // TODO implement texture matrix?\n            float32View[index + 2] = uvs[i];\n            float32View[index + 3] = uvs[i + 1];\n\n            uint32View[index + 4] = abgr;\n            uint32View[index + 5] = textureIdAndRound;\n\n            index += 6;\n        }\n    }\n\n    get vertexSize()\n    {\n        return this.renderable.view.geometry.positions.length / 2;\n    }\n\n    get indexSize()\n    {\n        return this.renderable.view.geometry.indices.length;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { BindGroup } from '../../../rendering/renderers/gpu/shader/BindGroup';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { color32BitToUniform } from '../../graphics/gpu/colorToUniform';\nimport { BatchableMesh } from './BatchableMesh';\n\nimport type { Instruction } from '../../../rendering/renderers/shared/instructions/Instruction';\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type {\n    InstructionPipe,\n    RenderPipe\n} from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { MeshGeometry } from './MeshGeometry';\nimport type { MeshView } from './MeshView';\n\n// TODO Record mode is a P2, will get back to this as it's not a priority\n// const recordMode = true;\n\ninterface RenderableData\n{\n    batched: boolean;\n    indexSize: number;\n    vertexSize: number;\n}\n\nexport interface MeshAdaptor\n{\n    init(): void;\n    execute(meshPipe: MeshPipe, renderable: Renderable<MeshView>): void;\n    destroy(): void;\n}\n\nexport interface MeshInstruction extends Instruction\n{\n    type: 'mesh';\n    renderable: Renderable<MeshView>;\n}\n\n// eslint-disable-next-line max-len\nexport class MeshPipe implements RenderPipe<MeshView>, InstructionPipe<MeshInstruction>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'mesh',\n    } as const;\n\n    public localUniforms = new UniformGroup({\n        uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n        uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n        uRound: { value: 0, type: 'f32' },\n    });\n\n    public localUniformsBindGroup = new BindGroup({\n        0: this.localUniforms,\n    });\n\n    public renderer: Renderer;\n\n    private _renderableHash: Record<number, RenderableData> = Object.create(null);\n    private _gpuBatchableMeshHash: Record<number, BatchableMesh> = Object.create(null);\n    private _adaptor: MeshAdaptor;\n\n    constructor(renderer: Renderer, adaptor: MeshAdaptor)\n    {\n        this.renderer = renderer;\n        this._adaptor = adaptor;\n\n        this._adaptor.init();\n    }\n\n    public validateRenderable(renderable: Renderable<MeshView>): boolean\n    {\n        const renderableData = this._getRenderableData(renderable);\n\n        const wasBatched = renderableData.batched;\n\n        const isBatched = renderable.view.batched;\n\n        renderableData.batched = isBatched;\n\n        if (wasBatched !== isBatched)\n        {\n            return true;\n        }\n        else if (isBatched)\n        {\n            const geometry = renderable.view._geometry;\n\n            // no need to break the batch if it's the same size\n            if (geometry.indices.length !== renderableData.indexSize\n                    || geometry.positions.length !== renderableData.vertexSize)\n            {\n                renderableData.indexSize = geometry.indices.length;\n                renderableData.vertexSize = geometry.positions.length;\n\n                return true;\n            }\n\n            const batchableMesh = this._getBatchableMesh(renderable);\n\n            const texture = renderable.view.texture;\n\n            if (batchableMesh.texture._source !== texture._source)\n            {\n                if (batchableMesh.texture._source !== texture._source)\n                {\n                    return batchableMesh.batcher.checkAndUpdateTexture(batchableMesh, texture);\n                }\n            }\n        }\n\n        return false;\n    }\n\n    public addRenderable(renderable: Renderable<MeshView>, instructionSet: InstructionSet)\n    {\n        const batcher = this.renderer.renderPipes.batch;\n\n        const { batched } = this._getRenderableData(renderable);\n\n        if (batched)\n        {\n            const gpuBatchableMesh = this._getBatchableMesh(renderable);\n\n            gpuBatchableMesh.texture = renderable.view._texture;\n\n            batcher.addToBatch(gpuBatchableMesh);\n        }\n        else\n        {\n            batcher.break(instructionSet);\n\n            instructionSet.add({\n                type: 'mesh',\n                renderable\n            } as MeshInstruction);\n        }\n    }\n\n    public updateRenderable(renderable: Renderable<MeshView>)\n    {\n        if (renderable.view.batched)\n        {\n            const gpuBatchableMesh = this._gpuBatchableMeshHash[renderable.uid];\n\n            gpuBatchableMesh.texture = renderable.view._texture;\n\n            gpuBatchableMesh.batcher.updateElement(gpuBatchableMesh);\n        }\n    }\n\n    public destroyRenderable(renderable: Renderable<MeshView<MeshGeometry>>)\n    {\n        this._renderableHash[renderable.uid] = null;\n\n        const gpuMesh = this._gpuBatchableMeshHash[renderable.uid];\n\n        BigPool.return(gpuMesh as PoolItem);\n\n        this._gpuBatchableMeshHash[renderable.uid] = null;\n    }\n\n    public execute({ renderable }: MeshInstruction)\n    {\n        if (!renderable.isRenderable) return;\n\n        const view = renderable.view;\n\n        view.state.blendMode = renderable.layerBlendMode;\n\n        const localUniforms = this.localUniforms;\n\n        localUniforms.uniforms.uTransformMatrix = renderable.layerTransform;\n        localUniforms.uniforms.uRound = this.renderer._roundPixels | renderable.view.roundPixels;\n        localUniforms.update();\n\n        color32BitToUniform(\n            renderable.layerColor,\n            localUniforms.uniforms.uColor,\n            0\n        );\n\n        this._adaptor.execute(this, renderable);\n    }\n\n    private _getRenderableData(renderable: Renderable<MeshView>): RenderableData\n    {\n        return this._renderableHash[renderable.uid] || this._initRenderableData(renderable);\n    }\n\n    private _initRenderableData(renderable: Renderable<MeshView>): RenderableData\n    {\n        const view = renderable.view;\n\n        this._renderableHash[renderable.uid] = {\n            batched: view.batched,\n            indexSize: view._geometry.indices.length,\n            vertexSize: view._geometry.positions.length,\n        };\n\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return this._renderableHash[renderable.uid];\n    }\n\n    private _getBatchableMesh(renderable: Renderable<MeshView>): BatchableMesh\n    {\n        return this._gpuBatchableMeshHash[renderable.uid] || this._initBatchableMesh(renderable);\n    }\n\n    private _initBatchableMesh(renderable: Renderable<MeshView>): BatchableMesh\n    {\n        // TODO - make this batchable graphics??\n        const gpuMesh: BatchableMesh = BigPool.get(BatchableMesh);\n\n        gpuMesh.renderable = renderable;\n        gpuMesh.texture = renderable.view._texture;\n        gpuMesh.roundPixels = (this.renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        this._gpuBatchableMeshHash[renderable.uid] = gpuMesh;\n\n        gpuMesh.renderable = renderable;\n\n        return gpuMesh;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuBatchableMeshHash)\n        {\n            if (this._gpuBatchableMeshHash[i])\n            {\n                BigPool.return(this._gpuBatchableMeshHash[i] as PoolItem);\n            }\n        }\n\n        this._gpuBatchableMeshHash = null;\n        this._renderableHash = null;\n\n        this.localUniforms = null;\n        this.localUniformsBindGroup = null;\n\n        this._adaptor.destroy();\n        this._adaptor = null;\n\n        this.renderer = null;\n    }\n}\n","import type { Batch, BatchableObject, Batcher } from '../../rendering/batcher/shared/Batcher';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { View } from '../../rendering/renderers/shared/view/View';\n\nexport class BatchableSprite implements BatchableObject\n{\n    public indexStart: number;\n    public renderable: Renderable<View>;\n\n    // batch specific..\n    public vertexSize = 4;\n    public indexSize = 6;\n    public texture: Texture;\n\n    public textureId: number;\n    public location = 0; // location in the buffer\n    public batcher: Batcher = null;\n    public batch: Batch = null;\n    public bounds: [number, number, number, number];\n    public roundPixels: 0 | 1 = 0;\n\n    get blendMode() { return this.renderable.layerBlendMode; }\n\n    public packAttributes(\n        float32View: Float32Array,\n        uint32View: Uint32Array,\n        index: number,\n        textureId: number,\n    )\n    {\n        const sprite = this.renderable;\n        const texture = this.texture;\n\n        const wt = sprite.layerTransform;\n\n        const a = wt.a;\n        const b = wt.b;\n        const c = wt.c;\n        const d = wt.d;\n        const tx = wt.tx;\n        const ty = wt.ty;\n\n        const bounds = this.bounds;\n\n        const w0 = bounds[1];\n        const w1 = bounds[0];\n        const h0 = bounds[3];\n        const h1 = bounds[2];\n\n        const uvs = texture._layout.uvs;\n\n        // _ _ _ _\n        // a b g r\n        const argb = sprite.layerColor;\n\n        const textureIdAndRound = (textureId << 16) | (this.roundPixels & 0xFFFF);\n\n        float32View[index + 0] = (a * w1) + (c * h1) + tx;\n        float32View[index + 1] = (d * h1) + (b * w1) + ty;\n\n        float32View[index + 2] = uvs.x0;\n        float32View[index + 3] = uvs.y0;\n\n        uint32View[index + 4] = argb;\n        uint32View[index + 5] = textureIdAndRound;\n\n        // xy\n        float32View[index + 6] = (a * w0) + (c * h1) + tx;\n        float32View[index + 7] = (d * h1) + (b * w0) + ty;\n\n        float32View[index + 8] = uvs.x1;\n        float32View[index + 9] = uvs.y1;\n\n        uint32View[index + 10] = argb;\n        uint32View[index + 11] = textureIdAndRound;\n\n        // xy\n        float32View[index + 12] = (a * w0) + (c * h0) + tx;\n        float32View[index + 13] = (d * h0) + (b * w0) + ty;\n\n        float32View[index + 14] = uvs.x2;\n        float32View[index + 15] = uvs.y2;\n\n        uint32View[index + 16] = argb;\n        uint32View[index + 17] = textureIdAndRound;\n\n        // xy\n        float32View[index + 18] = (a * w1) + (c * h0) + tx;\n        float32View[index + 19] = (d * h0) + (b * w1) + ty;\n\n        float32View[index + 20] = uvs.x3;\n        float32View[index + 21] = uvs.y3;\n\n        uint32View[index + 22] = argb;\n        uint32View[index + 23] = textureIdAndRound;\n    }\n\n    public packIndex(indexBuffer: Uint32Array, index: number, indicesOffset: number)\n    {\n        indexBuffer[index] = indicesOffset + 0;\n        indexBuffer[index + 1] = indicesOffset + 1;\n        indexBuffer[index + 2] = indicesOffset + 2;\n\n        indexBuffer[index + 3] = indicesOffset + 0;\n        indexBuffer[index + 4] = indicesOffset + 2;\n        indexBuffer[index + 5] = indicesOffset + 3;\n    }\n\n    public reset()\n    {\n        this.renderable = null;\n        this.texture = null;\n        this.batcher = null;\n        this.batch = null;\n        this.bounds = null;\n    }\n}\n","import { ExtensionType } from '../../extensions/Extensions';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { BatchableSprite } from './BatchableSprite';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { PoolItem } from '../../utils/pool/Pool';\nimport type { SpriteView } from './SpriteView';\n\nlet gpuSpriteHash: Record<number, BatchableSprite>;\n\nexport class SpritePipe implements RenderPipe<SpriteView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'sprite',\n    } as const;\n\n    private _renderer: Renderer;\n    private _gpuSpriteHash: Record<number, BatchableSprite> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        gpuSpriteHash = this._gpuSpriteHash;\n    }\n\n    public addRenderable(renderable: Renderable<SpriteView>, _instructionSet: InstructionSet)\n    {\n        const gpuSprite = this._getGpuSprite(renderable);\n\n        if (renderable.view._didUpdate) this._updateBatchableSprite(renderable, gpuSprite);\n\n        // TODO visibility\n        this._renderer.renderPipes.batch.addToBatch(gpuSprite);\n    }\n\n    public updateRenderable(renderable: Renderable<SpriteView>)\n    {\n        const gpuSprite = gpuSpriteHash[renderable.uid];\n\n        if (renderable.view._didUpdate) this._updateBatchableSprite(renderable, gpuSprite);\n\n        gpuSprite.batcher.updateElement(gpuSprite);\n    }\n\n    public validateRenderable(renderable: Renderable<SpriteView>): boolean\n    {\n        const texture = renderable.view._texture;\n        const gpuSprite = this._getGpuSprite(renderable);\n\n        if (gpuSprite.texture._source !== texture._source)\n        {\n            return !gpuSprite.batcher.checkAndUpdateTexture(gpuSprite, texture);\n        }\n\n        return false;\n    }\n\n    public destroyRenderable(renderable: Renderable<SpriteView>)\n    {\n        const batchableSprite = gpuSpriteHash[renderable.uid];\n\n        // this will call reset!\n        BigPool.return(batchableSprite as PoolItem);\n\n        gpuSpriteHash[renderable.uid] = null;\n    }\n\n    private _updateBatchableSprite(renderable: Renderable<SpriteView>, batchableSprite: BatchableSprite)\n    {\n        const view = renderable.view;\n\n        view._didUpdate = false;\n        batchableSprite.bounds = view.bounds;\n        batchableSprite.texture = view._texture;\n    }\n\n    private _getGpuSprite(renderable: Renderable<SpriteView>): BatchableSprite\n    {\n        return gpuSpriteHash[renderable.uid] || this._initGPUSprite(renderable);\n    }\n\n    private _initGPUSprite(renderable: Renderable<SpriteView>): BatchableSprite\n    {\n        const batchableSprite = BigPool.get(BatchableSprite);\n\n        batchableSprite.renderable = renderable;\n\n        const view = renderable.view;\n\n        batchableSprite.texture = view._texture;\n        batchableSprite.bounds = view.bounds;\n        batchableSprite.roundPixels = (this._renderer._roundPixels | view.roundPixels) as 0 | 1;\n\n        gpuSpriteHash[renderable.uid] = batchableSprite;\n\n        renderable.view._didUpdate = false;\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return batchableSprite;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuSpriteHash)\n        {\n            BigPool.return(this._gpuSpriteHash[i] as PoolItem);\n        }\n\n        this._gpuSpriteHash = null;\n        this._renderer = null;\n    }\n}\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../utils/data/uid';\n\nimport type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Renderable } from './Renderable';\nimport type { View } from './view/View';\n\nexport interface ProxyOptions<T>\n{\n    original?: Renderable<any>;\n    view: T;\n}\n\nexport class ProxyRenderable<T extends View = View> extends EventEmitter implements Renderable<T>\n{\n    public uid = uid('renderable');\n    public view: T;\n    private _original: Renderable<any>;\n    public layerTransform: Matrix;\n    public worldTransform: Matrix;\n    public didViewUpdate = false;\n\n    constructor({ original, view }: ProxyOptions<T>)\n    {\n        super();\n\n        this.view = view;\n\n        if (original)\n        {\n            this.init(original);\n        }\n    }\n\n    public init(original: Renderable<any>)\n    {\n        this._original = original;\n        this.layerTransform = original.layerTransform;\n    }\n\n    get layerColor()\n    {\n        return this._original.layerColor;\n    }\n\n    get layerBlendMode()\n    {\n        return this._original.layerBlendMode;\n    }\n\n    get layerVisibleRenderable()\n    {\n        return this._original.layerVisibleRenderable;\n    }\n\n    get isRenderable()\n    {\n        return this._original.isRenderable;\n    }\n}\n","import { Polygon } from '../../../maths/shapes/Polygon';\nimport { State } from '../../../rendering/renderers/shared/state/State';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { emptyViewObserver } from '../../../rendering/renderers/shared/view/View';\nimport { uid } from '../../../utils/data/uid';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { View } from '../../../rendering/renderers/shared/view/View';\nimport type { Bounds } from '../../container/bounds/Bounds';\nimport type { DestroyOptions } from '../../container/destroyTypes';\nimport type { MeshGeometry } from './MeshGeometry';\n\nconst tempPolygon = new Polygon();\n\nexport interface TextureShader extends Shader\n{\n    texture: Texture;\n}\n\nexport interface MeshViewOptions<\n    GEOMETRY extends MeshGeometry = MeshGeometry,\n    SHADER extends TextureShader = TextureShader\n>\n{\n    geometry: GEOMETRY;\n    shader?: SHADER;\n    texture?: Texture;\n}\n\nexport class MeshView<\n    GEOMETRY extends MeshGeometry = MeshGeometry,\n    SHADER extends TextureShader = TextureShader\n>implements View\n{\n    public readonly uid: number = uid('meshView');\n    public readonly renderPipeId = 'mesh';\n    public readonly canBundle = true;\n    public readonly owner = emptyViewObserver;\n    public state = State.for2d();\n\n    /** @ignore */\n    public _texture: Texture;\n    /** @ignore */\n    public _geometry: GEOMETRY;\n    /** @ignore */\n    public _shader?: SHADER;\n\n    public roundPixels: 0 | 1 = 0;\n\n    constructor(options: MeshViewOptions<GEOMETRY, SHADER>)\n    {\n        this.shader = options.shader;\n        this.texture = options.texture ?? this.shader?.texture ?? Texture.WHITE;\n\n        this._geometry = options.geometry;\n        this._geometry.on('update', this.onUpdate, this);\n    }\n\n    set shader(value: SHADER)\n    {\n        if (this._shader === value) return;\n\n        this._shader = value;\n        this.onUpdate();\n    }\n\n    get shader()\n    {\n        return this._shader;\n    }\n\n    set geometry(value: GEOMETRY)\n    {\n        if (this._geometry === value) return;\n\n        this._geometry?.off('update', this.onUpdate, this);\n        value.on('update', this.onUpdate, this);\n\n        this._geometry = value;\n        this.onUpdate();\n    }\n\n    get geometry()\n    {\n        return this._geometry;\n    }\n\n    set texture(value: Texture)\n    {\n        if (this._texture === value) return;\n\n        if (this.shader)\n        {\n            this.shader.texture = value;\n        }\n\n        this._texture = value;\n        this.onUpdate();\n    }\n\n    get texture()\n    {\n        return this._texture;\n    }\n\n    get batched()\n    {\n        if (this._shader) return false;\n\n        if (this._geometry.batchMode === 'auto')\n        {\n            return this._geometry.positions.length / 2 <= 100;\n        }\n\n        return this._geometry.batchMode === 'batch';\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        bounds.addVertexData(this.geometry.positions, 0, this.geometry.positions.length);\n    }\n\n    public containsPoint(point: PointData)\n    {\n        const { x, y } = point;\n\n        const vertices = this.geometry.getBuffer('aPosition').data;\n\n        const points = tempPolygon.points;\n        const indices = this.geometry.getIndex().data;\n        const len = indices.length;\n        const step = this.geometry.topology === 'triangle-strip' ? 3 : 1;\n\n        for (let i = 0; i + 2 < len; i += step)\n        {\n            const ind0 = indices[i] * 2;\n            const ind1 = indices[i + 1] * 2;\n            const ind2 = indices[i + 2] * 2;\n\n            points[0] = vertices[ind0];\n            points[1] = vertices[ind0 + 1];\n            points[2] = vertices[ind1];\n            points[3] = vertices[ind1 + 1];\n            points[4] = vertices[ind2];\n            points[5] = vertices[ind2 + 1];\n\n            if (tempPolygon.contains(x, y))\n            {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /** Called when the geometry is updated. */\n    protected onUpdate()\n    {\n        this.owner.onViewUpdate();\n    }\n\n    /**\n     * Destroys this sprite renderable and optionally its texture.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the renderable as well\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the renderable as well\n     */\n    public destroy(options: DestroyOptions = false): void\n    {\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            this._texture.destroy(destroyTextureSource);\n        }\n\n        this._texture = null;\n        this._geometry = null;\n        this._shader = null;\n    }\n}\n\n","import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Topology } from '../../../rendering/renderers/shared/geometry/const';\nimport type { BatchMode } from '../../graphics/shared/GraphicsContext';\n\nexport interface MeshGeometryOptions\n{\n    positions?: Float32Array;\n    uvs?: Float32Array;\n    indices?: Uint32Array;\n    topology?: Topology;\n}\n\nexport class MeshGeometry extends Geometry\n{\n    public static defaultOptions: MeshGeometryOptions = {\n        topology: 'triangle-list',\n    };\n\n    public batchMode: BatchMode = 'auto';\n\n    constructor(options: MeshGeometryOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(positions: Float32Array, uvs: Float32Array, indices: Uint32Array);\n    constructor(...args: [MeshGeometryOptions] | [Float32Array, Float32Array, Uint32Array])\n    {\n        let options = args[0] ?? {};\n\n        if (options instanceof Float32Array)\n        {\n            deprecation(v8_0_0, 'use new MeshGeometry({ positions, uvs, indices }) instead');\n\n            options = {\n                positions: options,\n                uvs: args[1],\n                indices: args[2],\n            };\n        }\n\n        options = { ...MeshGeometry.defaultOptions, ...options };\n\n        const positions = options.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n        const uvs = options.uvs || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n        const indices = options.indices || new Uint32Array([0, 1, 2, 0, 2, 3]);\n\n        const positionBuffer = new Buffer({\n            data: positions,\n            label: 'attribute-mesh-positions',\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n        });\n\n        const uvBuffer = new Buffer({\n            data: uvs,\n            label: 'attribute-mesh-uvs',\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n        });\n\n        const indexBuffer = new Buffer({\n            data: indices,\n            label: 'index-mesh-buffer',\n            usage: BufferUsage.INDEX | BufferUsage.COPY_DST,\n        });\n\n        super({\n            attributes: {\n                aPosition: {\n                    buffer: positionBuffer,\n                    shaderLocation: 0,\n                    format: 'float32x2',\n                    stride: 2 * 4,\n                    offset: 0,\n                },\n                aUV: {\n                    buffer: uvBuffer,\n                    shaderLocation: 1,\n                    format: 'float32x2',\n                    stride: 2 * 4,\n                    offset: 0,\n                },\n            },\n            indexBuffer,\n            topology: options.topology,\n        });\n    }\n\n    get positions(): Float32Array\n    {\n        return this.attributes.aPosition.buffer.data as Float32Array;\n    }\n\n    set positions(value: Float32Array)\n    {\n        this.attributes.aPosition.buffer.data = value;\n    }\n\n    get uvs(): Float32Array\n    {\n        return this.attributes.aUV.buffer.data as Float32Array;\n    }\n\n    set uvs(value: Float32Array)\n    {\n        this.attributes.aUV.buffer.data = value;\n    }\n\n    get indices(): Uint32Array\n    {\n        return this.indexBuffer.data as Uint32Array;\n    }\n\n    set indices(value: Uint32Array)\n    {\n        this.indexBuffer.data = value;\n    }\n}\n","import { MeshGeometry } from '../mesh/shared/MeshGeometry';\n\nexport class QuadGeometry extends MeshGeometry\n{\n    constructor()\n    {\n        super({\n            positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n            uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n            indices: new Uint32Array([0, 1, 2, 0, 2, 3]),\n        });\n    }\n}\n","export const tilingBit = {\n    name: 'tiling-bit',\n    vertex: {\n        header: /* wgsl */`\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `,\n        main: /* wgsl */`\n            vUV = (tilingUniforms.uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        `\n\n    },\n    fragment: {\n        header: /* wgsl */`\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `,\n        main: /* wgsl */`\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        `\n    }\n\n};\n\nexport const tilingBitGl = {\n    name: 'tiling-bit',\n    vertex: {\n        header: /* glsl */`\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        `,\n        main: /* glsl */`\n            vUV = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        `\n\n    },\n    fragment: {\n        header: /* glsl */`\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        `,\n        main: /* glsl */`\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n    \n        `\n    }\n\n};\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport {\n    compileHighShaderGlProgram,\n    compileHighShaderGpuProgram\n} from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { localUniformBit, localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { tilingBit, tilingBitGl } from './tilingBit';\n\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { TextureShader } from '../../mesh/shared/MeshView';\n\ninterface TilingSpriteOptions\n{\n    texture: Texture;\n}\n\nexport class TilingSpriteShader extends Shader implements TextureShader\n{\n    private _texture: Texture;\n\n    constructor(options: TilingSpriteOptions)\n    {\n        const gpuProgram = compileHighShaderGpuProgram({\n            name: 'tiling-sprite-shader',\n            bits: [\n                localUniformBit,\n                tilingBit,\n                roundPixelsBit,\n            ],\n        });\n\n        const glProgram = compileHighShaderGlProgram({\n            name: 'tiling-sprite-shader',\n            bits: [\n                localUniformBitGl,\n                tilingBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        const tilingUniforms = new UniformGroup({\n            uMapCoord: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: 'vec4<f32>' },\n            uClampOffset: { value: new Float32Array([0, 0]), type: 'vec2<f32>' },\n            uTextureTransform: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uSizeAnchor: { value: new Float32Array([100, 200, 0.5, 0.5]), type: 'vec4<f32>' },\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                tilingUniforms,\n                uTexture: options.texture.source,\n                uSampler: options.texture.source.style,\n            }\n        });\n    }\n\n    get texture(): Texture\n    {\n        return this._texture;\n    }\n\n    set texture(value: Texture)\n    {\n        if (this._texture === value) return;\n\n        this._texture = value;\n\n        this.resources.uTexture = value.source;\n        this.resources.uSampler = value.source.style;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { Matrix } from '../../maths/matrix/Matrix';\nimport { ProxyRenderable } from '../../rendering/renderers/shared/ProxyRenderable';\nimport { MeshView } from '../mesh/shared/MeshView';\nimport { QuadGeometry } from './QuadGeometry';\nimport { TilingSpriteShader } from './shader/TilingSpriteShader';\n\nimport type { TypedArray } from '../../rendering/renderers/shared/buffer/Buffer';\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { TilingSpriteView } from './TilingSpriteView';\n\ninterface RenderableData\n{\n    batched: boolean;\n}\n\nconst sharedQuad = new QuadGeometry();\n\nexport class TilingSpritePipe implements RenderPipe<TilingSpriteView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'tilingSprite',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _renderableHash: Record<number, RenderableData> = Object.create(null);\n\n    // TODO can prolly merge these properties into a single mesh and\n    // add them onto the renderableHash (rather than having them on separate hashes)\n    private _gpuBatchedTilingSprite: Record<string, Renderable<MeshView>> = Object.create(null);\n\n    private _gpuTilingSprite: Record<string, {\n        meshRenderable: Renderable<MeshView>\n        textureMatrix: Matrix;\n    }> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public validateRenderable(renderable: Renderable<TilingSpriteView>): boolean\n    {\n        const textureMatrix = renderable.view.texture.textureMatrix;\n\n        let rebuild = false;\n\n        const renderableData = this._getRenderableData(renderable);\n\n        if (renderableData.batched !== textureMatrix.isSimple)\n        {\n            renderableData.batched = textureMatrix.isSimple;\n\n            rebuild = true;\n        }\n\n        // TODO - only update if required?\n        // only texture\n        // only uvs\n        // only positions?\n\n        return rebuild;\n    }\n\n    public addRenderable(renderable: Renderable<TilingSpriteView>, instructionSet: InstructionSet)\n    {\n        if (renderable.view._didUpdate)\n        {\n            renderable.view._didUpdate = false;\n\n            this._rebuild(renderable);\n        }\n\n        const { batched } = this._getRenderableData(renderable);\n\n        if (batched)\n        {\n            const batchableTilingSprite = this._getBatchedTilingSprite(renderable);\n\n            this._renderer.renderPipes.mesh.addRenderable(batchableTilingSprite, instructionSet);\n        }\n        else\n        {\n            const gpuTilingSprite = this._getGpuTilingSprite(renderable);\n\n            this._renderer.renderPipes.mesh.addRenderable(gpuTilingSprite.meshRenderable, instructionSet);\n        }\n    }\n\n    public updateRenderable(renderable: Renderable<TilingSpriteView>)\n    {\n        if (renderable.view._didUpdate)\n        {\n            renderable.view._didUpdate = false;\n\n            this._rebuild(renderable);\n        }\n\n        const { batched } = this._getRenderableData(renderable);\n\n        if (batched)\n        {\n            const batchableTilingSprite = this._getBatchedTilingSprite(renderable);\n\n            this._renderer.renderPipes.mesh.updateRenderable(batchableTilingSprite);\n        }\n        else\n        {\n            const gpuTilingSprite = this._getGpuTilingSprite(renderable);\n\n            this._renderer.renderPipes.mesh.updateRenderable(gpuTilingSprite.meshRenderable);\n        }\n    }\n\n    public destroyRenderable(renderable: Renderable<TilingSpriteView>)\n    {\n        // TODO pooling for the items... not a biggie though!\n        this._renderableHash[renderable.uid] = null;\n        this._gpuTilingSprite[renderable.uid] = null;\n        this._gpuBatchedTilingSprite[renderable.uid] = null;\n    }\n\n    private _getRenderableData(renderable: Renderable<TilingSpriteView>): RenderableData\n    {\n        return this._renderableHash[renderable.uid] || this._initRenderableData(renderable);\n    }\n\n    private _initRenderableData(renderable: Renderable<TilingSpriteView>): RenderableData\n    {\n        const renderableData = {\n            batched: true,\n        };\n\n        this._renderableHash[renderable.uid] = renderableData;\n\n        this.validateRenderable(renderable);\n\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return renderableData;\n    }\n\n    private _rebuild(renderable: Renderable<TilingSpriteView>)\n    {\n        const renderableData = this._getRenderableData(renderable);\n        const view = renderable.view;\n        const textureMatrix = view.texture.textureMatrix;\n\n        if (renderableData.batched)\n        {\n            const batchedMesh = this._getBatchedTilingSprite(renderable);\n\n            batchedMesh.view.texture = view.texture;\n\n            const style = view.texture.source.style;\n\n            if (style.addressMode !== 'repeat')\n            {\n                style.addressMode = 'repeat';\n                style.update();\n            }\n\n            this._updateBatchPositions(renderable);\n            this._updateBatchUvs(renderable);\n        }\n        else\n        {\n            const gpuTilingSprite = this._getGpuTilingSprite(renderable);\n            const { meshRenderable } = gpuTilingSprite;\n\n            const meshView = meshRenderable.view;\n\n            meshView.shader.texture = view.texture;\n\n            const tilingUniforms = meshView.shader.resources.tilingUniforms;\n\n            const originalWidth = view.width;\n            const originalHeight = view.height;\n\n            const tilingSpriteWidth = view.texture.width;\n            const tilingSpriteHeight = view.texture.height;\n\n            const matrix = view._tileTransform.matrix;\n\n            const uTextureTransform = tilingUniforms.uniforms.uTextureTransform;\n\n            uTextureTransform.set(\n                matrix.a * tilingSpriteWidth / originalWidth,\n                matrix.b * tilingSpriteWidth / originalHeight,\n                matrix.c * tilingSpriteHeight / originalWidth,\n                matrix.d * tilingSpriteHeight / originalHeight,\n                matrix.tx / originalWidth,\n                matrix.ty / originalHeight);\n\n            uTextureTransform.invert();\n\n            tilingUniforms.uniforms.uMapCoord = textureMatrix.mapCoord;\n            tilingUniforms.uniforms.uClampFrame = textureMatrix.uClampFrame;\n            tilingUniforms.uniforms.uClampOffset = textureMatrix.uClampOffset;\n            tilingUniforms.uniforms.uTextureTransform = uTextureTransform;\n            tilingUniforms.uniforms.uSizeAnchor[0] = originalWidth;\n            tilingUniforms.uniforms.uSizeAnchor[1] = originalHeight;\n            tilingUniforms.uniforms.uSizeAnchor[2] = renderable.view.anchor.x;\n            tilingUniforms.uniforms.uSizeAnchor[3] = renderable.view.anchor.y;\n\n            tilingUniforms.update();\n        }\n    }\n\n    private _getGpuTilingSprite(renderable: Renderable<TilingSpriteView>)\n    {\n        return this._gpuTilingSprite[renderable.uid] || this._initGpuTilingSprite(renderable);\n    }\n\n    private _initGpuTilingSprite(renderable: Renderable<TilingSpriteView>)\n    {\n        const view = renderable.view;\n\n        const style = view.texture.source.style;\n\n        style.addressMode = 'repeat';\n        style.update();\n\n        const meshView = new MeshView({\n            geometry: sharedQuad,\n            shader: new TilingSpriteShader({\n                texture: view.texture,\n            }),\n        });\n\n        const meshRenderable = new ProxyRenderable({\n            original: renderable,\n            view: meshView,\n        });\n\n        const textureMatrix = new Matrix();\n\n        const gpuTilingSpriteData = {\n            meshRenderable,\n            textureMatrix,\n        };\n\n        this._gpuTilingSprite[renderable.uid] = gpuTilingSpriteData;\n\n        return gpuTilingSpriteData;\n    }\n\n    private _getBatchedTilingSprite(renderable: Renderable<TilingSpriteView>): Renderable<MeshView>\n    {\n        return this._gpuBatchedTilingSprite[renderable.uid] || this._initBatchedTilingSprite(renderable);\n    }\n\n    private _initBatchedTilingSprite(renderable: Renderable<TilingSpriteView>)\n    {\n        const meshView = new MeshView({\n            geometry: new QuadGeometry(),\n            texture: renderable.view.texture,\n        });\n\n        meshView.roundPixels = (this._renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        const batchableMeshRenderable = new ProxyRenderable({\n            original: renderable,\n            view: meshView,\n        });\n\n        this._gpuBatchedTilingSprite[renderable.uid] = batchableMeshRenderable;\n\n        return batchableMeshRenderable;\n    }\n\n    private _updateBatchPositions(renderable: Renderable<TilingSpriteView>)\n    {\n        const meshRenderable = this._getBatchedTilingSprite(renderable);\n        const view = renderable.view;\n\n        const positionBuffer = meshRenderable.view.geometry.getBuffer('aPosition');\n\n        const positions = positionBuffer.data;\n        const anchorX = view.anchor.x;\n        const anchorY = view.anchor.y;\n\n        positions[0] = -anchorX * view.width;\n        positions[1] = -anchorY * view.height;\n        positions[2] = (1 - anchorX) * view.width;\n        positions[3] = -anchorY * view.height;\n        positions[4] = (1 - anchorX) * view.width;\n        positions[5] = (1 - anchorY) * view.height;\n        positions[6] = -anchorX * view.width;\n        positions[7] = (1 - anchorY) * view.height;\n    }\n\n    private _updateBatchUvs(renderable: Renderable<TilingSpriteView>)\n    {\n        const view = renderable.view;\n        const width = view.texture.frameWidth;\n        const height = view.texture.frameHeight;\n\n        const meshRenderable = this._getBatchedTilingSprite(renderable);\n\n        const uvBuffer = meshRenderable.view.geometry.getBuffer('aUV');\n\n        const uvs = uvBuffer.data;\n\n        let anchorX = 0;\n        let anchorY = 0;\n\n        if (view._applyAnchorToTexture)\n        {\n            anchorX = view.anchor.x;\n            anchorY = view.anchor.y;\n        }\n\n        uvs[0] = uvs[6] = -anchorX;\n        uvs[2] = uvs[4] = 1 - anchorX;\n        uvs[1] = uvs[3] = -anchorY;\n        uvs[5] = uvs[7] = 1 - anchorY;\n\n        const textureMatrix = Matrix.shared;\n\n        textureMatrix.copyFrom(view._tileTransform.matrix);\n\n        textureMatrix.tx /= view.width;\n        textureMatrix.ty /= view.height;\n\n        textureMatrix.invert();\n\n        textureMatrix.scale(view.width / width, view.height / height);\n\n        applyMatrix(uvs, 2, 0, textureMatrix);\n    }\n\n    public destroy()\n    {\n        this._renderableHash = null;\n        this._gpuTilingSprite = null;\n        this._gpuBatchedTilingSprite = null;\n\n        this._renderer = null;\n    }\n}\n\n// TODO - move to a shared location\nexport function applyMatrix(array: TypedArray, stride: number, offset: number, matrix: Matrix)\n{\n    let index = 0;\n    const size = array.length / (stride || 2);\n\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n\n    offset *= stride;\n\n    while (index < size)\n    {\n        const x = array[offset];\n        const y = array[offset + 1];\n\n        array[offset] = (a * x) + (c * y) + tx;\n        array[offset + 1] = (b * x) + (d * y) + ty;\n\n        offset += stride;\n\n        index++;\n    }\n}\n","import { emptyViewObserver } from '../../../rendering/renderers/shared/view/View';\nimport { uid } from '../../../utils/data/uid';\nimport { GraphicsContext } from './GraphicsContext';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { View } from '../../../rendering/renderers/shared/view/View';\nimport type { Bounds } from '../../container/bounds/Bounds';\nimport type { ContextDestroyOptions, TextureDestroyOptions, TypeOrBool } from '../../container/destroyTypes';\n\nexport class GraphicsView implements View\n{\n    public readonly uid = uid('graphicsView');\n    public readonly canBundle = true;\n    public readonly owner = emptyViewObserver;\n    public readonly renderPipeId = 'graphics';\n    public batched: boolean;\n\n    public roundPixels: 0 | 1 = 0;\n\n    /** @internal */\n    public _didUpdate: boolean;\n\n    private _context: GraphicsContext;\n\n    constructor(graphicsContext?: GraphicsContext)\n    {\n        this._context = graphicsContext || new GraphicsContext();\n        this._context.on('update', this.onGraphicsContextUpdate, this);\n    }\n\n    set context(context: GraphicsContext)\n    {\n        if (context === this._context) return;\n\n        this._context.off('update', this.onGraphicsContextUpdate, this);\n\n        this._context = context;\n\n        // TODO store this bound function somewhere else..\n        this._context.on('update', this.onGraphicsContextUpdate, this);\n\n        this.onGraphicsContextUpdate();\n    }\n\n    get context(): GraphicsContext\n    {\n        return this._context;\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        bounds.addBounds(this._context.bounds);\n    }\n\n    public containsPoint(point: PointData)\n    {\n        return this._context.containsPoint(point);\n    }\n\n    protected onGraphicsContextUpdate()\n    {\n        this._didUpdate = true;\n        this.owner.onViewUpdate();\n    }\n\n    /**\n     * Destroys this graphics renderable and optionally its context.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should destroy the texture of the graphics context\n     * @param {boolean} [options.textureSource=false] - Should destroy the texture source of the graphics context\n     * @param {boolean} [options.context=false] - Should destroy the context\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions & ContextDestroyOptions> = false): void\n    {\n        (this as any).owner = null;\n\n        const destroyContext = typeof options === 'boolean' ? options : options?.context;\n\n        if (destroyContext)\n        {\n            this._context.destroy(options);\n        }\n\n        this._context = null;\n    }\n}\n","export const localUniformMSDFBit = {\n    name: 'local-uniform-msdf-bit',\n    vertex: {\n        header: /* wgsl */`\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `,\n        main: /* wgsl */`\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `,\n        end: /* wgsl */`\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    },\n    fragment: {\n        header: /* wgsl */`\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         `,\n        main: /* wgsl */` \n            outColor = vColor * calculateMSDFAlpha(outColor, localUniforms.uDistance);\n        `\n\n    }\n\n};\n","export const mSDFBit = {\n    name: 'msdf-bit',\n    fragment: {\n        header: /* wgsl */`\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                return alpha;\n            }\n        `\n    }\n\n};\n\nexport const mSDFBitGl = {\n    name: 'msdf-bit',\n    fragment: {\n        header: /* glsl */`\n            float calculateMSDFAlpha(vec4 msdfColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                return alpha;\n            }\n\n            uniform float uDistance;\n        `,\n        main: /* glsl */`\n\n            outColor = vColor * calculateMSDFAlpha(outColor, uDistance);\n        `\n    }\n\n};\n","import { Matrix } from '../../../maths/matrix/Matrix';\nimport { MAX_TEXTURES } from '../../../rendering/batcher/shared/const';\nimport {\n    compileHighShaderGlProgram,\n    compileHighShaderGpuProgram\n} from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { colorBit, colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit';\nimport {\n    generateTextureBatchBit,\n    generateTextureBatchBitGl\n} from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { batchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/batchSamplersUniformGroup';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { localUniformMSDFBit } from './shader-bits/localUniformMSDFBit';\nimport { mSDFBit, mSDFBitGl } from './shader-bits/mSDFBit';\n\nexport class SdfShader extends Shader\n{\n    constructor()\n    {\n        const uniforms = new UniformGroup({\n            uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n            uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uDistance: { value: 4, type: 'f32' },\n            uRound: { value: 0, type: 'f32' },\n        });\n\n        const gpuProgram = compileHighShaderGpuProgram({\n            name: 'sdf-shader',\n            bits: [\n                colorBit,\n                generateTextureBatchBit(MAX_TEXTURES),\n                localUniformMSDFBit,\n                mSDFBit,\n                roundPixelsBit\n            ]\n        });\n\n        const glProgram = compileHighShaderGlProgram({\n            name: 'sdf-shader',\n            bits: [\n                colorBitGl,\n                generateTextureBatchBitGl(MAX_TEXTURES),\n                localUniformBitGl,\n                mSDFBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                localUniforms: uniforms,\n                batchSamplers: batchSamplersUniformGroup,\n            }\n        });\n    }\n}\n","import type { FillGradient } from '../../graphics/shared/fill/FillGradient';\nimport type { ConvertedFillStyle, ConvertedStrokeStyle } from '../../graphics/shared/GraphicsContext';\nimport type { TextStyle } from '../TextStyle';\n\nconst valuesToIterateForKeys = [\n    '_fontFamily',\n    '_fontStyle',\n    '_fontVariant',\n    '_fontWeight',\n    '_breakWords',\n    '_align',\n    '_leading',\n    '_letterSpacing',\n    '_lineHeight',\n    '_textBaseline',\n    '_whiteSpace',\n    '_wordWrap',\n    '_wordWrapWidth',\n    '_padding',\n    '_cssOverrides',\n];\n\n/**\n * Generates a unique key for the text style.\n * @param style - The style to generate a key for.\n * @returns the key for the style.\n */\nexport function generateTextStyleKey(style: TextStyle): string\n{\n    const key = [];\n\n    let index = 0;\n\n    for (let i = 0; i < valuesToIterateForKeys.length; i++)\n    {\n        const prop = valuesToIterateForKeys[i];\n\n        key[index++] = style[prop as keyof typeof style];\n    }\n\n    index = addFillStyleKey(style._fill, key as string[], index);\n    index = addStokeStyleKey(style._stroke, key as string[], index);\n\n    // TODO - we need to add some shadow stuff here!\n\n    return key.join('-');\n}\n\nfunction addFillStyleKey(fillStyle: ConvertedFillStyle, key: (number | string)[], index: number)\n{\n    if (!fillStyle) return index;\n\n    key[index++] = fillStyle.color;\n    key[index++] = fillStyle.alpha;\n    key[index++] = (fillStyle.fill as FillGradient)?.uid;\n\n    return index;\n}\n\nfunction addStokeStyleKey(strokeStyle: ConvertedStrokeStyle, key: (number | string)[], index: number)\n{\n    if (!strokeStyle) return index;\n\n    index = addFillStyleKey(strokeStyle, key, index);\n\n    key[index++] = strokeStyle.width;\n    key[index++] = strokeStyle.alignment;\n    key[index++] = strokeStyle.cap;\n    key[index++] = strokeStyle.join;\n    key[index++] = strokeStyle.miterLimit;\n\n    return index;\n}\n","import EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../color/Color';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { FillGradient } from '../graphics/shared/fill/FillGradient';\nimport { GraphicsContext } from '../graphics/shared/GraphicsContext';\nimport { convertFillInputToFillStyle } from '../graphics/shared/utils/convertFillInputToFillStyle';\nimport { generateTextStyleKey } from './utils/generateTextStyleKey';\n\nimport type { TextureDestroyOptions, TypeOrBool } from '../container/destroyTypes';\nimport type {\n    ConvertedFillStyle,\n    ConvertedStrokeStyle,\n    FillStyle,\n    FillStyleInputs\n} from '../graphics/shared/GraphicsContext';\n\nexport type TextStyleAlign = 'left' | 'center' | 'right' | 'justify';\nexport type TextStyleFill = string | string[] | number | number[] | CanvasGradient | CanvasPattern;\nexport type TextStyleFontStyle = 'normal' | 'italic' | 'oblique';\nexport type TextStyleFontVariant = 'normal' | 'small-caps';\n// eslint-disable-next-line max-len\nexport type TextStyleFontWeight = 'normal' | 'bold' | 'bolder' | 'lighter' | '100' | '200' | '300' | '400' | '500' | '600' | '700' | '800' | '900';\nexport type TextStyleLineJoin = 'miter' | 'round' | 'bevel';\nexport type TextStyleTextBaseline = 'alphabetic' | 'top' | 'hanging' | 'middle' | 'ideographic' | 'bottom';\nexport type TextStyleWhiteSpace = 'normal' | 'pre' | 'pre-line';\n\nexport type TextDropShadow = {\n    /** Set alpha for the drop shadow  */\n    alpha: number;\n    /** Set a angle of the drop shadow */\n    angle: number;\n    /** Set a shadow blur radius */\n    blur: number;\n    /** A fill style to be used on the  e.g., 'red', '#00FF00' */\n    color: ColorSource;\n    /** Set a distance of the drop shadow */\n    distance: number;\n};\n\n/** Generic interface for TextStyle options. */\nexport interface TextStyleOptions\n{\n    /**\n     * Alignment for multiline text, does not affect single line text\n     * @type {'left'|'center'|'right'|'justify'}\n     */\n    align?: TextStyleAlign;\n    /** Indicates if lines can be wrapped within words, it needs wordWrap to be set to true */\n    breakWords?: boolean;\n    /** Set a drop shadow for the text */\n    dropShadow?: boolean | TextDropShadow;\n    /**\n     * A canvas fillstyle that will be used on the text e.g., 'red', '#00FF00'.\n     * Can be an array to create a gradient, e.g., `['#000000','#FFFFFF']`\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle|MDN}\n     * @type {string|string[]|number|number[]|CanvasGradient|CanvasPattern}\n     */\n    fill?: FillStyleInputs;\n    /** The font family, can be a single font name, or a list of names where the first is the preferred font. */\n    fontFamily?: string | string[];\n    /** The font size (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em') */\n    fontSize?: number | string;\n    /**\n     * The font style.\n     * @type {'normal'|'italic'|'oblique'}\n     */\n    fontStyle?: TextStyleFontStyle;\n    /**\n     * The font variant.\n     * @type {'normal'|'small-caps'}\n     */\n    fontVariant?: TextStyleFontVariant;\n    /**\n     * The font weight.\n     * @type {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n     */\n    fontWeight?: TextStyleFontWeight;\n    /** The height of the line, a number that represents the vertical space that a letter uses. */\n    leading?: number;\n    /** The amount of spacing between letters, default is 0 */\n    letterSpacing?: number;\n    /** The line height, a number that represents the vertical space that a letter uses */\n    lineHeight?: number;\n    /**\n     * Occasionally some fonts are cropped. Adding some padding will prevent this from\n     * happening by adding padding to all sides of the text.\n     */\n    padding?: number;\n    /** A canvas fillstyle that will be used on the text stroke, e.g., 'blue', '#FCFF00' */\n    stroke?: FillStyleInputs;\n    /**\n     * The baseline of the text that is rendered.\n     * @type {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n     */\n    textBaseline?: TextStyleTextBaseline;\n    trim?: false,\n    /**\n     * Determines whether newlines & spaces are collapsed or preserved \"normal\"\n     * (collapse, collapse), \"pre\" (preserve, preserve) | \"pre-line\" (preserve,\n     * collapse). It needs wordWrap to be set to true.\n     * @type {'normal'|'pre'|'pre-line'}\n     */\n    whiteSpace?: TextStyleWhiteSpace;\n    /** Indicates if word wrap should be used */\n    wordWrap?: boolean;\n    /** The width at which text will wrap, it needs wordWrap to be set to true */\n    wordWrapWidth?: number;\n}\n\nexport class TextStyle extends EventEmitter<{\n    update: TextDropShadow\n}>\n{\n    public static defaultTextStyle: TextStyleOptions = {\n        /**\n         * See {@link TextStyle.align}\n         * @type {'left'|'center'|'right'|'justify'}\n         */\n        align: 'left',\n        /** See {@link TextStyle.breakWords} */\n        breakWords: false,\n        /** See {@link TextStyle.dropShadow} */\n        dropShadow:  {\n            alpha: 1,\n            angle: Math.PI / 6,\n            blur: 0,\n            color: 'black',\n            distance: 5,\n        },\n        /**\n         * See {@link TextStyle.fill}\n         * @type {string|string[]|number|number[]|CanvasGradient|CanvasPattern}\n         */\n        fill: 'black',\n        /**\n         * See {@link TextStyle.fontFamily}\n         * @type {string|string[]}\n         */\n        fontFamily: 'Arial',\n        /**\n         * See {@link TextStyle.fontSize}\n         * @type {number|string}\n         */\n        fontSize: 26,\n        /**\n         * See {@link TextStyle.fontStyle}\n         * @type {'normal'|'italic'|'oblique'}\n         */\n        fontStyle: 'normal',\n        /**\n         * See {@link TextStyle.fontVariant}\n         * @type {'normal'|'small-caps'}\n         */\n        fontVariant: 'normal',\n        /**\n         * See {@link TextStyle.fontWeight}\n         * @type {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n         */\n        fontWeight: 'normal',\n        /** See {@link TextStyle.leading} */\n        leading: 0,\n        /** See {@link TextStyle.letterSpacing} */\n        letterSpacing: 0,\n        /** See {@link TextStyle.lineHeight} */\n        lineHeight: 0,\n        /** See {@link TextStyle.padding} */\n        padding: 0,\n        /**\n         * See {@link TextStyle.stroke}\n         * @type {string|number}\n         */\n        stroke: null,\n        /**\n         * See {@link TextStyle.textBaseline}\n         * @type {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n         */\n        textBaseline: 'alphabetic',\n        /** See {@link TextStyle.trim} */\n        trim: false,\n        /**\n         * See {@link TextStyle.whiteSpace}\n         * @type {'normal'|'pre'|'pre-line'}\n         */\n        whiteSpace: 'pre',\n        /** See {@link TextStyle.wordWrap} */\n        wordWrap: false,\n        /** See {@link TextStyle.wordWrapWidth} */\n        wordWrapWidth: 100,\n    };\n\n    // colors!!\n    /** @internal */\n    public _fill: ConvertedFillStyle;\n    private _originalFill: FillStyleInputs;\n\n    /** @internal */\n    public _stroke: ConvertedStrokeStyle;\n    private _originalStroke: FillStyleInputs;\n\n    private _dropShadow: TextDropShadow;\n\n    private _fontFamily: string | string[];\n    private _fontSize: number;\n    private _fontStyle: TextStyleFontStyle;\n    private _fontVariant: TextStyleFontVariant;\n    private _fontWeight: TextStyleFontWeight;\n\n    private _breakWords: boolean;\n    private _align: TextStyleAlign;\n    private _leading: number;\n    private _letterSpacing: number;\n    private _lineHeight: number;\n\n    private _textBaseline: TextStyleTextBaseline;\n    private _whiteSpace: TextStyleWhiteSpace;\n    private _wordWrap: boolean;\n    private _wordWrapWidth: number;\n\n    private _padding: number;\n\n    protected _styleKey: string;\n\n    constructor(style: Partial<TextStyleOptions> = {})\n    {\n        super();\n\n        convertV7Tov8Style(style);\n\n        const fullStyle = { ...TextStyle.defaultTextStyle, ...style };\n\n        for (const key in TextStyle.defaultTextStyle)\n        {\n            const thisKey = key as keyof typeof this;\n\n            this[thisKey] = fullStyle[key as keyof TextStyleOptions] as any;\n        }\n\n        this.dropShadow = null;\n\n        if (typeof fullStyle.fill === 'string')\n        {\n            // eg '34px' to number\n            this.fontSize = parseInt(fullStyle.fontSize as string, 10);\n        }\n        else\n        {\n            this.fontSize = fullStyle.fontSize as number;\n        }\n\n        if (style.dropShadow)\n        {\n            // is true / false\n            if (style.dropShadow instanceof Boolean)\n            {\n                if (style.dropShadow === true)\n                {\n                    this.dropShadow = {\n                        ...TextStyle.defaultTextStyle.dropShadow as TextDropShadow\n                    };\n                }\n            }\n            else\n            {\n                this.dropShadow = {\n                    ...TextStyle.defaultTextStyle.dropShadow as TextDropShadow,\n                    ...style.dropShadow as TextDropShadow\n                };\n            }\n        }\n\n        this.update();\n    }\n\n    get align(): TextStyleAlign { return this._align; }\n    set align(value: TextStyleAlign) { this._align = value; this.update(); }\n    get breakWords(): boolean { return this._breakWords; }\n    set breakWords(value: boolean) { this._breakWords = value; this.update(); }\n    get dropShadow(): TextDropShadow { return this._dropShadow; }\n    set dropShadow(value: TextDropShadow) { this._dropShadow = value; this.update(); }\n    get fontFamily(): string | string[] { return this._fontFamily; }\n    set fontFamily(value: string | string[]) { this._fontFamily = value; this.update(); }\n    get fontSize(): number { return this._fontSize; }\n    set fontSize(value: number) { this._fontSize = value; this.update(); }\n    get fontStyle(): TextStyleFontStyle { return this._fontStyle; }\n    set fontStyle(value: TextStyleFontStyle) { this._fontStyle = value; this.update(); }\n    get fontVariant(): TextStyleFontVariant { return this._fontVariant; }\n    set fontVariant(value: TextStyleFontVariant) { this._fontVariant = value; this.update(); }\n    get fontWeight(): TextStyleFontWeight { return this._fontWeight; }\n    set fontWeight(value: TextStyleFontWeight) { this._fontWeight = value; this.update(); }\n    get leading(): number { return this._leading; }\n    set leading(value: number) { this._leading = value; this.update(); }\n    get letterSpacing(): number { return this._letterSpacing; }\n    set letterSpacing(value: number) { this._letterSpacing = value; this.update(); }\n    get lineHeight(): number { return this._lineHeight; }\n    set lineHeight(value: number) { this._lineHeight = value; this.update(); }\n    get padding(): number { return this._padding; }\n    set padding(value: number) { this._padding = value; this.update(); }\n    get textBaseline(): TextStyleTextBaseline { return this._textBaseline; }\n    set textBaseline(value: TextStyleTextBaseline) { this._textBaseline = value; this.update(); }\n    get whiteSpace(): TextStyleWhiteSpace { return this._whiteSpace; }\n    set whiteSpace(value: TextStyleWhiteSpace) { this._whiteSpace = value; this.update(); }\n    get wordWrap(): boolean { return this._wordWrap; }\n    set wordWrap(value: boolean) { this._wordWrap = value; this.update(); }\n    get wordWrapWidth(): number { return this._wordWrapWidth; }\n    set wordWrapWidth(value: number) { this._wordWrapWidth = value; this.update(); }\n\n    get fill(): FillStyleInputs\n    {\n        return this._originalFill;\n    }\n\n    set fill(value: FillStyleInputs)\n    {\n        if (value === this._originalFill) return;\n\n        this._originalFill = value;\n        this._fill = convertFillInputToFillStyle(value, GraphicsContext.defaultFillStyle);\n        this.update();\n    }\n\n    get stroke(): FillStyleInputs\n    {\n        return this._originalStroke;\n    }\n\n    set stroke(value: FillStyleInputs)\n    {\n        if (value === this._originalFill) return;\n\n        this._originalFill = value;\n        this._stroke = convertFillInputToFillStyle(value, GraphicsContext.defaultStrokeStyle) as ConvertedStrokeStyle;\n        this.update();\n    }\n\n    protected _generateKey(): string\n    {\n        this._styleKey = generateTextStyleKey(this);\n\n        return this._styleKey;\n    }\n\n    public update()\n    {\n        this._styleKey = null;\n        this.emit('update', this);\n    }\n\n    get styleKey()\n    {\n        return this._styleKey || this._generateKey();\n    }\n\n    public clone(): TextStyle\n    {\n        return new TextStyle({\n            align: this.align,\n            breakWords: this.breakWords,\n            dropShadow: this.dropShadow,\n            fill: this._fill,\n            fontFamily: this.fontFamily,\n            fontSize: this.fontSize,\n            fontStyle: this.fontStyle,\n            fontVariant: this.fontVariant,\n            fontWeight: this.fontWeight,\n            leading: this.leading,\n            letterSpacing: this.letterSpacing,\n            lineHeight: this.lineHeight,\n            padding: this.padding,\n            stroke: this._stroke,\n            textBaseline: this.textBaseline,\n            whiteSpace: this.whiteSpace,\n            wordWrap: this.wordWrap,\n            wordWrapWidth: this.wordWrapWidth,\n        });\n    }\n\n    /**\n     * Destroys this text style.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the texture of the this style\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the this style\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false)\n    {\n        this.removeAllListeners();\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            if (this._fill?.texture)\n            {\n                this._fill.texture.destroy(destroyTextureSource);\n            }\n\n            if ((this._originalFill as FillStyle)?.texture)\n            {\n                (this._originalFill as FillStyle).texture.destroy(destroyTextureSource);\n            }\n\n            if (this._stroke?.texture)\n            {\n                this._stroke.texture.destroy(destroyTextureSource);\n            }\n\n            if ((this._originalStroke as FillStyle)?.texture)\n            {\n                (this._originalStroke as FillStyle).texture.destroy(destroyTextureSource);\n            }\n        }\n\n        this._fill = null;\n        this._stroke = null;\n        this.dropShadow = null;\n        this._originalStroke = null;\n        this._originalFill = null;\n    }\n}\n\nfunction convertV7Tov8Style(style: TextStyleOptions)\n{\n    const oldStyle = style as any;\n\n    if (typeof oldStyle.dropShadow === 'boolean')\n    {\n        deprecation(v8_0_0, 'dropShadow is now an object, not a boolean');\n\n        style.dropShadow = {\n            alpha: oldStyle.dropShadowAlpha ?? 1,\n            angle: oldStyle.dropShadowAngle,\n            blur: oldStyle.dropShadowBlur ?? 0,\n            color: oldStyle.dropShadowColor,\n            distance:   oldStyle.dropShadowDistance,\n        };\n    }\n\n    if (oldStyle.strokeThickness)\n    {\n        deprecation(v8_0_0, 'strokeThickness is now a part of stroke');\n\n        const color = oldStyle.stroke;\n\n        style.stroke = {\n            color,\n            width: oldStyle.strokeThickness\n        };\n    }\n\n    if (Array.isArray(oldStyle.fill))\n    {\n        deprecation(v8_0_0, 'gradient fill is now a fill pattern: `new FillGradient(...)`');\n\n        const gradientFill = new FillGradient(0, 0, 0, (style.fontSize as number) * 1.7);\n\n        const fills: number[] = oldStyle.fill.map((color: ColorSource) => Color.shared.setValue(color).toNumber());\n\n        fills.forEach((number, index) =>\n        {\n            const ratio = oldStyle.fillGradientStops[index] ?? index / fills.length;\n\n            gradientFill.addColorStop(ratio, number);\n        });\n\n        style.fill = {\n            fill: gradientFill\n        };\n    }\n}\n","import { nextPow2 } from '../../../../maths/misc/pow2';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\n\nimport type { ICanvas, ICanvasRenderingContext2DSettings } from '../../../../settings/adapter/ICanvas';\nimport type { ICanvasRenderingContext2D } from '../../../../settings/adapter/ICanvasRenderingContext2D';\n\nexport interface CanvasAndContext\n{\n    canvas: ICanvas;\n    context: ICanvasRenderingContext2D;\n}\n\n/**\n * Texture pool, used by FilterSystem and plugins.\n *\n * Stores collection of temporary pow2 or screen-sized renderTextures\n *\n * If you use custom RenderTexturePool for your filters, you can use methods\n * `getFilterTexture` and `returnFilterTexture` same as in\n */\nexport class CanvasPoolClass\n{\n    public canvasOptions: ICanvasRenderingContext2DSettings;\n\n    /**\n     * Allow renderTextures of the same size as screen, not just pow2\n     *\n     * Automatically sets to true after `setScreenSize`\n     * @default false\n     */\n    public enableFullScreen: boolean;\n    private _canvasPool: {[x in string | number]: CanvasAndContext[]};\n\n    constructor(canvasOptions?: ICanvasRenderingContext2DSettings)\n    {\n        this._canvasPool = Object.create(null);\n        this.canvasOptions = canvasOptions || {};\n        this.enableFullScreen = false;\n    }\n\n    /**\n     * Creates texture with params that were specified in pool constructor.\n     * @param pixelWidth - Width of texture in pixels.\n     * @param pixelHeight - Height of texture in pixels.\n     */\n    private _createCanvasAndContext(pixelWidth: number, pixelHeight: number): CanvasAndContext\n    {\n        const canvas = DOMAdapter.get().createCanvas();\n\n        canvas.width = pixelWidth;\n        canvas.height = pixelHeight;\n\n        const context = canvas.getContext('2d');\n\n        return { canvas, context };\n    }\n\n    /**\n     * Gets a Power-of-Two render texture or fullScreen texture\n     * @param minWidth - The minimum width of the render texture.\n     * @param minHeight - The minimum height of the render texture.\n     * @param resolution - The resolution of the render texture.\n     * @returns The new render texture.\n     */\n    public getOptimalCanvasAndContext(minWidth: number, minHeight: number, resolution = 1): CanvasAndContext\n    {\n        minWidth = Math.ceil((minWidth * resolution) - 1e-6);\n        minHeight = Math.ceil((minHeight * resolution) - 1e-6);\n        minWidth = nextPow2(minWidth);\n        minHeight = nextPow2(minHeight);\n\n        const key = (minWidth << 17) + (minHeight << 1);\n\n        if (!this._canvasPool[key])\n        {\n            this._canvasPool[key] = [];\n        }\n\n        let canvasAndContext = this._canvasPool[key].pop();\n\n        if (!canvasAndContext)\n        {\n            canvasAndContext = this._createCanvasAndContext(minWidth, minHeight);\n        }\n\n        return canvasAndContext;\n    }\n\n    /**\n     * Place a render texture back into the pool.\n     * @param canvasAndContext\n     */\n    public returnCanvasAndContext(canvasAndContext: CanvasAndContext): void\n    {\n        const { width, height } = canvasAndContext.canvas;\n\n        const key = (width << 17) + (height << 1);\n\n        this._canvasPool[key].push(canvasAndContext);\n    }\n\n    public clear(): void\n    {\n        this._canvasPool = {};\n    }\n}\n\nexport const CanvasPool = new CanvasPoolClass();\n","import type { TextStyle } from '../../TextStyle';\n\nconst genericFontFamilies = [\n    'serif',\n    'sans-serif',\n    'monospace',\n    'cursive',\n    'fantasy',\n    'system-ui',\n];\n\n/**\n * Generates a font style string to use for `TextMetrics.measureFont()`.\n * @param style\n * @returns Font style string, for passing to `TextMetrics.measureFont()`\n */\nexport function fontStringFromTextStyle(style: TextStyle): string\n{\n    // build canvas api font setting from individual components. Convert a numeric style.fontSize to px\n    const fontSizeString = (typeof style.fontSize === 'number') ? `${style.fontSize}px` : style.fontSize;\n\n    // Clean-up fontFamily property by quoting each font name\n    // this will support font names with spaces\n    let fontFamilies: string | string[] = style.fontFamily;\n\n    if (!Array.isArray(style.fontFamily))\n    {\n        fontFamilies = style.fontFamily.split(',');\n    }\n\n    for (let i = fontFamilies.length - 1; i >= 0; i--)\n    {\n        // Trim any extra white-space\n        let fontFamily = fontFamilies[i].trim();\n\n        // Check if font already contains strings\n        if (!(/([\\\"\\'])[^\\'\\\"]+\\1/).test(fontFamily) && !genericFontFamilies.includes(fontFamily))\n        {\n            fontFamily = `\"${fontFamily}\"`;\n        }\n        (fontFamilies as string[])[i] = fontFamily;\n    }\n\n    // eslint-disable-next-line max-len\n    return `${style.fontStyle} ${style.fontVariant} ${style.fontWeight} ${fontSizeString} ${(fontFamilies as string[]).join(',')}`;\n}\n","import { DOMAdapter } from '../../../settings/adapter/adapter';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle';\n\nimport type { ICanvas, ICanvasRenderingContext2DSettings } from '../../../settings/adapter/ICanvas';\nimport type { ICanvasRenderingContext2D } from '../../../settings/adapter/ICanvasRenderingContext2D';\nimport type { TextStyle, TextStyleWhiteSpace } from '../TextStyle';\n\n// The type for Intl.Segmenter is only available since TypeScript 4.7.2, so let's make a polyfill for it.\ninterface ISegmentData\n{\n    segment: string;\n}\ninterface ISegments\n{\n    [Symbol.iterator](): IterableIterator<ISegmentData>;\n}\ninterface ISegmenter\n{\n    segment(input: string): ISegments;\n}\ninterface IIntl\n{\n    Segmenter?: {\n        prototype: ISegmenter;\n        new(): ISegmenter;\n    };\n}\n\nexport interface FontMetrics\n{\n    ascent: number;\n    descent: number;\n    fontSize: number;\n}\n\ntype CharacterWidthCache = Record<string, number>;\n\n// Default settings used for all getContext calls\nconst contextSettings: ICanvasRenderingContext2DSettings = {\n    // TextMetrics requires getImageData readback for measuring fonts.\n    willReadFrequently: true,\n};\n\n/**\n * The TextMetrics object represents the measurement of a block of text with a specified style.\n * @example\n * import { TextMetrics, TextStyle } from 'pixi.js';\n *\n * const style = new TextStyle({\n *     fontFamily: 'Arial',\n *     fontSize: 24,\n *     fill: 0xff1010,\n *     align: 'center',\n * });\n * const textMetrics = TextMetrics.measureText('Your text', style);\n */\nexport class CanvasTextMetrics\n{\n    /** The text that was measured. */\n    public text: string;\n\n    /** The style that was measured. */\n    public style: TextStyle;\n\n    /** The measured width of the text. */\n    public width: number;\n\n    /** The measured height of the text. */\n    public height: number;\n\n    /** An array of lines of the text broken by new lines and wrapping is specified in style. */\n    public lines: string[];\n\n    /** An array of the line widths for each line matched to `lines`. */\n    public lineWidths: number[];\n\n    /** The measured line height for this style. */\n    public lineHeight: number;\n\n    /** The maximum line width for all measured lines. */\n    public maxLineWidth: number;\n\n    /** The font properties object from TextMetrics.measureFont. */\n    public fontProperties: FontMetrics;\n\n    /**\n     * String used for calculate font metrics.\n     * These characters are all tall to help calculate the height required for text.\n     */\n    public static METRICS_STRING = '|ÉqÅ';\n\n    /** Baseline symbol for calculate font metrics. */\n    public static BASELINE_SYMBOL = 'M';\n\n    /** Baseline multiplier for calculate font metrics. */\n    public static BASELINE_MULTIPLIER = 1.4;\n\n    /** Height multiplier for setting height of canvas to calculate font metrics. */\n    public static HEIGHT_MULTIPLIER = 2.0;\n\n    /**\n     * A Unicode \"character\", or \"grapheme cluster\", can be composed of multiple Unicode code points,\n     * such as letters with diacritical marks (e.g. `'\\u0065\\u0301'`, letter e with acute)\n     * or emojis with modifiers (e.g. `'\\uD83E\\uDDD1\\u200D\\uD83D\\uDCBB'`, technologist).\n     * The new `Intl.Segmenter` API in ES2022 can split the string into grapheme clusters correctly. If it is not available,\n     * PixiJS will fallback to use the iterator of String, which can only spilt the string into code points.\n     * If you want to get full functionality in environments that don't support `Intl.Segmenter` (such as Firefox),\n     * you can use other libraries such as [grapheme-splitter]{@link https://www.npmjs.com/package/grapheme-splitter}\n     * or [graphemer]{@link https://www.npmjs.com/package/graphemer} to create a polyfill. Since these libraries can be\n     * relatively large in size to handle various Unicode grapheme clusters properly, PixiJS won't use them directly.\n     */\n    public static graphemeSegmenter: (s: string) => string[] = (() =>\n    {\n        if (typeof (Intl as IIntl)?.Segmenter === 'function')\n        {\n            const segmenter = new (Intl as IIntl).Segmenter();\n\n            return (s: string) => [...segmenter.segment(s)].map((x) => x.segment);\n        }\n\n        return (s: string) => [...s];\n    })();\n\n    public static _experimentalLetterSpacingSupported?: boolean;\n\n    /**\n     * Checking that we can use modern canvas 2D API.\n     *\n     * Note: This is an unstable API, Chrome < 94 use `textLetterSpacing`, later versions use `letterSpacing`.\n     * @see TextMetrics.experimentalLetterSpacing\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ICanvasRenderingContext2D/letterSpacing\n     * @see https://developer.chrome.com/origintrials/#/view_trial/3585991203293757441\n     */\n    public static get experimentalLetterSpacingSupported(): boolean\n    {\n        let result = CanvasTextMetrics._experimentalLetterSpacingSupported;\n\n        if (result !== undefined)\n        {\n            const proto = DOMAdapter.get().getCanvasRenderingContext2D().prototype;\n\n            result\n                = CanvasTextMetrics._experimentalLetterSpacingSupported\n                = 'letterSpacing' in proto || 'textLetterSpacing' in proto;\n        }\n\n        return result;\n    }\n\n    /**\n     * New rendering behavior for letter-spacing which uses Chrome's new native API. This will\n     * lead to more accurate letter-spacing results because it does not try to manually draw\n     * each character. However, this Chrome API is experimental and may not serve all cases yet.\n     * @see TextMetrics.experimentalLetterSpacingSupported\n     */\n    public static experimentalLetterSpacing = false;\n\n    /** Cache of {@see TextMetrics.FontMetrics} objects. */\n    private static _fonts: Record<string, FontMetrics> = {};\n\n    /** Cache of new line chars. */\n    private static readonly _newlines: number[] = [\n        0x000A, // line feed\n        0x000D, // carriage return\n    ];\n\n    /** Cache of breaking spaces. */\n    private static readonly _breakingSpaces: number[] = [\n        0x0009, // character tabulation\n        0x0020, // space\n        0x2000, // en quad\n        0x2001, // em quad\n        0x2002, // en space\n        0x2003, // em space\n        0x2004, // three-per-em space\n        0x2005, // four-per-em space\n        0x2006, // six-per-em space\n        0x2008, // punctuation space\n        0x2009, // thin space\n        0x200A, // hair space\n        0x205F, // medium mathematical space\n        0x3000, // ideographic space\n    ];\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    private static __canvas: ICanvas;\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    private static __context: ICanvasRenderingContext2D;\n\n    private static readonly _measurementCache: Record<string, CanvasTextMetrics> = {};\n\n    /**\n     * @param text - the text that was measured\n     * @param style - the style that was measured\n     * @param width - the measured width of the text\n     * @param height - the measured height of the text\n     * @param lines - an array of the lines of text broken by new lines and wrapping if specified in style\n     * @param lineWidths - an array of the line widths for each line matched to `lines`\n     * @param lineHeight - the measured line height for this style\n     * @param maxLineWidth - the maximum line width for all measured lines\n     * @param {FontMetrics} fontProperties - the font properties object from TextMetrics.measureFont\n     */\n    constructor(text: string, style: TextStyle, width: number, height: number, lines: string[], lineWidths: number[],\n        lineHeight: number, maxLineWidth: number, fontProperties: FontMetrics)\n    {\n        this.text = text;\n        this.style = style;\n        this.width = width;\n        this.height = height;\n        this.lines = lines;\n        this.lineWidths = lineWidths;\n        this.lineHeight = lineHeight;\n        this.maxLineWidth = maxLineWidth;\n        this.fontProperties = fontProperties;\n    }\n\n    /**\n     * Measures the supplied string of text and returns a Rectangle.\n     * @param text - The text to measure.\n     * @param style - The text style to use for measuring\n     * @param canvas - optional specification of the canvas to use for measuring.\n     * @param wordWrap\n     * @returns Measured width and height of the text.\n     */\n    public static measureText(\n        text = ' ',\n        style: TextStyle,\n        canvas: ICanvas = CanvasTextMetrics._canvas,\n        wordWrap: boolean = style.wordWrap,\n    ): CanvasTextMetrics\n    {\n        const textKey = `${text}:${style.styleKey}`;\n\n        // TODO - if we find this starts to go nuts with memory, we can remove the cache\n        // or instead just stick a usage tick that we increment each time we return it.\n        // if some are not used, we can just tidy them up!\n        if (CanvasTextMetrics._measurementCache[textKey]) return CanvasTextMetrics._measurementCache[textKey];\n\n        const font = fontStringFromTextStyle(style);\n        const fontProperties = CanvasTextMetrics.measureFont(font);\n\n        // fallback in case UA disallow canvas data extraction\n        if (fontProperties.fontSize === 0)\n        {\n            fontProperties.fontSize = style.fontSize as number;\n            fontProperties.ascent = style.fontSize as number;\n        }\n\n        const context = CanvasTextMetrics.__context; // canvas.getContext('2d', contextSettings);\n\n        context.font = font;\n\n        const outputText = wordWrap ? CanvasTextMetrics._wordWrap(text, style, canvas) : text;\n        const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n        const lineWidths = new Array<number>(lines.length);\n        let maxLineWidth = 0;\n\n        for (let i = 0; i < lines.length; i++)\n        {\n            const lineWidth = CanvasTextMetrics._measureText(lines[i], style.letterSpacing, context);\n\n            lineWidths[i] = lineWidth;\n            maxLineWidth = Math.max(maxLineWidth, lineWidth);\n        }\n\n        const strokeWidth = style._stroke?.width || 0;\n\n        let width = maxLineWidth + strokeWidth;\n\n        if (style.dropShadow)\n        {\n            width += style.dropShadow.distance;\n        }\n\n        const lineHeight = style.lineHeight || fontProperties.fontSize + strokeWidth;\n\n        let height = Math.max(lineHeight, fontProperties.fontSize + (strokeWidth * 2))\n            + ((lines.length - 1) * (lineHeight + style.leading));\n\n        if (style.dropShadow)\n        {\n            height += style.dropShadow.distance;\n        }\n\n        const measurements = new CanvasTextMetrics(\n            text,\n            style,\n            width,\n            height,\n            lines,\n            lineWidths,\n            lineHeight + style.leading,\n            maxLineWidth,\n            fontProperties\n        );\n\n        // CanvasTextMetrics._measurementCache[textKey] = measurements;\n\n        return measurements;\n    }\n\n    private static _measureText(\n        text: string,\n        letterSpacing: number,\n        context: ICanvasRenderingContext2D\n    )\n    {\n        let useExperimentalLetterSpacing = false;\n\n        if (CanvasTextMetrics.experimentalLetterSpacingSupported)\n        {\n            if (CanvasTextMetrics.experimentalLetterSpacing)\n            {\n                context.letterSpacing = `${letterSpacing}px`;\n                context.textLetterSpacing = `${letterSpacing}px`;\n                useExperimentalLetterSpacing = true;\n            }\n            else\n            {\n                context.letterSpacing = '0px';\n                context.textLetterSpacing = '0px';\n            }\n        }\n\n        let width = context.measureText(text).width;\n\n        if (width > 0)\n        {\n            if (useExperimentalLetterSpacing)\n            {\n                width -= letterSpacing;\n            }\n            else\n            {\n                width += (CanvasTextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;\n            }\n        }\n\n        return width;\n    }\n\n    /**\n     * Applies newlines to a string to have it optimally fit into the horizontal\n     * bounds set by the Text object's wordWrapWidth property.\n     * @param text - String to apply word wrapping to\n     * @param style - the style to use when wrapping\n     * @param canvas - optional specification of the canvas to use for measuring.\n     * @returns New string with new lines applied where required\n     */\n    private static _wordWrap(\n        text: string,\n        style: TextStyle,\n        canvas: ICanvas = CanvasTextMetrics._canvas\n    ): string\n    {\n        const context = canvas.getContext('2d', contextSettings);\n\n        let width = 0;\n        let line = '';\n        let lines = '';\n\n        const cache: CharacterWidthCache = Object.create(null);\n        const { letterSpacing, whiteSpace } = style;\n\n        // How to handle whitespaces\n        const collapseSpaces = CanvasTextMetrics._collapseSpaces(whiteSpace);\n        const collapseNewlines = CanvasTextMetrics._collapseNewlines(whiteSpace);\n\n        // whether or not spaces may be added to the beginning of lines\n        let canPrependSpaces = !collapseSpaces;\n\n        // There is letterSpacing after every char except the last one\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!\n        // so for convenience the above needs to be compared to width + 1 extra letterSpace\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!_\n        // ________________________________________________\n        // And then the final space is simply no appended to each line\n        const wordWrapWidth = style.wordWrapWidth + letterSpacing;\n\n        // break text into words, spaces and newline chars\n        const tokens = CanvasTextMetrics._tokenize(text);\n\n        for (let i = 0; i < tokens.length; i++)\n        {\n            // get the word, space or newlineChar\n            let token = tokens[i];\n\n            // if word is a new line\n            if (CanvasTextMetrics._isNewline(token))\n            {\n                // keep the new line\n                if (!collapseNewlines)\n                {\n                    lines += CanvasTextMetrics._addLine(line);\n                    canPrependSpaces = !collapseSpaces;\n                    line = '';\n                    width = 0;\n                    continue;\n                }\n\n                // if we should collapse new lines\n                // we simply convert it into a space\n                token = ' ';\n            }\n\n            // if we should collapse repeated whitespaces\n            if (collapseSpaces)\n            {\n                // check both this and the last tokens for spaces\n                const currIsBreakingSpace = CanvasTextMetrics.isBreakingSpace(token);\n                const lastIsBreakingSpace = CanvasTextMetrics.isBreakingSpace(line[line.length - 1]);\n\n                if (currIsBreakingSpace && lastIsBreakingSpace)\n                {\n                    continue;\n                }\n            }\n\n            // get word width from cache if possible\n            const tokenWidth = CanvasTextMetrics._getFromCache(token, letterSpacing, cache, context);\n\n            // word is longer than desired bounds\n            if (tokenWidth > wordWrapWidth)\n            {\n                // if we are not already at the beginning of a line\n                if (line !== '')\n                {\n                    // start newlines for overflow words\n                    lines += CanvasTextMetrics._addLine(line);\n                    line = '';\n                    width = 0;\n                }\n\n                // break large word over multiple lines\n                if (CanvasTextMetrics.canBreakWords(token, style.breakWords))\n                {\n                    // break word into characters\n                    const characters = CanvasTextMetrics.wordWrapSplit(token);\n\n                    // loop the characters\n                    for (let j = 0; j < characters.length; j++)\n                    {\n                        let char = characters[j];\n                        let lastChar = char;\n\n                        let k = 1;\n\n                        // we are not at the end of the token\n                        while (characters[j + k])\n                        {\n                            const nextChar = characters[j + k];\n\n                            // should not split chars\n                            if (!CanvasTextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords))\n                            {\n                                // combine chars & move forward one\n                                char += nextChar;\n                            }\n                            else\n                            {\n                                break;\n                            }\n\n                            lastChar = nextChar;\n                            k++;\n                        }\n\n                        j += k - 1;\n\n                        const characterWidth = CanvasTextMetrics._getFromCache(char, letterSpacing, cache, context);\n\n                        if (characterWidth + width > wordWrapWidth)\n                        {\n                            lines += CanvasTextMetrics._addLine(line);\n                            canPrependSpaces = false;\n                            line = '';\n                            width = 0;\n                        }\n\n                        line += char;\n                        width += characterWidth;\n                    }\n                }\n\n                // run word out of the bounds\n                else\n                {\n                    // if there are words in this line already\n                    // finish that line and start a new one\n                    if (line.length > 0)\n                    {\n                        lines += CanvasTextMetrics._addLine(line);\n                        line = '';\n                        width = 0;\n                    }\n\n                    const isLastToken = i === tokens.length - 1;\n\n                    // give it its own line if it's not the end\n                    lines += CanvasTextMetrics._addLine(token, !isLastToken);\n                    canPrependSpaces = false;\n                    line = '';\n                    width = 0;\n                }\n            }\n\n            // word could fit\n            else\n            {\n                // word won't fit because of existing words\n                // start a new line\n                if (tokenWidth + width > wordWrapWidth)\n                {\n                    // if its a space we don't want it\n                    canPrependSpaces = false;\n\n                    // add a new line\n                    lines += CanvasTextMetrics._addLine(line);\n\n                    // start a new line\n                    line = '';\n                    width = 0;\n                }\n\n                // don't add spaces to the beginning of lines\n                if (line.length > 0 || !CanvasTextMetrics.isBreakingSpace(token) || canPrependSpaces)\n                {\n                    // add the word to the current line\n                    line += token;\n\n                    // update width counter\n                    width += tokenWidth;\n                }\n            }\n        }\n\n        lines += CanvasTextMetrics._addLine(line, false);\n\n        return lines;\n    }\n\n    /**\n     * Convienience function for logging each line added during the wordWrap method.\n     * @param line    - The line of text to add\n     * @param newLine - Add new line character to end\n     * @returns A formatted line\n     */\n    private static _addLine(line: string, newLine = true): string\n    {\n        line = CanvasTextMetrics._trimRight(line);\n\n        line = (newLine) ? `${line}\\n` : line;\n\n        return line;\n    }\n\n    /**\n     * Gets & sets the widths of calculated characters in a cache object\n     * @param key            - The key\n     * @param letterSpacing  - The letter spacing\n     * @param cache          - The cache\n     * @param context        - The canvas context\n     * @returns The from cache.\n     */\n    private static _getFromCache(key: string, letterSpacing: number, cache: CharacterWidthCache,\n        context: ICanvasRenderingContext2D): number\n    {\n        let width = cache[key];\n\n        if (typeof width !== 'number')\n        {\n            width = CanvasTextMetrics._measureText(key, letterSpacing, context) + letterSpacing;\n            cache[key] = width;\n        }\n\n        return width;\n    }\n\n    /**\n     * Determines whether we should collapse breaking spaces.\n     * @param whiteSpace - The TextStyle property whiteSpace\n     * @returns Should collapse\n     */\n    private static _collapseSpaces(whiteSpace: TextStyleWhiteSpace): boolean\n    {\n        return (whiteSpace === 'normal' || whiteSpace === 'pre-line');\n    }\n\n    /**\n     * Determines whether we should collapse newLine chars.\n     * @param whiteSpace - The white space\n     * @returns should collapse\n     */\n    private static _collapseNewlines(whiteSpace: TextStyleWhiteSpace): boolean\n    {\n        return (whiteSpace === 'normal');\n    }\n\n    /**\n     * Trims breaking whitespaces from string.\n     * @param text - The text\n     * @returns Trimmed string\n     */\n    private static _trimRight(text: string): string\n    {\n        if (typeof text !== 'string')\n        {\n            return '';\n        }\n\n        for (let i = text.length - 1; i >= 0; i--)\n        {\n            const char = text[i];\n\n            if (!CanvasTextMetrics.isBreakingSpace(char))\n            {\n                break;\n            }\n\n            text = text.slice(0, -1);\n        }\n\n        return text;\n    }\n\n    /**\n     * Determines if char is a newline.\n     * @param char - The character\n     * @returns True if newline, False otherwise.\n     */\n    private static _isNewline(char: string): boolean\n    {\n        if (typeof char !== 'string')\n        {\n            return false;\n        }\n\n        return CanvasTextMetrics._newlines.includes(char.charCodeAt(0));\n    }\n\n    /**\n     * Determines if char is a breaking whitespace.\n     *\n     * It allows one to determine whether char should be a breaking whitespace\n     * For example certain characters in CJK langs or numbers.\n     * It must return a boolean.\n     * @param char - The character\n     * @param [_nextChar] - The next character\n     * @returns True if whitespace, False otherwise.\n     */\n    public static isBreakingSpace(char: string, _nextChar?: string): boolean\n    {\n        if (typeof char !== 'string')\n        {\n            return false;\n        }\n\n        return CanvasTextMetrics._breakingSpaces.includes(char.charCodeAt(0));\n    }\n\n    /**\n     * Splits a string into words, breaking-spaces and newLine characters\n     * @param text - The text\n     * @returns A tokenized array\n     */\n    private static _tokenize(text: string): string[]\n    {\n        const tokens: string[] = [];\n        let token = '';\n\n        if (typeof text !== 'string')\n        {\n            return tokens;\n        }\n\n        for (let i = 0; i < text.length; i++)\n        {\n            const char = text[i];\n            const nextChar = text[i + 1];\n\n            if (CanvasTextMetrics.isBreakingSpace(char, nextChar) || CanvasTextMetrics._isNewline(char))\n            {\n                if (token !== '')\n                {\n                    tokens.push(token);\n                    token = '';\n                }\n\n                tokens.push(char);\n\n                continue;\n            }\n\n            token += char;\n        }\n\n        if (token !== '')\n        {\n            tokens.push(token);\n        }\n\n        return tokens;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It allows one to customise which words should break\n     * Examples are if the token is CJK or numbers.\n     * It must return a boolean.\n     * @param _token - The token\n     * @param breakWords - The style attr break words\n     * @returns Whether to break word or not\n     */\n    public static canBreakWords(_token: string, breakWords: boolean): boolean\n    {\n        return breakWords;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It allows one to determine whether a pair of characters\n     * should be broken by newlines\n     * For example certain characters in CJK langs or numbers.\n     * It must return a boolean.\n     * @param _char - The character\n     * @param _nextChar - The next character\n     * @param _token - The token/word the characters are from\n     * @param _index - The index in the token of the char\n     * @param _breakWords - The style attr break words\n     * @returns whether to break word or not\n     */\n    public static canBreakChars(_char: string, _nextChar: string, _token: string, _index: number,\n        _breakWords: boolean): boolean\n    {\n        return true;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It is called when a token (usually a word) has to be split into separate pieces\n     * in order to determine the point to break a word.\n     * It must return an array of characters.\n     * @param token - The token to split\n     * @returns The characters of the token\n     * @see CanvasTextMetrics.graphemeSegmenter\n     */\n    public static wordWrapSplit(token: string): string[]\n    {\n        return CanvasTextMetrics.graphemeSegmenter(token);\n    }\n\n    /**\n     * Calculates the ascent, descent and fontSize of a given font-style\n     * @param font - String representing the style of the font\n     * @returns Font properties object\n     */\n    public static measureFont(font: string): {\n        ascent: number;\n        descent: number;\n        fontSize: number;\n    }\n    {\n        // as this method is used for preparing assets, don't recalculate things if we don't need to\n        if (CanvasTextMetrics._fonts[font])\n        {\n            return CanvasTextMetrics._fonts[font];\n        }\n\n        const context = CanvasTextMetrics._context;\n\n        context.font = font;\n        const metrics = context.measureText(CanvasTextMetrics.METRICS_STRING + CanvasTextMetrics.BASELINE_SYMBOL);\n\n        const properties = {\n            ascent: metrics.actualBoundingBoxAscent,\n            descent: metrics.actualBoundingBoxDescent,\n            fontSize: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n        };\n\n        CanvasTextMetrics._fonts[font] = properties;\n\n        return properties;\n    }\n\n    /**\n     * Clear font metrics in metrics cache.\n     * @param {string} [font] - font name. If font name not set then clear cache for all fonts.\n     */\n    public static clearMetrics(font = ''): void\n    {\n        if (font)\n        {\n            delete CanvasTextMetrics._fonts[font];\n        }\n        else\n        {\n            CanvasTextMetrics._fonts = {};\n        }\n    }\n\n    /**\n     * Cached canvas element for measuring text\n     * TODO: this should be private, but isn't because of backward compat, will fix later.\n     * @ignore\n     */\n    public static get _canvas(): ICanvas\n    {\n        if (!CanvasTextMetrics.__canvas)\n        {\n            let canvas: ICanvas;\n\n            try\n            {\n                // OffscreenCanvas2D measureText can be up to 40% faster.\n                const c = new OffscreenCanvas(0, 0);\n                const context = c.getContext('2d', contextSettings);\n\n                if (context?.measureText)\n                {\n                    CanvasTextMetrics.__canvas = c as ICanvas;\n\n                    return c as ICanvas;\n                }\n\n                canvas = DOMAdapter.get().createCanvas();\n            }\n            catch (ex)\n            {\n                canvas = DOMAdapter.get().createCanvas();\n            }\n            canvas.width = canvas.height = 10;\n            CanvasTextMetrics.__canvas = canvas;\n        }\n\n        return CanvasTextMetrics.__canvas;\n    }\n\n    /**\n     * TODO: this should be private, but isn't because of backward compat, will fix later.\n     * @ignore\n     */\n    public static get _context(): ICanvasRenderingContext2D\n    {\n        if (!CanvasTextMetrics.__context)\n        {\n            CanvasTextMetrics.__context = CanvasTextMetrics._canvas.getContext('2d', contextSettings);\n        }\n\n        return CanvasTextMetrics.__context;\n    }\n}\n","import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { warn } from '../../../../utils/logging/warn';\nimport { FillGradient } from '../../../graphics/shared/fill/FillGradient';\nimport { FillPattern } from '../../../graphics/shared/fill/FillPattern';\n\nimport type { ICanvasRenderingContext2D } from '../../../../settings/adapter/ICanvasRenderingContext2D';\nimport type { ConvertedFillStyle } from '../../../graphics/shared/GraphicsContext';\n\nexport function getCanvasFillStyle(\n    fillStyle: ConvertedFillStyle,\n    context: ICanvasRenderingContext2D): string | CanvasGradient | CanvasPattern\n{\n    if (fillStyle.texture === Texture.WHITE && !fillStyle.fill)\n    {\n        return Color.shared.setValue(fillStyle.color).toHex();\n    }\n    else if (!fillStyle.fill)\n    {\n        // fancy set up...\n        const pattern = context.createPattern(fillStyle.texture.source.resource, 'repeat');\n\n        // create an inverted scale matrix..\n        const tempMatrix = fillStyle.matrix.copyTo(Matrix.shared);\n\n        tempMatrix.scale(fillStyle.texture.frameWidth, fillStyle.texture.frameHeight);\n\n        pattern.setTransform(tempMatrix);\n\n        return pattern;\n    }\n    else if (fillStyle.fill instanceof FillPattern)\n    {\n        const fillPattern = fillStyle.fill as FillPattern;\n\n        const pattern = context.createPattern(fillPattern.texture.source.resource, 'repeat');\n\n        const tempMatrix = fillPattern.transform.copyTo(Matrix.shared);\n\n        tempMatrix.scale(fillPattern.texture.frameWidth, fillPattern.texture.frameHeight);\n\n        pattern.setTransform(tempMatrix);\n\n        return pattern;\n    }\n    else if (fillStyle.fill instanceof FillGradient)\n    {\n        const fillGradient = fillStyle.fill as FillGradient;\n\n        if (fillGradient.type === 'linear')\n        {\n            const gradient = context.createLinearGradient(\n                fillGradient.x0,\n                fillGradient.y0,\n                fillGradient.x1,\n                fillGradient.y1\n            );\n\n            fillGradient.gradientStops.forEach((stop) =>\n            {\n                gradient.addColorStop(stop.offset, Color.shared.setValue(stop.color).toHex());\n            });\n\n            return gradient;\n        }\n    }\n\n    // #if _DEBUG\n    warn('FillStyle not recognised', fillStyle);\n    // #endif\n\n    return 'red';\n}\n","/**\n * Processes the passed character set data and returns a flattened array of all the characters.\n *\n * Ignored because not directly exposed.\n * @ignore\n * @param {string | string[] | string[][] } chars\n * @returns {string[]} the flattened array of characters\n */\n\nexport function resolveCharacters(chars: string | (string | string[])[]): string[]\n{\n    // Skip unexpected 'empty set' check at end\n    if (chars === '')\n    {\n        return [];\n    }\n\n    // Split the chars string into individual characters\n    if (typeof chars === 'string')\n    {\n        chars = [chars];\n    }\n\n    // Handle an array of characters+ranges\n    const result: string[] = [];\n\n    for (let i = 0, j = chars.length; i < j; i++)\n    {\n        const item = chars[i];\n\n        // Handle range delimited by start/end chars\n        if (Array.isArray(item))\n        {\n            if (item.length !== 2)\n            {\n                throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);\n            }\n            if (item[0].length === 0 || item[1].length === 0)\n            {\n                throw new Error('[BitmapFont]: Invalid character delimiter.');\n            }\n\n            const startCode = item[0].charCodeAt(0);\n            const endCode = item[1].charCodeAt(0);\n\n            if (endCode < startCode)\n            {\n                throw new Error('[BitmapFont]: Invalid character range.');\n            }\n\n            for (let i = startCode, j = endCode; i <= j; i++)\n            {\n                result.push(String.fromCharCode(i));\n            }\n        }\n        else\n        {\n            result.push(...Array.from(item));\n        }\n    }\n\n    if (result.length === 0)\n    {\n        throw new Error('[BitmapFont]: Empty set when resolving characters.');\n    }\n\n    return result;\n}\n","import { Color } from '../../../color/Color';\nimport { Rectangle } from '../../../maths/shapes/Rectangle';\nimport { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool';\nimport { ImageSource } from '../../../rendering/renderers/shared/texture/sources/ImageSource';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { CanvasTextMetrics } from '../canvas/CanvasTextMetrics';\nimport { fontStringFromTextStyle } from '../canvas/utils/fontStringFromTextStyle';\nimport { getCanvasFillStyle } from '../canvas/utils/getCanvasFillStyle';\nimport { AbstractBitmapFont } from './AbstractBitmapFont';\nimport { resolveCharacters } from './utils/resolveCharacters';\n\nimport type { CanvasAndContext } from '../../../rendering/renderers/shared/texture/CanvasPool';\nimport type { ICanvasRenderingContext2D } from '../../../settings/adapter/ICanvasRenderingContext2D';\nimport type { Writeable } from '../../../utils/types';\nimport type { TextStyle } from '../TextStyle';\n\nexport interface DynamicBitmapFontOptions\n{\n    style: TextStyle\n    overrideFill?: boolean\n    skipKerning?: boolean\n    resolution?: number\n    padding?: number\n}\n\ntype WriteableDynamicBitmapFont = Writeable<DynamicBitmapFont, keyof DynamicBitmapFont>;\n\nexport class DynamicBitmapFont extends AbstractBitmapFont<DynamicBitmapFont>\n{\n    // this is a resolution modifier for the font size..\n    // texture resolution will also be used to scale texture according to its font size also\n    public resolution = 1;\n    public override readonly pages: {canvasAndContext?: CanvasAndContext, texture: Texture}[] = [];\n\n    private readonly _padding: number = 4;\n    private readonly _measureCache: Record<string, number> = Object.create(null);\n    private _currentChars: string[] = [];\n    private _currentX = 0;\n    private _currentY = 0;\n    private _currentPageIndex = -1;\n    private readonly _style: TextStyle;\n    private readonly _skipKerning: boolean = false;\n\n    constructor(options: DynamicBitmapFontOptions)\n    {\n        super();\n\n        const dynamicOptions = options;\n        const style = dynamicOptions.style.clone();\n\n        style.fontSize = this.baseMeasurementFontSize;\n\n        if (dynamicOptions.overrideFill)\n        {\n            // assuming no shape fill..\n            style._fill.color = 0xffffff;\n            style._fill.alpha = 1;\n            style._fill.texture = Texture.WHITE;\n            style._fill.fill = null;\n        }\n\n        this._style = style;\n        this._skipKerning = dynamicOptions.skipKerning ?? false;\n        this.resolution = dynamicOptions.resolution ?? 1;\n        this._padding = dynamicOptions.padding ?? 4;\n\n        const font = fontStringFromTextStyle(style);\n        const writable = this as WriteableDynamicBitmapFont;\n\n        writable.fontMetrics = CanvasTextMetrics.measureFont(font);\n        writable.lineHeight = style.lineHeight || this.fontMetrics.fontSize || style.fontSize;\n    }\n\n    public ensureCharacters(chars: string): void\n    {\n        const charList = resolveCharacters(chars)\n            .filter((char) => !this._currentChars.includes(char))\n            .filter((char, index, self) => self.indexOf(char) === index);\n        // filter returns..\n\n        if (!charList.length) return;\n\n        this._currentChars = [...this._currentChars, ...charList];\n\n        let pageData;\n\n        if (this._currentPageIndex === -1)\n        {\n            pageData = this._nextPage();\n        }\n        else\n        {\n            pageData = this.pages[this._currentPageIndex];\n        }\n\n        let { canvas, context } = pageData.canvasAndContext;\n        let textureSource = pageData.texture.source;\n\n        const style = this._style;\n\n        let currentX = this._currentX;\n        let currentY = this._currentY;\n\n        const fontScale = this.baseRenderedFontSize / this.baseMeasurementFontSize;\n        const padding = this._padding * fontScale;\n\n        const widthScale = style.fontStyle === 'italic' ? 2 : 1;\n        let maxCharHeight = 0;\n        let skipTexture = false;\n\n        for (let i = 0; i < charList.length; i++)\n        {\n            const char = charList[i];\n\n            const metrics = CanvasTextMetrics.measureText(char, style, canvas, false);\n\n            const width = (widthScale * metrics.width) * fontScale;\n            const height = (metrics.height) * fontScale;\n\n            const paddedWidth = width + (padding * 2);\n            const paddedHeight = height + (padding * 2);\n\n            skipTexture = false;\n            // don't let empty characters count towards the maxCharHeight\n            if (char !== '\\n' && char !== '\\r' && char !== '\\t' && char !== ' ')\n            {\n                skipTexture = true;\n                maxCharHeight = Math.ceil(Math.max(paddedHeight, maxCharHeight));// / 1.5;\n            }\n\n            if (currentX + paddedWidth > 512)\n            {\n                currentY += maxCharHeight;\n\n                // reset the line x and height..\n                maxCharHeight = paddedHeight;\n                currentX = 0;\n\n                if (currentY + maxCharHeight > 512)\n                {\n                    textureSource.update();\n\n                    const pageData = this._nextPage();\n\n                    canvas = pageData.canvasAndContext.canvas;\n                    context = pageData.canvasAndContext.context;\n                    textureSource = pageData.texture.source;\n\n                    currentY = 0;\n                }\n            }\n\n            const xAdvance = (width / fontScale)\n                - (style.dropShadow?.distance ?? 0)\n                - (style._stroke?.width ?? 0);\n\n            // This is in coord space of the measurements.. not the texture\n            this.chars[char] = {\n                id: char.codePointAt(0),\n                xOffset: -this._padding,\n                yOffset: -this._padding,\n                xAdvance,\n                kerning: {},\n            };\n\n            if (skipTexture)\n            {\n                this._drawGlyph(\n                    context,\n                    metrics,\n                    currentX + padding,\n                    currentY + padding,\n                    fontScale,\n                    style,\n                );\n\n                const px = textureSource.width * fontScale;\n                const py = textureSource.height * fontScale;\n\n                const frame = new Rectangle(\n                    (currentX) / px,\n                    (currentY) / py,\n                    (paddedWidth) / px,\n                    (paddedHeight) / py,\n                );\n\n                this.chars[char].texture = new Texture({\n                    source: textureSource,\n                    layout: {\n                        frame\n                    }\n                });\n\n                currentX += Math.ceil(paddedWidth);\n            }\n\n            // now add it to the font data..\n        }\n\n        textureSource.update();\n\n        this._currentX = currentX;\n        this._currentY = currentY;\n\n        // now apply kerning..\n        this._skipKerning && this._applyKerning(charList, context);\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * The map of base page textures (i.e., sheets of glyphs).\n     */\n    public override get pageTextures(): DynamicBitmapFont['pages']\n    {\n        deprecation(v8_0_0, 'BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.');\n\n        return this.pages;\n    }\n\n    private _applyKerning(newChars: string[], context: ICanvasRenderingContext2D): void\n    {\n        const measureCache = this._measureCache;\n\n        for (let i = 0; i < newChars.length; i++)\n        {\n            const first = newChars[i];\n\n            for (let j = 0; j < this._currentChars.length; j++)\n            {\n                // first go through new char being first\n                const second = this._currentChars[j];\n\n                let c1 = measureCache[first];\n\n                if (!c1) c1 = measureCache[first] = context.measureText(first).width;\n\n                let c2 = measureCache[second];\n\n                if (!c2) c2 = measureCache[second] = context.measureText(second).width;\n\n                let total = context.measureText(first + second).width;\n                let amount = total - (c1 + c2);\n\n                if (amount)\n                {\n                    this.chars[first].kerning[second] = amount;\n                }\n\n                // then go through new char being second\n                total = context.measureText(first + second).width;\n                amount = total - (c1 + c2);\n\n                if (amount)\n                {\n                    this.chars[second].kerning[first] = amount;\n                }\n            }\n        }\n    }\n\n    private _nextPage(): {canvasAndContext: CanvasAndContext, texture: Texture}\n    {\n        this._currentPageIndex++;\n\n        const textureResolution = this.resolution;\n        const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(512, 512, textureResolution);\n\n        this._setupContext(canvasAndContext.context, this._style, textureResolution);\n\n        const resolution = textureResolution * (this.baseRenderedFontSize / this.baseMeasurementFontSize);\n        const texture = new Texture({\n            source: new ImageSource({\n                resource: canvasAndContext.canvas,\n                resolution,\n                alphaMode: 'premultiply-alpha-on-upload'\n            }),\n\n        });\n\n        const pageData = {\n            canvasAndContext,\n            texture,\n        };\n\n        this.pages[this._currentPageIndex] = pageData;\n\n        return pageData;\n    }\n\n    // canvas style!\n    private _setupContext(context: ICanvasRenderingContext2D, style: TextStyle, resolution: number): void\n    {\n        style.fontSize = this.baseRenderedFontSize;\n        context.scale(resolution, resolution);\n        context.font = fontStringFromTextStyle(style);\n        style.fontSize = this.baseMeasurementFontSize;\n        context.textBaseline = style.textBaseline;\n\n        const stroke = style._stroke;\n        const strokeThickness = stroke?.width ?? 0;\n\n        if (stroke)\n        {\n            context.lineWidth = strokeThickness;\n            context.lineJoin = stroke.join;\n            context.miterLimit = stroke.miterLimit;\n\n            // TODO prolly cache this??\n            context.strokeStyle = getCanvasFillStyle(stroke, context);\n        }\n\n        if (style._fill)\n        {\n            // set canvas text styles\n            context.fillStyle = getCanvasFillStyle(style._fill, context);\n        }\n\n        if (style.dropShadow)\n        {\n            const shadowOptions = style.dropShadow;\n            const rgb = Color.shared.setValue(shadowOptions.color).toArray();\n\n            const dropShadowBlur = shadowOptions.blur * resolution;\n            const dropShadowDistance = shadowOptions.distance * resolution;\n\n            context.shadowColor = `rgba(${rgb[0] * 255},${rgb[1] * 255},${rgb[2] * 255},${shadowOptions.alpha})`;\n            context.shadowBlur = dropShadowBlur;\n            context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n            context.shadowOffsetY = Math.sin(shadowOptions.angle) * dropShadowDistance;\n        }\n        else\n        {\n            context.shadowColor = 'black';\n            context.shadowBlur = 0;\n            context.shadowOffsetX = 0;\n            context.shadowOffsetY = 0;\n        }\n    }\n\n    private _drawGlyph(\n        context: ICanvasRenderingContext2D,\n        metrics: CanvasTextMetrics,\n        x: number,\n        y: number,\n        fontScale: number,\n        style: TextStyle\n    ): void\n    {\n        const char = metrics.text;\n        const fontProperties = metrics.fontProperties;\n        const stroke = style._stroke;\n\n        const strokeThickness = (stroke?.width ?? 0) * fontScale;\n\n        const tx = x + (strokeThickness / 2);\n        const ty = y - (strokeThickness / 2);\n\n        const descent = fontProperties.descent * fontScale;\n        const lineHeight = metrics.lineHeight * fontScale;\n\n        if (style.stroke && strokeThickness)\n        {\n            context.strokeText(char, tx, ty + lineHeight - descent);\n        }\n\n        if (style._fill)\n        {\n            context.fillText(char, tx, ty + lineHeight - descent);\n        }\n    }\n\n    public override destroy(): void\n    {\n        super.destroy();\n\n        for (let i = 0; i < this.pages.length; i++)\n        {\n            const { canvasAndContext, texture } = this.pages[i];\n\n            CanvasPool.returnCanvasAndContext(canvasAndContext);\n            texture.destroy(true);\n        }\n\n        (this as WriteableDynamicBitmapFont).pages = null;\n    }\n}\n","import type { TextStyle } from '../../TextStyle';\nimport type { AbstractBitmapFont } from '../AbstractBitmapFont';\n\nexport interface BitmapTextLayoutData\n{\n    width: number;\n    height: number;\n    scale: number;\n    offsetY: number;\n    lines: {\n        width: number\n        charPositions: number[],\n        chars: string[],\n        // / spaces: number\n        spaceWidth: number\n        spacesIndex: number[]\n    }[];\n}\n\nexport function getBitmapTextLayout(chars: string[], style: TextStyle, font: AbstractBitmapFont<any>): BitmapTextLayoutData\n{\n    const layoutData: BitmapTextLayoutData = {\n        width: 0,\n        height: 0,\n        offsetY: 0,\n        scale: style.fontSize / font.baseMeasurementFontSize,\n        lines: [{\n            width: 0,\n            charPositions: [] as number[],\n            spaceWidth: 0,\n            spacesIndex: [],\n            chars: [],\n        }]\n    };\n\n    layoutData.offsetY = font.baseLineOffset;\n\n    let currentLine = layoutData.lines[0];\n\n    let previousChar: string = null;\n    let firstWord = true;\n    //    let spaceCount = 0;\n\n    const currentWord = {\n        spaceWord: false,\n        width: 0,\n        start: 0,\n        index: 0, // use index to not modify the array as we use it a lot!\n        positions: [] as number[],\n        chars: [] as string[],\n    };\n\n    const nextWord = (word: typeof currentWord) =>\n    {\n        const start = currentLine.width;\n\n        for (let j = 0; j < currentWord.index; j++)\n        {\n            const position = word.positions[j];\n\n            currentLine.chars.push(word.chars[j]);\n            currentLine.charPositions.push(position + start);\n        }\n\n        currentLine.width += word.width;\n\n        firstWord = false;\n\n        // reset the word..\n        currentWord.width = 0;\n        currentWord.index = 0;\n        currentWord.chars.length = 0;\n\n        // spaceCount = 0;\n    };\n\n    const nextLine = () =>\n    {\n        let index = currentLine.chars.length - 1;\n        let lastChar = currentLine.chars[index];\n\n        while (lastChar === ' ')\n        {\n            currentLine.width -= font.chars[lastChar].xAdvance;\n            lastChar = currentLine.chars[--index];\n        }\n\n        layoutData.width = Math.max(layoutData.width, currentLine.width);\n\n        currentLine = {\n            width: 0,\n            charPositions: [],\n            chars: [],\n            spaceWidth: 0,\n            spacesIndex: [],\n        };\n\n        firstWord = true;\n        layoutData.lines.push(currentLine);\n        layoutData.height += font.lineHeight;\n    };\n\n    const scale = font.baseMeasurementFontSize / style.fontSize;\n\n    const adjustedLetterSpacing = style.letterSpacing * scale;\n    const adjustedWordWrapWidth = style.wordWrapWidth * scale;\n\n    // loop an extra time to force a line break..\n    for (let i = 0; i < chars.length + 1; i++)\n    {\n        let char: string;\n\n        const isEnd = i === chars.length;\n\n        if (!isEnd)\n        {\n            char = chars[i];\n        }\n\n        const charData = font.chars[char];\n\n        const isSpace = (/(?:\\s)/).test(char);\n        const isWordBreak = isSpace || char === '\\r' || char === '\\n' || isEnd;\n\n        // spaceCount++;\n        // wasSpace = isSpace;\n\n        if (isWordBreak)\n        {\n            const addWordToNextLine = !firstWord\n                && style.wordWrap\n                && (currentLine.width + currentWord.width - adjustedLetterSpacing) > adjustedWordWrapWidth;\n\n            if (addWordToNextLine)\n            {\n                nextLine();\n\n                nextWord(currentWord);\n\n                if (!isEnd)\n                {\n                    currentLine.charPositions.push(0);\n                }\n            }\n            else\n            {\n                currentWord.start = currentLine.width;\n\n                nextWord(currentWord);\n\n                if (!isEnd)\n                {\n                    currentLine.charPositions.push(0);\n                }\n            }\n\n            if (char === '\\r' || char === '\\n')\n            {\n                if (currentLine.width !== 0)\n                {\n                    nextLine();\n                }\n            }\n            else if (!isEnd)\n            {\n                const spaceWidth = charData.xAdvance + (charData.kerning[previousChar] || 0) + adjustedLetterSpacing;\n\n                currentLine.width += spaceWidth;\n\n                currentLine.spaceWidth = spaceWidth;\n                currentLine.spacesIndex.push(currentLine.charPositions.length);\n                currentLine.chars.push(char);\n\n                // spaceCount++;\n            }\n        }\n        else\n        {\n            const kerning = charData.kerning[previousChar] || 0;\n\n            const nextCharWidth = charData.xAdvance + kerning + adjustedLetterSpacing;\n\n            currentWord.positions[currentWord.index++] = currentWord.width + kerning;\n            currentWord.chars.push(char);\n\n            currentWord.width += nextCharWidth;\n        }\n\n        previousChar = char;\n        // lastChar = char;\n    }\n\n    nextLine();\n\n    if (style.align === 'center')\n    {\n        alignCenter(layoutData);\n    }\n    else if (style.align === 'right')\n    {\n        alignRight(layoutData);\n    }\n    else if (style.align === 'justify')\n    {\n        alignJustify(layoutData);\n    }\n\n    return layoutData;\n}\n\nfunction alignCenter(measurementData: BitmapTextLayoutData)\n{\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n        const offset = ((measurementData.width / 2) - (line.width / 2));\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            line.charPositions[j] += offset;\n        }\n    }\n}\n\nfunction alignRight(measurementData: BitmapTextLayoutData)\n{\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n        const offset = ((measurementData.width) - (line.width));\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            line.charPositions[j] += offset;\n        }\n    }\n}\n\nfunction alignJustify(measurementData: BitmapTextLayoutData)\n{\n    const width = measurementData.width;\n\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n\n        let indy = 0;\n        let spaceIndex = line.spacesIndex[indy++];\n\n        let offset = 0;\n\n        const totalSpaces = line.spacesIndex.length;\n\n        const newSpaceWidth = (width - line.width) / totalSpaces;\n\n        const spaceWidth = newSpaceWidth;\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            if (j === spaceIndex)\n            {\n                spaceIndex = line.spacesIndex[indy++];\n\n                offset += spaceWidth;\n            }\n\n            line.charPositions[j] += offset;\n        }\n    }\n}\n","import { Cache } from '../../../assets/cache/Cache';\nimport { TextStyle } from '../TextStyle';\nimport { DynamicBitmapFont } from './DynamicBitmapFont';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout';\nimport { resolveCharacters } from './utils/resolveCharacters';\n\nimport type { TextStyleOptions } from '../TextStyle';\nimport type { BitmapFontInstallOptions } from './AbstractBitmapFont';\nimport type { BitmapFont } from './BitmapFont';\nimport type { BitmapTextLayoutData } from './utils/getBitmapTextLayout';\n\nclass BitmapFontManagerClass\n{\n    /**\n     * This character set includes all the letters in the alphabet (both lower- and upper- case).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.ALPHA })\n     */\n    public readonly ALPHA = [['a', 'z'], ['A', 'Z'], ' '];\n\n    /**\n     * This character set includes all decimal digits (from 0 to 9).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.NUMERIC })\n     */\n    public readonly NUMERIC = [['0', '9']];\n\n    /**\n     * This character set is the union of `BitmapFont.ALPHA` and `BitmapFont.NUMERIC`.\n     * @type {string[][]}\n     */\n    public readonly ALPHANUMERIC = [['a', 'z'], ['A', 'Z'], ['0', '9'], ' '];\n\n    /**\n     * This character set consists of all the ASCII table.\n     * @member {string[][]}\n     * @see http://www.asciitable.com/\n     */\n    public readonly ASCII = [[' ', '~']];\n\n    public defaultOptions: BitmapFontInstallOptions = {\n        chars: this.ALPHANUMERIC,\n        resolution: 1,\n        padding: 4,\n        skipKerning: false,\n    };\n\n    public getFont(text: string, style: TextStyle): BitmapFont\n    {\n        let fontFamilyKey = style.fontFamily as string;\n        let overrideFill = true;\n\n        // assuming there is no texture we can use a tint!\n        if (style._fill.fill)\n        {\n            fontFamilyKey += style._fill.fill.uid;\n            overrideFill = false;\n        }\n\n        // first get us the the right font...\n        if (!Cache.has(fontFamilyKey))\n        {\n            Cache.set(\n                fontFamilyKey as string,\n                new DynamicBitmapFont({\n                    style,\n                    overrideFill,\n                    ...this.defaultOptions,\n                }),\n            );\n        }\n\n        const dynamicFont = Cache.get(fontFamilyKey);\n\n        (dynamicFont as DynamicBitmapFont).ensureCharacters?.(text);\n\n        return dynamicFont;\n    }\n\n    public getLayout(text: string, style: TextStyle): BitmapTextLayoutData\n    {\n        const bitmapFont = this.getFont(text, style);\n\n        return getBitmapTextLayout(text.split(''), style, bitmapFont);\n    }\n\n    public measureText(text: string, style: TextStyle): { width: number; height: number; scale: number; offsetY: number }\n    {\n        return this.getLayout(text, style);\n    }\n\n    /**\n     * Generates a bitmap-font for the given style and character set\n     * @param name - The name of the custom font to use with BitmapText.\n     * @param textStyle - Style options to render with BitmapFont.\n     * @param options - Setup options for font or name of the font.\n     * @returns Font generated by style options.\n     * @example\n     * import { BitmapFontManager, BitmapText } from 'pixi.js';\n     *\n     * BitmapFontManager.install('TitleFont', {\n     *     fontFamily: 'Arial',\n     *     fontSize: 12,\n     *     strokeThickness: 2,\n     *     fill: 'purple',\n     * });\n     *\n     * const title = new Text({ text: 'This is the title', fontFamily: 'TitleFont', renderMode: 'bitmap' });\n     */\n    public install(name: string, textStyle?: TextStyle | Partial<TextStyleOptions>, options?: BitmapFontInstallOptions)\n    {\n        if (!name)\n        {\n            throw new Error('[BitmapFontManager] Property `name` is required.');\n        }\n\n        options = { ...this.defaultOptions, ...options };\n        const style = textStyle instanceof TextStyle ? textStyle : new TextStyle(textStyle);\n        const overrideFill = style._fill.fill !== null && style._fill.fill !== undefined;\n        const font = new DynamicBitmapFont({\n            style,\n            overrideFill,\n            skipKerning: options.skipKerning,\n            padding: options.padding,\n            resolution: options.resolution,\n        });\n        const flatChars = resolveCharacters(options.chars);\n\n        font.ensureCharacters(flatChars.join(''));\n\n        Cache.set(name, font);\n\n        return font;\n    }\n}\n\nexport const BitmapFontManager = new BitmapFontManagerClass();\n","import { Cache } from '../../../assets/cache/Cache';\nimport { ExtensionType } from '../../../extensions/Extensions';\nimport { ProxyRenderable } from '../../../rendering/renderers/shared/ProxyRenderable';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { GraphicsView } from '../../graphics/shared/GraphicsView';\nimport { SdfShader } from '../sdfShader/SdfShader';\nimport { BitmapFontManager } from './BitmapFontManager';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { GraphicsContext } from '../../graphics/shared/GraphicsContext';\nimport type { TextView } from '../TextView';\n\nclass GraphicsProxyRenderable extends ProxyRenderable<GraphicsView>\n{\n    constructor()\n    {\n        super({\n            view: new GraphicsView(),\n        });\n    }\n}\n\nexport class BitmapTextPipe implements RenderPipe<TextView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'bitmapText',\n    } as const;\n\n    private _renderer: Renderer;\n    private _gpuBitmapText: Record<number, GraphicsProxyRenderable> = {};\n    private _sdfShader: SdfShader;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public validateRenderable(renderable: Renderable<TextView>): boolean\n    {\n        const graphicsRenderable = this._getGpuBitmapText(renderable);\n\n        if (renderable.view._didUpdate)\n        {\n            renderable.view._didUpdate = false;\n            this._updateContext(renderable, graphicsRenderable.view.context);\n        }\n\n        const rebuild = this._renderer.renderPipes.graphics.validateRenderable(graphicsRenderable);\n\n        // TODO - need to shift all the verts in the graphicsData to the new anchor\n\n        return rebuild;\n        // update the anchor...\n    }\n\n    public addRenderable(renderable: Renderable<TextView>, instructionSet: InstructionSet)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(renderable);\n\n        if (renderable.view._didUpdate)\n        {\n            renderable.view._didUpdate = false;\n\n            this._updateContext(renderable, graphicsRenderable.view.context);\n        }\n\n        this._renderer.renderPipes.graphics.addRenderable(graphicsRenderable, instructionSet);\n\n        if (graphicsRenderable.view.context.customShader)\n        {\n            this._updateDistanceField(renderable);\n        }\n    }\n\n    public destroyRenderable(renderable: Renderable<TextView>)\n    {\n        this._destroyRenderableByUid(renderable.uid);\n    }\n\n    private _destroyRenderableByUid(renderableUid: number)\n    {\n        BigPool.return(this._gpuBitmapText[renderableUid]);\n        this._gpuBitmapText[renderableUid] = null;\n    }\n\n    public updateRenderable(renderable: Renderable<TextView>)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(renderable);\n\n        this._renderer.renderPipes.graphics.updateRenderable(graphicsRenderable);\n\n        if (graphicsRenderable.view.context.customShader)\n        {\n            this._updateDistanceField(renderable);\n        }\n    }\n\n    private _updateContext(renderable: Renderable<TextView>, context: GraphicsContext)\n    {\n        const view = renderable.view;\n\n        const bitmapFont = BitmapFontManager.getFont(view.text, view._style);\n\n        context.clear();\n\n        if (bitmapFont.distanceField.type !== 'none')\n        {\n            if (!context.customShader)\n            {\n                if (!this._sdfShader)\n                {\n                    this._sdfShader = new SdfShader();\n                }\n\n                context.customShader = this._sdfShader;\n            }\n        }\n\n        const chars = Array.from(view.text);\n        const style = view._style;\n\n        let currentY = (style._stroke?.width || 0) / 2;\n\n        currentY += bitmapFont.baseLineOffset;\n\n        // measure our text...\n        const bitmapTextLayout = getBitmapTextLayout(chars, style, bitmapFont);\n\n        let index = 0;\n\n        const padding = style.padding;\n        const scale = bitmapTextLayout.scale;\n\n        context\n            .translate(\n                (-view.anchor._x * bitmapTextLayout.width) - padding,\n                (-view.anchor._y * (bitmapTextLayout.height + bitmapTextLayout.offsetY)) - padding)\n            .scale(scale, scale);\n\n        const tint = style._fill.color;\n\n        for (let i = 0; i < bitmapTextLayout.lines.length; i++)\n        {\n            const line = bitmapTextLayout.lines[i];\n\n            for (let j = 0; j < line.charPositions.length; j++)\n            {\n                const char = chars[index++];\n\n                const charData = bitmapFont.chars[char];\n\n                if (charData?.texture)\n                {\n                    context.texture(\n                        charData.texture,\n                        tint,\n                        Math.round(line.charPositions[j] + charData.xOffset),\n                        Math.round(currentY + charData.yOffset),\n                    );\n                }\n            }\n\n            currentY += bitmapFont.lineHeight;\n        }\n    }\n\n    private _getGpuBitmapText(renderable: Renderable<TextView>)\n    {\n        return this._gpuBitmapText[renderable.uid] || this._initGpuText(renderable);\n    }\n\n    private _initGpuText(renderable: Renderable<TextView>)\n    {\n        renderable.view._style.update();\n\n        // TODO we could keep a bunch of contexts around and reuse one that hav the same style!\n        const proxyRenderable = BigPool.get(GraphicsProxyRenderable, renderable);\n\n        this._gpuBitmapText[renderable.uid] = proxyRenderable;\n\n        proxyRenderable.view.roundPixels = (this._renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        this._updateContext(renderable, proxyRenderable.view.context);\n\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return this._gpuBitmapText[renderable.uid];\n    }\n\n    private _updateDistanceField(renderable: Renderable<TextView>)\n    {\n        const context = this._getGpuBitmapText(renderable).view.context;\n\n        const view = renderable.view;\n\n        const fontFamily = view._style.fontFamily as string;\n        const dynamicFont = Cache.get(fontFamily as string);\n\n        // Inject the shader code with the correct value\n        const { a, b, c, d } = renderable.layerTransform;\n\n        const dx = Math.sqrt((a * a) + (b * b));\n        const dy = Math.sqrt((c * c) + (d * d));\n        const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n\n        const fontScale = dynamicFont.baseRenderedFontSize / view._style.fontSize;\n\n        const resolution = view.resolution ?? this._renderer.resolution;\n        const distance = worldScale * dynamicFont.distanceField.range * (1 / fontScale) * resolution;\n\n        context.customShader.resources.localUniforms.uniforms.uDistance = distance;\n    }\n\n    public destroy()\n    {\n        for (const uid in this._gpuBitmapText)\n        {\n            this._destroyRenderableByUid(uid as unknown as number);\n        }\n\n        this._gpuBitmapText = null;\n\n        this._sdfShader?.destroy(true);\n        this._sdfShader = null;\n\n        this._renderer = null;\n    }\n}\n\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { updateQuadBounds } from '../../../utils/updateQuadBounds';\nimport { BatchableSprite } from '../../sprite/BatchableSprite';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { TextView } from '../TextView';\n\nexport class CanvasTextPipe implements RenderPipe<TextView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'text',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _gpuText: Record<number, {\n        texture: Texture,\n        currentKey: string,\n        batchableSprite: BatchableSprite,\n    }> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public validateRenderable(renderable: Renderable<TextView>): boolean\n    {\n        const gpuText = this._getGpuText(renderable);\n\n        const newKey = renderable.view._getKey();\n\n        if (gpuText.currentKey !== newKey)\n        {\n            const view = renderable.view;\n\n            const resolution = view.resolution ?? this._renderer.resolution;\n\n            const { width, height } = this._renderer.canvasText.getTextureSize(\n                view.text,\n                resolution,\n                view._style,\n            );\n\n            if (\n                // is only being used by this text:\n                this._renderer.canvasText.getReferenceCount(gpuText.currentKey) === 1\n                // check the size of the text is the same po2\n                && width === gpuText.texture._source.width\n                && height === gpuText.texture._source.height\n            )\n            {\n                return false;\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(renderable: Renderable<TextView>, _instructionSet: InstructionSet)\n    {\n        const gpuText = this._getGpuText(renderable);\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (renderable.view._didUpdate)\n        {\n            this._updateText(renderable);\n        }\n\n        this._renderer.renderPipes.batch.addToBatch(batchableSprite);\n    }\n\n    public updateRenderable(renderable: Renderable<TextView>)\n    {\n        const gpuText = this._getGpuText(renderable);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (renderable.view._didUpdate)\n        {\n            this._updateText(renderable);\n        }\n\n        batchableSprite.batcher.updateElement(batchableSprite);\n    }\n\n    public destroyRenderable(renderable: Renderable<TextView>)\n    {\n        this._destroyRenderableById(renderable.uid);\n    }\n\n    private _destroyRenderableById(renderableUid: number)\n    {\n        const gpuText = this._gpuText[renderableUid];\n\n        this._renderer.canvasText.decreaseReferenceCount(gpuText.currentKey);\n\n        BigPool.return(gpuText.batchableSprite);\n\n        this._gpuText[renderableUid] = null;\n    }\n\n    private _updateText(renderable: Renderable<TextView>)\n    {\n        const newKey = renderable.view._getKey();\n        const gpuText = this._getGpuText(renderable);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (gpuText.currentKey !== newKey)\n        {\n            this._updateGpuText(renderable);\n        }\n\n        renderable.view._didUpdate = false;\n\n        const padding = renderable.view._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, renderable.view.anchor, batchableSprite.texture, padding);\n    }\n\n    private _updateGpuText(renderable: Renderable<TextView>)\n    {\n        const gpuText = this._getGpuText(renderable);\n        const batchableSprite = gpuText.batchableSprite;\n        const view = renderable.view;\n\n        if (gpuText.texture)\n        {\n            this._renderer.canvasText.decreaseReferenceCount(gpuText.currentKey);\n        }\n\n        const resolution = view.resolution ?? this._renderer.resolution;\n\n        gpuText.texture = batchableSprite.texture = this._renderer.canvasText.getTexture(\n            view.text,\n            resolution,\n            view._style,\n            view._getKey()\n        );\n\n        gpuText.currentKey = view._getKey();\n        batchableSprite.texture = gpuText.texture;\n    }\n\n    private _getGpuText(renderable: Renderable<TextView>)\n    {\n        return this._gpuText[renderable.uid] || this._initGpuText(renderable);\n    }\n\n    private _initGpuText(renderable: Renderable<TextView>)\n    {\n        const view = renderable.view;\n\n        view._style.update();\n\n        const gpuTextData: CanvasTextPipe['_gpuText'][number] = {\n            texture: null,\n            currentKey: '--',\n            batchableSprite: BigPool.get(BatchableSprite),\n        };\n\n        gpuTextData.batchableSprite.renderable = renderable;\n        gpuTextData.batchableSprite.bounds = [0, 1, 0, 0];\n        gpuTextData.batchableSprite.roundPixels = (this._renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        this._gpuText[renderable.uid] = gpuTextData;\n\n        this._updateText(renderable);\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return gpuTextData;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuText)\n        {\n            this._destroyRenderableById(i as unknown as number);\n        }\n\n        this._gpuText = null;\n        this._renderer = null;\n    }\n}\n","import { TexturePool } from '../../../../rendering/renderers/shared/texture/TexturePool';\nimport { Bounds } from '../../../container/bounds/Bounds';\n\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\n\nconst tempBounds = new Bounds();\n\n/**\n * Takes an image and creates a texture from it, using a power of 2 texture from the texture pool.\n * Remember to return the texture when you don't need it any more!\n * @param image - The image to create a texture from\n * @param width - the frame width of the texture\n * @param height - the frame height of the texture\n * @param resolution - The resolution of the texture\n * @returns - The texture\n */\nexport function getPo2TextureFromSource(\n    image: HTMLImageElement | HTMLCanvasElement | ICanvas,\n    width: number,\n    height: number,\n    resolution: number\n): Texture\n{\n    const bounds = tempBounds;\n\n    bounds.minX = 0;\n    bounds.minY = 0;\n\n    bounds.maxX = (image.width / resolution) | 0;\n    bounds.maxY = (image.height / resolution) | 0;\n\n    const texture = TexturePool.getOptimalTexture(\n        bounds.width,\n        bounds.height,\n        resolution,\n        false\n    );\n\n    texture.source.uploadMethodId = 'image';\n    texture.source.resource = image;\n    texture.source.alphaMode = 'premultiply-alpha-on-upload';\n\n    texture.frameWidth = width / resolution;\n    texture.frameHeight = height / resolution;\n\n    texture.source.update();\n    texture.layout.updateUvs();\n\n    return texture;\n}\n","import { Color } from '../../../color/Color';\nimport { ExtensionType } from '../../../extensions/Extensions';\nimport { nextPow2 } from '../../../maths/misc/pow2';\nimport { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool';\nimport { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { getPo2TextureFromSource } from '../html/utils/getPo2TextureFromSource';\nimport { CanvasTextMetrics } from './CanvasTextMetrics';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle';\nimport { getCanvasFillStyle } from './utils/getCanvasFillStyle';\n\nimport type { System } from '../../../rendering/renderers/shared/system/System';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { ICanvas } from '../../../settings/adapter/ICanvas';\nimport type { ICanvasRenderingContext2D } from '../../../settings/adapter/ICanvasRenderingContext2D';\nimport type { TextStyle } from '../TextStyle';\n\ninterface CanvasAndContext\n{\n    canvas: ICanvas;\n    context: ICanvasRenderingContext2D;\n}\n\nexport class CanvasTextSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'canvasText',\n    } as const;\n\n    private _activeTextures: Record<string, {\n        canvasAndContext: CanvasAndContext,\n        texture: Texture,\n        usageCount: number,\n    }> = {};\n\n    public getTextureSize(text: string, resolution: number, style: TextStyle): { width: number, height: number }\n    {\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);\n\n        let width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        let height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        width = Math.ceil((width) - 1e-6);\n        height = Math.ceil((height) - 1e-6);\n        width = nextPow2(width);\n        height = nextPow2(height);\n\n        return { width, height };\n    }\n\n    public getTexture(text: string, resolution: number, style: TextStyle, textKey: string)\n    {\n        if (this._activeTextures[textKey])\n        {\n            this._increaseReferenceCount(textKey);\n\n            return this._activeTextures[textKey].texture;\n        }\n\n        // create a canvas with the word hello on it\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);\n\n        const width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        const height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(width, height);\n\n        // create a texture from the canvas\n        const { canvas } = canvasAndContext;\n\n        this.renderTextToCanvas(text, style, resolution, canvasAndContext);\n\n        const texture = getPo2TextureFromSource(canvas, width, height, resolution);\n\n        this._activeTextures[textKey] = {\n            canvasAndContext,\n            texture,\n            usageCount: 1,\n        };\n\n        return texture;\n    }\n\n    private _increaseReferenceCount(textKey: string)\n    {\n        this._activeTextures[textKey].usageCount++;\n    }\n\n    public decreaseReferenceCount(textKey: string)\n    {\n        const activeTexture = this._activeTextures[textKey];\n\n        activeTexture.usageCount--;\n\n        if (activeTexture.usageCount === 0)\n        {\n            CanvasPool.returnCanvasAndContext(activeTexture.canvasAndContext);\n            TexturePool.returnTexture(activeTexture.texture);\n\n            const source = activeTexture.texture.source;\n\n            source.resource = null;\n            source.uploadMethodId = 'unknown';\n            source.alphaMode = 'no-premultiply-alpha';\n\n            this._activeTextures[textKey] = null;\n        }\n    }\n\n    public getReferenceCount(textKey: string)\n    {\n        return this._activeTextures[textKey].usageCount;\n    }\n\n    /**\n     * Renders text to its canvas, and updates its texture.\n     *\n     * By default this is used internally to ensure the texture is correct before rendering,\n     * but it can be used called externally, for example from this class to 'pre-generate' the texture from a piece of text,\n     * and then shared across multiple Sprites.\n     * @param text\n     * @param style\n     * @param resolution\n     * @param canvasAndContext\n     */\n    public renderTextToCanvas(text: string, style: TextStyle, resolution: number, canvasAndContext: CanvasAndContext): void\n    {\n        const { canvas, context } = canvasAndContext;\n\n        const font = fontStringFromTextStyle(style);\n\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);// , canvas);\n        const lines = measured.lines;\n        const lineHeight = measured.lineHeight;\n        const lineWidths = measured.lineWidths;\n        const maxLineWidth = measured.maxLineWidth;\n        const fontProperties = measured.fontProperties;\n\n        const height = canvas.height;\n\n        context.resetTransform();\n\n        context.scale(resolution, resolution);\n\n        context.clearRect(0, 0, measured.width + 4, measured.height + 4);\n\n        // set stroke styles..\n\n        if (style._stroke?.width)\n        {\n            const strokeStyle = style._stroke;\n\n            context.lineWidth = strokeStyle.width;\n\n            context.miterLimit = strokeStyle.miterLimit;\n            context.lineJoin = strokeStyle.join;\n            context.lineCap = strokeStyle.cap;\n        }\n\n        // return;\n        context.font = font;\n\n        let linePositionX: number;\n        let linePositionY: number;\n\n        // require 2 passes if a shadow; the first to draw the drop shadow, the second to draw the text\n        const passesCount = style.dropShadow ? 2 : 1;\n\n        // For v4, we drew text at the colours of the drop shadow underneath the normal text. This gave the correct zIndex,\n        // but features such as alpha and shadowblur did not look right at all, since we were using actual text as a shadow.\n        //\n        // For v5.0.0, we moved over to just use the canvas API for drop shadows, which made them look much nicer and more\n        // visually please, but now because the stroke is drawn and then the fill, drop shadows would appear on both the fill\n        // and the stroke; and fill drop shadows would appear over the top of the stroke.\n        //\n        // For v5.1.1, the new route is to revert to v4 style of drawing text first to get the drop shadows underneath normal\n        // text, but instead drawing text in the correct location, we'll draw it off screen (-paddingY), and then adjust the\n        // drop shadow so only that appears on screen (+paddingY). Now we'll have the correct draw order of the shadow\n        // beneath the text, whilst also having the proper text shadow styling.\n        for (let i = 0; i < passesCount; ++i)\n        {\n            const isShadowPass = style.dropShadow && i === 0;\n            // we only want the drop shadow, so put text way off-screen\n            const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + (style.padding * 2)) : 0;\n            const dsOffsetShadow = dsOffsetText * resolution;\n\n            if (isShadowPass)\n            {\n                // On Safari, text with gradient and drop shadows together do not position correctly\n                // if the scale of the canvas is not 1: https://bugs.webkit.org/show_bug.cgi?id=197689\n                // Therefore we'll set the styles to be a plain black whilst generating this drop shadow\n                context.fillStyle = 'black';\n                context.strokeStyle = 'black';\n\n                const shadowOptions = style.dropShadow;\n\n                const dropShadowColor = shadowOptions.color;\n                const dropShadowAlpha = shadowOptions.alpha;\n\n                context.shadowColor = Color.shared\n                    .setValue(dropShadowColor)\n                    .setAlpha(dropShadowAlpha)\n                    .toRgbaString();\n\n                const dropShadowBlur = shadowOptions.blur * resolution;\n                const dropShadowDistance = shadowOptions.distance * resolution;\n\n                context.shadowBlur = dropShadowBlur;\n                context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n                context.shadowOffsetY = (Math.sin(shadowOptions.angle) * dropShadowDistance) + dsOffsetShadow;\n            }\n            else\n            {\n                context.globalAlpha = style._fill?.alpha ?? 1;\n                context.fillStyle = style._fill ? getCanvasFillStyle(style._fill, context) : null;\n\n                if (style._stroke?.width)\n                {\n                    context.strokeStyle = getCanvasFillStyle(style._stroke, context);\n                }\n\n                context.shadowColor = 'black';\n            }\n\n            let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;\n\n            if (lineHeight - fontProperties.fontSize < 0)\n            {\n                linePositionYShift = 0;\n            }\n\n            const strokeWidth = style._stroke?.width ?? 0;\n\n            // draw lines line by line\n            for (let i = 0; i < lines.length; i++)\n            {\n                linePositionX = strokeWidth / 2;\n                linePositionY = ((strokeWidth / 2) + (i * lineHeight)) + fontProperties.ascent + linePositionYShift;\n\n                if (style.align === 'right')\n                {\n                    linePositionX += maxLineWidth - lineWidths[i];\n                }\n                else if (style.align === 'center')\n                {\n                    linePositionX += (maxLineWidth - lineWidths[i]) / 2;\n                }\n\n                if (style._stroke)\n                {\n                    this._drawLetterSpacing(\n                        lines[i],\n                        style,\n                        canvasAndContext,\n                        linePositionX + style.padding,\n                        linePositionY + style.padding - dsOffsetText,\n                        true\n                    );\n                }\n\n                if (style._fill !== undefined)\n                {\n                    this._drawLetterSpacing(\n                        lines[i],\n                        style,\n                        canvasAndContext,\n                        linePositionX + style.padding,\n                        linePositionY + style.padding - dsOffsetText\n                    );\n                }\n            }\n        }\n    }\n\n    /**\n     * Render the text with letter-spacing.\n     * @param text - The text to draw\n     * @param style\n     * @param canvasAndContext\n     * @param x - Horizontal position to draw the text\n     * @param y - Vertical position to draw the text\n     * @param isStroke - Is this drawing for the outside stroke of the\n     *  text? If not, it's for the inside fill\n     */\n    private _drawLetterSpacing(\n        text: string,\n        style: TextStyle,\n        canvasAndContext: CanvasAndContext,\n        x: number, y: number,\n        isStroke = false\n    ): void\n    {\n        const { context } = canvasAndContext;\n\n        // letterSpacing of 0 means normal\n        const letterSpacing = style.letterSpacing;\n\n        let useExperimentalLetterSpacing = false;\n\n        if (CanvasTextMetrics.experimentalLetterSpacingSupported)\n        {\n            if (CanvasTextMetrics.experimentalLetterSpacing)\n            {\n                context.letterSpacing = `${letterSpacing}px`;\n                context.textLetterSpacing = `${letterSpacing}px`;\n                useExperimentalLetterSpacing = true;\n            }\n            else\n            {\n                context.letterSpacing = '0px';\n                context.textLetterSpacing = '0px';\n            }\n        }\n\n        if (letterSpacing === 0 || useExperimentalLetterSpacing)\n        {\n            if (isStroke)\n            {\n                context.strokeText(text, x, y);\n            }\n            else\n            {\n                context.fillText(text, x, y);\n            }\n\n            return;\n        }\n\n        let currentPosition = x;\n\n        const stringArray = CanvasTextMetrics.graphemeSegmenter(text);\n        let previousWidth = context.measureText(text).width;\n        let currentWidth = 0;\n\n        for (let i = 0; i < stringArray.length; ++i)\n        {\n            const currentChar = stringArray[i];\n\n            if (isStroke)\n            {\n                context.strokeText(currentChar, currentPosition, y);\n            }\n            else\n            {\n                context.fillText(currentChar, currentPosition, y);\n            }\n            let textStr = '';\n\n            for (let j = i + 1; j < stringArray.length; ++j)\n            {\n                textStr += stringArray[j];\n            }\n            currentWidth = context.measureText(textStr).width;\n            currentPosition += previousWidth - currentWidth + letterSpacing;\n            previousWidth = currentWidth;\n        }\n    }\n\n    public destroy(): void\n    {\n        this._activeTextures = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { updateQuadBounds } from '../../../utils/updateQuadBounds';\nimport { BatchableSprite } from '../../sprite/BatchableSprite';\n\nimport type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { TextView } from '../TextView';\nimport type { HTMLTextStyle } from './HtmlTextStyle';\n\nexport class HTMLTextPipe implements RenderPipe<TextView>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'htmlText',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _gpuText: Record<number, {\n        textureNeedsUploading: boolean;\n        generatingTexture: boolean;\n        texture: Texture,\n        currentKey: string,\n        batchableSprite: BatchableSprite,\n    }> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public validateRenderable(renderable: Renderable<TextView>): boolean\n    {\n        const gpuText = this._getGpuText(renderable);\n\n        const newKey = renderable.view._getKey();\n\n        if (gpuText.textureNeedsUploading)\n        {\n            gpuText.textureNeedsUploading = false;\n\n            return true;\n        }\n\n        if (gpuText.currentKey !== newKey)\n        {\n            // TODO - could look into optimising this a tad!\n            // if its a single texture, then we could just swap it?\n            // same for CanvasText..\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(renderable: Renderable<TextView>)\n    {\n        const gpuText = this._getGpuText(renderable);\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (renderable.view._didUpdate)\n        {\n            this._updateText(renderable);\n        }\n\n        this._renderer.renderPipes.batch.addToBatch(batchableSprite);\n    }\n\n    public updateRenderable(renderable: Renderable<TextView>)\n    {\n        const gpuText = this._getGpuText(renderable);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (renderable.view._didUpdate)\n        {\n            this._updateText(renderable);\n        }\n\n        batchableSprite.batcher.updateElement(batchableSprite);\n    }\n\n    public destroyRenderable(renderable: Renderable<TextView>)\n    {\n        this._destroyRenderableById(renderable.uid);\n    }\n\n    private _destroyRenderableById(renderableUid: number)\n    {\n        const gpuText = this._gpuText[renderableUid];\n\n        this._renderer.htmlText.decreaseReferenceCount(gpuText.currentKey);\n\n        BigPool.return(gpuText.batchableSprite);\n\n        this._gpuText[renderableUid] = null;\n    }\n\n    private _updateText(renderable: Renderable<TextView>)\n    {\n        const newKey = renderable.view._getKey();\n        const gpuText = this._getGpuText(renderable);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (gpuText.currentKey !== newKey)\n        {\n            this._updateGpuText(renderable).catch((e) =>\n            {\n                console.error(e);\n            });\n        }\n\n        renderable.view._didUpdate = false;\n\n        const padding = renderable.view._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, renderable.view.anchor, batchableSprite.texture, padding);\n    }\n\n    private async _updateGpuText(renderable: Renderable<TextView>)\n    {\n        renderable.view._didUpdate = false;\n\n        const gpuText = this._getGpuText(renderable);\n\n        if (gpuText.generatingTexture) return;\n\n        const newKey = renderable.view._getKey();\n\n        this._renderer.htmlText.decreaseReferenceCount(gpuText.currentKey);\n\n        gpuText.generatingTexture = true;\n\n        gpuText.currentKey = newKey;\n\n        const view = renderable.view;\n\n        const resolution = view.resolution ?? this._renderer.resolution;\n\n        const texture = await this._renderer.htmlText.getManagedTexture(\n            view.text,\n            resolution,\n            view._style as HTMLTextStyle,\n            view._getKey()\n        );\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        batchableSprite.texture = gpuText.texture = texture;\n\n        gpuText.generatingTexture = false;\n\n        gpuText.textureNeedsUploading = true;\n        renderable.view.onUpdate();\n\n        const padding = renderable.view._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, renderable.view.anchor, batchableSprite.texture, padding);\n    }\n\n    private _getGpuText(renderable: Renderable<TextView>)\n    {\n        return this._gpuText[renderable.uid] || this._initGpuText(renderable);\n    }\n\n    private _initGpuText(renderable: Renderable<TextView>)\n    {\n        const view = renderable.view;\n\n        view._style.update();\n\n        const gpuTextData: HTMLTextPipe['_gpuText'][number] = {\n            texture: Texture.EMPTY,\n            currentKey: '--',\n            batchableSprite: BigPool.get(BatchableSprite),\n            textureNeedsUploading: false,\n            generatingTexture: false,\n        };\n\n        const batchableSprite = gpuTextData.batchableSprite;\n\n        batchableSprite.renderable = renderable;\n        batchableSprite.texture = Texture.EMPTY;\n        batchableSprite.bounds = [0, 1, 0, 0];\n        batchableSprite.roundPixels = (this._renderer._roundPixels | renderable.view.roundPixels) as 0 | 1;\n\n        this._gpuText[renderable.uid] = gpuTextData;\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        renderable.on('destroyed', () =>\n        {\n            this.destroyRenderable(renderable);\n        });\n\n        return gpuTextData;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuText)\n        {\n            this._destroyRenderableById(i as unknown as number);\n        }\n\n        this._gpuText = null;\n        this._renderer = null;\n    }\n}\n\n","import { DOMAdapter } from '../settings/adapter/adapter';\n\nexport function isSafari(): boolean\n{\n    const { userAgent } = DOMAdapter.get().getNavigator();\n\n    return (/^((?!chrome|android).)*safari/i).test(userAgent);\n}\n","import type { HTMLTextStyle } from '../HtmlTextStyle';\n\n/**\n * Extracts font families from text. It will extract font families from the style, tagStyles and any font families\n * embedded in the text. It should also strip out duplicates as it goes.\n * @param  text - The text to extract font families from\n * @param style - The style to extract font families from\n * @returns {string[]} - The font families as an array of strings\n */\nexport function extractFontFamilies(text: string, style: HTMLTextStyle): string[]\n{\n    const fontFamily = style.fontFamily;\n    const fontFamilies: string[] = [];\n    const dedupe: Record<string, boolean> = {};\n\n    // first ensure fonts are loaded inline..\n    // find any font..\n    const regex = /font-family:([^;\"\\s]+)/g;\n\n    const matches = text.match(regex);\n\n    function addFontFamily(fontFamily: string)\n    {\n        if (!dedupe[fontFamily])\n        {\n            fontFamilies.push(fontFamily);\n\n            dedupe[fontFamily] = true;\n        }\n    }\n\n    if (Array.isArray(fontFamily))\n    {\n        for (let i = 0; i < fontFamily.length; i++)\n        {\n            addFontFamily(fontFamily[i]);\n        }\n    }\n    else\n    {\n        addFontFamily(fontFamily);\n    }\n\n    if (matches)\n    {\n        matches.forEach((match) =>\n        {\n            const fontFamily = match.split(':')[1].trim();\n\n            addFontFamily(fontFamily);\n        });\n    }\n\n    for (const i in style.tagStyles)\n    {\n        const fontFamily = style.tagStyles[i].fontFamily;\n\n        addFontFamily(fontFamily as string);\n    }\n\n    return fontFamilies;\n}\n","import { DOMAdapter } from '../../../../settings/adapter/adapter';\n\n/**\n * Resolves a font url to a base64 string\n * @param url - The url to load the font from\n * @returns - The font as a base64 string\n */\nexport async function loadFontAsBase64(url: string): Promise<string>\n{\n    const response = await DOMAdapter.get().fetch(url);\n\n    const blob = await response.blob();\n\n    const reader = new FileReader();\n\n    const dataSrc: string = await new Promise((resolve, reject) =>\n    {\n        reader.onloadend = () => resolve(reader.result as string);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n\n    return dataSrc;\n}\n","import { loadFontAsBase64 } from './loadFontAsBase64';\n\nexport interface FontCSSStyleOptions\n{\n    fontFamily: string | string[]\n    fontWeight: string\n    fontStyle: string\n}\n\n/**\n * This will take a font url and a style and return a css string that can be injected into a style tag\n * This will contain inlined base64 font and the font family information\n * @param style - the style to generate the css for\n * @param url - The url to load the font from\n * @returns - The css string\n */\nexport async function loadFontCSS(style: FontCSSStyleOptions, url: string): Promise<string>\n{\n    const dataSrc = await loadFontAsBase64(url);\n\n    return `@font-face {\n        font-family: \"${style.fontFamily}\";\n        src: url('${dataSrc}');\n        font-weight: ${style.fontWeight};\n        font-style: ${style.fontStyle};\n    }`;\n}\n","import { Cache } from '../../../../assets/cache/Cache';\nimport { FontStylePromiseCache, HTMLTextSystem } from '../HTMLTextSystem';\nimport { loadFontCSS } from './loadFontCSS';\n\nimport type { HTMLTextStyle } from '../HtmlTextStyle';\n\n/**\n * takes the font families and returns a css string that can be injected into a style tag\n * It will contain the font families and the font urls encoded as base64\n * @param fontFamilies - The font families to load\n * @param style - The style to load the font with (used for the first font family)\n * @returns - The css string\n */\nexport async function getFontCss(fontFamilies: string[], style: HTMLTextStyle)\n{\n    const fontPromises = fontFamilies\n        .filter((fontFamily) => Cache.has(fontFamily))\n        .map((fontFamily, i) =>\n        {\n            if (!FontStylePromiseCache.has(fontFamily))\n            {\n                const { url } = Cache.get(fontFamily);\n\n                if (i === 0)\n                {\n                    FontStylePromiseCache.set(fontFamily, loadFontCSS(style, url));\n                }\n\n                else\n                {\n                    FontStylePromiseCache.set(fontFamily, loadFontCSS({\n                        ...HTMLTextSystem.defaultFontOptions,\n                        fontFamily,\n                    }, url));\n                }\n            }\n\n            return FontStylePromiseCache.get(fontFamily);\n        });\n\n    return (await Promise.all(fontPromises)).join('\\n');\n}\n","import type { HTMLTextStyle } from '../HtmlTextStyle';\nimport type { HTMLTextRenderData } from '../HTMLTextSystem';\n\n/**\n * takes all the data and returns a svg url string can be loaded by an image element\n * @param text - The text to measure\n * @param style - The style to use\n * @param resolution - The resolution to use\n * @param fontCSS - The font css to use\n * @param htmlTextData - The HTMLTextRenderData to write the SVG to\n * @returns - The SVG as a url string\n */\nexport function getSVGUrl(\n    text: string,\n    style: HTMLTextStyle,\n    resolution: number,\n    fontCSS: string,\n    htmlTextData: HTMLTextRenderData\n)\n{\n    const { domElement, styleElement, svgRoot } = htmlTextData;\n\n    domElement.innerHTML = `<style>${style.cssStyle}</style><div>${text}</div>`;\n    domElement.setAttribute('style', `transform: scale(${resolution});transform-origin: top left; display: inline-block`);\n    styleElement.textContent = fontCSS;\n\n    const { width, height } = htmlTextData.image;\n\n    svgRoot.setAttribute('width', width.toString());\n    svgRoot.setAttribute('height', height.toString());\n\n    return new XMLSerializer().serializeToString(svgRoot);\n}\n","import { CanvasPool } from '../../../../rendering/renderers/shared/texture/CanvasPool';\n\n/**\n * This function converts an image to a canvas, and returns the canvas.\n * It is used to convert images to canvases to work around a CORS issue where WebGPU cannot\n * upload an SVGImage to a texture.\n *\n * It uses the CanvasPool to get an optimal canvas and context, and then draws the image onto it.\n * This canvas is immediately returned to the CanvasPool for reuse, so use the result straight away!\n * (eg upload it to the GPU!)\n * @param image - The image to convert to a canvas.\n * @param resolution - The resolution of the canvas.\n */\nexport function getTemporaryCanvasFromImage(image: HTMLImageElement, resolution: number): HTMLCanvasElement\n{\n    // Get an optimal canvas and context from the CanvasPool, based on the\n    // dimensions of the image and the desired resolution.\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n        image.width,\n        image.height,\n        resolution\n    );\n\n    // Clear the context of the canvas, and draw the image onto it.\n    const { context } = canvasAndContext;\n\n    context.clearRect(0, 0, image.width, image.height);\n    context.drawImage(image, 0, 0);\n\n    // Return the canvas and context to the CanvasPool.\n    CanvasPool.returnCanvasAndContext(canvasAndContext);\n\n    // Return the canvas.\n    return canvasAndContext.canvas as HTMLCanvasElement;\n}\n\n","/**\n * This function loads an SVG image into an HTMLImageElement.\n * The image can then be uploaded as texture to the GPU.\n * iOS has a bug where embedded fonts are not available immediately after the image loads,\n * so we wait an arbitrary amount of time before resolving the promise.\n * @param image - The image to load the SVG into\n * @param url - The url to load the SVG from\n * @param delay - Whether to delay the load\n * @returns - A promise that resolves when the image has loaded\n */\nexport function loadSVGImage(image: HTMLImageElement, url: string, delay: boolean)\n{\n    return new Promise<void>(async (resolve) =>\n    {\n        // Safari has a known bug where embedded fonts are not available\n        // immediately after the image loads, to compensate we wait an\n        // arbitrary amount of time\n        // @see https://bugs.webkit.org/show_bug.cgi?id=219770\n        if (delay)\n        {\n            await new Promise<void>((resolve) => setTimeout(resolve, 100));\n        }\n\n        image.onload = () =>\n        {\n            resolve();\n        };\n\n        image.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(url)}`;\n        image.crossOrigin = 'anonymous';\n    });\n}\n","import { CanvasTextMetrics } from '../../canvas/CanvasTextMetrics';\nimport { HTMLTextRenderData } from '../HTMLTextSystem';\n\nimport type { Size } from '../../../../maths/misc/Size';\nimport type { HTMLTextStyle } from '../HtmlTextStyle';\n\nlet tempHTMLTextRenderData: HTMLTextRenderData;\n\n/**\n * Measures the HTML text without actually generating an image.\n * This is used to calculate the size of the text.\n * @param text - The text to measure\n * @param style - The style to use\n * @param fontStyleCSS - The font css to use\n * @param htmlTextRenderData - The HTMLTextRenderData to write the SVG to\n * @returns - The size of the text\n */\nexport function measureHtmlText(\n    text: string,\n    style: HTMLTextStyle,\n    fontStyleCSS?: string,\n    htmlTextRenderData?: HTMLTextRenderData\n): Size\n{\n    htmlTextRenderData = htmlTextRenderData || tempHTMLTextRenderData || (tempHTMLTextRenderData = new HTMLTextRenderData());\n\n    const { domElement, styleElement, svgRoot } = htmlTextRenderData;\n\n    domElement.innerHTML = `<style>${style.cssStyle}</style><div>${text}</div>`;\n\n    domElement.setAttribute('style', 'transform-origin: top left; display: inline-block');\n\n    if (fontStyleCSS)\n    {\n        styleElement.textContent = fontStyleCSS;\n    }\n\n    // Measure the contents using the shadow DOM\n    document.body.appendChild(svgRoot);\n\n    const contentBounds = domElement.getBoundingClientRect();\n\n    svgRoot.remove();\n\n    const descenderPadding = CanvasTextMetrics.measureFont(style.fontStyle).descent;\n\n    return {\n        width: contentBounds.width,\n        height: contentBounds.height + descenderPadding,\n    };\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { RendererType } from '../../../rendering/renderers/types';\nimport { isSafari } from '../../../utils/isSafari';\nimport { warn } from '../../../utils/logging/warn';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { extractFontFamilies } from './utils/extractFontFamilies';\nimport { getFontCss } from './utils/getFontCss';\nimport { getPo2TextureFromSource } from './utils/getPo2TextureFromSource';\nimport { getSVGUrl } from './utils/getSVGUrl';\nimport { getTemporaryCanvasFromImage } from './utils/getTemporaryCanvasFromImage';\nimport { loadSVGImage } from './utils/loadSVGImage';\nimport { measureHtmlText } from './utils/measureHtmlText';\n\nimport type { WebGPURenderer } from '../../../rendering/renderers/gpu/WebGPURenderer';\nimport type { System } from '../../../rendering/renderers/shared/system/System';\nimport type { CanvasAndContext } from '../../../rendering/renderers/shared/texture/CanvasPool';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { TextViewOptions } from '../TextView';\nimport type { HTMLTextStyle } from './HtmlTextStyle';\nimport type { FontCSSStyleOptions } from './utils/loadFontCSS';\n\nconst nssvg = 'http://www.w3.org/2000/svg';\nconst nsxhtml = 'http://www.w3.org/1999/xhtml';\n\nexport const FontStylePromiseCache = new Map<string, Promise<string>>();\n\nexport class HTMLTextRenderData\n{\n    public svgRoot = document.createElementNS(nssvg, 'svg');\n    public foreignObject = document.createElementNS(nssvg, 'foreignObject');\n    public domElement = document.createElementNS(nsxhtml, 'div');\n    public styleElement = document.createElementNS(nsxhtml, 'style');\n    public image = new Image();\n    public canvasAndContext?: CanvasAndContext;\n\n    constructor()\n    {\n        const { foreignObject, svgRoot, styleElement, domElement } = this;\n        // Arbitrary max size\n\n        foreignObject.setAttribute('width', '10000');\n        foreignObject.setAttribute('height', '10000');\n        foreignObject.style.overflow = 'hidden';\n\n        svgRoot.appendChild(foreignObject);\n\n        foreignObject.appendChild(styleElement);\n        foreignObject.appendChild(domElement);\n    }\n}\n\ninterface HTMLTextTexture\n{\n    texture: Texture,\n    usageCount: number,\n    promise: Promise<Texture>,\n}\n\nexport class HTMLTextSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'htmlText',\n    } as const;\n\n    public static defaultFontOptions: FontCSSStyleOptions = {\n        fontFamily: 'Arial',\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n    };\n\n    private _activeTextures: Record<string, HTMLTextTexture> = {};\n\n    /**\n     * WebGPU has a cors issue when uploading an image that is an SVGImage\n     * To get around this we need to create a canvas draw the image to it and upload that instead.\n     * Bit of a shame.. but no other work around just yet!\n     */\n    private readonly _createCanvas: boolean;\n    private readonly _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._createCanvas = renderer.type === RendererType.WEBGPU;\n    }\n\n    public getTexture(options: TextViewOptions): Promise<Texture>\n    {\n        return this._buildTexturePromise(options.text as string, options.resolution, options.style as HTMLTextStyle);\n    }\n\n    public getManagedTexture(\n        text: string,\n        resolution: number,\n        style: HTMLTextStyle,\n        textKey: string\n    ): Promise<Texture>\n    {\n        if (this._activeTextures[textKey])\n        {\n            this._increaseReferenceCount(textKey);\n\n            return this._activeTextures[textKey].promise;\n        }\n\n        const promise = this._buildTexturePromise(text, resolution, style)\n            .then((texture) =>\n            {\n                this._activeTextures[textKey].texture = texture;\n\n                return texture;\n            });\n\n        this._activeTextures[textKey] = {\n            texture: null,\n            promise,\n            usageCount: 1,\n        };\n\n        return promise;\n    }\n\n    private async _buildTexturePromise(\n        text: string,\n        resolution: number,\n        style: HTMLTextStyle,\n    )\n    {\n        const htmlTextData = BigPool.get(HTMLTextRenderData);\n        const fontFamilies = extractFontFamilies(text, style);\n        const fontCSS = await getFontCss(fontFamilies, style);\n        const measured = measureHtmlText(text, style, fontCSS, htmlTextData);\n\n        const width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        const height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        const image = htmlTextData.image;\n\n        image.width = width | 0;\n        image.height = height | 0;\n\n        const svgURL = getSVGUrl(text, style, resolution, fontCSS, htmlTextData);\n\n        await loadSVGImage(image, svgURL, isSafari() && fontFamilies.length > 0);\n\n        let resource: HTMLImageElement | HTMLCanvasElement = image;\n\n        if (this._createCanvas)\n        {\n            // silly webGPU workaround..\n            resource = getTemporaryCanvasFromImage(image, resolution);\n        }\n\n        const texture = getPo2TextureFromSource(resource, image.width, image.height, resolution);\n\n        if (this._createCanvas)\n        {\n            // TODO initSource will be in webGL soon too, we can remove this cast then\n            (this._renderer as WebGPURenderer).texture.initSource(texture.source);\n        }\n\n        BigPool.return(htmlTextData as PoolItem);\n\n        return texture;\n    }\n\n    private _increaseReferenceCount(textKey: string)\n    {\n        this._activeTextures[textKey].usageCount++;\n    }\n\n    public decreaseReferenceCount(textKey: string)\n    {\n        const activeTexture = this._activeTextures[textKey];\n\n        // TODO SHOULD NOT BE NEEDED\n        if (!activeTexture) return;\n\n        activeTexture.usageCount--;\n\n        if (activeTexture.usageCount === 0)\n        {\n            if (activeTexture.texture)\n            {\n                this._cleanUp(activeTexture);\n            }\n            else\n            {\n                // we did not resolve...\n                activeTexture.promise.then((texture) =>\n                {\n                    activeTexture.texture = texture;\n\n                    this._cleanUp(activeTexture);\n                }).catch(() =>\n                {\n                    // #if _DEBUG\n                    warn('HTMLTextSystem: Failed to clean texture');\n                    // #endif\n                });\n            }\n\n            this._activeTextures[textKey] = null;\n        }\n    }\n\n    private _cleanUp(activeTexture: HTMLTextTexture)\n    {\n        TexturePool.returnTexture(activeTexture.texture);\n        activeTexture.texture.source.resource = null;\n        activeTexture.texture.source.uploadMethodId = 'unknown';\n    }\n\n    public getReferenceCount(textKey: string)\n    {\n        return this._activeTextures[textKey].usageCount;\n    }\n\n    public destroy(): void\n    {\n        this._activeTextures = null;\n    }\n}\n","import { Color } from '../../../../color/Color';\nimport { ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { ColorSource } from '../../../../color/Color';\nimport type { System } from '../system/System';\n\n/**\n * Options for the background system.\n * @ignore\n */\nexport interface BackgroundSystemOptions\n{\n    /** The background color used to clear the canvas. See {@link ColorSource} for accepted color values. */\n    backgroundColor: ColorSource;\n    /** Alias for {@link WebGLOptions.backgroundColor} */\n    background?: ColorSource\n    /** Transparency of the background color, value from `0` (fully transparent) to `1` (fully opaque). */\n    backgroundAlpha: number;\n    /** Whether to clear the canvas before new render passes. */\n    clearBeforeRender: boolean;\n}\n\n/** The background system manages the background color and alpha of the main view. */\nexport class BackgroundSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'background',\n        priority: 0,\n    } as const;\n\n    /** @ignore */\n    public static defaultOptions: BackgroundSystemOptions = {\n        /**\n         * {@link WebGLOptions.backgroundAlpha}\n         * @default 1\n         */\n        backgroundAlpha: 1,\n        /**\n         * {@link WebGLOptions.backgroundColor}\n         * @default 0x000000\n         */\n        backgroundColor: 0x0,\n        /**\n         * {@link WebGLOptions.clearBeforeRender}\n         * @default true\n         */\n        clearBeforeRender: true,\n    };\n\n    /**\n     * This sets if the CanvasRenderer will clear the canvas or not before the new render pass.\n     * If the scene is NOT transparent PixiJS will use a canvas sized fillRect operation every\n     * frame to set the canvas background color. If the scene is transparent PixiJS will use clearRect\n     * to clear the canvas every frame. Disable this by setting this to false. For example, if\n     * your game has a canvas filling background image you often don't need this set.\n     */\n    public clearBeforeRender: boolean;\n\n    private readonly _backgroundColor: Color;\n    private _backgroundColorRgba: [number, number, number, number] = [0, 0, 0, 0];\n\n    constructor()\n    {\n        this.clearBeforeRender = true;\n\n        this._backgroundColor = new Color(0x000000);\n\n        this.color = this._backgroundColor; // run bg color setter\n        this.alpha = 1;\n    }\n\n    /**\n     * initiates the background system\n     * @param options - the options for the background colors\n     */\n    public init(options: BackgroundSystemOptions): void\n    {\n        options = { ...BackgroundSystem.defaultOptions, ...options };\n\n        this.clearBeforeRender = options.clearBeforeRender;\n        this.color = options.background || options.backgroundColor || this._backgroundColor; // run bg color setter\n        this.alpha = options.backgroundAlpha;\n    }\n\n    /** The background color to fill if not transparent */\n    get color(): Color\n    {\n        return this._backgroundColor;\n    }\n\n    set color(value: ColorSource)\n    {\n        this._backgroundColor.setValue(value);\n        this._backgroundColorRgba = this._backgroundColor.toArray() as [number, number, number, number];\n    }\n\n    /** The background color alpha. Setting this to 0 will make the canvas transparent. */\n    get alpha(): number\n    {\n        return this._backgroundColor.alpha;\n    }\n\n    set alpha(value: number)\n    {\n        this._backgroundColor.setAlpha(value);\n    }\n\n    /** The background color as an [R, G, B, A] array. */\n    get colorRgba(): [number, number, number, number]\n    {\n        return this._backgroundColorRgba;\n    }\n\n    public destroy(): void\n    {\n        // No cleanup required\n    }\n}\n","import { extensions, ExtensionType } from '../../../../extensions/Extensions';\nimport { FilterEffect } from '../../../../filters/FilterEffect';\nimport { warn } from '../../../../utils/logging/warn';\n\nimport type { BlendModeFilter } from '../../../../filters/blend-modes/BlendModeFilter';\nimport type { FilterInstruction } from '../../../../filters/FilterSystem';\nimport type { Renderer } from '../../types';\nimport type { Instruction } from '../instructions/Instruction';\nimport type { InstructionSet } from '../instructions/InstructionSet';\nimport type { InstructionPipe } from '../instructions/RenderPipe';\nimport type { Renderable } from '../Renderable';\nimport type { BLEND_MODES } from '../state/const';\n\nexport interface AdvancedBlendInstruction extends Instruction\n{\n    type: 'blendMode',\n    blendMode: BLEND_MODES,\n    activeBlend: Renderable[],\n}\n\n// class map\nconst BLEND_MODE_FILTERS: Partial<Record<BLEND_MODES, new () => BlendModeFilter>> = {} as const;\n\nextensions.handle(ExtensionType.BlendMode, (value) =>\n{\n    if (!value.name)\n    {\n        throw new Error('BlendMode extension must have a name property');\n    }\n    BLEND_MODE_FILTERS[value.name as BLEND_MODES] = value.ref;\n}, (value) =>\n{\n    delete BLEND_MODE_FILTERS[value.name as BLEND_MODES];\n});\n\nexport class BlendModePipe implements InstructionPipe<AdvancedBlendInstruction>\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'blendMode',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _renderableList: Renderable[];\n    private _activeBlendMode: BLEND_MODES;\n\n    private _isAdvanced = false;\n\n    private _filterHash: Partial<Record<BLEND_MODES, FilterEffect>> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public setBlendMode(renderable: Renderable, blendMode: BLEND_MODES, instructionSet: InstructionSet)\n    {\n        if (this._activeBlendMode === blendMode)\n        {\n            if (this._isAdvanced) this._renderableList.push(renderable);\n\n            return;\n        }\n\n        this._activeBlendMode = blendMode;\n\n        if (this._isAdvanced)\n        {\n            this._endAdvancedBlendMode(instructionSet);\n        }\n\n        this._isAdvanced = !!BLEND_MODE_FILTERS[blendMode];\n\n        if (this._isAdvanced)\n        {\n            this._beginAdvancedBlendMode(instructionSet);\n\n            this._renderableList.push(renderable);\n        }\n    }\n\n    private _beginAdvancedBlendMode(instructionSet: InstructionSet)\n    {\n        this._renderer.renderPipes.batch.break(instructionSet);\n\n        const blendMode = this._activeBlendMode;\n\n        if (!BLEND_MODE_FILTERS[blendMode as keyof typeof BLEND_MODE_FILTERS])\n        {\n            // #if _DEBUG\n            warn(`Unable to assign 'BLEND_MODES.${blendMode}' using the blend mode pipeline`);\n            // #endif\n\n            return;\n        }\n\n        // this does need an execute?\n        if (!this._filterHash[blendMode])\n        {\n            this._filterHash[blendMode] = new FilterEffect({\n                filters: [new BLEND_MODE_FILTERS[blendMode as keyof typeof BLEND_MODE_FILTERS]()]\n            });\n        }\n\n        const instruction: FilterInstruction = {\n            type: 'filter',\n            action: 'pushFilter',\n            renderables: [],\n            filterEffect: this._filterHash[blendMode],\n            canBundle: false,\n        };\n\n        this._renderableList = instruction.renderables;\n        instructionSet.add(instruction);\n    }\n\n    private _endAdvancedBlendMode(instructionSet: InstructionSet)\n    {\n        this._renderableList = null;\n        this._renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            type: 'filter',\n            action: 'popFilter',\n            canBundle: false,\n        });\n    }\n\n    public buildStart()\n    {\n        this._isAdvanced = false;\n    }\n\n    public buildEnd(instructionSet: InstructionSet)\n    {\n        if (this._isAdvanced)\n        {\n            this._endAdvancedBlendMode(instructionSet);\n        }\n    }\n\n    public destroy()\n    {\n        this._renderer = null;\n        this._renderableList = null;\n\n        for (const i in this._filterHash)\n        {\n            this._filterHash[i as BLEND_MODES].destroy();\n        }\n\n        this._filterHash = null;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Container } from '../../../../scene/container/Container';\nimport { Texture } from '../texture/Texture';\n\nimport type { ColorSource } from '../../../../color/Color';\nimport type { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { Renderer } from '../../types';\nimport type { System } from '../system/System';\nimport type { GetPixelsOutput } from '../texture/GenerateCanvas';\nimport type { GenerateTextureOptions } from './GenerateTextureSystem';\n\ntype Formats = 'png' | 'jpg'; // Add other formats if needed\n\ninterface ImageOptions\n{\n    format?: Formats;\n    quality?: number;\n}\n// define types for extract options\nexport interface BaseExtractOptions\n{\n    target: Container | Texture;\n    frame?: Rectangle;\n    resolution?: number;\n    clearColor?: ColorSource;\n}\nexport type ExtractImageOptions = BaseExtractOptions & ImageOptions;\nexport type ExtractDownloadOptions = BaseExtractOptions & {\n    filename: string;\n};\nexport type ExtractOptions = BaseExtractOptions | ExtractImageOptions | ExtractDownloadOptions;\n\n/**\n * System plugin to the renderer to manage texture garbage collection on the GPU,\n * ensuring that it does not get clogged up with textures that are no longer being used.\n */\nexport class ExtractSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'extract',\n    } as const;\n\n    public static defaultImageOptions: ImageOptions = {\n        format: 'png' as Formats,\n        quality: 1,\n    };\n\n    private _renderer: Renderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    private _normalizeOptions<T extends ExtractOptions>(\n        options: ExtractImageOptions | Container | Texture,\n        defaults: Partial<T> = {},\n    ): T\n    {\n        if (options instanceof Container || options instanceof Texture)\n        {\n            return {\n                target: options,\n                ...defaults\n            } as T;\n        }\n\n        return {\n            ...defaults,\n            ...options,\n        } as T;\n    }\n\n    public async image(options: ExtractImageOptions | Container | Texture): Promise<HTMLImageElement>\n    {\n        const image = new Image();\n\n        image.src = await this.base64(options);\n\n        return image;\n    }\n\n    public async base64(options: ExtractImageOptions | Container | Texture): Promise<string>\n    {\n        options = this._normalizeOptions<ExtractImageOptions>(\n            options,\n            ExtractSystem.defaultImageOptions\n        );\n\n        const { format, quality } = options;\n\n        const canvas = this.canvas(options);\n\n        if (canvas.toBlob !== undefined)\n        {\n            return new Promise<string>((resolve, reject) =>\n            {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                canvas.toBlob!((blob) =>\n                {\n                    if (!blob)\n                    {\n                        reject(new Error('ICanvas.toBlob failed!'));\n\n                        return;\n                    }\n\n                    const reader = new FileReader();\n\n                    reader.onload = () => resolve(reader.result as string);\n                    reader.onerror = reject;\n                    reader.readAsDataURL(blob);\n                }, format, quality);\n            });\n        }\n        if (canvas.toDataURL !== undefined)\n        {\n            return canvas.toDataURL(format, quality);\n        }\n        if (canvas.convertToBlob !== undefined)\n        {\n            const blob = await canvas.convertToBlob({ type: format, quality });\n\n            return new Promise<string>((resolve, reject) =>\n            {\n                const reader = new FileReader();\n\n                reader.onload = () => resolve(reader.result as string);\n                reader.onerror = reject;\n                reader.readAsDataURL(blob);\n            });\n        }\n\n        throw new Error('Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, '\n            + 'or ICanvas.convertToBlob to be implemented');\n    }\n\n    public canvas(options: ExtractOptions | Container | Texture): ICanvas\n    {\n        options = this._normalizeOptions(options);\n\n        const target = options.target;\n\n        const renderer = this._renderer;\n        const texture = target instanceof Texture\n            ? target\n            : renderer.textureGenerator.generateTexture(options as GenerateTextureOptions);\n\n        const canvas = renderer.texture.generateCanvas(texture);\n\n        if (target instanceof Container)\n        {\n            // destroy generated texture\n            texture.destroy();\n        }\n\n        return canvas;\n    }\n\n    public pixels(options: ExtractOptions | Container | Texture): GetPixelsOutput\n    {\n        options = this._normalizeOptions(options);\n\n        const target = options.target;\n\n        const renderer = this._renderer;\n        const texture = target instanceof Texture\n            ? target\n            : renderer.textureGenerator.generateTexture(options as GenerateTextureOptions);\n\n        const pixelInfo = renderer.texture.getPixels(texture);\n\n        if (target instanceof Container)\n        {\n            // destroy generated texture\n            texture.destroy();\n        }\n\n        return pixelInfo;\n    }\n\n    public texture(options: ExtractOptions | Container | Texture): Texture\n    {\n        options = this._normalizeOptions(options);\n\n        if (options.target instanceof Texture) return options.target;\n\n        return this._renderer.textureGenerator.generateTexture(options as GenerateTextureOptions);\n    }\n\n    public download(options: ExtractDownloadOptions | Container | Texture)\n    {\n        options = this._normalizeOptions<ExtractDownloadOptions>(options);\n\n        const canvas = this.canvas(options);\n\n        const link = document.createElement('a');\n\n        link.download = options.filename ?? 'image.png';\n        link.href = canvas.toDataURL('image/png');\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    }\n\n    public log(options: (ExtractOptions & {width?: number}) | Container | Texture)\n    {\n        const width = options.width ?? 200;\n\n        options = this._normalizeOptions(options);\n\n        const canvas = this.canvas(options);\n\n        const base64 = canvas.toDataURL();\n\n        // eslint-disable-next-line no-console\n        console.log(`[Pixi Texture] ${canvas.width}px ${canvas.height}px`);\n\n        const style = [\n            'font-size: 1px;',\n            `padding: ${width}px ${300}px;`,\n            `background: url(${base64}) no-repeat;`,\n            'background-size: contain;',\n        ].join(' ');\n\n        // eslint-disable-next-line no-console\n        console.log('%c ', style);\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null as any as Renderer;\n    }\n}\n","import { TextureSource } from './sources/TextureSource';\nimport { Texture } from './Texture';\n\nimport type { TextureSourceOptions } from './sources/TextureSource';\n\nexport class RenderTexture extends Texture\n{\n    public static create(options: TextureSourceOptions): Texture\n    {\n        return new Texture({\n            source: new TextureSource(options)\n        });\n    }\n\n    public resize(width: number, height: number, resolution?: number): this\n    {\n        this.source.resize(width, height, resolution);\n\n        return this;\n    }\n}\n","import { Color, type ColorSource } from '../../../../color/Color';\nimport { ExtensionType } from '../../../../extensions/Extensions';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { Bounds } from '../../../../scene/container/bounds/Bounds';\nimport { getLocalBounds } from '../../../../scene/container/bounds/getLocalBounds';\nimport { Container } from '../../../../scene/container/Container';\nimport { RenderTexture } from '../texture/RenderTexture';\n\nimport type { Writeable } from '../../../../utils/types';\nimport type { Renderer } from '../../types';\nimport type { System } from '../system/System';\nimport type { TextureSourceOptions } from '../texture/sources/TextureSource';\nimport type { Texture } from '../texture/Texture';\n\nexport type GenerateTextureSourceOptions = Omit<TextureSourceOptions, 'resource' | 'width' | 'height' | 'resolution'>;\n\nexport type GenerateTextureOptions =\n{\n    /** The container to generate the texture from */\n    target: Container;\n    /**\n     * The region of the container, that shall be rendered,\n     * if no region is specified, defaults to the local bounds of the container.\n     */\n    frame?: Rectangle;\n\n    resolution?: number;\n\n    clearColor?: ColorSource;\n\n    /** The options passed to the texture source. */\n    textureSourceOptions?: GenerateTextureSourceOptions,\n};\n\nconst tempRect = new Rectangle();\nconst tempBounds = new Bounds();\nconst noColor: ColorSource = [0, 0, 0, 0];\n\n/** System that manages the generation of textures from the renderer. */\nexport class GenerateTextureSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'textureGenerator',\n    } as const;\n\n    private readonly _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    /**\n     * A Useful function that returns a texture of the display object that can then be used to create sprites\n     * This can be quite useful if your container is complicated and needs to be reused multiple times.\n     * @param {GenerateTextureOptions | Container} options - Generate texture options.\n     * @param {Container} [options.container] - If not given, the renderer's resolution is used.\n     * @param {Rectangle} options.region - The region of the container, that shall be rendered,\n     *        if no region is specified, defaults to the local bounds of the container.\n     * @param {GenerateTextureSourceOptions} [options.textureSourceOptions] - Texture options for GPU.\n     * @returns a shiny new texture of the container passed in\n     */\n    public generateTexture(options: GenerateTextureOptions | Container): Texture\n    {\n        if (options instanceof Container)\n        {\n            options = {\n                target: options,\n                frame: undefined,\n                textureSourceOptions: {},\n                resolution: undefined,\n            };\n        }\n\n        const resolution = options.resolution || this._renderer.resolution;\n\n        const container = options.target;\n\n        let clearColor = options.clearColor;\n\n        if (clearColor)\n        {\n            const isRGBAArray = Array.isArray(clearColor) && clearColor.length === 4;\n\n            clearColor = isRGBAArray ? clearColor : Color.shared.setValue(clearColor).toArray();\n        }\n        else\n        {\n            clearColor = noColor;\n        }\n\n        const region = options.frame?.copyTo(tempRect)\n            || getLocalBounds(container, tempBounds).rectangle;\n\n        region.width = Math.max(region.width, 1 / resolution) | 0;\n        region.height = Math.max(region.height, 1 / resolution) | 0;\n\n        const target = RenderTexture.create({\n            ...options.textureSourceOptions,\n            width: region.width,\n            height: region.height,\n            resolution,\n        });\n\n        const transform = Matrix.shared.translate(-region.x, -region.y);\n\n        this._renderer.render({\n            container,\n            transform,\n            target,\n            clearColor,\n        });\n\n        return target;\n    }\n\n    public destroy(): void\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Point } from '../../../../maths/point/Point';\nimport { BindGroup } from '../../gpu/shader/BindGroup';\nimport { UniformGroup } from '../shader/UniformGroup';\n\nimport type { PointData } from '../../../../maths/point/PointData';\nimport type { Writeable } from '../../../../utils/types';\nimport type { GlRenderTargetSystem } from '../../gl/GlRenderTargetSystem';\nimport type { GpuRenderTargetSystem } from '../../gpu/renderTarget/GpuRenderTargetSystem';\nimport type { WebGPURenderer } from '../../gpu/WebGPURenderer';\nimport type { Renderer } from '../../types';\nimport type { UniformBufferSystem } from '../shader/UniformBufferSystem';\nimport type { System } from '../system/System';\n\nexport type GlobalUniformGroup = UniformGroup<{\n    projectionMatrix: { value: Matrix; type: 'mat3x3<f32>' }\n    worldTransformMatrix: { value: Matrix; type: 'mat3x3<f32>' }\n    worldAlpha: { value: number; type: 'f32' }\n    uResolution: { value: number[]; type: 'vec2<f32>' }\n}>;\n\nexport interface GlobalUniformOptions\n{\n    projectionData?: {size: [number, number], projectionMatrix: Matrix}\n    worldTransformMatrix?: Matrix\n    worldColor?: number\n    offset?: PointData\n}\n\nexport interface GlobalUniformData\n{\n    projectionMatrix: Matrix\n    worldTransformMatrix: Matrix\n    worldColor: number\n    resolution: number[]\n    offset: PointData\n    bindGroup: BindGroup\n}\n\ninterface GlobalUniformRenderer\n{\n    renderTarget: GlRenderTargetSystem | GpuRenderTargetSystem\n    renderPipes: Renderer['renderPipes'];\n    uniformBuffer: UniformBufferSystem;\n}\n\nexport class GlobalUniformSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'globalUniforms',\n    } as const;\n\n    private readonly _renderer: GlobalUniformRenderer;\n\n    private _stackIndex = 0;\n    private _globalUniformDataStack: GlobalUniformData[] = [];\n\n    private readonly _uniformsPool: GlobalUniformGroup[] = [];\n    private readonly _activeUniforms: GlobalUniformGroup[] = [];\n\n    private readonly _bindGroupPool: BindGroup[] = [];\n    private readonly _activeBindGroups: BindGroup[] = [];\n\n    private _currentGlobalUniformData: GlobalUniformData;\n\n    constructor(renderer: GlobalUniformRenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public reset()\n    {\n        this._stackIndex = 0;\n\n        for (let i = 0; i < this._activeUniforms.length; i++)\n        {\n            this._uniformsPool.push(this._activeUniforms[i]);\n        }\n\n        for (let i = 0; i < this._activeBindGroups.length; i++)\n        {\n            this._bindGroupPool.push(this._activeBindGroups[i]);\n        }\n\n        this._activeUniforms.length = 0;\n        this._activeBindGroups.length = 0;\n    }\n\n    public start(options: GlobalUniformOptions): void\n    {\n        this.reset();\n\n        this.push(options);\n    }\n\n    public bind({\n        projectionData,\n        worldTransformMatrix,\n        worldColor,\n        offset,\n    }: GlobalUniformOptions)\n    {\n        const renderTarget = this._renderer.renderTarget.renderTarget;\n\n        const currentGlobalUniformData = this._stackIndex ? this._globalUniformDataStack[this._stackIndex - 1] : {\n            projectionData: renderTarget,\n            worldTransformMatrix: new Matrix(),\n            worldColor: 0xFFFFFFFF,\n            offset: new Point(),\n        };\n\n        const globalUniformData: GlobalUniformData = {\n            projectionMatrix: projectionData?.projectionMatrix || renderTarget.projectionMatrix,\n            resolution: projectionData?.size || renderTarget.size,\n            worldTransformMatrix: worldTransformMatrix || currentGlobalUniformData.worldTransformMatrix,\n            worldColor: worldColor || currentGlobalUniformData.worldColor,\n            offset: offset || currentGlobalUniformData.offset,\n            bindGroup: null,\n        };\n\n        const uniformGroup = this._uniformsPool.pop() || this._createUniforms();\n\n        this._activeUniforms.push(uniformGroup);\n\n        const uniforms = uniformGroup.uniforms;\n\n        uniforms.projectionMatrix = globalUniformData.projectionMatrix;\n\n        uniforms.uResolution = globalUniformData.resolution;\n\n        uniforms.worldTransformMatrix.copyFrom(globalUniformData.worldTransformMatrix);\n\n        uniforms.worldTransformMatrix.tx -= globalUniformData.offset.x;\n        uniforms.worldTransformMatrix.ty -= globalUniformData.offset.y;\n\n        // TODO - this should be the full rgb color...\n        uniforms.worldAlpha = ((globalUniformData.worldColor >> 24) & 0xFF) / 255;\n\n        uniformGroup.update();\n\n        let bindGroup: BindGroup;\n\n        if ((this._renderer as WebGPURenderer).renderPipes.uniformBatch)\n        {\n            bindGroup = (this._renderer as WebGPURenderer).renderPipes.uniformBatch.getUniformBindGroup(uniformGroup, false);\n        }\n        else\n        {\n            this._renderer.uniformBuffer.updateUniformGroup(uniformGroup as UniformGroup);\n\n            bindGroup = this._bindGroupPool.pop() || new BindGroup();\n            this._activeBindGroups.push(bindGroup);\n            bindGroup.setResource(uniformGroup, 0);\n        }\n\n        globalUniformData.bindGroup = bindGroup;\n\n        this._currentGlobalUniformData = globalUniformData;\n    }\n\n    public push(options: GlobalUniformOptions)\n    {\n        this.bind(options);\n\n        this._globalUniformDataStack[this._stackIndex++] = this._currentGlobalUniformData;\n    }\n\n    public pop()\n    {\n        this._currentGlobalUniformData = this._globalUniformDataStack[--this._stackIndex - 1];\n    }\n\n    get bindGroup(): BindGroup\n    {\n        return this._currentGlobalUniformData.bindGroup;\n    }\n\n    get uniformGroup()\n    {\n        return this._currentGlobalUniformData.bindGroup.resources[0] as UniformGroup;\n    }\n\n    private _createUniforms(): GlobalUniformGroup\n    {\n        const globalUniforms = new UniformGroup({\n            projectionMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            worldTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            // TODO - someone smart - set this to be a unorm8x4 rather than a vec4<f32>\n            worldAlpha: { value: 1, type: 'f32' },\n            uResolution: { value: [0, 0], type: 'vec2<f32>' },\n        }, {\n            ubo: true,\n            isStatic: true,\n        });\n\n        return globalUniforms;\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n","/* eslint-disable quote-props */\ntype UNIFORM_TYPES_SINGLE =\n'f32' | 'vec2<f32>' | 'vec3<f32>' | 'vec4<f32>' |\n'mat2x2<f32>' | 'mat3x3<f32>' | 'mat4x4<f32>' | 'u32';\n\ntype OPTIONAL_SPACE = ' ' | '';\n\ntype UNIFORM_TYPES_ARRAY = `array<${UNIFORM_TYPES_SINGLE},${OPTIONAL_SPACE}${number}>`;\n\nexport type UNIFORM_TYPES = UNIFORM_TYPES_SINGLE | UNIFORM_TYPES_ARRAY;\n\nexport const WGSL_TO_STD40_SIZE: Record<string, number> = {\n    'f32': 4,\n    'vec2<f32>': 8,\n    'vec3<f32>': 12,\n    'vec4<f32>': 16,\n\n    'mat2x2<f32>': 16 * 3,\n    'mat3x3<f32>': 16 * 3,\n    'mat4x4<f32>': 16 * 4,\n\n    // float:  4,\n    // vec2:   8,\n    // vec3:   12,\n    // vec4:   16,\n\n    // int:      4,\n    // ivec2:    8,\n    // ivec3:    12,\n    // ivec4:    16,\n\n    // uint:     4,\n    // uvec2:    8,\n    // uvec3:    12,\n    // uvec4:    16,\n\n    // bool:     4,\n    // bvec2:    8,\n    // bvec3:    12,\n    // bvec4:    16,\n\n    // mat2:     16 * 2,\n    // mat3:     16 * 3,\n    // mat4:     16 * 4,\n};\n\nexport interface UniformData\n{\n    /** the value of the uniform, this could be any object - a parser will figure out how to write it to the buffer */\n    value: unknown;\n\n    type: UNIFORM_TYPES;\n    /** the size of the variable (eg 2 for vec2, 3 for vec3, 4 for vec4) */\n    size?: number;\n    name?: string;\n}\n\nexport interface UBOElement\n{\n    data: UniformData;\n    offset: number;\n    size: number;\n}\n\nexport interface UniformBufferLayout\n{\n    uboElements: UBOElement[];\n    /** float32 size // TODO change to bytes */\n    size: number;\n}\n\nexport function createUBOElements(uniformData: UniformData[]): UniformBufferLayout\n{\n    const uboElements: UBOElement[] = uniformData.map((data: UniformData) =>\n        ({\n            data,\n            offset: 0,\n            size: 0,\n        }));\n\n    let size = 0;\n    let chunkSize = 0;\n    let offset = 0;\n\n    for (let i = 0; i < uboElements.length; i++)\n    {\n        const uboElement = uboElements[i];\n\n        size = WGSL_TO_STD40_SIZE[uboElement.data.type];\n\n        if (!size)\n        {\n            throw new Error(`Unknown type ${uboElement.data.type}`);\n        }\n\n        if (uboElement.data.size > 1)\n        {\n            size = Math.max(size, 16) * uboElement.data.size;\n        }\n\n        uboElement.size = size;\n\n        // add some size offset..\n        // must align to the nearest 16 bytes or internally nearest round size\n\n        if (chunkSize % size !== 0 && chunkSize < 16)\n        {\n            // diff required to line up..\n            const lineUpValue = (chunkSize % size) % 16;\n\n            chunkSize += lineUpValue;\n            offset += lineUpValue;\n        }\n\n        if ((chunkSize + size) > 16)\n        {\n            offset = Math.ceil(offset / 16) * 16;\n            uboElement.offset = offset;\n            offset += size;\n            chunkSize = size;\n        }\n        else\n        {\n            uboElement.offset = offset;\n            chunkSize += size;\n            offset += size;\n        }\n    }\n\n    offset = Math.ceil(offset / 16) * 16;\n\n    return { uboElements, size: offset };\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n// Parsers, each one of these will take a look at the type of shader property and uniform.\n// if they pass the test function then the code function is called that returns a the shader upload code for that uniform.\n// Shader upload code is automagically generated with these parsers.\n// If no parser is valid then the default upload functions are used.\n// exposing Parsers means that custom upload logic can be added to pixi's shaders.\n// A good example would be a pixi rectangle can be directly set on a uniform.\n// If the shader sees it it knows how to upload the rectangle structure as a vec4\n// format is as follows:\n//\n// {\n//     test: (data, uniform) => {} <--- test is this code should be used for this uniform\n//     code: (name, uniform) => {} <--- returns the string of the piece of code that uploads the uniform\n//     codeUbo: (name, uniform) => {} <--- returns the string of the piece of code that uploads the\n//                                         uniform to a uniform buffer\n// }\nimport type { Matrix } from '../../../../../maths/matrix/Matrix';\nimport type { PointLike } from '../../../../../maths/point/PointLike';\nimport type { Rectangle } from '../../../../../maths/shapes/Rectangle';\nimport type { UNIFORM_TYPES, UniformData } from './createUBOElements';\n\nexport interface UniformParser\n{\n    type: UNIFORM_TYPES;\n    test: (data: UniformData) => boolean;\n    code: (name: string) => string;\n}\n\nexport const uniformBufferParsers: UniformParser[] = [\n    // uploading pixi matrix object to mat3\n    {\n        type: 'mat3x3<f32>',\n        test: (data: UniformData): boolean =>\n            (data.value as Matrix).a !== undefined,\n        code: (name: string): string =>\n            `\n                var ${name}_matrix = uv.${name}.toArray(true);\n\n                data[offset] = ${name}_matrix[0];\n                data[offset+1] = ${name}_matrix[1];\n                data[offset+2] = ${name}_matrix[2];\n\n                data[offset + 4] = ${name}_matrix[3];\n                data[offset + 5] = ${name}_matrix[4];\n                data[offset + 6] = ${name}_matrix[5];\n\n                data[offset + 8] = ${name}_matrix[6];\n                data[offset + 9] = ${name}_matrix[7];\n                data[offset + 10] = ${name}_matrix[8];\n            `,\n    },\n    {\n        type: 'vec4<f32>',\n        test: (data: UniformData) =>\n            data.type === 'vec4<f32>' && data.size === 1 && (data.value as Rectangle).width !== undefined,\n        code: (name: string): string =>\n            `\n                        v = uv.${name};\n\n                        data[offset] = v.x;\n                        data[offset+1] = v.y;\n                        data[offset+2] = v.width;\n                        data[offset+3] = v.height;\n                    `,\n    },\n    {\n        type: 'vec2<f32>',\n        test: (data: UniformData): boolean =>\n            data.type === 'vec2<f32>' && data.size === 1 && (data.value as PointLike).x !== undefined,\n        code: (name: string): string =>\n            `\n                    v = uv.${name};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                `,\n    },\n    // uploading a pixi point as a vec2 with caching layer\n    // {\n    //     test: (data: any, uniform: any): boolean =>\n    //         data.type === 'vec2' && data.size === 1 && uniform.x !== undefined,\n    //     code: (name: string): string =>\n    //         `\n    //             v = uv.${name};\n\n    //             data[offset] = v.x;\n    //             data[offset+1] = v.y;\n    //         `,\n    // },\n    // caching layer for a vec2\n    // {\n    //     test: (data: any): boolean =>\n    //         data.type === 'vec2' && data.size === 1,\n    //     code: (name: string): string =>\n    //         `\n    //             cv = ud[\"${name}\"].value;\n    //             v = uv[\"${name}\"];\n\n    //             if(cv[0] !== v[0] || cv[1] !== v[1])\n    //             {\n    //                 cv[0] = v[0];\n    //                 cv[1] = v[1];\n    //                 gl.uniform2f(ud[\"${name}\"].location, v[0], v[1]);\n    //             }\n    //         `,\n    // },\n    // upload a pixi rectangle as a vec4 with caching layer\n    // {\n    //     test: (data: any, uniform: any): boolean =>\n    //         data.type === 'vec4' && data.size === 1 && uniform.width !== undefined,\n    //     code: (name: string): string =>\n    //         `\n    //                 v = uv.${name};\n\n    //                 data[offset] = v.x;\n    //                 data[offset+1] = v.y;\n    //                 data[offset+2] = v.width;\n    //                 data[offset+3] = v.height;\n    //             `,\n    // },\n    // a caching layer for vec4 uploading\n    // {\n    //     test: (data: any): boolean =>\n    //         data.type === 'vec4' && data.size === 1,\n    //     code: (name: string): string =>\n    //         `\n    //             cv = ud[\"${name}\"].value;\n    //             v = uv[\"${name}\"];\n\n    //             if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    //             {\n    //                 cv[0] = v[0];\n    //                 cv[1] = v[1];\n    //                 cv[2] = v[2];\n    //                 cv[3] = v[3];\n\n    //                 gl.uniform4f(ud[\"${name}\"].location, v[0], v[1], v[2], v[3])\n    //             }`,\n    // },\n];\n\n","/* eslint-disable quote-props */\nimport { WGSL_TO_STD40_SIZE } from './createUBOElements';\nimport { uniformBufferParsers } from './uniformBufferParsers';\n\nimport type { UBOElement } from './createUBOElements';\n\nexport type UniformsSyncCallback = (...args: any[]) => void;\n\nconst UBO_TO_SINGLE_SETTERS: Record<string, string> = {\n    'f32': `\n        data[offset] = v;\n    `,\n    'vec2<f32>': `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    `,\n    'vec3<f32>': `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    `,\n    'vec4<f32>': `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    `,\n    'mat2x2<f32>': `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    `,\n    'mat3x3<f32>': `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    `,\n    'mat4x4<f32>': `\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    `,\n};\n\n// const WGSL_TO_SIZE: Dict<number> = {\n//     float:    1,\n//     vec2:     2,\n//     vec3:     3,\n//     vec4:     4,\n\n//     int:      1,\n//     ivec2:    2,\n//     ivec3:    3,\n//     ivec4:    4,\n\n//     uint:     1,\n//     uvec2:    2,\n//     uvec3:    3,\n//     uvec4:    4,\n\n//     bool:     1,\n//     bvec2:    2,\n//     bvec3:    3,\n//     bvec4:    4,\n\n//     mat2:     4,\n//     mat3:     9,\n//     mat4:     16,\n// };\n\nexport function generateUniformBufferSync(\n    uboElements: UBOElement[],\n): UniformsSyncCallback\n{\n    const funcFragments = [`\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n    `];\n\n    let prev = 0;\n\n    for (let i = 0; i < uboElements.length; i++)\n    {\n        const uboElement = uboElements[i];\n\n        const name = uboElement.data.name;\n\n        let parsed = false;\n        let offset = 0;\n\n        for (let j = 0; j < uniformBufferParsers.length; j++)\n        {\n            const uniformParser = uniformBufferParsers[j];\n\n            if (uniformParser.test(uboElement.data))\n            {\n                offset = uboElement.offset / 4;\n\n                funcFragments.push(\n                    `offset += ${offset - prev};`,\n                    uniformBufferParsers[j].code(name));\n                parsed = true;\n\n                break;\n            }\n        }\n\n        if (!parsed)\n        {\n            if (uboElement.data.size > 1)\n            {\n                const rowSize = Math.max(WGSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);\n                const elementSize = (uboElement.data.value as Array<number>).length / uboElement.data.size;// size / rowSize;\n\n                const remainder = (4 - (elementSize % 4)) % 4;\n\n                offset = uboElement.offset / 4;\n\n                funcFragments.push(/* wgsl */`\n                    v = uv.${name};\n                    offset += ${offset - prev};\n\n                    let arrayOffset = offset;\n                    \n                    t = 0;\n\n                    for(var i=0; i < ${uboElement.data.size * rowSize}; i++)\n                    {\n                        for(var j = 0; j < ${elementSize}; j++)\n                        {\n                            data[arrayOffset++] = v[t++];\n                        }\n                        ${remainder !== 0 ? 'arrayOffset += ${remainder};' : ''}\n                    }\n                `);\n            }\n            else\n            {\n                const template = UBO_TO_SINGLE_SETTERS[uboElement.data.type];\n\n                offset = uboElement.offset / 4;\n\n                funcFragments.push(/* wgsl */`\n                    v = uv.${name};\n                    offset += ${offset - prev};\n                    ${template};\n                `);\n            }\n        }\n\n        prev = offset;\n    }\n\n    const fragmentSrc = funcFragments.join('\\n');\n\n    // console.log('--------------------------');\n    // console.log(fragmentSrc);\n\n    // eslint-disable-next-line no-new-func\n    return new Function(\n        'uv',\n        'data',\n        'offset',\n        fragmentSrc,\n    ) as UniformsSyncCallback;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Buffer } from '../buffer/Buffer';\nimport { BufferUsage } from '../buffer/const';\nimport { createUBOElements } from './utils/createUBOElements';\nimport { generateUniformBufferSync } from './utils/createUniformBufferSync';\n\nimport type { System } from '../system/System';\nimport type { UniformGroup } from './UniformGroup';\nimport type { UniformBufferLayout } from './utils/createUBOElements';\nimport type { UniformsSyncCallback } from './utils/createUniformBufferSync';\n\nexport class UniformBufferSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'uniformBuffer',\n    } as const;\n\n    /** Cache of uniform buffer layouts and sync functions, so we don't have to re-create them */\n    private _syncFunctionHash: Record<string, {\n        layout: UniformBufferLayout,\n        syncFunction: (uniforms: Record<string, any>, data: Float32Array, offset: number) => void\n    }> = Object.create(null);\n\n    public ensureUniformGroup(uniformGroup: UniformGroup): void\n    {\n        if (!uniformGroup._syncFunction)\n        {\n            this._initUniformGroup(uniformGroup);\n        }\n    }\n\n    private _initUniformGroup(uniformGroup: UniformGroup): UniformsSyncCallback\n    {\n        const uniformGroupSignature = uniformGroup.signature;\n\n        let uniformData = this._syncFunctionHash[uniformGroupSignature];\n\n        if (!uniformData)\n        {\n            const elements = Object.keys(uniformGroup.uniformStructures).map((i) => uniformGroup.uniformStructures[i]);\n\n            const layout = createUBOElements(elements);\n\n            const syncFunction = generateUniformBufferSync(layout.uboElements);\n\n            uniformData = this._syncFunctionHash[uniformGroupSignature] = {\n                layout,\n                syncFunction\n            };\n        }\n\n        uniformGroup._syncFunction = uniformData.syncFunction;\n\n        uniformGroup.buffer = new Buffer({\n            data: new Float32Array(uniformData.layout.size / 4),\n            usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST,\n        });\n\n        return uniformGroup._syncFunction;\n    }\n\n    public syncUniformGroup(uniformGroup: UniformGroup, data?: Float32Array, offset?: number): boolean\n    {\n        const syncFunction = uniformGroup._syncFunction || this._initUniformGroup(uniformGroup);\n\n        data ||= (uniformGroup.buffer.data as Float32Array);\n        offset ||= 0;\n\n        syncFunction(uniformGroup.uniforms, data, offset);\n\n        return true;\n    }\n\n    public updateUniformGroup(uniformGroup: UniformGroup): boolean\n    {\n        if (uniformGroup.isStatic && !uniformGroup.dirtyId) return false;\n        uniformGroup.dirtyId = 0;\n\n        const synced = this.syncUniformGroup(uniformGroup);\n\n        uniformGroup.buffer.update();\n\n        return synced;\n    }\n\n    public destroy(): void\n    {\n        this._syncFunctionHash = null;\n    }\n}\n","import { DOMAdapter } from '../settings/adapter/adapter';\n\nlet saidHello = false;\n\nexport const VERSION = '$_VERSION';\n\nexport function sayHello(type: string): void\n{\n    if (saidHello)\n    {\n        return;\n    }\n\n    if (DOMAdapter.get().getNavigator().userAgent.toLowerCase().indexOf('chrome') > -1)\n    {\n        const args = [\n            `%c  %c  %c  %c  %c PixiJS %c v${VERSION} (${type}) http://www.pixijs.com/\\n\\n`,\n            'background: #E72264; padding:5px 0;',\n            'background: #6CA2EA; padding:5px 0;',\n            'background: #B5D33D; padding:5px 0;',\n            'background: #FED23F; padding:5px 0;',\n            'color: #FFFFFF; background: #E72264; padding:5px 0;',\n            'color: #E72264; background: #FFFFFF; padding:5px 0;',\n        ];\n\n        globalThis.console.log(...args);\n    }\n    else if (globalThis.console)\n    {\n        globalThis.console.log(`PixiJS ${VERSION} - ${type} - http://www.pixijs.com/`);\n    }\n\n    saidHello = true;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { sayHello } from '../../../../utils/sayHello';\n\nimport type { Renderer } from '../../types';\nimport type { System } from '../system/System';\n\n/**\n * Options for the startup system.\n * @ignore\n */\nexport interface HelloSystemOptions\n{\n    /** Whether to log the version and type information of renderer to console. */\n    hello: boolean;\n}\n/** A simple system responsible for initiating the renderer. */\nexport class HelloSystem implements System<HelloSystemOptions>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'hello',\n        priority: 0,\n    } as const;\n\n    /** @ignore */\n    public static defaultOptions: HelloSystemOptions = {\n        /**\n         * {@link WebGLOptions.hello}\n         * @default false\n         */\n        hello: false,\n    };\n\n    private readonly _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    /**\n     * It all starts here! This initiates every system, passing in the options for any system by name.\n     * @param options - the config for the renderer and all its systems\n     */\n    public init(options: HelloSystemOptions): void\n    {\n        if (options.hello)\n        {\n            // eslint-disable-next-line no-console\n            sayHello(this._renderer.name);\n        }\n    }\n}\n","import { extensions, ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { Renderer } from '../../types';\nimport type { System } from '../system/System';\n\nexport interface TextureGCSystemOptions\n{\n    textureGCActive: boolean;\n    textureGCAMaxIdle: number;\n    textureGCCheckCountMax: number;\n}\n/**\n * System plugin to the renderer to manage texture garbage collection on the GPU,\n * ensuring that it does not get clogged up with textures that are no longer being used.\n */\nexport class TextureGCSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'textureGC',\n    } as const;\n\n    public static defaultOptions: TextureGCSystemOptions = {\n        textureGCActive: true,\n        textureGCAMaxIdle: 60 * 60,\n        textureGCCheckCountMax: 600,\n    };\n\n    /**\n     * Frame count since started.\n     * @readonly\n     */\n    public count: number;\n\n    /**\n     * Frame count since last garbage collection.\n     * @readonly\n     */\n    public checkCount: number;\n\n    /**\n     * Maximum idle frames before a texture is destroyed by garbage collection.\n     * @see TextureGCSystem.defaultMaxIdle\n     */\n    public maxIdle: number;\n\n    /**\n     * Frames between two garbage collections.\n     * @see TextureGCSystem.defaultCheckCountMax\n     */\n    public checkCountMax: number;\n\n    /**\n     * Current garbage collection mode.\n     * @see TextureGCSystem.defaultMode\n     */\n    public active: boolean;\n    private _renderer: Renderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n\n        this.count = 0;\n        this.checkCount = 0;\n    }\n\n    public init(options: TextureGCSystemOptions): void\n    {\n        options = { ...TextureGCSystem.defaultOptions, ...options };\n\n        this.checkCountMax = options.textureGCCheckCountMax;\n        this.maxIdle = options.textureGCAMaxIdle;\n        this.active = options.textureGCActive;\n    }\n\n    /**\n     * Checks to see when the last time a texture was used.\n     * If the texture has not been used for a specified amount of time, it will be removed from the GPU.\n     */\n    protected postrender(): void\n    {\n        if (!this._renderer.renderingToScreen)\n        {\n            return;\n        }\n\n        this.count++;\n\n        if (!this.active) return;\n\n        this.checkCount++;\n\n        if (this.checkCount > this.checkCountMax)\n        {\n            this.checkCount = 0;\n\n            this.run();\n        }\n    }\n\n    /**\n     * Checks to see when the last time a texture was used.\n     * If the texture has not been used for a specified amount of time, it will be removed from the GPU.\n     */\n    public run(): void\n    {\n        const managedTextures = this._renderer.texture.managedTextures;\n\n        for (let i = 0; i < managedTextures.length; i++)\n        {\n            const texture = managedTextures[i];\n\n            // Only supports non generated textures at the moment!\n            if (texture.resource && texture.touched > -1 && this.count - texture.touched > this.maxIdle)\n            {\n                texture.touched = -1;\n                texture.unload();\n            }\n        }\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null as any as Renderer;\n    }\n}\n\nextensions.add(TextureGCSystem);\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation';\nimport { getCanvasTexture } from '../texture/utils/getCanvasTexture';\n\nimport type { DestroyOptions } from '../../../../scene/container/destroyTypes';\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { System } from '../system/System';\nimport type { CanvasSourceOptions } from '../texture/sources/CanvasSource';\nimport type { Texture } from '../texture/Texture';\n\n/** Options passed to the ViewSystem */\nexport interface ViewSystemOptions\n{\n    /** The width of the screen. */\n    width?: number;\n    /** The height of the screen. */\n    height?: number;\n    /** The canvas to use as a view, optional. */\n    canvas?: ICanvas;\n    /** @deprecated */\n    element?: ICanvas;\n    /** Resizes renderer view in CSS pixels to allow for resolutions other than 1. */\n    autoDensity?: boolean;\n    /** The resolution / device pixel ratio of the renderer. */\n    resolution?: number;\n    /** **WebGL Only.** Whether to enable anti-aliasing. This may affect performance. */\n    antialias?: boolean;\n    /** TODO: multiView */\n    multiView?: boolean;\n}\n\n/**\n * The view system manages the main canvas that is attached to the DOM.\n * This main role is to deal with how the holding the view reference and dealing with how it is resized.\n */\nexport class ViewSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'view',\n        priority: 0,\n    } as const;\n\n    /** @ignore */\n    public static defaultOptions: ViewSystemOptions = {\n        /**\n         * {@link WebGLOptions.width}\n         * @default 800\n         */\n        width: 800,\n        /**\n         * {@link WebGLOptions.height}\n         * @default 600\n         */\n        height: 600,\n        /**\n         * {@link WebGLOptions.autoDensity}\n         * @default false\n         */\n        autoDensity: false,\n        /**\n         * {@link WebGLOptions.antialias}\n         * @default false\n         */\n        antialias: false,\n    };\n\n    public multiView: boolean;\n\n    /** The canvas element that everything is drawn to. */\n    public canvas: ICanvas;\n\n    public texture: Texture;\n\n    /**\n     * Whether CSS dimensions of canvas view should be resized to screen dimensions automatically.\n     * @member {boolean}\n     */\n    public autoDensity: boolean;\n\n    public antialias: boolean;\n\n    public screen: Rectangle;\n\n    get resolution(): number\n    {\n        return this.texture.source._resolution;\n    }\n\n    set resolution(value: number)\n    {\n        this.texture.source.resize(\n            this.texture.source.width,\n            this.texture.source.height,\n            value\n        );\n    }\n\n    /**\n     * initiates the view system\n     * @param options - the options for the view\n     */\n    public init(options: ViewSystemOptions): void\n    {\n        options = {\n            ...ViewSystem.defaultOptions,\n            ...options,\n        };\n\n        if (options.element)\n        {\n            deprecation(v8_0_0, 'ViewSystem.element has been renamed to ViewSystem.canvas');\n            options.canvas = options.element;\n        }\n\n        this.screen = new Rectangle(0, 0, options.width, options.height);\n        this.canvas = options.canvas || DOMAdapter.get().createCanvas();\n        this.antialias = !!options.antialias;\n        this.texture = getCanvasTexture(this.canvas, options as CanvasSourceOptions);\n        this.multiView = !!options.multiView;\n\n        if (this.autoDensity)\n        {\n            this.canvas.style.width = `${this.texture.width}px`;\n            this.canvas.style.height = `${this.texture.height}px`;\n        }\n\n        this.resolution = options.resolution;\n    }\n\n    /**\n     * Resizes the screen and canvas to the specified dimensions.\n     * @param desiredScreenWidth - The new width of the screen.\n     * @param desiredScreenHeight - The new height of the screen.\n     * @param resolution\n     */\n    public resize(desiredScreenWidth: number, desiredScreenHeight: number, resolution: number): void\n    {\n        this.texture.source.resize(desiredScreenWidth, desiredScreenHeight, resolution);\n\n        this.screen.width = this.texture.frameWidth;\n        this.screen.height = this.texture.frameHeight;\n\n        if (this.autoDensity)\n        {\n            this.canvas.style.width = `${desiredScreenWidth}px`;\n            this.canvas.style.height = `${desiredScreenHeight}px`;\n        }\n    }\n\n    /**\n     * Destroys this System and optionally removes the canvas from the dom.\n     * @param {options | false} options - The options for destroying the view, or \"false\".\n     * @param options.removeView - Whether to remove the view element from the DOM. Defaults to `false`.\n     */\n    public destroy(options: DestroyOptions = false): void\n    {\n        const removeView = typeof options === 'boolean' ? options : !!options?.removeView;\n\n        if (removeView && this.canvas.parentNode)\n        {\n            this.canvas.parentNode.removeChild(this.canvas);\n        }\n\n        // note: don't nullify the element\n        //       other systems may need to unbind from it during the destroy iteration (eg. GLContextSystem)\n    }\n}\n","import { AccessibilitySystem } from '../../../../accessibility/AccessibilitySystem';\nimport { FilterPipe } from '../../../../filters/FilterPipe';\nimport { FilterSystem } from '../../../../filters/FilterSystem';\nimport { LayerPipe } from '../../../../scene/container/LayerPipe';\nimport { LayerSystem } from '../../../../scene/container/LayerSystem';\nimport { GraphicsContextSystem } from '../../../../scene/graphics/shared/GraphicsContextSystem';\nimport { GraphicsPipe } from '../../../../scene/graphics/shared/GraphicsPipe';\nimport { MeshPipe } from '../../../../scene/mesh/shared/MeshPipe';\nimport { SpritePipe } from '../../../../scene/sprite/SpritePipe';\nimport { TilingSpritePipe } from '../../../../scene/sprite-tiling/TilingSpritePipe';\nimport { BitmapTextPipe } from '../../../../scene/text/bitmap/BitmapTextPipe';\nimport { CanvasTextPipe } from '../../../../scene/text/canvas/CanvasTextPipe';\nimport { CanvasTextSystem } from '../../../../scene/text/canvas/CanvasTextSystem';\nimport { HTMLTextPipe } from '../../../../scene/text/html/HTMLTextPipe';\nimport { HTMLTextSystem } from '../../../../scene/text/html/HTMLTextSystem';\nimport { BatcherPipe } from '../../../batcher/shared/BatcherPipe';\nimport { AlphaMaskPipe } from '../../../mask/alpha/AlphaMaskPipe';\nimport { ColorMaskPipe } from '../../../mask/color/ColorMaskPipe';\nimport { StencilMaskPipe } from '../../../mask/stencil/StencilMaskPipe';\nimport { BackgroundSystem } from '../background/BackgroundSystem';\nimport { BlendModePipe } from '../blendModes/BlendModePipe';\nimport { ExtractSystem } from '../extract/ExtractSystem';\nimport { GenerateTextureSystem } from '../extract/GenerateTextureSystem';\nimport { GlobalUniformSystem } from '../renderTarget/GlobalUniformSystem';\nimport { UniformBufferSystem } from '../shader/UniformBufferSystem';\nimport { HelloSystem } from '../startup/HelloSystem';\nimport { TextureGCSystem } from '../texture/TextureGCSystem';\nimport { ViewSystem } from '../view/ViewSystem';\n\nexport const SharedSystems = [\n    BackgroundSystem,\n    FilterSystem,\n    GraphicsContextSystem,\n    GlobalUniformSystem,\n    HelloSystem,\n    ViewSystem,\n    CanvasTextSystem,\n    HTMLTextSystem,\n    LayerSystem,\n    UniformBufferSystem,\n    TextureGCSystem,\n    GenerateTextureSystem,\n    ExtractSystem,\n    AccessibilitySystem,\n];\n\nexport const SharedRenderPipes = [\n    BlendModePipe,\n    BatcherPipe,\n    SpritePipe,\n    LayerPipe,\n    MeshPipe,\n    GraphicsPipe,\n    CanvasTextPipe,\n    HTMLTextPipe,\n    BitmapTextPipe,\n    TilingSpritePipe,\n    FilterPipe,\n    AlphaMaskPipe,\n    StencilMaskPipe,\n    ColorMaskPipe,\n];\n","import { extensions, ExtensionType } from '../../../extensions/Extensions';\nimport { GlGraphicsAdaptor } from '../../../scene/graphics/gl/GlGraphicsAdaptor';\nimport { GlMeshAdaptor } from '../../../scene/mesh/gl/GlMeshAdaptor';\nimport { GlBatchAdaptor } from '../../batcher/gl/GlBatchAdaptor';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer';\nimport { SharedRenderPipes, SharedSystems } from '../shared/system/SharedSystems';\nimport { RendererType } from '../types';\nimport { GlBufferSystem } from './buffer/GlBufferSystem';\nimport { GlContextSystem } from './context/GlContextSystem';\nimport { GlGeometrySystem } from './geometry/GlGeometrySystem';\nimport { GlBackBufferSystem } from './GlBackBufferSystem';\nimport { GlColorMaskSystem } from './GlColorMaskSystem';\nimport { GlEncoderSystem } from './GlEncoderSystem';\nimport { GlRenderTargetSystem } from './GlRenderTargetSystem';\nimport { GlStencilSystem } from './GlStencilSystem';\nimport { GlShaderSystem } from './shader/GlShaderSystem';\nimport { GlUniformGroupSystem } from './shader/GlUniformGroupSystem';\nimport { GlStateSystem } from './state/GlStateSystem';\nimport { GlTextureSystem } from './texture/GlTextureSystem';\n\nimport type { ICanvas } from '../../../settings/adapter/ICanvas';\nimport type { PipeConstructor } from '../shared/instructions/RenderPipe';\nimport type { SystemConstructor } from '../shared/system/System';\nimport type { ExtractRendererOptions, ExtractSystemTypes } from '../shared/system/utils/typeUtils';\nimport type { GlRenderingContext } from './context/GlRenderingContext';\n\nconst DefaultWebGLSystems = [\n    ...SharedSystems,\n    GlBackBufferSystem,\n    GlContextSystem,\n    GlBufferSystem,\n    GlTextureSystem,\n    GlRenderTargetSystem,\n    GlGeometrySystem,\n    GlUniformGroupSystem,\n    GlShaderSystem,\n    GlEncoderSystem,\n    GlStateSystem,\n    GlStencilSystem,\n    GlColorMaskSystem,\n];\nconst DefaultWebGLPipes = [...SharedRenderPipes];\nconst DefaultWebGLAdapters = [GlBatchAdaptor, GlMeshAdaptor, GlGraphicsAdaptor];\n\n// installed systems will bbe added to this array by the extensions manager..\nconst systems: { name: string; value: SystemConstructor }[] = [];\nconst renderPipes: { name: string; value: PipeConstructor }[] = [];\nconst renderPipeAdaptors: { name: string; value: any }[] = [];\n\nextensions.handleByNamedList(ExtensionType.WebGLSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGLPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGLPipesAdaptor, renderPipeAdaptors);\n\n// add all the default systems as well as any user defined ones from the extensions\nextensions.add(...DefaultWebGLSystems, ...DefaultWebGLPipes, ...DefaultWebGLAdapters);\n\n/** The default WebGL renderer, uses WebGL2 contexts. */\ntype WebGLSystems = ExtractSystemTypes<typeof DefaultWebGLSystems> & PixiMixins.RendererSystems & PixiMixins.WebGLSystems;\n\n/** The default WebGL renderer, uses WebGL2 contexts. */\nexport type WebGLPipes = ExtractSystemTypes<typeof DefaultWebGLPipes> & PixiMixins.RendererPipes & PixiMixins.WebGLPipes;\n\n/** Options for WebGLRenderer. */\nexport interface WebGLOptions\n    extends ExtractRendererOptions<typeof DefaultWebGLSystems>,\n    PixiMixins.RendererOptions,\n    PixiMixins.WebGLOptions {}\n\n/** The default WebGL renderer, uses WebGL2 contexts. */\nexport interface WebGLRenderer<T extends ICanvas = HTMLCanvasElement>\n    extends AbstractRenderer<WebGLPipes, WebGLOptions, T>,\n    WebGLSystems {}\nexport class WebGLRenderer<T extends ICanvas = HTMLCanvasElement>\n    extends AbstractRenderer<WebGLPipes, WebGLOptions, T>\n    implements WebGLSystems\n{\n    public gl: GlRenderingContext;\n\n    constructor()\n    {\n        const systemConfig = {\n            name: 'webgl2',\n            type: RendererType.WEBGL,\n            systems,\n            renderPipes,\n            renderPipeAdaptors,\n        };\n\n        super(systemConfig);\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { Writeable } from '../../../utils/types';\nimport type { Buffer } from '../shared/buffer/Buffer';\nimport type { BufferResource } from '../shared/buffer/BufferResource';\nimport type { UniformGroup } from '../shared/shader/UniformGroup';\nimport type { System } from '../shared/system/System';\nimport type { TextureSource } from '../shared/texture/sources/TextureSource';\nimport type { TextureStyle } from '../shared/texture/TextureStyle';\nimport type { GPU } from './GpuDeviceSystem';\nimport type { BindGroup } from './shader/BindGroup';\nimport type { BindResource } from './shader/BindResource';\nimport type { GpuProgram } from './shader/GpuProgram';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nexport class BindGroupSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'bindGroup',\n    } as const;\n\n    private readonly _renderer: WebGPURenderer;\n\n    private _hash: Record<string, GPUBindGroup> = Object.create(null);\n    private _gpu: GPU;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n\n    public getBindGroup(bindGroup: BindGroup, program: GpuProgram, groupIndex: number): GPUBindGroup\n    {\n        bindGroup.updateKey();\n\n        const gpuBindGroup = this._hash[bindGroup.key] || this._createBindGroup(bindGroup, program, groupIndex);\n\n        return gpuBindGroup;\n    }\n\n    private _createBindGroup(group: BindGroup, program: GpuProgram, groupIndex: number): GPUBindGroup\n    {\n        const device = this._gpu.device;\n        const groupLayout = program.layout[groupIndex];\n        const entries: GPUBindGroupEntry[] = [];\n\n        for (const j in groupLayout)\n        {\n            const resource: BindResource = group.resources[j] ?? group.resources[groupLayout[j]];\n            let gpuResource: GPUSampler | GPUTextureView | GPUExternalTexture | GPUBufferBinding;\n            // TODO make this dynamic..\n\n            if (resource.resourceType === 'uniformGroup')\n            {\n                const uniformGroup = resource as UniformGroup;\n\n                this._renderer.uniformBuffer.updateUniformGroup(uniformGroup as UniformGroup);\n\n                const buffer = uniformGroup.buffer;\n\n                gpuResource = {\n                    buffer: this._renderer.buffer.getGPUBuffer(buffer),\n                    offset: 0,\n                    size: buffer.descriptor.size,\n                };\n            }\n            else if (resource.resourceType === 'buffer')\n            {\n                const buffer = resource as Buffer;\n\n                gpuResource = {\n                    buffer: this._renderer.buffer.getGPUBuffer(buffer),\n                    offset: 0,\n                    size: buffer.descriptor.size,\n                };\n            }\n            else if (resource.resourceType === 'bufferResource')\n            {\n                const bufferResource = resource as BufferResource;\n\n                gpuResource = {\n                    buffer: this._renderer.buffer.getGPUBuffer(bufferResource.buffer),\n                    offset: bufferResource.offset,\n                    size: bufferResource.size,\n                };\n            }\n            else if (resource.resourceType === 'textureSampler')\n            {\n                const sampler = resource as TextureStyle;\n\n                gpuResource = this._renderer.texture.getGpuSampler(sampler);\n            }\n            else if (resource.resourceType === 'textureSource')\n            {\n                const texture = resource as TextureSource;\n\n                gpuResource = this._renderer.texture.getGpuSource(texture).createView({\n\n                });\n            }\n\n            entries.push({\n                binding: groupLayout[j],\n                resource: gpuResource,\n            });\n        }\n\n        const gpuBindGroup = device.createBindGroup({\n            layout: program._gpuLayout.bindGroups[groupIndex],\n            entries,\n        });\n\n        this._hash[group.key] = gpuBindGroup;\n\n        return gpuBindGroup;\n    }\n\n    public destroy(): void\n    {\n        for (const key of Object.keys(this._hash))\n        {\n            this._hash[key] = null;\n        }\n\n        this._hash = null;\n\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { fastCopy } from '../../shared/buffer/utils/fastCopy';\n\nimport type { Writeable } from '../../../../utils/types';\nimport type { Buffer } from '../../shared/buffer/Buffer';\nimport type { System } from '../../shared/system/System';\nimport type { GPU } from '../GpuDeviceSystem';\n\nexport class BufferSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'buffer',\n    } as const;\n\n    protected CONTEXT_UID: number;\n    private _gpuBuffers: { [key: number]: GPUBuffer } = Object.create(null);\n\n    private _gpu: GPU;\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n\n    public getGPUBuffer(buffer: Buffer): GPUBuffer\n    {\n        return this._gpuBuffers[buffer.uid] || this.createGPUBuffer(buffer);\n    }\n\n    public updateBuffer(buffer: Buffer): GPUBuffer\n    {\n        const gpuBuffer = this._gpuBuffers[buffer.uid] || this.createGPUBuffer(buffer);\n\n        // TODO this can be better...\n        if (buffer._updateID && buffer.data)\n        {\n            buffer._updateID = 0;\n            this._gpu.device.queue.writeBuffer(gpuBuffer, 0, buffer.data.buffer, 0, buffer._updateSize);// , 0);\n        }\n\n        return gpuBuffer;\n    }\n\n    /** dispose all WebGL resources of all managed buffers */\n    public destroyAll(): void\n    {\n        for (const id in this._gpuBuffers)\n        {\n            this._gpuBuffers[id].destroy();\n        }\n\n        this._gpuBuffers = {};\n    }\n\n    public createGPUBuffer(buffer: Buffer): GPUBuffer\n    {\n        const gpuBuffer = this._gpu.device.createBuffer(buffer.descriptor);\n\n        buffer._updateID = 0;\n\n        if (buffer.data)\n        {\n            // TODO if data is static, this can be mapped at creation\n            fastCopy(buffer.data.buffer, gpuBuffer.getMappedRange());\n\n            gpuBuffer.unmap();\n        }\n\n        this._gpuBuffers[buffer.uid] = gpuBuffer;\n\n        buffer.on('update', this.updateBuffer, this);\n        buffer.on('change', this.onBufferChange, this);\n        buffer.on('destroy', this.onBufferDestroy, this);\n\n        return gpuBuffer;\n    }\n\n    protected onBufferChange(buffer: Buffer)\n    {\n        let gpuBuffer = this._gpuBuffers[buffer.uid];\n\n        gpuBuffer.destroy();\n        gpuBuffer = this.createGPUBuffer(buffer);\n        buffer._updateID = 0;\n    }\n\n    /**\n     * Disposes buffer\n     * @param buffer - buffer with data\n     */\n    protected onBufferDestroy(buffer: Buffer): void\n    {\n        const gpuBuffer = this._gpuBuffers[buffer.uid];\n\n        gpuBuffer.destroy();\n\n        this._gpuBuffers[buffer.uid] = null;\n    }\n\n    public destroy(): void\n    {\n        for (const k of Object.keys(this._gpuBuffers))\n        {\n            const key = Number(k);\n            const gpuBuffer = this._gpuBuffers[key];\n\n            gpuBuffer.destroy();\n            this._gpuBuffers[key] = null;\n        }\n\n        this._gpuBuffers = null;\n\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n    }\n}\n\n","import { Buffer } from '../../shared/buffer/Buffer';\nimport { BufferUsage } from '../../shared/buffer/const';\n\nimport type { WebGPURenderer } from '../WebGPURenderer';\n\nexport function GpuReadBuffer(buffer: Buffer, renderer: WebGPURenderer)\n{\n    const bufferSize = buffer.descriptor.size;\n\n    const device = renderer.gpu.device;\n\n    const stagingBuffer = new Buffer({\n        data: new Float32Array(2400000),\n        usage: BufferUsage.MAP_READ | BufferUsage.COPY_DST,\n    });\n\n    const stagingGPUBuffer = renderer.buffer.createGPUBuffer(stagingBuffer);\n\n    const commandEncoder = device.createCommandEncoder();\n\n    commandEncoder.copyBufferToBuffer(\n        renderer.buffer.getGPUBuffer(buffer),\n        0, // Source offset\n        stagingGPUBuffer,\n        0, // Destination offset\n        bufferSize,\n    );\n\n    device.queue.submit([commandEncoder.finish()]);\n\n    void stagingGPUBuffer.mapAsync(\n        GPUMapMode.READ,\n        0, // Offset\n        bufferSize, // Length\n    ).then(() =>\n    {\n        stagingGPUBuffer.getMappedRange(0, bufferSize);\n        stagingGPUBuffer.unmap();\n    });\n}\n","import type { Buffer } from '../../shared/buffer/Buffer';\n\nexport class UniformBufferBatch\n{\n    private _buffer: Buffer;\n    public data: Float32Array;\n    private readonly _minUniformOffsetAlignment: number = 256;\n\n    public byteIndex = 0;\n\n    constructor({ minUniformOffsetAlignment }: {minUniformOffsetAlignment: number})\n    {\n        this._minUniformOffsetAlignment = minUniformOffsetAlignment;\n        this.data = new Float32Array(65535);\n    }\n\n    public clear(): void\n    {\n        this.byteIndex = 0;\n    }\n\n    public addEmptyGroup(size: number): number\n    {\n        // update the buffer.. only float32 for now!\n        if (size > this._minUniformOffsetAlignment / 4)\n        {\n            throw new Error(`UniformBufferBatch: array is too large: ${size * 4}`);\n        }\n\n        const start = this.byteIndex;\n\n        let newSize = start + (size * 4);\n\n        newSize = Math.ceil(newSize / this._minUniformOffsetAlignment) * this._minUniformOffsetAlignment;\n\n        if (newSize > this.data.length * 4)\n        {\n            // TODO push a new buffer\n            throw new Error('UniformBufferBatch: ubo batch got too big');\n        }\n\n        this.byteIndex = newSize;\n\n        return start;\n    }\n\n    public addGroup(array: Float32Array): number\n    {\n        const offset = this.addEmptyGroup(array.length);\n\n        for (let i = 0; i < array.length; i++)\n        {\n            this.data[(offset / 4) + i] = array[i];\n        }\n\n        return offset;\n    }\n\n    public destroy()\n    {\n        this._buffer.destroy();\n        this._buffer = null;\n\n        this.data = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { Writeable } from '../../../utils/types';\nimport type { System } from '../shared/system/System';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nexport class GpuColorMaskSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'colorMask',\n    } as const;\n\n    private readonly _renderer: WebGPURenderer;\n\n    private _colorMaskCache = 0b1111;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public setMask(colorMask: number)\n    {\n        if (this._colorMaskCache === colorMask) return;\n        this._colorMaskCache = colorMask;\n\n        this._renderer.pipeline.setColorMask(colorMask);\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n        this._colorMaskCache = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { System } from '../shared/system/System';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nexport interface GPU\n{\n    adapter: GPUAdapter;\n    device: GPUDevice;\n}\n\n/**\n * System plugin to the renderer to manage the context.\n * @class\n */\nexport class GpuDeviceSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'device',\n    } as const;\n\n    public gpu: GPU;\n\n    private _renderer: WebGPURenderer;\n    private _initPromise: Promise<void>;\n\n    /**\n     * @param {WebGPURenderer} renderer - The renderer this System works for.\n     */\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public async init(): Promise<void>\n    {\n        if (this._initPromise) return this._initPromise;\n\n        this._initPromise = this._createDeviceAndAdaptor({})\n            .then((gpu) =>\n            {\n                this.gpu = gpu;\n\n                this._renderer.runners.contextChange.emit(this.gpu);\n            });\n\n        return this._initPromise;\n    }\n\n    /**\n     * Handle the context change event\n     * @param gpu\n     */\n    protected contextChange(gpu: GPU): void\n    {\n        this._renderer.gpu = gpu;\n    }\n\n    /**\n     * Helper class to create a WebGL Context\n     * @param {object} options - An options object that gets passed in to the canvas element containing the\n     *    context attributes\n     * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext\n     * @returns {WebGLRenderingContext} the WebGL context\n     */\n    private async _createDeviceAndAdaptor(options: GPURequestAdapterOptions): Promise<GPU>\n    {\n        // TODO we only need one of these..\n        const adapter = await navigator.gpu.requestAdapter(options);\n        // TODO and one of these!\n        const device = await adapter.requestDevice();\n\n        return { adapter, device };\n    }\n\n    public destroy(): void\n    {\n        this.gpu = null;\n        this._renderer = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { Rectangle } from '../../../maths/shapes/Rectangle';\nimport type { Writeable } from '../../../utils/types';\nimport type { Buffer } from '../shared/buffer/Buffer';\nimport type { Topology } from '../shared/geometry/const';\nimport type { Geometry } from '../shared/geometry/Geometry';\nimport type { RenderTarget } from '../shared/renderTarget/RenderTarget';\nimport type { Shader } from '../shared/shader/Shader';\nimport type { UniformGroup } from '../shared/shader/UniformGroup';\nimport type { State } from '../shared/state/State';\nimport type { System } from '../shared/system/System';\nimport type { GPU } from './GpuDeviceSystem';\nimport type { GpuRenderTarget } from './renderTarget/GpuRenderTarget';\nimport type { BindGroup } from './shader/BindGroup';\nimport type { GpuProgram } from './shader/GpuProgram';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nexport class GpuEncoderSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [ExtensionType.WebGPUSystem],\n        name: 'encoder',\n    } as const;\n\n    public commandEncoder: GPUCommandEncoder;\n    public renderPassEncoder: GPURenderPassEncoder;\n    public commandFinished: Promise<void>;\n\n    private _resolveCommandFinished: (value: void) => void;\n\n    private _gpu: GPU;\n    private _boundBindGroup: Record<number, BindGroup> = Object.create(null);\n    private _boundVertexBuffer: Record<number, Buffer> = Object.create(null);\n    private _boundIndexBuffer: Buffer;\n    private _boundPipeline: GPURenderPipeline;\n\n    private readonly _renderer: WebGPURenderer;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public start(): void\n    {\n        this.commandFinished = new Promise((resolve) =>\n        {\n            this._resolveCommandFinished = resolve;\n        });\n\n        // generate a render pass description..\n        // create an encoder..\n        this.commandEncoder = this._renderer.gpu.device.createCommandEncoder();\n    }\n\n    public beginRenderPass(renderTarget: RenderTarget, gpuRenderTarget: GpuRenderTarget)\n    {\n        // TODO we should not finish a render pass each time we bind\n        // for example filters - we would want to push / pop render targets\n        if (this.renderPassEncoder)\n        {\n            this.renderPassEncoder.end();\n        }\n\n        this._clearCache();\n\n        this.renderPassEncoder = this.commandEncoder.beginRenderPass(gpuRenderTarget.descriptor);\n\n        this._setViewport(renderTarget.viewport);\n    }\n\n    private _setViewport(viewport: Rectangle): void\n    {\n        this.renderPassEncoder.setViewport(viewport.x, viewport.y, viewport.width, viewport.height, 0, 1);\n    }\n\n    public setPipelineFromGeometryProgramAndState(\n        geometry: Geometry,\n        program: GpuProgram,\n        state: any,\n        topology?: Topology,\n    ): void\n    {\n        const pipeline = this._renderer.pipeline.getPipeline(geometry, program, state, topology);\n\n        this.setPipeline(pipeline);\n    }\n\n    public setPipeline(pipeline: GPURenderPipeline)\n    {\n        if (this._boundPipeline === pipeline) return;\n        this._boundPipeline = pipeline;\n\n        this.renderPassEncoder.setPipeline(pipeline);\n    }\n\n    private _setVertexBuffer(index: number, buffer: Buffer)\n    {\n        if (this._boundVertexBuffer[index] === buffer) return;\n\n        this._boundVertexBuffer[index] = buffer;\n\n        this.renderPassEncoder.setVertexBuffer(index, this._renderer.buffer.updateBuffer(buffer));\n    }\n\n    private _setIndexBuffer(buffer: Buffer)\n    {\n        if (this._boundIndexBuffer === buffer) return;\n\n        this._boundIndexBuffer = buffer;\n\n        this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(buffer), 'uint32');\n    }\n\n    public setBindGroup(index: number, bindGroup: BindGroup, program: GpuProgram)\n    {\n        if (this._boundBindGroup[index] === bindGroup) return;\n        this._boundBindGroup[index] = bindGroup;\n\n        bindGroup.touch(this._renderer.textureGC.count);\n\n        // TODO getting the bind group works as it looks at th e assets and generates a key\n        // should this just be hidden behind a dirty flag?\n        const gpuBindGroup = this._renderer.bindGroup.getBindGroup(bindGroup, program, index);\n\n        // mark each item as having been used..\n        this.renderPassEncoder.setBindGroup(index, gpuBindGroup);\n    }\n\n    public setGeometry(geometry: Geometry)\n    {\n        for (const i in geometry.attributes)\n        {\n            const attribute = geometry.attributes[i];\n\n            this._setVertexBuffer(attribute.shaderLocation, attribute.buffer);\n        }\n\n        if (geometry.indexBuffer)\n        {\n            this._setIndexBuffer(geometry.indexBuffer);\n        }\n    }\n\n    private _setShaderBindGroups(shader: Shader, skipSync?: boolean)\n    {\n        for (const i in shader.groups)\n        {\n            const bindGroup = shader.groups[i] as BindGroup;\n\n            // update any uniforms?\n            if (!skipSync)\n            {\n                this._syncBindGroup(bindGroup);\n            }\n\n            this.setBindGroup(i as unknown as number, bindGroup, shader.gpuProgram);\n        }\n    }\n\n    private _syncBindGroup(bindGroup: BindGroup)\n    {\n        for (const j in bindGroup.resources)\n        {\n            const resource = bindGroup.resources[j];\n\n            if ((resource as UniformGroup).isUniformGroup)\n            {\n                this._renderer.uniformBuffer.updateUniformGroup(resource as UniformGroup);\n            }\n        }\n    }\n\n    public draw(options: {\n        geometry: Geometry;\n        shader: Shader;\n        state?: State;\n        topology?: Topology;\n        size?: number;\n        start?: number;\n        instanceCount?: number;\n        skipSync?: boolean;\n    })\n    {\n        const { geometry, shader, state, topology, size, start, instanceCount, skipSync } = options;\n\n        this.setPipelineFromGeometryProgramAndState(geometry, shader.gpuProgram, state, topology);\n        this.setGeometry(geometry);\n        this._setShaderBindGroups(shader, skipSync);\n\n        if (geometry.indexBuffer)\n        {\n            this.renderPassEncoder.drawIndexed(size || geometry.indexBuffer.data.length, instanceCount || 1, start || 0);\n        }\n        else\n        {\n            this.renderPassEncoder.draw(size || geometry.getSize(), instanceCount || 1, start || 0);\n        }\n    }\n\n    public finishRenderPass()\n    {\n        if (this.renderPassEncoder)\n        {\n            this.renderPassEncoder.end();\n            this.renderPassEncoder = null;\n        }\n    }\n\n    public postrender()\n    {\n        this.finishRenderPass();\n\n        this._gpu.device.queue.submit([this.commandEncoder.finish()]);\n\n        this._resolveCommandFinished();\n    }\n\n    // restores a render pass if finishRenderPass was called\n    // not optimised as really used for debugging!\n    // used when we want to stop drawing and log a texture..\n    public restoreRenderPass()\n    {\n        const descriptor = this._renderer.renderTarget.getDescriptor(\n            this._renderer.renderTarget.renderTarget,\n            false,\n            [0, 0, 0, 1],\n        );\n\n        this.renderPassEncoder = this.commandEncoder.beginRenderPass(descriptor);\n\n        const boundPipeline = this._boundPipeline;\n        const boundVertexBuffer = { ...this._boundVertexBuffer };\n        const boundIndexBuffer = this._boundIndexBuffer;\n        const boundBindGroup = { ...this._boundBindGroup };\n\n        this._clearCache();\n\n        const viewport = this._renderer.renderTarget.renderTarget.viewport;\n\n        this.renderPassEncoder.setViewport(viewport.x, viewport.y, viewport.width, viewport.height, 0, 1);\n\n        // reinstate the cache...\n\n        this.setPipeline(boundPipeline);\n\n        for (const i in boundVertexBuffer)\n        {\n            this._setVertexBuffer(i as unknown as number, boundVertexBuffer[i]);\n        }\n\n        for (const i in boundBindGroup)\n        {\n            this.setBindGroup(i as unknown as number, boundBindGroup[i], null);\n        }\n\n        this._setIndexBuffer(boundIndexBuffer);\n    }\n\n    private _clearCache()\n    {\n        for (let i = 0; i < 16; i++)\n        {\n            this._boundBindGroup[i] = null;\n            this._boundVertexBuffer[i] = null;\n        }\n\n        this._boundIndexBuffer = null;\n        this._boundPipeline = null;\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n        this._gpu = null;\n        this._boundBindGroup = null;\n        this._boundVertexBuffer = null;\n        this._boundIndexBuffer = null;\n        this._boundPipeline = null;\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { STENCIL_MODES } from '../shared/state/const';\n\nimport type { Writeable } from '../../../utils/types';\nimport type { RenderTarget } from '../shared/renderTarget/RenderTarget';\nimport type { System } from '../shared/system/System';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nexport class GpuStencilSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'stencil',\n    } as const;\n\n    private readonly _renderer: WebGPURenderer;\n\n    private _renderTargetStencilState: Record<number, {\n        stencilMode: STENCIL_MODES;\n        stencilReference: number;\n    }> = Object.create(null);\n\n    private _activeRenderTarget: RenderTarget;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n\n        renderer.renderTarget.onRenderTargetChange.add(this);\n    }\n\n    protected onRenderTargetChange(renderTarget: RenderTarget)\n    {\n        let stencilState = this._renderTargetStencilState[renderTarget.uid];\n\n        if (!stencilState)\n        {\n            stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n                stencilMode: STENCIL_MODES.DISABLED,\n                stencilReference: 0,\n            };\n        }\n\n        this._activeRenderTarget = renderTarget;\n\n        this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n    }\n\n    public setStencilMode(stencilMode: STENCIL_MODES, stencilReference: number)\n    {\n        const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n\n        stencilState.stencilMode = stencilMode;\n        stencilState.stencilReference = stencilReference;\n\n        const renderer = this._renderer;\n\n        renderer.pipeline.setStencilMode(stencilMode);\n        renderer.encoder.renderPassEncoder.setStencilReference(stencilReference);\n    }\n\n    public destroy()\n    {\n        this._renderer.renderTarget.onRenderTargetChange.remove(this);\n\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n\n        this._activeRenderTarget = null;\n        this._renderTargetStencilState = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Buffer } from '../shared/buffer/Buffer';\nimport { BufferResource } from '../shared/buffer/BufferResource';\nimport { BufferUsage } from '../shared/buffer/const';\nimport { UniformBufferBatch } from './buffer/UniformBufferBatch';\nimport { BindGroup } from './shader/BindGroup';\n\nimport type { UniformGroup } from '../shared/shader/UniformGroup';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nconst minUniformOffsetAlignment = 128;// 256 / 2;\n\n// TODO renderStart and renderFinish - perhaps just make them instructions to fit the architecture of the\n// rest of the system\nexport class GpuUniformBatchPipe\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipes,\n        ],\n        name: 'uniformBatch',\n    } as const;\n\n    private _renderer: WebGPURenderer;\n\n    private _bindGroupHash: Record<number, BindGroup> = Object.create(null);\n    private readonly _batchBuffer: UniformBufferBatch;\n\n    // number of buffers..\n    private _buffers: Buffer[] = [];\n\n    private _bindGroups: BindGroup[] = [];\n    private _bufferResources: BufferResource[] = [];\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n\n        this._batchBuffer = new UniformBufferBatch({ minUniformOffsetAlignment });\n\n        const totalBuffers = (256 / minUniformOffsetAlignment);\n\n        for (let i = 0; i < totalBuffers; i++)\n        {\n            let usage = BufferUsage.UNIFORM | BufferUsage.COPY_DST;\n\n            if (i === 0) usage |= BufferUsage.COPY_SRC;\n\n            this._buffers.push(new Buffer({\n                data: this._batchBuffer.data,\n                usage\n            }));\n        }\n    }\n\n    public renderEnd()\n    {\n        this._uploadBindGroups();\n        this._resetBindGroups();\n    }\n\n    private _resetBindGroups()\n    {\n        for (const i in this._bindGroupHash)\n        {\n            this._bindGroupHash[i] = null;\n        }\n\n        this._batchBuffer.clear();\n    }\n\n    // just works for single bind groups for now\n    public getUniformBindGroup(group: UniformGroup<any>, duplicate: boolean): BindGroup\n    {\n        if (!duplicate && this._bindGroupHash[group.uid])\n        {\n            return this._bindGroupHash[group.uid];\n        }\n\n        this._renderer.uniformBuffer.ensureUniformGroup(group);\n\n        const data = group.buffer.data as Float32Array;\n\n        const offset = this._batchBuffer.addEmptyGroup(data.length);\n\n        this._renderer.uniformBuffer.syncUniformGroup(group, this._batchBuffer.data, offset / 4);\n\n        this._bindGroupHash[group.uid] = this._getBindGroup(offset / minUniformOffsetAlignment);\n\n        return this._bindGroupHash[group.uid];\n    }\n\n    public getUniformBufferResource(group: UniformGroup<any>): BufferResource\n    {\n        this._renderer.uniformBuffer.updateUniformGroup(group);\n\n        const data = group.buffer.data as Float32Array;\n\n        const offset = this._batchBuffer.addGroup(data);\n\n        return this._getBufferResource(offset / minUniformOffsetAlignment);\n    }\n\n    public getArrayBindGroup(data: Float32Array): BindGroup\n    {\n        const offset = this._batchBuffer.addGroup(data);\n\n        return this._getBindGroup(offset / minUniformOffsetAlignment);\n    }\n\n    public getArrayBufferResource(data: Float32Array): BufferResource\n    {\n        const offset = this._batchBuffer.addGroup(data);\n\n        const index = offset / minUniformOffsetAlignment;\n\n        return this._getBufferResource(index);\n    }\n\n    private _getBufferResource(index: number): BufferResource\n    {\n        if (!this._bufferResources[index])\n        {\n            const buffer = this._buffers[index % 2];\n\n            this._bufferResources[index] = new BufferResource({\n                buffer,\n                offset: ((index / 2) | 0) * 256,\n                size: minUniformOffsetAlignment\n            });\n        }\n\n        return this._bufferResources[index];\n    }\n\n    private _getBindGroup(index: number): BindGroup\n    {\n        if (!this._bindGroups[index])\n        {\n            // even!\n            const bindGroup = new BindGroup({\n                0: this._getBufferResource(index),\n            });\n\n            this._bindGroups[index] = bindGroup;\n        }\n\n        return this._bindGroups[index];\n    }\n\n    private _uploadBindGroups()\n    {\n        const bufferSystem = this._renderer.buffer;\n\n        const firstBuffer = this._buffers[0];\n\n        firstBuffer.update(this._batchBuffer.byteIndex);\n\n        bufferSystem.updateBuffer(firstBuffer);\n\n        const commandEncoder = this._renderer.gpu.device.createCommandEncoder();\n\n        for (let i = 1; i < this._buffers.length; i++)\n        {\n            const buffer = this._buffers[i];\n\n            commandEncoder.copyBufferToBuffer(\n                bufferSystem.getGPUBuffer(firstBuffer),\n                minUniformOffsetAlignment,\n                bufferSystem.getGPUBuffer(buffer),\n                0,\n                this._batchBuffer.byteIndex\n            );\n        }\n\n        // TODO make a system that will que up all commands in to one array?\n        this._renderer.gpu.device.queue.submit([commandEncoder.finish()]);\n    }\n\n    public destroy()\n    {\n        for (let i = 0; i < this._bindGroups.length; i++)\n        {\n            this._bindGroups[i].destroy();\n        }\n\n        this._bindGroups = null;\n        this._bindGroupHash = null;\n\n        for (let i = 0; i < this._buffers.length; i++)\n        {\n            this._buffers[i].destroy();\n        }\n        this._buffers = null;\n\n        for (let i = 0; i < this._bufferResources.length; i++)\n        {\n            this._bufferResources[i].destroy();\n        }\n\n        this._bufferResources = null;\n\n        this._batchBuffer.destroy();\n        this._bindGroupHash = null;\n\n        this._renderer = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { Buffer } from '../shared/buffer/Buffer';\nimport { BufferUsage } from '../shared/buffer/const';\nimport { BindGroup } from './shader/BindGroup';\n\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { UniformGroup } from '../shared/shader/UniformGroup';\nimport type { WebGPURenderer } from './WebGPURenderer';\n\nclass UniformBindGroup extends BindGroup\n{\n    constructor()\n    {\n        super({\n            0: new Buffer({\n                data: new Float32Array(128),\n                usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST,\n            }),\n        });\n    }\n\n    get buffer(): Buffer\n    {\n        return this.resources[0] as Buffer;\n    }\n\n    get data(): Float32Array\n    {\n        return (this.resources[0] as Buffer).data as Float32Array;\n    }\n}\n\nexport class GpuUniformBufferPipe\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipes,\n        ],\n        name: 'uniformBuffer',\n    } as const;\n\n    private _activeBindGroups: BindGroup[] = [];\n    private _activeBindGroupIndex = 0;\n    private readonly _renderer: WebGPURenderer;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public getUniformBindGroup(uniformGroup: UniformGroup)\n    {\n        const renderer = this._renderer;\n\n        renderer.uniformBuffer.ensureUniformGroup(uniformGroup);\n\n        const bindGroup = BigPool.get(UniformBindGroup);\n\n        renderer.uniformBuffer.syncUniformGroup(uniformGroup, bindGroup.data, 0);\n\n        bindGroup.buffer.update(uniformGroup.buffer.data.byteLength);\n\n        this._activeBindGroups[this._activeBindGroupIndex++] = bindGroup;\n\n        return bindGroup;\n    }\n\n    public renderEnd()\n    {\n        for (let i = 0; i < this._activeBindGroupIndex; i++)\n        {\n            BigPool.return(this._activeBindGroups[i] as PoolItem);\n        }\n\n        this._activeBindGroupIndex = 0;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { STENCIL_MODES } from '../../shared/state/const';\nimport { createIdFromString } from '../../shared/utils/createIdFromString';\nimport { GpuStencilModesToPixi } from '../state/GpuStencilModesToPixi';\n\nimport type { Writeable } from '../../../../utils/types';\nimport type { Topology } from '../../shared/geometry/const';\nimport type { Geometry } from '../../shared/geometry/Geometry';\nimport type { State } from '../../shared/state/State';\nimport type { System } from '../../shared/system/System';\nimport type { GPU } from '../GpuDeviceSystem';\nimport type { GpuProgram } from '../shader/GpuProgram';\nimport type { WebGPURenderer } from '../WebGPURenderer';\n\nconst topologyStringToId = {\n    'point-list': 0,\n    'line-list': 1,\n    'line-strip': 2,\n    'triangle-list': 3,\n    'triangle-strip': 4,\n};\n\n// TODO use BIG int to manage the ids\n// TODO can group the static ones together\n\n// geometryLayouts = 256; // 8 bits // 256 states // value 0-255;\n// shaderKeys = 256; // 8 bits // 256 states // value 0-255;\n// colorMask = 16;// 4 bits // 16 states // value 0-15;\n// state = 64; // 6 bits // 64 states // value 0-63;\n// blendMode = 32; // 5 bits // 32 states // value 0-31;\n// topology = 8; // 3 bits // 8 states // value 0-7;\n// stencilState = 8; // 3 bits // 8 states // value 0-7;\n// multiSampleCount = 1; // 1 bit // 2 states // value 0-1;\n// total bit 34;\n\nfunction getKey(\n    geometryId: number,\n    programId: number,\n    stateId: number,\n    blendModeId: number,\n    stencilStateId: number,\n    multiSampleCount: number,\n    colorMask: number,\n    topology: number,\n)\n{\n    return (\n        (geometryId << 26)\n        | (programId << 18)\n        | (colorMask << 14)\n        | (stateId << 8)\n        | (blendModeId << 3)\n        | (topology << 1)\n        | (stencilStateId << 4)\n        | multiSampleCount\n    );\n}\nexport class PipelineSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [ExtensionType.WebGPUSystem],\n        name: 'pipeline',\n    } as const;\n    private readonly _renderer: WebGPURenderer;\n\n    protected CONTEXT_UID: number;\n\n    private _moduleCache: Record<string, GPUShaderModule> = Object.create(null);\n    private _bufferLayoutsCache: Record<number, GPUVertexBufferLayout[]> = Object.create(null);\n\n    private _pipeCache: Record<number, GPURenderPipeline> = Object.create(null);\n\n    private _gpu: GPU;\n    private _stencilState: GPUDepthStencilState;\n\n    private _stencilMode: STENCIL_MODES;\n    private _colorMask = 0b1111;\n    private _multisampleCount = 1;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n        this.setStencilMode(STENCIL_MODES.DISABLED);\n    }\n\n    public setMultisampleCount(multisampleCount: number): void\n    {\n        this._multisampleCount = multisampleCount;\n    }\n\n    public setColorMask(colorMask: number): void\n    {\n        this._colorMask = colorMask;\n    }\n\n    public setStencilMode(stencilMode: STENCIL_MODES): void\n    {\n        this._stencilMode = stencilMode;\n        this._stencilState = GpuStencilModesToPixi[stencilMode];\n    }\n\n    public setPipeline(geometry: Geometry, program: GpuProgram, state: State, passEncoder: GPURenderPassEncoder): void\n    {\n        const pipeline = this.getPipeline(geometry, program, state);\n\n        passEncoder.setPipeline(pipeline);\n    }\n\n    public getPipeline(\n        geometry: Geometry,\n        program: GpuProgram,\n        state: State,\n        topology?: Topology,\n    ): GPURenderPipeline\n    {\n        if (!geometry._layoutKey)\n        {\n            // prepare the geometry for the pipeline\n            this._generateBufferKey(geometry);\n        }\n\n        if (!program._layoutKey)\n        {\n            // prepare the program for the pipeline\n            this._generateProgramKey(program);\n            this._renderer.shader.createProgramLayout(program);\n        }\n\n        topology = topology || geometry.topology;\n\n        // now we have set the Ids - the key is different...\n        // eslint-disable-next-line max-len\n        const key = getKey(\n            geometry._layoutKey,\n            program._layoutKey,\n            state.data,\n            state._blendModeId,\n            this._stencilMode,\n            this._multisampleCount,\n            this._colorMask,\n            topologyStringToId[topology],\n        );\n\n        if (this._pipeCache[key]) return this._pipeCache[key];\n\n        this._pipeCache[key] = this._createPipeline(geometry, program, state, topology);\n\n        return this._pipeCache[key];\n    }\n\n    private _createPipeline(geometry: Geometry, program: GpuProgram, state: State, topology: Topology): GPURenderPipeline\n    {\n        const device = this._gpu.device;\n\n        const buffers = this._createVertexBufferLayouts(geometry);\n\n        const blendModes = this._renderer.state.getColorTargets(state);\n\n        let depthStencil = this._stencilState;\n\n        // mask states..\n        depthStencil = GpuStencilModesToPixi[this._stencilMode];\n\n        blendModes[0].writeMask = this._stencilMode === STENCIL_MODES.RENDERING_MASK_ADD ? 0 : this._colorMask;\n\n        const descriptor: GPURenderPipelineDescriptor = {\n            // TODO later check if its helpful to create..\n            // layout,\n            vertex: {\n                module: this._getModule(program.vertex.source),\n                entryPoint: program.vertex.entryPoint,\n                // geometry..\n                buffers,\n            },\n            fragment: {\n                module: this._getModule(program.fragment.source),\n                entryPoint: program.fragment.entryPoint,\n                targets: blendModes,\n            },\n            primitive: {\n                topology,\n                cullMode: state.cullMode,\n            },\n            layout: program._gpuLayout.pipeline,\n            multisample: {\n                count: this._multisampleCount,\n            },\n            depthStencil,\n            label: `PIXI Pipeline`,\n        };\n\n        const pipeline = device.createRenderPipeline(descriptor);\n\n        return pipeline;\n    }\n\n    private _getModule(code: string): GPUShaderModule\n    {\n        return this._moduleCache[code] || this._createModule(code);\n    }\n\n    private _createModule(code: string): GPUShaderModule\n    {\n        const device = this._gpu.device;\n\n        this._moduleCache[code] = device.createShaderModule({\n            code,\n        });\n\n        return this._moduleCache[code];\n    }\n\n    private _generateProgramKey(program: GpuProgram): number\n    {\n        const { vertex, fragment } = program;\n\n        const bigKey = vertex.source + fragment.source + vertex.entryPoint + fragment.entryPoint;\n\n        program._layoutKey = createIdFromString(bigKey, 'program');\n\n        return program._layoutKey;\n    }\n\n    private _generateBufferKey(geometry: Geometry): number\n    {\n        const keyGen = [];\n        let index = 0;\n        // generate a key..\n\n        const attributeKeys = Object.keys(geometry.attributes).sort();\n\n        for (let i = 0; i < attributeKeys.length; i++)\n        {\n            const attribute = geometry.attributes[attributeKeys[i]];\n\n            keyGen[index++] = attribute.shaderLocation;\n            keyGen[index++] = attribute.offset;\n            keyGen[index++] = attribute.format;\n            keyGen[index++] = attribute.stride;\n        }\n\n        const stringKey = keyGen.join('');\n\n        geometry._layoutKey = createIdFromString(stringKey, 'geometry');\n\n        return geometry._layoutKey;\n    }\n\n    private _createVertexBufferLayouts(geometry: Geometry): GPUVertexBufferLayout[]\n    {\n        if (this._bufferLayoutsCache[geometry._layoutKey])\n        {\n            return this._bufferLayoutsCache[geometry._layoutKey];\n        }\n\n        const vertexBuffersLayout: GPUVertexBufferLayout[] = [];\n\n        geometry.buffers.forEach((buffer) =>\n        {\n            const bufferEntry: GPUVertexBufferLayout = {\n                arrayStride: 0,\n                stepMode: 'vertex',\n                attributes: [],\n            };\n\n            const bufferEntryAttributes = bufferEntry.attributes as GPUVertexAttribute[];\n\n            for (const i in geometry.attributes)\n            {\n                const attribute = geometry.attributes[i];\n\n                if (attribute.buffer === buffer)\n                {\n                    bufferEntry.arrayStride = attribute.stride;\n\n                    bufferEntryAttributes.push({\n                        shaderLocation: attribute.shaderLocation,\n                        offset: attribute.offset,\n                        format: attribute.format,\n                    });\n                }\n            }\n\n            if (bufferEntryAttributes.length)\n            {\n                vertexBuffersLayout.push(bufferEntry);\n            }\n        });\n\n        this._bufferLayoutsCache[geometry._layoutKey] = vertexBuffersLayout;\n\n        return vertexBuffersLayout;\n    }\n\n    public destroy(): void\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n        this._bufferLayoutsCache = null;\n    }\n}\n","import type { TextureSource } from '../../shared/texture/sources/TextureSource';\n\nexport class GpuRenderTarget\n{\n    public contexts: GPUCanvasContext[] = [];\n    public msaaTextures: TextureSource[] = [];\n    public msaa: boolean;\n    public msaaSamples = 1;\n    public width: number;\n    public height: number;\n    public descriptor: GPURenderPassDescriptor;\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { CLEAR } from '../../gl/const';\nimport { isRenderingToScreen } from '../../shared/renderTarget/isRenderingToScreen';\nimport { RenderTarget } from '../../shared/renderTarget/RenderTarget';\nimport { SystemRunner } from '../../shared/system/SystemRunner';\nimport { TextureSource } from '../../shared/texture/sources/TextureSource';\nimport { Texture } from '../../shared/texture/Texture';\nimport { getCanvasTexture } from '../../shared/texture/utils/getCanvasTexture';\nimport { GpuRenderTarget } from './GpuRenderTarget';\n\nimport type { RgbaArray } from '../../../../color/Color';\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { Writeable } from '../../../../utils/types';\nimport type { CLEAR_OR_BOOL } from '../../gl/const';\nimport type { System } from '../../shared/system/System';\nimport type { BindableTexture } from '../../shared/texture/Texture';\nimport type { GPU } from '../GpuDeviceSystem';\nimport type { WebGPURenderer } from '../WebGPURenderer';\n\nexport type RenderSurface = ICanvas | BindableTexture | RenderTarget;\n\nexport class GpuRenderTargetSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [ExtensionType.WebGPUSystem],\n        name: 'renderTarget',\n    } as const;\n\n    public rootRenderTarget: RenderTarget;\n    public renderingToScreen: boolean;\n    public rootProjectionMatrix = new Matrix();\n    public renderTarget: RenderTarget;\n    public onRenderTargetChange = new SystemRunner('onRenderTargetChange');\n\n    private readonly _renderSurfaceToRenderTargetHash: Map<RenderSurface, RenderTarget>\n        = new Map();\n    private _gpuRenderTargetHash: Record<number, GpuRenderTarget> = Object.create(null);\n\n    private readonly _renderTargetStack: RenderTarget[] = [];\n    private readonly _renderer: WebGPURenderer;\n    private readonly _defaultClearColor: RgbaArray = [0, 0, 0, 0];\n\n    private _gpu: GPU;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public renderStart({\n        target,\n        clear,\n        clearColor,\n    }: {\n        target: RenderSurface;\n        clear: CLEAR_OR_BOOL;\n        clearColor: RgbaArray;\n    }): void\n    {\n        // generate a render pass description..\n        // create an encoder..\n\n        this.rootRenderTarget = this.getRenderTarget(target);\n        this.rootProjectionMatrix = this.rootRenderTarget.projectionMatrix;\n\n        this.renderingToScreen = isRenderingToScreen(this.rootRenderTarget);\n\n        this._renderTargetStack.length = 0;\n\n        this._renderer.encoder.start();\n\n        this.push(\n            this.rootRenderTarget,\n            clear,\n            clearColor ?? this._renderer.background.colorRgba\n        );\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n\n    public bind(\n        renderSurface: RenderSurface,\n        clear: CLEAR_OR_BOOL = true,\n        clearColor?: RgbaArray\n    ): RenderTarget\n    {\n        const renderTarget = this.getRenderTarget(renderSurface);\n\n        const didChange = this.renderTarget !== renderTarget;\n\n        this.renderTarget = renderTarget;\n\n        this._startRenderPass(clear, clearColor);\n\n        if (didChange)\n        {\n            this.onRenderTargetChange.emit(renderTarget);\n        }\n\n        return renderTarget;\n    }\n\n    /**\n     * returns the gpu texture for the first color texture in the render target\n     * mainly used by the filter manager to get copy the texture for blending\n     * @param renderTarget\n     * @returns a gpu texture\n     */\n    private _getGpuColorTexture(renderTarget: RenderTarget): GPUTexture\n    {\n        const gpuRenderTarget = this._getGpuRenderTarget(renderTarget);\n\n        if (gpuRenderTarget.contexts[0])\n        {\n            return gpuRenderTarget.contexts[0].getCurrentTexture();\n        }\n\n        return this._renderer.texture.getGpuSource(\n            renderTarget.colorTextures[0].source\n        );\n    }\n\n    public getDescriptor(\n        renderTarget: RenderTarget,\n        clear: CLEAR_OR_BOOL,\n        clearValue: RgbaArray\n    ): GPURenderPassDescriptor\n    {\n        if (typeof clear === 'boolean')\n        {\n            clear = clear ? CLEAR.ALL : CLEAR.NONE;\n        }\n\n        const gpuRenderTarget = this._getGpuRenderTarget(renderTarget);\n\n        const colorAttachments = renderTarget.colorTextures.map(\n            (texture, i) =>\n            {\n                const context = gpuRenderTarget.contexts[i];\n\n                let view: GPUTextureView;\n                let resolveTarget: GPUTextureView;\n\n                if (context)\n                {\n                    const currentTexture = context.getCurrentTexture();\n\n                    const canvasTextureView = currentTexture.createView();\n\n                    view = canvasTextureView;\n                }\n                else\n                {\n                    view = this._renderer.texture.getTextureView(texture);\n                }\n\n                if (gpuRenderTarget.msaaTextures[i])\n                {\n                    resolveTarget = view;\n                    view = this._renderer.texture.getTextureView(\n                        gpuRenderTarget.msaaTextures[i]\n                    );\n                }\n\n                const loadOp = ((clear as CLEAR) & CLEAR.COLOR ? 'clear' : 'load') as GPULoadOp;\n\n                clearValue ??= this._defaultClearColor;\n\n                return {\n                    view, // assign each frame based on the swap chain!\n                    resolveTarget,\n                    clearValue,\n                    storeOp: 'store',\n                    loadOp\n                };\n            }\n        ) as GPURenderPassColorAttachment[];\n\n        let depthStencilAttachment;\n\n        if (renderTarget.depthTexture)\n        {\n            const stencilLoadOp = (clear & CLEAR.STENCIL ? 'clear' : 'load') as GPULoadOp;\n\n            depthStencilAttachment = {\n                view: this._renderer.texture\n                    .getGpuSource(renderTarget.depthTexture.source)\n                    .createView(),\n                stencilStoreOp: 'store' as GPUStoreOp,\n                stencilLoadOp,\n            };\n        }\n\n        const descriptor: GPURenderPassDescriptor = {\n            colorAttachments,\n            depthStencilAttachment,\n        };\n\n        return descriptor;\n    }\n\n    public clear(\n        clear: CLEAR_OR_BOOL = CLEAR.ALL,\n        clearColor?: RgbaArray\n    )\n    {\n        if (!clear) return;\n\n        this._startRenderPass(\n            clear,\n            clearColor\n        );\n    }\n\n    public push(renderSurface: RenderSurface, clear: CLEAR | boolean = CLEAR.ALL, clearColor?: RgbaArray)\n    {\n        const renderTarget = this.bind(renderSurface, clear, clearColor);\n\n        this._renderTargetStack.push(renderTarget);\n\n        return renderTarget;\n    }\n\n    public pop()\n    {\n        this._renderTargetStack.pop();\n\n        this.bind(\n            this._renderTargetStack[this._renderTargetStack.length - 1],\n            false\n        );\n    }\n\n    public getRenderTarget(renderSurface: RenderSurface): RenderTarget\n    {\n        return (\n            this._renderSurfaceToRenderTargetHash.get(renderSurface)\n            ?? this._initRenderTarget(renderSurface)\n        );\n    }\n\n    public copyToTexture(\n        sourceRenderSurfaceTexture: RenderTarget,\n        destinationTexture: Texture,\n        origin: { x: number; y: number },\n        size: { width: number; height: number }\n    )\n    {\n        const renderer = this._renderer;\n\n        const baseGpuTexture = renderer.renderTarget._getGpuColorTexture(\n            sourceRenderSurfaceTexture\n        );\n        const backGpuTexture = renderer.texture.getGpuSource(\n            destinationTexture.source\n        );\n\n        renderer.encoder.commandEncoder.copyTextureToTexture(\n            {\n                texture: baseGpuTexture,\n                origin,\n            },\n            {\n                texture: backGpuTexture,\n            },\n            size\n        );\n\n        return destinationTexture;\n    }\n\n    public restart()\n    {\n        this.bind(this.rootRenderTarget, CLEAR.NONE);\n    }\n\n    public destroy()\n    {\n        const writeable = this as Writeable<typeof this, '_renderer'>;\n\n        writeable._renderer = null;\n        this._renderSurfaceToRenderTargetHash.clear();\n    }\n\n    private _startRenderPass(\n        clear: CLEAR_OR_BOOL = true,\n        clearColor?: RgbaArray\n    )\n    {\n        const renderTarget = this.renderTarget;\n\n        const gpuRenderTarget = this._getGpuRenderTarget(renderTarget);\n\n        if (\n            renderTarget.width !== gpuRenderTarget.width\n            || renderTarget.height !== gpuRenderTarget.height\n        )\n        {\n            this._resizeGpuRenderTarget(renderTarget);\n        }\n\n        const descriptor = this.getDescriptor(renderTarget, clear, clearColor);\n\n        gpuRenderTarget.descriptor = descriptor;\n\n        // TODO we should not finish a render pass each time we bind\n        // for example filters - we would want to push / pop render targets\n        this._renderer.encoder.beginRenderPass(renderTarget, gpuRenderTarget);\n        this._renderer.pipeline.setMultisampleCount(gpuRenderTarget.msaaSamples);\n    }\n\n    private _initRenderTarget(renderSurface: RenderSurface): RenderTarget\n    {\n        let renderTarget = null;\n\n        if (renderSurface instanceof HTMLCanvasElement)\n        {\n            renderSurface = getCanvasTexture(renderSurface as ICanvas);\n        }\n\n        if (renderSurface instanceof RenderTarget)\n        {\n            renderTarget = renderSurface;\n        }\n        else if (renderSurface instanceof Texture)\n        {\n            renderTarget = new RenderTarget({\n                colorTextures: [renderSurface],\n                depthTexture: renderSurface.source.depthStencil,\n            });\n        }\n\n        renderTarget.isRoot = true;\n\n        this._renderSurfaceToRenderTargetHash.set(renderSurface, renderTarget);\n\n        return renderTarget;\n    }\n\n    private _getGpuRenderTarget(renderTarget: RenderTarget)\n    {\n        return (\n            this._gpuRenderTargetHash[renderTarget.uid]\n            || this._initGpuRenderTarget(renderTarget)\n        );\n    }\n\n    private _initGpuRenderTarget(renderTarget: RenderTarget): GpuRenderTarget\n    {\n        // always false for WebGPU\n        renderTarget.isRoot = true;\n\n        const gpuRenderTarget = new GpuRenderTarget();\n\n        // create a context...\n        // is a canvas...\n\n        renderTarget.colorTextures.forEach((colorTexture, i) =>\n        {\n            if (colorTexture.source.resource instanceof HTMLCanvasElement)\n            {\n                const context\n                    = renderTarget.colorTexture.source.resource.getContext(\n                        'webgpu'\n                    ) as unknown as GPUCanvasContext;\n\n                try\n                {\n                    context.configure({\n                        device: this._gpu.device,\n                        // eslint-disable-next-line max-len\n                        usage:\n                            GPUTextureUsage.TEXTURE_BINDING\n                            | GPUTextureUsage.COPY_DST\n                            | GPUTextureUsage.RENDER_ATTACHMENT\n                            | GPUTextureUsage.COPY_SRC,\n                        format: 'bgra8unorm',\n                        alphaMode: 'opaque',\n                    });\n                }\n                catch (e)\n                {\n                    console.error(e);\n                }\n\n                gpuRenderTarget.contexts[i] = context;\n            }\n\n            gpuRenderTarget.msaa = colorTexture.source.antialias;\n\n            if (colorTexture.source.antialias)\n            {\n                const msaaTexture = new TextureSource({\n                    width: 0,\n                    height: 0,\n                    sampleCount: 4,\n                });\n\n                gpuRenderTarget.msaaTextures[i] = msaaTexture;\n            }\n        });\n\n        if (gpuRenderTarget.msaa)\n        {\n            gpuRenderTarget.msaaSamples = 4;\n\n            if (renderTarget.depthTexture)\n            {\n                renderTarget.depthTexture.source.sampleCount = 4;\n            }\n        }\n\n        this._gpuRenderTargetHash[renderTarget.uid] = gpuRenderTarget;\n\n        return gpuRenderTarget;\n    }\n\n    private _resizeGpuRenderTarget(renderTarget: RenderTarget)\n    {\n        const gpuRenderTarget = this._getGpuRenderTarget(renderTarget);\n\n        gpuRenderTarget.width = renderTarget.width;\n        gpuRenderTarget.height = renderTarget.height;\n\n        if (gpuRenderTarget.msaa)\n        {\n            renderTarget.colorTextures.forEach((colorTexture, i) =>\n            {\n                const msaaTexture = gpuRenderTarget.msaaTextures[i];\n\n                msaaTexture?.resize(\n                    colorTexture.source.width,\n                    colorTexture.source.height,\n                    colorTexture.source._resolution\n                );\n            });\n        }\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { System } from '../../shared/system/System';\nimport type { GPU } from '../GpuDeviceSystem';\nimport type { GpuProgram } from './GpuProgram';\n\nexport class GpuShaderSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'shader',\n    } as const;\n\n    private _gpu: GPU;\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n\n    public createProgramLayout(program: GpuProgram)\n    {\n        const device = this._gpu.device;\n\n        // TODO rename this... confusing with the below.. gpuLayout is defined by the user\n        if (!program._gpuLayout)\n        {\n            if (program.gpuLayout)\n            {\n                const bindGroups = program.gpuLayout.map((group) => device.createBindGroupLayout({ entries: group }));\n\n                const pipelineLayoutDesc = { bindGroupLayouts: bindGroups };\n\n                // TODO - this group should be reused for all programs, look into a cache / key setup\n                program._gpuLayout = {\n                    bindGroups,\n                    pipeline: device.createPipelineLayout(pipelineLayoutDesc),\n                };\n            }\n            else\n            {\n                program._gpuLayout = {\n                    bindGroups: null,\n                    pipeline: 'auto',\n                };\n            }\n        }\n    }\n\n    public destroy(): void\n    {\n        this._gpu = null;\n    }\n}\n","import type { BLEND_MODES } from '../../shared/state/const';\n\nexport const GpuBlendModesToPixi: Partial<Record<BLEND_MODES, GPUBlendState>> = {};\n\nGpuBlendModesToPixi.normal = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.add = {\n    alpha: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.multiply = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'dst',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.screen = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.overlay = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.none = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'zero',\n        dstFactor: 'zero',\n        operation: 'add',\n    },\n};\n\n// not-premultiplied blend modes\nGpuBlendModesToPixi['normal-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi['add-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi['screen-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.erase = {\n    alpha: {\n        srcFactor: 'zero',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'zero',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\n// composite operations\n// GpuBlendModesToPixi[BLEND_MODES.SRC_IN] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'dst-alpha',\n//         dstFactor: 'zero',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.SRC_OUT] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'zero',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.SRC_ATOP] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_OVER] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_IN] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'zero',\n//         dstFactor: 'src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_OUT] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'zero',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_ATOP] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.XOR] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// TODO - fix me\n// GLBlendModesToPixi[BLEND_MODES.SUBTRACT] = {\n//     alpha: {\n//         srcFactor: 'one',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { State } from '../../shared/state/State';\nimport { GpuBlendModesToPixi } from './GpuBlendModesToPixi';\n\nimport type { BLEND_MODES } from '../../shared/state/const';\nimport type { System } from '../../shared/system/System';\nimport type { GPU } from '../GpuDeviceSystem';\n\n/** System plugin to the renderer to manage WebGL state machines. */\nexport class GpuStateSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'state',\n    } as const;\n    /**\n     * State ID\n     * @readonly\n     */\n    public stateId: number;\n\n    /**\n     * Polygon offset\n     * @readonly\n     */\n    public polygonOffset: number;\n\n    /**\n     * Blend mode\n     * @default 'none'\n     * @readonly\n     */\n    public blendMode: BLEND_MODES;\n\n    /** Whether current blend equation is different */\n    protected _blendEq: boolean;\n\n    /**\n     * GL context\n     * @member {WebGLRenderingContext}\n     * @readonly\n     */\n    protected gpu: GPU;\n\n    /**\n     * Default WebGL State\n     * @readonly\n     */\n    protected defaultState: State;\n\n    constructor()\n    {\n        this.defaultState = new State();\n        this.defaultState.blend = true;\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this.gpu = gpu;\n    }\n\n    public getColorTargets(state: State): GPUColorTargetState[]\n    {\n        const blend = GpuBlendModesToPixi[state.blendMode] || GpuBlendModesToPixi.normal;\n\n        return [\n            {\n                format: 'bgra8unorm',\n                writeMask: 0,\n                blend,\n            },\n        ];\n    }\n\n    public destroy(): void\n    {\n        this.gpu = null;\n    }\n}\n","import type { BufferImageSource } from '../../../shared/texture/sources/BufferImageSource';\nimport type { GPU } from '../../GpuDeviceSystem';\nimport type { GpuTextureUploader } from './GpuTextureUploader';\n\nexport const gpuUploadBufferImageResource = {\n\n    type: 'image',\n\n    upload(source: BufferImageSource, gpuTexture: GPUTexture, gpu: GPU)\n    {\n        const resource = source.resource;\n\n        const total = (source.pixelWidth | 0) * (source.pixelHeight | 0);\n\n        const bytesPerPixel = resource.byteLength / total;\n\n        gpu.device.queue.writeTexture(\n            { texture: gpuTexture },\n            resource,\n            {\n                offset: 0,\n                rowsPerImage: source.pixelWidth,\n                bytesPerRow: source.pixelWidth * bytesPerPixel,\n            },\n            {\n                width: source.pixelWidth,\n                height: source.pixelHeight,\n                depthOrArrayLayers: 1,\n            }\n        );\n    }\n} as GpuTextureUploader<BufferImageSource>;\n\n","import type { TextureSource } from '../../../shared/texture/sources/TextureSource';\nimport type { GPU } from '../../GpuDeviceSystem';\nimport type { GpuTextureUploader } from './GpuTextureUploader';\n\nexport const gpuUploadImageResource = {\n\n    type: 'image',\n\n    upload(source: TextureSource, gpuTexture: GPUTexture, gpu: GPU)\n    {\n        const resource = source.resource as ImageBitmap | HTMLCanvasElement | OffscreenCanvas;\n\n        if (!resource) return;\n\n        const width = source.resourceWidth || source.pixelWidth;\n        const height = source.resourceHeight || source.pixelHeight;\n        const premultipliedAlpha = source.alphaMode === 'premultiply-alpha-on-upload';\n\n        gpu.device.queue.copyExternalImageToTexture(\n            { source: resource },\n            { texture: gpuTexture, premultipliedAlpha },\n            {\n                width,\n                height,\n            }\n        );\n    }\n} as GpuTextureUploader<TextureSource>;\n\n","import { gpuUploadImageResource } from './gpuUploadImageSource';\n\nimport type { VideoSource } from '../../../shared/texture/sources/VideoSource';\nimport type { GPU } from '../../GpuDeviceSystem';\nimport type { GpuTextureUploader } from './GpuTextureUploader';\n\nexport const gpuUploadVideoResource = {\n\n    type: 'video',\n\n    upload(source: VideoSource, gpuTexture: GPUTexture, gpu: GPU)\n    {\n        gpuUploadImageResource.upload(source, gpuTexture, gpu);\n    }\n} as GpuTextureUploader<VideoSource>;\n\n","/**\n *\n * thanks to @toji for the original implementation\n * https://github.com/toji/web-texture-tool/blob/main/src/webgpu-mipmap-generator.js\n */\nexport class GpuMipmapGenerator\n{\n    public device: GPUDevice;\n    public sampler: GPUSampler;\n    public pipelines: Record<string, GPURenderPipeline>;\n\n    public mipmapShaderModule: any;\n\n    constructor(device: GPUDevice)\n    {\n        this.device = device;\n        this.sampler = device.createSampler({ minFilter: 'linear' });\n        // We'll need a new pipeline for every texture format used.\n        this.pipelines = {};\n    }\n\n    private _getMipmapPipeline(format: GPUTextureFormat)\n    {\n        let pipeline = this.pipelines[format];\n\n        if (!pipeline)\n        {\n            // Shader modules is shared between all pipelines, so only create once.\n            if (!this.mipmapShaderModule)\n            {\n                this.mipmapShaderModule = this.device.createShaderModule({\n                    code: /* wgsl */ `\n                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));\n\n                        struct VertexOutput {\n                        @builtin(position) position : vec4<f32>,\n                        @location(0) texCoord : vec2<f32>,\n                        };\n\n                        @vertex\n                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {\n                        var output : VertexOutput;\n                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);\n                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);\n                        return output;\n                        }\n\n                        @group(0) @binding(0) var imgSampler : sampler;\n                        @group(0) @binding(1) var img : texture_2d<f32>;\n\n                        @fragment\n                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {\n                        return textureSample(img, imgSampler, texCoord);\n                        }\n                    `,\n                });\n            }\n\n            pipeline = this.device.createRenderPipeline({\n                layout: 'auto',\n                vertex: {\n                    module: this.mipmapShaderModule,\n                    entryPoint: 'vertexMain',\n                },\n                fragment: {\n                    module: this.mipmapShaderModule,\n                    entryPoint: 'fragmentMain',\n                    targets: [{ format }],\n                }\n            });\n\n            this.pipelines[format] = pipeline;\n        }\n\n        return pipeline;\n    }\n\n    /**\n     * Generates mipmaps for the given GPUTexture from the data in level 0.\n     * @param {module:External.GPUTexture} texture - Texture to generate mipmaps for.\n     * @returns {module:External.GPUTexture} - The originally passed texture\n     */\n    public generateMipmap(texture: GPUTexture)\n    {\n        const pipeline = this._getMipmapPipeline(texture.format);\n\n        if (texture.dimension === '3d' || texture.dimension === '1d')\n        {\n            throw new Error('Generating mipmaps for non-2d textures is currently unsupported!');\n        }\n\n        let mipTexture = texture;\n        const arrayLayerCount = texture.depthOrArrayLayers || 1; // Only valid for 2D textures.\n\n        // If the texture was created with RENDER_ATTACHMENT usage we can render directly between mip levels.\n        const renderToSource = texture.usage & GPUTextureUsage.RENDER_ATTACHMENT;\n\n        if (!renderToSource)\n        {\n            // Otherwise we have to use a separate texture to render into. It can be one mip level smaller than the source\n            // texture, since we already have the top level.\n            const mipTextureDescriptor = {\n                size: {\n                    width: Math.ceil(texture.width / 2),\n                    height: Math.ceil(texture.height / 2),\n                    depthOrArrayLayers: arrayLayerCount,\n                },\n                format: texture.format,\n                usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT,\n                mipLevelCount: texture.mipLevelCount - 1,\n            };\n\n            mipTexture = this.device.createTexture(mipTextureDescriptor);\n        }\n\n        const commandEncoder = this.device.createCommandEncoder({});\n        // TODO: Consider making this static.\n        const bindGroupLayout = pipeline.getBindGroupLayout(0);\n\n        for (let arrayLayer = 0; arrayLayer < arrayLayerCount; ++arrayLayer)\n        {\n            let srcView = texture.createView({\n                baseMipLevel: 0,\n                mipLevelCount: 1,\n                dimension: '2d',\n                baseArrayLayer: arrayLayer,\n                arrayLayerCount: 1,\n            });\n\n            let dstMipLevel = renderToSource ? 1 : 0;\n\n            for (let i = 1; i < texture.mipLevelCount; ++i)\n            {\n                const dstView = mipTexture.createView({\n                    baseMipLevel: dstMipLevel++,\n                    mipLevelCount: 1,\n                    dimension: '2d',\n                    baseArrayLayer: arrayLayer,\n                    arrayLayerCount: 1,\n                });\n\n                const passEncoder = commandEncoder.beginRenderPass({\n                    colorAttachments: [{\n                        view: dstView,\n                        storeOp: 'store',\n                        loadOp: 'clear',\n                        clearValue: { r: 0, g: 0, b: 0, a: 0 },\n                    }],\n                });\n\n                const bindGroup = this.device.createBindGroup({\n                    layout: bindGroupLayout,\n                    entries: [{\n                        binding: 0,\n                        resource: this.sampler,\n                    }, {\n                        binding: 1,\n                        resource: srcView,\n                    }],\n                });\n\n                passEncoder.setPipeline(pipeline);\n                passEncoder.setBindGroup(0, bindGroup);\n                passEncoder.draw(3, 1, 0, 0);\n\n                passEncoder.end();\n\n                srcView = dstView;\n            }\n        }\n\n        // If we didn't render to the source texture, finish by copying the mip results from the temporary mipmap texture\n        // to the source.\n        if (!renderToSource)\n        {\n            const mipLevelSize = {\n                width: Math.ceil(texture.width / 2),\n                height: Math.ceil(texture.height / 2),\n                depthOrArrayLayers: arrayLayerCount,\n            };\n\n            for (let i = 1; i < texture.mipLevelCount; ++i)\n            {\n                commandEncoder.copyTextureToTexture({\n                    texture: mipTexture,\n                    mipLevel: i - 1,\n                }, {\n                    texture,\n                    mipLevel: i,\n                }, mipLevelSize);\n\n                mipLevelSize.width = Math.ceil(mipLevelSize.width / 2);\n                mipLevelSize.height = Math.ceil(mipLevelSize.height / 2);\n            }\n        }\n\n        this.device.queue.submit([commandEncoder.finish()]);\n\n        if (!renderToSource)\n        {\n            mipTexture.destroy();\n        }\n\n        return texture;\n    }\n}\n","import { ExtensionType } from '../../../../extensions/Extensions';\nimport { DOMAdapter } from '../../../../settings/adapter/adapter';\nimport { CanvasPool } from '../../shared/texture/CanvasPool';\nimport { BindGroup } from '../shader/BindGroup';\nimport { gpuUploadBufferImageResource } from './uploaders/gpuUploadBufferImageResource';\nimport { gpuUploadImageResource } from './uploaders/gpuUploadImageSource';\nimport { gpuUploadVideoResource } from './uploaders/gpuUploadVideoSource';\nimport { GpuMipmapGenerator } from './utils/GpuMipmapGenerator';\n\nimport type { ICanvas } from '../../../../settings/adapter/ICanvas';\nimport type { System } from '../../shared/system/System';\nimport type { CanvasGenerator, GetPixelsOutput } from '../../shared/texture/GenerateCanvas';\nimport type { TextureSource } from '../../shared/texture/sources/TextureSource';\nimport type { BindableTexture, Texture } from '../../shared/texture/Texture';\nimport type { TextureStyle } from '../../shared/texture/TextureStyle';\nimport type { GPU } from '../GpuDeviceSystem';\nimport type { WebGPURenderer } from '../WebGPURenderer';\nimport type { GpuTextureUploader } from './uploaders/GpuTextureUploader';\n\nexport class GpuTextureSystem implements System, CanvasGenerator\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUSystem,\n        ],\n        name: 'texture',\n    } as const;\n\n    public readonly managedTextures: TextureSource[] = [];\n\n    protected CONTEXT_UID: number;\n    private _gpuSources: Record<number, GPUTexture> = Object.create(null);\n    private _gpuSamplers: Record<string, GPUSampler> = Object.create(null);\n    private _bindGroupHash: Record<string, BindGroup> = Object.create(null);\n    private _textureViewHash: Record<string, GPUTextureView> = Object.create(null);\n\n    private readonly _uploads: Record<string, GpuTextureUploader> = {\n        image: gpuUploadImageResource,\n        buffer: gpuUploadBufferImageResource,\n        video: gpuUploadVideoResource\n    };\n\n    private _gpu: GPU;\n    private _mipmapGenerator?: GpuMipmapGenerator;\n\n    private readonly _renderer: WebGPURenderer;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        this._renderer = renderer;\n    }\n\n    protected contextChange(gpu: GPU): void\n    {\n        this._gpu = gpu;\n    }\n\n    public initSource(source: TextureSource): GPUTexture\n    {\n        if (source.autoGenerateMipmaps)\n        {\n            const biggestDimension = Math.max(source.pixelWidth, source.pixelHeight);\n\n            source.mipLevelCount = Math.floor(Math.log2(biggestDimension)) + 1;\n        }\n\n        const textureDescriptor = {\n            size: { width: source.pixelWidth || 1, height: source.pixelHeight || 1 },\n            format: source.format,\n            sampleCount: source.sampleCount,\n            mipLevelCount: source.mipLevelCount,\n            dimension: source.dimension,\n            usage: GPUTextureUsage.TEXTURE_BINDING\n                | GPUTextureUsage.COPY_DST\n                | GPUTextureUsage.RENDER_ATTACHMENT\n                | GPUTextureUsage.COPY_SRC,\n        };\n\n        const gpuTexture = this._gpu.device.createTexture(textureDescriptor);\n\n        this._gpuSources[source.uid] = gpuTexture;\n\n        source.on('update', this.onSourceUpdate, this);\n        source.on('resize', this.onSourceResize, this);\n        source.on('destroy', this.onSourceDestroy, this);\n        source.on('unload', this.onSourceUnload, this);\n\n        this.managedTextures.push(source);\n\n        this.onSourceUpdate(source);\n\n        return gpuTexture;\n    }\n\n    protected onSourceUpdate(source: TextureSource): void\n    {\n        const gpuTexture = this.getGpuSource(source);\n\n        // destroyed!\n        if (!gpuTexture) return;\n\n        if (this._uploads[source.uploadMethodId])\n        {\n            this._uploads[source.uploadMethodId].upload(source, gpuTexture, this._gpu);\n        }\n\n        if (source.autoGenerateMipmaps && source.mipLevelCount > 1)\n        {\n            if (!this._mipmapGenerator)\n            {\n                this._mipmapGenerator = new GpuMipmapGenerator(this._gpu.device);\n            }\n\n            this._mipmapGenerator.generateMipmap(gpuTexture);\n        }\n    }\n\n    protected onSourceUnload(source: TextureSource): void\n    {\n        const gpuTexture = this._gpuSources[source.uid];\n\n        if (gpuTexture)\n        {\n            this._gpuSources[source.uid] = null;\n\n            gpuTexture.destroy();\n        }\n    }\n\n    protected onSourceDestroy(source: TextureSource): void\n    {\n        source.off('update', this.onSourceUpdate, this);\n        source.off('unload', this.onSourceUnload, this);\n        source.off('destroy', this.onSourceDestroy, this);\n        source.off('resize', this.onSourceResize, this);\n\n        this.managedTextures.splice(this.managedTextures.indexOf(source), 1);\n\n        this.onSourceUnload(source);\n    }\n\n    protected onSourceResize(source: TextureSource): void\n    {\n        const gpuTexture = this._gpuSources[source.uid];\n\n        if (gpuTexture.width !== source.pixelWidth || gpuTexture.height !== source.pixelHeight)\n        {\n            this._textureViewHash[source.uid] = null;\n            this._bindGroupHash[source.uid] = null;\n\n            this.onSourceUnload(source);\n            this.initSource(source);\n        }\n    }\n\n    private _initSampler(sampler: TextureStyle): GPUSampler\n    {\n        this._gpuSamplers[sampler.resourceId] = this._gpu.device.createSampler(sampler);\n\n        return this._gpuSamplers[sampler.resourceId];\n    }\n\n    public getGpuSampler(sampler: TextureStyle): GPUSampler\n    {\n        return this._gpuSamplers[sampler.resourceId] || this._initSampler(sampler);\n    }\n\n    public getGpuSource(source: TextureSource): GPUTexture\n    {\n        return this._gpuSources[source.uid] || this.initSource(source);\n    }\n\n    public getTextureBindGroup(texture: Texture)\n    {\n        return this._bindGroupHash[texture.id] ?? this._createTextureBindGroup(texture);\n    }\n\n    private _createTextureBindGroup(texture: BindableTexture)\n    {\n        const source = texture.source;\n\n        const bindGroupId = source.uid;\n\n        this._bindGroupHash[bindGroupId] = new BindGroup({\n            0: source,\n            1: source.style,\n        });\n\n        return this._bindGroupHash[bindGroupId];\n    }\n\n    public getTextureView(texture: BindableTexture)\n    {\n        const source = texture.source;\n\n        return this._textureViewHash[source.uid] ?? this._createTextureView(source);\n    }\n\n    private _createTextureView(texture: TextureSource)\n    {\n        this._textureViewHash[texture.uid] = this.getGpuSource(texture).createView();\n\n        return this._textureViewHash[texture.uid];\n    }\n\n    public generateCanvas(texture: Texture): ICanvas\n    {\n        const renderer = this._renderer;\n\n        const commandEncoder = renderer.gpu.device.createCommandEncoder();\n\n        // create canvas\n        const canvas = DOMAdapter.get().createCanvas();\n\n        canvas.width = texture.source.pixelWidth;\n        canvas.height = texture.source.pixelHeight;\n\n        const context = canvas.getContext('webgpu') as unknown as GPUCanvasContext;\n\n        context.configure({\n            device: renderer.gpu.device,\n            // eslint-disable-next-line max-len\n            usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,\n            format: 'bgra8unorm',\n            alphaMode: 'premultiplied',\n        });\n\n        commandEncoder.copyTextureToTexture({\n            texture: renderer.texture.getGpuSource(texture.source),\n            origin: {\n                x: 0,\n                y: 0,\n            },\n        }, {\n            texture: context.getCurrentTexture(),\n        }, {\n            width: canvas.width,\n            height: canvas.height,\n        });\n\n        renderer.gpu.device.queue.submit([commandEncoder.finish()]);\n\n        return canvas;\n    }\n\n    public getPixels(texture: Texture): GetPixelsOutput\n    {\n        const webGPUCanvas = this.generateCanvas(texture);\n\n        const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(webGPUCanvas.width, webGPUCanvas.height);\n\n        const context = canvasAndContext.context;\n\n        context.drawImage(webGPUCanvas, 0, 0);\n\n        const { width, height } = webGPUCanvas;\n\n        const imageData = context.getImageData(0, 0, width, height);\n\n        const pixels = new Uint8ClampedArray(imageData.data.buffer);\n\n        CanvasPool.returnCanvasAndContext(canvasAndContext);\n\n        return { pixels, width, height };\n    }\n\n    public destroy(): void\n    {\n        for (const k of Object.keys(this._gpuSources))\n        {\n            const key = Number(k);\n            const gpuTexture = this._gpuSources[key];\n\n            gpuTexture.destroy();\n            this._gpuSources[key] = null;\n        }\n\n        for (const k of Object.keys(this._bindGroupHash))\n        {\n            const key = Number(k);\n            const bindGroup = this._bindGroupHash[key];\n\n            bindGroup.destroy();\n            this._bindGroupHash[key] = null;\n        }\n\n        this._gpu = null;\n        this._mipmapGenerator = null;\n        this._gpuSources = null;\n        this._bindGroupHash = null;\n        this._textureViewHash = null;\n        this._gpuSamplers = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { getTextureBatchBindGroup } from '../../../rendering/batcher/gpu/getTextureBatchBindGroup';\nimport { MAX_TEXTURES } from '../../../rendering/batcher/shared/const';\nimport { compileHighShaderGpuProgram } from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { colorBit } from '../../../rendering/high-shader/shader-bits/colorBit';\nimport { generateTextureBatchBit } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit';\nimport { localUniformBitGroup2 } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBit } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\n\nimport type { Batch } from '../../../rendering/batcher/shared/Batcher';\nimport type { GpuEncoderSystem } from '../../../rendering/renderers/gpu/GpuEncoderSystem';\nimport type { WebGPURenderer } from '../../../rendering/renderers/gpu/WebGPURenderer';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { GraphicsAdaptor, GraphicsPipe } from '../shared/GraphicsPipe';\nimport type { GraphicsView } from '../shared/GraphicsView';\n\nexport class GpuGraphicsAdaptor implements GraphicsAdaptor\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipesAdaptor,\n        ],\n        name: 'graphics',\n    } as const;\n\n    public shader: Shader;\n\n    public init()\n    {\n        const localUniforms = new UniformGroup({\n            uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n            uRound: { value: 0, type: 'f32' },\n        });\n\n        const gpuProgram = compileHighShaderGpuProgram({\n            name: 'graphics',\n            bits: [\n                colorBit,\n                generateTextureBatchBit(MAX_TEXTURES),\n\n                localUniformBitGroup2,\n                roundPixelsBit\n            ]\n        });\n\n        this.shader = new Shader({\n            gpuProgram,\n            resources: {\n                // added on the fly!\n                localUniforms,\n            },\n        });\n\n        this.shader.addResource('globalUniforms', 0, 0);\n    }\n\n    public execute(graphicsPipe: GraphicsPipe, renderable: Renderable<GraphicsView>): void\n    {\n        const context = renderable.view.context;\n        const shader = context.customShader || this.shader;\n        const renderer = graphicsPipe.renderer as WebGPURenderer;\n        const contextSystem = renderer.graphicsContext;\n\n        const {\n            geometry, instructions\n        } = contextSystem.getContextRenderData(context);\n\n        // WebGPU specific...\n\n        // TODO perf test this a bit...\n        const encoder = renderer.encoder as GpuEncoderSystem;\n\n        encoder.setPipelineFromGeometryProgramAndState(\n            geometry,\n            shader.gpuProgram,\n            graphicsPipe.state\n        );\n\n        encoder.setGeometry(geometry);\n\n        const globalUniformsBindGroup = renderer.globalUniforms.bindGroup;\n\n        encoder.setBindGroup(0, globalUniformsBindGroup, shader.gpuProgram);\n\n        const localBindGroup = (renderer as WebGPURenderer)\n            .renderPipes.uniformBatch.getUniformBindGroup(shader.resources.localUniforms, true);\n\n        encoder.setBindGroup(2, localBindGroup, shader.gpuProgram);\n\n        const batches = instructions.instructions as Batch[];\n\n        for (let i = 0; i < instructions.instructionSize; i++)\n        {\n            const batch = batches[i];\n\n            shader.groups[1] = batch.bindGroup;\n\n            if (!batch.gpuBindGroup)\n            {\n                const textureBatch = batch.textures;\n\n                batch.bindGroup = getTextureBatchBindGroup(textureBatch.textures, textureBatch.count);\n                batch.gpuBindGroup = renderer.bindGroup.getBindGroup(\n                    batch.bindGroup, shader.gpuProgram, 1\n                );\n            }\n\n            encoder.setBindGroup(1, batch.bindGroup, shader.gpuProgram);\n\n            encoder.renderPassEncoder.drawIndexed(batch.size, 1, batch.start);\n        }\n    }\n\n    public destroy(): void\n    {\n        this.shader.destroy(true);\n        this.shader = null;\n    }\n}\n","import { ExtensionType } from '../../../extensions/Extensions';\nimport { compileHighShaderGpuProgram } from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { localUniformBit } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBit } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { textureBit } from '../../../rendering/high-shader/shader-bits/textureBit';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\n\nimport type { WebGPURenderer } from '../../../rendering/renderers/gpu/WebGPURenderer';\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { MeshAdaptor, MeshPipe } from '../shared/MeshPipe';\nimport type { MeshView } from '../shared/MeshView';\n\nexport class GpuMeshAdapter implements MeshAdaptor\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipesAdaptor,\n        ],\n        name: 'mesh',\n    } as const;\n\n    private _shader: Shader;\n\n    public init(): void\n    {\n        const gpuProgram = compileHighShaderGpuProgram({\n            name: 'mesh',\n            bits: [\n                localUniformBit,\n                textureBit,\n                roundPixelsBit,\n            ]\n        });\n\n        this._shader = new Shader({\n            gpuProgram,\n            resources: {\n                uTexture: Texture.EMPTY._source,\n                uSampler: Texture.EMPTY._source.style,\n            }\n        });\n    }\n\n    public execute(meshPipe: MeshPipe, renderable: Renderable<MeshView>)\n    {\n        const renderer = meshPipe.renderer;\n        const view = renderable.view;\n\n        let shader: Shader = view._shader;\n\n        if (!shader)\n        {\n            shader = this._shader;\n\n            shader.groups[2] = (renderer as WebGPURenderer)\n                .texture.getTextureBindGroup(view.texture);\n        }\n\n        // GPU..\n        shader.groups[0] = renderer.globalUniforms.bindGroup;\n\n        const localUniforms = meshPipe.localUniforms;\n\n        shader.groups[1] = (renderer as WebGPURenderer)\n            .renderPipes.uniformBatch.getUniformBindGroup(localUniforms, true);\n\n        renderer.encoder.draw({\n            geometry: view._geometry,\n            shader,\n            state: view.state\n        });\n    }\n\n    public destroy(): void\n    {\n        this._shader.destroy(true);\n        this._shader = null;\n    }\n}\n","import { extensions, ExtensionType } from '../../../extensions/Extensions';\nimport { GpuGraphicsAdaptor } from '../../../scene/graphics/gpu/GpuGraphicsAdaptor';\nimport { GpuMeshAdapter } from '../../../scene/mesh/gpu/GpuMeshAdapter';\nimport { GpuBatchAdaptor } from '../../batcher/gpu/GpuBatchAdaptor';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer';\nimport { SharedRenderPipes, SharedSystems } from '../shared/system/SharedSystems';\nimport { RendererType } from '../types';\nimport { BindGroupSystem } from './BindGroupSystem';\nimport { BufferSystem } from './buffer/GpuBufferSystem';\nimport { GpuColorMaskSystem } from './GpuColorMaskSystem';\nimport { type GPU, GpuDeviceSystem } from './GpuDeviceSystem';\nimport { GpuEncoderSystem } from './GpuEncoderSystem';\nimport { GpuStencilSystem } from './GpuStencilSystem';\nimport { GpuUniformBatchPipe } from './GpuUniformBatchPipe';\nimport { GpuUniformBufferPipe } from './GpuUniformBufferPipe';\nimport { PipelineSystem } from './pipeline/PipelineSystem';\nimport { GpuRenderTargetSystem } from './renderTarget/GpuRenderTargetSystem';\nimport { GpuShaderSystem } from './shader/GpuShaderSystem';\nimport { GpuStateSystem } from './state/GpuStateSystem';\nimport { GpuTextureSystem } from './texture/GpuTextureSystem';\n\nimport type { ICanvas } from '../../../settings/adapter/ICanvas';\nimport type { PipeConstructor } from '../shared/instructions/RenderPipe';\nimport type { SystemConstructor } from '../shared/system/System';\nimport type { ExtractRendererOptions, ExtractSystemTypes } from '../shared/system/utils/typeUtils';\n\nconst DefaultWebGPUSystems = [\n    ...SharedSystems,\n    GpuDeviceSystem,\n    BufferSystem,\n    GpuTextureSystem,\n    GpuRenderTargetSystem,\n    GpuEncoderSystem,\n    GpuShaderSystem,\n    GpuStateSystem,\n    PipelineSystem,\n    GpuColorMaskSystem,\n    GpuStencilSystem,\n    BindGroupSystem,\n];\nconst DefaultWebGPUPipes = [...SharedRenderPipes, GpuUniformBatchPipe, GpuUniformBufferPipe];\nconst DefaultWebGPUAdapters = [GpuBatchAdaptor, GpuMeshAdapter, GpuGraphicsAdaptor];\n\n// installed systems will bbe added to this array by the extensions manager..\nconst systems: { name: string; value: SystemConstructor }[] = [];\nconst renderPipes: { name: string; value: PipeConstructor }[] = [];\nconst renderPipeAdaptors: { name: string; value: any }[] = [];\n\nextensions.handleByNamedList(ExtensionType.WebGPUSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGPUPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGPUPipesAdaptor, renderPipeAdaptors);\n\n// add all the default systems as well as any user defined ones from the extensions\nextensions.add(...DefaultWebGPUSystems, ...DefaultWebGPUPipes, ...DefaultWebGPUAdapters);\n\ntype WebGPUSystems = ExtractSystemTypes<typeof DefaultWebGPUSystems> &\nPixiMixins.RendererSystems &\nPixiMixins.WebGPUSystems;\n\nexport type WebGPUPipes = ExtractSystemTypes<typeof DefaultWebGPUPipes> &\nPixiMixins.RendererPipes &\nPixiMixins.WebGPUPipes;\n\n/** Options for WebGPURenderer. */\nexport type WebGPUOptions = ExtractRendererOptions<typeof DefaultWebGPUSystems> &\nPixiMixins.RendererOptions &\nPixiMixins.WebGPUOptions;\n\nexport interface WebGPURenderer<T extends ICanvas = HTMLCanvasElement>\n    extends AbstractRenderer<WebGPUPipes, WebGPUOptions, T>,\n    WebGPUSystems {}\n\nexport class WebGPURenderer<T extends ICanvas = HTMLCanvasElement>\n    extends AbstractRenderer<WebGPUPipes, WebGPUOptions, T>\n    implements WebGPUSystems\n{\n    public gpu: GPU;\n\n    constructor()\n    {\n        const systemConfig = {\n            name: 'webgpu',\n            type: RendererType.WEBGPU,\n            systems,\n            renderPipes,\n            renderPipeAdaptors,\n        };\n\n        super(systemConfig);\n    }\n}\n","import { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation';\n\nexport type Topology =\n    'point-list'\n    | 'line-list'\n    | 'line-strip'\n    | 'triangle-list'\n    | 'triangle-strip';\n\nconst DEPRECATED_DRAW_MODES = {\n    POINTS: 'point-list',\n    LINES: 'line-list',\n    LINE_STRIP: 'line-strip',\n    TRIANGLES: 'triangle-list',\n    TRIANGLE_STRIP: 'triangle-strip',\n};\n\n/** @deprecated since 8.0.0 */\nexport const DRAW_MODES = new Proxy(DEPRECATED_DRAW_MODES, {\n    get(target, prop: keyof typeof DEPRECATED_DRAW_MODES)\n    {\n        deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${prop}' instead`);\n\n        return target[prop];\n    },\n});\n\nexport type VertexFormat =\n    | 'uint8x2'\n    | 'uint8x4'\n    | 'sint8x2'\n    | 'sint8x4'\n    | 'unorm8x2'\n    | 'unorm8x4'\n    | 'snorm8x2'\n    | 'snorm8x4'\n    | 'uint16x2'\n    | 'uint16x4'\n    | 'sint16x2'\n    | 'sint16x4'\n    | 'unorm16x2'\n    | 'unorm16x4'\n    | 'snorm16x2'\n    | 'snorm16x4'\n    | 'float16x2'\n    | 'float16x4'\n    | 'float32'\n    | 'float32x2'\n    | 'float32x3'\n    | 'float32x4'\n    | 'uint32'\n    | 'uint32x2'\n    | 'uint32x3'\n    | 'uint32x4'\n    | 'sint32'\n    | 'sint32x2'\n    | 'sint32x3'\n    | 'sint32x4';\n\n","export const GLSL_TO_STD40_SIZE: Record<string, number> = {\n    float:  4,\n    vec2:   8,\n    vec3:   12,\n    vec4:   16,\n\n    int:      4,\n    ivec2:    8,\n    ivec3:    12,\n    ivec4:    16,\n\n    uint:     4,\n    uvec2:    8,\n    uvec3:    12,\n    uvec4:    16,\n\n    bool:     4,\n    bvec2:    8,\n    bvec3:    12,\n    bvec4:    16,\n\n    mat2:     16 * 2,\n    mat3:     16 * 3,\n    mat4:     16 * 4,\n};\n","/* eslint-disable @typescript-eslint/indent */\n\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation';\n\n/**\n * Specifies the alpha composition mode for textures.\n *\n * - `no-premultiply-alpha`: Does not premultiply alpha.\n * - `premultiply-alpha-on-upload`: Premultiplies alpha on texture upload.\n * - `premultiplied-alpha`: Assumes the texture is already in premultiplied alpha format.\n * @typedef {'no-premultiply-alpha' | 'premultiply-alpha-on-upload' | 'premultiplied-alpha'} ALPHA_MODES\n */\nexport type ALPHA_MODES =\n    'no-premultiply-alpha' |\n    'premultiply-alpha-on-upload' |\n    'premultiplied-alpha';\n\n/**\n * Constants for multi-sampling antialiasing.\n * @see Framebuffer#multisample\n * @name MSAA_QUALITY\n * @static\n * @enum {number}\n * @property {number} NONE - No multisampling for this renderTexture\n * @property {number} LOW - Try 2 samples\n * @property {number} MEDIUM - Try 4 samples\n * @property {number} HIGH - Try 8 samples\n */\nexport enum MSAA_QUALITY\n    // eslint-disable-next-line @typescript-eslint/indent\n{\n    NONE = 0,\n    LOW = 2,\n    MEDIUM = 4,\n    HIGH = 8\n}\n\nexport type TEXTURE_FORMATS =\n    // eslint-disable-next-line @typescript-eslint/indent\n\n    // 8-bit formats\n    'r8unorm' |\n    'r8snorm' |\n    'r8uint' |\n    'r8sint' |\n\n    // 16-bit formats\n    'r16uint' |\n    'r16sint' |\n    'r16float' |\n    'rg8unorm' |\n    'rg8snorm' |\n    'rg8uint' |\n    'rg8sint' |\n\n    // 32-bit formats\n    'r32uint' |\n    'r32sint' |\n    'r32float' |\n    'rg16uint' |\n    'rg16sint' |\n    'rg16float' |\n    'rgba8unorm' |\n    'rgba8unorm-srgb' |\n    'rgba8snorm' |\n    'rgba8uint' |\n    'rgba8sint' |\n    'bgra8unorm' |\n    'bgra8unorm-srgb' |\n    // Packed 32-bit formats\n    'rgb9e5ufloat' |\n    'rgb10a2unorm' |\n    'rg11b10ufloat' |\n\n    // 64-bit formats\n    'rg32uint' |\n    'rg32sint' |\n    'rg32float' |\n    'rgba16uint' |\n    'rgba16sint' |\n    'rgba16float' |\n\n    // 128-bit formats\n    'rgba32uint' |\n    'rgba32sint' |\n    'rgba32float' |\n\n    // Depth/stencil formats\n    'stencil8' |\n    'depth16unorm' |\n    'depth24plus' |\n    'depth24plus-stencil8' |\n    'depth32float' |\n\n    // \"depth32float-stencil8\" feature\n    'depth32float-stencil8' |\n\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    'bc1-rgba-unorm' |\n    'bc1-rgba-unorm-srgb' |\n    'bc2-rgba-unorm' |\n    'bc2-rgba-unorm-srgb' |\n    'bc3-rgba-unorm' |\n    'bc3-rgba-unorm-srgb' |\n    'bc4-r-unorm' |\n    'bc4-r-snorm' |\n    'bc5-rg-unorm' |\n    'bc5-rg-snorm' |\n    'bc6h-rgb-ufloat' |\n    'bc6h-rgb-float' |\n    'bc7-rgba-unorm' |\n    'bc7-rgba-unorm-srgb' |\n\n    // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    'etc2-rgb8unorm' |\n    'etc2-rgb8unorm-srgb' |\n    'etc2-rgb8a1unorm' |\n    'etc2-rgb8a1unorm-srgb' |\n    'etc2-rgba8unorm' |\n    'etc2-rgba8unorm-srgb' |\n    'eac-r11unorm' |\n    'eac-r11snorm' |\n    'eac-rg11unorm' |\n    'eac-rg11snorm' |\n\n    // ASTC compressed formats usable if \"texture-compression-astc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    'astc-4x4-unorm' |\n    'astc-4x4-unorm-srgb' |\n    'astc-5x4-unorm' |\n    'astc-5x4-unorm-srgb' |\n    'astc-5x5-unorm' |\n    'astc-5x5-unorm-srgb' |\n    'astc-6x5-unorm' |\n    'astc-6x5-unorm-srgb' |\n    'astc-6x6-unorm' |\n    'astc-6x6-unorm-srgb' |\n    'astc-8x5-unorm' |\n    'astc-8x5-unorm-srgb' |\n    'astc-8x6-unorm' |\n    'astc-8x6-unorm-srgb' |\n    'astc-8x8-unorm' |\n    'astc-8x8-unorm-srgb' |\n    'astc-10x5-unorm' |\n    'astc-10x5-unorm-srgb' |\n    'astc-10x6-unorm' |\n    'astc-10x6-unorm-srgb' |\n    'astc-10x8-unorm' |\n    'astc-10x8-unorm-srgb' |\n    'astc-10x10-unorm' |\n    'astc-10x10-unorm-srgb' |\n    'astc-12x10-unorm' |\n    'astc-12x10-unorm-srgb' |\n    'astc-12x12-unorm' |\n    'astc-12x12-unorm-srgb';\n\nexport type TEXTURE_VIEW_DIMENSIONS =\n    '1d' |\n    '2d' |\n    '2d-array' |\n    'cube' |\n    'cube-array' |\n    '3d';\n\nexport type TEXTURE_DIMENSIONS =\n    | '1d'\n    | '2d'\n    | '3d';\n\nexport type WRAP_MODE =\n    /**\n     * The texture uvs are clamped\n     * @default 33071\n     */\n    | 'clamp-to-edge'\n    /**\n     * The texture uvs tile and repeat\n     * @default 10497\n     */\n    | 'repeat'\n    /**\n     * The texture uvs tile and repeat with mirroring\n     * @default 33648\n     */\n    | 'mirror-repeat';\n\nexport enum DEPRECATED_WRAP_MODES\n{\n    CLAMP = 'clamp-to-edge',\n\n    REPEAT = 'repeat',\n\n    MIRRORED_REPEAT = 'mirror-repeat',\n}\n\n/** @deprecated since 8.0.0 */\nexport const WRAP_MODES = new Proxy(DEPRECATED_WRAP_MODES, {\n    get(target, prop: keyof typeof DEPRECATED_WRAP_MODES)\n    {\n        deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${prop}' instead`);\n\n        return target[prop];\n    },\n});\n\n/**\n * The scale modes that are supported by pixi.\n *\n * The {@link settings.SCALE_MODE} scale mode affects the default scaling mode of future operations.\n * It can be re-assigned to either LINEAR or NEAREST, depending upon suitability.\n * @static\n */\nexport type SCALE_MODE =\n    /** Pixelating scaling */\n | 'nearest'\n     /** Smooth scaling */\n | 'linear';\n\nexport enum DEPRECATED_SCALE_MODES\n{\n    NEAREST = 'nearest',\n    LINEAR = 'linear',\n}\n\n/**\n * @deprecated since 8.0.0\n */\nexport const SCALE_MODES = new Proxy(DEPRECATED_SCALE_MODES, {\n    get(target, prop: keyof typeof DEPRECATED_SCALE_MODES)\n    {\n        deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${prop}' instead`);\n\n        return target[prop];\n    },\n});\n\nexport type COMPARE_FUNCTION =\n    | 'never'\n    | 'less'\n    | 'equal'\n    | 'less-equal'\n    | 'greater'\n    | 'not-equal'\n    | 'greater-equal'\n    | 'always';\n","import { groupD8 } from '../../../../maths/matrix/groupD8';\n\nimport type { Size } from '../../../../maths/misc/Size';\nimport type { Rectangle } from '../../../../maths/shapes/Rectangle';\n\n/**\n * Stores a texture's frame in UV coordinates, in\n * which everything lies in the rectangle `[(0,0), (1,0),\n * (1,1), (0,1)]`.\n *\n * | Corner       | Coordinates |\n * |--------------|-------------|\n * | Top-Left     | `(x0,y0)`   |\n * | Top-Right    | `(x1,y1)`   |\n * | Bottom-Right | `(x2,y2)`   |\n * | Bottom-Left  | `(x3,y3)`   |\n * @protected\n */\nexport class TextureUvs\n{\n    /** X-component of top-left corner `(x0,y0)`. */\n    public x0: number;\n\n    /** Y-component of top-left corner `(x0,y0)`. */\n    public y0: number;\n\n    /** X-component of top-right corner `(x1,y1)`. */\n    public x1: number;\n\n    /** Y-component of top-right corner `(x1,y1)`. */\n    public y1: number;\n\n    /** X-component of bottom-right corner `(x2,y2)`. */\n    public x2: number;\n\n    /** Y-component of bottom-right corner `(x2,y2)`. */\n    public y2: number;\n\n    /** X-component of bottom-left corner `(x3,y3)`. */\n    public x3: number;\n\n    /** Y-component of bottom-right corner `(x3,y3)`. */\n    public y3: number;\n    public uvsFloat32: Float32Array;\n\n    constructor()\n    {\n        this.x0 = 0;\n        this.y0 = 0;\n        this.x1 = 1;\n        this.y1 = 0;\n        this.x2 = 1;\n        this.y2 = 1;\n        this.x3 = 0;\n        this.y3 = 1;\n\n        this.uvsFloat32 = new Float32Array(8);\n    }\n\n    /**\n     * Sets the texture Uvs based on the given frame information.\n     * @protected\n     * @param frame - The frame of the texture\n     * @param baseFrame - The base frame of the texture\n     * @param rotate - Rotation of frame, see {@link groupD8}\n     */\n    public set(frame: Rectangle, baseFrame: Size, rotate: number): void\n    {\n        const tw = baseFrame.width;\n        const th = baseFrame.height;\n\n        if (rotate)\n        {\n            // width and height div 2 div baseFrame size\n            const w2 = frame.width / 2 / tw;\n            const h2 = frame.height / 2 / th;\n\n            // coordinates of center\n            const cX = (frame.x / tw) + w2;\n            const cY = (frame.y / th) + h2;\n\n            rotate = groupD8.add(rotate, groupD8.NW); // NW is top-left corner\n            this.x0 = cX + (w2 * groupD8.uX(rotate));\n            this.y0 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2); // rotate 90 degrees clockwise\n            this.x1 = cX + (w2 * groupD8.uX(rotate));\n            this.y1 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2);\n            this.x2 = cX + (w2 * groupD8.uX(rotate));\n            this.y2 = cY + (h2 * groupD8.uY(rotate));\n\n            rotate = groupD8.add(rotate, 2);\n            this.x3 = cX + (w2 * groupD8.uX(rotate));\n            this.y3 = cY + (h2 * groupD8.uY(rotate));\n        }\n        else\n        {\n            this.x0 = frame.x / tw;\n            this.y0 = frame.y / th;\n\n            this.x1 = (frame.x + frame.width) / tw;\n            this.y1 = frame.y / th;\n\n            this.x2 = (frame.x + frame.width) / tw;\n            this.y2 = (frame.y + frame.height) / th;\n\n            this.x3 = frame.x / tw;\n            this.y3 = (frame.y + frame.height) / th;\n        }\n\n        this.uvsFloat32[0] = this.x0;\n        this.uvsFloat32[1] = this.y0;\n        this.uvsFloat32[2] = this.x1;\n        this.uvsFloat32[3] = this.y1;\n        this.uvsFloat32[4] = this.x2;\n        this.uvsFloat32[5] = this.y2;\n        this.uvsFloat32[6] = this.x3;\n        this.uvsFloat32[7] = this.y3;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/core:TextureUvs `\n            + `x0=${this.x0} y0=${this.y0} `\n            + `x1=${this.x1} y1=${this.y1} x2=${this.x2} `\n            + `y2=${this.y2} x3=${this.x3} y3=${this.y3}`\n            + `]`;\n    }\n    // #endif\n}\n","let uidCount = 0;\n\nexport function generateUID(): number\n{\n    return uidCount++;\n}\n","export function multiplyHexColors(color1: number, color2: number): number\n{\n    if (color1 === 0xFFFFFF || !color2) return color2;\n    if (color2 === 0xFFFFFF || !color1) return color1;\n\n    const r1 = (color1 >> 16) & 0xFF;\n    const g1 = (color1 >> 8) & 0xFF;\n    const b1 = color1 & 0xFF;\n\n    const r2 = (color2 >> 16) & 0xFF;\n    const g2 = (color2 >> 8) & 0xFF;\n    const b2 = color2 & 0xFF;\n\n    const r = (r1 * r2) / 255;\n    const g = (g1 * g2) / 255;\n    const b = (b1 * b2) / 255;\n\n    return (r << 16) + (g << 8) + b;\n}\n","import type { Matrix } from '../../../maths/matrix/Matrix';\n\nexport function updateWorldTransform(local: Matrix, parent: Matrix, world: Matrix): void\n{\n    const lta = local.a;\n    const ltb = local.b;\n    const ltc = local.c;\n    const ltd = local.d;\n    const lttx = local.tx;\n    const ltty = local.ty;\n\n    const pta = parent.a;\n    const ptb = parent.b;\n    const ptc = parent.c;\n    const ptd = parent.d;\n\n    world.a = (lta * pta) + (ltb * ptc);\n    world.b = (lta * ptb) + (ltb * ptd);\n    world.c = (ltc * pta) + (ltd * ptc);\n    world.d = (ltc * ptb) + (ltd * ptd);\n    world.tx = (lttx * pta) + (ltty * ptc) + parent.tx;\n    world.ty = (lttx * ptb) + (ltty * ptd) + parent.ty;\n}\n","import { deprecation } from '../../../utils/logging/deprecation';\nimport { Container } from '../../container/Container';\nimport { GraphicsContext } from './GraphicsContext';\nimport { GraphicsView } from './GraphicsView';\n\nimport type { ColorSource } from '../../../color/Color';\nimport type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { ContainerOptions } from '../../container/Container';\nimport type { FillStyleInputs } from './GraphicsContext';\n\nexport interface GraphicsOptions extends Partial<ContainerOptions<GraphicsView>>\n{\n    context?: GraphicsContext;\n    fillStyle?: FillStyleInputs;\n    strokeStyle?: FillStyleInputs;\n}\n\nexport class Graphics extends Container<GraphicsView>\n{\n    constructor(options?: GraphicsOptions | GraphicsContext)\n    {\n        if (options instanceof GraphicsContext)\n        {\n            options = { context: options };\n        }\n\n        const { context, ...rest } = options || {};\n\n        super({\n            view: new GraphicsView(context),\n            label: 'Graphics',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    get context(): GraphicsContext\n    {\n        return this.view.context;\n    }\n\n    set context(context: GraphicsContext)\n    {\n        this.view.context = context;\n    }\n\n    private _callContextMethod(method: keyof GraphicsContext, args: any[]): this\n    {\n        (this.view.context as any)[method](...args);\n\n        return this;\n    }\n\n    // --------------------------------------- GraphicsContext methods ---------------------------------------\n    /** @deprecated 8.0.0 */\n    public fill(color: ColorSource, alpha: number): this;\n    public fill(style?: FillStyleInputs): this;\n    public fill(...args: [FillStyleInputs, ColorSource?]): this\n    {\n        return this._callContextMethod('fill', args);\n    }\n    public stroke(...args: Parameters<GraphicsContext['stroke']>): this\n    {\n        return this._callContextMethod('stroke', args);\n    }\n    public texture(texture: Texture): this;\n    public texture(texture: Texture, tint: ColorSource): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number, dw: number, dh: number): this;\n    public texture(texture: Texture, tint?: ColorSource, dx?: number, dy?: number, dw?: number, dh?: number): this;\n    public texture(...args: [Texture, number?, number?, number?, number?, number?]): this\n    {\n        return this._callContextMethod('texture', args);\n    }\n    public beginPath(...args: Parameters<GraphicsContext['beginPath']>): this\n    {\n        return this._callContextMethod('beginPath', args);\n    }\n    public cut(...args: Parameters<GraphicsContext['cut']>): this\n    {\n        return this._callContextMethod('cut', args);\n    }\n    public arc(...args: Parameters<GraphicsContext['arc']>): this\n    {\n        return this._callContextMethod('arc', args);\n    }\n    public arcTo(...args: Parameters<GraphicsContext['arcTo']>): this\n    {\n        return this._callContextMethod('arcTo', args);\n    }\n    public arcToSvg(...args: Parameters<GraphicsContext['arcToSvg']>): this\n    {\n        return this._callContextMethod('arcToSvg', args);\n    }\n    public bezierCurveTo(...args: Parameters<GraphicsContext['bezierCurveTo']>): this\n    {\n        return this._callContextMethod('bezierCurveTo', args);\n    }\n    public closePath(...args: Parameters<GraphicsContext['closePath']>): this\n    {\n        return this._callContextMethod('closePath', args);\n    }\n    public ellipse(...args: Parameters<GraphicsContext['ellipse']>): this\n    {\n        return this._callContextMethod('ellipse', args);\n    }\n    public circle(...args: Parameters<GraphicsContext['circle']>): this\n    {\n        return this._callContextMethod('circle', args);\n    }\n    public path(...args: Parameters<GraphicsContext['path']>): this\n    {\n        return this._callContextMethod('path', args);\n    }\n    public lineTo(...args: Parameters<GraphicsContext['lineTo']>): this\n    {\n        return this._callContextMethod('lineTo', args);\n    }\n    public moveTo(...args: Parameters<GraphicsContext['moveTo']>): this\n    {\n        return this._callContextMethod('moveTo', args);\n    }\n    public quadraticCurveTo(...args: Parameters<GraphicsContext['quadraticCurveTo']>): this\n    {\n        return this._callContextMethod('quadraticCurveTo', args);\n    }\n    public rect(...args: Parameters<GraphicsContext['rect']>): this\n    {\n        return this._callContextMethod('rect', args);\n    }\n    public roundRect(...args: Parameters<GraphicsContext['roundRect']>): this\n    {\n        return this._callContextMethod('roundRect', args);\n    }\n    public poly(...args: Parameters<GraphicsContext['poly']>): this\n    {\n        return this._callContextMethod('poly', args);\n    }\n    public star(...args: Parameters<GraphicsContext['star']>): this\n    {\n        return this._callContextMethod('star', args);\n    }\n    public svg(...args: Parameters<GraphicsContext['svg']>): this\n    {\n        return this._callContextMethod('svg', args);\n    }\n    public restore(...args: Parameters<GraphicsContext['restore']>): this\n    {\n        return this._callContextMethod('restore', args);\n    }\n    public save(...args: Parameters<GraphicsContext['save']>): this\n    {\n        return this._callContextMethod('save', args);\n    }\n    public getTransform(...args: Parameters<GraphicsContext['getTransform']>): this\n    {\n        return this._callContextMethod('getTransform', args);\n    }\n    public resetTransform(...args: Parameters<GraphicsContext['resetTransform']>): this\n    {\n        return this._callContextMethod('resetTransform', args);\n    }\n    public rotateTransform(...args: Parameters<GraphicsContext['rotate']>): this\n    {\n        return this._callContextMethod('rotate', args);\n    }\n    public scaleTransform(...args: Parameters<GraphicsContext['scale']>): this\n    {\n        return this._callContextMethod('scale', args);\n    }\n    public setTransform(transform: Matrix): this;\n    public setTransform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public setTransform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this;\n    public setTransform(...args: [Matrix] | [number, number, number, number, number, number]): this\n    {\n        return this._callContextMethod('setTransform', args);\n    }\n    public transform(transform: Matrix): this;\n    public transform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public transform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this;\n    public transform(...args: [Matrix] | [number, number, number, number, number, number]): this\n    {\n        return this._callContextMethod('transform', args);\n    }\n    public translateTransform(...args: Parameters<GraphicsContext['translate']>): this\n    {\n        return this._callContextMethod('translate', args);\n    }\n    public clear(...args: Parameters<GraphicsContext['clear']>): this\n    {\n        return this._callContextMethod('clear', args);\n    }\n    get fillStyle(): GraphicsContext['fillStyle']\n    {\n        return this.view.context.fillStyle;\n    }\n    set fillStyle(value: FillStyleInputs)\n    {\n        this.view.context.fillStyle = value;\n    }\n    get strokeStyle(): GraphicsContext['strokeStyle']\n    {\n        return this.view.context.strokeStyle;\n    }\n    set strokeStyle(value: FillStyleInputs)\n    {\n        this.view.context.strokeStyle = value;\n    }\n\n    // v7 deprecations\n    /**\n     * @param color\n     * @param alpha\n     * @deprecated since 8.0.0\n     */\n    public beginFill(color: ColorSource, alpha?: number)\n    {\n        // eslint-disable-next-line max-len\n        deprecation('8.0.0', 'Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.');\n\n        this.endFill();\n\n        this.context.fillStyle = { color, alpha };\n\n        return this;\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     */\n    public endFill()\n    {\n        // eslint-disable-next-line max-len\n        deprecation('8.0.0', 'Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.');\n        this.context.fill();\n\n        return this;\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawCircle(...args: Parameters<GraphicsContext['circle']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawCircle has been renamed to Graphics#circle');\n\n        return this._callContextMethod('circle', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawEllipse(...args: Parameters<GraphicsContext['ellipse']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawEllipse has been renamed to Graphics#ellipse');\n\n        return this._callContextMethod('ellipse', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawPolygon(...args: Parameters<GraphicsContext['poly']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawPolygon has been renamed to Graphics#poly');\n\n        return this._callContextMethod('poly', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawRect(...args: Parameters<GraphicsContext['rect']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawRect has been renamed to Graphics#rect');\n\n        return this._callContextMethod('rect', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawRoundedRect(...args: Parameters<GraphicsContext['roundRect']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawRoundedRect has been renamed to Graphics#roundRect');\n\n        return this._callContextMethod('roundRect', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0\n     */\n    public drawStar(...args: Parameters<GraphicsContext['star']>): this\n    {\n        deprecation('8.0.0', 'Graphics#drawStar has been renamed to Graphics#star');\n\n        return this._callContextMethod('star', args);\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n","import { buildSimpleUvs, buildUvs } from '../../../../rendering/renderers/shared/geometry/utils/buildUvs';\nimport { transformVertices } from '../../../../rendering/renderers/shared/geometry/utils/transformVertices';\nimport { MeshGeometry } from '../../../mesh/shared/MeshGeometry';\nimport { buildCircle } from '../buildCommands/buildCircle';\nimport { buildPolygon } from '../buildCommands/buildPolygon';\nimport { buildRectangle } from '../buildCommands/buildRectangle';\nimport { buildTriangle } from '../buildCommands/buildTriangle';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { ShapeBuildCommand } from '../buildCommands/ShapeBuildCommand';\nimport type { GraphicsPath } from '../path/GraphicsPath';\n\nconst buildMap: Record<string, ShapeBuildCommand> = {\n    rectangle: buildRectangle,\n    polygon: buildPolygon,\n    triangle: buildTriangle,\n    circle: buildCircle,\n    ellipse: buildCircle,\n    roundedRectangle: buildCircle,\n};\n\nexport interface GeometryPathOptions\n{\n    path: GraphicsPath\n    textureMatrix?: Matrix\n    out: MeshGeometry\n}\n\nexport function buildGeometryFromPath(options: GeometryPathOptions): MeshGeometry\n{\n    const vertices: number[] = [];\n    const uvs: number[] = [];\n    const indices: number[] = [];\n\n    // build path collection of polygons and shapes points..\n    const shapePath = options.path.shapePath;\n    const textureMatrix = options.textureMatrix;\n\n    shapePath.shapePrimitives.forEach(({ shape, transform: matrix }) =>\n    {\n        const indexOffset = indices.length;\n        const vertOffset = vertices.length / 2;\n\n        const points: number[] = [];\n\n        const build = buildMap[shape.type];\n\n        build.build(shape, points);\n\n        if (matrix)\n        {\n            transformVertices(points, matrix);\n        }\n\n        build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n\n        const uvsOffset = uvs.length / 2;\n\n        if (textureMatrix)\n        {\n            // todo can prolly do this before calculating uvs..\n            if (matrix)\n            {\n                textureMatrix.append(matrix.clone().invert());\n            }\n\n            buildUvs(vertices, 2, vertOffset, uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset, textureMatrix);\n        }\n        else\n        {\n            buildSimpleUvs(uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset);\n        }\n    });\n\n    const out = options.out;\n\n    if (out)\n    {\n        out.positions = new Float32Array(vertices);\n        out.uvs = new Float32Array(uvs);\n        out.indices = new Uint32Array(indices);\n\n        return out;\n    }\n\n    const geometry = new MeshGeometry({\n        positions: new Float32Array(vertices),\n        uvs: new Float32Array(uvs),\n        indices: new Uint32Array(indices),\n    });\n\n    return geometry;\n}\n","import { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry';\n\nimport type { MeshGeometryOptions } from '../mesh/shared/MeshGeometry';\n\nexport interface PlaneGeometryOptions\n{\n    width?: number;\n    height?: number;\n    verticesX?: number;\n    verticesY?: number;\n}\n\nexport class PlaneGeometry extends MeshGeometry\n{\n    public static defaultOptions: PlaneGeometryOptions & MeshGeometryOptions = {\n        width: 100,\n        height: 100,\n        verticesX: 10,\n        verticesY: 10,\n    };\n\n    public verticesX: number;\n    public verticesY: number;\n    public width: number;\n    public height: number;\n\n    /**\n     * @param options - Options to be applied to plane geometry\n     * @param options.width - Width of plane\n     * @param options.height - Height of plane\n     * @param options.verticesX - Number of vertices on x-axis\n     * @param options.verticesY - Number of vertices on y-axis\n     */\n    constructor(options: PlaneGeometryOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(width?: number, height?: number, verticesX?: number, verticesY?: number);\n    constructor(...args: [PlaneGeometryOptions?] | [number?, number?, number?, number?])\n    {\n        super({});\n\n        let options = args[0] ?? {};\n\n        if (typeof options === 'number')\n        {\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead');\n\n            options = {\n                width: options,\n                height: args[1],\n                verticesX: args[2],\n                verticesY: args[3],\n            };\n        }\n\n        this.build(options);\n    }\n\n    /**\n     * Refreshes plane coordinates\n     * @param options\n     */\n    public build(options: PlaneGeometryOptions): void\n    {\n        options = { ...PlaneGeometry.defaultOptions, ...options };\n\n        this.verticesX = this.verticesX ?? options.verticesX;\n        this.verticesY = this.verticesY ?? options.verticesY;\n\n        this.width = this.width ?? options.width;\n        this.height = this.height ?? options.height;\n\n        const total = this.verticesX * this.verticesY;\n        const verts = [];\n        const uvs = [];\n        const indices = [];\n\n        const verticesX = this.verticesX - 1;\n        const verticesY = this.verticesY - 1;\n\n        const sizeX = (this.width) / verticesX;\n        const sizeY = (this.height) / verticesY;\n\n        for (let i = 0; i < total; i++)\n        {\n            const x = (i % this.verticesX);\n            const y = ((i / this.verticesX) | 0);\n\n            verts.push(x * sizeX, y * sizeY);\n            uvs.push(x / verticesX, y / verticesY);\n        }\n\n        const totalSub = verticesX * verticesY;\n\n        for (let i = 0; i < totalSub; i++)\n        {\n            const xpos = i % verticesX;\n            const ypos = (i / verticesX) | 0;\n\n            const value = (ypos * this.verticesX) + xpos;\n            const value2 = (ypos * this.verticesX) + xpos + 1;\n            const value3 = ((ypos + 1) * this.verticesX) + xpos;\n            const value4 = ((ypos + 1) * this.verticesX) + xpos + 1;\n\n            indices.push(value, value2, value3,\n                value2, value4, value3);\n        }\n\n        this.buffers[0].data = new Float32Array(verts);\n        this.buffers[1].data = new Float32Array(uvs);\n        this.indexBuffer.data = new Uint32Array(indices);\n\n        // ensure that the changes are uploaded\n        this.buffers[0].update();\n        this.buffers[1].update();\n        this.indexBuffer.update();\n    }\n}\n","import { Matrix } from '../../maths/matrix/Matrix';\nimport { PlaneGeometry } from './PlaneGeometry';\n\nexport interface NineSliceGeometryOptions\n{\n    width?: number\n    height?: number\n    originalWidth?: number\n    originalHeight?: number\n    leftWidth?: number\n    topHeight?: number\n    rightWidth?: number\n    bottomHeight?: number\n    textureMatrix?: Matrix\n}\n\nexport class NineSliceGeometry extends PlaneGeometry\n{\n    public static defaultOptions: NineSliceGeometryOptions = {\n        width: 100,\n        height: 100,\n        leftWidth: 10,\n        topHeight: 10,\n        rightWidth: 10,\n        bottomHeight: 10,\n\n        originalWidth: 100,\n        originalHeight: 100,\n    };\n\n    /** @internal */\n    public _leftWidth: number;\n    /** @internal */\n    public _rightWidth: number;\n    /** @internal */\n    public _topHeight: number;\n    /** @internal */\n    public _bottomHeight: number;\n\n    private _originalWidth: number;\n    private _originalHeight: number;\n    private readonly _textureMatrix: Matrix = new Matrix();\n\n    constructor(options: NineSliceGeometryOptions)\n    {\n        options = { ...NineSliceGeometry.defaultOptions, ...options };\n\n        super({\n            width: options.width,\n            height: options.height,\n            verticesX: 4,\n            verticesY: 4,\n        });\n\n        this.update(options);\n    }\n\n    public update(options: NineSliceGeometryOptions)\n    {\n        this.updateUvs(options);\n        this.updatePositions(options);\n    }\n\n    public updatePositions(options: NineSliceGeometryOptions)\n    {\n        this.width = options.width ?? this.width;\n        this.height = options.height ?? this.height;\n\n        this._leftWidth = options.leftWidth ?? this._leftWidth;\n        this._rightWidth = options.rightWidth ?? this._rightWidth;\n        this._topHeight = options.topHeight ?? this._topHeight;\n        this._bottomHeight = options.bottomHeight ?? this._bottomHeight;\n\n        const positions = this.positions;\n\n        const w = this._leftWidth + this._rightWidth;\n        const scaleW = this.width > w ? 1.0 : this.width / w;\n\n        const h = this._topHeight + this._bottomHeight;\n        const scaleH = this.height > h ? 1.0 : this.height / h;\n\n        const scale = Math.min(scaleW, scaleH);\n\n        positions[9] = positions[11] = positions[13] = positions[15] = this._topHeight * scale;\n        positions[17] = positions[19] = positions[21] = positions[23] = this.height - (this._bottomHeight * scale);\n        positions[25] = positions[27] = positions[29] = positions[31] = this.height;\n\n        positions[2] = positions[10] = positions[18] = positions[26] = this._leftWidth * scale;\n        positions[4] = positions[12] = positions[20] = positions[28] = this.width - (this._rightWidth * scale);\n        positions[6] = positions[14] = positions[22] = positions[30] = this.width;\n\n        this.getBuffer('aPosition').update();\n    }\n\n    public updateUvs(options: NineSliceGeometryOptions)\n    {\n        this._originalWidth = options.originalWidth ?? this._originalWidth;\n        this._originalHeight = options.originalHeight ?? this._originalHeight;\n        this._leftWidth = options.leftWidth ?? this._leftWidth;\n        this._rightWidth = options.rightWidth ?? this._rightWidth;\n        this._topHeight = options.topHeight ?? this._topHeight;\n        this._bottomHeight = options.bottomHeight ?? this._bottomHeight;\n\n        if (options.textureMatrix)\n        {\n            this._textureMatrix.copyFrom(options.textureMatrix);\n        }\n\n        const textureMatrix = this._textureMatrix;\n\n        const uvs = this.uvs;\n\n        uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;\n        uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;\n\n        uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;\n        uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;\n\n        const _uvw = 1.0 / this._originalWidth;\n        const _uvh = 1.0 / this._originalHeight;\n\n        uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;\n        uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;\n\n        uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - (_uvw * this._rightWidth);\n        uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - (_uvh * this._bottomHeight);\n\n        multiplyUvs(textureMatrix, uvs);\n\n        this.getBuffer('aUV').update();\n    }\n}\n\nfunction multiplyUvs(matrix: Matrix, uvs: Float32Array, out?: Float32Array)\n{\n    out ??= uvs;\n\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n\n    for (let i = 0; i < uvs.length; i += 2)\n    {\n        const x = uvs[i];\n        const y = uvs[i + 1];\n\n        out[i] = (x * a) + (y * c) + tx;\n        out[i + 1] = (x * b) + (y * d) + ty;\n    }\n\n    return out;\n}\n","import { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { Container } from '../container/Container';\nimport { definedProps } from '../container/utils/definedProps';\nimport { MeshView } from '../mesh/shared/MeshView';\nimport { NineSliceGeometry } from './NineSliceGeometry';\n\nimport type { ContainerOptions } from '../container/Container';\n\nexport interface NineSliceSpriteOptions extends ContainerOptions<MeshView<NineSliceGeometry>>\n{\n    texture: Texture;\n    leftWidth?: number;\n    topHeight?: number;\n    rightWidth?: number;\n    bottomHeight?: number;\n}\n\n/**\n * The NineSlicePlane allows you to stretch a texture using 9-slice scaling. The corners will remain unscaled (useful\n * for buttons with rounded corners for example) and the other areas will be scaled horizontally and or vertically\n *\n * <pre>\n *      A                          B\n *    +---+----------------------+---+\n *  C | 1 |          2           | 3 |\n *    +---+----------------------+---+\n *    |   |                      |   |\n *    | 4 |          5           | 6 |\n *    |   |                      |   |\n *    +---+----------------------+---+\n *  D | 7 |          8           | 9 |\n *    +---+----------------------+---+\n *  When changing this objects width and/or height:\n *     areas 1 3 7 and 9 will remain unscaled.\n *     areas 2 and 8 will be stretched horizontally\n *     areas 4 and 6 will be stretched vertically\n *     area 5 will be stretched both horizontally and vertically\n * </pre>\n * @example\n * import { NineSlicePlane, Texture } from 'pixi.js';\n *\n * const plane9 = new NineSlicePlane(Texture.from('BoxWithRoundedCorners.png'), 15, 15, 15, 15);\n */\nexport class NineSliceSprite extends Container<MeshView<NineSliceGeometry>>\n{\n    public static defaultOptions: NineSliceSpriteOptions = {\n        texture: Texture.EMPTY,\n        leftWidth: 10,\n        topHeight: 10,\n        rightWidth: 10,\n        bottomHeight: 10,\n    };\n\n    /**\n     * @param options - Options to use\n     * @param options.texture - The texture to use on the NineSlicePlane.\n     * @param options.leftWidth - Width of the left vertical bar (A)\n     * @param options.topHeight - Height of the top horizontal bar (C)\n     * @param options.rightWidth - Width of the right vertical bar (B)\n     * @param options.bottomHeight - Height of the bottom horizontal bar (D)\n     * @param options.width - Width of the NineSlicePlane,\n     * setting this will actually modify the vertices and not the UV's of this plane.\n     * @param options.height - Height of the NineSlicePlane,\n     * setting this will actually modify the vertices and not UV's of this plane.\n     */\n    constructor(options: NineSliceSpriteOptions | Texture)\n    {\n        if ((options instanceof Texture))\n        {\n            options = { texture: options };\n        }\n\n        const { leftWidth, rightWidth, topHeight, bottomHeight, texture: optTex, ...rest } = options;\n        const texture = optTex ?? NineSliceSprite.defaultOptions.texture;\n        const borders = texture.layout.defaultBorders;\n\n        const nineSliceGeometry = new NineSliceGeometry(definedProps({\n            width: texture.width,\n            height: texture.height,\n            originalWidth: texture.width,\n            originalHeight: texture.height,\n            leftWidth: leftWidth ?? borders?.left ?? NineSliceSprite.defaultOptions.leftWidth,\n            topHeight: topHeight ?? borders?.top ?? NineSliceSprite.defaultOptions.topHeight,\n            rightWidth: rightWidth ?? borders?.right ?? NineSliceSprite.defaultOptions.rightWidth,\n            bottomHeight: bottomHeight ?? borders?.bottom ?? NineSliceSprite.defaultOptions.bottomHeight,\n            textureMatrix: texture.textureMatrix.mapCoord,\n        }));\n\n        super({\n            view: new MeshView<NineSliceGeometry>(definedProps({\n                geometry: nineSliceGeometry,\n                texture,\n            })),\n            label: 'NineSliceSprite',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    // /** The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n    get width(): number\n    {\n        return this.view.geometry.width;\n    }\n\n    set width(value: number)\n    {\n        this.view.geometry.updatePositions({\n            width: value,\n        });\n    }\n\n    get height(): number\n    {\n        return this.view.geometry.height;\n    }\n\n    set height(value: number)\n    {\n        this.view.geometry.updatePositions({\n            height: value,\n        });\n    }\n\n    get leftWidth(): number\n    {\n        return this.view.geometry._leftWidth;\n    }\n\n    set leftWidth(value: number)\n    {\n        this.view.geometry.updateUvs({\n            leftWidth: value,\n        });\n    }\n\n    get topHeight(): number\n    {\n        return this.view.geometry._topHeight;\n    }\n\n    set topHeight(value: number)\n    {\n        this.view.geometry.updateUvs({\n            topHeight: value,\n        });\n    }\n\n    get rightWidth(): number\n    {\n        return this.view.geometry._rightWidth;\n    }\n\n    set rightWidth(value: number)\n    {\n        this.view.geometry.updateUvs({\n            rightWidth: value,\n        });\n    }\n\n    get bottomHeight(): number\n    {\n        return this.view.geometry._bottomHeight;\n    }\n\n    set bottomHeight(value: number)\n    {\n        this.view.geometry.updateUvs({\n            bottomHeight: value,\n        });\n    }\n\n    get texture(): Texture\n    {\n        return this.view.texture;\n    }\n\n    set texture(value: Texture)\n    {\n        if (value === this.view.texture) return;\n\n        // // calculate the matrix..\n        this.view.geometry.updateUvs({\n            originalWidth: value.width,\n            originalHeight: value.height,\n            textureMatrix: value.textureMatrix.mapCoord,\n        });\n\n        this.view.texture = value;\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n\n/** @deprecated since 8.0.0 */\nexport class NineSlicePlane extends NineSliceSprite\n{\n    constructor(options: NineSliceSpriteOptions | Texture);\n    /** @deprecated since 8.0.0 */\n    constructor(texture: Texture, leftWidth: number, topHeight: number, rightWidth: number, bottomHeight: number);\n    constructor(...args: [NineSliceSpriteOptions | Texture] | [Texture, number, number, number, number])\n    {\n        let options = args[0];\n\n        if (options instanceof Texture)\n        {\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}');\n\n            options = {\n                texture: options,\n                leftWidth: args[1],\n                topHeight: args[2],\n                rightWidth: args[3],\n                bottomHeight: args[4],\n            };\n        }\n        deprecation(v8_0_0, 'NineSlicePlane is deprecated. Use NineSliceSprite instead.');\n        super(options);\n    }\n}\n","import type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\n\nexport function getTextureDefaultMatrix(texture: Texture, out: Matrix): Matrix\n{\n    const { frameWidth, frameHeight } = texture;\n\n    out.scale(1 / frameWidth, 1 / frameHeight);\n\n    return out;\n}\n","import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { Container } from '../../container/Container';\nimport { definedProps } from '../../container/utils/definedProps';\nimport { MeshGeometry } from './MeshGeometry';\nimport { MeshView } from './MeshView';\n\nimport type { Topology } from '../../../rendering/renderers/shared/geometry/const';\nimport type { State } from '../../../rendering/renderers/shared/state/State';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { ContainerOptions } from '../../container/Container';\nimport type { MeshViewOptions, TextureShader } from './MeshView';\n\nexport type MeshOptions<\n    GEOMETRY extends MeshGeometry = MeshGeometry,\n    SHADER extends TextureShader = TextureShader\n> = Partial<ContainerOptions<MeshView<GEOMETRY, SHADER>>> & MeshViewOptions<GEOMETRY, SHADER>;\n\nexport class Mesh<\n    GEOMETRY extends MeshGeometry = MeshGeometry,\n    SHADER extends TextureShader = TextureShader\n> extends Container<MeshView<GEOMETRY, SHADER>>\n{\n    constructor(options: MeshOptions<GEOMETRY, SHADER>);\n    /** @deprecated since 8.0.0 */\n    constructor(geometry: GEOMETRY, shader: SHADER, state?: State, drawMode?: Topology);\n    constructor(...args: [MeshOptions<GEOMETRY, SHADER>] | [GEOMETRY, SHADER, State?, Topology?])\n    {\n        let options = args[0];\n\n        if (options instanceof MeshGeometry)\n        {\n            deprecation(v8_0_0, 'Mesh: use new Mesh({ geometry, shader }) instead');\n\n            options = {\n                geometry: options,\n                shader: args[1],\n            } as MeshOptions<GEOMETRY, SHADER>;\n\n            if (args[3])\n            {\n                deprecation(v8_0_0, 'Mesh: topology argument has been removed, use geometry.topology instead');\n                options.geometry.topology = args[3];\n            }\n        }\n\n        const { geometry, shader, texture, ...rest } = options;\n\n        super({\n            view: new MeshView(definedProps({ geometry, shader, texture })),\n            label: 'Mesh',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    get texture()\n    {\n        return this.view.texture;\n    }\n\n    set texture(value: Texture)\n    {\n        this.view.texture = value;\n    }\n\n    get geometry()\n    {\n        return this.view.geometry;\n    }\n\n    set geometry(value: GEOMETRY)\n    {\n        this.view.geometry = value;\n    }\n\n    get material()\n    {\n        deprecation(v8_0_0, 'mesh.material property has been removed, use mesh.shader instead');\n\n        return this.view.shader;\n    }\n\n    get shader()\n    {\n        return this.view.shader;\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n","import { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { UPDATE_PRIORITY } from '../../ticker/const';\nimport { Ticker } from '../../ticker/Ticker';\nimport { Sprite } from '../sprite/Sprite';\n\n/**\n * An AnimatedSprite is a simple way to display an animation depicted by a list of textures.\n *\n * ```js\n * import { AnimatedSprite, Texture } from 'pixi.js';\n *\n * const alienImages = [\n *     'image_sequence_01.png',\n *     'image_sequence_02.png',\n *     'image_sequence_03.png',\n *     'image_sequence_04.png',\n * ];\n * const textureArray = [];\n *\n * for (let i = 0; i < 4; i++)\n * {\n *     const texture = Texture.from(alienImages[i]);\n *     textureArray.push(texture);\n * }\n *\n * const animatedSprite = new AnimatedSprite(textureArray);\n * ```\n *\n * The more efficient and simpler way to create an animated sprite is using a {@link Spritesheet}\n * containing the animation definitions:\n * @example\n * import { AnimatedSprite, Assets } from 'pixi.js';\n *\n * const sheet = await Assets.load('assets/spritesheet.json');\n * animatedSprite = new AnimatedSprite(sheet.animations['image_sequence']);\n */\nexport class AnimatedSprite extends Sprite\n{\n    /**\n     * The speed that the AnimatedSprite will play at. Higher is faster, lower is slower.\n     * @default 1\n     */\n    public animationSpeed: number;\n\n    /**\n     * Whether or not the animate sprite repeats after playing.\n     * @default true\n     */\n    public loop: boolean;\n\n    /**\n     * Update anchor to [Texture's defaultAnchor]{@link Texture#defaultAnchor} when frame changes.\n     *\n     * Useful with [sprite sheet animations]{@link Spritesheet#animations} created with tools.\n     * Changing anchor for each frame allows to pin sprite origin to certain moving feature\n     * of the frame (e.g. left foot).\n     *\n     * Note: Enabling this will override any previously set `anchor` on each frame change.\n     * @default false\n     */\n    public updateAnchor: boolean;\n\n    /**\n     * User-assigned function to call when an AnimatedSprite finishes playing.\n     * @example\n     * animation.onComplete = () => {\n     *     // Finished!\n     * };\n     */\n    public onComplete?: () => void;\n\n    /**\n     * User-assigned function to call when an AnimatedSprite changes which texture is being rendered.\n     * @example\n     * animation.onFrameChange = () => {\n     *     // Updated!\n     * };\n     */\n    public onFrameChange?: (currentFrame: number) => void;\n\n    /**\n     * User-assigned function to call when `loop` is true, and an AnimatedSprite is played and\n     * loops around to start again.\n     * @example\n     * animation.onLoop = () => {\n     *     // Looped!\n     * };\n     */\n    public onLoop?: () => void;\n\n    private _playing: boolean;\n    private _textures: Texture[];\n    private _durations: number[];\n\n    /**\n     * `true` uses Ticker.shared to auto update animation time.\n     * @default true\n     */\n    private _autoUpdate: boolean;\n\n    /**\n     * `true` if the instance is currently connected to Ticker.shared to auto update animation time.\n     * @default false\n     */\n    private _isConnectedToTicker: boolean;\n\n    /** Elapsed time since animation has been started, used internally to display current texture. */\n    private _currentTime: number;\n\n    /** The texture index that was displayed last time. */\n    private _previousFrame: number;\n\n    /**\n     * @param textures - An array of {@link Texture} or frame\n     *  objects that make up the animation.\n     * @param {boolean} [autoUpdate=true] - Whether to use Ticker.shared to auto update animation time.\n     */\n    constructor(textures: Texture[] | FrameObject[], autoUpdate = true)\n    {\n        super(textures[0] instanceof Texture ? textures[0] : textures[0].texture);\n\n        this._textures = null;\n        this._durations = null;\n        this._autoUpdate = autoUpdate;\n        this._isConnectedToTicker = false;\n\n        this.animationSpeed = 1;\n        this.loop = true;\n        this.updateAnchor = false;\n        this.onComplete = null;\n        this.onFrameChange = null;\n        this.onLoop = null;\n\n        this._currentTime = 0;\n\n        this._playing = false;\n        this._previousFrame = null;\n\n        this.textures = textures;\n    }\n\n    /** Stops the AnimatedSprite. */\n    public stop(): void\n    {\n        if (!this._playing)\n        {\n            return;\n        }\n\n        this._playing = false;\n        if (this._autoUpdate && this._isConnectedToTicker)\n        {\n            Ticker.shared.remove(this.update, this);\n            this._isConnectedToTicker = false;\n        }\n    }\n\n    /** Plays the AnimatedSprite. */\n    public play(): void\n    {\n        if (this._playing)\n        {\n            return;\n        }\n\n        this._playing = true;\n        if (this._autoUpdate && !this._isConnectedToTicker)\n        {\n            Ticker.shared.add(this.update, this, UPDATE_PRIORITY.HIGH);\n            this._isConnectedToTicker = true;\n        }\n    }\n\n    /**\n     * Stops the AnimatedSprite and goes to a specific frame.\n     * @param frameNumber - Frame index to stop at.\n     */\n    public gotoAndStop(frameNumber: number): void\n    {\n        this.stop();\n        this.currentFrame = frameNumber;\n    }\n\n    /**\n     * Goes to a specific frame and begins playing the AnimatedSprite.\n     * @param frameNumber - Frame index to start at.\n     */\n    public gotoAndPlay(frameNumber: number): void\n    {\n        this.currentFrame = frameNumber;\n        this.play();\n    }\n\n    /**\n     * Updates the object transform for rendering.\n     * @param ticker - {Ticker} - current delta time\n     * @param ticker.deltaTime - the delta time since the last tick\n     */\n    public update(ticker: Ticker): void\n    {\n        // If the animation isn't playing, no update is needed.\n        if (!this._playing)\n        {\n            return;\n        }\n\n        // Calculate elapsed time based on ticker's deltaTime and animation speed.\n        const deltaTime = ticker.deltaTime;\n        const elapsed = this.animationSpeed * deltaTime;\n        const previousFrame = this.currentFrame;\n\n        // If there are specific durations set for each frame:\n        if (this._durations !== null)\n        {\n            // Calculate the lag for the current frame based on the current time.\n            let lag = this._currentTime % 1 * this._durations[this.currentFrame];\n\n            // Adjust the lag based on elapsed time.\n            lag += elapsed / 60 * 1000;\n\n            // If the lag is negative, adjust the current time and the lag.\n            while (lag < 0)\n            {\n                this._currentTime--;\n                lag += this._durations[this.currentFrame];\n            }\n\n            const sign = Math.sign(this.animationSpeed * deltaTime);\n\n            // Floor the current time to get a whole number frame.\n            this._currentTime = Math.floor(this._currentTime);\n\n            // Adjust the current time and the lag until the lag is less than the current frame's duration.\n            while (lag >= this._durations[this.currentFrame])\n            {\n                lag -= this._durations[this.currentFrame] * sign;\n                this._currentTime += sign;\n            }\n\n            // Adjust the current time based on the lag and current frame's duration.\n            this._currentTime += lag / this._durations[this.currentFrame];\n        }\n        else\n        {\n            // If no specific durations set, simply adjust the current time by elapsed time.\n            this._currentTime += elapsed;\n        }\n\n        // Handle scenarios when animation reaches the start or the end.\n        if (this._currentTime < 0 && !this.loop)\n        {\n            // If the animation shouldn't loop and it reaches the start, go to the first frame.\n            this.gotoAndStop(0);\n\n            // If there's an onComplete callback, call it.\n            if (this.onComplete)\n            {\n                this.onComplete();\n            }\n        }\n        else if (this._currentTime >= this._textures.length && !this.loop)\n        {\n            // If the animation shouldn't loop and it reaches the end, go to the last frame.\n            this.gotoAndStop(this._textures.length - 1);\n\n            // If there's an onComplete callback, call it.\n            if (this.onComplete)\n            {\n                this.onComplete();\n            }\n        }\n        else if (previousFrame !== this.currentFrame)\n        {\n            // If the current frame is different from the last update, handle loop scenarios.\n            if (this.loop && this.onLoop)\n            {\n                if ((this.animationSpeed > 0 && this.currentFrame < previousFrame)\n                    || (this.animationSpeed < 0 && this.currentFrame > previousFrame))\n                {\n                    // If the animation loops, and there's an onLoop callback, call it.\n                    this.onLoop();\n                }\n            }\n\n            // Update the texture for the current frame.\n            this._updateTexture();\n        }\n    }\n\n    /** Updates the displayed texture to match the current frame index. */\n    private _updateTexture(): void\n    {\n        const currentFrame = this.currentFrame;\n\n        if (this._previousFrame === currentFrame)\n        {\n            return;\n        }\n\n        this._previousFrame = currentFrame;\n\n        this.texture = this._textures[currentFrame];\n\n        if (this.updateAnchor)\n        {\n            this.anchor.copyFrom(this.texture.layout.defaultAnchor);\n        }\n\n        if (this.onFrameChange)\n        {\n            this.onFrameChange(this.currentFrame);\n        }\n    }\n\n    /** Stops the AnimatedSprite and destroys it. */\n    public destroy(): void\n    {\n        this.stop();\n        super.destroy();\n\n        this.onComplete = null;\n        this.onFrameChange = null;\n        this.onLoop = null;\n    }\n\n    /**\n     * A short hand way of creating an AnimatedSprite from an array of frame ids.\n     * @param frames - The array of frames ids the AnimatedSprite will use as its texture frames.\n     * @returns - The new animated sprite with the specified frames.\n     */\n    public static fromFrames(frames: string[]): AnimatedSprite\n    {\n        const textures = [];\n\n        for (let i = 0; i < frames.length; ++i)\n        {\n            textures.push(Texture.from(frames[i]));\n        }\n\n        return new AnimatedSprite(textures);\n    }\n\n    /**\n     * A short hand way of creating an AnimatedSprite from an array of image ids.\n     * @param images - The array of image urls the AnimatedSprite will use as its texture frames.\n     * @returns The new animate sprite with the specified images as frames.\n     */\n    public static fromImages(images: string[]): AnimatedSprite\n    {\n        const textures = [];\n\n        for (let i = 0; i < images.length; ++i)\n        {\n            textures.push(Texture.from(images[i]));\n        }\n\n        return new AnimatedSprite(textures);\n    }\n\n    /**\n     * The total number of frames in the AnimatedSprite. This is the same as number of textures\n     * assigned to the AnimatedSprite.\n     * @readonly\n     * @default 0\n     */\n    get totalFrames(): number\n    {\n        return this._textures.length;\n    }\n\n    /** The array of textures used for this AnimatedSprite. */\n    get textures(): Texture[] | FrameObject[]\n    {\n        return this._textures;\n    }\n\n    set textures(value: Texture[] | FrameObject[])\n    {\n        if (value[0] instanceof Texture)\n        {\n            this._textures = value as Texture[];\n            this._durations = null;\n        }\n        else\n        {\n            this._textures = [];\n            this._durations = [];\n\n            for (let i = 0; i < value.length; i++)\n            {\n                this._textures.push((value[i] as FrameObject).texture);\n                this._durations.push((value[i] as FrameObject).time);\n            }\n        }\n        this._previousFrame = null;\n        this.gotoAndStop(0);\n        this._updateTexture();\n    }\n\n    /** The AnimatedSprite's current frame index. */\n    get currentFrame(): number\n    {\n        let currentFrame = Math.floor(this._currentTime) % this._textures.length;\n\n        if (currentFrame < 0)\n        {\n            currentFrame += this._textures.length;\n        }\n\n        return currentFrame;\n    }\n\n    set currentFrame(value: number)\n    {\n        if (value < 0 || value > this.totalFrames - 1)\n        {\n            throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, `\n                + `expected to be between 0 and totalFrames ${this.totalFrames}.`);\n        }\n\n        const previousFrame = this.currentFrame;\n\n        this._currentTime = value;\n\n        if (previousFrame !== this.currentFrame)\n        {\n            this._updateTexture();\n        }\n    }\n\n    /**\n     * Indicates if the AnimatedSprite is currently playing.\n     * @readonly\n     */\n    get playing(): boolean\n    {\n        return this._playing;\n    }\n\n    /** Whether to use Ticker.shared to auto update animation time. */\n    get autoUpdate(): boolean\n    {\n        return this._autoUpdate;\n    }\n\n    set autoUpdate(value: boolean)\n    {\n        if (value !== this._autoUpdate)\n        {\n            this._autoUpdate = value;\n\n            if (!this._autoUpdate && this._isConnectedToTicker)\n            {\n                Ticker.shared.remove(this.update, this);\n                this._isConnectedToTicker = false;\n            }\n            else if (this._autoUpdate && !this._isConnectedToTicker && this._playing)\n            {\n                Ticker.shared.add(this.update, this);\n                this._isConnectedToTicker = true;\n            }\n        }\n    }\n}\n\n/** @memberof AnimatedSprite */\nexport interface FrameObject\n{\n    /** The {@link Texture} of the frame. */\n    texture: Texture;\n\n    /** The duration of the frame, in milliseconds. */\n    time: number;\n}\n","import { Matrix } from '../maths/matrix/Matrix';\nimport { ObservablePoint } from '../maths/point/ObservablePoint';\n\nimport type { Observer } from '../maths/point/ObservablePoint';\n\nexport interface TransformOptions\n{\n    matrix?: Matrix;\n    observer?: {onUpdate: (transform: Transform) => void}\n}\n\n/** Transform that takes care about its versions. */\nexport class Transform\n{\n    /**\n     * The local transformation matrix.\n     * @internal\n     */\n    public _matrix: Matrix;\n\n    /** The coordinate of the object relative to the local coordinates of the parent. */\n    public position: ObservablePoint;\n\n    /** The scale factor of the object. */\n    public scale: ObservablePoint;\n\n    /** The pivot point of the container that it rotates around. */\n    public pivot: ObservablePoint;\n\n    /** The skew amount, on the x and y axis. */\n    public skew: ObservablePoint;\n\n    /** The rotation amount. */\n    protected _rotation: number;\n\n    /**\n     * The X-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     */\n    protected _cx: number;\n\n    /**\n     * The Y-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     */\n    protected _sx: number;\n\n    /**\n     * The X-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     */\n    protected _cy: number;\n\n    /**\n     * The Y-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     */\n    protected _sy: number;\n\n    protected dirty = true;\n    protected observer: Observer<Transform>;\n\n    constructor({ matrix, observer }: TransformOptions = {})\n    {\n        this._matrix = matrix ?? new Matrix();\n        this.observer = observer;\n\n        this.position = new ObservablePoint(this, 0, 0);\n        this.scale = new ObservablePoint(this, 1, 1);\n        this.pivot = new ObservablePoint(this, 0, 0);\n        this.skew = new ObservablePoint(this, 0, 0);\n\n        this._rotation = 0;\n        this._cx = 1;\n        this._sx = 0;\n        this._cy = 0;\n        this._sy = 1;\n    }\n\n    get matrix(): Matrix\n    {\n        const lt = this._matrix;\n\n        if (!this.dirty) return lt;\n\n        lt.a = this._cx * this.scale.x;\n        lt.b = this._sx * this.scale.x;\n        lt.c = this._cy * this.scale.y;\n        lt.d = this._sy * this.scale.y;\n\n        lt.tx = this.position.x - ((this.pivot.x * lt.a) + (this.pivot.y * lt.c));\n        lt.ty = this.position.y - ((this.pivot.x * lt.b) + (this.pivot.y * lt.d));\n\n        this.dirty = false;\n\n        return lt;\n    }\n    /**\n     * Called when a value changes.\n     * @param point\n     * @internal\n     */\n    public onUpdate(point?: ObservablePoint): void\n    {\n        this.dirty = true;\n\n        if (point === this.skew)\n        {\n            this.updateSkew();\n        }\n\n        this.observer?.onUpdate(this);\n    }\n\n    /** Called when the skew or the rotation changes. */\n    protected updateSkew(): void\n    {\n        this._cx = Math.cos(this._rotation + this.skew.y);\n        this._sx = Math.sin(this._rotation + this.skew.y);\n        this._cy = -Math.sin(this._rotation - this.skew.x); // cos, added PI/2\n        this._sy = Math.cos(this._rotation - this.skew.x); // sin, added PI/2\n\n        this.dirty = true;\n    }\n\n    // #if _DEBUG\n    public toString(): string\n    {\n        return `[@pixi/math:Transform `\n            + `position=(${this.position.x}, ${this.position.y}) `\n            + `rotation=${this.rotation} `\n            + `scale=(${this.scale.x}, ${this.scale.y}) `\n            + `skew=(${this.skew.x}, ${this.skew.y}) `\n            + `]`;\n    }\n    // #endif\n\n    /**\n     * Decomposes a matrix and sets the transforms properties based on it.\n     * @param matrix - The matrix to decompose\n     */\n    public setFromMatrix(matrix: Matrix): void\n    {\n        matrix.decompose(this);\n        this.dirty = true;\n    }\n\n    /** The rotation of the object in radians. */\n    get rotation(): number\n    {\n        return this._rotation;\n    }\n\n    set rotation(value: number)\n    {\n        if (this._rotation !== value)\n        {\n            this._rotation = value;\n            this.updateSkew();\n        }\n    }\n}\n","import { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { emptyViewObserver } from '../../rendering/renderers/shared/view/View';\nimport { uid } from '../../utils/data/uid';\nimport { Transform } from '../../utils/Transform';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { View } from '../../rendering/renderers/shared/view/View';\nimport type { Bounds } from '../container/bounds/Bounds';\nimport type { TextureDestroyOptions, TypeOrBool } from '../container/destroyTypes';\n\nexport interface TilingSpriteViewOptions\n{\n    texture?: Texture\n    width?: number\n    height?: number\n    // TODO needs a better name..\n    applyAnchorToTexture?: boolean\n}\n\nexport class TilingSpriteView implements View\n{\n    public static defaultOptions: TilingSpriteViewOptions = {\n        texture: Texture.WHITE,\n        width: 256,\n        height: 256,\n        applyAnchorToTexture: false,\n    };\n\n    public readonly owner = emptyViewObserver;\n    public readonly uid = uid('tilingSpriteView');\n    public readonly renderPipeId = 'tilingSprite';\n    public batched = true;\n    public anchor: ObservablePoint;\n\n    /** @internal */\n    public _tileTransform: Transform;\n    /** @internal */\n    public _texture: Texture;\n    /** @internal */\n    public _applyAnchorToTexture: boolean;\n    /** @internal */\n    public _didUpdate: boolean;\n\n    public roundPixels: 0 | 1 = 0;\n\n    private _bounds: [number, number, number, number] = [0, 1, 0, 0];\n    private _boundsDirty = true;\n    private _width: number;\n    private _height: number;\n\n    constructor(options: TilingSpriteViewOptions)\n    {\n        options = { ...TilingSpriteView.defaultOptions, ...options };\n\n        this.anchor = new ObservablePoint(this, 0, 0);\n\n        this._applyAnchorToTexture = options.applyAnchorToTexture;\n\n        this.texture = options.texture;\n        this._width = options.width;\n        this._height = options.height;\n        this._tileTransform = new Transform({ observer: this });\n    }\n\n    get bounds()\n    {\n        if (this._boundsDirty)\n        {\n            this._updateBounds();\n            this._boundsDirty = false;\n        }\n\n        return this._bounds;\n    }\n\n    set texture(value: Texture)\n    {\n        if (this._texture === value) return;\n\n        this._texture = value;\n\n        this.onUpdate();\n    }\n\n    get texture()\n    {\n        return this._texture;\n    }\n\n    set width(value: number)\n    {\n        this._width = value;\n        this.onUpdate();\n    }\n\n    get width()\n    {\n        return this._width;\n    }\n\n    set height(value: number)\n    {\n        this._height = value;\n        this.onUpdate();\n    }\n\n    get height()\n    {\n        return this._height;\n    }\n\n    private _updateBounds()\n    {\n        const bounds = this._bounds;\n\n        const anchor = this.anchor;\n\n        const width = this._width;\n        const height = this._height;\n\n        bounds[1] = -anchor._x * width;\n        bounds[0] = bounds[1] + width;\n\n        bounds[3] = -anchor._y * height;\n        bounds[2] = bounds[3] + height;\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        const _bounds = this.bounds;\n\n        bounds.addFrame(\n            _bounds[0],\n            _bounds[2],\n            _bounds[1],\n            _bounds[3],\n        );\n    }\n\n    public containsPoint(point: PointData)\n    {\n        const width = this.bounds[2];\n        const height = this.bounds[3];\n        const x1 = -width * this.anchor.x;\n        let y1 = 0;\n\n        if (point.x >= x1 && point.x < x1 + width)\n        {\n            y1 = -height * this.anchor.y;\n\n            if (point.y >= y1 && point.y < y1 + height) return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * @internal\n     */\n    public onUpdate()\n    {\n        this._boundsDirty = true;\n        this._didUpdate = true;\n        this.owner.onViewUpdate();\n    }\n\n    /**\n     * Destroys this sprite renderable and optionally its texture.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the renderable as well\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the renderable as well\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false)\n    {\n        this.anchor = null;\n        this._tileTransform = null;\n        this._bounds = null;\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            this._texture.destroy(destroyTextureSource);\n        }\n\n        this._texture = null;\n    }\n}\n","import { Container } from '../container/Container';\nimport { definedProps } from '../container/utils/definedProps';\nimport { TilingSpriteView } from './TilingSpriteView';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { PointLike } from '../../maths/point/PointLike';\nimport type { ContainerOptions } from '../container/Container';\nimport type { TilingSpriteViewOptions } from './TilingSpriteView';\n\nexport interface TilingSpriteOptions extends TilingSpriteViewOptions, Partial<ContainerOptions<TilingSpriteView>>\n{\n    anchor?: PointData\n    tilePosition?: PointData\n    tileScale?: PointData\n    tileRotation?: number\n}\n\nexport class TilingSprite extends Container<TilingSpriteView>\n{\n    constructor(options?: TilingSpriteOptions)\n    {\n        const { texture, width, height, applyAnchorToTexture, ...rest } = options ?? {};\n\n        super({\n            view: new TilingSpriteView(definedProps({\n                texture,\n                width,\n                height,\n                applyAnchorToTexture,\n            })),\n            label: 'TilingSprite',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    set texture(value)\n    {\n        this.view.texture = value;\n    }\n\n    get texture()\n    {\n        return this.view.texture;\n    }\n\n    get anchor(): PointLike\n    {\n        return this.view.anchor;\n    }\n\n    set anchor(value: PointData)\n    {\n        this.view.anchor.x = value.x;\n        this.view.anchor.y = value.y;\n    }\n\n    get width(): number\n    {\n        return this.view.width;\n    }\n\n    set width(value: number)\n    {\n        this.view.width = value;\n    }\n\n    get height(): number\n    {\n        return this.view.height;\n    }\n\n    set height(value: number)\n    {\n        this.view.height = value;\n    }\n\n    get tilePosition()\n    {\n        return this.view._tileTransform.position;\n    }\n\n    set tilePosition(value: PointData)\n    {\n        this.view._tileTransform.position.copyFrom(value);\n    }\n\n    get tileScale()\n    {\n        return this.view._tileTransform.scale;\n    }\n\n    set tileScale(value: PointData)\n    {\n        this.view._tileTransform.scale.copyFrom(value);\n    }\n\n    set tileRotation(value)\n    {\n        this.view._tileTransform.rotation = value;\n    }\n\n    get tileRotation()\n    {\n        return this.view._tileTransform.rotation;\n    }\n\n    get tileTransform()\n    {\n        return this.view._tileTransform;\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n\n","import { Color } from '../../../../color/Color';\n\nimport type { StrokeStyle } from '../../../graphics/shared/GraphicsContext';\nimport type { TextStyle } from '../../TextStyle';\nimport type { HTMLTextStyle, HTMLTextStyleOptions } from '../HtmlTextStyle';\n\n/**\n * Internally converts all of the style properties into CSS equivalents.\n * @param style\n * @returns The CSS style string, for setting `style` property of root HTMLElement.\n */\nexport function textStyleToCSS(style: HTMLTextStyle): string\n{\n    const stroke = style._stroke;\n    const fill = style._fill;\n\n    const cssStyleString = [\n        `color: ${Color.shared.setValue(fill.color).toHex()}`,\n        `font-size: ${(style.fontSize as number)}px`,\n        `font-family: ${style.fontFamily}`,\n        `font-weight: ${style.fontWeight}`,\n        `font-style: ${style.fontStyle}`,\n        `font-variant: ${style.fontVariant}`,\n        `letter-spacing: ${style.letterSpacing}px`,\n        `text-align: ${style.align}`,\n        `padding: ${style.padding}px`,\n        `white-space: ${style.whiteSpace}`,\n        ...style.lineHeight ? [`line-height: ${style.lineHeight}px`] : [],\n        ...style.wordWrap ? [\n            `word-wrap: ${style.breakWords ? 'break-all' : 'break-word'}`,\n            `max-width: ${style.wordWrapWidth}px`\n        ] : [],\n        ...stroke ? [strokeToCSS(stroke)] : [],\n        ...style.dropShadow ? [dropShadowToCSS(style.dropShadow)] : [],\n        ...style.cssOverrides,\n    ].join(';');\n\n    const cssStyles = [`div { ${cssStyleString} }`];\n\n    tagStyleToCSS(style.tagStyles, cssStyles);\n\n    return cssStyles.join(' ');\n}\n\nfunction dropShadowToCSS(dropShadowStyle: TextStyle['dropShadow']): string\n{\n    const color = Color.shared.setValue(dropShadowStyle.color).setAlpha(dropShadowStyle.alpha).toHexa();\n    const x = Math.round(Math.cos(dropShadowStyle.angle) * dropShadowStyle.distance);\n    const y = Math.round(Math.sin(dropShadowStyle.angle) * dropShadowStyle.distance);\n\n    const position = `${x}px ${y}px`;\n\n    if (dropShadowStyle.blur > 0)\n    {\n        return `text-shadow: ${position} ${dropShadowStyle.blur}px ${color}`;\n    }\n\n    return `text-shadow: ${position} ${color}`;\n}\n\nfunction strokeToCSS(stroke: StrokeStyle): string\n{\n    return [\n        `-webkit-text-stroke-width: ${stroke.width}px`,\n        `-webkit-text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n        `text-stroke-width: ${stroke.width}px`,\n        `text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n        'paint-order: stroke',\n    ].join(';');\n}\n\n/** Converts the tag styles into CSS. */\nconst templates = {\n    fontSize: `font-size: {{VALUE}}px`,\n    fontFamily: `font-family: {{VALUE}}`,\n    fontWeight: `font-weight: {{VALUE}}`,\n    fontStyle: `font-style: {{VALUE}}`,\n    fontVariant: `font-variant: {{VALUE}}`,\n    letterSpacing: `letter-spacing: {{VALUE}}px`,\n    align: `text-align: {{VALUE}}`,\n    padding: `padding: {{VALUE}}px`,\n    whiteSpace: `white-space: {{VALUE}}`,\n    lineHeight: `line-height: {{VALUE}}px`,\n    wordWrapWidth: `max-width: {{VALUE}}px`,\n};\n\n/** Converts the tag styles into CSS if modifications are required */\nconst transform = {\n    fill: (value: string) => `color: ${Color.shared.setValue(value).toHex()}`,\n    breakWords: (value: string) => `word-wrap: ${value ? 'break-all' : 'break-word'}`,\n    stroke: strokeToCSS,\n    dropShadow: dropShadowToCSS\n};\n\nfunction tagStyleToCSS(tagStyles: Record<string, HTMLTextStyleOptions>, out: string[])\n{\n    for (const i in tagStyles)\n    {\n        const tagStyle = tagStyles[i];\n        const cssTagStyle = [];\n\n        for (const j in tagStyle)\n        {\n            if (transform[j as keyof typeof transform])\n            {\n                // eslint-disable-next-line max-len\n                cssTagStyle.push(transform[j as keyof typeof transform](tagStyle[j as keyof HTMLTextStyleOptions] as any));\n            }\n            else if (templates[j as keyof typeof templates])\n            {\n                // eslint-disable-next-line max-len\n                cssTagStyle.push(templates[j as keyof typeof templates].replace('{{VALUE}}', tagStyle[j as keyof HTMLTextStyleOptions] as any));\n            }\n        }\n\n        out.push(`${i} { ${cssTagStyle.join(';')} }`);\n    }\n}\n","/* eslint-disable accessor-pairs */\nimport { warn } from '../../../utils/logging/warn';\nimport { TextStyle } from '../TextStyle';\nimport { generateTextStyleKey } from '../utils/generateTextStyleKey';\nimport { textStyleToCSS } from './utils/textStyleToCSS';\n\nimport type { FillStyleInputs } from '../../graphics/shared/GraphicsContext';\nimport type { TextStyleOptions } from '../TextStyle';\n\nexport interface HTMLTextStyleOptions extends Omit<TextStyleOptions, 'leading' | 'textBaseline' | 'trim' >\n{\n    cssOverrides?: string[];\n    tagStyles?: Record<string, HTMLTextStyleOptions>;\n}\n\nexport class HTMLTextStyle extends TextStyle\n{\n    private _cssOverrides: string[] = [];\n    private _cssStyle: string;\n    public tagStyles: Record<string, HTMLTextStyleOptions>;\n\n    constructor(options: HTMLTextStyleOptions = {})\n    {\n        super(options);\n\n        this.cssOverrides ??= options.cssOverrides;\n        this.tagStyles = options.tagStyles ?? {};\n    }\n\n    set cssOverrides(value: string | string[])\n    {\n        this._cssOverrides = value instanceof Array ? value : [value];\n        this.update();\n    }\n\n    get cssOverrides(): string[]\n    {\n        return this._cssOverrides;\n    }\n\n    protected override _generateKey(): string\n    {\n        this._styleKey = generateTextStyleKey(this) + this._cssOverrides.join('-');\n\n        return this._styleKey;\n    }\n\n    public update()\n    {\n        this._cssStyle = null;\n        super.update();\n    }\n\n    public clone(): HTMLTextStyle\n    {\n        return new HTMLTextStyle({\n            align: this.align,\n            breakWords: this.breakWords,\n            dropShadow: this.dropShadow,\n            fill: this._fill,\n            fontFamily: this.fontFamily,\n            fontSize: this.fontSize,\n            fontStyle: this.fontStyle,\n            fontVariant: this.fontVariant,\n            fontWeight: this.fontWeight,\n            letterSpacing: this.letterSpacing,\n            lineHeight: this.lineHeight,\n            padding: this.padding,\n            stroke: this._stroke,\n            whiteSpace: this.whiteSpace,\n            wordWrap: this.wordWrap,\n            wordWrapWidth: this.wordWrapWidth,\n            cssOverrides: this.cssOverrides,\n        });\n    }\n\n    get cssStyle(): string\n    {\n        if (!this._cssStyle)\n        {\n            this._cssStyle = textStyleToCSS(this);\n        }\n\n        return this._cssStyle;\n    }\n\n    /**\n     * Add a style override, this can be any CSS property\n     * it will override any built-in style. This is the\n     * property and the value as a string (e.g., `color: red`).\n     * This will override any other internal style.\n     * @param {string} value - CSS style(s) to add.\n     * @example\n     * style.addOverride('background-color: red');\n     */\n    public addOverride(...value: string[]): void\n    {\n        const toAdd = value.filter((v) => !this.cssOverrides.includes(v));\n\n        if (toAdd.length > 0)\n        {\n            this.cssOverrides.push(...toAdd);\n            this.update();\n        }\n    }\n\n    /**\n     * Remove any overrides that match the value.\n     * @param {string} value - CSS style to remove.\n     * @example\n     * style.removeOverride('background-color: red');\n     */\n    public removeOverride(...value: string[]): void\n    {\n        const toRemove = value.filter((v) => this.cssOverrides.includes(v));\n\n        if (toRemove.length > 0)\n        {\n            this.cssOverrides = this.cssOverrides.filter((v) => !toRemove.includes(v));\n            this.update();\n        }\n    }\n\n    override set fill(value: FillStyleInputs)\n    {\n        // if its not a string or a number, then its a texture!\n        if (typeof value !== 'string' && typeof value !== 'number')\n        {\n            // #if _DEBUG\n            warn('[HTMLTextStyle] only color fill is not supported by HTMLText');\n            // #endif\n        }\n\n        super.fill = value;\n    }\n\n    override set stroke(value: FillStyleInputs)\n    {\n        // if its not a string or a number, then its a texture!\n        if (value && typeof value !== 'string' && typeof value !== 'number')\n        {\n            // #if _DEBUG\n            warn('[HTMLTextStyle] only color stroke is not supported by HTMLText');\n            // #endif\n        }\n\n        super.stroke = value;\n    }\n}\n","import { HTMLTextStyle } from '../html/HtmlTextStyle';\nimport { TextStyle } from '../TextStyle';\n\nimport type { HTMLTextStyleOptions } from '../html/HtmlTextStyle';\nimport type { TextStyleOptions } from '../TextStyle';\n\n/**\n * converts the style input into the correct type of TextStyle\n * either HTMLTextStyle or TextStyle based on the renderMode.\n * @param renderMode - The render mode to use\n * @param style - The style to use\n * @returns - The style class\n */\nexport function ensureTextStyle(\n    renderMode: string,\n    style: TextStyle | HTMLTextStyle | TextStyleOptions | HTMLTextStyleOptions\n)\n{\n    if (style instanceof TextStyle || style instanceof HTMLTextStyle)\n    {\n        return style;\n    }\n\n    return renderMode === 'html'\n        ? new HTMLTextStyle(style)\n        : new TextStyle(style);\n}\n","import { Cache } from '../../assets/cache/Cache';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { emptyViewObserver } from '../../rendering/renderers/shared/view/View';\nimport { uid } from '../../utils/data/uid';\nimport { BitmapFont } from './bitmap/BitmapFont';\nimport { BitmapFontManager } from './bitmap/BitmapFontManager';\nimport { DynamicBitmapFont } from './bitmap/DynamicBitmapFont';\nimport { CanvasTextMetrics } from './canvas/CanvasTextMetrics';\nimport { HTMLTextStyle } from './html/HtmlTextStyle';\nimport { measureHtmlText } from './html/utils/measureHtmlText';\nimport { ensureTextStyle } from './utils/ensureTextStyle';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { View, ViewObserver } from '../../rendering/renderers/shared/view/View';\nimport type { Bounds } from '../container/bounds/Bounds';\nimport type { TextureDestroyOptions, TypeOrBool } from '../container/destroyTypes';\nimport type { HTMLTextStyleOptions } from './html/HtmlTextStyle';\nimport type { TextStyle, TextStyleOptions } from './TextStyle';\n\nexport type TextString = string | number | {toString: () => string};\nexport type AnyTextStyle = TextStyle | HTMLTextStyle;\nexport type AnyTextStyleOptions = TextStyleOptions | HTMLTextStyleOptions;\n\ntype Filter<T> = { [K in keyof T]: {\n    text?: TextString;\n    renderMode?: K;\n    resolution?: number;\n    style?: T[K]\n} } [keyof T];\n\nexport type TextStyles = {\n    canvas: TextStyleOptions | TextStyle;\n    html: HTMLTextStyleOptions | HTMLTextStyle;\n    bitmap: TextStyleOptions | TextStyle;\n};\n\nexport type TextViewOptions = Filter<TextStyles>;\n\nconst map = {\n    canvas: 'text',\n    html: 'htmlText',\n    bitmap: 'bitmapText',\n};\n\nexport class TextView implements View\n{\n    public readonly uid: number = uid('textView');\n    public readonly renderPipeId: string = 'text';\n    public readonly owner: ViewObserver = emptyViewObserver;\n    public batched = true;\n    public anchor: ObservablePoint;\n    public resolution: number = null;\n\n    /** @internal */\n    public _style: AnyTextStyle;\n    /** @internal */\n    public _didUpdate = true;\n    public roundPixels?: 0 | 1 = 0;\n\n    private _bounds: [number, number, number, number] = [0, 1, 0, 0];\n    private _boundsDirty = true;\n    private _text: string;\n    private readonly _renderMode: string;\n\n    constructor(options: TextViewOptions)\n    {\n        this.text = options.text ?? '';\n\n        const renderMode = options.renderMode ?? this._detectRenderType(options.style);\n\n        this._renderMode = renderMode;\n\n        this._style = ensureTextStyle(renderMode, options.style);\n\n        this.renderPipeId = map[renderMode];\n\n        this.anchor = new ObservablePoint(this, 0, 0);\n\n        this.resolution = options.resolution ?? null;\n    }\n\n    set text(value: TextString)\n    {\n        // check its a string\n        value = value.toString();\n\n        if (this._text === value) return;\n\n        this._text = value as string;\n        this.onUpdate();\n    }\n\n    get text(): string\n    {\n        return this._text;\n    }\n\n    get style(): AnyTextStyle\n    {\n        return this._style;\n    }\n\n    set style(style: AnyTextStyle | Partial<AnyTextStyle> | AnyTextStyleOptions)\n    {\n        style = style || {};\n\n        this._style?.off('update', this.onUpdate, this);\n\n        this._style = ensureTextStyle(this._renderMode, style);\n\n        this._style.on('update', this.onUpdate, this);\n        this.onUpdate();\n    }\n\n    get bounds()\n    {\n        if (this._boundsDirty)\n        {\n            this._updateBounds();\n            this._boundsDirty = false;\n        }\n\n        return this._bounds;\n    }\n\n    public addBounds(bounds: Bounds)\n    {\n        const _bounds = this.bounds;\n\n        bounds.addFrame(\n            _bounds[0],\n            _bounds[2],\n            _bounds[1],\n            _bounds[3],\n        );\n    }\n\n    public containsPoint(point: PointData)\n    {\n        const width = this.bounds[2];\n        const height = this.bounds[3];\n        const x1 = -width * this.anchor.x;\n        let y1 = 0;\n\n        if (point.x >= x1 && point.x < x1 + width)\n        {\n            y1 = -height * this.anchor.y;\n\n            if (point.y >= y1 && point.y < y1 + height) return true;\n        }\n\n        return false;\n    }\n\n    /** @internal */\n    public onUpdate()\n    {\n        this._didUpdate = true;\n        this._boundsDirty = true;\n        this.owner.onViewUpdate();\n    }\n\n    /** @internal */\n    public _getKey(): string\n    {\n        // TODO add a dirty flag...\n        return `${this.text}:${this._style.styleKey}`;\n    }\n\n    private _updateBounds()\n    {\n        const bounds = this._bounds;\n        const padding = this._style.padding;\n        const anchor = this.anchor;\n\n        if (this.renderPipeId === 'bitmapText')\n        {\n            const bitmapMeasurement = BitmapFontManager.measureText(this.text, this._style);\n            const scale = bitmapMeasurement.scale;\n            const offset = bitmapMeasurement.offsetY * scale;\n\n            const width = bitmapMeasurement.width * scale;\n            const height = bitmapMeasurement.height * scale;\n\n            bounds[0] = (-anchor._x * width) - padding;\n            bounds[1] = bounds[0] + width;\n            bounds[2] = (-anchor._y * (height + offset)) - padding;\n            bounds[3] = bounds[2] + height;\n        }\n        else if (this.renderPipeId === 'htmlText')\n        {\n            const htmlMeasurement = measureHtmlText(this.text, this._style as HTMLTextStyle);\n\n            const { width, height } = htmlMeasurement;\n\n            bounds[0] = (-anchor._x * width) - padding;\n            bounds[1] = bounds[0] + width;\n            bounds[2] = (-anchor._y * height) - padding;\n            bounds[3] = bounds[2] + height;\n        }\n        else\n        {\n            const canvasMeasurement = CanvasTextMetrics.measureText(this.text, this._style);\n\n            const { width, height } = canvasMeasurement;\n\n            bounds[0] = (-anchor._x * width) - padding;\n            bounds[1] = bounds[0] + width;\n            bounds[2] = (-anchor._y * height) - padding;\n            bounds[3] = bounds[2] + height;\n        }\n    }\n\n    private _detectRenderType(style: TextStyleOptions | AnyTextStyle): 'canvas' | 'html' | 'bitmap'\n    {\n        if (style instanceof HTMLTextStyle)\n        {\n            return 'html';\n        }\n\n        const fontData = Cache.get(style?.fontFamily as string);\n\n        if (fontData instanceof DynamicBitmapFont || fontData instanceof BitmapFont)\n        {\n            return 'bitmap';\n        }\n\n        return 'canvas';\n    }\n\n    /**\n     * Destroys this text renderable and optionally its style texture.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the texture of the text style\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the text style\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false): void\n    {\n        (this as any).owner = null;\n        this._bounds = null;\n        this.anchor = null;\n\n        this._style.destroy(options);\n        this._style = null;\n        this._text = null;\n    }\n}\n","import { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { Container } from '../container/Container';\nimport { definedProps } from '../container/utils/definedProps';\nimport { TextView } from './TextView';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { PointLike } from '../../maths/point/PointLike';\nimport type { ContainerOptions } from '../container/Container';\nimport type { HTMLTextStyle } from './html/HtmlTextStyle';\nimport type { TextStyle } from './TextStyle';\nimport type { AnyTextStyle, AnyTextStyleOptions, TextString, TextViewOptions } from './TextView';\n\nexport type TextOptions = Partial<ContainerOptions<TextView>> & TextViewOptions &\n{\n    anchor?: PointLike\n};\n\nexport class Text extends Container<TextView>\n{\n    constructor(options: TextOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(text: TextString, options?: Partial<AnyTextStyle>);\n    constructor(...args: [TextOptions] | [TextString, Partial<AnyTextStyle>])\n    {\n        let options = args[0];\n\n        // @deprecated\n        if (typeof options === 'string' || args[1])\n        {\n            deprecation(v8_0_0, 'use new Text({ text: \"hi!\", style }) instead');\n            options = {\n                text: options,\n                style: args[1],\n            } as TextOptions;\n        }\n\n        const { style, text, renderMode, resolution, ...rest } = options as TextOptions;\n\n        super({\n            view: new TextView(definedProps({ style, text, renderMode, resolution })),\n            label: 'Text',\n            ...rest\n        });\n\n        this.allowChildren = false;\n    }\n\n    get anchor(): PointLike\n    {\n        return this.view.anchor;\n    }\n\n    set anchor(value: PointData)\n    {\n        this.view.anchor.x = value.x;\n        this.view.anchor.y = value.y;\n    }\n\n    set text(value: TextString)\n    {\n        this.view.text = value;\n    }\n\n    get text(): string\n    {\n        return this.view.text;\n    }\n\n    set style(value: AnyTextStyle | Partial<AnyTextStyle> | AnyTextStyleOptions)\n    {\n        this.view.style = value;\n    }\n\n    get style(): AnyTextStyle\n    {\n        return this.view.style;\n    }\n\n    get roundPixels()\n    {\n        return !!this.view.roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this.view.roundPixels = value ? 1 : 0;\n    }\n}\n\n/** @deprecated 8.0.0 */\nexport class BitmapText extends Text\n{\n    constructor(options: TextOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(text: TextString, options?: Partial<TextStyle>);\n    constructor(...args: [TextOptions] | [TextString, Partial<TextStyle>])\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'use new Text({ text: \"hi!\", style, renderMode: \"bitmap\" }) instead');\n\n        let options: TextOptions = args[0] as TextOptions;\n\n        // @deprecated\n        if (typeof options === 'string' || args[1])\n        {\n            options = {\n                text: options,\n                style: args[1],\n            } as TextOptions;\n        }\n\n        options.renderMode = 'bitmap';\n\n        super(options);\n    }\n}\n\n/** @deprecated since 8.0.0 */\nexport class HTMLText extends Text\n{\n    constructor(options: TextOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(text: TextString, options?: Partial<HTMLTextStyle>);\n    constructor(...args: [TextOptions] | [TextString, Partial<HTMLTextStyle>])\n    {\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'use new Text({ text: \"hi!\", style, renderMode: \"html\" }) instead');\n\n        let options: TextOptions = args[0] as TextOptions;\n\n        // @deprecated\n        if (typeof options === 'string' || args[1])\n        {\n            options = {\n                text: options,\n                style: args[1],\n            } as TextOptions;\n        }\n\n        options.renderMode = 'html';\n\n        super(options);\n    }\n}\n","import EventEmitter from 'eventemitter3';\n\n/**\n * Regexp for data URI.\n * Based on: {@link https://github.com/ragingwind/data-uri-regex}\n * @static\n * @type {RegExp}\n * @example\n * import { DATA_URI } from 'pixi.js';\n *\n * DATA_URI.test('data:image/png;base64,foobar'); // => true\n */\nexport const DATA_URI = /^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i;\n\n// export the event emitter so we can use it in external modules\nexport { EventEmitter };\n","import type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../../rendering/renderers/types';\n\nexport async function logDebugTexture(texture: Texture, renderer: Renderer, size = 200)\n{\n    const base64 = await renderer.extract.base64(texture);\n\n    await renderer.encoder.commandFinished;\n\n    const width = size;\n\n    // eslint-disable-next-line no-console\n    console.log(`logging texture ${texture.source.width}px ${texture.source.height}px`);\n\n    const style = [\n        'font-size: 1px;',\n        `padding: ${width}px ${300}px;`,\n        `background: url(${base64}) no-repeat;`,\n        'background-size: contain;',\n    ].join(' ');\n\n    // eslint-disable-next-line no-console\n    console.log('%c ', style);\n}\n","/* eslint-disable no-console */\n\nimport { Sprite } from '../../scene/sprite/Sprite';\n\nimport type { Container } from '../../scene/container/Container';\nimport type { LayerGroup } from '../../scene/container/LayerGroup';\n\nconst colors = [\n    '#000080', // Navy Blue\n    '#228B22', // Forest Green\n    '#8B0000', // Dark Red\n    '#4169E1', // Royal Blue\n    '#008080', // Teal\n    '#800000', // Maroon\n    '#9400D3', // Dark Violet\n    '#FF8C00', // Dark Orange\n    '#556B2F', // Olive Green\n    '#8B008B' // Dark Magenta\n];\n\nlet colorTick = 0;\n\nexport function logScene(container: Container, depth = 0, data: {color?: string} = { color: '#000000' })\n{\n    if (container.isLayerRoot)\n    {\n        data.color = colors[colorTick++];\n    }\n\n    //    turn depth into number of spaces:\n    let spaces = '';\n\n    for (let i = 0; i < depth; i++)\n    {\n        spaces += '    ';\n    }\n\n    let label = container.label;\n\n    if (!label && container instanceof Sprite)\n    {\n        label = `sprite:${container.view.texture.label}`;\n    }\n\n    // eslint-disable-next-line max-len\n    let output = `%c ${spaces}|- ${label} (worldX:${container.worldTransform.tx}, layerX:${container.layerTransform.tx}, localX:${container.x})`;\n\n    if (container.isLayerRoot)\n    {\n        output += ' (LayerGroup)';\n    }\n\n    if (container.filters)\n    {\n        output += '(*filters)';\n    }\n\n    console.log(output, `color:${data.color}; font-weight:bold;`);\n\n    depth++;\n\n    for (let i = 0; i < container.children.length; i++)\n    {\n        const child = container.children[i];\n\n        logScene(child, depth, { ...data });\n    }\n}\n\nexport function logLayerGroupScene(\n    layerGroup: LayerGroup, depth = 0,\n    data: {index: number, color?: string} = { index: 0, color: '#000000' }\n)\n{\n    // turn depth into number of spaces:\n    let spaces = '';\n\n    for (let i = 0; i < depth; i++)\n    {\n        spaces += '    ';\n    }\n\n    const output = `%c ${spaces}- ${data.index}: ${layerGroup.root.label} worldX:${layerGroup.worldTransform.tx}`;\n\n    console.log(output, `color:${data.color}; font-weight:bold;`);\n\n    depth++;\n\n    for (let i = 0; i < layerGroup.layerGroupChildren.length; i++)\n    {\n        const child = layerGroup.layerGroupChildren[i];\n\n        logLayerGroupScene(child, depth, { ...data, index: i });\n    }\n}\n"],"names":["ExtensionType","__spreadProps","__spreadValues","extensions","extend","colord","tempMatrix","x0","x1","y0","y1","tempBounds","EventEmitter","isMobile","isMobileJs","type","UPDATE_PRIORITY","LoaderParserPriority","path","key","_a","i","data","RECURSION_LIMIT","FLT_EPSILON","PATH_DISTANCE_EPSILON","curveAngleToleranceEpsilon","mAngleTolerance","begin","recursive","out","src","srcs","workerURL","video","nativeEvent","__objRest","supported","parser","resolveResult","name","ShaderStage","RendererType","BLEND","OFFSET","CULLING","DEPTH_TEST","WINDING","DEPTH_MASK","source","vertex","fragment","BufferUsage","CLEAR","STENCIL_MODES","BUFFER_TYPE","GL_FORMATS","GL_TARGETS","GL_WRAP_MODES","GL_TYPES","unpremultiplyAlpha","y2","x2","earcut","buildMap","tempRect","Buffer","j","pageData","fontFamily","resolve","systems","renderPipes","renderPipeAdaptors","MSAA_QUALITY","DEPRECATED_WRAP_MODES","DEPRECATED_SCALE_MODES"],"mappings":"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,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,wIAAwI,CAAC,CAAC,CAAC,iIAAiI,CAAC,CAAC,CAAC,8HAA8H,CAAC,CAAC,CAAC,uHAAuH,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,OAAM,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAM,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;;ACAppL,oBAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,iBAAiB,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAM,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAC;;;;;;;;;;;;;;;;;;ACK98GC,CAAO,CAAA,CAAC,WAAW,CAAC,CAAA,CAAA;AAgFb,MAAM,SAAN,MACP;AAAA;AAAA;AAAA;AAAA,EAoCI,WAAA,CAAY,QAAqB,QACjC,EAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAK,IAAA,CAAA,WAAA,GAAc,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AACrC,IAAK,IAAA,CAAA,WAAA,CAAY,KAAK,CAAC,CAAA,CAAA;AACvB,IAAA,IAAA,CAAK,IAAO,GAAA,QAAA,CAAA;AACZ,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAAA,GACjB;AAAA;AAAA,EAGA,IAAI,GACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA,EAGA,IAAI,IACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAEb,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBA,IAAI,MAAM,KACV,EAAA;AAEI,IAAA,IAAI,iBAAiB,MACrB,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAK,YAAa,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAC5C,MAAA,IAAA,CAAK,OAAO,KAAM,CAAA,IAAA,CAAA;AAClB,MAAK,IAAA,CAAA,WAAA,CAAY,GAAI,CAAA,KAAA,CAAM,WAAW,CAAA,CAAA;AAAA,KAC1C,MAAA,IACS,UAAU,IACnB,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,gCAAgC,CAAA,CAAA;AAAA,KACpD,MAAA,IACS,IAAK,CAAA,MAAA,KAAW,IAAQ,IAAA,CAAC,KAAK,cAAe,CAAA,IAAA,CAAK,MAAQ,EAAA,KAAK,CACxE,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,KAAK,CAAA,CAAA;AACrB,MAAK,IAAA,CAAA,MAAA,GAAS,IAAK,CAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AAAA,EACA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,aAAa,KACrB,EAAA;AACI,IAAI,IAAA,OAAO,UAAU,QAAY,IAAA,OAAO,UAAU,QAAY,IAAA,KAAA,YAAiB,MAAU,IAAA,KAAA,KAAU,IACnG,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX,MAAA,IACS,MAAM,OAAQ,CAAA,KAAK,KAAK,WAAY,CAAA,MAAA,CAAO,KAAK,CACzD,EAAA;AACI,MAAO,OAAA,KAAA,CAAM,MAAM,CAAC,CAAA,CAAA;AAAA,KAEf,MAAA,IAAA,OAAO,KAAU,KAAA,QAAA,IAAY,UAAU,IAChD,EAAA;AACI,MAAA,OAAOF,gBAAK,CAAA,EAAA,EAAA,KAAA,CAAA,CAAA;AAAA,KAChB;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,cAAA,CAAe,QAAqC,MAC5D,EAAA;AACI,IAAA,MAAM,QAAQ,OAAO,MAAA,CAAA;AACrB,IAAA,MAAM,QAAQ,OAAO,MAAA,CAAA;AAGrB,IAAA,IAAI,UAAU,KACd,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,eAIF,KAAU,KAAA,QAAA,IAAY,KAAU,KAAA,QAAA,IAAY,kBAAkB,MACvE,EAAA;AACI,MAAA,OAAO,MAAW,KAAA,MAAA,CAAA;AAAA,eAIjB,KAAM,CAAA,OAAA,CAAQ,MAAM,CAAA,IAAK,MAAM,OAAQ,CAAA,MAAM,CAC1C,IAAA,WAAA,CAAY,OAAO,MAAM,CAAA,IAAK,WAAY,CAAA,MAAA,CAAO,MAAM,CAE/D,EAAA;AACI,MAAI,IAAA,MAAA,CAAO,MAAW,KAAA,MAAA,CAAO,MAC7B,EAAA;AACI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAO,OAAA,MAAA,CAAO,MAAM,CAAC,CAAA,EAAG,MAAM,CAAM,KAAA,MAAA,CAAO,CAAC,CAAC,CAAA,CAAA;AAAA,KAGxC,MAAA,IAAA,MAAA,KAAW,IAAQ,IAAA,MAAA,KAAW,IACvC,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAChC,MAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAEhC,MAAI,IAAA,KAAA,CAAM,MAAW,KAAA,KAAA,CAAM,MAC3B,EAAA;AACI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAO,OAAA,KAAA,CAAM,MAAM,CAAC,GAAA,KAAQ,OAAO,GAAG,CAAA,KAAM,MAAO,CAAA,GAAG,CAAC,CAAA,CAAA;AAAA,KAC3D;AAEA,IAAA,OAAO,MAAW,KAAA,MAAA,CAAA;AAAA,GACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,MACP,GAAA;AACI,IAAA,MAAM,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAE1B,IAAA,OAAO,EAAE,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAE,EAAA,CAAA;AAAA,GACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KACP,GAAA;AACI,IAAA,MAAM,CAAC,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAEvB,IAAO,OAAA,EAAE,CAAG,EAAA,CAAA,EAAG,CAAE,EAAA,CAAA;AAAA,GACrB;AAAA;AAAA,EAGO,YACP,GAAA;AACI,IAAA,MAAM,CAAC,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,eAAgB,EAAA,CAAA;AAEvC,IAAA,OAAO,CAAQ,KAAA,EAAA,CAAA,CAAA,CAAA,EAAK,CAAK,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAAK,IAAK,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACvC;AAAA,EAWO,gBAAqE,GAC5E,EAAA;AACI,IAAA,MAAM,CAAC,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAEvB,IAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAAA,KACtB;AAEA,IAAA,GAAA,GAAM,OAAO,IAAK,CAAA,SAAA,CAAA;AAElB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,IAAK,CAAA,KAAA,CAAM,IAAI,GAAG,CAAA,CAAA;AAC3B,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,IAAK,CAAA,KAAA,CAAM,IAAI,GAAG,CAAA,CAAA;AAC3B,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,IAAK,CAAA,KAAA,CAAM,IAAI,GAAG,CAAA,CAAA;AAE3B,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA,EAWO,QAA2C,GAClD,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,IAAA,CAAK,aAAa,EAAC,CAAA;AAAA,KACvB;AAEA,IAAA,GAAA,GAAM,OAAO,IAAK,CAAA,UAAA,CAAA;AAClB,IAAA,MAAM,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAE1B,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AAET,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA,EAWO,WAA8C,GACrD,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAAA,KACtB;AAEA,IAAA,GAAA,GAAM,OAAO,IAAK,CAAA,SAAA,CAAA;AAClB,IAAA,MAAM,CAAC,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAEvB,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,GAAA,CAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AAET,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QACP,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,WACP,GAAA;AACI,IAAA,MAAM,CAAC,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,eAAgB,EAAA,CAAA;AAEvC,IAAQ,OAAA,CAAA,CAAA,IAAK,EAAO,KAAA,CAAA,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAAA,GAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,oBACP,GAAA;AACI,IAAA,MAAM,QAAQ,IAAK,CAAA,IAAA,CAAA;AAEnB,IAAA,OAAA,CAAQ,KAAS,IAAA,EAAA,KAAO,KAAQ,GAAA,KAAA,CAAA,IAAA,CAAY,QAAQ,GAAS,KAAA,EAAA,CAAA,CAAA;AAAA,GACjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,KAChB,EAAA;AACI,IAAM,MAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,MAAM,CAAA,KAAA,CAAM,QAAS,CAAA,KAAK,CAAE,CAAA,WAAA,CAAA;AAEjD,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,CAAA,CAAA;AACvB,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,CAAA,CAAA;AACvB,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,CAAA,CAAA;AACvB,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,CAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AACjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,WAAA,CAAY,KAAe,EAAA,UAAA,GAAa,IAC/C,EAAA;AACI,IAAA,IAAI,UACJ,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,KAAA,CAAA;AACvB,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,KAAA,CAAA;AACvB,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAK,IAAA,KAAA,CAAA;AAAA,KAC3B;AACA,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,KAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AACjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,eAAA,CAAgB,KAAe,EAAA,UAAA,GAAa,IACnD,EAAA;AACI,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAQ,OAAA,CAAA,GAAA,IAAQ,MAAM,IAAK,CAAA,IAAA,CAAA;AAAA,KAC/B;AACA,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAO,OAAA,UAAA,GAAa,IAAI,IAAK,CAAA,IAAA,CAAA;AAAA,KACjC;AACA,IAAI,IAAA,CAAA,GAAK,IAAK,CAAA,IAAA,IAAQ,EAAM,GAAA,GAAA,CAAA;AAC5B,IAAI,IAAA,CAAA,GAAK,IAAK,CAAA,IAAA,IAAQ,CAAK,GAAA,GAAA,CAAA;AAC3B,IAAI,IAAA,CAAA,GAAI,KAAK,IAAO,GAAA,GAAA,CAAA;AAEpB,IAAA,IAAI,UACJ,EAAA;AACI,MAAM,CAAA,GAAA,CAAA,GAAI,QAAS,GAAO,GAAA,CAAA,CAAA;AAC1B,MAAM,CAAA,GAAA,CAAA,GAAI,QAAS,GAAO,GAAA,CAAA,CAAA;AAC1B,MAAM,CAAA,GAAA,CAAA,GAAI,QAAS,GAAO,GAAA,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,OAAA,CAAS,QAAQ,GAAQ,IAAA,EAAA,KAAO,CAAK,IAAA,EAAA,CAAA,IAAO,KAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAAA,GAC1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,IAAK,CAAA,QAAA,CAAS,EAAE,CAAA,CAAA;AAEvC,IAAA,OAAO,IAAI,QAAS,CAAA,SAAA,CAAU,GAAG,CAAI,GAAA,SAAA,CAAU,MAAM,CAAI,GAAA,SAAA,CAAA,CAAA,CAAA;AAAA,GAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,MACP,GAAA;AACI,IAAA,MAAM,aAAa,IAAK,CAAA,KAAA,CAAM,KAAK,WAAY,CAAA,CAAC,IAAI,GAAG,CAAA,CAAA;AACvD,IAAM,MAAA,WAAA,GAAc,UAAW,CAAA,QAAA,CAAS,EAAE,CAAA,CAAA;AAE1C,IAAO,OAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAK,UAAU,CAAG,EAAA,CAAA,GAAI,WAAY,CAAA,MAAM,CAAI,GAAA,WAAA,CAAA;AAAA,GACtE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,CAAA,CAAC,CAAI,GAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAEvC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,WAAW,KACnB,EAAA;AACI,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,CAAA,CAAA;AAKJ,IACK,IAAA,CAAA,OAAO,UAAU,QAAY,IAAA,KAAA,YAAiB,WAC3C,KAAoB,IAAA,CAAA,IACpB,SAAoB,QAE5B,EAAA;AACI,MAAA,MAAM,GAAM,GAAA,KAAA,CAAA;AAEZ,MAAM,CAAA,GAAA,CAAA,GAAA,IAAO,KAAM,GAAQ,IAAA,GAAA,CAAA;AAC3B,MAAM,CAAA,GAAA,CAAA,GAAA,IAAO,IAAK,GAAQ,IAAA,GAAA,CAAA;AAC1B,MAAA,CAAA,GAAA,CAAK,MAAM,GAAQ,IAAA,GAAA,CAAA;AACnB,MAAI,CAAA,GAAA,CAAA,CAAA;AAAA,KAGH,MAAA,IAAA,CAAA,KAAA,CAAM,OAAQ,CAAA,KAAK,CAAK,IAAA,KAAA,YAAiB,YAEvC,KAAA,KAAA,CAAM,MAAU,IAAA,CAAA,IAChB,KAAM,CAAA,MAAA,IAAU,CAEvB,EAAA;AAEI,MAAQ,KAAA,GAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AACzB,MAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,GAAI,CAAG,CAAI,GAAA,KAAA,CAAA;AAAA,KACzB,MAAA,IAAA,CAEK,KAAiB,YAAA,UAAA,IAAc,KAAiB,YAAA,iBAAA,KAE9C,MAAM,MAAU,IAAA,CAAA,IAChB,KAAM,CAAA,MAAA,IAAU,CAEvB,EAAA;AAEI,MAAA,KAAA,GAAQ,IAAK,CAAA,MAAA,CAAO,KAAO,EAAA,CAAA,EAAG,GAAG,CAAA,CAAA;AACjC,MAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,GAAI,GAAG,CAAI,GAAA,KAAA,CAAA;AACrB,MAAK,CAAA,IAAA,GAAA,CAAA;AACL,MAAK,CAAA,IAAA,GAAA,CAAA;AACL,MAAK,CAAA,IAAA,GAAA,CAAA;AACL,MAAK,CAAA,IAAA,GAAA,CAAA;AAAA,eAEA,OAAO,KAAA,KAAU,QAAY,IAAA,OAAO,UAAU,QACvD,EAAA;AACI,MAAI,IAAA,OAAO,UAAU,QACrB,EAAA;AACI,QAAA,MAAM,KAAQ,GAAA,MAAA,CAAM,WAAY,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAE1C,QAAA,IAAI,KACJ,EAAA;AAEI,UAAQ,KAAA,GAAA,CAAA,CAAA,EAAI,MAAM,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,SACvB;AAAA,OACJ;AAEA,MAAM,MAAA,KAAA,GAAQG,EAAO,KAAiB,CAAA,CAAA;AAEtC,MAAI,IAAA,KAAA,CAAM,SACV,EAAA;AACI,QAAA,CAAC,EAAE,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,KAAM,KAAM,CAAA,IAAA,EAAA;AACxB,QAAK,CAAA,IAAA,GAAA,CAAA;AACL,QAAK,CAAA,IAAA,GAAA,CAAA;AACL,QAAK,CAAA,IAAA,GAAA,CAAA;AAAA,OACT;AAAA,KACJ;AAGA,IAAA,IAAI,MAAM,KACV,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AACtB,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AACtB,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AACtB,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AACtB,MAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAAA,KAGrB,MAAA;AACI,MAAM,MAAA,IAAI,KAAM,CAAA,CAAA,wBAAA,EAA2B,KAAO,CAAA,CAAA,CAAA,CAAA;AAAA,KACtD;AAAA,GACJ;AAAA;AAAA,EAGQ,WACR,GAAA;AAEI,IAAK,IAAA,CAAA,MAAA,CAAO,KAAK,WAAW,CAAA,CAAA;AAE5B,IAAA,MAAM,CAAC,CAAA,EAAG,CAAG,EAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAEvB,IAAK,IAAA,CAAA,IAAA,GAAA,CAAS,IAAI,GAAQ,IAAA,EAAA,KAAQ,IAAI,GAAQ,IAAA,CAAA,CAAA,IAAO,IAAI,GAAO,GAAA,CAAA,CAAA,CAAA;AAAA,GACpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,MAA4D,CAAA,KAAA,EAAU,GAAM,GAAA,CAAA,EAAG,MAAM,CAC7F,EAAA;AACI,IAAI,IAAA,OAAO,UAAU,QACrB,EAAA;AACI,MAAA,OAAO,KAAK,GAAI,CAAA,IAAA,CAAK,IAAI,KAAO,EAAA,GAAG,GAAG,GAAG,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAM,KAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,CAClB,KAAA;AACI,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,GAAA,CAAI,KAAK,GAAI,CAAA,CAAA,EAAG,GAAG,CAAA,EAAG,GAAG,CAAA,CAAA;AAAA,KAC5C,CAAA,CAAA;AAED,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,OAAc,YAAY,KAC1B,EAAA;AACI,IAAA,OACI,OAAO,KAAU,KAAA,QAAA,IACd,OAAO,KAAA,KAAU,YACjB,KAAiB,YAAA,MAAA,IACjB,KAAiB,YAAA,MAAA,IACjB,MAAM,OAAQ,CAAA,KAAK,KACnB,KAAiB,YAAA,UAAA,IACjB,iBAAiB,iBACjB,IAAA,KAAA,YAAiB,YACf,IAAA,KAAA,CAAmB,MAAM,KACtB,CAAA,IAAA,KAAA,CAAmB,CAAM,KAAA,KAAA,CAAA,IACzB,MAAmB,CAAM,KAAA,KAAA,CAAA,IAC5B,KAAoB,CAAA,CAAA,KAAM,UACvB,KAAoB,CAAA,CAAA,KAAM,UAC1B,KAAoB,CAAA,CAAA,KAAM,UAC1B,KAAoB,CAAA,CAAA,KAAM,KAC7B,CAAA,IAAA,KAAA,CAAmB,MAAM,KACtB,CAAA,IAAA,KAAA,CAAmB,CAAM,KAAA,KAAA,CAAA,IACzB,MAAmB,CAAM,KAAA,KAAA,CAAA,IAC5B,KAAoB,CAAA,CAAA,KAAM,UACvB,KAAoB,CAAA,CAAA,KAAM,UAC1B,KAAoB,CAAA,CAAA,KAAM,UAC1B,KAAoB,CAAA,CAAA,KAAM,KAC7B,CAAA,IAAA,KAAA,CAAmB,MAAM,KACtB,CAAA,IAAA,KAAA,CAAmB,MAAM,KACzB,CAAA,IAAA,KAAA,CAAmB,MAAM,KAC5B,CAAA,IAAA,KAAA,CAAoB,CAAM,KAAA,KAAA,CAAA,IACvB,MAAoB,CAAM,KAAA,KAAA,CAAA,IAC1B,MAAoB,CAAM,KAAA,KAAA,CAAA,IAC1B,MAAoB,CAAM,KAAA,KAAA,CAAA,CAAA;AAAA,GAE1C;AACJ,CAAA,CAAA;AArnBO,IAAM,KAAN,GAAA,OAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAM,KAQc,CAAA,MAAA,GAAS,IAAI,MAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARjC,KAee,CAAA,KAAA,GAAQ,IAAI,MAAM,EAAA,CAAA;AAAA;AAAA;AAfjC,KAAA,CAmBe,WAAc,GAAA,8CAAA;;ACnG7B,MAAA,IAAA,GAAO,KAAK,EAAK,GAAA,EAAA;AAOjB,MAAA,UAAA,GAAa,MAAM,IAAK,CAAA,GAAA;AAOxB,MAAA,UAAA,GAAa,KAAK,EAAK,GAAA;;ACF7B,MAAM,MACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA8BI,WAAY,CAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,CAAG,EAAA,EAAA,GAAK,CAAG,EAAA,EAAA,GAAK,CACrD,EAAA;AAXA;AAAA,IAAA,IAAA,CAAO,KAA6B,GAAA,IAAA,CAAA;AAYhC,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaO,UAAU,KACjB,EAAA;AACI,IAAK,IAAA,CAAA,CAAA,GAAI,MAAM,CAAC,CAAA,CAAA;AAChB,IAAK,IAAA,CAAA,CAAA,GAAI,MAAM,CAAC,CAAA,CAAA;AAChB,IAAK,IAAA,CAAA,CAAA,GAAI,MAAM,CAAC,CAAA,CAAA;AAChB,IAAK,IAAA,CAAA,CAAA,GAAI,MAAM,CAAC,CAAA,CAAA;AAChB,IAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAC,CAAA,CAAA;AACjB,IAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAC,CAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYO,IAAI,CAAW,EAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,IAAY,EACnE,EAAA;AACI,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAEV,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,OAAA,CAAQ,WAAoB,GACnC,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,KACV,EAAA;AACI,MAAK,IAAA,CAAA,KAAA,GAAQ,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AAAA,KACnC;AAEA,IAAM,MAAA,KAAA,GAAQ,OAAO,IAAK,CAAA,KAAA,CAAA;AAE1B,IAAA,IAAI,SACJ,EAAA;AACI,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AACX,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AACX,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,EAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,EAAA,CAAA;AAChB,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KAGf,MAAA;AACI,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,EAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,MAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,EAAA,CAAA;AAChB,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AACX,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AACX,MAAA,KAAA,CAAM,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KACf;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,KAAA,CAAmC,KAAgB,MAC1D,EAAA;AACI,IAAU,MAAA,GAAA,MAAA,IAAU,IAAI,KAAM,EAAA,CAAA;AAE9B,IAAA,MAAM,IAAI,GAAI,CAAA,CAAA,CAAA;AACd,IAAA,MAAM,IAAI,GAAI,CAAA,CAAA,CAAA;AAEd,IAAA,MAAA,CAAO,IAAK,IAAK,CAAA,CAAA,GAAI,IAAM,IAAK,CAAA,CAAA,GAAI,IAAK,IAAK,CAAA,EAAA,CAAA;AAC9C,IAAA,MAAA,CAAO,IAAK,IAAK,CAAA,CAAA,GAAI,IAAM,IAAK,CAAA,CAAA,GAAI,IAAK,IAAK,CAAA,EAAA,CAAA;AAE9C,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,YAAA,CAA0C,KAAgB,MACjE,EAAA;AACI,IAAU,MAAA,GAAA,MAAA,IAAU,IAAI,KAAM,EAAA,CAAA;AAE9B,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAA,MAAM,EAAK,GAAA,CAAA,IAAM,CAAI,GAAA,CAAA,GAAM,IAAI,CAAC,CAAA,CAAA,CAAA;AAEhC,IAAA,MAAM,IAAI,GAAI,CAAA,CAAA,CAAA;AACd,IAAA,MAAM,IAAI,GAAI,CAAA,CAAA,CAAA;AAEd,IAAO,MAAA,CAAA,CAAA,GAAK,CAAI,GAAA,EAAA,GAAK,CAAM,GAAA,CAAC,CAAI,GAAA,EAAA,GAAK,CAAQ,GAAA,CAAA,EAAA,GAAK,CAAM,GAAA,EAAA,GAAK,CAAM,IAAA,EAAA,CAAA;AACnE,IAAA,MAAA,CAAO,CAAK,GAAA,CAAA,GAAI,EAAK,GAAA,CAAA,GAAM,CAAC,CAAA,GAAI,EAAK,GAAA,CAAA,GAAA,CAAQ,CAAC,EAAA,GAAK,CAAM,GAAA,EAAA,GAAK,CAAM,IAAA,EAAA,CAAA;AAEpE,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,SAAA,CAAU,GAAW,CAC5B,EAAA;AACI,IAAA,IAAA,CAAK,EAAM,IAAA,CAAA,CAAA;AACX,IAAA,IAAA,CAAK,EAAM,IAAA,CAAA,CAAA;AAEX,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KAAA,CAAM,GAAW,CACxB,EAAA;AACI,IAAA,IAAA,CAAK,CAAK,IAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,CAAK,IAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,CAAK,IAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,CAAK,IAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAM,IAAA,CAAA,CAAA;AACX,IAAA,IAAA,CAAK,EAAM,IAAA,CAAA,CAAA;AAEX,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,KACd,EAAA;AACI,IAAM,MAAA,GAAA,GAAM,IAAK,CAAA,GAAA,CAAI,KAAK,CAAA,CAAA;AAC1B,IAAM,MAAA,GAAA,GAAM,IAAK,CAAA,GAAA,CAAI,KAAK,CAAA,CAAA;AAE1B,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,MAAM,IAAK,CAAA,EAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,CAAK,GAAA,EAAA,GAAK,GAAQ,GAAA,IAAA,CAAK,CAAI,GAAA,GAAA,CAAA;AAChC,IAAA,IAAA,CAAK,CAAK,GAAA,EAAA,GAAK,GAAQ,GAAA,IAAA,CAAK,CAAI,GAAA,GAAA,CAAA;AAChC,IAAA,IAAA,CAAK,CAAK,GAAA,EAAA,GAAK,GAAQ,GAAA,IAAA,CAAK,CAAI,GAAA,GAAA,CAAA;AAChC,IAAA,IAAA,CAAK,CAAK,GAAA,EAAA,GAAK,GAAQ,GAAA,IAAA,CAAK,CAAI,GAAA,GAAA,CAAA;AAChC,IAAA,IAAA,CAAK,EAAM,GAAA,GAAA,GAAM,GAAQ,GAAA,IAAA,CAAK,EAAK,GAAA,GAAA,CAAA;AACnC,IAAA,IAAA,CAAK,EAAM,GAAA,GAAA,GAAM,GAAQ,GAAA,IAAA,CAAK,EAAK,GAAA,GAAA,CAAA;AAEnC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,MACd,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,CAAK,GAAA,MAAA,CAAO,CAAI,GAAA,EAAA,GAAO,OAAO,CAAI,GAAA,EAAA,CAAA;AACvC,IAAA,IAAA,CAAK,CAAK,GAAA,MAAA,CAAO,CAAI,GAAA,EAAA,GAAO,OAAO,CAAI,GAAA,EAAA,CAAA;AACvC,IAAA,IAAA,CAAK,CAAK,GAAA,MAAA,CAAO,CAAI,GAAA,EAAA,GAAO,OAAO,CAAI,GAAA,EAAA,CAAA;AACvC,IAAA,IAAA,CAAK,CAAK,GAAA,MAAA,CAAO,CAAI,GAAA,EAAA,GAAO,OAAO,CAAI,GAAA,EAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,KAAM,MAAO,CAAA,EAAA,GAAK,KAAO,MAAO,CAAA,EAAA,GAAK,KAAM,IAAK,CAAA,EAAA,CAAA;AACrD,IAAA,IAAA,CAAK,KAAM,MAAO,CAAA,EAAA,GAAK,KAAO,MAAO,CAAA,EAAA,GAAK,KAAM,IAAK,CAAA,EAAA,CAAA;AAErD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,UAAA,CAAW,GAAW,CAC7B,EAAA;AACI,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,EAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,EAAA,CAAA;AAEb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,CAAE,CAAA,CAAA,CAAA;AAEb,IAAK,IAAA,CAAA,CAAA,GAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,CAAA,GAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,CAAA,GAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,CAAA,GAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,EAAM,GAAA,EAAA,GAAK,EAAO,GAAA,EAAA,GAAK,KAAM,CAAE,CAAA,EAAA,CAAA;AACpC,IAAA,IAAA,CAAK,EAAM,GAAA,EAAA,GAAK,EAAO,GAAA,EAAA,GAAK,KAAM,CAAE,CAAA,EAAA,CAAA;AAEpC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeO,YAAA,CAAa,GAAW,CAAW,EAAA,MAAA,EAAgB,QAAgB,MACtE,EAAA,MAAA,EAAgB,QAAkB,EAAA,KAAA,EAAe,KACrD,EAAA;AACI,IAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,CAAI,GAAA,MAAA,CAAA;AACtC,IAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,CAAI,GAAA,MAAA,CAAA;AACtC,IAAA,IAAA,CAAK,IAAI,CAAC,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,CAAI,GAAA,MAAA,CAAA;AACvC,IAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,CAAI,GAAA,MAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,KAAK,CAAM,IAAA,MAAA,GAAS,IAAK,CAAA,CAAA,GAAM,SAAS,IAAK,CAAA,CAAA,CAAA,CAAA;AAClD,IAAA,IAAA,CAAK,KAAK,CAAM,IAAA,MAAA,GAAS,IAAK,CAAA,CAAA,GAAM,SAAS,IAAK,CAAA,CAAA,CAAA,CAAA;AAElD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,QAAQ,MACf,EAAA;AACI,IAAA,MAAM,MAAM,IAAK,CAAA,EAAA,CAAA;AAEjB,IAAI,IAAA,MAAA,CAAO,CAAM,KAAA,CAAA,IAAK,MAAO,CAAA,CAAA,KAAM,CAAK,IAAA,MAAA,CAAO,CAAM,KAAA,CAAA,IAAK,MAAO,CAAA,CAAA,KAAM,CACvE,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,MAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAEhB,MAAA,IAAA,CAAK,IAAK,EAAK,GAAA,MAAA,CAAO,CAAM,GAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAC5C,MAAA,IAAA,CAAK,IAAK,EAAK,GAAA,MAAA,CAAO,CAAM,GAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAC5C,MAAA,IAAA,CAAK,IAAK,EAAK,GAAA,MAAA,CAAO,CAAM,GAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAC5C,MAAA,IAAA,CAAK,IAAK,EAAK,GAAA,MAAA,CAAO,CAAM,GAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAAA,KAChD;AAEA,IAAK,IAAA,CAAA,EAAA,GAAM,MAAM,MAAO,CAAA,CAAA,GAAM,KAAK,EAAK,GAAA,MAAA,CAAO,IAAK,MAAO,CAAA,EAAA,CAAA;AAC3D,IAAK,IAAA,CAAA,EAAA,GAAM,MAAM,MAAO,CAAA,CAAA,GAAM,KAAK,EAAK,GAAA,MAAA,CAAO,IAAK,MAAO,CAAA,EAAA,CAAA;AAE3D,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,SACjB,EAAA;AAEI,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AACf,IAAA,MAAM,QAAQ,SAAU,CAAA,KAAA,CAAA;AAExB,IAAA,MAAM,QAAQ,CAAC,IAAA,CAAK,KAAM,CAAA,CAAC,GAAG,CAAC,CAAA,CAAA;AAC/B,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAE7B,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,GAAQ,KAAK,CAAA,CAAA;AAEpC,IAAA,IAAI,QAAQ,IAAW,IAAA,IAAA,CAAK,IAAI,IAAO,GAAA,KAAK,IAAI,IAChD,EAAA;AACI,MAAA,SAAA,CAAU,QAAW,GAAA,KAAA,CAAA;AACrB,MAAA,SAAA,CAAU,IAAK,CAAA,CAAA,GAAI,SAAU,CAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AAAA,KAG1C,MAAA;AACI,MAAA,SAAA,CAAU,QAAW,GAAA,CAAA,CAAA;AACrB,MAAA,SAAA,CAAU,KAAK,CAAI,GAAA,KAAA,CAAA;AACnB,MAAA,SAAA,CAAU,KAAK,CAAI,GAAA,KAAA,CAAA;AAAA,KACvB;AAGA,IAAA,SAAA,CAAU,MAAM,CAAI,GAAA,IAAA,CAAK,KAAM,CAAI,GAAA,CAAA,GAAM,IAAI,CAAE,CAAA,CAAA;AAC/C,IAAA,SAAA,CAAU,MAAM,CAAI,GAAA,IAAA,CAAK,KAAM,CAAI,GAAA,CAAA,GAAM,IAAI,CAAE,CAAA,CAAA;AAG/C,IAAU,SAAA,CAAA,QAAA,CAAS,IAAI,IAAK,CAAA,EAAA,IAAO,MAAM,CAAI,GAAA,CAAA,GAAM,MAAM,CAAI,GAAA,CAAA,CAAA,CAAA;AAC7D,IAAU,SAAA,CAAA,QAAA,CAAS,IAAI,IAAK,CAAA,EAAA,IAAO,MAAM,CAAI,GAAA,CAAA,GAAM,MAAM,CAAI,GAAA,CAAA,CAAA,CAAA;AAE7D,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,MACP,GAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAM,MAAM,IAAK,CAAA,EAAA,CAAA;AACjB,IAAM,MAAA,CAAA,GAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAE5B,IAAA,IAAA,CAAK,IAAI,EAAK,GAAA,CAAA,CAAA;AACd,IAAK,IAAA,CAAA,CAAA,GAAI,CAAC,EAAK,GAAA,CAAA,CAAA;AACf,IAAK,IAAA,CAAA,CAAA,GAAI,CAAC,EAAK,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAK,IAAI,EAAK,GAAA,CAAA,CAAA;AACd,IAAA,IAAA,CAAK,EAAO,GAAA,CAAA,EAAA,GAAK,IAAK,CAAA,EAAA,GAAO,KAAK,GAAQ,IAAA,CAAA,CAAA;AAC1C,IAAA,IAAA,CAAK,KAAK,EAAG,EAAA,GAAK,IAAK,CAAA,EAAA,GAAO,KAAK,GAAQ,CAAA,GAAA,CAAA,CAAA;AAE3C,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,UACP,GAAA;AACI,IAAA,OAAO,KAAK,CAAM,KAAA,CAAA,IAAK,IAAK,CAAA,CAAA,KAAM,KAAK,IAAK,CAAA,CAAA,KAAM,CAAK,IAAA,IAAA,CAAK,MAAM,CAAK,IAAA,IAAA,CAAK,EAAO,KAAA,CAAA,IAAK,KAAK,EAAO,KAAA,CAAA,CAAA;AAAA,GACxG;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,QACP,GAAA;AACI,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AAEV,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AAE1B,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,EAAA,CAAA;AACjB,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,EAAA,CAAA;AAEjB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,MACd,EAAA;AACI,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,IAAI,IAAK,CAAA,CAAA,CAAA;AAChB,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,EAAA,CAAA;AACjB,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,EAAA,CAAA;AAEjB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,MAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,KAAK,MAAO,CAAA,EAAA,CAAA;AACjB,IAAA,IAAA,CAAK,KAAK,MAAO,CAAA,EAAA,CAAA;AAEjB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAO,OAAA,CAAA,kBAAA,EAAqB,IAAK,CAAA,CAAA,CAAA,GAAA,EAAO,IAAK,CAAA,CAAA,CAAA,GAAA,EAAO,IAAK,CAAA,CAAA,CAAA,GAAA,EAAO,IAAK,CAAA,CAAA,CAAA,IAAA,EAAQ,IAAK,CAAA,EAAA,CAAA,IAAA,EAAS,IAAK,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACpG;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAW,QACX,GAAA;AACI,IAAA,OAAO,eAAe,QAAS,EAAA,CAAA;AAAA,GACnC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAW,MACX,GAAA;AACI,IAAA,OAAOC,aAAW,QAAS,EAAA,CAAA;AAAA,GAC/B;AACJ,CAAA;AAEA,MAAMA,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAC9B,MAAM,cAAA,GAAiB,IAAI,MAAO,EAAA;;AC1f3B,MAAM,eACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeI,WAAA,CAAY,QAAqC,EAAA,CAAA,EAAY,CAC7D,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,CAAK,IAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAK,KAAK,CAAK,IAAA,CAAA,CAAA;AAEf,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,MAAM,QACb,EAAA;AACI,IAAO,OAAA,IAAI,gBAAgB,QAAY,IAAA,IAAA,GAAA,QAAA,GAAA,IAAA,CAAK,WAAW,IAAK,CAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAAA,GAC3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,GAAI,CAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,CACtB,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,EAAA,KAAO,CAAK,IAAA,IAAA,CAAK,OAAO,CACjC,EAAA;AACI,MAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,MAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,MAAA,IAAA,CAAK,UAAU,QAAS,EAAA,CAAA;AAAA,KAC5B;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,CAChB,EAAA;AACI,IAAA,IAAI,KAAK,EAAO,KAAA,CAAA,CAAE,KAAK,IAAK,CAAA,EAAA,KAAO,EAAE,CACrC,EAAA;AACI,MAAA,IAAA,CAAK,KAAK,CAAE,CAAA,CAAA,CAAA;AACZ,MAAA,IAAA,CAAK,KAAK,CAAE,CAAA,CAAA,CAAA;AACZ,MAAA,IAAA,CAAK,UAAU,QAAS,EAAA,CAAA;AAAA,KAC5B;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAA4B,CACnC,EAAA;AACI,IAAA,CAAA,CAAE,GAAI,CAAA,IAAA,CAAK,EAAI,EAAA,IAAA,CAAK,EAAE,CAAA,CAAA;AAEtB,IAAO,OAAA,CAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,CACd,EAAA;AACI,IAAA,OAAQ,EAAE,CAAM,KAAA,IAAA,CAAK,EAAQ,IAAA,CAAA,CAAE,MAAM,IAAK,CAAA,EAAA,CAAA;AAAA,GAC9C;AAAA,EAGO,QACP,GAAA;AACI,IAAO,OAAA,CAAA,8BAAA,EAAiC,CAAO,CAAA,GAAA,EAAA,CAAA,CAAA,OAAA,EAAW,IAAK,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACnE;AAAA;AAAA,EAIA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,EAAE,KACN,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,OAAO,KAChB,EAAA;AACI,MAAA,IAAA,CAAK,EAAK,GAAA,KAAA,CAAA;AACV,MAAK,IAAA,CAAA,SAAA,CAAU,SAAS,IAAI,CAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AAAA;AAAA,EAGA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,EAAE,KACN,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,OAAO,KAChB,EAAA;AACI,MAAA,IAAA,CAAK,EAAK,GAAA,KAAA,CAAA;AACV,MAAK,IAAA,CAAA,SAAA,CAAU,SAAS,IAAI,CAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AACJ;;AC/IA,MAAM,QAAmC,GAAA;AAAA,EACrC,OAAS,EAAA,CAAA,CAAA;AACb,CAAA,CAAA;AA+BgB,SAAA,GAAA,CAAI,OAAiB,SACrC,EAAA;AACI,EAAI,IAAA,QAAA,CAAS,IAAI,CAAA,KAAM,KACvB,CAAA,EAAA;AACI,IAAA,QAAA,CAAS,IAAI,CAAI,GAAA,CAAA,CAAA,CAAA;AAAA,GACrB;AAEA,EAAO,OAAA,EAAE,SAAS,IAAI,CAAA,CAAA;AAC1B;;ACtCA,MAAM,WAA0B,EAAC,CAAA;AAG1B,MAAM,MAAS,GAAA,QAAA;AAaf,SAAS,WAAY,CAAA,OAAA,EAAiB,OAAiB,EAAA,WAAA,GAAc,CAC5E,EAAA;AAEI,EAAI,IAAA,QAAA,CAAS,OAAO,CACpB,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAGA,EAAI,IAAA,KAAA,GAAQ,IAAI,KAAA,EAAQ,CAAA,KAAA,CAAA;AAGxB,EAAI,IAAA,OAAO,UAAU,WACrB,EAAA;AACI,IAAQ,OAAA,CAAA,IAAA,CAAK,gCAAgC,CAAG,EAAA,OAAA,CAAA;AAAA,kBAAA,EAA8B,OAAS,CAAA,CAAA,CAAA,CAAA;AAAA,GAG3F,MAAA;AAEI,IAAQ,KAAA,GAAA,KAAA,CAAM,MAAM,IAAI,CAAA,CAAE,OAAO,WAAW,CAAA,CAAE,KAAK,IAAI,CAAA,CAAA;AAEvD,IAAA,IAAI,QAAQ,cACZ,EAAA;AACI,MAAQ,OAAA,CAAA,cAAA;AAAA,QACJ,oCAAA;AAAA,QACA,kCAAA;AAAA,QACA,qDAAA;AAAA,QACA,CAAG,EAAA,OAAA,CAAA;AAAA,kBAA8B,EAAA,OAAA,CAAA,CAAA;AAAA,OACrC,CAAA;AACA,MAAA,OAAA,CAAQ,KAAK,KAAK,CAAA,CAAA;AAClB,MAAA,OAAA,CAAQ,QAAS,EAAA,CAAA;AAAA,KAGrB,MAAA;AACI,MAAQ,OAAA,CAAA,IAAA,CAAK,gCAAgC,CAAG,EAAA,OAAA,CAAA;AAAA,kBAAA,EAA8B,OAAS,CAAA,CAAA,CAAA,CAAA;AACvF,MAAA,OAAA,CAAQ,KAAK,KAAK,CAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AAGA,EAAA,QAAA,CAAS,OAAO,CAAI,GAAA,IAAA,CAAA;AACxB;;ACpDgB,SAAA,WAAA,CAAY,GAAY,EAAA,QAAA,EAAkB,WAC1D,EAAA;AACI,EAAA,MAAM,SAAS,GAAI,CAAA,MAAA,CAAA;AACnB,EAAI,IAAA,CAAA,CAAA;AAEJ,EAAI,IAAA,QAAA,IAAY,MAAU,IAAA,WAAA,KAAgB,CAC1C,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAA,WAAA,GAAe,QAAW,GAAA,WAAA,GAAc,MAAS,GAAA,MAAA,GAAS,QAAW,GAAA,WAAA,CAAA;AAErE,EAAA,MAAM,MAAM,MAAS,GAAA,WAAA,CAAA;AAErB,EAAA,KAAK,CAAI,GAAA,QAAA,EAAU,CAAI,GAAA,GAAA,EAAK,EAAE,CAC9B,EAAA;AACI,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAA,GAAI,WAAW,CAAA,CAAA;AAAA,GAChC;AAEA,EAAA,GAAA,CAAI,MAAS,GAAA,GAAA,CAAA;AACjB;;ACRO,MAAM,mBAA0C,GAAA;AAAA,EAEnD,aAAe,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASf,cAAA,CAAe,UAAa,GAAA,CAAA,EAAG,QAC/B,EAAA;AACI,IAAM,MAAA,GAAA,GAAM,QAAY,IAAA,IAAA,GAAA,QAAA,GAAA,IAAA,CAAK,QAAS,CAAA,MAAA,CAAA;AACtC,IAAA,MAAM,QAAQ,GAAM,GAAA,UAAA,CAAA;AACpB,IAAA,MAAM,UAAuB,EAAC,CAAA;AAE9B,IAAI,IAAA,KAAA,GAAQ,CAAK,IAAA,KAAA,IAAS,GAC1B,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,GAAA,GAAM,CAAG,EAAA,CAAA,IAAK,YAAY,CACvC,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAE7B,QAAA,IAAI,CAAC,KAAA;AAAO,UAAA,SAAA;AAEZ,QAAA,IAAI,KAAK,UACT,EAAA;AACI,UAAK,IAAA,CAAA,UAAA,CAAW,YAAY,KAAK,CAAA,CAAA;AAAA,SACrC;AAEA,QAAA,OAAA,CAAQ,KAAK,KAAK,CAAA,CAAA;AAClB,QAAA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;AAAA,OACnB;AAEA,MAAY,WAAA,CAAA,IAAA,CAAK,QAAU,EAAA,UAAA,EAAY,GAAG,CAAA,CAAA;AAE1C,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAQ,CAAA,MAAA,EAAQ,EAAE,CACtC,EAAA;AACI,QAAA,IAAA,CAAK,KAAK,cAAgB,EAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,MAAM,CAAC,CAAA,CAAA;AAC7C,QAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,IAAK,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAAA,OACnC;AAEA,MAAO,OAAA,OAAA,CAAA;AAAA,eAEF,KAAU,KAAA,CAAA,IAAK,IAAK,CAAA,QAAA,CAAS,WAAW,CACjD,EAAA;AACI,MAAO,OAAA,OAAA,CAAA;AAAA,KACX;AAEA,IAAM,MAAA,IAAI,WAAW,kEAAkE,CAAA,CAAA;AAAA,GAC3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,cAAmC,KACnC,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,UAAA,CAAW,KAAK,CAAA,CAAA;AAEnC,IAAO,OAAA,IAAA,CAAK,YAAY,KAAK,CAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,WAAgC,KAChC,EAAA;AACI,IAAA,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAS,IAAA,IAAA,CAAK,SAAS,MACxC,EAAA;AACI,MAAM,MAAA,IAAI,KAAM,CAAA,CAAA,mBAAA,EAAsB,KAAwB,CAAA,iBAAA,CAAA,CAAA,CAAA;AAAA,KAClE;AAEA,IAAO,OAAA,IAAA,CAAK,SAAS,KAAK,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,aAAA,CAAc,OAAkB,KAChC,EAAA;AACI,IAAA,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAS,IAAA,IAAA,CAAK,SAAS,MACxC,EAAA;AACI,MAAA,MAAM,IAAI,KAAM,CAAA,CAAA,UAAA,EAAa,KAAmC,CAAA,2BAAA,EAAA,IAAA,CAAK,SAAS,MAAQ,CAAA,CAAA,CAAA,CAAA;AAAA,KAC1F;AAEA,IAAA,IAAA,CAAK,cAAc,KAAK,CAAA,CAAA;AACxB,IAAK,IAAA,CAAA,UAAA,CAAW,OAAO,KAAK,CAAA,CAAA;AAAA,GAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,cAAc,KACd,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAEzC,IAAA,IAAI,UAAU,CACd,CAAA,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,sDAAsD,CAAA,CAAA;AAAA,KAC1E;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,UAAA,CAAgC,OAAU,KAC1C,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,aACV,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,uEAAuE,CAAA,CAAA;AAAA,KAC/F;AAEA,IAAM,MAAA,EAAE,UAAa,GAAA,IAAA,CAAA;AAErB,IAAA,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAQ,GAAA,QAAA,CAAS,MAClC,EAAA;AACI,MAAA,MAAM,IAAI,KAAM,CAAA,CAAA,EAAG,KAA8B,CAAA,sBAAA,EAAA,KAAA,CAAA,2BAAA,EAAmC,SAAS,MAAQ,CAAA,CAAA,CAAA,CAAA;AAAA,KACzG;AAKA,IAAA,IAAI,MAAM,MACV,EAAA;AACI,MAAA,MAAM,YAAe,GAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,QAAQ,KAAK,CAAA,CAAA;AAGxD,MAAA,IAAI,KAAM,CAAA,MAAA,KAAW,IAAQ,IAAA,YAAA,KAAiB,KAC9C,EAAA;AACI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAA,IAAI,iBAAiB,CACrB,CAAA,EAAA;AACI,QAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,MAAO,CAAA,YAAA,EAAc,CAAC,CAAA,CAAA;AAAA,OAChD;AAAA,KACJ;AAEA,IAAI,IAAA,KAAA,KAAU,SAAS,MACvB,EAAA;AACI,MAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAAA,KAGvB,MAAA;AACI,MAAS,QAAA,CAAA,MAAA,CAAO,KAAO,EAAA,CAAA,EAAG,KAAK,CAAA,CAAA;AAAA,KACnC;AAEA,IAAA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;AACf,IAAA,KAAA,CAAM,SAAY,GAAA,IAAA,CAAA;AAClB,IAAA,KAAA,CAAM,aAAgB,GAAA,KAAA,CAAA;AACtB,IAAA,KAAA,CAAM,YAAe,GAAA,EAAA,CAAA;AAErB,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,SAAS,KAAK,CAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAI,IAAK,CAAA,gBAAA;AAAkB,MAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAE5C,IAAA,IAAA,CAAK,IAAK,CAAA,YAAA,EAAc,KAAO,EAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAC1C,IAAM,KAAA,CAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAExB,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAA,CAAkC,OAAU,MAC5C,EAAA;AACI,IAAA,IAAI,UAAU,MACd,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AACvC,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,aAAA,CAAc,MAAM,CAAA,CAAA;AAExC,IAAK,IAAA,CAAA,QAAA,CAAS,MAAM,CAAI,GAAA,MAAA,CAAA;AACxB,IAAK,IAAA,CAAA,QAAA,CAAS,MAAM,CAAI,GAAA,KAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAEA,gBACA,GAAA;AA/NJ,IAAA,IAAA,EAAA,CAAA;AAgOQ,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,MAAA,KAAL,mBAAa,WAAY,CAAA,IAAA,CAAA,CAAA;AAAA,GAC7B;AACJ;;AC/NO,MAAM,YACb,CAAA;AAAA,EAKI,YAAY,OACZ,EAAA;AAJA,IAAA,IAAA,CAAO,IAAO,GAAA,QAAA,CAAA;AACd,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAId,IAAA,IAAA,CAAK,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AAEA,MAAM,oBAAoC,EAAC,CAAA;AAEpC,SAAS,gBAAgB,OAChC,EAAA;AACI,EAAA,MAAM,YAAe,GAAA,iBAAA,CAAkB,GAAI,EAAA,IAAK,IAAI,YAAa,EAAA,CAAA;AAEjE,EAAA,YAAA,CAAa,OAAU,GAAA,OAAA,CAAA;AAEvB,EAAO,OAAA,YAAA,CAAA;AACX,CAAA;AAEO,SAAS,mBAAmB,MACnC,EAAA;AACI,EAAA,MAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAEjB,EAAA,iBAAA,CAAkB,KAAK,MAAM,CAAA,CAAA;AACjC;;ACzCO,MAAM,IACb,CAAA;AAAA,EAMI,WAAA,CAAY,WAAmC,WAC/C,EAAA;AALA,IAAA,IAAA,CAAiB,QAAa,EAAC,CAAA;AAC/B,IAAA,IAAA,CAAQ,MAAS,GAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAQ,MAAS,GAAA,CAAA,CAAA;AAIb,IAAA,IAAA,CAAK,UAAa,GAAA,SAAA,CAAA;AAElB,IAAA,IAAI,WACJ,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,WAAW,CAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AAAA,EAEO,YAAY,KACnB,EAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,MAAM,IAAK,CAAA,MAAA,EAAQ,CAAI,GAAA,IAAI,KAAK,UAAW,EAAA,CAAA;AAAA,KACpD;AAEA,IAAA,IAAA,CAAK,MAAU,IAAA,KAAA,CAAA;AAAA,GACnB;AAAA,EAEO,IAAI,IACX,EAAA;AA5BJ,IAAA,IAAA,EAAA,CAAA;AA6BQ,IAAI,IAAA,IAAA,CAAA;AAEJ,IAAI,IAAA,IAAA,CAAK,SAAS,CAClB,EAAA;AACI,MAAA,IAAA,GAAO,IAAK,CAAA,KAAA,CAAM,EAAE,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,KAGnC,MAAA;AACI,MAAO,IAAA,GAAA,IAAI,KAAK,UAAW,EAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,SAAL,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA;AAEZ,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAO,IACd,EAAA;AA9CJ,IAAA,IAAA,EAAA,CAAA;AA+CQ,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,KAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AAEA,IAAK,IAAA,CAAA,KAAA,CAAM,IAAK,CAAA,MAAA,EAAQ,CAAI,GAAA,IAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,KAAK,KAAM,CAAA,MAAA,CAAA;AAAA,GACtB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAK,KAAM,CAAA,MAAA,CAAA;AAAA,GACpC;AACJ;;AC5DO,MAAM,cACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAiB,IAAA,CAAA,aAAA,uBAAsE,GAAI,EAAA,CAAA;AAAA,GAAA;AAAA,EAEpF,WAAA,CAAe,OAA+B,KACrD,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAEpC,IAAA,SAAA,CAAU,YAAY,KAAK,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEO,GAAA,CAAO,OAA+B,IAC7C,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAE/B,IAAO,OAAA,IAAA,CAAK,IAAI,IAAI,CAAA,CAAA;AAAA,GACxB;AAAA,EAEO,OAAO,IACd,EAAA;AACI,IAAA,MAAM,IAAO,GAAA,IAAA,CAAK,OAAQ,CAAA,IAAA,CAAK,WAA4C,CAAA,CAAA;AAE3E,IAAA,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA;AAAA,GACpB;AAAA,EAEO,QAAW,SAClB,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,aAAc,CAAA,GAAA,CAAI,SAAS,CACrC,EAAA;AACI,MAAA,IAAA,CAAK,cAAc,GAAI,CAAA,SAAA,EAAW,IAAI,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA;AAAA,KACzD;AAEA,IAAO,OAAA,IAAA,CAAK,aAAc,CAAA,GAAA,CAAI,SAAS,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA,EAGO,KACP,GAAA;AACI,IAAA,MAAM,QAAQ,EAAC,CAAA;AAEf,IAAK,IAAA,CAAA,aAAA,CAAc,OAAQ,CAAA,CAAC,IAC5B,KAAA;AAEI,MAAA,MAAM,IAAO,GAAA,KAAA,CAAM,IAAK,CAAA,UAAA,CAAW,IAAI,CAAA,GACjC,IAAK,CAAA,UAAA,CAAW,IAAQ,GAAA,IAAA,CAAK,UAAmB,CAAA,EAAA,GAAK,KAAK,UAAW,CAAA,IAAA,CAAA;AAE3E,MAAA,KAAA,CAAM,IAAI,CAAI,GAAA;AAAA,QACV,MAAM,IAAK,CAAA,SAAA;AAAA,QACX,MAAM,IAAK,CAAA,SAAA;AAAA,QACX,MAAM,IAAK,CAAA,SAAA;AAAA,OACf,CAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AACJ,CAAA;AAEa,MAAA,OAAA,GAAU,IAAI,cAAe;;ACnDnC,MAAM,sBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAKH;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,iBAAsC,EAAC,CAAA;AACvD,IAAA,IAAA,CAAiB,SAA+B,EAAC,CAAA;AACjD,IAAA,IAAA,CAAQ,YAAe,GAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAEhB,IACP,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA;AAAc,MAAA,OAAA;AAEvB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,cAAA,CAAe,OAAQ,CAAA,CAAC,IAC7B,KAAA;AACI,MAAA,IAAA,CAAK,GAAI,CAAA;AAAA,QACL,MAAM,IAAK,CAAA,IAAA;AAAA,QACX,SAAW,EAAA,IAAA;AAAA,OACd,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,IAAI,IACX,EAAA;AACI,IAAK,IAAA,CAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,GACzB;AAAA,EAEO,cAAc,IACrB,EAAA;AACI,IAAA,IAAI,CAAC,IAAK,CAAA,YAAA;AAAc,MAAA,IAAA,CAAK,IAAK,EAAA,CAAA;AAElC,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAO,QAAQ,CACxC,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,IAAK,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAE1B,MAAI,IAAA,IAAA,CAAK,IAAK,CAAA,IAAI,CAClB,EAAA;AACI,QAAA,OAAO,OAAQ,CAAA,GAAA,CAAI,IAAK,CAAA,SAAA,EAAqD,IAAI,CAAA,CAAA;AAAA,OACrF;AAAA,KACJ;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,iBAAiB,MACxB,EAAA;AACI,IAAA,OAAA,CAAQ,OAAO,MAAM,CAAA,CAAA;AAAA,GACzB;AACJ,CAAA;AAEa,MAAA,iBAAA,GAAoB,IAAI,sBAAuB,GAAA;AAG5D,UAAA,CACK,YAAa,CAAA,aAAA,CAAc,UAAY,EAAA,iBAAA,CAAkB,cAAc,CAAA;;AC9CrE,MAAM,YAAmC,GAAA;AAAA,EAC5C,KAAO,EAAA,IAAA;AAAA,EACP,QAAU,EAAA,IAAA;AAAA,EACV,SAAS,EAAC;AAAA,EAEV,UAAU,MACV,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,OAAQ,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;AAEzC,IAAA,IAAI,KAAU,KAAA,CAAA,CAAA;AAAI,MAAA,OAAA;AAElB,IAAK,IAAA,CAAA,OAAA,CAAQ,KAAK,MAAM,CAAA,CAAA;AAExB,IAAK,IAAA,CAAA,OAAA,CAAQ,KAAK,CAAC,CAAA,EAAG,MAAM,CAAE,CAAA,QAAA,GAAW,EAAE,QAAQ,CAAA,CAAA;AAEnD,IAAA,IAAI,CAAC,IAAA,CAAK,WAAe,IAAA,IAAA,CAAK,UAC9B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,GACzB;AAAA,EACA,aAAa,MACb,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,OAAQ,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;AAEzC,IAAA,IAAI,KAAU,KAAA,CAAA,CAAA;AAAI,MAAA,OAAA;AAElB,IAAK,IAAA,CAAA,OAAA,CAAQ,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAE5B,IAAA,IAAI,CAAC,IAAA,CAAK,WAAe,IAAA,IAAA,CAAK,UAC9B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,IAAA,CAAK,UAAL,IAAK,CAAA,KAAA,GAAU,EAAE,IAAM,EAAA,IAAA,EAAM,QAAQ,IAAK,EAAA,CAAA,CAAA;AAE1C,IAAI,IAAA,IAAA,CAAK,MAAM,IAAS,KAAA,KAAA;AAAO,MAAA,OAAA;AAE/B,IAAI,IAAA,IAAA,CAAK,MAAM,MACf,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAEnC,MAAkB,iBAAA,CAAA,gBAAA,CAAiB,IAAK,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAEpD,MAAA,IAAA,CAAK,MAAM,MAAS,GAAA,IAAA,CAAA;AAAA,KACxB;AAEA,IAAA,IAAA,CAAK,MAAM,IAAO,GAAA,KAAA,CAAA;AAElB,IAAI,IAAA,KAAA,KAAU,QAAQ,KAAU,KAAA,KAAA,CAAA;AAAW,MAAA,OAAA;AAE3C,IAAM,MAAA,MAAA,GAAS,iBAAkB,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAEpD,IAAA,IAAA,CAAK,MAAM,MAAS,GAAA,MAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,IACJ,GAAA;AAvFJ,IAAA,IAAA,EAAA,CAAA;AAwFQ,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAL,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAK,KAAK,KAAU,KAAA,IAAA;AAAM,MAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;AAI3D,IAAA,IAAA,CAAK,aAAL,IAAK,CAAA,QAAA,GAAa,EAAE,OAAS,EAAA,IAAA,EAAM,QAAQ,IAAK,EAAA,CAAA,CAAA;AAEhD,IAAI,IAAA,IAAA,CAAK,SAAS,OAAY,KAAA,KAAA;AAAO,MAAA,OAAA;AAErC,IAAI,IAAA,IAAA,CAAK,SAAS,MAClB,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AACtC,MAAmB,kBAAA,CAAA,IAAA,CAAK,SAAS,MAAM,CAAA,CAAA;AACvC,MAAA,IAAA,CAAK,SAAS,MAAS,GAAA,IAAA,CAAA;AAAA,KAC3B;AAEA,IAAA,IAAA,CAAK,SAAS,OAAU,GAAA,KAAA,CAAA;AAExB,IAAA,IAAI,CAAC,KAAA;AAAO,MAAA,OAAA;AAEZ,IAAM,MAAA,MAAA,GAAS,gBAAgB,KAAiB,CAAA,CAAA;AAEhD,IAAA,IAAA,CAAK,SAAS,MAAS,GAAA,MAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,OACJ,GAAA;AAxHJ,IAAA,IAAA,EAAA,CAAA;AAyHQ,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,aAAL,IAAe,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAA;AAAA,GAC1B;AACJ;;ACvGO,MAAM,SAAgC,GAAA;AAAA,EACzC,KAAO,EAAA,IAAA;AAAA;AAAA,EAGP,IAAI,IACJ,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,uEAAuE,CAAA,CAAA;AAE3F,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,WAAA,CAAY,QAAQ,uEAAuE,CAAA,CAAA;AAE3F,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,cAAA,CAAe,IAAc,EAAA,IAAA,GAAO,KACpC,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AAAA,GAC1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,eAAA,CAAgB,KAAwB,EAAA,IAAA,GAAO,KAC/C,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AAEtB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,MAAI,IAAA,KAAA,CAAM,UAAU,KAAU,IAAA,KAAA,YAAiB,UAAU,KAAM,CAAA,IAAA,CAAK,MAAM,KAAK,CAAA;AAAI,QAAO,OAAA,KAAA,CAAA;AAAA,KAC9F;AAEA,IAAA,IAAI,IACJ,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AACxB,QAAA,MAAM,KAAQ,GAAA,KAAA,CAAM,eAAgB,CAAA,KAAA,EAAO,IAAI,CAAA,CAAA;AAE/C,QAAA,IAAI,KACJ,EAAA;AACI,UAAO,OAAA,KAAA,CAAA;AAAA,SACX;AAAA,OACJ;AAAA,KACJ;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,mBAAmB,KAAwB,EAAA,IAAA,GAAO,KAAO,EAAA,GAAA,GAAM,EAC/D,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AAEtB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,MAAI,IAAA,KAAA,CAAM,UAAU,KAAU,IAAA,KAAA,YAAiB,UAAU,KAAM,CAAA,IAAA,CAAK,KAAM,CAAA,KAAK,CAC/E,EAAA;AACI,QAAA,GAAA,CAAI,KAAK,KAAK,CAAA,CAAA;AAAA,OAClB;AAAA,KACJ;AAEA,IAAA,IAAI,IACJ,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAA,QAAA,CAAS,CAAC,CAAA,CAAE,kBAAmB,CAAA,KAAA,EAAO,MAAM,GAAG,CAAA,CAAA;AAAA,OACnD;AAAA,KACJ;AAEA,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ;;AClHA,MAAM,UAAa,GAAA,CAAC,IAAI,KAAA,EAAS,EAAA,IAAI,KAAM,EAAA,EAAG,IAAI,KAAA,EAAS,EAAA,IAAI,OAAO,CAAA,CAAA;AAM/D,MAAM,SACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwBI,WAAA,CAAY,IAAqB,CAAG,EAAA,CAAA,GAAqB,GAAG,KAAyB,GAAA,CAAA,EAAG,SAA0B,CAClH,EAAA;AApBA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAwB,GAAA,WAAA,CAAA;AAqBpC,IAAK,IAAA,CAAA,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AACjB,IAAK,IAAA,CAAA,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AACjB,IAAK,IAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AACzB,IAAK,IAAA,CAAA,MAAA,GAAS,OAAO,MAAM,CAAA,CAAA;AAAA,GAC/B;AAAA;AAAA,EAGA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,CAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,IAAI,IAAK,CAAA,KAAA,CAAA;AAAA,GACzB;AAAA;AAAA,EAGA,IAAI,GACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,CAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,IAAI,IAAK,CAAA,MAAA,CAAA;AAAA,GACzB;AAAA;AAAA,EAGA,WAAW,KACX,GAAA;AACI,IAAA,OAAO,IAAI,SAAA,CAAU,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAAA,GACnC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAO,OAAA,IAAI,UAAU,IAAK,CAAA,CAAA,EAAG,KAAK,CAAG,EAAA,IAAA,CAAK,KAAO,EAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,GAChE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,eAAe,MACtB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,IAAA,CAAA;AAChB,IAAK,IAAA,CAAA,KAAA,GAAQ,MAAO,CAAA,IAAA,GAAO,MAAO,CAAA,IAAA,CAAA;AAClC,IAAK,IAAA,CAAA,MAAA,GAAS,MAAO,CAAA,IAAA,GAAO,MAAO,CAAA,IAAA,CAAA;AAEnC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,SAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,SAAU,CAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,IAAI,SAAU,CAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,QAAQ,SAAU,CAAA,KAAA,CAAA;AACvB,IAAA,IAAA,CAAK,SAAS,SAAU,CAAA,MAAA,CAAA;AAExB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,SACd,EAAA;AACI,IAAA,SAAA,CAAU,SAAS,IAAI,CAAA,CAAA;AAEvB,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,KAAA,IAAS,CAAK,IAAA,IAAA,CAAK,UAAU,CACtC,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAI,KAAK,IAAK,CAAA,CAAA,IAAK,IAAI,IAAK,CAAA,CAAA,GAAI,KAAK,KACrC,EAAA;AACI,MAAA,IAAI,KAAK,IAAK,CAAA,CAAA,IAAK,IAAI,IAAK,CAAA,CAAA,GAAI,KAAK,MACrC,EAAA;AACI,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWO,UAAA,CAAW,OAAkB,SACpC,EAAA;AACI,IAAA,IAAI,CAAC,SACL,EAAA;AACI,MAAA,MAAMC,MAAK,IAAK,CAAA,CAAA,GAAI,MAAM,CAAI,GAAA,KAAA,CAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AAC7C,MAAA,MAAMC,MAAK,IAAK,CAAA,KAAA,GAAQ,MAAM,KAAQ,GAAA,KAAA,CAAM,QAAQ,IAAK,CAAA,KAAA,CAAA;AAEzD,MAAA,IAAIA,OAAMD,GACV,EAAA;AACI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAA,MAAME,MAAK,IAAK,CAAA,CAAA,GAAI,MAAM,CAAI,GAAA,KAAA,CAAM,IAAI,IAAK,CAAA,CAAA,CAAA;AAC7C,MAAA,MAAMC,MAAK,IAAK,CAAA,MAAA,GAAS,MAAM,MAAS,GAAA,KAAA,CAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAE5D,MAAA,OAAOA,GAAKD,GAAAA,GAAAA,CAAAA;AAAA,KAChB;AAEA,IAAA,MAAM,KAAK,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,KAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAChB,IAAA,MAAM,KAAK,IAAK,CAAA,MAAA,CAAA;AAEhB,IAAI,IAAA,EAAA,IAAM,EAAM,IAAA,EAAA,IAAM,EACtB,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAM,MAAA,EAAA,GAAK,WAAW,CAAC,CAAA,CAAE,IAAI,KAAM,CAAA,IAAA,EAAM,MAAM,GAAG,CAAA,CAAA;AAClD,IAAM,MAAA,EAAA,GAAK,WAAW,CAAC,CAAA,CAAE,IAAI,KAAM,CAAA,IAAA,EAAM,MAAM,MAAM,CAAA,CAAA;AACrD,IAAM,MAAA,EAAA,GAAK,WAAW,CAAC,CAAA,CAAE,IAAI,KAAM,CAAA,KAAA,EAAO,MAAM,GAAG,CAAA,CAAA;AACnD,IAAM,MAAA,EAAA,GAAK,WAAW,CAAC,CAAA,CAAE,IAAI,KAAM,CAAA,KAAA,EAAO,MAAM,MAAM,CAAA,CAAA;AAEtD,IAAA,IAAI,GAAG,CAAK,IAAA,EAAA,CAAG,KAAK,EAAG,CAAA,CAAA,IAAK,GAAG,CAC/B,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,IAAA,CAAM,SAAU,CAAA,CAAA,GAAI,UAAU,CAAM,GAAA,SAAA,CAAU,CAAI,GAAA,SAAA,CAAU,CAAE,CAAA,CAAA;AAE7E,IAAA,IAAI,MAAM,CACV,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAU,SAAA,CAAA,KAAA,CAAM,IAAI,EAAE,CAAA,CAAA;AACtB,IAAU,SAAA,CAAA,KAAA,CAAM,IAAI,EAAE,CAAA,CAAA;AACtB,IAAU,SAAA,CAAA,KAAA,CAAM,IAAI,EAAE,CAAA,CAAA;AACtB,IAAU,SAAA,CAAA,KAAA,CAAM,IAAI,EAAE,CAAA,CAAA;AAEtB,IAAI,IAAA,IAAA,CAAK,IAAI,EAAG,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,EAAA,CAAG,GAAG,EAAG,CAAA,CAAC,KAAK,EACjC,IAAA,IAAA,CAAK,IAAI,EAAG,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,EAAA,CAAG,CAAG,EAAA,EAAA,CAAG,CAAC,CAAA,IAAK,MACpC,IAAK,CAAA,GAAA,CAAI,GAAG,CAAG,EAAA,EAAA,CAAG,GAAG,EAAG,CAAA,CAAA,EAAG,EAAG,CAAA,CAAC,CAAK,IAAA,EAAA,IACpC,KAAK,GAAI,CAAA,EAAA,CAAG,GAAG,EAAG,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,EAAA,CAAG,CAAC,CAAA,IAAK,EAC3C,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAM,EAAK,GAAA,CAAA,IAAK,EAAG,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AAC1B,IAAA,MAAM,EAAK,GAAA,CAAA,IAAK,EAAG,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AAC1B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAE9B,IAAI,IAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,GAAK,EAAA,GAAA,EAAK,GAAG,CAAM,IAAA,EAAA,GAAK,EAAG,CAAA,CAAA,GAAM,EAAK,GAAA,EAAA,CAAG,KACpD,IAAK,CAAA,GAAA,CAAI,GAAK,EAAA,GAAA,EAAK,GAAK,EAAA,GAAG,CAAM,IAAA,EAAA,GAAK,EAAG,CAAA,CAAA,GAAM,EAAK,GAAA,EAAA,CAAG,CAC9D,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAM,EAAK,GAAA,CAAA,IAAK,EAAG,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AAC1B,IAAA,MAAM,EAAK,GAAA,CAAA,IAAK,EAAG,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AAC1B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAE9B,IAAI,IAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,GAAK,EAAA,GAAA,EAAK,GAAG,CAAM,IAAA,EAAA,GAAK,EAAG,CAAA,CAAA,GAAM,EAAK,GAAA,EAAA,CAAG,KACpD,IAAK,CAAA,GAAA,CAAI,GAAK,EAAA,GAAA,EAAK,GAAK,EAAA,GAAG,CAAM,IAAA,EAAA,GAAK,EAAG,CAAA,CAAA,GAAM,EAAK,GAAA,EAAA,CAAG,CAC9D,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,GAAI,CAAA,QAAA,GAAW,CAAG,EAAA,QAAA,GAAW,QACpC,EAAA;AACI,IAAA,IAAA,CAAK,CAAK,IAAA,QAAA,CAAA;AACV,IAAA,IAAA,CAAK,CAAK,IAAA,QAAA,CAAA;AAEV,IAAA,IAAA,CAAK,SAAS,QAAW,GAAA,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,UAAU,QAAW,GAAA,CAAA,CAAA;AAE1B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,IAAI,SACX,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,EAAG,UAAU,CAAC,CAAA,CAAA;AACvC,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,KAAK,KAAO,EAAA,SAAA,CAAU,CAAI,GAAA,SAAA,CAAU,KAAK,CAAA,CAAA;AACtE,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,EAAG,UAAU,CAAC,CAAA,CAAA;AACvC,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,KAAK,MAAQ,EAAA,SAAA,CAAU,CAAI,GAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAExE,IAAA,IAAA,CAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,GAAK,IAAI,CAAC,CAAA,CAAA;AAChC,IAAA,IAAA,CAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,GAAK,IAAI,CAAC,CAAA,CAAA;AAEjC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,IAAK,CAAA,UAAA,GAAa,CAAG,EAAA,GAAA,GAAM,IAClC,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,KAAK,IAAM,CAAA,CAAA,IAAA,CAAK,IAAI,IAAK,CAAA,KAAA,GAAQ,GAAO,IAAA,UAAU,CAAI,GAAA,UAAA,CAAA;AACjE,IAAM,MAAA,EAAA,GAAK,KAAK,IAAM,CAAA,CAAA,IAAA,CAAK,IAAI,IAAK,CAAA,MAAA,GAAS,GAAO,IAAA,UAAU,CAAI,GAAA,UAAA,CAAA;AAElE,IAAA,IAAA,CAAK,IAAI,IAAK,CAAA,KAAA,CAAA,CAAO,KAAK,CAAI,GAAA,GAAA,IAAO,UAAU,CAAI,GAAA,UAAA,CAAA;AACnD,IAAA,IAAA,CAAK,IAAI,IAAK,CAAA,KAAA,CAAA,CAAO,KAAK,CAAI,GAAA,GAAA,IAAO,UAAU,CAAI,GAAA,UAAA,CAAA;AAEnD,IAAK,IAAA,CAAA,KAAA,GAAQ,KAAK,IAAK,CAAA,CAAA,CAAA;AACvB,IAAK,IAAA,CAAA,MAAA,GAAS,KAAK,IAAK,CAAA,CAAA,CAAA;AAExB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,QAAQ,SACf,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,EAAG,UAAU,CAAC,CAAA,CAAA;AACvC,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,KAAK,KAAO,EAAA,SAAA,CAAU,CAAI,GAAA,SAAA,CAAU,KAAK,CAAA,CAAA;AACtE,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,EAAG,UAAU,CAAC,CAAA,CAAA;AACvC,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,KAAK,MAAQ,EAAA,SAAA,CAAU,CAAI,GAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAExE,IAAA,IAAA,CAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,IAAA,CAAK,QAAQ,EAAK,GAAA,EAAA,CAAA;AAClB,IAAA,IAAA,CAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,IAAA,CAAK,SAAS,EAAK,GAAA,EAAA,CAAA;AAEnB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,GACjB,EAAA;AACI,IAAM,GAAA,GAAA,GAAA,IAAO,IAAI,SAAU,EAAA,CAAA;AAC3B,IAAA,GAAA,CAAI,SAAS,IAAI,CAAA,CAAA;AAEjB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,2BAA2B,IAAK,CAAA,CAAA,CAAA,GAAA,EAAO,KAAK,CAAW,CAAA,OAAA,EAAA,IAAA,CAAK,gBAAgB,IAAK,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAC5F;AAEJ;;AC/UO,MAAM,MACb,CAAA;AAAA,EAeI,WAAA,CAAY,OAAO,QAAU,EAAA,IAAA,GAAO,UAAU,IAAO,GAAA,CAAA,QAAA,EAAW,OAAO,CACvE,QAAA,EAAA;AAfA,IAAA,IAAA,CAAO,IAAO,GAAA,QAAA,CAAA;AAEd,IAAA,IAAA,CAAO,IAAO,GAAA,QAAA,CAAA;AAEd,IAAA,IAAA,CAAO,IAAO,GAAA,CAAA,QAAA,CAAA;AAEd,IAAA,IAAA,CAAO,IAAO,GAAA,CAAA,QAAA,CAAA;AAGd;AAAA,IAAA,IAAA,CAAiB,eAAyB,EAAC,CAAA;AAC3C,IAAO,IAAA,CAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AAMvB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,GAAa,IAAI,SAAU,EAAA,CAAA;AAAA,KACpC;AAEA,IAAA,MAAM,YAAY,IAAK,CAAA,UAAA,CAAA;AAEvB,IAAA,IAAI,KAAK,IAAO,GAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,IAAA,GAAO,KAAK,IAC9C,EAAA;AACI,MAAA,SAAA,CAAU,CAAI,GAAA,CAAA,CAAA;AACd,MAAA,SAAA,CAAU,CAAI,GAAA,CAAA,CAAA;AACd,MAAA,SAAA,CAAU,KAAQ,GAAA,CAAA,CAAA;AAClB,MAAA,SAAA,CAAU,MAAS,GAAA,CAAA,CAAA;AAAA,KAGvB,MAAA;AACI,MAAA,SAAA,CAAU,eAAe,IAAI,CAAA,CAAA;AAAA,KACjC;AAEA,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,QAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,QAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,QAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,QAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,aAAa,MAAS,GAAA,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,OAAO,QAAS,EAAA,CAAA;AAAA,GACzB;AAAA,EAEO,WAAW,MAClB,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,KAAK,MAAM,CAAA,CAAA;AAE7B,IAAI,IAAA,IAAA,CAAK,YAAa,CAAA,MAAA,GAAS,CAC/B,EAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,SAAS,IAAK,CAAA,YAAA,CAAa,KAAK,YAAa,CAAA,MAAA,GAAS,CAAC,CAAC,CAAA,CAAA;AAEpE,MAAK,IAAA,CAAA,MAAA,CAAO,OAAO,MAAM,CAAA,CAAA;AAAA,KAG7B,MAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,SAAS,MAAM,CAAA,CAAA;AAAA,KAC/B;AAAA,GACJ;AAAA,EAEO,SACP,GAAA;AACI,IAAA,IAAA,CAAK,aAAa,GAAI,EAAA,CAAA;AAEtB,IAAI,IAAA,IAAA,CAAK,YAAa,CAAA,MAAA,GAAS,CAC/B,EAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,SAAS,IAAK,CAAA,YAAA,CAAa,KAAK,YAAa,CAAA,MAAA,GAAS,CAAC,CAAC,CAAA,CAAA;AAEpE,MAAK,IAAA,CAAA,MAAA,CAAO,OAAO,IAAK,CAAA,YAAA,CAAa,KAAK,YAAa,CAAA,MAAA,GAAS,CAAC,CAAC,CAAA,CAAA;AAAA,KAE7D,MAAA,IAAA,IAAA,CAAK,YAAa,CAAA,MAAA,KAAW,CACtC,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,QAAA,CAAS,IAAK,CAAA,YAAA,CAAa,CAAC,CAAC,CAAA,CAAA;AAAA,KAG7C,MAAA;AACI,MAAA,IAAA,CAAK,OAAO,QAAS,EAAA,CAAA;AAAA,KACzB;AAAA,GACJ;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAK,IAAA,CAAA,MAAA,CAAO,SAAS,MAAM,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEO,GAAI,CAAA,EAAA,EAAY,EAAY,EAAA,EAAA,EAAY,EAC/C,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,EAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,EAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,EAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,EAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,QAAS,CAAA,EAAA,EAAY,EAAY,EAAA,EAAA,EAAY,EACpD,EAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAEhB,IAAA,IAAI,CAAK,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC9B,IAAA,IAAI,CAAK,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAE9B,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAEtB,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAEtB,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAEtB,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAK,CAAA,GAAA,CAAA,GAAI,EAAO,GAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC1B,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,IAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,QAAQ,IACf,EAAA;AACI,IAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,CAAG,EAAA,IAAA,CAAK,CAAG,EAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,KAAO,EAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,GAC3E;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAK,IAAA,CAAA,QAAA,CAAS,OAAO,IAAM,EAAA,MAAA,CAAO,MAAM,MAAO,CAAA,IAAA,EAAM,OAAO,IAAI,CAAA,CAAA;AAAA,GACpE;AAAA,EAEO,cAAc,IACrB,EAAA;AACI,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,GAAO,KAAK,IAAO,GAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AACrD,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,GAAO,KAAK,IAAO,GAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AACrD,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,GAAO,KAAK,IAAO,GAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AACrD,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,GAAO,KAAK,IAAO,GAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GACzD;AAAA,EAEO,YAAY,MACnB,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAClB,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAClB,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAClB,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAGlB,IAAA,MAAM,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,EAAA,EAAI,IAAO,GAAA,MAAA,CAAA;AAE/B,IAAA,IAAI,CAAK,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAClC,IAAA,IAAI,CAAK,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAElC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AAEZ,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AAErC,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AAErC,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAK,CAAA,GAAA,CAAA,GAAI,IAAS,GAAA,CAAA,GAAI,IAAQ,GAAA,EAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AACrC,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,GAAI,IAAK,CAAA,IAAA,GAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AAAA,GACzC;AAAA,EAEO,IAAI,IACX,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA;AAAM,MAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AAC5C,IAAI,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,KAAA;AAAO,MAAA,IAAA,CAAK,OAAO,IAAK,CAAA,KAAA,CAAA;AAE7C,IAAI,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,GAAA;AAAK,MAAA,IAAA,CAAK,OAAO,IAAK,CAAA,GAAA,CAAA;AAC3C,IAAI,IAAA,IAAA,CAAK,OAAO,IAAK,CAAA,MAAA;AAAQ,MAAA,IAAA,CAAK,OAAO,IAAK,CAAA,MAAA,CAAA;AAE9C,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,GAAA,CAAI,QAAkB,EAAA,QAAA,GAAmB,QAChD,EAAA;AACI,IAAA,IAAA,CAAK,IAAQ,IAAA,QAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAQ,IAAA,QAAA,CAAA;AAEb,IAAA,IAAA,CAAK,IAAQ,IAAA,QAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAQ,IAAA,QAAA,CAAA;AAEb,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IACP,GAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAChC,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAChC,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC/B,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAE/B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KACP,GAAA;AACI,IAAO,OAAA,IAAI,OAAO,IAAK,CAAA,IAAA,EAAM,KAAK,IAAM,EAAA,IAAA,CAAK,IAAM,EAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAAA,GAChE;AAAA,EAEO,KAAA,CAAM,CAAW,EAAA,CAAA,GAAY,CACpC,EAAA;AACI,IAAA,IAAA,CAAK,IAAQ,IAAA,CAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAQ,IAAA,CAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAQ,IAAA,CAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAQ,IAAA,CAAA,CAAA;AAEb,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,OAAO,IAAK,CAAA,IAAA,GAAO,KAAO,IAAK,CAAA,IAAA,GAAO,KAAK,IAAO,GAAA,CAAA,CAAA;AAAA,GACnE;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAK,IAAS,KAAA,QAAA,CAAA;AAAA,GACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,aAAA,CAAc,UAA0B,EAAA,WAAA,EAAqB,SACpE,EAAA;AACI,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAChB,IAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAA;AAEhB,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,IAAA,KAAA,IAAS,CAAI,GAAA,WAAA,EAAa,CAAI,GAAA,SAAA,EAAW,KAAK,CAC9C,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,WAAW,CAAC,CAAA,CAAA;AAC3B,MAAM,MAAA,MAAA,GAAS,UAAW,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAE/B,MAAA,MAAM,CAAK,GAAA,CAAA,GAAI,MAAW,GAAA,CAAA,GAAI,MAAU,GAAA,EAAA,CAAA;AACxC,MAAA,MAAM,CAAK,GAAA,CAAA,GAAI,MAAW,GAAA,CAAA,GAAI,MAAU,GAAA,EAAA,CAAA;AAExC,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,QACP,GAAA;AAEI,IAAO,OAAA,CAAA,mBAAA,EAAsB,IAAK,CAAA,IAAA,CAAA,MAAA,EAAa,IAAK,CAAA,IAAA,CAAA,MAAA,EAAa,IAAK,CAAA,IAAA,CAAA,MAAA,EAAa,IAAK,CAAA,IAAA,CAAA,OAAA,EAAc,IAAK,CAAA,KAAA,CAAA,QAAA,EAAgB,IAAK,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACpI;AACJ;;ACnWgB,SAAA,oBAAA,CAAqB,IAAY,SACjD,EAAA;AACI,EAAA,MAAM,QAAQ,SAAU,CAAA,MAAA,CAAA;AACxB,EAAA,MAAM,QAAQ,SAAU,CAAA,MAAA,CAAA;AACxB,EAAA,MAAM,WAAW,SAAU,CAAA,SAAA,CAAA;AAE3B,EAAA,MAAM,KAAK,KAAM,CAAA,EAAA,CAAA;AACjB,EAAA,MAAM,KAAK,KAAM,CAAA,EAAA,CAAA;AAEjB,EAAA,MAAM,KAAK,KAAM,CAAA,EAAA,CAAA;AACjB,EAAA,MAAM,KAAK,KAAM,CAAA,EAAA,CAAA;AAGjB,EAAG,EAAA,CAAA,CAAA,GAAI,UAAU,GAAM,GAAA,EAAA,CAAA;AACvB,EAAG,EAAA,CAAA,CAAA,GAAI,UAAU,GAAM,GAAA,EAAA,CAAA;AACvB,EAAG,EAAA,CAAA,CAAA,GAAI,UAAU,GAAM,GAAA,EAAA,CAAA;AACvB,EAAG,EAAA,CAAA,CAAA,GAAI,UAAU,GAAM,GAAA,EAAA,CAAA;AAEvB,EAAA,EAAA,CAAG,KAAK,QAAS,CAAA,EAAA,IAAO,KAAK,EAAG,CAAA,CAAA,GAAM,KAAK,EAAG,CAAA,CAAA,CAAA,CAAA;AAC9C,EAAA,EAAA,CAAG,KAAK,QAAS,CAAA,EAAA,IAAO,KAAK,EAAG,CAAA,CAAA,GAAM,KAAK,EAAG,CAAA,CAAA,CAAA,CAAA;AAClD;;ACjBgB,SAAA,eAAA,CAAgB,MAAmB,EAAA,mBAAA,EAA8B,MACjF,EAAA;AACI,EAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AAEb,EAAI,IAAA,eAAA,CAAA;AAEJ,EAAA,IAAI,OAAO,MACX,EAAA;AACI,IAAA,IAAI,CAAC,mBACL,EAAA;AAEI,MAAA,eAAA,GAAkB,wBAAyB,CAAA,MAAA,EAAQ,IAAI,MAAA,EAAQ,CAAA,CAAA;AAAA,KAGnE,MAAA;AACI,MAAA,eAAA,GAAkB,OAAO,MAAO,CAAA,cAAA,CAAA;AAAA,KACpC;AAAA,GAGJ,MAAA;AACI,IAAA,eAAA,GAAkB,MAAO,CAAA,QAAA,CAAA;AAAA,GAC7B;AAIA,EAAiB,gBAAA,CAAA,MAAA,EAAQ,MAAQ,EAAA,eAAA,EAAiB,mBAAmB,CAAA,CAAA;AAErE,EAAI,IAAA,CAAC,OAAO,OACZ,EAAA;AACI,IAAA,MAAA,CAAO,GAAI,CAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GACzB;AAEA,EAAO,OAAA,MAAA,CAAA;AACX,CAAA;AAEO,SAAS,gBACZ,CAAA,MAAA,EACA,MACA,EAAA,eAAA,EACA,mBAEJ,EAAA;AA/CA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAgDI,EAAA,IAAI,CAAC,MAAA,CAAO,OAAW,IAAA,CAAC,MAAO,CAAA,UAAA;AAAY,IAAA,OAAA;AAE3C,EAAI,IAAA,cAAA,CAAA;AAEJ,EAAA,IAAI,CAAC,mBACL,EAAA;AACI,IAAA,IAAI,OAAO,SACX,EAAA;AACI,MAAqB,oBAAA,CAAA,MAAA,CAAO,gBAAgB,MAAM,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,cAAA,GAAiB,OAAO,MAAO,CAAA,UAAA,CAAW,OAAO,cAAgB,EAAA,eAAe,EAAE,KAAM,EAAA,CAAA;AAAA,GAG5F,MAAA;AACI,IAAA,cAAA,GAAiB,MAAO,CAAA,cAAA,CAAA;AAAA,GAC5B;AAEA,EAAA,MAAM,YAAe,GAAA,MAAA,CAAA;AACrB,EAAA,MAAM,cAAiB,GAAA,CAAC,CAAC,MAAA,CAAO,OAAQ,CAAA,MAAA,CAAA;AAExC,EAAA,IAAI,cACJ,EAAA;AAEI,IAAA,MAAA,GAAS,OAAO,KAAM,EAAA,CAAA;AAAA,GAC1B;AAEA,EAAA,IAAI,OAAO,IACX,EAAA;AACI,IAAA,MAAA,CAAO,UAAU,cAAc,CAAA,CAAA;AAE/B,IAAO,MAAA,CAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GAChC;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,QAAA,CAAS,QAAQ,CAC5C,EAAA,EAAA;AACI,IAAA,gBAAA,CAAiB,OAAO,QAAS,CAAA,CAAC,CAAG,EAAA,MAAA,EAAQ,gBAAgB,mBAAmB,CAAA,CAAA;AAAA,GACpF;AAEA,EAAA,IAAI,cACJ,EAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,OAAA,CAAQ,QAAQ,CAC3C,EAAA,EAAA;AACI,MAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,CAAO,OAAQ,CAAA,CAAC,CAAE,EAAA,SAAA,KAAlB,IAA8B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,MAAA,CAAA,CAAA;AAAA,KAClC;AAEA,IAAa,YAAA,CAAA,SAAA,CAAU,OAAO,QAAQ,CAAA,CAAA;AACtC,IAAA,YAAA,CAAa,UAAU,MAAM,CAAA,CAAA;AAAA,GACjC;AACJ,CAAA;AAEgB,SAAA,wBAAA,CAAyB,QAAmB,eAC5D,EAAA;AACI,EAAA,MAAM,SAAS,MAAO,CAAA,MAAA,CAAA;AAEtB,EAAA,IAAI,MACJ,EAAA;AACI,IAAA,wBAAA,CAAyB,QAAQ,eAAe,CAAA,CAAA;AAEhD,IAAA,IAAI,OAAO,SACX,EAAA;AACI,MAAqB,oBAAA,CAAA,MAAA,CAAO,gBAAgB,MAAM,CAAA,CAAA;AAAA,KACtD;AAEA,IAAgB,eAAA,CAAA,MAAA,CAAO,OAAO,cAAc,CAAA,CAAA;AAAA,GAChD;AAEA,EAAO,OAAA,eAAA,CAAA;AACX;;ACpHA,IAAI,SAAY,GAAA,CAAA,CAAA;AAChB,MAAM,WAAc,GAAA,GAAA,CAAA;AAOb,SAAS,QAAQ,IACxB,EAAA;AACI,EAAA,IAAI,SAAc,KAAA,WAAA;AAAa,IAAA,OAAA;AAE/B,EAAA,SAAA,EAAA,CAAA;AAEA,EAAA,IAAI,cAAc,WAClB,EAAA;AACI,IAAA,OAAA,CAAQ,KAAK,gGAAgG,CAAA,CAAA;AAAA,GAGjH,MAAA;AACI,IAAQ,OAAA,CAAA,IAAA,CAAK,kBAAoB,EAAA,GAAG,IAAI,CAAA,CAAA;AAAA,GAC5C;AACJ;;ACfgB,SAAA,cAAA,CAAe,MAAmB,EAAA,MAAA,EAAgB,cAClE,EAAA;AACI,EAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AASb,EAAA,cAAA,KAAA,cAAA,GAAmB,IAAI,MAAO,EAAA,CAAA,CAAA;AAE9B,EAAA,IAAI,OAAO,IACX,EAAA;AACI,IAAA,MAAA,CAAO,UAAU,cAAc,CAAA,CAAA;AAC/B,IAAO,MAAA,CAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GAChC;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,QAAA,CAAS,QAAQ,CAC5C,EAAA,EAAA;AACI,IAAA,eAAA,CAAgB,OAAO,QAAS,CAAA,CAAC,CAAG,EAAA,MAAA,EAAQ,gBAAgB,MAAM,CAAA,CAAA;AAAA,GACtE;AAEA,EAAI,IAAA,CAAC,OAAO,OACZ,EAAA;AACI,IAAA,MAAA,CAAO,GAAI,CAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GACzB;AAEA,EAAO,OAAA,MAAA,CAAA;AACX,CAAA;AAEA,SAAS,eAAgB,CAAA,MAAA,EAAmB,MAAgB,EAAA,eAAA,EAAyB,aACrF,EAAA;AAxCA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyCI,EAAA,IAAI,CAAC,MAAA,CAAO,OAAW,IAAA,CAAC,MAAO,CAAA,UAAA;AAAY,IAAA,OAAA;AAG3C,EAAA,IAAI,OAAO,SACX,EAAA;AACI,IAAqB,oBAAA,CAAA,MAAA,CAAO,gBAAgB,MAAM,CAAA,CAAA;AAAA,GACtD;AAEA,EAAA,MAAM,iBAAiB,MAAO,CAAA,cAAA,CAAA;AAE9B,EAAA,MAAM,oBAAoB,MAAO,CAAA,MAAA,CAAO,WAAW,cAAgB,EAAA,eAAe,EAAE,KAAM,EAAA,CAAA;AAE1F,EAAA,MAAM,YAAe,GAAA,MAAA,CAAA;AACrB,EAAA,MAAM,cAAiB,GAAA,CAAC,CAAC,MAAA,CAAO,OAAQ,CAAA,MAAA,CAAA;AAExC,EAAA,IAAI,cACJ,EAAA;AAEI,IAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AAAA,GACxB;AAEA,EAAA,IAAI,OAAO,IACX,EAAA;AACI,IAAA,MAAA,CAAO,UAAU,iBAAiB,CAAA,CAAA;AAElC,IAAO,MAAA,CAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GAChC;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,QAAA,CAAS,QAAQ,CAC5C,EAAA,EAAA;AACI,IAAA,eAAA,CAAgB,OAAO,QAAS,CAAA,CAAC,CAAG,EAAA,MAAA,EAAQ,mBAAmB,aAAa,CAAA,CAAA;AAAA,GAChF;AAEA,EAAA,IAAI,cACJ,EAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,OAAA,CAAQ,QAAQ,CAC3C,EAAA,EAAA;AACI,MAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,CAAO,OAAQ,CAAA,CAAC,CAAE,EAAA,cAAA,KAAlB,4BAAmC,MAAQ,EAAA,aAAA,CAAA,CAAA;AAAA,KAC/C;AAGA,IAAa,YAAA,CAAA,SAAA,CAAU,OAAO,QAAQ,CAAA,CAAA;AACtC,IAAA,YAAA,CAAa,UAAU,MAAM,CAAA,CAAA;AAAA,GACjC;AACJ,CAAA;AAEgB,SAAA,SAAA,CAAU,MAAmB,EAAA,IAAA,EAAiB,MAC9D,EAAA;AACI,EAAA,MAAM,SAAS,MAAO,CAAA,MAAA,CAAA;AAEtB,EAAA,IAAI,CAAC,MACL,EAAA;AAGI,IAAA,IAAA,CAAK,uCAAuC,CAAA,CAAA;AAG5C,IAAA,OAAA;AAAA,GACJ;AAEA,EAAA,IAAI,WAAW,IACf,EAAA;AACI,IAAU,SAAA,CAAA,MAAA,EAAQ,MAAM,MAAM,CAAA,CAAA;AAE9B,IAAqB,oBAAA,CAAA,MAAA,CAAO,gBAAgB,MAAM,CAAA,CAAA;AAClD,IAAO,MAAA,CAAA,MAAA,CAAO,OAAO,cAAc,CAAA,CAAA;AAAA,GACvC;AACJ;;ACzFA,MAAME,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAC9B,MAAML,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAEvB,MAAM,YAAmC,GAAA;AAAA,EAE5C,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,eAAe,IAAM,EAAAK,YAAA,EAAYL,YAAU,CAAA,CAAE,KAAK,CAAA,CAAA;AAAA,GACrF;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,MAAM,UAAa,GAAA,cAAA,CAAe,IAAM,EAAAK,YAAA,EAAYL,YAAU,CAAE,CAAA,KAAA,CAAA;AAEhE,IAAA,IAAI,eAAe,CACnB,EAAA;AACI,MAAK,IAAA,CAAA,KAAA,CAAM,IAAI,KAAQ,GAAA,UAAA,CAAA;AAAA,KAG3B,MAAA;AACI,MAAA,IAAA,CAAK,MAAM,CAAI,GAAA,CAAA,CAAA;AAAA,KACnB;AAAA,GACJ;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,eAAe,IAAM,EAAAK,YAAA,EAAYL,YAAU,CAAA,CAAE,MAAM,CAAA,CAAA;AAAA,GACtF;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,MAAM,WAAc,GAAA,cAAA,CAAe,IAAM,EAAAK,YAAA,EAAYL,YAAU,CAAE,CAAA,MAAA,CAAA;AAEjE,IAAA,IAAI,gBAAgB,CACpB,EAAA;AACI,MAAK,IAAA,CAAA,KAAA,CAAM,IAAI,KAAQ,GAAA,WAAA,CAAA;AAAA,KAG3B,MAAA;AACI,MAAA,IAAA,CAAK,MAAM,CAAI,GAAA,CAAA,CAAA;AAAA,KACnB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,eAAe,IACf,EAAA;AACI,IAAA,MAAM,SAAS,cAAe,CAAA,IAAA,EAAM,IAAI,MAAA,IAAUA,YAAU,CAAA,CAAA;AAE5D,IAAA,OAAO,OAAO,IAAK,CAAA,cAAA,CAAe,MAAM,CAAI,GAAA,MAAA,CAAO,UAAU,KAAM,EAAA,CAAA;AAAA,GACvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,SAAA,CAAU,YAAsB,IAChC,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,eAAA,CAAgB,IAAM,EAAA,UAAA,EAAYK,YAAU,CAAA,CAAA;AAE3D,IAAA,OAAO,OAAO,IAAK,CAAA,cAAA,CAAe,MAAM,CAAI,GAAA,MAAA,CAAO,UAAU,KAAM,EAAA,CAAA;AAAA,GACvE;AAEJ;;AC9EO,MAAM,aAAoC,GAAA;AAAA,EAC7C,SAAW,EAAA,IAAA;AAAA,EAEX,IAAI,SAAS,IACb,EAAA;AACI,IAAA,MAAM,aAAa,IAAK,CAAA,UAAA,CAAA;AAExB,IAAA,IAAI,CAAC,IACL,EAAA;AACI,MAAA,IAAI,KAAK,SACT,EAAA;AACI,QAAA,UAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,UAAA,CAAY,cAAe,CAAA,IAAA,CAAA,CAAA;AAAA,OAC/B;AAEA,MAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,MAAA,OAAA;AAAA,KACJ;AAEA,IAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,MAAA,UAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,UAAA,CAAY,WAAY,CAAA,IAAA,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AACJ;;AC1BO,MAAM,SAAgC,GAAA;AAAA,EACzC,OAAS,EAAA,CAAA;AAAA,EACT,SAAW,EAAA,KAAA;AAAA,EACX,gBAAkB,EAAA,KAAA;AAAA,EAElB,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,KAAK,OAAY,KAAA,KAAA;AAAO,MAAA,OAAA;AAE5B,IAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AAEf,IAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,oBACA,GAAA;AACI,IAAA,IAAI,KAAK,MACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,gBAAmB,GAAA,IAAA,CAAA;AAC/B,MAAA,IAAA,CAAK,OAAO,SAAY,GAAA,IAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAI,IAAK,CAAA,UAAA,IAAc,CAAC,IAAA,CAAK,WAC7B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AAAA,EAEA,YACA,GAAA;AACI,IAAA,IAAI,CAAC,IAAK,CAAA,SAAA;AAAW,MAAA,OAAA;AAErB,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAEjB,IAAK,IAAA,CAAA,QAAA,CAAS,KAAK,YAAY,CAAA,CAAA;AAAA,GACnC;AACJ,EAAA;AAEA,SAAS,YAAA,CAAa,GAAc,CACpC,EAAA;AACI,EAAO,OAAA,CAAA,CAAE,UAAU,CAAE,CAAA,OAAA,CAAA;AACzB;;AChDO,MAAM,kBAAyC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQlD,kBAAkB,KAAe,GAAA,IAAI,KAAM,EAAA,EAAG,aAAa,KAC3D,EAAA;AACI,IAAA,IAAI,KAAK,MACT,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,QAAA,CAAS,IAAK,CAAA,SAAA,EAAW,OAAO,UAAU,CAAA,CAAA;AAAA,KAG1D,MAAA;AACI,MAAM,KAAA,CAAA,CAAA,GAAI,KAAK,SAAU,CAAA,CAAA,CAAA;AACzB,MAAM,KAAA,CAAA,CAAA,GAAI,KAAK,SAAU,CAAA,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,QAAsC,CAAA,QAAA,EAAqB,KAAW,EAAA,UAAA,GAAa,KACnF,EAAA;AACI,IAAA,IAAI,CAAC,UACL,EAAA;AACI,MAAA,IAAI,KAAK,SACT,EAAA;AACI,QAAqB,oBAAA,CAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,OAClD;AAEA,MAAA,MAAM,YAAe,GAAA,wBAAA,CAAyB,IAAM,EAAA,IAAI,QAAQ,CAAA,CAAA;AAEhE,MAAa,YAAA,CAAA,MAAA,CAAO,KAAK,cAAc,CAAA,CAAA;AAEvC,MAAO,OAAA,YAAA,CAAa,KAAS,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;AAAA,KAChD;AAGA,IAAA,OAAO,IAAK,CAAA,cAAA,CAAe,KAAS,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;AAAA,GACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,OAAqC,CAAA,QAAA,EAAqB,IAAkB,EAAA,KAAA,EAAW,UACvF,EAAA;AACI,IAAA,IAAI,IACJ,EAAA;AACI,MAAA,QAAA,GAAW,IAAK,CAAA,QAAA,CAAS,QAAU,EAAA,KAAA,EAAO,UAAU,CAAA,CAAA;AAAA,KACxD;AAEA,IAAA,IAAI,CAAC,UACL,EAAA;AACI,MAAA,IAAI,KAAK,SACT,EAAA;AACI,QAAqB,oBAAA,CAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,OAClD;AAEA,MAAA,MAAM,YAAe,GAAA,wBAAA,CAAyB,IAAM,EAAA,IAAI,QAAQ,CAAA,CAAA;AAEhE,MAAa,YAAA,CAAA,MAAA,CAAO,KAAK,cAAc,CAAA,CAAA;AAEvC,MAAO,OAAA,YAAA,CAAa,YAAgB,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;AAAA,KACvD;AAGA,IAAA,OAAO,IAAK,CAAA,cAAA,CAAe,YAAgB,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;AAAA,GAC9D;AACJ;;ACjGO,MAAM,cACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,gBAAgB,CAAA,CAAA;AACjC,IAAA,IAAA,CAAO,eAA8B,EAAC,CAAA;AACtC,IAAA,IAAA,CAAO,eAAkB,GAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAGlB,KACP,GAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,IAAI,WACX,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,eAAA,EAAiB,CAAI,GAAA,WAAA,CAAA;AAAA,GAChD;AAAA,EAEO,GACP,GAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,SAAS,IAAK,CAAA,eAAA,CAAA;AAEhC,IAAA,OAAA,CAAQ,MAAM,IAAK,CAAA,YAAA,EAAc,CAAC,MAAA,EAAQ,QAAQ,CAAC,CAAA,CAAA;AAAA,GACvD;AAAA,EAEO,eACP,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,YAAA,CAAa,IAAK,CAAA,eAAA,GAAkB,CAAC,CAAA,CAAA;AAAA,GACrD;AACJ;;ACvBO,MAAM,UACb,CAAA;AAAA,EAmCI,YAAY,IACZ,EAAA;AAnCA,IAAA,IAAA,CAAO,IAAO,GAAA,OAAA,CAAA;AACd,IAAA,IAAA,CAAO,IAAkB,GAAA,IAAA,CAAA;AAEzB,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAEnB,IAAA,IAAA,CAAO,gBAA+B,GAAA,IAAA,CAAA;AACtC,IAAA,IAAA,CAAO,qBAAmC,EAAC,CAAA;AAE3C,IAAA,IAAA,CAAiB,YAAyB,EAAC,CAAA;AAE3C,IAAO,IAAA,CAAA,cAAA,GAAyB,IAAI,MAAO,EAAA,CAAA;AAC3C,IAAA,IAAA,CAAO,UAAa,GAAA,UAAA,CAAA;AAGpB;AAAA,IAAgB,IAAA,CAAA,gBAAA,mBAAiF,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC5G,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AAGpB;AAAA,IAAA,IAAA,CAAgB,8BAAsE,EAAE,IAAA,EAAM,EAAC,EAAG,OAAO,CAAE,EAAA,CAAA;AAG3G;AAAA,IAAA,IAAA,CAAO,kBAAqB,GAAA,IAAA,CAAA;AAE5B,IAAO,IAAA,CAAA,cAAA,GAAiC,IAAI,cAAe,EAAA,CAAA;AAE3D,IAAA,IAAA,CAAiB,sBAAmC,EAAC,CAAA;AAWjD,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAAA,GACtB;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,cAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,cAAA,CAAA;AAAA,GACrB;AAAA,EAEO,mBAAmB,eAC1B,EAAA;AACI,IAAA,IAAI,gBAAgB,gBACpB,EAAA;AACI,MAAgB,eAAA,CAAA,gBAAA,CAAiB,uBAAuB,eAAe,CAAA,CAAA;AAAA,KAC3E;AAEA,IAAA,eAAA,CAAgB,gBAAmB,GAAA,IAAA,CAAA;AAEnC,IAAK,IAAA,CAAA,aAAA,CAAc,gBAAgB,IAAI,CAAA,CAAA;AAEvC,IAAK,IAAA,CAAA,kBAAA,CAAmB,KAAK,eAAe,CAAA,CAAA;AAAA,GAChD;AAAA,EAEQ,uBAAuB,eAC/B,EAAA;AACI,IAAI,IAAA,eAAA,CAAgB,KAAK,SACzB,EAAA;AACI,MAAK,IAAA,CAAA,sBAAA,CAAuB,gBAAgB,IAAI,CAAA,CAAA;AAAA,KACpD;AAEA,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,kBAAmB,CAAA,OAAA,CAAQ,eAAe,CAAA,CAAA;AAE7D,IAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,kBAAA,CAAmB,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KAC3C;AAEA,IAAA,eAAA,CAAgB,gBAAmB,GAAA,IAAA,CAAA;AAAA,GACvC;AAAA,EAEO,SAAS,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAG1B,IAAI,IAAA,KAAA,KAAU,KAAK,IACnB,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,KAAK,KAAK,CAAA,CAAA;AAEzB,MAAA,KAAA,CAAM,UAAa,GAAA,CAAA,CAAA,CAAA;AAEnB,MAAI,IAAA,KAAA,CAAM,MAAW,KAAA,IAAA,CAAK,IAC1B,EAAA;AACI,QAAA,KAAA,CAAM,kBAAqB,GAAA,CAAA,CAAA;AAAA,OAI/B,MAAA;AACI,QAAM,KAAA,CAAA,kBAAA,GAAqB,KAAM,CAAA,MAAA,CAAO,kBAAqB,GAAA,CAAA,CAAA;AAAA,OACjE;AAEA,MAAA,IAAI,MAAM,SACV,EAAA;AACI,QAAA,IAAA,CAAK,YAAY,KAAK,CAAA,CAAA;AAAA,OAC1B;AAAA,KACJ;AAEA,IAAA,IAAI,MAAM,UACV,EAAA;AACI,MAAI,IAAA,KAAA,CAAM,UAAW,CAAA,IAAA,KAAS,KAC9B,EAAA;AAEI,QAAK,IAAA,CAAA,kBAAA,CAAmB,MAAM,UAAU,CAAA,CAAA;AAExC,QAAA,OAAA;AAAA,OACJ;AAAA,KAGJ,MAAA;AACI,MAAA,KAAA,CAAM,UAAa,GAAA,IAAA,CAAA;AACnB,MAAA,KAAA,CAAM,SAAY,GAAA,IAAA,CAAA;AAAA,KACtB;AAEA,IAAA,MAAM,WAAW,KAAM,CAAA,QAAA,CAAA;AAEvB,IAAI,IAAA,CAAC,MAAM,WACX,EAAA;AACI,MAAA,IAAA,CAAK,cAAc,KAAK,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AAAA,EAEO,YAAY,KACnB,EAAA;AAEI,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAE1B,IAAA,IAAI,MAAM,SACV,EAAA;AACI,MAAA,IAAA,CAAK,eAAe,KAAK,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAI,IAAA,KAAA,CAAM,UAAW,CAAA,IAAA,KAAS,KAC9B,EAAA;AACI,MAAA,MAAM,WAAW,KAAM,CAAA,QAAA,CAAA;AAEvB,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAK,IAAA,CAAA,WAAA,CAAY,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,OAChC;AAEA,MAAA,IAAI,MAAM,SACV,EAAA;AACI,QAAM,KAAA,CAAA,UAAA,CAAW,uBAAuB,KAAK,CAAA,CAAA;AAAA,OACjD;AAEA,MAAA,KAAA,CAAM,UAAa,GAAA,IAAA,CAAA;AAAA,KAIvB,MAAA;AACI,MAAK,IAAA,CAAA,sBAAA,CAAuB,MAAM,UAAU,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAE1C,IAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KAClC;AAAA,GACJ;AAAA,EAEO,cAAc,KACrB,EAAA;AACI,IAAA,IAAI,gBAAmB,GAAA,IAAA,CAAK,gBAAiB,CAAA,KAAA,CAAM,kBAAkB,CAAA,CAAA;AAErE,IAAA,IAAI,CAAC,gBACL,EAAA;AACI,MAAA,gBAAA,GAAmB,IAAK,CAAA,gBAAA,CAAiB,KAAM,CAAA,kBAAkB,CAAI,GAAA;AAAA,QACjE,KAAO,EAAA,CAAA;AAAA,QACP,MAAM,EAAC;AAAA,OACX,CAAA;AAAA,KACJ;AAEA,IAAiB,gBAAA,CAAA,IAAA,CAAK,gBAAiB,CAAA,KAAA,EAAO,CAAI,GAAA,KAAA,CAAA;AAAA,GACtD;AAAA;AAAA,EAGO,iBAAiB,SACxB,EAAA;AAEI,IAAA,IAAI,UAAU,sBAAyB,GAAA,CAAA;AAAM,MAAA,OAAA;AAE7C,IAAA,SAAA,CAAU,aAAgB,GAAA,KAAA,CAAA;AAE1B,IAAA,IAAA,CAAK,eAAe,WAAY,CAAA,SAAA,CAAU,KAAK,YAAY,CAAA,CAAE,iBAAiB,SAAS,CAAA,CAAA;AAAA,GAC3F;AAAA,EAEO,kBAAkB,KACzB,EAAA;AACI,IAAA,IAAA,CAAK,2BAA4B,CAAA,IAAA,CAAK,IAAK,CAAA,2BAAA,CAA4B,OAAO,CAAI,GAAA,KAAA,CAAA;AAAA,GACtF;AAAA,EAEQ,uBAAuB,KAC/B,EAAA;AACI,IAAA,MAAM,gBAAmB,GAAA,IAAA,CAAK,gBAAiB,CAAA,KAAA,CAAM,kBAAkB,CAAA,CAAA;AAEvE,IAAA,IAAI,CAAC,gBACL,EAAA;AAAE,MAAA,OAAA;AAAA,KAAQ;AAEV,IAAA,MAAM,KAAQ,GAAA,gBAAA,CAAiB,IAAK,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAGjD,IAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AACI,MAAiB,gBAAA,CAAA,IAAA,CAAK,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAiB,gBAAA,CAAA,KAAA,EAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAM,MAAA,UAAA,GAAe,IAAK,CAAA,UAAA,IAAc,EAAM,GAAA,GAAA,CAAA;AAE9C,IAAA,OAAQ,IAAK,CAAA,IAAA,CAAK,sBAA2B,KAAA,CAAA,IAAQ,UAAa,GAAA,CAAA,CAAA;AAAA,GACtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,YAAY,SACnB,EAAA;AACI,IAAK,IAAA,CAAA,mBAAA,CAAoB,KAAK,SAAS,CAAA,CAAA;AAAA,GAC3C;AAAA,EAEO,eAAe,SACtB,EAAA;AACI,IAAA,IAAA,CAAK,oBAAoB,MAAO,CAAA,IAAA,CAAK,oBAAoB,OAAQ,CAAA,SAAS,GAAG,CAAC,CAAA,CAAA;AAAA,GAClF;AAAA,EAEO,WACP,GAAA;AACI,IAAK,IAAA,CAAA,mBAAA,CAAoB,OAAQ,CAAA,CAAC,SAClC,KAAA;AACI,MAAA,SAAA,CAAU,SAAU,EAAA,CAAA;AAAA,KACvB,CAAA,CAAA;AAAA,GACL;AACJ;;ACrQO,SAAS,aAA4C,GAC5D,EAAA;AACI,EAAA,OAAO,MAAO,CAAA,WAAA;AAAA,IACV,MAAA,CAAO,OAAQ,CAAA,GAAG,CAAE,CAAA,MAAA,CAAO,CAAC,CAAC,EAAI,EAAA,CAAC,CAAM,KAAA,CAAA,KAAM,KAAS,CAAA,CAAA;AAAA,GAC3D,CAAA;AACJ;;ACeA,MAAM,WAAA,GAAc,IAAI,eAAA,CAAgB,IAAI,CAAA,CAAA;AAC5C,MAAM,YAAA,GAAe,IAAI,eAAA,CAAgB,IAAI,CAAA,CAAA;AAC7C,MAAM,YAAe,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AA0B5C,MAAM,YAAe,GAAA,EAAA;AACrB,MAAM,YAAe,GAAA,EAAA;AACrB,MAAM,cAAiB,GAAA,EAAA;AACvB,MAAM,gBAAmB,GAAA,EAAA;AAkDzB,MAAM,kBAAyCC,aACtD,CAAA;AAAA,EAoJI,WAAA,CAAY,OAAwC,GAAA,EACpD,EAAA;AAjQJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAkQQ,IAAM,KAAA,EAAA,CAAA;AA3IV;AAAA,IAAO,IAAA,CAAA,GAAA,GAAc,IAAI,YAAY,CAAA,CAAA;AAGrC;AAAA,IAAA,IAAA,CAAO,YAAe,GAAA,EAAA,CAAA;AAKtB;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,WAAc,GAAA,KAAA,CAAA;AAGrB;AAAA;AAAA,IAAA,IAAA,CAAO,UAAyB,GAAA,IAAA,CAAA;AAMhC;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAGnB;AAAA;AAAA,IAAA,IAAA,CAAO,aAAgB,GAAA,KAAA,CAAA;AAIvB;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,kBAAqB,GAAA,CAAA,CAAA;AAE5B,IAAA,IAAA,CAAO,WAAwB,EAAC,CAAA;AAChC,IAAA,IAAA,CAAO,MAAoB,GAAA,IAAA,CAAA;AAK3B;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,cAAiB,GAAA,IAAA,CAAA;AAExB;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,IAAA,CAAA;AAEpB;AAAA,IAAA,IAAA,CAAO,QAAW,GAAA,IAAA,CAAA;AAOlB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA,CAAA;AAEpB,IAAO,IAAA,CAAA,cAAA,GAAyB,IAAI,MAAO,EAAA,CAAA;AAE3C;AAAA,IAAO,IAAA,CAAA,cAAA,GAAyB,IAAI,MAAO,EAAA,CAAA;AAI3C,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAOnB;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,SAA6B,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAMlE;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,MAA0B,GAAA,YAAA,CAAA;AAMjC;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,MAA0B,GAAA,YAAA,CAAA;AAMjC;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,KAAyB,GAAA,WAAA,CAAA;AAOhC;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,GAAM,GAAA,CAAA,CAAA;AAOb;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,GAAM,GAAA,CAAA,CAAA;AAOb;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,GAAM,GAAA,CAAA,CAAA;AAOb;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,GAAM,GAAA,CAAA,CAAA;AAGb;AAAA,IAAA,IAAA,CAAQ,SAAY,GAAA,CAAA,CAAA;AAMpB;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,UAAA,CAAA;AAEpB;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,UAAA,CAAA;AAKpB;AAAA;AAAA,IAAA,IAAA,CAAO,cAA8B,GAAA,SAAA,CAAA;AAErC;AAAA,IAAA,IAAA,CAAO,cAA8B,GAAA,QAAA,CAAA;AAQrC;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,sBAAyB,GAAA,CAAA,CAAA;AAEhC;AAAA;AAAA,IAAA,IAAA,CAAO,sBAAyB,GAAA,CAAA,CAAA;AAS5B,IAAA,IAAI,QAAQ,IACZ,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,OAAQ,CAAA,IAAA,CAAA;AAGpB,MAAA,IAAA,CAAK,KAAK,KAAQ,GAAA,IAAA,CAAA;AAClB,MAAA,OAAA,CAAQ,IAAO,GAAA,KAAA,CAAA,CAAA;AAAA,KACnB;AAEA,IAAA,MAAA,CAAO,MAAO,CAAA,IAAA,EAAM,YAAa,CAAA,OAAO,CAAC,CAAA,CAAA;AAEzC,IAAA,IAAA,CAAK,WAAW,EAAC,CAAA;AACjB,IAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,aAAR,IAAkB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,CAAC,KAAU,KAAA,IAAA,CAAK,SAAS,KAAK,CAAA,CAAA,CAAA;AACxD,IAAA,IAAA,CAAK,UAAU,EAAC,CAAA;AAChB,IAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,IAAiB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,CAAC,MAAW,KAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA,CAAA;AAAA,GAC9D;AAAA;AAAA;AAAA;AAAA;AAAA,EAlKA,OAAc,MAAM,MACpB,EAAA;AACI,IAAA,MAAA,CAAO,iBAAiB,SAAU,CAAA,SAAA,EAAW,MAAO,CAAA,yBAAA,CAA0B,MAAM,CAAC,CAAA,CAAA;AAAA,GACzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwKO,YAAmC,QAC1C,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,aACV,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,qEAAqE,CAAA,CAAA;AAAA,KAC7F;AAEA,IAAI,IAAA,QAAA,CAAS,SAAS,CACtB,EAAA;AAEI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAK,IAAA,CAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,OAC7B;AAEA,MAAA,OAAO,SAAS,CAAC,CAAA,CAAA;AAAA,KACrB;AAEA,IAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,IAAI,IAAA,KAAA,CAAM,WAAW,IACrB,EAAA;AACI,MAAA,IAAA,CAAK,SAAS,MAAO,CAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,KAAK,GAAG,CAAC,CAAA,CAAA;AACpD,MAAK,IAAA,CAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAExB,MAAA,IAAI,IAAK,CAAA,UAAA,IAAc,CAAC,IAAA,CAAK,WAC7B,EAAA;AACI,QAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,OACzC;AAEA,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAI,MAAM,MACV,EAAA;AAEI,MAAM,KAAA,CAAA,MAAA,CAAO,YAAY,KAAK,CAAA,CAAA;AAAA,KAClC;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAExB,IAAA,IAAI,IAAK,CAAA,gBAAA;AAAkB,MAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAE5C,IAAA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;AAEf,IAAA,KAAA,CAAM,SAAY,GAAA,IAAA,CAAA;AAClB,IAAA,KAAA,CAAM,aAAgB,GAAA,KAAA,CAAA;AAGtB,IAAA,KAAA,CAAM,YAAe,GAAA,EAAA,CAAA;AAErB,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,SAAS,KAAK,CAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAA,CAAK,KAAK,YAAc,EAAA,KAAA,EAAO,MAAM,IAAK,CAAA,QAAA,CAAS,SAAS,CAAC,CAAA,CAAA;AAC7D,IAAM,KAAA,CAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAExB,IAAI,IAAA,KAAA,CAAM,YAAY,CACtB,EAAA;AACI,MAAA,KAAA,CAAM,oBAAqB,EAAA,CAAA;AAAA,KAC/B;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,eAAsC,QAC7C,EAAA;AAEI,IAAI,IAAA,QAAA,CAAS,SAAS,CACtB,EAAA;AAEI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAK,IAAA,CAAA,WAAA,CAAY,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,OAChC;AAEA,MAAA,OAAO,SAAS,CAAC,CAAA,CAAA;AAAA,KACrB;AAEA,IAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAEzC,IAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAE7B,MAAA,IAAI,KAAK,UACT,EAAA;AACI,QAAK,IAAA,CAAA,UAAA,CAAW,YAAY,KAAK,CAAA,CAAA;AAAA,OACrC;AAAA,KACJ;AAEA,IAAA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,IAAK,CAAA,cAAA,EAAgB,KAAO,EAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAC5C,IAAM,KAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAE1B,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,KAChB,EAAA;AACI,IAAA,IAAI,KACJ,EAAA;AAGI,MAAI,IAAA,KAAA,KAAU,KAAK,KACnB,EAAA;AACI,QAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAAA,OACrB;AAAA,KACJ;AAEA,IAAA,IAAI,IAAK,CAAA,SAAA;AAAW,MAAA,OAAA;AACpB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAM,MAAA,gBAAA,GAAmB,KAAK,UAAW,CAAA,gBAAA,CAAA;AAGzC,MAAA,IAAI,gBACJ,EAAA;AACI,QAAA,gBAAA,CAAiB,cAAc,IAAI,CAAA,CAAA;AAAA,OACvC;AAAA,KACJ,MAAA,IACS,KAAK,UACd,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,cAAc,IAAI,CAAA,CAAA;AAAA,KACtC;AAAA,GACJ;AAAA;AAAA,EAGO,YACP,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,aAAA;AAAe,MAAA,OAAA;AACxB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AAErB,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,kBAAkB,IAAI,CAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,WAAe,IAAA,KAAA,KAAU,KAClC,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,qCAAqC,CAAA,CAAA;AAAA,KACzD;AAEA,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAAA,KACrB;AAAA,GACJ;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA,EAEO,WACP,GAAA;AAEI,IAAA,IAAI,IAAK,CAAA,UAAA,IAAc,IAAK,CAAA,UAAA,CAAW,IAAS,KAAA,IAAA;AAAM,MAAA,OAAA;AAEtD,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAEnB,IAAA,MAAM,mBAAmB,IAAK,CAAA,UAAA,CAAA;AAE9B,IAAA,IAAI,gBACJ,EAAA;AACI,MAAA,gBAAA,CAAiB,YAAY,IAAI,CAAA,CAAA;AAAA,KACrC;AAEA,IAAK,IAAA,CAAA,UAAA,GAAa,IAAI,UAAA,CAAW,IAAI,CAAA,CAAA;AAGrC,IAAA,IAAI,gBACJ,EAAA;AACI,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,gBAAiB,CAAA,kBAAA,CAAmB,QAAQ,CAChE,EAAA,EAAA;AACI,QAAM,MAAA,eAAA,GAAkB,gBAAiB,CAAA,kBAAA,CAAmB,CAAC,CAAA,CAAA;AAC7D,QAAA,IAAI,SAAS,eAAgB,CAAA,IAAA,CAAA;AAE7B,QAAA,OAAO,MACP,EAAA;AACI,UAAA,IAAI,WAAW,IACf,EAAA;AACI,YAAK,IAAA,CAAA,UAAA,CAAW,mBAAmB,eAAe,CAAA,CAAA;AAElD,YAAA,MAAA;AAAA,WACJ;AACA,UAAA,MAAA,GAAS,MAAO,CAAA,MAAA,CAAA;AAAA,SACpB;AAAA,OACJ;AAEA,MAAiB,gBAAA,CAAA,kBAAA,CAAmB,KAAK,UAAU,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA,EAKO,eACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAW,CAAE,IAAA,CAAK,WAAiB,IAAA,IAAA,CAAK,QAAQ,MAAW,KAAA,CAAA,CAAA;AAAA,GACpE;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,IAAA,CAAK,eAAL,KAAA,IAAA,CAAK,eAAoB,GAAA,IAAI,MAAO,EAAA,CAAA,CAAA;AAEpC,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAA,IAAI,KAAK,WACT,EAAA;AACI,QAAA,IAAA,CAAK,eAAgB,CAAA,QAAA,CAAS,IAAK,CAAA,UAAA,CAAW,cAAc,CAAA,CAAA;AAAA,OAGhE,MAAA;AACI,QAAA,IAAA,CAAK,gBAAgB,UAAW,CAAA,IAAA,CAAK,cAAgB,EAAA,IAAA,CAAK,WAAW,cAAc,CAAA,CAAA;AAAA,OACvF;AAAA,KACJ;AAEA,IAAA,OAAO,IAAK,CAAA,eAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,CAAA,CAAA;AAAA,GAC1B;AAAA,EAEA,IAAI,EAAE,KACN,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,CAAI,GAAA,KAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,CAAA,CAAA;AAAA,GAC1B;AAAA,EAEA,IAAI,EAAE,KACN,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,CAAI,GAAA,KAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,SAAS,KAAK,CAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,cAAc,KACvB,EAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,MAAK,IAAA,CAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAW,GAAA,UAAA,CAAA;AAAA,GAC3B;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,WAAW,KAAQ,GAAA,UAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAI,IAAA,IAAA,CAAK,WAAW,YACpB,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,WAAW,YACpB,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,KAChD;AAEA,IAAK,IAAA,CAAA,MAAA,CAAO,SAAS,KAAK,CAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAI,IAAA,IAAA,CAAK,UAAU,WACnB,EAAA;AACI,MAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,KAC/C;AAEA,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAI,IAAA,IAAA,CAAK,WAAW,YACpB,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,WAAW,YACpB,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,KAChD;AAEA,IAAK,IAAA,CAAA,MAAA,CAAO,SAAS,KAAK,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA,EAGQ,WACR,GAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAA,MAAM,OAAO,IAAK,CAAA,KAAA,CAAA;AAElB,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,EAAE,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,EAAE,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,MAAM,CAAC,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,EAAE,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,GAAI,CAAA,QAAA,GAAW,KAAK,EAAE,CAAA,CAAA;AAAA,GAC1C;AAAA;AAAA,EAIA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,KAAA,GAAS,QAAQ,GAAO,GAAA,CAAA,CAAA;AAExB,IAAI,IAAA,KAAA,MAAY,IAAK,CAAA,UAAA,IAAc,EAAM,GAAA,GAAA,CAAA;AAAO,MAAA,OAAA;AAEhD,IAAA,IAAA,CAAK,UAAc,GAAA,IAAA,CAAK,UAAa,GAAA,QAAA,GAAe,KAAS,IAAA,EAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,YAAgB,IAAA,YAAA,CAAA;AAErB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAS,OAAA,CAAA,IAAA,CAAK,UAAc,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAAA,GAC9C;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,MAAM,SAAY,GAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,KAAK,CAAA,CAAA;AAC7C,IAAM,MAAA,GAAA,GAAM,UAAU,WAAY,EAAA,CAAA;AAElC,IAAI,IAAA,GAAA,MAAS,KAAK,UAAa,GAAA,QAAA,CAAA;AAAa,MAAA,OAAA;AAE5C,IAAA,IAAA,CAAK,UAAc,GAAA,IAAA,CAAK,UAAa,GAAA,UAAA,GAAe,GAAM,GAAA,QAAA,CAAA;AAE1D,IAAA,IAAA,CAAK,YAAgB,IAAA,YAAA,CAAA;AAErB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAM,MAAA,GAAA,GAAM,KAAK,UAAa,GAAA,QAAA,CAAA;AAG9B,IAAA,OAAA,CAAA,CAAS,MAAM,GAAS,KAAA,EAAA,KAAO,GAAM,GAAA,KAAA,CAAA,IAAY,OAAO,EAAM,GAAA,GAAA,CAAA,CAAA;AAAA,GAClE;AAAA;AAAA,EAIA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAI,KAAK,cAAmB,KAAA,KAAA;AAAO,MAAA,OAAA;AACnC,IAAA,IAAI,IAAK,CAAA,UAAA,IAAc,CAAC,IAAA,CAAK,WAC7B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAA,CAAK,YAAgB,IAAA,YAAA,CAAA;AAErB,IAAA,IAAA,CAAK,cAAiB,GAAA,KAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAIA,IAAI,OACJ,GAAA;AACI,IAAO,OAAA,CAAC,EAAE,IAAA,CAAK,sBAAyB,GAAA,CAAA,CAAA,CAAA;AAAA,GAC5C;AAAA;AAAA,EAGA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,QAAQ,CAAI,GAAA,CAAA,CAAA;AAEhC,IAAK,IAAA,CAAA,IAAA,CAAK,sBAAyB,GAAA,CAAA,KAAS,CAAM,KAAA,WAAA;AAAa,MAAA,OAAA;AAE/D,IAAA,IAAI,IAAK,CAAA,UAAA,IAAc,CAAC,IAAA,CAAK,WAC7B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAA,CAAK,YAAgB,IAAA,cAAA,CAAA;AAErB,IAAA,IAAA,CAAK,sBAA0B,GAAA,IAAA,CAAK,sBAAyB,GAAA,CAAA,GAAS,WAAe,IAAA,CAAA,CAAA;AAErF,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAO,OAAA,CAAC,EAAE,IAAA,CAAK,sBAAyB,GAAA,CAAA,CAAA,CAAA;AAAA,GAC5C;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,QAAQ,CAAI,GAAA,CAAA,CAAA;AAEhC,IAAK,IAAA,CAAA,IAAA,CAAK,yBAAyB,CAAU,MAAA,WAAA;AAAa,MAAA,OAAA;AAE1D,IAAK,IAAA,CAAA,sBAAA,GAA0B,IAAK,CAAA,sBAAA,GAAyB,CAAQ,GAAA,WAAA,CAAA;AAErE,IAAA,IAAA,CAAK,YAAgB,IAAA,cAAA,CAAA;AAErB,IAAA,IAAI,IAAK,CAAA,UAAA,IAAc,CAAC,IAAA,CAAK,WAC7B,EAAA;AACI,MAAA,IAAA,CAAK,WAAW,kBAAqB,GAAA,IAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAM,MAAA,UAAA,GAAe,IAAK,CAAA,UAAA,IAAc,EAAM,GAAA,GAAA,CAAA;AAE9C,IAAQ,OAAA,IAAA,CAAK,sBAA2B,KAAA,CAAA,IAAQ,UAAa,GAAA,CAAA,CAAA;AAAA,GACjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBO,OAAA,CAAQ,UAA0B,KACzC,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,SAAA;AAAW,MAAA,OAAA;AACpB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AACtB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAA,IAAA,CAAK,KAAK,WAAW,CAAA,CAAA;AAErB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAA,MAAM,eAAkB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,QAAA,CAAA;AAE1E,IAAA,MAAM,cAAc,IAAK,CAAA,cAAA,CAAe,CAAG,EAAA,IAAA,CAAK,SAAS,MAAM,CAAA,CAAA;AAE/D,IAAA,IAAI,eACJ,EAAA;AACI,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,WAAY,CAAA,MAAA,EAAQ,EAAE,CAC1C,EAAA;AACI,QAAY,WAAA,CAAA,CAAC,CAAE,CAAA,OAAA,CAAQ,OAAO,CAAA,CAAA;AAAA,OAClC;AAAA,KACJ;AAEA,IAAA,IAAI,KAAK,IACT,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,OAAO,CAAA,CAAA;AACzB,MAAA,IAAA,CAAK,KAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AACJ,CAAA;AAEA,SAAA,CAAU,MAAM,mBAAmB,CAAA,CAAA;AACnC,SAAA,CAAU,MAAM,kBAAkB,CAAA,CAAA;AAClC,SAAA,CAAU,MAAM,aAAa,CAAA,CAAA;AAC7B,SAAA,CAAU,MAAM,YAAY,CAAA,CAAA;AAC5B,SAAA,CAAU,MAAM,YAAY,CAAA,CAAA;AAC5B,SAAA,CAAU,MAAM,SAAS,CAAA,CAAA;AACzB,SAAA,CAAU,MAAM,SAAS,CAAA;;ACt0BzB,IAAI,WAAW,GAAG,SAAS,CAAC;AAC5B,IAAI,SAAS,GAAG,OAAO,CAAC;AACxB,IAAI,WAAW,GAAG,OAAO,CAAC;AAC1B,IAAI,cAAc,GAAG,6BAA6B,CAAC;AACnD,IAAI,YAAY,GAAG,0BAA0B,CAAC;AAC9C,IAAI,aAAa,GAAG,UAAU,CAAC;AAC/B,IAAI,WAAW,GAAG,oCAAoC,CAAC;AACvD,IAAI,YAAY,GAAG,OAAO,CAAC;AAC3B,IAAI,YAAY,GAAG,gBAAgB,CAAC;AACpC,IAAI,aAAa,GAAG,uBAAuB,CAAC;AAC5C,IAAI,eAAe,GAAG,aAAa,CAAC;AACpC,IAAI,iBAAiB,GAAG,OAAO,CAAC;AAChC,IAAI,UAAU,GAAG,aAAa,CAAC;AAC/B,IAAI,WAAW,GAAG,+BAA+B,CAAC;AAClD,IAAI,YAAY,GAAG,wBAAwB,CAAC;AAC5C,IAAI,oBAAoB,GAAG,UAAU,SAAS,EAAE;AAChD,IAAI,QAAQ,OAAO,SAAS,KAAK,WAAW;AAC5C,QAAQ,SAAS,CAAC,QAAQ,KAAK,UAAU;AACzC,QAAQ,OAAO,SAAS,CAAC,cAAc,KAAK,QAAQ;AACpD,QAAQ,SAAS,CAAC,cAAc,GAAG,CAAC;AACpC,QAAQ,OAAO,QAAQ,KAAK,WAAW,EAAE;AACzC,CAAC,CAAC;AACF,SAAS,WAAW,CAAC,SAAS,EAAE;AAChC,IAAI,OAAO,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC;AAC9D,CAAC;AACc,SAASC,UAAQ,CAAC,KAAK,EAAE;AACxC,IAAI,IAAI,GAAG,GAAG;AACd,QAAQ,SAAS,EAAE,EAAE;AACrB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,cAAc,EAAE,CAAC;AACzB,KAAK,CAAC;AACN,IAAI,IAAI,CAAC,KAAK,IAAI,OAAO,SAAS,KAAK,WAAW,EAAE;AACpD,QAAQ,GAAG,GAAG;AACd,YAAY,SAAS,EAAE,SAAS,CAAC,SAAS;AAC1C,YAAY,QAAQ,EAAE,SAAS,CAAC,QAAQ;AACxC,YAAY,cAAc,EAAE,SAAS,CAAC,cAAc,IAAI,CAAC;AACzD,SAAS,CAAC;AACV,KAAK;AACL,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;AAC9B,KAAK;AACL,SAAS,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE;AACvC,QAAQ,GAAG,GAAG;AACd,YAAY,SAAS,EAAE,KAAK,CAAC,SAAS;AACtC,YAAY,QAAQ,EAAE,KAAK,CAAC,QAAQ;AACpC,YAAY,cAAc,EAAE,KAAK,CAAC,cAAc,IAAI,CAAC;AACrD,SAAS,CAAC;AACV,KAAK;AACL,IAAI,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;AAClC,IAAI,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACvC,IAAI,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;AACvC,QAAQ,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3B,KAAK;AACL,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AACrC,IAAI,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;AACvC,QAAQ,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3B,KAAK;AACL,IAAI,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AACvC,IAAI,IAAI,MAAM,GAAG;AACjB,QAAQ,KAAK,EAAE;AACf,YAAY,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;AAC7D,YAAY,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC;AAClC,YAAY,MAAM,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;AACvC,iBAAiB,KAAK,CAAC,WAAW,CAAC,IAAI,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACjE,gBAAgB,CAAC,KAAK,CAAC,YAAY,CAAC;AACpC,YAAY,SAAS,EAAE,KAAK,CAAC,cAAc,CAAC;AAC5C,YAAY,MAAM,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;AACvC,gBAAgB,KAAK,CAAC,SAAS,CAAC;AAChC,gBAAgB,KAAK,CAAC,WAAW,CAAC;AAClC,gBAAgB,KAAK,CAAC,cAAc,CAAC;AACrC,gBAAgB,oBAAoB,CAAC,GAAG,CAAC;AACzC,gBAAgB,CAAC,KAAK,CAAC,YAAY,CAAC;AACpC,SAAS;AACT,QAAQ,MAAM,EAAE;AAChB,YAAY,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC;AACrC,YAAY,MAAM,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC;AAC9D,YAAY,MAAM,EAAE,KAAK,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC;AAC7D,SAAS;AACT,QAAQ,OAAO,EAAE;AACjB,YAAY,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC;AAC9D,iBAAiB,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;AAC7D,YAAY,MAAM,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC;AACxC,gBAAgB,CAAC,KAAK,CAAC,WAAW,CAAC;AACnC,gBAAgB,CAAC,KAAK,CAAC,YAAY,CAAC;AACpC,iBAAiB,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;AAC7D,YAAY,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC;AACzC,iBAAiB,KAAK,CAAC,WAAW,CAAC;AACnC,oBAAoB,KAAK,CAAC,YAAY,CAAC;AACvC,oBAAoB,KAAK,CAAC,YAAY,CAAC;AACvC,oBAAoB,KAAK,CAAC,aAAa,CAAC,CAAC;AACzC,gBAAgB,KAAK,CAAC,aAAa,CAAC;AACpC,SAAS;AACT,QAAQ,OAAO,EAAE;AACjB,YAAY,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC;AACtC,YAAY,MAAM,EAAE,KAAK,CAAC,aAAa,CAAC;AACxC,YAAY,MAAM,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC;AAC/D,SAAS;AACT,QAAQ,KAAK,EAAE;AACf,YAAY,UAAU,EAAE,KAAK,CAAC,eAAe,CAAC;AAC9C,YAAY,YAAY,EAAE,KAAK,CAAC,iBAAiB,CAAC;AAClD,YAAY,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC;AACpC,YAAY,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC;AACxC,YAAY,MAAM,EAAE,KAAK,CAAC,WAAW,CAAC;AACtC,YAAY,MAAM,EAAE,KAAK,CAAC,eAAe,CAAC;AAC1C,gBAAgB,KAAK,CAAC,iBAAiB,CAAC;AACxC,gBAAgB,KAAK,CAAC,UAAU,CAAC;AACjC,gBAAgB,KAAK,CAAC,YAAY,CAAC;AACnC,gBAAgB,KAAK,CAAC,WAAW,CAAC;AAClC,SAAS;AACT,QAAQ,GAAG,EAAE,KAAK;AAClB,QAAQ,KAAK,EAAE,KAAK;AACpB,QAAQ,MAAM,EAAE,KAAK;AACrB,KAAK,CAAC;AACN,IAAI,MAAM,CAAC,GAAG;AACd,QAAQ,MAAM,CAAC,KAAK,CAAC,MAAM;AAC3B,YAAY,MAAM,CAAC,OAAO,CAAC,MAAM;AACjC,YAAY,MAAM,CAAC,OAAO,CAAC,MAAM;AACjC,YAAY,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;AAChC,IAAI,MAAM,CAAC,KAAK;AAChB,QAAQ,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;AAC3E,IAAI,MAAM,CAAC,MAAM;AACjB,QAAQ,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;AAC9E,IAAI,OAAO,MAAM,CAAC;AAClB;;AC3HA,IAAA,EAAA,CAAA;AAIA,MAAM,YAAA,GAAA,CAAgB,EAA8B,GAAAC,UAAA,CAAA,OAAA,KAA9B,IAAyC,GAAA,EAAA,GAAAA,UAAA,CAAA;AAsClD,MAAA,QAAA,GAA2B,YAAa,CAAA,UAAA,CAAW,SAAS;;ACQlE,MAAM,mBAAwC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOjD,UAAY,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQZ,eAAiB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOjB,cAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQhB,QAAU,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOV,iBAAmB,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOnB,cAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAShB,cAAgB,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAShB,uBAAyB,EAAA,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASzB,kBAAoB,EAAA,IAAA;AAAA,EAEpB,QAAU,EAAA,CAAA,CAAA;AACd;;AC3GA,SAAA,CAAU,MAAM,mBAAmB,CAAA,CAAA;AAEnC,MAAM,YAAe,GAAA,CAAA,CAAA;AAErB,MAAM,cAAiB,GAAA,GAAA,CAAA;AACvB,MAAM,eAAkB,GAAA,CAAA,CAAA;AACxB,MAAM,eAAkB,GAAA,CAAA,CAAA;AACxB,MAAM,gBAAmB,GAAA,CAAA,CAAA;AAEzB,MAAM,aAAgB,GAAA,CAAA,CAAA;AACtB,MAAM,cAAiB,GAAA,CAAA,GAAA,CAAA;AACvB,MAAM,cAAiB,GAAA,CAAA,GAAA,CAAA;AACvB,MAAM,eAAkB,GAAA,CAAA,CAAA;AAmBjB,MAAM,mBACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmDI,WAAA,CAAY,QAAqC,EAAA,WAAA,GAA8B,QAC/E,EAAA;AADiD,IAAA,IAAA,CAAA,WAAA,GAAA,WAAA,CAAA;AAxCjD;AAAA,IAAA,IAAA,CAAO,KAAQ,GAAA,KAAA,CAAA;AASf;AAAA,IAAA,IAAA,CAAQ,SAAY,GAAA,KAAA,CAAA;AAGpB;AAAA,IAAA,IAAA,CAAQ,sBAAyB,GAAA,KAAA,CAAA;AASjC;AAAA,IAAA,IAAA,CAAQ,QAAiC,EAAC,CAAA;AAG1C;AAAA,IAAA,IAAA,CAAQ,SAAY,GAAA,CAAA,CAAA;AAGpB;AAAA,IAAA,IAAA,CAAQ,YAAyB,EAAC,CAAA;AAGlC;AAAA,IAAA,IAAA,CAAQ,mBAAsB,GAAA,CAAA,CAAA;AAG9B;AAAA,IAAA,IAAA,CAAiB,uBAA0B,GAAA,GAAA,CAAA;AASvC,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAI,IAAA,WAAA,CAAY,MAAU,IAAA,WAAA,CAAY,KACtC,EAAA;AACI,MAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAAA,KAC1B;AAGA,IAAM,MAAA,GAAA,GAAM,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAExC,IAAI,GAAA,CAAA,KAAA,CAAM,QAAQ,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACrB,IAAI,GAAA,CAAA,KAAA,CAAM,SAAS,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACtB,IAAA,GAAA,CAAI,MAAM,QAAW,GAAA,UAAA,CAAA;AACrB,IAAI,GAAA,CAAA,KAAA,CAAM,MAAM,CAAG,EAAA,eAAA,CAAA,EAAA,CAAA,CAAA;AACnB,IAAI,GAAA,CAAA,KAAA,CAAM,OAAO,CAAG,EAAA,eAAA,CAAA,EAAA,CAAA,CAAA;AACpB,IAAI,GAAA,CAAA,KAAA,CAAM,MAAS,GAAA,gBAAA,CAAiB,QAAS,EAAA,CAAA;AAE7C,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AACZ,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAOjB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAO3C,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAG/C,IAAA,UAAA,CAAW,gBAAiB,CAAA,SAAA,EAAW,IAAK,CAAA,UAAA,EAAY,KAAK,CAAA,CAAA;AAAA,GACjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,qBACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,sBAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,gBACR,GAAA;AACI,IAAM,MAAA,OAAA,GAAU,QAAS,CAAA,aAAA,CAAc,QAAQ,CAAA,CAAA;AAE/C,IAAQ,OAAA,CAAA,KAAA,CAAM,QAAQ,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AACzB,IAAQ,OAAA,CAAA,KAAA,CAAM,SAAS,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AAC1B,IAAA,OAAA,CAAQ,MAAM,QAAW,GAAA,UAAA,CAAA;AACzB,IAAQ,OAAA,CAAA,KAAA,CAAM,MAAM,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACvB,IAAQ,OAAA,CAAA,KAAA,CAAM,OAAO,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACxB,IAAQ,OAAA,CAAA,KAAA,CAAM,MAAS,GAAA,eAAA,CAAgB,QAAS,EAAA,CAAA;AAChD,IAAA,OAAA,CAAQ,MAAM,eAAkB,GAAA,SAAA,CAAA;AAChC,IAAA,OAAA,CAAQ,KAAQ,GAAA,iDAAA,CAAA;AAEhB,IAAQ,OAAA,CAAA,gBAAA,CAAiB,SAAS,MAClC;AACI,MAAA,IAAA,CAAK,sBAAyB,GAAA,IAAA,CAAA;AAC9B,MAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AACf,MAAA,IAAA,CAAK,iBAAkB,EAAA,CAAA;AAAA,KAC1B,CAAA,CAAA;AAED,IAAS,QAAA,CAAA,IAAA,CAAK,YAAY,OAAO,CAAA,CAAA;AACjC,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,iBACR,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,QACV,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AACA,IAAS,QAAA,CAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,SACR,GAAA;AArNJ,IAAA,IAAA,EAAA,CAAA;AAsNQ,IAAA,IAAI,KAAK,SACT,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,UAAA,CAAW,QAAS,CAAA,gBAAA,CAAiB,WAAa,EAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AACzE,IAAA,UAAA,CAAW,mBAAoB,CAAA,SAAA,EAAW,IAAK,CAAA,UAAA,EAAY,KAAK,CAAA,CAAA;AAEhE,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AAC1C,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAU,IAAK,CAAA,MAAA,CAAO,UAA3B,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAuC,YAAY,IAAK,CAAA,IAAA,CAAA,CAAA;AAAA,GAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,WACR,GAAA;AA1OJ,IAAA,IAAA,EAAA,CAAA;AA2OQ,IAAA,IAAI,CAAC,IAAA,CAAK,SAAa,IAAA,IAAA,CAAK,sBAC5B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAEjB,IAAA,UAAA,CAAW,QAAS,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AAC5E,IAAA,UAAA,CAAW,gBAAiB,CAAA,SAAA,EAAW,IAAK,CAAA,UAAA,EAAY,KAAK,CAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC7C,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,IAAK,CAAA,UAAA,KAAV,IAAsB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAA,CAAY,IAAK,CAAA,IAAA,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,yBAAyB,SACjC,EAAA;AACI,IAAA,IAAI,CAAC,SAAA,CAAU,OAAW,IAAA,CAAC,UAAU,kBACrC,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAI,SAAU,CAAA,UAAA,IAAc,SAAU,CAAA,aAAA,EACtC,EAAA;AACI,MAAI,IAAA,CAAC,UAAU,iBACf,EAAA;AACI,QAAA,IAAA,CAAK,UAAU,SAAS,CAAA,CAAA;AAAA,OAC5B;AAEA,MAAA,SAAA,CAAU,WAAW,IAAK,CAAA,SAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAE3B,IAAA,IAAI,QACJ,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAK,IAAA,CAAA,wBAAA,CAAyB,QAAS,CAAA,CAAC,CAAc,CAAA,CAAA;AAAA,OAC1D;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KAAK,OACZ,EAAA;AA/RJ,IAAA,IAAA,EAAA,CAAA;AAgSQ,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,EAAA,GAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,KAAT,KAAA,IAAA,GAAA,EAAA,GAAkB,IAAK,CAAA,KAAA,CAAA;AACpC,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UACP,GAAA;AAKI,IAAM,MAAA,GAAA,GAAM,YAAY,GAAI,EAAA,CAAA;AAE5B,IAAA,IAAI,KAAK,WAAY,CAAA,OAAA,CAAQ,MAAU,IAAA,GAAA,GAAM,KAAK,mBAClD,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,mBAAA,GAAsB,MAAM,IAAK,CAAA,uBAAA,CAAA;AAEtC,IAAI,IAAA,CAAC,KAAK,SAAU,CAAA,iBAAA,IAAqB,CAAC,IAAK,CAAA,SAAA,CAAU,KAAK,MAC9D,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAGA,IAAI,IAAA,IAAA,CAAK,UAAU,kBACnB,EAAA;AACI,MAAK,IAAA,CAAA,wBAAA,CAAyB,IAAK,CAAA,SAAA,CAAU,kBAA+B,CAAA,CAAA;AAAA,KAChF;AAEA,IAAM,MAAA,EAAE,CAAG,EAAA,CAAA,EAAG,KAAO,EAAA,MAAA,KAAW,IAAK,CAAA,SAAA,CAAU,IAAK,CAAA,MAAA,CAAO,qBAAsB,EAAA,CAAA;AACjF,IAAA,MAAM,EAAE,KAAO,EAAA,SAAA,EAAW,QAAQ,UAAY,EAAA,UAAA,KAAe,IAAK,CAAA,SAAA,CAAA;AAElE,IAAM,MAAA,EAAA,GAAM,QAAQ,SAAa,GAAA,UAAA,CAAA;AACjC,IAAM,MAAA,EAAA,GAAM,SAAS,UAAc,GAAA,UAAA,CAAA;AAEnC,IAAA,IAAI,MAAM,IAAK,CAAA,IAAA,CAAA;AAEf,IAAI,GAAA,CAAA,KAAA,CAAM,OAAO,CAAG,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACpB,IAAI,GAAA,CAAA,KAAA,CAAM,MAAM,CAAG,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACnB,IAAI,GAAA,CAAA,KAAA,CAAM,QAAQ,CAAG,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA;AACrB,IAAI,GAAA,CAAA,KAAA,CAAM,SAAS,CAAG,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA;AAEtB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,SAAA,CAAU,QAAQ,CAC3C,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAE9B,MAAI,IAAA,KAAA,CAAM,QAAa,KAAA,IAAA,CAAK,SAC5B,EAAA;AACI,QAAA,KAAA,CAAM,iBAAoB,GAAA,KAAA,CAAA;AAE1B,QAAY,WAAA,CAAA,IAAA,CAAK,SAAW,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAChC,QAAK,IAAA,CAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAC1C,QAAK,IAAA,CAAA,KAAA,CAAM,IAAK,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AACpC,QAAA,KAAA,CAAM,cAAiB,GAAA,IAAA,CAAA;AAEvB,QAAA,CAAA,EAAA,CAAA;AAAA,OAGJ,MAAA;AAEI,QAAA,GAAA,GAAM,KAAM,CAAA,cAAA,CAAA;AACZ,QAAA,IAAI,UAAU,KAAM,CAAA,OAAA,CAAA;AACpB,QAAA,MAAM,KAAK,KAAM,CAAA,cAAA,CAAA;AAEjB,QAAA,IAAI,MAAM,OACV,EAAA;AACI,UAAI,GAAA,CAAA,KAAA,CAAM,OAAO,CAAI,EAAA,CAAA,EAAA,CAAG,KAAM,OAAQ,CAAA,CAAA,GAAI,GAAG,CAAM,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACnD,UAAI,GAAA,CAAA,KAAA,CAAM,MAAM,CAAI,EAAA,CAAA,EAAA,CAAG,KAAM,OAAQ,CAAA,CAAA,GAAI,GAAG,CAAM,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAElD,UAAA,GAAA,CAAI,MAAM,KAAQ,GAAA,CAAA,EAAG,OAAQ,CAAA,KAAA,GAAQ,GAAG,CAAI,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAC5C,UAAA,GAAA,CAAI,MAAM,MAAS,GAAA,CAAA,EAAG,OAAQ,CAAA,MAAA,GAAS,GAAG,CAAI,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAAA,SAGlD,MAAA;AACI,UAAA,OAAA,GAAU,MAAM,SAAU,EAAA,CAAA;AAE1B,UAAA,IAAA,CAAK,WAAW,OAAO,CAAA,CAAA;AAEvB,UAAA,GAAA,CAAI,KAAM,CAAA,IAAA,GAAO,CAAG,EAAA,OAAA,CAAQ,CAAI,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAChC,UAAA,GAAA,CAAI,KAAM,CAAA,GAAA,GAAM,CAAG,EAAA,OAAA,CAAQ,CAAI,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAE/B,UAAA,GAAA,CAAI,KAAM,CAAA,KAAA,GAAQ,CAAG,EAAA,OAAA,CAAQ,KAAQ,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACrC,UAAA,GAAA,CAAI,KAAM,CAAA,MAAA,GAAS,CAAG,EAAA,OAAA,CAAQ,MAAS,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAGvC,UAAA,IAAI,IAAI,KAAU,KAAA,KAAA,CAAM,eAAmB,IAAA,KAAA,CAAM,oBAAoB,IACrE,EAAA;AACI,YAAA,GAAA,CAAI,QAAQ,KAAM,CAAA,eAAA,CAAA;AAAA,WACtB;AACA,UAAI,IAAA,GAAA,CAAI,aAAa,YAAY,CAAA,KAAM,MAAM,cACvC,IAAA,KAAA,CAAM,mBAAmB,IAC/B,EAAA;AACI,YAAI,GAAA,CAAA,YAAA,CAAa,YAAc,EAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAAA,WACvD;AAAA,SACJ;AAGA,QAAA,IAAI,MAAM,eAAoB,KAAA,GAAA,CAAI,SAAS,KAAM,CAAA,QAAA,KAAa,IAAI,QAClE,EAAA;AACI,UAAA,GAAA,CAAI,QAAQ,KAAM,CAAA,eAAA,CAAA;AAClB,UAAA,GAAA,CAAI,WAAW,KAAM,CAAA,QAAA,CAAA;AACrB,UAAA,IAAI,KAAK,KACT,EAAA;AACI,YAAA,IAAA,CAAK,gBAAgB,GAAG,CAAA,CAAA;AAAA,WAC5B;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAGA,IAAK,IAAA,CAAA,SAAA,EAAA,CAAA;AAAA,GACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,gBAAgB,GACvB,EAAA;AACI,IAAA,GAAA,CAAI,YAAY,CAAS,MAAA,EAAA,GAAA,CAAI,IAAqB,CAAA,cAAA,EAAA,GAAA,CAAI,wBAAwB,GAAI,CAAA,QAAA,CAAA,CAAA,CAAA;AAAA,GACtF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,WAAW,OAClB,EAAA;AACI,IAAI,IAAA,OAAA,CAAQ,IAAI,CAChB,EAAA;AACI,MAAA,OAAA,CAAQ,SAAS,OAAQ,CAAA,CAAA,CAAA;AACzB,MAAA,OAAA,CAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,KAChB;AAEA,IAAI,IAAA,OAAA,CAAQ,IAAI,CAChB,EAAA;AACI,MAAA,OAAA,CAAQ,UAAU,OAAQ,CAAA,CAAA,CAAA;AAC1B,MAAA,OAAA,CAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,KAChB;AAEA,IAAA,MAAM,EAAE,KAAO,EAAA,SAAA,EAAW,MAAQ,EAAA,UAAA,KAAe,IAAK,CAAA,SAAA,CAAA;AAEtD,IAAA,IAAI,OAAQ,CAAA,CAAA,GAAI,OAAQ,CAAA,KAAA,GAAQ,SAChC,EAAA;AACI,MAAQ,OAAA,CAAA,KAAA,GAAQ,YAAY,OAAQ,CAAA,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,IAAI,OAAQ,CAAA,CAAA,GAAI,OAAQ,CAAA,MAAA,GAAS,UACjC,EAAA;AACI,MAAQ,OAAA,CAAA,MAAA,GAAS,aAAa,OAAQ,CAAA,CAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,UAA+B,SACvC,EAAA;AAGI,IAAI,IAAA,GAAA,GAAM,IAAK,CAAA,KAAA,CAAM,GAAI,EAAA,CAAA;AAEzB,IAAA,IAAI,CAAC,GACL,EAAA;AACI,MAAM,GAAA,GAAA,QAAA,CAAS,cAAc,QAAQ,CAAA,CAAA;AAErC,MAAI,GAAA,CAAA,KAAA,CAAM,QAAQ,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACrB,MAAI,GAAA,CAAA,KAAA,CAAM,SAAS,CAAG,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACtB,MAAA,GAAA,CAAI,KAAM,CAAA,eAAA,GAAkB,IAAK,CAAA,KAAA,GAAQ,uBAA0B,GAAA,aAAA,CAAA;AACnE,MAAA,GAAA,CAAI,MAAM,QAAW,GAAA,UAAA,CAAA;AACrB,MAAI,GAAA,CAAA,KAAA,CAAM,MAAS,GAAA,gBAAA,CAAiB,QAAS,EAAA,CAAA;AAC7C,MAAA,GAAA,CAAI,MAAM,WAAc,GAAA,MAAA,CAAA;AAGxB,MAAA,IAAI,UAAU,SAAU,CAAA,WAAA,EAAc,CAAA,QAAA,CAAS,QAAQ,CACvD,EAAA;AAEI,QAAI,GAAA,CAAA,YAAA,CAAa,aAAa,KAAK,CAAA,CAAA;AAAA,OAGvC,MAAA;AACI,QAAI,GAAA,CAAA,YAAA,CAAa,aAAa,QAAQ,CAAA,CAAA;AAAA,OAC1C;AAEA,MAAA,IAAI,SAAU,CAAA,SAAA,CAAU,KAAM,CAAA,cAAc,CAC5C,EAAA;AAEI,QAAI,GAAA,CAAA,YAAA,CAAa,iBAAiB,WAAW,CAAA,CAAA;AAAA,OAGjD,MAAA;AAEI,QAAI,GAAA,CAAA,YAAA,CAAa,iBAAiB,MAAM,CAAA,CAAA;AAAA,OAC5C;AAEA,MAAA,GAAA,CAAI,iBAAiB,OAAS,EAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA;AACtD,MAAA,GAAA,CAAI,iBAAiB,OAAS,EAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA;AACtD,MAAA,GAAA,CAAI,iBAAiB,UAAY,EAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA;AAAA,KAChE;AAGA,IAAI,GAAA,CAAA,KAAA,CAAM,gBAAgB,SAAU,CAAA,uBAAA,CAAA;AAEpC,IAAA,GAAA,CAAI,OAAO,SAAU,CAAA,cAAA,CAAA;AAErB,IAAA,IAAI,SAAU,CAAA,eAAA,IAAmB,SAAU,CAAA,eAAA,KAAoB,IAC/D,EAAA;AACI,MAAA,GAAA,CAAI,QAAQ,SAAU,CAAA,eAAA,CAAA;AAAA,eAEjB,CAAC,SAAA,CAAU,cACR,IAAA,SAAA,CAAU,mBAAmB,IACzC,EAAA;AACI,MAAI,GAAA,CAAA,KAAA,GAAQ,aAAa,SAAU,CAAA,QAAA,CAAA,CAAA,CAAA;AAAA,KACvC;AAEA,IAAA,IAAI,SAAU,CAAA,cAAA,IACP,SAAU,CAAA,cAAA,KAAmB,IACpC,EAAA;AACI,MAAI,GAAA,CAAA,YAAA,CAAa,YAAc,EAAA,SAAA,CAAU,cAAc,CAAA,CAAA;AAAA,KAC3D;AAEA,IAAA,IAAI,KAAK,KACT,EAAA;AACI,MAAA,IAAA,CAAK,gBAAgB,GAAG,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,SAAA,CAAU,iBAAoB,GAAA,IAAA,CAAA;AAC9B,IAAA,SAAA,CAAU,cAAiB,GAAA,GAAA,CAAA;AAC3B,IAAA,GAAA,CAAI,SAAY,GAAA,SAAA,CAAA;AAEhB,IAAK,IAAA,CAAA,SAAA,CAAU,KAAK,SAAS,CAAA,CAAA;AAC7B,IAAK,IAAA,CAAA,IAAA,CAAK,WAAY,CAAA,SAAA,CAAU,cAAc,CAAA,CAAA;AAC9C,IAAU,SAAA,CAAA,cAAA,CAAe,WAAW,SAAU,CAAA,QAAA,CAAA;AAAA,GAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,cAAA,CAAe,GAAY,IACnC,EAAA;AACI,IAAA,MAAM,EAAE,SAAA,EAAW,MAAO,EAAA,GAAI,CAAE,CAAA,MAAA,CAAA;AAChC,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,SAAA,CAAU,MAAO,CAAA,YAAA,CAAA;AACvC,IAAM,MAAA,KAAA,GAAwB,OAAO,MAAO,CAAA,IAAI,eAAe,QAAQ,CAAA,EAAG,EAAE,MAAA,EAAQ,CAAA,CAAA;AAEpF,IAAS,QAAA,CAAA,UAAA,GAAa,KAAK,SAAU,CAAA,kBAAA,CAAA;AACrC,IAAA,IAAA,CAAK,QAAQ,CAACC,KAAAA,KAAS,SAAS,aAAc,CAAA,KAAA,EAAOA,KAAI,CAAC,CAAA,CAAA;AAAA,GAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,SAAS,CACjB,EAAA;AACI,IAAA,IAAA,CAAK,eAAe,CAAG,EAAA,CAAC,OAAS,EAAA,YAAA,EAAc,KAAK,CAAC,CAAA,CAAA;AAAA,GACzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,SAAS,CACjB,EAAA;AACI,IAAA,IAAI,CAAE,CAAA,CAAE,MAAmB,CAAA,YAAA,CAAa,WAAW,CACnD,EAAA;AACI,MAAC,CAAE,CAAA,MAAA,CAAmB,YAAa,CAAA,WAAA,EAAa,WAAW,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,IAAA,CAAK,cAAe,CAAA,CAAA,EAAG,CAAC,WAAW,CAAC,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,YAAY,CACpB,EAAA;AACI,IAAA,IAAI,CAAE,CAAA,CAAE,MAAmB,CAAA,YAAA,CAAa,WAAW,CACnD,EAAA;AACI,MAAC,CAAE,CAAA,MAAA,CAAmB,YAAa,CAAA,WAAA,EAAa,QAAQ,CAAA,CAAA;AAAA,KAC5D;AAEA,IAAA,IAAA,CAAK,cAAe,CAAA,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA,CAAA;AAAA,GACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,WAAW,CACnB,EAAA;AACI,IAAI,IAAA,CAAA,CAAE,YAAY,YAClB,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AAAA,GACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,aAAa,CACrB,EAAA;AACI,IAAA,IAAI,CAAE,CAAA,SAAA,KAAc,CAAK,IAAA,CAAA,CAAE,cAAc,CACzC,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAAA,GACrB;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,iBAAkB,EAAA,CAAA;AACvB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,UAAA,CAAW,QAAS,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AAC5E,IAAW,UAAA,CAAA,mBAAA,CAAoB,SAAW,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAEzD,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AAvkBa,mBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,eAAA;AACV,CAAA,CAAA;AAgkBJ,UAAA,CAAW,IAAI,mBAAmB,CAAA;;ACpnBlC,UAAA,CAAW,IAAI,mBAAmB,CAAA,CAAA;AAClC,SAAA,CAAU,MAAM,mBAAmB,CAAA;;ACCvB,IAAA,eAAA,qBAAAC,gBAAL,KAAA;AAOH,EAAAA,gBAAAA,CAAAA,gBAAAA,CAAA,iBAAc,EAAd,CAAA,GAAA,aAAA,CAAA;AAKA,EAAAA,gBAAAA,CAAAA,gBAAAA,CAAA,UAAO,EAAP,CAAA,GAAA,MAAA,CAAA;AAKA,EAAAA,gBAAAA,CAAAA,gBAAAA,CAAA,YAAS,CAAT,CAAA,GAAA,QAAA,CAAA;AAKA,EAAAA,gBAAAA,CAAAA,gBAAAA,CAAA,SAAM,CAAN,EAAA,CAAA,GAAA,KAAA,CAAA;AAKA,EAAAA,gBAAAA,CAAAA,gBAAAA,CAAA,aAAU,CAAV,EAAA,CAAA,GAAA,SAAA,CAAA;AA3BQ,EAAAA,OAAAA,gBAAAA,CAAAA;AAAA,CAAA,EAAA,eAAA,IAAA,EAAA;;ACAL,MAAM,cACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBI,YAAY,EAAuB,EAAA,OAAA,GAAa,MAAM,QAAW,GAAA,CAAA,EAAG,OAAO,KAC3E,EAAA;AAtBA;AAAA,IAAA,IAAA,CAAO,IAAuB,GAAA,IAAA,CAAA;AAE9B;AAAA,IAAA,IAAA,CAAO,QAA2B,GAAA,IAAA,CAAA;AASlC;AAAA,IAAA,IAAA,CAAQ,UAAa,GAAA,KAAA,CAAA;AAYjB,IAAA,IAAA,CAAK,GAAM,GAAA,EAAA,CAAA;AACX,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAChB,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KAAA,CAAM,EAAuB,EAAA,OAAA,GAAe,IACnD,EAAA;AACI,IAAA,OAAO,IAAK,CAAA,GAAA,KAAQ,EAAM,IAAA,IAAA,CAAK,QAAa,KAAA,OAAA,CAAA;AAAA,GAChD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,KAAK,MACZ,EAAA;AACI,IAAA,IAAI,KAAK,GACT,EAAA;AACI,MAAA,IAAI,KAAK,QACT,EAAA;AACI,QAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,IAAK,CAAA,QAAA,EAAU,MAAM,CAAA,CAAA;AAAA,OAGvC,MAAA;AACI,QAAC,IAAA,CAA6B,IAAI,MAAM,CAAA,CAAA;AAAA,OAC5C;AAAA,KACJ;AAEA,IAAA,MAAM,WAAW,IAAK,CAAA,IAAA,CAAA;AAEtB,IAAA,IAAI,KAAK,KACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAAA,KACrB;AAIA,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,KAChB;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,QAAQ,QACf,EAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAI,SAAS,IACb,EAAA;AACI,MAAA,QAAA,CAAS,KAAK,QAAW,GAAA,IAAA,CAAA;AAAA,KAC7B;AACA,IAAA,IAAA,CAAK,OAAO,QAAS,CAAA,IAAA,CAAA;AACrB,IAAA,QAAA,CAAS,IAAO,GAAA,IAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,OAAA,CAAQ,OAAO,KACtB,EAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAA;AACX,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAGhB,IAAA,IAAI,KAAK,QACT,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAI,KAAK,IACT,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAK,CAAA,QAAA,CAAA;AAAA,KAC9B;AAGA,IAAA,MAAM,WAAW,IAAK,CAAA,IAAA,CAAA;AAGtB,IAAK,IAAA,CAAA,IAAA,GAAO,OAAO,IAAO,GAAA,QAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AACJ;;AC3HO,MAAM,UAAN,MACP;AAAA,EAiGI,WACA,GAAA;AArFA;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAOnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AA6BnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA,CAAA;AAQlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA;AASf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,OAAU,GAAA,KAAA,CAAA;AAKjB;AAAA,IAAA,IAAA,CAAQ,UAAqB,GAAA,IAAA,CAAA;AAK7B;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAQ,aAAgB,GAAA,GAAA,CAAA;AAKxB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAQ,aAAgB,GAAA,CAAA,CAAA;AAExB;AAAA,IAAA,IAAA,CAAQ,UAAa,GAAA,KAAA,CAAA;AAErB;AAAA,IAAA,IAAA,CAAQ,UAAa,GAAA,CAAA,CAAA,CAAA;AAcjB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,cAAe,CAAA,IAAA,EAAM,MAAM,QAAQ,CAAA,CAAA;AACpD,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,OAAO,CAAA,UAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,SAAA,GAAY,IAAI,OAAO,CAAA,UAAA,CAAA;AAE5B,IAAK,IAAA,CAAA,KAAA,GAAQ,CAAC,IACd,KAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,MAAA,IAAI,KAAK,OACT,EAAA;AAEI,QAAA,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA;AAEhB,QAAA,IAAI,KAAK,OAAW,IAAA,IAAA,CAAK,eAAe,IAAQ,IAAA,IAAA,CAAK,MAAM,IAC3D,EAAA;AACI,UAAK,IAAA,CAAA,UAAA,GAAa,qBAAsB,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAAA,SACtD;AAAA,OACJ;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,gBACR,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,UAAA,KAAe,IAAQ,IAAA,IAAA,CAAK,MAAM,IAC3C,EAAA;AAEI,MAAK,IAAA,CAAA,QAAA,GAAW,YAAY,GAAI,EAAA,CAAA;AAChC,MAAA,IAAA,CAAK,aAAa,IAAK,CAAA,QAAA,CAAA;AACvB,MAAK,IAAA,CAAA,UAAA,GAAa,qBAAsB,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAAA,KACtD;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,eACR,GAAA;AACI,IAAI,IAAA,IAAA,CAAK,eAAe,IACxB,EAAA;AACI,MAAA,oBAAA,CAAqB,KAAK,UAAU,CAAA,CAAA;AACpC,MAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWQ,gBACR,GAAA;AACI,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAAA,KAC1B,MAAA,IACS,KAAK,SACd,EAAA;AACI,MAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,KACf;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,GAAa,CAAA,EAAA,EAAuB,OAAa,EAAA,QAAA,GAAmB,gBAAgB,MAC3F,EAAA;AACI,IAAA,OAAO,KAAK,YAAa,CAAA,IAAI,eAAe,EAAI,EAAA,OAAA,EAAS,QAAQ,CAAC,CAAA,CAAA;AAAA,GACtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAiB,CAAA,EAAA,EAAuB,OAAa,EAAA,QAAA,GAAmB,gBAAgB,MAC/F,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,aAAa,IAAI,cAAA,CAAe,IAAI,OAAS,EAAA,QAAA,EAAU,IAAI,CAAC,CAAA,CAAA;AAAA,GAC5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUQ,aAAa,QACrB,EAAA;AAEI,IAAI,IAAA,OAAA,GAAU,KAAK,KAAM,CAAA,IAAA,CAAA;AACzB,IAAA,IAAI,WAAW,IAAK,CAAA,KAAA,CAAA;AAGpB,IAAA,IAAI,CAAC,OACL,EAAA;AACI,MAAA,QAAA,CAAS,QAAQ,QAAQ,CAAA,CAAA;AAAA,KAG7B,MAAA;AAEI,MAAA,OAAO,OACP,EAAA;AACI,QAAI,IAAA,QAAA,CAAS,QAAW,GAAA,OAAA,CAAQ,QAChC,EAAA;AACI,UAAA,QAAA,CAAS,QAAQ,QAAQ,CAAA,CAAA;AACzB,UAAA,MAAA;AAAA,SACJ;AACA,QAAW,QAAA,GAAA,OAAA,CAAA;AACX,QAAA,OAAA,GAAU,OAAQ,CAAA,IAAA,CAAA;AAAA,OACtB;AAGA,MAAI,IAAA,CAAC,SAAS,QACd,EAAA;AACI,QAAA,QAAA,CAAS,QAAQ,QAAQ,CAAA,CAAA;AAAA,OAC7B;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAEtB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,MAAA,CAAgB,IAAuB,OAC9C,EAAA;AACI,IAAI,IAAA,QAAA,GAAW,KAAK,KAAM,CAAA,IAAA,CAAA;AAE1B,IAAA,OAAO,QACP,EAAA;AAII,MAAA,IAAI,QAAS,CAAA,KAAA,CAAM,EAAI,EAAA,OAAO,CAC9B,EAAA;AACI,QAAA,QAAA,GAAW,SAAS,OAAQ,EAAA,CAAA;AAAA,OAGhC,MAAA;AACI,QAAA,QAAA,GAAW,QAAS,CAAA,IAAA,CAAA;AAAA,OACxB;AAAA,KACJ;AAEA,IAAI,IAAA,CAAC,IAAK,CAAA,KAAA,CAAM,IAChB,EAAA;AACI,MAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,KACzB;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,KACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,KACV,EAAA;AACI,MAAO,OAAA,CAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,IAAI,UAAU,IAAK,CAAA,KAAA,CAAA;AAEnB,IAAQ,OAAA,OAAA,GAAU,QAAQ,IAC1B,EAAA;AACI,MAAA,KAAA,EAAA,CAAA;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,KACP,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,OACV,EAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,MAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA;AAAA,EAGO,IACP,GAAA;AACI,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AACf,MAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,KACzB;AAAA,GACJ;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,IAAA,CAAK,IAAK,EAAA,CAAA;AAEV,MAAI,IAAA,QAAA,GAAW,KAAK,KAAM,CAAA,IAAA,CAAA;AAE1B,MAAA,OAAO,QACP,EAAA;AACI,QAAW,QAAA,GAAA,QAAA,CAAS,QAAQ,IAAI,CAAA,CAAA;AAAA,OACpC;AAEA,MAAA,IAAA,CAAK,MAAM,OAAQ,EAAA,CAAA;AACnB,MAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,KACjB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcO,MAAO,CAAA,WAAA,GAAsB,WAAY,CAAA,GAAA,EAChD,EAAA;AACI,IAAI,IAAA,SAAA,CAAA;AAiBJ,IAAI,IAAA,WAAA,GAAc,KAAK,QACvB,EAAA;AAEI,MAAY,SAAA,GAAA,IAAA,CAAK,SAAY,GAAA,WAAA,GAAc,IAAK,CAAA,QAAA,CAAA;AAGhD,MAAI,IAAA,SAAA,GAAY,KAAK,aACrB,EAAA;AACI,QAAA,SAAA,GAAY,IAAK,CAAA,aAAA,CAAA;AAAA,OACrB;AAEA,MAAA,SAAA,IAAa,IAAK,CAAA,KAAA,CAAA;AAKlB,MAAA,IAAI,KAAK,aACT,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,WAAc,GAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAE9C,QAAI,IAAA,KAAA,GAAQ,KAAK,aACjB,EAAA;AACI,UAAA,OAAA;AAAA,SACJ;AAEA,QAAK,IAAA,CAAA,UAAA,GAAa,WAAe,GAAA,KAAA,GAAQ,IAAK,CAAA,aAAA,CAAA;AAAA,OAClD;AAEA,MAAA,IAAA,CAAK,OAAU,GAAA,SAAA,CAAA;AACf,MAAK,IAAA,CAAA,SAAA,GAAY,IAAK,CAAA,OAAA,GAAU,OAAO,CAAA,UAAA,CAAA;AAIvC,MAAA,MAAM,OAAO,IAAK,CAAA,KAAA,CAAA;AAGlB,MAAA,IAAI,WAAW,IAAK,CAAA,IAAA,CAAA;AAEpB,MAAA,OAAO,QACP,EAAA;AACI,QAAW,QAAA,GAAA,QAAA,CAAS,KAAK,IAAI,CAAA,CAAA;AAAA,OACjC;AAEA,MAAI,IAAA,CAAC,KAAK,IACV,EAAA;AACI,QAAA,IAAA,CAAK,eAAgB,EAAA,CAAA;AAAA,OACzB;AAAA,KAGJ,MAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,WAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,IAAI,GACJ,GAAA;AACI,IAAA,OAAO,MAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,MAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,OAAO,GACX,EAAA;AAEI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,QAAQ,GAAG,CAAA,CAAA;AAGxC,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,GAAA,CAAI,GAAG,MAAM,CAAA,GAAI,GAAM,EAAA,OAAA,CAAO,UAAU,CAAA,CAAA;AAEtE,IAAA,IAAA,CAAK,gBAAgB,CAAI,GAAA,OAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,IAAI,MACJ,GAAA;AACI,IAAA,IAAI,KAAK,aACT,EAAA;AACI,MAAA,OAAO,IAAK,CAAA,KAAA,CAAM,GAAO,GAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KAC/C;AAEA,IAAO,OAAA,CAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,OAAO,GACX,EAAA;AACI,IAAA,IAAI,QAAQ,CACZ,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,CAAA;AAAA,KAGzB,MAAA;AAEI,MAAA,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,QAAQ,GAAG,CAAA,CAAA;AAExC,MAAK,IAAA,CAAA,aAAA,GAAgB,KAAK,MAAS,GAAA,GAAA,CAAA,CAAA;AAAA,KACvC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA6CA,WAAW,MACX,GAAA;AACI,IAAI,IAAA,CAAC,QAAO,OACZ,EAAA;AACI,MAAA,MAAM,MAAS,GAAA,OAAA,CAAO,OAAU,GAAA,IAAI,OAAO,EAAA,CAAA;AAE3C,MAAA,MAAA,CAAO,SAAY,GAAA,IAAA,CAAA;AACnB,MAAA,MAAA,CAAO,UAAa,GAAA,IAAA,CAAA;AAAA,KACxB;AAEA,IAAA,OAAO,OAAO,CAAA,OAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,WAAW,MACX,GAAA;AACI,IAAI,IAAA,CAAC,QAAO,OACZ,EAAA;AACI,MAAA,MAAM,MAAS,GAAA,OAAA,CAAO,OAAU,GAAA,IAAI,OAAO,EAAA,CAAA;AAE3C,MAAA,MAAA,CAAO,SAAY,GAAA,IAAA,CAAA;AACnB,MAAA,MAAA,CAAO,UAAa,GAAA,IAAA,CAAA;AAAA,KACxB;AAEA,IAAA,OAAO,OAAO,CAAA,OAAA,CAAA;AAAA,GAClB;AACJ,CAAA,CAAA;AAhkBO,IAAM,MAAN,GAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAM,MAAA,CAMK,UAAa,GAAA,IAAA;;ACYxB,MAAM,YACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeI,OAAiB,KAAK,OACtB,EAAA;AAEI,IAAA,OAAA,GAAU,OAAO,MAAO,CAAA;AAAA,MACpB,SAAW,EAAA,IAAA;AAAA,MACX,YAAc,EAAA,KAAA;AAAA,OACf,OAAO,CAAA,CAAA;AAGV,IAAO,MAAA,CAAA,cAAA;AAAA,MAAe,IAAA;AAAA,MAAM,QAAA;AAAA,MACxB;AAAA,QACI,IAAI,MACJ,EAAA;AACI,UAAA,IAAI,KAAK,OACT,EAAA;AACI,YAAA,IAAA,CAAK,OAAQ,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,WACzC;AACA,UAAA,IAAA,CAAK,OAAU,GAAA,MAAA,CAAA;AACf,UAAA,IAAI,MACJ,EAAA;AACI,YAAA,MAAA,CAAO,GAAI,CAAA,IAAA,CAAK,MAAQ,EAAA,IAAA,EAAM,gBAAgB,GAAG,CAAA,CAAA;AAAA,WACrD;AAAA,SACJ;AAAA,QACA,GACA,GAAA;AACI,UAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,SAChB;AAAA,OACJ;AAAA,KAAC,CAAA;AAQL,IAAA,IAAA,CAAK,OAAO,MACZ;AACI,MAAA,IAAA,CAAK,QAAQ,IAAK,EAAA,CAAA;AAAA,KACtB,CAAA;AAQA,IAAA,IAAA,CAAK,QAAQ,MACb;AACI,MAAA,IAAA,CAAK,QAAQ,KAAM,EAAA,CAAA;AAAA,KACvB,CAAA;AASA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AASf,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,YAAA,GAAe,MAAO,CAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AAGhE,IAAA,IAAI,QAAQ,SACZ,EAAA;AACI,MAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,KACf;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAiB,OACjB,GAAA;AACI,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,MAAM,YAAY,IAAK,CAAA,OAAA,CAAA;AAEvB,MAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,MAAA,SAAA,CAAU,OAAQ,EAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AACJ,CAAA;AAAA;AA3Ga,YAAA,CAGK,YAA+B,aAAc,CAAA,WAAA;;ACZxD,MAAM,YACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBI,OAAc,KAAK,OACnB,EAAA;AACI,IAAO,MAAA,CAAA,cAAA;AAAA,MAAe,IAAA;AAAA,MAAM,UAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQxB;AAAA,QACI,IAAI,GACJ,EAAA;AACI,UAAW,UAAA,CAAA,mBAAA,CAAoB,QAAU,EAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AACzD,UAAA,IAAA,CAAK,SAAY,GAAA,GAAA,CAAA;AACjB,UAAA,IAAI,GACJ,EAAA;AACI,YAAW,UAAA,CAAA,gBAAA,CAAiB,QAAU,EAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AACtD,YAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,WAChB;AAAA,SACJ;AAAA,QACA,GACA,GAAA;AACI,UAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,SAChB;AAAA,OACJ;AAAA,KAAC,CAAA;AASL,IAAA,IAAA,CAAK,cAAc,MACnB;AACI,MAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,QAAA,OAAA;AAAA,OACJ;AAEA,MAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAGnB,MAAA,IAAA,CAAK,SAAY,GAAA,qBAAA,CAAsB,MAAM,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,KAC9D,CAAA;AAQA,IAAA,IAAA,CAAK,gBAAgB,MACrB;AACI,MAAA,IAAI,KAAK,SACT,EAAA;AACI,QAAA,oBAAA,CAAqB,KAAK,SAAS,CAAA,CAAA;AACnC,QAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,OACrB;AAAA,KACJ,CAAA;AASA,IAAA,IAAA,CAAK,SAAS,MACd;AACI,MAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,QAAA,OAAA;AAAA,OACJ;AAGA,MAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAEnB,MAAI,IAAA,KAAA,CAAA;AACJ,MAAI,IAAA,MAAA,CAAA;AAGJ,MAAI,IAAA,IAAA,CAAK,SAAc,KAAA,UAAA,CAAW,MAClC,EAAA;AACI,QAAA,KAAA,GAAQ,UAAW,CAAA,UAAA,CAAA;AACnB,QAAA,MAAA,GAAS,UAAW,CAAA,WAAA,CAAA;AAAA,OAIxB,MAAA;AACI,QAAA,MAAM,EAAE,WAAA,EAAa,YAAa,EAAA,GAAI,IAAK,CAAA,SAAA,CAAA;AAE3C,QAAQ,KAAA,GAAA,WAAA,CAAA;AACR,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb;AAEA,MAAK,IAAA,CAAA,QAAA,CAAS,MAAO,CAAA,KAAA,EAAO,MAAM,CAAA,CAAA;AAClC,MAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,KAChB,CAAA;AAGA,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAK,IAAA,CAAA,QAAA,GAAW,QAAQ,QAAY,IAAA,IAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAc,OACd,GAAA;AACI,IAAW,UAAA,CAAA,mBAAA,CAAoB,QAAU,EAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AACzD,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AACnB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ,CAAA;AAAA;AA7Ia,YAAA,CAGK,YAA+B,aAAc,CAAA,WAAA;;ACpB/D,UAAA,CAAW,IAAI,YAAY,CAAA,CAAA;AAC3B,UAAA,CAAW,IAAI,YAAY,CAAA;;ACKf,IAAA,oBAAA,qBAAAC,qBAAL,KAAA;AAIH,EAAAA,qBAAAA,CAAAA,qBAAAA,CAAA,SAAM,CAAN,CAAA,GAAA,KAAA,CAAA;AAEA,EAAAA,qBAAAA,CAAAA,qBAAAA,CAAA,YAAS,CAAT,CAAA,GAAA,QAAA,CAAA;AAEA,EAAAA,qBAAAA,CAAAA,qBAAAA,CAAA,UAAO,CAAP,CAAA,GAAA,MAAA,CAAA;AARQ,EAAAA,OAAAA,qBAAAA,CAAAA;AAAA,CAAA,EAAA,oBAAA,IAAA,EAAA;;ACJC,MAAA,gBAAA,GAAmB,CAAC,SAAA,EAAmB,SACpD,KAAA;AACI,EAAA,MAAM,YAAe,GAAA,SAAA,CAAU,KAAM,CAAA,GAAG,EAAE,CAAC,CAAA,CAAA;AAE3C,EAAA,IAAI,YACJ,EAAA;AACI,IAAA,SAAA,IAAa,CAAI,CAAA,EAAA,YAAA,CAAA,CAAA,CAAA;AAAA,GACrB;AAEA,EAAO,OAAA,SAAA,CAAA;AACX;;ACSO,MAAM,cAAiB,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1B,YAAA,EAAc,CAAC,KAAA,EAAe,MAC9B,KAAA;AACI,IAAM,MAAA,MAAA,GAAS,QAAS,CAAA,aAAA,CAAc,QAAQ,CAAA,CAAA;AAE9C,IAAA,MAAA,CAAO,KAAQ,GAAA,KAAA,CAAA;AACf,IAAA,MAAA,CAAO,MAAS,GAAA,MAAA,CAAA;AAEhB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EACA,6BAA6B,MAAM,wBAAA;AAAA,EACnC,0BAA0B,MAAM,qBAAA;AAAA,EAChC,cAAc,MAAM,SAAA;AAAA,EACpB,YAAY,MAAG;AA5CnB,IAAA,IAAA,EAAA,CAAA;AA4CuB,IAAS,OAAA,CAAA,EAAA,GAAA,QAAA,CAAA,OAAA,KAAT,IAAoB,GAAA,EAAA,GAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAA;AAAA,GAAA;AAAA,EACvD,cAAA,EAAgB,MAAM,QAAS,CAAA,KAAA;AAAA,EAC/B,OAAO,CAAC,GAAA,EAAkB,OAA0B,KAAA,KAAA,CAAM,KAAK,OAAO,CAAA;AAAA,EACtE,QAAA,EAAU,CAAC,GACX,KAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAI,SAAU,EAAA,CAAA;AAE7B,IAAO,OAAA,MAAA,CAAO,eAAgB,CAAA,GAAA,EAAK,UAAU,CAAA,CAAA;AAAA,GACjD;AACJ,EAAA;AAEA,IAAI,cAA0B,GAAA,cAAA,CAAA;AAEvB,MAAM,UAAa,GAAA;AAAA,EACtB,GACA,GAAA;AACI,IAAO,OAAA,cAAA,CAAA;AAAA,GACX;AAAA,EACA,IAAI,OACJ,EAAA;AACI,IAAiB,cAAA,GAAA,OAAA,CAAA;AAAA,GACrB;AACJ;;AChEA,SAAS,WAAWC,KACpB,EAAA;AACI,EAAI,IAAA,OAAOA,UAAS,QACpB,EAAA;AACI,IAAA,MAAM,IAAI,SAAU,CAAA,CAAA,gCAAA,EAAmC,IAAK,CAAA,SAAA,CAAUA,KAAI,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,GACjF;AACJ,CAAA;AAEA,SAAS,gBAAgB,GACzB,EAAA;AACI,EAAA,MAAM,EAAK,GAAA,GAAA,CAAI,KAAM,CAAA,GAAG,EAAE,CAAC,CAAA,CAAA;AAE3B,EAAA,OAAO,EAAG,CAAA,KAAA,CAAM,GAAG,CAAA,CAAE,CAAC,CAAA,CAAA;AAC1B,CAAA;AAEA,SAAS,aAAa,MACtB,EAAA;AACI,EAAO,OAAA,MAAA,CAAO,OAAQ,CAAA,qBAAA,EAAuB,MAAM,CAAA,CAAA;AACvD,CAAA;AAEA,SAAS,UAAA,CAAW,GAAa,EAAA,IAAA,EAAc,OAC/C,EAAA;AACI,EAAO,OAAA,GAAA,CAAI,QAAQ,IAAI,MAAA,CAAO,aAAa,IAAI,CAAA,EAAG,GAAG,CAAA,EAAG,OAAO,CAAA,CAAA;AACnE,CAAA;AAGA,SAAS,oBAAA,CAAqBA,OAAc,cAC5C,EAAA;AACI,EAAA,IAAI,GAAM,GAAA,EAAA,CAAA;AACV,EAAA,IAAI,iBAAoB,GAAA,CAAA,CAAA;AACxB,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA,CAAA;AAChB,EAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,EAAA,IAAI,IAAO,GAAA,CAAA,CAAA,CAAA;AAEX,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,IAAKA,KAAK,CAAA,MAAA,EAAQ,EAAE,CACpC,EAAA;AACI,IAAI,IAAA,CAAA,GAAIA,MAAK,MACb,EAAA;AACI,MAAOA,IAAAA,GAAAA,KAAAA,CAAK,WAAW,CAAC,CAAA,CAAA;AAAA,KAC5B,MAAA,IACS,SAAS,EAClB,EAAA;AACI,MAAA,MAAA;AAAA,KAGJ,MAAA;AACI,MAAO,IAAA,GAAA,EAAA,CAAA;AAAA,KACX;AACA,IAAA,IAAI,SAAS,EACb,EAAA;AACI,MAAA,IAAI,SAAc,KAAA,CAAA,GAAI,CAAK,IAAA,IAAA,KAAS,CACpC,EAAA;AAAA,OAGS,MAAA,IAAA,SAAA,KAAc,CAAI,GAAA,CAAA,IAAK,SAAS,CACzC,EAAA;AACI,QAAA,IACI,IAAI,MAAS,GAAA,CAAA,IACV,sBAAsB,CACtB,IAAA,GAAA,CAAI,WAAW,GAAI,CAAA,MAAA,GAAS,CAAC,CAAA,KAAM,MACnC,GAAI,CAAA,UAAA,CAAW,IAAI,MAAS,GAAA,CAAC,MAAM,EAE1C,EAAA;AACI,UAAI,IAAA,GAAA,CAAI,SAAS,CACjB,EAAA;AACI,YAAM,MAAA,cAAA,GAAiB,GAAI,CAAA,WAAA,CAAY,GAAG,CAAA,CAAA;AAE1C,YAAI,IAAA,cAAA,KAAmB,GAAI,CAAA,MAAA,GAAS,CACpC,EAAA;AACI,cAAA,IAAI,mBAAmB,CACvB,CAAA,EAAA;AACI,gBAAM,GAAA,GAAA,EAAA,CAAA;AACN,gBAAoB,iBAAA,GAAA,CAAA,CAAA;AAAA,eAGxB,MAAA;AACI,gBAAM,GAAA,GAAA,GAAA,CAAI,KAAM,CAAA,CAAA,EAAG,cAAc,CAAA,CAAA;AACjC,gBAAA,iBAAA,GAAoB,GAAI,CAAA,MAAA,GAAS,CAAI,GAAA,GAAA,CAAI,YAAY,GAAG,CAAA,CAAA;AAAA,eAC5D;AACA,cAAY,SAAA,GAAA,CAAA,CAAA;AACZ,cAAO,IAAA,GAAA,CAAA,CAAA;AACP,cAAA,SAAA;AAAA,aACJ;AAAA,qBAEK,GAAI,CAAA,MAAA,KAAW,CAAK,IAAA,GAAA,CAAI,WAAW,CAC5C,EAAA;AACI,YAAM,GAAA,GAAA,EAAA,CAAA;AACN,YAAoB,iBAAA,GAAA,CAAA,CAAA;AACpB,YAAY,SAAA,GAAA,CAAA,CAAA;AACZ,YAAO,IAAA,GAAA,CAAA,CAAA;AACP,YAAA,SAAA;AAAA,WACJ;AAAA,SACJ;AACA,QAAA,IAAI,cACJ,EAAA;AACI,UAAI,IAAA,GAAA,CAAI,SAAS,CACjB,EAAA;AAAE,YAAO,GAAA,IAAA,KAAA,CAAA;AAAA,WAET,MAAA;AAAE,YAAM,GAAA,GAAA,IAAA,CAAA;AAAA,WAAM;AACd,UAAoB,iBAAA,GAAA,CAAA,CAAA;AAAA,SACxB;AAAA,OAGJ,MAAA;AACI,QAAI,IAAA,GAAA,CAAI,SAAS,CACjB,EAAA;AACI,UAAA,GAAA,IAAO,CAAIA,CAAAA,EAAAA,KAAAA,CAAK,KAAM,CAAA,SAAA,GAAY,GAAG,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,SAG1C,MAAA;AACI,UAAA,GAAA,GAAMA,KAAK,CAAA,KAAA,CAAM,SAAY,GAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,SACrC;AACA,QAAA,iBAAA,GAAoB,IAAI,SAAY,GAAA,CAAA,CAAA;AAAA,OACxC;AACA,MAAY,SAAA,GAAA,CAAA,CAAA;AACZ,MAAO,IAAA,GAAA,CAAA,CAAA;AAAA,KAEF,MAAA,IAAA,IAAA,KAAS,EAAM,IAAA,IAAA,KAAS,CACjC,CAAA,EAAA;AACI,MAAE,EAAA,IAAA,CAAA;AAAA,KAGN,MAAA;AACI,MAAO,IAAA,GAAA,CAAA,CAAA,CAAA;AAAA,KACX;AAAA,GACJ;AAEA,EAAO,OAAA,GAAA,CAAA;AACX,CAAA;AAuBO,MAAM,IAAa,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKtB,QAAQA,KAAc,EAAA;AAAE,IAAO,OAAA,UAAA,CAAWA,KAAM,EAAA,IAAA,EAAM,GAAG,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAK5D,MAAMA,KAAc,EAAA;AAAE,IAAA,OAAQ,UAAY,CAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAKpE,UAAUA,KACV,EAAA;AAEI,IAAQ,OAAA,wIAAA,CACH,KAAKA,KAAI,CAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,UAAUA,KACV,EAAA;AAEI,IAAOA,OAAAA,KAAAA,CAAK,WAAW,OAAO,CAAA,CAAA;AAAA,GAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAYA,KAAc,EAAA;AAAE,IAAA,OAAQ,UAAY,CAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAK1E,YAAYA,KACZ,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAAA,KAAAA,GAAO,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AAExB,IAAM,MAAA,SAAA,GAAa,cAAgB,CAAA,IAAA,CAAKA,KAAI,CAAA,CAAA;AAE5C,IAAA,IAAI,SACJ,EAAA;AACI,MAAA,OAAO,UAAU,CAAC,CAAA,CAAA;AAAA,KACtB;AAEA,IAAM,MAAA,aAAA,GAAiB,iBAAmB,CAAA,IAAA,CAAKA,KAAI,CAAA,CAAA;AAEnD,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,OAAO,cAAc,CAAC,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAO,OAAA,EAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,UAAA,CAAW,GAAa,EAAA,aAAA,EAAwB,aAChD,EAAA;AACI,IAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAEd,IAAA,IAAI,KAAK,SAAU,CAAA,GAAG,CAAK,IAAA,IAAA,CAAK,UAAU,GAAG,CAAA;AAAG,MAAO,OAAA,GAAA,CAAA;AAEvD,IAAM,MAAA,OAAA,GAAU,eAAgB,CAAA,IAAA,CAAK,OAAQ,CAAA,aAAA,IAAA,IAAA,GAAA,aAAA,GAAiB,WAAW,GAAI,EAAA,CAAE,UAAW,EAAC,CAAC,CAAA,CAAA;AAC5F,IAAM,MAAA,OAAA,GAAU,gBAAgB,IAAK,CAAA,OAAA,CAAQ,wCAAiB,IAAK,CAAA,QAAA,CAAS,OAAO,CAAC,CAAC,CAAA,CAAA;AAErF,IAAM,GAAA,GAAA,IAAA,CAAK,QAAQ,GAAG,CAAA,CAAA;AAGtB,IAAI,IAAA,GAAA,CAAI,UAAW,CAAA,GAAG,CACtB,EAAA;AACI,MAAA,OAAO,KAAK,IAAK,CAAA,OAAA,EAAS,GAAI,CAAA,KAAA,CAAM,CAAC,CAAC,CAAA,CAAA;AAAA,KAC1C;AAEA,IAAM,MAAA,YAAA,GAAe,KAAK,UAAW,CAAA,GAAG,IAAI,GAAM,GAAA,IAAA,CAAK,IAAK,CAAA,OAAA,EAAS,GAAG,CAAA,CAAA;AAExE,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,UAAUA,KACV,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AAEf,IAAA,IAAIA,MAAK,MAAW,KAAA,CAAA;AAAG,MAAO,OAAA,GAAA,CAAA;AAC9B,IAAA,IAAI,KAAK,SAAUA,CAAAA,KAAI,CAAK,IAAA,IAAA,CAAK,UAAUA,KAAI,CAAA;AAAG,MAAOA,OAAAA,KAAAA,CAAAA;AAEzD,IAAAA,KAAAA,GAAO,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AAExB,IAAA,IAAI,QAAW,GAAA,EAAA,CAAA;AACf,IAAM,MAAA,UAAA,GAAaA,KAAK,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAEtC,IAAI,IAAA,IAAA,CAAK,WAAYA,CAAAA,KAAI,CACzB,EAAA;AACI,MAAW,QAAA,GAAA,IAAA,CAAK,SAASA,KAAI,CAAA,CAAA;AAC7B,MAAAA,KAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAAA,KACrC;AAEA,IAAM,MAAA,iBAAA,GAAoBA,KAAK,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAG3C,IAAAA,KAAAA,GAAO,oBAAqBA,CAAAA,KAAAA,EAAM,KAAK,CAAA,CAAA;AAEvC,IAAIA,IAAAA,KAAAA,CAAK,SAAS,CAAK,IAAA,iBAAA;AAAmB,MAAAA,KAAQ,IAAA,GAAA,CAAA;AAClD,IAAI,IAAA,UAAA;AAAY,MAAA,OAAO,CAAIA,CAAAA,EAAAA,KAAAA,CAAAA,CAAAA,CAAAA;AAE3B,IAAA,OAAO,QAAWA,GAAAA,KAAAA,CAAAA;AAAA,GACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAWA,KACX,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAAA,KAAAA,GAAO,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AAExB,IAAI,IAAA,IAAA,CAAK,YAAYA,KAAI,CAAA;AAAG,MAAO,OAAA,IAAA,CAAA;AAEnC,IAAOA,OAAAA,KAAAA,CAAK,WAAW,GAAG,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,QAAQ,QACR,EAAA;AA5SJ,IAAA,IAAA,EAAA,CAAA;AA6SQ,IAAI,IAAA,QAAA,CAAS,WAAW,CACxB,EAAA;AAAE,MAAO,OAAA,GAAA,CAAA;AAAA,KAAK;AACd,IAAI,IAAA,MAAA,CAAA;AAEJ,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,QAAS,CAAA,MAAA,EAAQ,EAAE,CACvC,EAAA;AACI,MAAM,MAAA,GAAA,GAAM,SAAS,CAAC,CAAA,CAAA;AAEtB,MAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AACd,MAAI,IAAA,GAAA,CAAI,SAAS,CACjB,EAAA;AACI,QAAA,IAAI,MAAW,KAAA,KAAA,CAAA;AAAW,UAAS,MAAA,GAAA,GAAA,CAAA;AAAA,aAEnC;AACI,UAAA,MAAM,OAAU,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,CAAI,GAAA,CAAC,MAAd,IAAmB,GAAA,EAAA,GAAA,EAAA,CAAA;AAEnC,UAAI,IAAA,IAAA,CAAK,OAAQ,CAAA,OAAO,CACxB,EAAA;AACI,YAAA,MAAA,IAAU,CAAO,IAAA,EAAA,GAAA,CAAA,CAAA,CAAA;AAAA,WAGrB,MAAA;AACI,YAAA,MAAA,IAAU,CAAI,CAAA,EAAA,GAAA,CAAA,CAAA,CAAA;AAAA,WAClB;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AACA,IAAA,IAAI,WAAW,KAAW,CAAA,EAAA;AAAE,MAAO,OAAA,GAAA,CAAA;AAAA,KAAK;AAExC,IAAO,OAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GAChC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAAQA,KACR,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAA,IAAIA,MAAK,MAAW,KAAA,CAAA;AAAG,MAAO,OAAA,GAAA,CAAA;AAC9B,IAAAA,KAAAA,GAAO,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AACxB,IAAI,IAAA,IAAA,GAAOA,KAAK,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAC5B,IAAA,MAAM,UAAU,IAAS,KAAA,EAAA,CAAA;AACzB,IAAA,IAAI,GAAM,GAAA,CAAA,CAAA,CAAA;AACV,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AAEnB,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,WAAA,CAAYA,KAAI,CAAA,CAAA;AACnC,IAAA,MAAM,QAAWA,GAAAA,KAAAA,CAAAA;AAEjB,IAAAA,KAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAE9B,IAAA,KAAA,IAAS,IAAIA,KAAK,CAAA,MAAA,GAAS,GAAG,CAAK,IAAA,CAAA,EAAG,EAAE,CACxC,EAAA;AACI,MAAOA,IAAAA,GAAAA,KAAAA,CAAK,WAAW,CAAC,CAAA,CAAA;AACxB,MAAA,IAAI,SAAS,EACb,EAAA;AACI,QAAA,IAAI,CAAC,YACL,EAAA;AACI,UAAM,GAAA,GAAA,CAAA,CAAA;AACN,UAAA,MAAA;AAAA,SACJ;AAAA,OAGJ,MAAA;AAEI,QAAe,YAAA,GAAA,KAAA,CAAA;AAAA,OACnB;AAAA,KACJ;AAIA,IAAA,IAAI,GAAQ,KAAA,CAAA,CAAA;AAAI,MAAA,OAAO,UAAU,GAAM,GAAA,IAAA,CAAK,MAAM,QAAQ,CAAA,GAAI,QAAQA,KAAO,GAAA,KAAA,CAAA;AAC7E,IAAA,IAAI,WAAW,GAAQ,KAAA,CAAA;AAAG,MAAO,OAAA,IAAA,CAAA;AAEjC,IAAA,OAAO,KAAQA,GAAAA,KAAAA,CAAK,KAAM,CAAA,CAAA,EAAG,GAAG,CAAA,CAAA;AAAA,GACpC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,SAASA,KACT,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAAA,KAAAA,GAAO,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AAExB,IAAA,IAAI,IAAO,GAAA,EAAA,CAAA;AAEX,IAAIA,IAAAA,KAAAA,CAAK,WAAW,GAAG,CAAA;AAAG,MAAO,IAAA,GAAA,GAAA,CAAA;AAAA,SAEjC;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,YAAYA,KAAI,CAAA,CAAA;AAAA,KAChC;AAEA,IAAI,IAAA,IAAA,CAAK,KAAMA,CAAAA,KAAI,CACnB,EAAA;AAEI,MAAA,MAAM,KAAQA,GAAAA,KAAAA,CAAK,OAAQ,CAAA,GAAA,EAAK,KAAK,MAAM,CAAA,CAAA;AAE3C,MAAA,IAAI,UAAU,CACd,CAAA,EAAA;AACI,QAAOA,IAAAA,GAAAA,KAAAA,CAAK,KAAM,CAAA,CAAA,EAAG,KAAK,CAAA,CAAA;AAAA,OAC9B;AACK,QAAOA,IAAAA,GAAAA,KAAAA,CAAAA;AAEZ,MAAI,IAAA,CAAC,IAAK,CAAA,QAAA,CAAS,GAAG,CAAA;AAAG,QAAQ,IAAA,IAAA,GAAA,CAAA;AAAA,KACrC;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,QAAA,CAASA,OAAc,GACvB,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAI,IAAA,GAAA;AAAK,MAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAEvB,IAAAA,KAAO,GAAA,eAAA,CAAgB,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAC,CAAA,CAAA;AAEzC,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,IAAI,GAAM,GAAA,CAAA,CAAA,CAAA;AACV,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AACnB,IAAI,IAAA,CAAA,CAAA;AAEJ,IAAI,IAAA,GAAA,KAAQ,UAAa,GAAI,CAAA,MAAA,GAAS,KAAK,GAAI,CAAA,MAAA,IAAUA,MAAK,MAC9D,EAAA;AACI,MAAA,IAAI,GAAI,CAAA,MAAA,KAAWA,KAAK,CAAA,MAAA,IAAU,GAAQA,KAAAA,KAAAA;AAAM,QAAO,OAAA,EAAA,CAAA;AACvD,MAAI,IAAA,MAAA,GAAS,IAAI,MAAS,GAAA,CAAA,CAAA;AAC1B,MAAA,IAAI,gBAAmB,GAAA,CAAA,CAAA,CAAA;AAEvB,MAAA,KAAK,IAAIA,KAAK,CAAA,MAAA,GAAS,GAAG,CAAK,IAAA,CAAA,EAAG,EAAE,CACpC,EAAA;AACI,QAAM,MAAA,IAAA,GAAOA,KAAK,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAE9B,QAAA,IAAI,SAAS,EACb,EAAA;AAGI,UAAA,IAAI,CAAC,YACL,EAAA;AACI,YAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AACZ,YAAA,MAAA;AAAA,WACJ;AAAA,SAGJ,MAAA;AACI,UAAA,IAAI,qBAAqB,CACzB,CAAA,EAAA;AAGI,YAAe,YAAA,GAAA,KAAA,CAAA;AACf,YAAA,gBAAA,GAAmB,CAAI,GAAA,CAAA,CAAA;AAAA,WAC3B;AACA,UAAA,IAAI,UAAU,CACd,EAAA;AAEI,YAAA,IAAI,IAAS,KAAA,GAAA,CAAI,UAAW,CAAA,MAAM,CAClC,EAAA;AACI,cAAI,IAAA,EAAE,WAAW,CACjB,CAAA,EAAA;AAGI,gBAAM,GAAA,GAAA,CAAA,CAAA;AAAA,eACV;AAAA,aAGJ,MAAA;AAGI,cAAS,MAAA,GAAA,CAAA,CAAA,CAAA;AACT,cAAM,GAAA,GAAA,gBAAA,CAAA;AAAA,aACV;AAAA,WACJ;AAAA,SACJ;AAAA,OACJ;AAEA,MAAA,IAAI,KAAU,KAAA,GAAA;AAAK,QAAM,GAAA,GAAA,gBAAA,CAAA;AAAA,WAAA,IAA2B,GAAQ,KAAA,CAAA,CAAA;AAAI,QAAA,GAAA,GAAMA,KAAK,CAAA,MAAA,CAAA;AAE3E,MAAOA,OAAAA,KAAAA,CAAK,KAAM,CAAA,KAAA,EAAO,GAAG,CAAA,CAAA;AAAA,KAChC;AACA,IAAA,KAAK,IAAIA,KAAK,CAAA,MAAA,GAAS,GAAG,CAAK,IAAA,CAAA,EAAG,EAAE,CACpC,EAAA;AACI,MAAA,IAAIA,KAAK,CAAA,UAAA,CAAW,CAAC,CAAA,KAAM,EAC3B,EAAA;AAGI,QAAA,IAAI,CAAC,YACL,EAAA;AACI,UAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AACZ,UAAA,MAAA;AAAA,SACJ;AAAA,OACJ,MAAA,IACS,QAAQ,CACjB,CAAA,EAAA;AAGI,QAAe,YAAA,GAAA,KAAA,CAAA;AACf,QAAA,GAAA,GAAM,CAAI,GAAA,CAAA,CAAA;AAAA,OACd;AAAA,KACJ;AAEA,IAAA,IAAI,GAAQ,KAAA,CAAA,CAAA;AAAI,MAAO,OAAA,EAAA,CAAA;AAEvB,IAAOA,OAAAA,KAAAA,CAAK,KAAM,CAAA,KAAA,EAAO,GAAG,CAAA,CAAA;AAAA,GAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQA,KACR,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACf,IAAAA,KAAO,GAAA,eAAA,CAAgB,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAC,CAAA,CAAA;AAEzC,IAAA,IAAI,QAAW,GAAA,CAAA,CAAA,CAAA;AACf,IAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAChB,IAAA,IAAI,GAAM,GAAA,CAAA,CAAA,CAAA;AACV,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AAGnB,IAAA,IAAI,WAAc,GAAA,CAAA,CAAA;AAElB,IAAA,KAAA,IAAS,IAAIA,KAAK,CAAA,MAAA,GAAS,GAAG,CAAK,IAAA,CAAA,EAAG,EAAE,CACxC,EAAA;AACI,MAAM,MAAA,IAAA,GAAOA,KAAK,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAE9B,MAAA,IAAI,SAAS,EACb,EAAA;AAGI,QAAA,IAAI,CAAC,YACL,EAAA;AACI,UAAA,SAAA,GAAY,CAAI,GAAA,CAAA,CAAA;AAChB,UAAA,MAAA;AAAA,SACJ;AACA,QAAA,SAAA;AAAA,OACJ;AACA,MAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AAGI,QAAe,YAAA,GAAA,KAAA,CAAA;AACf,QAAA,GAAA,GAAM,CAAI,GAAA,CAAA,CAAA;AAAA,OACd;AACA,MAAA,IAAI,SAAS,EACb,EAAA;AAEI,QAAA,IAAI,QAAa,KAAA,CAAA,CAAA;AAAI,UAAW,QAAA,GAAA,CAAA,CAAA;AAAA,aAAA,IACvB,WAAgB,KAAA,CAAA;AAAG,UAAc,WAAA,GAAA,CAAA,CAAA;AAAA,OAC9C,MAAA,IACS,aAAa,CACtB,CAAA,EAAA;AAGI,QAAc,WAAA,GAAA,CAAA,CAAA,CAAA;AAAA,OAClB;AAAA,KACJ;AAEA,IAAA,IACI,QAAa,KAAA,CAAA,CAAA,IAAM,GAAQ,KAAA,CAAA,CAAA,IAExB,WAAgB,KAAA,CAAA,IAGhB,WAAgB,KAAA,CAAA,IAAK,QAAa,KAAA,GAAA,GAAM,CAAK,IAAA,QAAA,KAAa,YAAY,CAE7E,EAAA;AACI,MAAO,OAAA,EAAA,CAAA;AAAA,KACX;AAEA,IAAOA,OAAAA,KAAAA,CAAK,KAAM,CAAA,QAAA,EAAU,GAAG,CAAA,CAAA;AAAA,GACnC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAMA,KACN,EAAA;AACI,IAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AAEf,IAAM,MAAA,GAAA,GAAM,EAAE,IAAA,EAAM,EAAI,EAAA,GAAA,EAAK,EAAI,EAAA,IAAA,EAAM,EAAI,EAAA,GAAA,EAAK,EAAI,EAAA,IAAA,EAAM,EAAG,EAAA,CAAA;AAE7D,IAAA,IAAIA,MAAK,MAAW,KAAA,CAAA;AAAG,MAAO,OAAA,GAAA,CAAA;AAC9B,IAAAA,KAAO,GAAA,eAAA,CAAgB,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAC,CAAA,CAAA;AAEzC,IAAI,IAAA,IAAA,GAAOA,KAAK,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAC5B,IAAM,MAAA,UAAA,GAAa,IAAK,CAAA,UAAA,CAAWA,KAAI,CAAA,CAAA;AACvC,IAAI,IAAA,KAAA,CAAA;AACJ,IAAA,MAAM,QAAW,GAAA,EAAA,CAAA;AAEjB,IAAI,GAAA,CAAA,IAAA,GAAO,IAAK,CAAA,QAAA,CAASA,KAAI,CAAA,CAAA;AAE7B,IAAA,IAAI,UAAc,IAAA,IAAA,CAAK,WAAYA,CAAAA,KAAI,CACvC,EAAA;AACI,MAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,KAGZ,MAAA;AACI,MAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,KACZ;AACA,IAAA,IAAI,QAAW,GAAA,CAAA,CAAA,CAAA;AACf,IAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAChB,IAAA,IAAI,GAAM,GAAA,CAAA,CAAA,CAAA;AACV,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AACnB,IAAI,IAAA,CAAA,GAAIA,MAAK,MAAS,GAAA,CAAA,CAAA;AAItB,IAAA,IAAI,WAAc,GAAA,CAAA,CAAA;AAGlB,IAAO,OAAA,CAAA,IAAK,KAAO,EAAA,EAAE,CACrB,EAAA;AACI,MAAOA,IAAAA,GAAAA,KAAAA,CAAK,WAAW,CAAC,CAAA,CAAA;AACxB,MAAA,IAAI,SAAS,EACb,EAAA;AAGI,QAAA,IAAI,CAAC,YACL,EAAA;AACI,UAAA,SAAA,GAAY,CAAI,GAAA,CAAA,CAAA;AAChB,UAAA,MAAA;AAAA,SACJ;AACA,QAAA,SAAA;AAAA,OACJ;AACA,MAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AAGI,QAAe,YAAA,GAAA,KAAA,CAAA;AACf,QAAA,GAAA,GAAM,CAAI,GAAA,CAAA,CAAA;AAAA,OACd;AACA,MAAA,IAAI,SAAS,EACb,EAAA;AAEI,QAAA,IAAI,QAAa,KAAA,CAAA,CAAA;AAAI,UAAW,QAAA,GAAA,CAAA,CAAA;AAAA,aAAA,IACvB,WAAgB,KAAA,CAAA;AAAG,UAAc,WAAA,GAAA,CAAA,CAAA;AAAA,OAC9C,MAAA,IACS,aAAa,CACtB,CAAA,EAAA;AAGI,QAAc,WAAA,GAAA,CAAA,CAAA,CAAA;AAAA,OAClB;AAAA,KACJ;AAEA,IAAA,IACI,QAAa,KAAA,CAAA,CAAA,IAAM,GAAQ,KAAA,CAAA,CAAA,IAExB,WAAgB,KAAA,CAAA,IAGhB,WAAgB,KAAA,CAAA,IAAK,QAAa,KAAA,GAAA,GAAM,CAAK,IAAA,QAAA,KAAa,YAAY,CAE7E,EAAA;AACI,MAAA,IAAI,QAAQ,CACZ,CAAA,EAAA;AACI,QAAA,IAAI,cAAc,CAAK,IAAA,UAAA;AAAY,UAAA,GAAA,CAAI,OAAO,GAAI,CAAA,IAAA,GAAOA,KAAK,CAAA,KAAA,CAAM,GAAG,GAAG,CAAA,CAAA;AAAA;AACrE,UAAA,GAAA,CAAI,OAAO,GAAI,CAAA,IAAA,GAAOA,KAAK,CAAA,KAAA,CAAM,WAAW,GAAG,CAAA,CAAA;AAAA,OACxD;AAAA,KAGJ,MAAA;AACI,MAAI,IAAA,SAAA,KAAc,KAAK,UACvB,EAAA;AACI,QAAA,GAAA,CAAI,IAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,CAAA,EAAG,QAAQ,CAAA,CAAA;AACjC,QAAA,GAAA,CAAI,IAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,CAAA,EAAG,GAAG,CAAA,CAAA;AAAA,OAGhC,MAAA;AACI,QAAA,GAAA,CAAI,IAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,SAAA,EAAW,QAAQ,CAAA,CAAA;AACzC,QAAA,GAAA,CAAI,IAAOA,GAAAA,KAAAA,CAAK,KAAM,CAAA,SAAA,EAAW,GAAG,CAAA,CAAA;AAAA,OACxC;AACA,MAAA,GAAA,CAAI,GAAMA,GAAAA,KAAAA,CAAK,KAAM,CAAA,QAAA,EAAU,GAAG,CAAA,CAAA;AAAA,KACtC;AAEA,IAAI,GAAA,CAAA,GAAA,GAAM,IAAK,CAAA,OAAA,CAAQA,KAAI,CAAA,CAAA;AAC3B,IAAI,IAAA,QAAA;AAAU,MAAI,GAAA,CAAA,GAAA,GAAM,WAAW,GAAI,CAAA,GAAA,CAAA;AAEvC,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA,EAEA,GAAK,EAAA,GAAA;AAAA,EACL,SAAW,EAAA,GAAA;AACf;;ACrrBO,MAAM,aAAgB,GAAA,CACzB,KACA,EAAA,SAAA,EACA,iBAAiB,KAErB,KAAA;AACI,EAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAK,CACxB,EAAA;AACI,IAAA,KAAA,GAAQ,CAAC,KAAU,CAAA,CAAA;AAAA,GACvB;AAEA,EAAA,IAAI,CAAC,SACL,EAAA;AACI,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAEA,EAAQ,OAAA,KAAA,CAAyB,GAAI,CAAA,CAAC,IACtC,KAAA;AACI,IAAI,IAAA,OAAO,IAAS,KAAA,QAAA,IAAY,cAChC,EAAA;AACI,MAAA,OAAO,UAAU,IAAc,CAAA,CAAA;AAAA,KACnC;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACV,CAAA,CAAA;AACL;;ACNA,MAAM,UACN,CAAA;AAAA,EADA,WAAA,GAAA;AAEI,IAAA,IAAA,CAAiB,WAA0B,EAAC,CAAA;AAE5C,IAAiB,IAAA,CAAA,MAAA,uBAA4B,GAAI,EAAA,CAAA;AACjD,IAAiB,IAAA,CAAA,SAAA,uBAGR,GAAI,EAAA,CAAA;AAAA,GAAA;AAAA;AAAA,EAGN,KACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAU,KAAM,EAAA,CAAA;AACrB,IAAA,IAAA,CAAK,OAAO,KAAM,EAAA,CAAA;AAAA,GACtB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,IAAI,GACX,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,MAAO,CAAA,GAAA,CAAI,GAAG,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,IAAa,GACpB,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,MAAO,CAAA,GAAA,CAAI,GAAG,CAAA,CAAA;AAElC,IAAA,IAAI,CAAC,MACL,EAAA;AAEI,MAAA,IAAA,CAAK,qBAAqB,GAAgC,CAAA,2BAAA,CAAA,CAAA,CAAA;AAAA,KAE9D;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,GAAA,CAAI,KAAkB,KAC7B,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,cAAsB,GAAG,CAAA,CAAA;AAEtC,IAAI,IAAA,eAAA,CAAA;AAEJ,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,IAAK,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAE7B,MAAI,IAAA,MAAA,CAAO,IAAK,CAAA,KAAK,CACrB,EAAA;AACI,QAAkB,eAAA,GAAA,MAAA,CAAO,kBAAmB,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAEvD,QAAA,MAAA;AAAA,OACJ;AAAA,KACJ;AAGA,IAAM,MAAA,YAAA,GAAe,IAAI,GAAI,CAAA,MAAA,CAAO,QAAQ,eAAmB,IAAA,EAAE,CAAC,CAAA,CAAA;AAElE,IAAA,IAAI,CAAC,eACL,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,CAACC,IACd,KAAA;AACI,QAAa,YAAA,CAAA,GAAA,CAAIA,MAAK,KAAK,CAAA,CAAA;AAAA,OAC9B,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,MAAM,SAAY,GAAA,CAAC,GAAG,YAAA,CAAa,MAAM,CAAA,CAAA;AAEzC,IAAA,MAAM,YAAe,GAAA;AAAA,MACjB,SAAA;AAAA,MACA,IAAA;AAAA,KACJ,CAAA;AAGA,IAAK,IAAA,CAAA,OAAA,CAAQ,CAACA,IACd,KAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,GAAIA,CAAAA,IAAAA,EAAK,YAAmB,CAAA,CAAA;AAAA,KAC9C,CAAA,CAAA;AAED,IAAU,SAAA,CAAA,OAAA,CAAQ,CAACA,IACnB,KAAA;AACI,MAAI,IAAA,IAAA,CAAK,MAAO,CAAA,GAAA,CAAIA,IAAG,CAAA,IAAK,KAAK,MAAO,CAAA,GAAA,CAAIA,IAAG,CAAA,KAAM,KACrD,EAAA;AAEI,QAAA,IAAA,CAAK,4BAA4BA,IAAG,CAAA,CAAA;AAAA,OAExC;AAEA,MAAA,IAAA,CAAK,OAAO,GAAIA,CAAAA,IAAAA,EAAK,YAAa,CAAA,GAAA,CAAIA,IAAG,CAAC,CAAA,CAAA;AAAA,KAC7C,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,OAAO,GACd,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,GAAG,CAC3B,EAAA;AAEI,MAAA,IAAA,CAAK,qBAAqB,GAAgC,CAAA,2BAAA,CAAA,CAAA,CAAA;AAG1D,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,GAAG,CAAA,CAAA;AAEvC,IAAA,MAAM,YAAY,QAAS,CAAA,SAAA,CAAA;AAE3B,IAAU,SAAA,CAAA,OAAA,CAAQ,CAACA,IACnB,KAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,OAAOA,IAAG,CAAA,CAAA;AAAA,KACzB,CAAA,CAAA;AAED,IAAS,QAAA,CAAA,IAAA,CAAK,OAAQ,CAAA,CAACA,IACvB,KAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,OAAOA,IAAG,CAAA,CAAA;AAAA,KAC5B,CAAA,CAAA;AAAA,GACL;AAAA;AAAA,EAGA,IAAW,OACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AACJ,CAAA;AAEa,MAAA,KAAA,GAAQ,IAAI,UAAW;;AClK7B,MAAM,OAAO,MACpB;AAEA;;ACYA,MAAM,UAAsC,EAAC,CAAA;AAE7C,UAAW,CAAA,YAAA,CAAa,aAAc,CAAA,aAAA,EAAe,OAAO,CAAA,CAAA;AAE5C,SAAA,gBAAA,CAAiB,OAAqE,GAAA,EACtG,EAAA;AACI,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,QAAQ,CAAC,CAAA,CAAA;AAExB,IAAA,IAAI,MAAO,CAAA,IAAA,CAAK,OAAQ,CAAA,QAAQ,CAChC,EAAA;AACI,MAAO,OAAA,IAAI,OAAO,OAAO,CAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AAEA,EAAA,MAAM,IAAI,KAAA,CAAM,CAA8C,2CAAA,EAAA,OAAA,CAAQ,QAAU,CAAA,CAAA,CAAA,CAAA;AACpF,CAAA;AAEO,SAAS,iBACZ,CAAA,OAAA,GAAqE,EAAC,EACtE,YAAY,KAEhB,EAAA;AACI,EAAM,MAAA,EAAE,UAAa,GAAA,OAAA,CAAA;AAErB,EAAA,IAAI,CAAC,SAAA,IAAa,KAAM,CAAA,GAAA,CAAI,QAAQ,CACpC,EAAA;AACI,IAAO,OAAA,KAAA,CAAM,IAAI,QAAQ,CAAA,CAAA;AAAA,GAC7B;AAEA,EAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,CAAA,EAAE,QAAQ,gBAAiB,CAAA,OAAO,GAAG,CAAA,CAAA;AAEjE,EAAQ,OAAA,CAAA,EAAA,CAAG,WAAW,MACtB;AACI,IAAI,IAAA,KAAA,CAAM,GAAI,CAAA,QAAQ,CACtB,EAAA;AACI,MAAA,KAAA,CAAM,OAAO,QAAQ,CAAA,CAAA;AAAA,KACzB;AAAA,GACH,CAAA,CAAA;AAED,EAAA,IAAI,CAAC,SACL,EAAA;AACI,IAAM,KAAA,CAAA,GAAA,CAAI,UAAU,OAAO,CAAA,CAAA;AAAA,GAC/B;AAEA,EAAO,OAAA,OAAA,CAAA;AACX;;AC9DA,MAAM,QAAA,mBAA0C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC3D,MAAM,MAAA,mBAAwC,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAEzC,SAAA,kBAAA,CAAmB,OAAe,OAClD,EAAA;AACI,EAAI,IAAA,EAAA,GAAK,OAAO,KAAK,CAAA,CAAA;AAErB,EAAA,IAAI,OAAO,KACX,CAAA,EAAA;AACI,IAAI,IAAA,QAAA,CAAS,OAAO,CAAA,KAAM,KAC1B,CAAA,EAAA;AACI,MAAA,QAAA,CAAS,OAAO,CAAI,GAAA,CAAA,CAAA;AAAA,KACxB;AAEA,IAAA,MAAA,CAAO,KAAK,CAAA,GAAI,EAAK,GAAA,QAAA,CAAS,OAAO,CAAA,EAAA,CAAA;AAAA,GACzC;AAEA,EAAO,OAAA,EAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;ACiCO,MAAM,aAAA,GAAN,cAA2BP,aAIlC,CAAA;AAAA,EA2CI,WAAA,CAAY,OAA+B,GAAA,EAC3C,EAAA;AAnGJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAoGQ,IAAM,KAAA,EAAA,CAAA;AA5CV,IAAA,IAAA,CAAO,YAAe,GAAA,gBAAA,CAAA;AACtB,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AAuCjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,cAA0B,GAAA,CAAA,CAAA;AAM7B,IAAU,OAAA,GAAAV,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,cAAa,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAE/C,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,WAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,YAAA,CAAA;AACjD,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,YAAA,CAAA;AACjD,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,YAAA,CAAA;AAEjD,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,SAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,SAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,SAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,YAAA,CAAA;AAEjD,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,WAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,WAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,OAAA,CAAA;AAEvB,IAAK,IAAA,CAAA,aAAA,GAAA,CAAgB,EAAQ,GAAA,OAAA,CAAA,aAAA,KAAR,IAAyB,GAAA,EAAA,GAAA,CAAA,CAAA;AAAA,GAClD;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AACpB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AACpB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAA,WAAA,CAAY,KAAK,uDAAuD,CAAA,CAAA;AACxE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,cAAc,KAClB,EAAA;AACI,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,EAAO,EAAE,CAAA,CAAA;AAExC,IAAI,IAAA,IAAA,CAAK,iBAAiB,CAC1B,EAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,KACrB;AAAA,GACJ;AAAA,EAEA,IAAI,aACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,UACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,WAAe,IAAA,IAAA,CAAK,mBAAoB,EAAA,CAAA;AAAA,GACxD;AAAA,EAEO,MACP,GAAA;AAEI,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AACxB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAAA,GACvB;AAAA,EAEQ,mBACR,GAAA;AAEI,IAAM,MAAA,MAAA,GAAS,GAAG,IAAK,CAAA,YAAA,CAAA,CAAA,EAAgB,KAAK,YAAgB,CAAA,CAAA,EAAA,IAAA,CAAK,gBAAgB,IAAK,CAAA,SAAA,CAAA,CAAA,EAAa,KAAK,SAAa,CAAA,CAAA,EAAA,IAAA,CAAK,gBAAgB,IAAK,CAAA,WAAA,CAAA,CAAA,EAAe,KAAK,WAAe,CAAA,CAAA,EAAA,IAAA,CAAK,WAAW,IAAK,CAAA,cAAA,CAAA,CAAA,CAAA;AAEvM,IAAK,IAAA,CAAA,WAAA,GAAc,kBAAmB,CAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAEvD,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAAA,GAC5B;AACJ,CAAA,CAAA;AAzJO,IAAM,YAAN,GAAA,cAAA;AAAA;AAAM,YAAA,CAUc,cAAsC,GAAA;AAAA,EACzD,WAAa,EAAA,eAAA;AAAA,EACb,SAAW,EAAA,QAAA;AACf,CAAA;;;;;;;;;;;;;;;;;;ACjCG,MAAM,cAAA,GAAN,cAAiEU,aASxE,CAAA;AAAA;AAAA,EAyEI,WAAA,CAA+B,OAAmC,GAAA,EAClE,EAAA;AAlHJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAmHQ,IAAM,KAAA,EAAA,CAAA;AAFqB,IAAA,IAAA,CAAA,OAAA,GAAA,OAAA,CAAA;AA5D/B,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,eAAe,CAAA,CAAA;AAEhC,IAAA,IAAA,CAAO,YAAe,GAAA,eAAA,CAAA;AACtB,IAAO,IAAA,CAAA,UAAA,GAAa,IAAI,iBAAiB,CAAA,CAAA;AAEzC,IAAA,IAAA,CAAO,cAAiB,GAAA,SAAA,CAAA;AAIxB;AAAA;AAAA,IAAA,IAAA,CAAO,WAAc,GAAA,CAAA,CAAA;AACrB,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAO,WAAc,GAAA,CAAA,CAAA;AAErB,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAO,MAAS,GAAA,CAAA,CAAA;AAMhB;AAAA;AAAA,IAAA,IAAA,CAAO,WAAc,GAAA,CAAA,CAAA;AAGrB;AAAA,IAAA,IAAA,CAAO,aAAgB,GAAA,CAAA,CAAA;AACvB;AAAA,IAAA,IAAA,CAAO,mBAAsB,GAAA,KAAA,CAAA;AAE7B,IAAA,IAAA,CAAO,MAA0B,GAAA,iBAAA,CAAA;AACjC,IAAA,IAAA,CAAO,SAAgC,GAAA,IAAA,CAAA;AAMvC;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AACnB,IAAA,IAAA,CAAO,YAAe,GAAA,IAAA,CAAA;AAYtB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AAMjB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA,CAAA;AAKpB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,oBAAuB,GAAA,CAAA,CAAA,CAAA;AAO1B,IAAU,OAAA,GAAAV,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,eAAc,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEhD,IAAA,IAAA,CAAK,WAAW,OAAQ,CAAA,QAAA,CAAA;AAExB,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,UAAA,CAAA;AAE3B,IAAA,IAAI,QAAQ,KACZ,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,GAAa,OAAQ,CAAA,KAAA,GAAQ,IAAK,CAAA,WAAA,CAAA;AAAA,KAG3C,MAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,QAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,UAAlB,IAA2B,GAAA,EAAA,GAAA,CAAA,CAAA;AAAA,KACjD;AAEA,IAAA,IAAI,QAAQ,MACZ,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,GAAc,OAAQ,CAAA,MAAA,GAAS,IAAK,CAAA,WAAA,CAAA;AAAA,KAG7C,MAAA;AACI,MAAA,IAAA,CAAK,WAAc,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,QAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,WAAlB,IAA4B,GAAA,EAAA,GAAA,CAAA,CAAA;AAAA,KACnD;AAEA,IAAK,IAAA,CAAA,KAAA,GAAQ,IAAK,CAAA,UAAA,GAAa,IAAK,CAAA,WAAA,CAAA;AACpC,IAAK,IAAA,CAAA,MAAA,GAAS,IAAK,CAAA,WAAA,GAAc,IAAK,CAAA,WAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,MAAA,CAAA;AACtB,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,UAAA,CAAA;AACzB,IAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,aAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,sBAAsB,OAAQ,CAAA,mBAAA,CAAA;AACnC,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,WAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,SAAA,CAAA;AACzB,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,SAAA,CAAA;AAEzB,IAAA,MAAM,KAAQ,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAR,KAAA,IAAA,GAAA,EAAA,GAAiB,EAAC,CAAA;AAEhC,IAAA,IAAA,CAAK,QAAQ,KAAiB,YAAA,YAAA,GAAe,KAAQ,GAAA,IAAI,aAAa,KAAK,CAAA,CAAA;AAE3E,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AA1KJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA2KQ,IAAA,IAAI,KAAK,KAAU,KAAA,KAAA;AAAO,MAAA,OAAA;AAE1B,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,MAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAa,GAAI,CAAA,QAAA,EAAU,KAAK,cAAgB,EAAA,IAAA,CAAA,CAAA;AAChD,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AACd,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,MAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAa,EAAG,CAAA,QAAA,EAAU,KAAK,cAAgB,EAAA,IAAA,CAAA,CAAA;AAE/C,IAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,GACxB;AAAA,EAEQ,cACR,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,eAAe,IAAI,CAAA,CAAA;AAAA,GACjC;AAAA,EAEO,MACP,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEzB,IAAA,IAAI,KAAK,MACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,OAAQ,EAAA,CAAA;AACpB,MAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,KAClB;AAEA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,MACP,GAAA;AACI,IAAK,IAAA,CAAA,UAAA,EAAA,CAAA;AACL,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AACxB,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAW,aACX,GAAA;AACI,IAAM,MAAA,EAAE,UAAa,GAAA,IAAA,CAAA;AAErB,IAAA,OAAO,SAAS,YAAgB,IAAA,QAAA,CAAS,UAAc,IAAA,QAAA,CAAS,gBAAgB,QAAS,CAAA,KAAA,CAAA;AAAA,GAC7F;AAAA,EAEA,IAAW,cACX,GAAA;AACI,IAAM,MAAA,EAAE,UAAa,GAAA,IAAA,CAAA;AAErB,IAAA,OAAO,SAAS,aAAiB,IAAA,QAAA,CAAS,WAAe,IAAA,QAAA,CAAS,iBAAiB,QAAS,CAAA,MAAA,CAAA;AAAA,GAChG;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,WAAW,UACf,EAAA;AACI,IAAA,IAAI,KAAK,WAAgB,KAAA,UAAA;AAAY,MAAA,OAAA;AAErC,IAAA,IAAA,CAAK,WAAc,GAAA,UAAA,CAAA;AAEnB,IAAK,IAAA,CAAA,KAAA,GAAQ,KAAK,UAAa,GAAA,UAAA,CAAA;AAC/B,IAAK,IAAA,CAAA,MAAA,GAAS,KAAK,WAAc,GAAA,UAAA,CAAA;AAAA,GACrC;AAAA,EAEO,MAAA,CAAO,KAAgB,EAAA,MAAA,EAAiB,UAC/C,EAAA;AACI,IAAA,UAAA,GAAa,cAAc,IAAK,CAAA,WAAA,CAAA;AAChC,IAAA,KAAA,GAAQ,SAAS,IAAK,CAAA,KAAA,CAAA;AACtB,IAAA,MAAA,GAAS,UAAU,IAAK,CAAA,MAAA,CAAA;AAGxB,IAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,KAAM,CAAA,KAAA,GAAQ,UAAU,CAAA,CAAA;AACnD,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,KAAM,CAAA,MAAA,GAAS,UAAU,CAAA,CAAA;AAErD,IAAA,IAAA,CAAK,QAAQ,aAAgB,GAAA,UAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,SAAS,cAAiB,GAAA,UAAA,CAAA;AAE/B,IAAA,IAAA,CAAK,WAAc,GAAA,UAAA,CAAA;AAEnB,IAAA,IAAI,IAAK,CAAA,UAAA,KAAe,aAAiB,IAAA,IAAA,CAAK,gBAAgB,cAC9D,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,aAAA,CAAA;AAClB,IAAA,IAAA,CAAK,WAAc,GAAA,cAAA,CAAA;AAEnB,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAExB,IAAK,IAAA,CAAA,UAAA,EAAA,CAAA;AACL,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGA,IAAI,SAAS,KACb,EAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,mGAAmG,CAAA,CAAA;AACvH,IAAA,IAAA,CAAK,OAAO,QAAW,GAAA,KAAA,CAAA;AAAA,GAC3B;AAAA;AAAA,EAGA,IAAI,QACJ,GAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,mGAAmG,CAAA,CAAA;AAEvH,IAAA,OAAO,KAAK,MAAO,CAAA,QAAA,CAAA;AAAA,GACvB;AAAA;AAAA,EAGA,IAAI,UAAU,KACd,EAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,kGAAkG,CAAA,CAAA;AACtH,IAAA,IAAA,CAAK,OAAO,SAAY,GAAA,KAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGA,IAAI,SACJ,GAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,kGAAkG,CAAA,CAAA;AAEtH,IAAA,OAAO,KAAK,MAAO,CAAA,SAAA,CAAA;AAAA,GACvB;AAAA,EAEA,OAAc,KAAK,SACnB,EAAA;AAEI,IAAM,MAAA,IAAI,MAAM,eAAe,CAAA,CAAA;AAAA,GACnC;AACJ,CAAA,CAAA;AAxRO,IAAM,aAAN,GAAA,eAAA;AAAM,aAAA,CAUK,cAAuC,GAAA;AAAA,EACjD,UAAY,EAAA,CAAA;AAAA,EACZ,MAAQ,EAAA,YAAA;AAAA,EACR,SAAW,EAAA,sBAAA;AAAA,EACX,UAAY,EAAA,IAAA;AAAA,EACZ,aAAe,EAAA,CAAA;AAAA,EACf,mBAAqB,EAAA,KAAA;AAAA,EACrB,WAAa,EAAA,CAAA;AAAA,EACb,SAAW,EAAA,KAAA;AAAA,EACX,OAAO,EAAC;AACZ,CAAA;;ACtCJ,MAAM,KAAK,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,IAAI,CAAI,CAAA,EAAA,CAAA,CAAA,EAAI,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,IAAI,CAAI,CAAA,EAAA,CAAA,CAAA,EAAI,GAAG,CAAC,CAAA,CAAA;AAChE,MAAM,KAAK,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,CAAA,EAAI,CAAI,CAAA,EAAA,CAAA,CAAA,EAAI,GAAG,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,CAAA,EAAI,IAAI,CAAE,CAAA,CAAA,CAAA;AAChE,MAAM,KAAK,CAAC,CAAA,EAAG,CAAI,CAAA,EAAA,CAAA,CAAA,EAAI,IAAI,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,CAAA,EAAI,IAAI,CAAE,CAAA,CAAA,CAAA;AAChE,MAAM,KAAK,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,IAAI,CAAI,CAAA,EAAA,CAAA,CAAA,EAAI,CAAG,EAAA,CAAA,EAAG,IAAI,CAAI,CAAA,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,GAAG,CAAE,CAAA,CAAA,CAAA;AAQhE,MAAM,iBAA6B,EAAC,CAAA;AAOpC,MAAM,mBAA6B,EAAC,CAAA;AAKpC,MAAM,SAAS,IAAK,CAAA,IAAA,CAAA;AAMpB,SAAS,IACT,GAAA;AACI,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AACI,IAAA,MAAM,MAAgB,EAAC,CAAA;AAEvB,IAAA,cAAA,CAAe,KAAK,GAAG,CAAA,CAAA;AAEvB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AAEI,MAAA,MAAM,GAAM,GAAA,MAAA,CAAQ,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAA,GAAM,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAE,CAAA,CAAA;AACpD,MAAA,MAAM,GAAM,GAAA,MAAA,CAAQ,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAA,GAAM,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAE,CAAA,CAAA;AACpD,MAAA,MAAM,GAAM,GAAA,MAAA,CAAQ,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAA,GAAM,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAE,CAAA,CAAA;AACpD,MAAA,MAAM,GAAM,GAAA,MAAA,CAAQ,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAA,GAAM,EAAG,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAC,CAAE,CAAA,CAAA;AAGpD,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AACI,QAAA,IAAI,EAAG,CAAA,CAAC,CAAM,KAAA,GAAA,IAAO,GAAG,CAAC,CAAA,KAAM,GACtB,IAAA,EAAA,CAAG,CAAC,CAAM,KAAA,GAAA,IAAO,EAAG,CAAA,CAAC,MAAM,GACpC,EAAA;AACI,UAAA,GAAA,CAAI,KAAK,CAAC,CAAA,CAAA;AACV,UAAA,MAAA;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AACI,IAAM,MAAA,GAAA,GAAM,IAAI,MAAO,EAAA,CAAA;AAEvB,IAAA,GAAA,CAAI,GAAI,CAAA,EAAA,CAAG,CAAC,CAAA,EAAG,GAAG,CAAC,CAAA,EAAG,EAAG,CAAA,CAAC,CAAG,EAAA,EAAA,CAAG,CAAC,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACxC,IAAA,gBAAA,CAAiB,KAAK,GAAG,CAAA,CAAA;AAAA,GAC7B;AACJ,CAAA;AAEA,IAAK,EAAA,CAAA;AA+BE,MAAM,OAAU,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQnB,CAAG,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASH,EAAI,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASJ,CAAG,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASH,EAAI,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASJ,CAAG,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASH,EAAI,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASJ,CAAG,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASH,EAAI,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOJ,eAAiB,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOjB,aAAe,EAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOf,iBAAmB,EAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOnB,gBAAkB,EAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQlB,EAAI,EAAA,CAAC,GAAkC,KAAA,EAAA,CAAG,GAAG,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ7C,EAAI,EAAA,CAAC,GAAkC,KAAA,EAAA,CAAG,GAAG,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ7C,EAAI,EAAA,CAAC,GAAkC,KAAA,EAAA,CAAG,GAAG,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ7C,EAAI,EAAA,CAAC,GAAkC,KAAA,EAAA,CAAG,GAAG,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAS7C,GAAA,EAAK,CAAC,QACN,KAAA;AACI,IAAA,IAAI,WAAW,CACf,EAAA;AACI,MAAA,OAAO,QAAW,GAAA,EAAA,CAAA;AAAA,KACtB;AAEA,IAAA,OAAQ,CAAC,QAAY,GAAA,CAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0BA,KAAK,CAAC,cAAA,EAA6B,kBAC/B,cAAe,CAAA,cAAc,EAAE,aAAa,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUhD,GAAA,EAAK,CAAC,cAAA,EAA6B,aAC/B,KAAA,cAAA,CAAe,cAAc,CAAE,CAAA,OAAA,CAAQ,GAAI,CAAA,aAAa,CAAC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAU7D,SAAA,EAAW,CAAC,QAAA,KAA6B,QAAW,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASpD,UAAY,EAAA,CAAC,QAAoC,KAAA,CAAA,QAAA,GAAW,CAAO,MAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnE,WAAA,EAAa,CAAC,EAAA,EAAY,EAC1B,KAAA;AACI,IAAI,IAAA,IAAA,CAAK,IAAI,EAAE,CAAA,GAAI,KAAK,IAAK,CAAA,GAAA,CAAI,EAAE,CACnC,EAAA;AACI,MAAA,IAAI,MAAM,CACV,EAAA;AACI,QAAA,OAAO,OAAQ,CAAA,CAAA,CAAA;AAAA,OACnB;AAEA,MAAA,OAAO,OAAQ,CAAA,CAAA,CAAA;AAAA,KACnB,MAAA,IACS,KAAK,GAAI,CAAA,EAAE,IAAI,CAAK,IAAA,IAAA,CAAK,GAAI,CAAA,EAAE,CACxC,EAAA;AACI,MAAA,IAAI,KAAK,CACT,EAAA;AACI,QAAA,OAAO,OAAQ,CAAA,CAAA,CAAA;AAAA,OACnB;AAEA,MAAA,OAAO,OAAQ,CAAA,CAAA,CAAA;AAAA,KACnB,MAAA,IACS,KAAK,CACd,EAAA;AACI,MAAA,IAAI,KAAK,CACT,EAAA;AACI,QAAA,OAAO,OAAQ,CAAA,EAAA,CAAA;AAAA,OACnB;AAEA,MAAA,OAAO,OAAQ,CAAA,EAAA,CAAA;AAAA,KACnB,MAAA,IACS,KAAK,CACd,EAAA;AACI,MAAA,OAAO,OAAQ,CAAA,EAAA,CAAA;AAAA,KACnB;AAEA,IAAA,OAAO,OAAQ,CAAA,EAAA,CAAA;AAAA,GACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,yBAAyB,CAAC,MAAA,EAAgB,UAAuB,EAAK,GAAA,CAAA,EAAG,KAAK,CAC9E,KAAA;AAEI,IAAA,MAAM,GAAc,GAAA,gBAAA,CAAiB,OAAQ,CAAA,GAAA,CAAI,QAAQ,CAAC,CAAA,CAAA;AAE1D,IAAA,GAAA,CAAI,EAAK,GAAA,EAAA,CAAA;AACT,IAAA,GAAA,CAAI,EAAK,GAAA,EAAA,CAAA;AACT,IAAA,MAAA,CAAO,OAAO,GAAG,CAAA,CAAA;AAAA,GACrB;AACJ;;ACvVO,MAAM,sBAAsBU,aAInC,CAAA;AAAA,EAWI,WAAA,CAAY,OAAgC,GAAA,EAC5C,EAAA;AAtDJ,IAAA,IAAA,EAAA,CAAA;AAuDQ,IAAM,KAAA,EAAA,CAAA;AARV,IAAA,IAAA,CAAO,MAAW,EAAE,EAAA,EAAI,CAAG,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAG,EAAI,EAAA,CAAA,EAAG,IAAI,CAAG,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAG,IAAI,CAAE,EAAA,CAAA;AAUvE,IAAK,IAAA,CAAA,KAAA,GAAQ,QAAQ,KAAS,IAAA,IAAI,UAAU,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACtD,IAAK,IAAA,CAAA,IAAA,GAAO,OAAQ,CAAA,IAAA,IAAQ,IAAK,CAAA,KAAA,CAAA;AAEjC,IAAK,IAAA,CAAA,MAAA,GAAA,CAAS,EAAQ,GAAA,OAAA,CAAA,MAAA,KAAR,IAAkB,GAAA,EAAA,GAAA,CAAA,CAAA;AAGhC,IAAA,IAAA,CAAK,OAAO,OAAQ,CAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,aAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,iBAAiB,OAAQ,CAAA,cAAA,CAAA;AAE9B,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AAAA,GACnB;AAAA,EAEO,SACP,GAAA;AACI,IAAA,MAAM,MAAM,IAAK,CAAA,GAAA,CAAA;AACjB,IAAA,MAAM,QAAQ,IAAK,CAAA,KAAA,CAAA;AACnB,IAAA,IAAI,SAAS,IAAK,CAAA,MAAA,CAAA;AAElB,IAAA,IAAI,MACJ,EAAA;AAEI,MAAM,MAAA,EAAA,GAAK,MAAM,KAAQ,GAAA,CAAA,CAAA;AACzB,MAAM,MAAA,EAAA,GAAK,MAAM,MAAS,GAAA,CAAA,CAAA;AAG1B,MAAM,MAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AACrB,MAAM,MAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AAErB,MAAA,MAAA,GAAS,OAAQ,CAAA,GAAA,CAAI,MAAQ,EAAA,OAAA,CAAQ,EAAE,CAAA,CAAA;AACvC,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACrC,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAErC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACrC,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAErC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACrC,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAErC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACrC,MAAA,GAAA,CAAI,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAAA,KAIzC,MAAA;AACI,MAAA,GAAA,CAAI,KAAK,KAAM,CAAA,CAAA,CAAA;AACf,MAAA,GAAA,CAAI,KAAK,KAAM,CAAA,CAAA,CAAA;AACf,MAAI,GAAA,CAAA,EAAA,GAAK,KAAM,CAAA,CAAA,GAAI,KAAM,CAAA,KAAA,CAAA;AACzB,MAAA,GAAA,CAAI,KAAK,KAAM,CAAA,CAAA,CAAA;AACf,MAAI,GAAA,CAAA,EAAA,GAAK,KAAM,CAAA,CAAA,GAAI,KAAM,CAAA,KAAA,CAAA;AACzB,MAAI,GAAA,CAAA,EAAA,GAAK,KAAM,CAAA,CAAA,GAAI,KAAM,CAAA,MAAA,CAAA;AACzB,MAAA,GAAA,CAAI,KAAK,KAAM,CAAA,CAAA,CAAA;AACf,MAAI,GAAA,CAAA,EAAA,GAAK,KAAM,CAAA,CAAA,GAAI,KAAM,CAAA,MAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AAAA,EAEO,MACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AACf,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AACxB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAA;AAAA,GACf;AACJ;;ACjIA,MAAM,OAAA,GAAU,IAAI,MAAO,EAAA,CAAA;AAgBpB,MAAM,aACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwDI,WAAA,CAAY,SAAkB,WAC9B,EAAA;AACI,IAAK,IAAA,CAAA,QAAA,GAAW,IAAI,MAAO,EAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,WAAA,GAAc,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AACrC,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,WAAe,GAAA,OAAO,WAAgB,KAAA,WAAA,GAAe,GAAM,GAAA,WAAA,CAAA;AAChE,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AAAA,GACnB;AAAA;AAAA,EAGA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AAnGJ,IAAA,IAAA,EAAA,CAAA;AAoGQ,IAAA,IAAI,KAAK,OAAY,KAAA,KAAA;AAAO,MAAA,OAAA;AAE5B,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,QAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,cAAe,CAAA,QAAA,EAAU,KAAK,MAAQ,EAAA,IAAA,CAAA,CAAA;AACrD,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAA,IAAA,CAAK,QAAS,CAAA,WAAA,CAAY,QAAU,EAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAErD,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,WAAA,CAAY,KAAmB,GACtC,EAAA;AACI,IAAA,IAAI,QAAQ,KACZ,CAAA,EAAA;AACI,MAAM,GAAA,GAAA,GAAA,CAAA;AAAA,KACV;AAEA,IAAA,MAAM,MAAM,IAAK,CAAA,QAAA,CAAA;AAEjB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,GAAI,CAAA,MAAA,EAAQ,KAAK,CACrC,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,IAAI,CAAC,CAAA,CAAA;AACf,MAAM,MAAA,CAAA,GAAI,GAAI,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEnB,MAAI,GAAA,CAAA,CAAC,IAAK,CAAI,GAAA,GAAA,CAAI,IAAM,CAAI,GAAA,GAAA,CAAI,IAAK,GAAI,CAAA,EAAA,CAAA;AACzC,MAAI,GAAA,CAAA,CAAA,GAAI,CAAC,CAAK,GAAA,CAAA,GAAI,IAAI,CAAM,GAAA,CAAA,GAAI,GAAI,CAAA,CAAA,GAAK,GAAI,CAAA,EAAA,CAAA;AAAA,KACjD;AAEA,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA,EAEO,MACP,GAAA;AACI,IAAA,MAAM,MAAM,IAAK,CAAA,QAAA,CAAA;AAEjB,IAAK,IAAA,CAAA,SAAA,EAAA,CAAA;AAEL,IAAM,MAAA,GAAA,GAAM,IAAI,MAAO,CAAA,GAAA,CAAA;AAEvB,IAAK,IAAA,CAAA,QAAA,CAAS,IAAI,GAAI,CAAA,EAAA,GAAK,IAAI,EAAI,EAAA,GAAA,CAAI,KAAK,GAAI,CAAA,EAAA,EAAI,IAAI,EAAK,GAAA,GAAA,CAAI,IAAI,GAAI,CAAA,EAAA,GAAK,IAAI,EAAI,EAAA,GAAA,CAAI,EAAI,EAAA,GAAA,CAAI,EAAE,CAAA,CAAA;AAEpG,IAAM,MAAA,IAAA,GAAO,IAAI,MAAO,CAAA,IAAA,CAAA;AACxB,IAAM,MAAA,IAAA,GAAO,IAAI,MAAO,CAAA,IAAA,CAAA;AAExB,IAAA,IAAI,IACJ,EAAA;AACI,MAAQ,OAAA,CAAA,GAAA;AAAA,QACJ,IAAA,CAAK,QAAQ,IAAK,CAAA,KAAA;AAAA,QAClB,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,IAAA,CAAK,SAAS,IAAK,CAAA,MAAA;AAAA,QACzB,CAAC,IAAK,CAAA,CAAA,GAAI,IAAK,CAAA,KAAA;AAAA,QACf,CAAC,IAAK,CAAA,CAAA,GAAI,IAAK,CAAA,MAAA;AAAA,OACnB,CAAA;AAEA,MAAK,IAAA,CAAA,QAAA,CAAS,OAAO,OAAO,CAAA,CAAA;AAAA,KAChC;AAEA,IAAA,MAAM,UAAU,GAAI,CAAA,MAAA,CAAA;AACpB,IAAA,MAAM,QAAQ,IAAK,CAAA,WAAA,CAAA;AACnB,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,WAAA,GAAc,OAAQ,CAAA,WAAA,CAAA;AAC1C,IAAA,MAAM,SAAS,IAAK,CAAA,WAAA,CAAA;AAEpB,IAAA,KAAA,CAAM,CAAC,CAAK,GAAA,CAAA,GAAA,CAAI,MAAS,GAAA,MAAA,GAAS,UAAU,OAAQ,CAAA,KAAA,CAAA;AACpD,IAAA,KAAA,CAAM,CAAC,CAAK,GAAA,CAAA,GAAA,CAAI,MAAS,GAAA,MAAA,GAAS,UAAU,OAAQ,CAAA,MAAA,CAAA;AACpD,IAAM,KAAA,CAAA,CAAC,KAAK,GAAI,CAAA,MAAA,GAAS,IAAI,UAAa,GAAA,MAAA,GAAS,UAAU,OAAQ,CAAA,KAAA,CAAA;AACrE,IAAM,KAAA,CAAA,CAAC,KAAK,GAAI,CAAA,MAAA,GAAS,IAAI,WAAc,GAAA,MAAA,GAAS,UAAU,OAAQ,CAAA,MAAA,CAAA;AACtE,IAAA,IAAA,CAAK,YAAa,CAAA,CAAC,CAAI,GAAA,MAAA,GAAS,OAAQ,CAAA,UAAA,CAAA;AACxC,IAAA,IAAA,CAAK,YAAa,CAAA,CAAC,CAAI,GAAA,MAAA,GAAS,OAAQ,CAAA,WAAA,CAAA;AAExC,IAAK,IAAA,CAAA,QAAA,GAAW,GAAI,CAAA,UAAA,KAAe,OAAQ,CAAA,KAAA,IACpC,GAAI,CAAA,WAAA,KAAgB,OAAQ,CAAA,MAAA,IAC5B,GAAI,CAAA,MAAA,CAAO,MAAW,KAAA,CAAA,CAAA;AAE7B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;ACvJO,MAAM,gBAAgBA,aAI7B,CAAA;AAAA,EAkCI,WAAA,CAAY,EAAE,MAAQ,EAAA,MAAA,EAAQ,OAAO,KAAM,EAAA,GAAoB,EAC/D,EAAA;AAnEJ,IAAA,IAAA,EAAA,CAAA;AAoEQ,IAAM,KAAA,EAAA,CAAA;AAnBV,IAAO,IAAA,CAAA,EAAA,GAAK,IAAI,SAAS,CAAA,CAAA;AACzB,IAAA,IAAA,CAAO,cAAiB,GAAA,CAAA,CAAA;AAoBpB,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,MAAR,KAAA,IAAA,GAAA,EAAA,GAAkB,IAAI,aAAc,EAAA,CAAA;AAElD,IAAA,MAAA,GAAS,MAAkB,YAAA,aAAA,GAAgB,MAAS,GAAA,IAAI,cAAc,MAAM,CAAA,CAAA;AAE5E,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,MAAM,EAAE,KAAA,EAAO,MAAO,EAAA,GAAI,IAAK,CAAA,OAAA,CAAA;AAE/B,MAAO,MAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAA;AAC3B,MAAO,MAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,CAAI,GAAA,MAAA,CAAA;AAE3B,MAAO,MAAA,CAAA,KAAA,CAAM,KAAQ,GAAA,KAAA,CAAM,KAAQ,GAAA,KAAA,CAAA;AACnC,MAAO,MAAA,CAAA,KAAA,CAAM,MAAS,GAAA,KAAA,CAAM,MAAS,GAAA,MAAA,CAAA;AAErC,MAAC,OAAyB,SAAU,EAAA,CAAA;AAAA,KACxC;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAEd,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAAA,GACrB;AAAA,EA1DA,OAAc,IAAA,CAAK,EAAyE,EAAA,SAAA,GAAY,KACxG,EAAA;AACI,IAAI,IAAA,OAAO,OAAO,QAClB,EAAA;AACI,MAAO,OAAA,KAAA,CAAM,IAAI,EAAE,CAAA,CAAA;AAAA,KACvB,MAAA,IACS,cAAc,aACvB,EAAA;AACI,MAAA,OAAO,IAAI,OAAA,CAAQ,EAAE,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,KACrC;AAGA,IAAO,OAAA,iBAAA,CAAkB,IAAI,SAAS,CAAA,CAAA;AAAA,GAC1C;AAAA,EA+CA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAQ,CAAA,GAAA,CAAI,QAAU,EAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,KAClD;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AAEf,IAAA,KAAA,CAAM,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AAtHJ,IAAA,IAAA,EAAA,CAAA;AAuHQ,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,OAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,GAAI,CAAA,QAAA,EAAU,KAAK,QAAU,EAAA,IAAA,CAAA,CAAA;AAE3C,IAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AAEf,IAAA,KAAA,CAAM,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,aACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,cACV,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,GAAiB,IAAI,aAAA,CAAc,IAAI,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,CAAM,KAAQ,GAAA,KAAA,GAAQ,KAAK,OAAQ,CAAA,KAAA,CAAA;AAAA,GACpD;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,QAAQ,UAAa,GAAA,IAAA,CAAK,QAAQ,WAAe,GAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,KAAA,CAAA;AAAA,GACrF;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,CAAM,MAAS,GAAA,KAAA,GAAQ,KAAK,OAAQ,CAAA,MAAA,CAAA;AAAA,GACrD;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,QAAQ,WAAc,GAAA,IAAA,CAAK,QAAQ,WAAe,GAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,MAAA,CAAA;AAAA,GACtF;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,MAAM,CAAI,GAAA,CAAA,CAAA;AAEvB,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,CAAM,CAAK,GAAA,IAAA,CAAK,QAAQ,KAAS,GAAA,KAAA,CAAA;AAAA,GAClD;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAQ,IAAK,CAAA,OAAA,CAAQ,KAAS,GAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,CAAA,CAAA;AAAA,GACrD;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,MAAM,CAAI,GAAA,CAAA,CAAA;AAEvB,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,CAAM,CAAK,GAAA,IAAA,CAAK,QAAQ,MAAU,GAAA,KAAA,CAAA;AAAA,GACnD;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAQ,IAAK,CAAA,OAAA,CAAQ,MAAU,GAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,CAAA,CAAA;AAAA,GACtD;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAA,OAAQ,IAAK,CAAA,OAAA,CAAQ,KAAS,GAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,KAAA,CAAA;AAAA,GACpD;AAAA;AAAA,EAGA,IAAI,MACJ,GAAA;AACI,IAAA,OAAQ,IAAK,CAAA,OAAA,CAAQ,MAAU,GAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,MAAA,CAAA;AAAA,GACrD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,OAAA,CAAQ,gBAAgB,KAC/B,EAAA;AACI,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAQ,OAAQ,EAAA,CAAA;AACrB,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,KACnB;AAEA,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAI,aACJ,EAAA;AACI,QAAA,IAAA,CAAK,QAAQ,OAAQ,EAAA,CAAA;AACrB,QAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,OACnB;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA,EAKU,QACV,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGA,IAAI,WACJ,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,2CAA2C,CAAA,CAAA;AAE/D,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAIJ,CAAA;AAEA,OAAA,CAAQ,KAAQ,GAAA,IAAI,OAAQ,CAAA,EAE3B,CAAA,CAAA;AAED,OAAA,CAAQ,MAAM,KAAQ,GAAA,OAAA,CAAA;AACtB,OAAA,CAAQ,MAAM,OAAU,GAAA,IAAA;;ACpLjB,MAAe,2BACVA,aAEZ,CAAA;AAAA,EAHO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AAKH;AAAA,IAAgB,IAAA,CAAA,KAAA,mBAAyC,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAGpE;AAAA,IAAA,IAAA,CAAgB,UAA2C,GAAA,CAAA,CAAA;AAG3D;AAAA,IAAA,IAAA,CAAgB,UAA2C,GAAA,EAAA,CAAA;AAC3D,IAAA,IAAA,CAAgB,cAA2B,EAAE,QAAA,EAAU,GAAG,MAAQ,EAAA,CAAA,EAAG,SAAS,CAAE,EAAA,CAAA;AAChF,IAAA,IAAA,CAAgB,cAAmD,GAAA,CAAA,CAAA;AAEnE;AAAA,IAAA,IAAA,CAAgB,aAAiD,GAAA,EAAE,IAAM,EAAA,MAAA,EAAQ,OAAO,CAAE,EAAA,CAAA;AAE1F;AAAA,IAAA,IAAA,CAAgB,QAAgC,EAAC,CAAA;AAEjD,IAAA,IAAA,CAAgB,uBAAkC,GAAA,GAAA,CAAA;AAClD,IAAA,IAAA,CAAU,oBAAuB,GAAA,GAAA,CAAA;AAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMjC,IAAW,IACX,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,0EAA0E,CAAA,CAAA;AAE9F,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAW,YACX,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,6EAA6E,CAAA,CAAA;AAEjG,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,IACX,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,oFAAoF,CAAA,CAAA;AAExG,IAAA,OAAO,KAAK,WAAY,CAAA,QAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,kBACX,GAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,iGAAiG,CAAA,CAAA;AAErH,IAAA,OAAO,KAAK,aAAc,CAAA,KAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,iBACX,GAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,+FAA+F,CAAA,CAAA;AAEnH,IAAA,OAAO,KAAK,aAAc,CAAA,IAAA,CAAA;AAAA,GAC9B;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAA2B,CAAA,CAAA;AAEhD,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,KACrB,EAAA;AACI,MAAA,IAAA,CAAK,KAAM,CAAA,CAAC,CAAE,CAAA,OAAA,CAAQ,OAAQ,EAAA,CAAA;AAAA,KAClC;AAEA,IAAC,KAAqC,KAAQ,GAAA,IAAA,CAAA;AAAA,GAClD;AACJ;;ACtJO,MAAM,mBAAmB,kBAChC,CAAA;AAAA,EACI,YAAY,OACZ,EAAA;AAlBJ,IAAA,IAAA,EAAA,CAAA;AAmBQ,IAAM,KAAA,EAAA,CAAA;AAEN,IAAM,MAAA,EAAE,QAAU,EAAA,IAAA,EAAS,GAAA,OAAA,CAAA;AAE3B,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,KAAK,CAAE,CAAA,OAAA,CAAQ,CAAC,GACjC,KAAA;AACI,MAAA,MAAM,WAAW,IAAK,CAAA,KAAA,CAAM,QAAS,CAAA,GAAA,EAAK,EAAE,CAAC,CAAA,CAAA;AAE7C,MAAM,MAAA,OAAA,GAAU,QAAS,CAAA,QAAA,CAAS,EAAE,CAAA,CAAA;AAEpC,MAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,EAAE,OAAA,EAAS,CAAA,CAAA;AAAA,KAC9B,CAAA,CAAA;AAED,IAAA,MAAA,CAAO,KAAK,IAAK,CAAA,KAAK,CAAE,CAAA,OAAA,CAAQ,CAAC,GACjC,KAAA;AAjCR,MAAAQ,IAAAA,GAAAA,CAAAA;AAkCY,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAC/B,MAAA,MAAM,aAAgB,GAAA,QAAA,CAAS,QAAS,CAAA,IAAI,CAAE,CAAA,MAAA,CAAA;AAE9C,MAAA,MAAM,QAAQ,IAAI,SAAA;AAAA,QACb,QAAA,CAAS,IAAK,aAAc,CAAA,KAAA;AAAA,QAC5B,QAAA,CAAS,IAAK,aAAc,CAAA,MAAA;AAAA,QAC5B,QAAA,CAAS,QAAS,aAAc,CAAA,KAAA;AAAA,QAChC,QAAA,CAAS,SAAU,aAAc,CAAA,MAAA;AAAA,OACtC,CAAA;AAEA,MAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,QACxB,MAAQ,EAAA,aAAA;AAAA,QACR,MAAQ,EAAA;AAAA,UACJ,KAAA;AAAA,SACJ;AAAA,OACH,CAAA,CAAA;AAED,MAAK,IAAA,CAAA,KAAA,CAAM,GAAG,CAAI,GAAA;AAAA,QACd,EAAA,EAAI,GAAI,CAAA,WAAA,CAAY,CAAC,CAAA;AAAA,QACrB,SAAS,QAAS,CAAA,OAAA;AAAA,QAClB,SAAS,QAAS,CAAA,OAAA;AAAA,QAClB,UAAU,QAAS,CAAA,QAAA;AAAA,QACnB,UAASA,GAAA,GAAA,QAAA,CAAS,OAAT,KAAA,IAAA,GAAAA,MAAoB,EAAC;AAAA,QAC9B,OAAA;AAAA,OACJ,CAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,uBAAuB,IAAK,CAAA,QAAA,CAAA;AAEjC,IAAA,MAAM,QAAW,GAAA,IAAA,CAAA;AAEjB,IAAA,QAAA,CAAS,0BAA0B,IAAK,CAAA,QAAA,CAAA;AACxC,IAAA,QAAA,CAAS,WAAc,GAAA;AAAA,MACnB,MAAQ,EAAA,CAAA;AAAA,MACR,OAAS,EAAA,CAAA;AAAA,MACT,UAAU,IAAK,CAAA,QAAA;AAAA,KACnB,CAAA;AACA,IAAA,QAAA,CAAS,iBAAiB,IAAK,CAAA,cAAA,CAAA;AAC/B,IAAA,QAAA,CAAS,aAAa,IAAK,CAAA,UAAA,CAAA;AAC3B,IAAA,QAAA,CAAS,aAAa,IAAK,CAAA,UAAA,CAAA;AAC3B,IAAS,QAAA,CAAA,aAAA,GAAA,CAAgB,EAAK,GAAA,IAAA,CAAA,aAAA,KAAL,IAAsB,GAAA,EAAA,GAAA;AAAA,MAC3C,IAAM,EAAA,MAAA;AAAA,MACN,KAAO,EAAA,CAAA;AAAA,KACX,CAAA;AAAA,GACJ;AAAA,EAEgB,OAChB,GAAA;AACI,IAAA,KAAA,CAAM,OAAQ,EAAA,CAAA;AAEd,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,KAAA,CAAM,QAAQ,CACvC,EAAA,EAAA;AACI,MAAA,MAAM,EAAE,OAAA,EAAY,GAAA,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA;AAEhC,MAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AAAA,KACxB;AAEA,IAAC,KAA6B,KAAQ,GAAA,IAAA,CAAA;AAAA,GAC1C;AACJ;;AC9CO,MAAM,UAAa,GAAA;AAAA,EACtB,KAAK,IACL,EAAA;AACI,IAAA,OAAO,OAAO,IAAA,KAAS,QAAY,IAAA,IAAA,CAAK,WAAW,YAAY,CAAA,CAAA;AAAA,GACnE;AAAA,EAEA,MAAM,GACN,EAAA;AAtDJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAwDQ,IAAM,MAAA,KAAA,GAAQ,GAAI,CAAA,KAAA,CAAM,iBAAiB,CAAA,CAAA;AACzC,IAAA,MAAM,OAA6B,GAAA;AAAA,MAC/B,MAAM,EAAC;AAAA,MACP,QAAQ,EAAC;AAAA,MACT,MAAM,EAAC;AAAA,MACP,MAAM,EAAC;AAAA,MACP,OAAO,EAAC;AAAA,MACR,SAAS,EAAC;AAAA,MACV,UAAU,EAAC;AAAA,MACX,eAAe,EAAC;AAAA,KACpB,CAAA;AAEA,IAAA,KAAA,MAAW,KAAK,KAChB,EAAA;AAEI,MAAA,MAAM,OAAO,KAAM,CAAA,CAAC,EAAE,KAAM,CAAA,WAAW,EAAE,CAAC,CAAA,CAAA;AAG1C,MAAA,MAAM,aAAgB,GAAA,KAAA,CAAM,CAAC,CAAA,CAAE,MAAM,kCAAkC,CAAA,CAAA;AAGvE,MAAA,MAAM,WAAgB,EAAC,CAAA;AAEvB,MAAA,KAAA,MAAWC,MAAK,aAChB,EAAA;AAEI,QAAA,MAAM,KAAQ,GAAA,aAAA,CAAcA,EAAC,CAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AACxC,QAAM,MAAA,GAAA,GAAM,MAAM,CAAC,CAAA,CAAA;AAGnB,QAAA,MAAM,WAAW,KAAM,CAAA,CAAC,CAAE,CAAA,OAAA,CAAQ,OAAO,EAAE,CAAA,CAAA;AAG3C,QAAM,MAAA,UAAA,GAAa,WAAW,QAAQ,CAAA,CAAA;AAGtC,QAAA,MAAM,KAAQ,GAAA,KAAA,CAAM,UAAU,CAAA,GAAI,QAAW,GAAA,UAAA,CAAA;AAE7C,QAAA,QAAA,CAAS,GAAG,CAAI,GAAA,KAAA,CAAA;AAAA,OACpB;AAGA,MAAQ,OAAA,CAAA,IAAI,CAAE,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,MAAM,IAAuB,GAAA;AAAA,MACzB,OAAO,EAAC;AAAA,MACR,OAAO,EAAC;AAAA,MACR,UAAY,EAAA,CAAA;AAAA,MACZ,QAAU,EAAA,CAAA;AAAA,MACV,UAAY,EAAA,EAAA;AAAA,MACZ,aAAe,EAAA,IAAA;AAAA,MACf,cAAgB,EAAA,CAAA;AAAA,KACpB,CAAA;AAEA,IAAM,MAAA,CAAC,IAAI,CAAA,GAAI,OAAQ,CAAA,IAAA,CAAA;AACvB,IAAM,MAAA,CAAC,MAAM,CAAA,GAAI,OAAQ,CAAA,MAAA,CAAA;AACzB,IAAA,MAAM,CAAC,aAAa,CAAA,GAAA,CAAI,EAAQ,GAAA,OAAA,CAAA,aAAA,KAAR,YAAyB,EAAC,CAAA;AAElD,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA;AAAA,QACjB,KAAO,EAAA,QAAA,CAAS,aAAc,CAAA,aAAA,EAAe,EAAE,CAAA;AAAA,QAC/C,MAAM,aAAc,CAAA,SAAA;AAAA,OACxB,CAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAS,IAAK,CAAA,IAAA,EAAM,EAAE,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,UAAa,GAAA,QAAA,CAAS,MAAO,CAAA,UAAA,EAAY,EAAE,CAAA,CAAA;AAEhD,IAAA,MAAM,OAAO,OAAQ,CAAA,IAAA,CAAA;AAErB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,MAAM,IAAK,CAAA;AAAA,QACZ,IAAI,QAAS,CAAA,IAAA,CAAK,CAAC,CAAE,CAAA,EAAA,EAAI,EAAE,CAAK,IAAA,CAAA;AAAA,QAChC,IAAA,EAAM,IAAK,CAAA,CAAC,CAAE,CAAA,IAAA;AAAA,OACjB,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,MAAM,MAA8B,EAAC,CAAA;AAErC,IAAA,IAAA,CAAK,iBAAiB,IAAK,CAAA,UAAA,GAAa,QAAS,CAAA,MAAA,CAAO,MAAM,EAAE,CAAA,CAAA;AAEhE,IAAA,MAAM,OAAO,OAAQ,CAAA,IAAA,CAAA;AAErB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,KAAK,CAAC,CAAA,CAAA;AACvB,MAAA,MAAM,EAAK,GAAA,QAAA,CAAS,QAAS,CAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAEnC,MAAA,IAAI,MAAS,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,MAAT,KAAA,IAAA,GAAA,EAAA,GAAmB,QAAS,CAAA,IAAA,CAAA;AAEzC,MAAA,IAAI,MAAW,KAAA,OAAA;AAAQ,QAAS,MAAA,GAAA,GAAA,CAAA;AAEhC,MAAA,GAAA,CAAI,EAAE,CAAI,GAAA,MAAA,CAAA;AAEV,MAAK,IAAA,CAAA,KAAA,CAAM,MAAM,CAAI,GAAA;AAAA,QACjB,EAAA;AAAA;AAAA,QAEA,IAAM,EAAA,QAAA,CAAS,QAAS,CAAA,IAAA,EAAM,EAAE,CAAK,IAAA,CAAA;AAAA,QACrC,CAAG,EAAA,QAAA,CAAS,QAAS,CAAA,CAAA,EAAG,EAAE,CAAA;AAAA,QAC1B,CAAG,EAAA,QAAA,CAAS,QAAS,CAAA,CAAA,EAAG,EAAE,CAAA;AAAA,QAC1B,KAAO,EAAA,QAAA,CAAS,QAAS,CAAA,KAAA,EAAO,EAAE,CAAA;AAAA,QAClC,MAAQ,EAAA,QAAA,CAAS,QAAS,CAAA,MAAA,EAAQ,EAAE,CAAA;AAAA,QACpC,OAAS,EAAA,QAAA,CAAS,QAAS,CAAA,OAAA,EAAS,EAAE,CAAA;AAAA,QACtC,OAAS,EAAA,QAAA,CAAS,QAAS,CAAA,OAAA,EAAS,EAAE,CAAA;AAAA,QACtC,QAAU,EAAA,QAAA,CAAS,QAAS,CAAA,QAAA,EAAU,EAAE,CAAA;AAAA,QACxC,SAAS,EAAC;AAAA,OACd,CAAA;AAAA,KACJ;AAEA,IAAM,MAAA,OAAA,GAAU,OAAQ,CAAA,OAAA,IAAW,EAAC,CAAA;AAEpC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAA,MAAM,QAAQ,QAAS,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,OAAO,EAAE,CAAA,CAAA;AAC3C,MAAA,MAAM,SAAS,QAAS,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,QAAQ,EAAE,CAAA,CAAA;AAC7C,MAAA,MAAM,SAAS,QAAS,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,QAAQ,EAAE,CAAA,CAAA;AAE7C,MAAK,IAAA,CAAA,KAAA,CAAM,IAAI,MAAM,CAAC,EAAE,OAAQ,CAAA,GAAA,CAAI,KAAK,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,KAClD;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;ACpLO,MAAM,SAAY,GAAA;AAAA,EACrB,KAAK,IACL,EAAA;AACI,IAAA,MAAM,GAAM,GAAA,IAAA,CAAA;AAEZ,IAAA,OAAO,OAAO,GAAQ,KAAA,QAAA,IACf,0BAA0B,GAC1B,IAAA,GAAA,CAAI,qBAAqB,MAAM,CAAA,CAAE,MACjC,IAAA,GAAA,CAAI,qBAAqB,MAAM,CAAA,CAAE,CAAC,CAAE,CAAA,YAAA,CAAa,MAAM,CAAM,KAAA,IAAA,CAAA;AAAA,GACxE;AAAA,EAEA,MAAM,GACN,EAAA;AAdJ,IAAA,IAAA,EAAA,CAAA;AAeQ,IAAA,MAAM,IAAuB,GAAA;AAAA,MACzB,OAAO,EAAC;AAAA,MACR,OAAO,EAAC;AAAA,MACR,UAAY,EAAA,CAAA;AAAA,MACZ,QAAU,EAAA,CAAA;AAAA,MACV,UAAY,EAAA,EAAA;AAAA,MACZ,aAAe,EAAA,IAAA;AAAA,MACf,cAAgB,EAAA,CAAA;AAAA,KACpB,CAAA;AAEA,IAAA,MAAM,IAAO,GAAA,GAAA,CAAI,oBAAqB,CAAA,MAAM,EAAE,CAAC,CAAA,CAAA;AAC/C,IAAA,MAAM,MAAS,GAAA,GAAA,CAAI,oBAAqB,CAAA,QAAQ,EAAE,CAAC,CAAA,CAAA;AACnD,IAAA,MAAM,aAAgB,GAAA,GAAA,CAAI,oBAAqB,CAAA,eAAe,EAAE,CAAC,CAAA,CAAA;AAEjE,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA;AAAA,QACjB,IAAA,EAAM,aAAc,CAAA,YAAA,CAAa,WAAW,CAAA;AAAA,QAC5C,OAAO,QAAS,CAAA,aAAA,CAAc,YAAa,CAAA,eAAe,GAAG,EAAE,CAAA;AAAA,OACnE,CAAA;AAAA,KACJ;AAGA,IAAM,MAAA,IAAA,GAAO,GAAI,CAAA,oBAAA,CAAqB,MAAM,CAAA,CAAA;AAC5C,IAAM,MAAA,IAAA,GAAO,GAAI,CAAA,oBAAA,CAAqB,MAAM,CAAA,CAAA;AAC5C,IAAM,MAAA,OAAA,GAAU,GAAI,CAAA,oBAAA,CAAqB,SAAS,CAAA,CAAA;AAElD,IAAA,IAAA,CAAK,WAAW,QAAS,CAAA,IAAA,CAAK,YAAa,CAAA,MAAM,GAAG,EAAE,CAAA,CAAA;AACtD,IAAK,IAAA,CAAA,UAAA,GAAa,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAC1C,IAAA,IAAA,CAAK,aAAa,QAAS,CAAA,MAAA,CAAO,YAAa,CAAA,YAAY,GAAG,EAAE,CAAA,CAAA;AAEhE,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,MAAM,IAAK,CAAA;AAAA,QACZ,EAAA,EAAI,SAAS,IAAK,CAAA,CAAC,EAAE,YAAa,CAAA,IAAI,CAAG,EAAA,EAAE,CAAK,IAAA,CAAA;AAAA,QAChD,IAAM,EAAA,IAAA,CAAK,CAAC,CAAA,CAAE,aAAa,MAAM,CAAA;AAAA,OACpC,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,MAAM,MAA8B,EAAC,CAAA;AAErC,IAAK,IAAA,CAAA,cAAA,GAAiB,KAAK,UAAa,GAAA,QAAA,CAAS,OAAO,YAAa,CAAA,MAAM,GAAG,EAAE,CAAA,CAAA;AAEhF,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,KAAK,CAAC,CAAA,CAAA;AACvB,MAAA,MAAM,KAAK,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,IAAI,GAAG,EAAE,CAAA,CAAA;AAEnD,MAAI,IAAA,MAAA,GAAA,CAAS,cAAS,YAAa,CAAA,QAAQ,MAA9B,IAAmC,GAAA,EAAA,GAAA,QAAA,CAAS,aAAa,MAAM,CAAA,CAAA;AAE5E,MAAA,IAAI,MAAW,KAAA,OAAA;AAAQ,QAAS,MAAA,GAAA,GAAA,CAAA;AAEhC,MAAA,GAAA,CAAI,EAAE,CAAI,GAAA,MAAA,CAAA;AAEV,MAAK,IAAA,CAAA,KAAA,CAAM,MAAM,CAAI,GAAA;AAAA,QACjB,EAAA;AAAA;AAAA,QAEA,MAAM,QAAS,CAAA,QAAA,CAAS,aAAa,MAAM,CAAA,EAAG,EAAE,CAAK,IAAA,CAAA;AAAA,QACrD,GAAG,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,GAAG,GAAG,EAAE,CAAA;AAAA,QAC1C,GAAG,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,GAAG,GAAG,EAAE,CAAA;AAAA,QAC1C,OAAO,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,OAAO,GAAG,EAAE,CAAA;AAAA,QAClD,QAAQ,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,QAAQ,GAAG,EAAE,CAAA;AAAA;AAAA,QAGpD,SAAS,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,SAAS,GAAG,EAAE,CAAA;AAAA,QACtD,SAAS,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,SAAS,GAAG,EAAE,CAAA;AAAA;AAAA,QACtD,UAAU,QAAS,CAAA,QAAA,CAAS,YAAa,CAAA,UAAU,GAAG,EAAE,CAAA;AAAA,QACxD,SAAS,EAAC;AAAA,OACd,CAAA;AAAA,KACJ;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,SAAS,OAAQ,CAAA,CAAC,EAAE,YAAa,CAAA,OAAO,GAAG,EAAE,CAAA,CAAA;AAC3D,MAAM,MAAA,MAAA,GAAS,SAAS,OAAQ,CAAA,CAAC,EAAE,YAAa,CAAA,QAAQ,GAAG,EAAE,CAAA,CAAA;AAC7D,MAAM,MAAA,MAAA,GAAS,SAAS,OAAQ,CAAA,CAAC,EAAE,YAAa,CAAA,QAAQ,GAAG,EAAE,CAAA,CAAA;AAE7D,MAAK,IAAA,CAAA,KAAA,CAAM,IAAI,MAAM,CAAC,EAAE,OAAQ,CAAA,GAAA,CAAI,KAAK,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,KAClD;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;AC5FO,MAAM,eAAkB,GAAA;AAAA,EAC3B,KAAK,IACL,EAAA;AACI,IAAA,IAAI,OAAO,IAAS,KAAA,QAAA,IAAY,IAAK,CAAA,QAAA,CAAS,QAAQ,CACtD,EAAA;AACI,MAAA,OAAO,UAAU,IAAK,CAAA,UAAA,CAAW,KAAM,CAAA,QAAA,CAAS,IAAI,CAAC,CAAA,CAAA;AAAA,KACzD;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEA,MAAM,IACN,EAAA;AACI,IAAA,OAAO,UAAU,KAAM,CAAA,UAAA,CAAW,KAAM,CAAA,QAAA,CAAS,IAAI,CAAC,CAAA,CAAA;AAAA,GAC1D;AACJ;;ACNA,MAAM,eAAA,GAAkB,CAAC,MAAA,EAAQ,MAAM,CAAA,CAAA;AAGhC,MAAM,qBAAwB,GAAA;AAAA,EACjC,WAAW,aAAc,CAAA,WAAA;AAAA,EACzB,IAAA,EAAM,CAAC,KAAA,KAAsB,KAAiB,YAAA,UAAA;AAAA,EAC9C,kBAAA,CAAmB,MAAgB,KACnC,EAAA;AACI,IAAA,MAAM,MAAkC,EAAC,CAAA;AAEzC,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GACd,KAAA;AACI,MAAA,GAAA,CAAI,GAAG,CAAI,GAAA,KAAA,CAAA;AAAA,KACd,CAAA,CAAA;AAED,IAAI,GAAA,CAAA,KAAA,CAAM,UAAU,CAAI,GAAA,KAAA,CAAA;AAExB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ,EAAA;AAEO,MAAM,mBAAsB,GAAA;AAAA,EAC/B,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,MAAA;AAAA,GACnC;AAAA,EAEA,KAAK,GACL,EAAA;AACI,IAAA,OAAO,gBAAgB,QAAS,CAAA,IAAA,CAAK,QAAQ,GAAG,CAAA,CAAE,aAAa,CAAA,CAAA;AAAA,GACnE;AAAA,EAEA,MAAM,UAAU,IAChB,EAAA;AACI,IAAA,OAAO,WAAW,IAAK,CAAA,IAAI,CAAK,IAAA,eAAA,CAAgB,KAAK,IAAI,CAAA,CAAA;AAAA,GAC7D;AAAA,EAEA,MAAM,KAAA,CAAM,KAAe,EAAA,IAAA,EAAqB,MAChD,EAAA;AACI,IAAM,MAAA,cAAA,GAAiB,UAAW,CAAA,IAAA,CAAK,KAAK,CAAA,GACtC,UAAW,CAAA,KAAA,CAAM,KAAK,CAAA,GACtB,eAAgB,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;AAEjC,IAAM,MAAA,EAAE,KAAQ,GAAA,IAAA,CAAA;AAChB,IAAM,MAAA,EAAE,OAAU,GAAA,cAAA,CAAA;AAClB,IAAA,MAAM,cAAc,EAAC,CAAA;AAErB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,KAAM,CAAA,MAAA,EAAQ,EAAE,CACpC,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,KAAM,CAAA,CAAC,CAAE,CAAA,IAAA,CAAA;AAC1B,MAAA,IAAI,YAAY,IAAK,CAAA,IAAA,CAAK,KAAK,OAAQ,CAAA,GAAG,GAAG,QAAQ,CAAA,CAAA;AAErD,MAAY,SAAA,GAAA,gBAAA,CAAiB,WAAW,GAAG,CAAA,CAAA;AAE3C,MAAA,WAAA,CAAY,KAAK,SAAS,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,MAAM,cAAiB,GAAA,MAAM,MAAO,CAAA,IAAA,CAAc,WAAW,CAAA,CAAA;AAC7D,IAAA,MAAM,WAAW,WAAY,CAAA,GAAA,CAAI,CAAC,GAAQ,KAAA,cAAA,CAAe,GAAG,CAAC,CAAA,CAAA;AAE7D,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,IAAM,EAAA,cAAA;AAAA,MACN,QAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA,EAEA,MAAM,IAAK,CAAA,GAAA,EAAa,QACxB,EAAA;AACI,IAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,IAAO,OAAA,MAAM,SAAS,IAAK,EAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,OAAO,UACP,EAAA;AACI,IAAA,UAAA,CAAW,OAAQ,EAAA,CAAA;AAAA,GACvB;AACJ;;ACxFO,MAAM,iBAA4C,GAAA;AAAA,EACrD,WAAW,aAAc,CAAA,WAAA;AAAA,EAEzB,IAAM,EAAA,CAAC,KAAiB,KAAA,KAAA,CAAM,OAAQ,CAAA,KAAK,CAAK,IAAA,KAAA,CAAM,KAAM,CAAA,CAAC,CAAM,KAAA,CAAA,YAAa,OAAO,CAAA;AAAA,EAEvF,kBAAA,EAAoB,CAAC,IAAA,EAAgB,KACrC,KAAA;AACI,IAAA,MAAM,MAA+B,EAAC,CAAA;AAEtC,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GACd,KAAA;AACI,MAAM,KAAA,CAAA,OAAA,CAAQ,CAAC,IAAA,EAAe,CAC9B,KAAA;AACI,QAAA,GAAA,CAAI,OAAO,CAAM,KAAA,CAAA,GAAI,EAAK,GAAA,CAAA,GAAI,EAAE,CAAI,GAAA,IAAA,CAAA;AAAA,OACvC,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAED,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ;;ACxBA,eAAsB,gBAAgB,SACtC,EAAA;AAII,EAAA,IAAI,WAAW,UACf,EAAA;AACI,IAAO,OAAA,IAAI,OAAiB,CAAA,CAAC,OAC7B,KAAA;AACI,MAAM,MAAA,KAAA,GAAQ,IAAI,KAAM,EAAA,CAAA;AAExB,MAAA,KAAA,CAAM,SAAS,MACf;AACI,QAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAAA,OAChB,CAAA;AACA,MAAA,KAAA,CAAM,UAAU,MAChB;AACI,QAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAAA,OACjB,CAAA;AACA,MAAA,KAAA,CAAM,GAAM,GAAA,SAAA,CAAA;AAAA,KACf,CAAA,CAAA;AAAA,GACL;AAEA,EAAI,IAAA,mBAAA,IAAuB,UAAc,IAAA,OAAA,IAAW,UACpD,EAAA;AACI,IACA,IAAA;AACI,MAAA,MAAM,OAAO,MAAO,CAAA,MAAM,KAAM,CAAA,SAAS,GAAG,IAAK,EAAA,CAAA;AAEjD,MAAA,MAAM,kBAAkB,IAAI,CAAA,CAAA;AAAA,aAEzB,CAAP,EAAA;AAEI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAEA,EAAO,OAAA,KAAA,CAAA;AACX;;ACnCO,MAAM,UAAoC,GAAA;AAAA,EAC7C,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA;AAAA,GACd;AAAA,EACA,MAAM,YAA8B,eAAA;AAAA;AAAA,IAEhC,ybAAA;AAAA,GACJ;AAAA,EACA,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,SAAS,MAAM,CAAA;AAAA,EAC3C,MAAA,EAAQ,OAAO,OAAY,KAAA,OAAA,CAAQ,OAAO,CAAC,CAAA,KAAM,MAAM,MAAM,CAAA;AACjE;;ACZA,MAAM,YAAe,GAAA,CAAC,KAAO,EAAA,KAAA,EAAO,MAAM,CAAA,CAAA;AAEnC,MAAM,cAAiB,GAAA;AAAA,EAC1B,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA,CAAA;AAAA,GACd;AAAA,EACA,IAAM,EAAA,MAAwB,OAAQ,CAAA,OAAA,CAAQ,IAAI,CAAA;AAAA,EAClD,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,OAAA,EAAS,GAAG,YAAY,CAAA;AAAA,EACpD,MAAA,EAAQ,OAAO,OAAA,KAAY,OAAQ,CAAA,MAAA,CAAO,CAAC,CAAA,KAAM,CAAC,YAAA,CAAa,QAAS,CAAA,CAAC,CAAC,CAAA;AAC9E;;ACdA,MAAM,QAAW,GAAA,mBAAA,IAAuB,UACjC,IAAA,UAAA,YAAuB,UAAmB,CAAA,iBAAA,CAAA;AAE1C,SAAS,gBAAgB,QAChC,EAAA;AACI,EAAA,IAAI,QACJ,EAAA;AACI,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAEA,EAAM,MAAA,KAAA,GAAQ,QAAS,CAAA,aAAA,CAAc,OAAO,CAAA,CAAA;AAE5C,EAAO,OAAA,KAAA,CAAM,WAAY,CAAA,QAAQ,CAAM,KAAA,EAAA,CAAA;AAC3C;;ACRO,MAAM,SAAY,GAAA;AAAA,EACrB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA;AAAA,GACd;AAAA,EACA,IAAA,EAAM,YAA8B,eAAA,CAAgB,WAAW,CAAA;AAAA,EAC/D,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,OAAA,EAAS,OAAO,KAAK,CAAA;AAAA,EACjD,MAAA,EAAQ,OAAO,OAAA,KAAY,OAAQ,CAAA,MAAA,CAAO,CAAC,CAAM,KAAA,CAAA,KAAM,KAAS,IAAA,CAAA,KAAM,KAAK,CAAA;AAC/E;;ACRO,MAAM,SAAY,GAAA;AAAA,EACrB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA;AAAA,GACd;AAAA,EACA,IAAA,EAAM,YAA8B,eAAA,CAAgB,WAAW,CAAA;AAAA,EAC/D,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,SAAS,KAAK,CAAA;AAAA,EAC1C,MAAA,EAAQ,OAAO,OAAY,KAAA,OAAA,CAAQ,OAAO,CAAC,CAAA,KAAM,MAAM,KAAK,CAAA;AAChE;;ACRO,MAAM,UAAa,GAAA;AAAA,EACtB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA;AAAA,GACd;AAAA,EACA,IAAA,EAAM,YAA8B,eAAA,CAAgB,YAAY,CAAA;AAAA,EAChE,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,SAAS,MAAM,CAAA;AAAA,EAC3C,MAAA,EAAQ,OAAO,OAAY,KAAA,OAAA,CAAQ,OAAO,CAAC,CAAA,KAAM,MAAM,MAAM,CAAA;AACjE;;ACRO,MAAM,UAAa,GAAA;AAAA,EACtB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,eAAA;AAAA,IACpB,QAAU,EAAA,CAAA;AAAA,GACd;AAAA,EACA,MAAM,YAA8B,eAAA;AAAA,IAChC,6EAAA;AAAA,GACJ;AAAA,EACA,KAAK,OAAO,OAAA,KAAY,CAAC,GAAG,SAAS,MAAM,CAAA;AAAA,EAC3C,MAAA,EAAQ,OAAO,OAAY,KAAA,OAAA,CAAQ,OAAO,CAAC,CAAA,KAAM,MAAM,MAAM,CAAA;AACjE;;ACfgB,SAAA,YAAA,CAAa,KAAa,KAC1C,EAAA;AACI,EAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,KAAK,CACvB,EAAA;AACI,IAAA,KAAA,MAAW,QAAQ,KACnB,EAAA;AACI,MAAI,IAAA,GAAA,CAAI,UAAW,CAAA,CAAA,KAAA,EAAQ,IAAM,CAAA,CAAA,CAAA;AAAG,QAAO,OAAA,IAAA,CAAA;AAAA,KAC/C;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAEA,EAAO,OAAA,GAAA,CAAI,UAAW,CAAA,CAAA,KAAA,EAAQ,KAAO,CAAA,CAAA,CAAA,CAAA;AACzC;;ACXgB,SAAA,cAAA,CAAe,KAAa,SAC5C,EAAA;AACI,EAAA,MAAM,OAAU,GAAA,GAAA,CAAI,KAAM,CAAA,GAAG,EAAE,CAAC,CAAA,CAAA;AAChC,EAAA,MAAM,GAAM,GAAA,IAAA,CAAK,OAAQ,CAAA,OAAO,EAAE,WAAY,EAAA,CAAA;AAE9C,EAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,SAAS,CAC3B,EAAA;AACI,IAAO,OAAA,SAAA,CAAU,SAAS,GAAG,CAAA,CAAA;AAAA,GACjC;AAEA,EAAA,OAAO,GAAQ,KAAA,SAAA,CAAA;AACnB;;ACLA,MAAM,kBAAqB,GAAA,OAAA,CAAA;AAC3B,MAAM,aAAgB,GAAA,kBAAA,CAAA;AAGf,MAAM,QAAW,GAAA;AAAA,EACpB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,GAAA;AAAA,GACnC;AAAA,EAEA,IAAM,EAAA,UAAA;AAAA,EAEN,KAAK,GACL,EAAA;AACI,IAAA,OAAO,aAAa,GAAK,EAAA,aAAa,CAAK,IAAA,cAAA,CAAe,KAAK,kBAAkB,CAAA,CAAA;AAAA,GACrF;AAAA,EAEA,MAAM,KAAQ,GACd,EAAA;AACI,IAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,IAAM,MAAA,IAAA,GAAO,MAAM,QAAA,CAAS,IAAK,EAAA,CAAA;AAEjC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;ACzBA,MAAM,iBAAoB,GAAA,MAAA,CAAA;AAC1B,MAAM,YAAe,GAAA,YAAA,CAAA;AAGd,MAAM,OAAU,GAAA;AAAA,EAEnB,IAAM,EAAA,SAAA;AAAA,EAEN,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,GAAA;AAAA,GACnC;AAAA,EAEA,KAAK,GACL,EAAA;AACI,IAAA,OAAO,aAAa,GAAK,EAAA,YAAY,CAAK,IAAA,cAAA,CAAe,KAAK,iBAAiB,CAAA,CAAA;AAAA,GACnF;AAAA,EAEA,MAAM,KAAK,GACX,EAAA;AACI,IAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,IAAM,MAAA,GAAA,GAAM,MAAM,QAAA,CAAS,IAAK,EAAA,CAAA;AAEhC,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ;;;;;;;;;;;;;;;;;;;;;ACtBA,MAAM,YAAe,GAAA;AAAA,EACjB,QAAA;AAAA,EAAU,MAAA;AAAA,EACV,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAAA,EAAO,KAAA;AAC5D,CAAA,CAAA;AACA,MAAM,mBAAsB,GAAA,CAAC,MAAQ,EAAA,MAAA,EAAQ,SAAS,QAAQ,CAAA,CAAA;AAC9D,MAAM,cAAiB,GAAA;AAAA,EACnB,UAAA;AAAA,EACA,UAAA;AAAA,EACA,WAAA;AAAA,EACA,YAAA;AACJ,CAAA,CAAA;AAkBA,MAAM,qBAAwB,GAAA,6BAAA,CAAA;AAOvB,SAAS,kBAAkB,GAClC,EAAA;AACI,EAAM,MAAA,GAAA,GAAM,IAAK,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAC5B,EAAA,MAAM,IAAO,GAAA,IAAA,CAAK,QAAS,CAAA,GAAA,EAAK,GAAG,CAAA,CAAA;AAGnC,EAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,OAAQ,CAAA,QAAA,EAAU,GAAG,CAAA,CAAA;AAGjD,EAAA,MAAM,aAAa,cAAe,CAAA,WAAA,GAC7B,KAAM,CAAA,GAAG,EACT,GAAI,CAAA,CAAC,SAAS,IAAK,CAAA,MAAA,CAAO,CAAC,CAAE,CAAA,WAAA,KAAgB,IAAK,CAAA,KAAA,CAAM,CAAC,CAAC,CAAA,CAAA;AAE/D,EAAI,IAAA,KAAA,GAAQ,WAAW,MAAS,GAAA,CAAA,CAAA;AAEhC,EAAA,KAAA,MAAW,SAAS,UACpB,EAAA;AACI,IAAA,IAAI,CAAC,KAAA,CAAM,KAAM,CAAA,qBAAqB,CACtC,EAAA;AACI,MAAQ,KAAA,GAAA,KAAA,CAAA;AACR,MAAA,MAAA;AAAA,KACJ;AAAA,GACJ;AAEA,EAAI,IAAA,cAAA,GAAiB,UAAW,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA;AAExC,EAAA,IAAI,CAAC,KACL,EAAA;AACI,IAAA,cAAA,GAAiB,CAAI,CAAA,EAAA,cAAA,CAAe,OAAQ,CAAA,QAAA,EAAU,MAAM,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAChE;AAEA,EAAO,OAAA,cAAA,CAAA;AACX,CAAA;AAGA,MAAM,uBAA0B,GAAA,6CAAA,CAAA;AAMhC,SAAS,oBAAoB,GAC7B,EAAA;AACI,EAAI,IAAA,uBAAA,CAAwB,IAAK,CAAA,GAAG,CACpC,EAAA;AACI,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAEA,EAAA,OAAO,UAAU,GAAG,CAAA,CAAA;AACxB,CAAA;AAGO,MAAM,WAAc,GAAA;AAAA,EACvB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,GAAA;AAAA,GACnC;AAAA,EAEA,IAAM,EAAA,aAAA;AAAA,EAEN,KAAK,GACL,EAAA;AACI,IAAA,OAAO,aAAa,GAAK,EAAA,cAAc,CAAK,IAAA,cAAA,CAAe,KAAK,mBAAmB,CAAA,CAAA;AAAA,GACvF;AAAA,EAEA,MAAM,IAAK,CAAA,GAAA,EAAa,OACxB,EAAA;AAjHJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAkHQ,IAAA,MAAM,KAAQ,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,cAAe,EAAA,CAAA;AAE9C,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,MAAM,YAAwB,EAAC,CAAA;AAC/B,MAAA,MAAM,QAAO,EAAQ,GAAA,CAAA,EAAA,GAAA,OAAA,CAAA,IAAA,KAAR,mBAAc,MAAd,KAAA,IAAA,GAAA,EAAA,GAAwB,kBAAkB,GAAG,CAAA,CAAA;AAC1D,MAAA,MAAM,OAAU,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,YAAd,IAAuB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAA,CAAO,CAAC,MAAA,KAAW,aAAa,QAAS,CAAA,MAAM,CAAtE,CAAA,KAAA,IAAA,GAAA,EAAA,GAA4E,CAAC,QAAQ,CAAA,CAAA;AACrG,MAAA,MAAM,IAAO,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,EAAA,GAAgB,EAAC,CAAA;AAE9B,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,QAAM,MAAA,MAAA,GAAS,QAAQ,CAAC,CAAA,CAAA;AAExB,QAAM,MAAA,IAAA,GAAO,IAAI,QAAS,CAAA,IAAA,EAAM,OAAO,mBAAoB,CAAA,GAAG,CAAM,CAAA,CAAA,CAAA,EAAApB,eAAA,CAAAC,gBAAA,CAAA,EAAA,EAC7D,IAD6D,CAAA,EAAA;AAAA,UAEhE,MAAA;AAAA,SACH,CAAA,CAAA,CAAA;AAED,QAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAEhB,QAAA,KAAA,CAAM,IAAI,IAAI,CAAA,CAAA;AAEd,QAAA,SAAA,CAAU,KAAK,IAAI,CAAA,CAAA;AAAA,OACvB;AAEA,MAAA,KAAA,CAAM,IAAI,IAAM,EAAA;AAAA,QACZ,GAAA;AAAA,QACA,SAAA;AAAA,OACH,CAAA,CAAA;AAED,MAAA,OAAO,SAAU,CAAA,MAAA,KAAW,CAAI,GAAA,SAAA,CAAU,CAAC,CAAI,GAAA,SAAA,CAAA;AAAA,KACnD;AAGA,IAAA,IAAA,CAAK,oEAAoE,CAAA,CAAA;AAGzE,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEA,OAAO,IACP,EAAA;AACI,IAAC,CAAA,KAAA,CAAM,OAAQ,CAAA,IAAI,CAAI,GAAA,IAAA,GAAO,CAAC,IAAI,CAAA,EAC9B,OAAQ,CAAA,CAAC,CACV,KAAA;AACI,MAAM,KAAA,CAAA,MAAA,CAAO,EAAE,MAAM,CAAA,CAAA;AACrB,MAAA,UAAA,CAAW,GAAI,EAAA,CAAE,cAAe,EAAA,CAAE,OAAO,CAAC,CAAA,CAAA;AAAA,KAC7C,CAAA,CAAA;AAAA,GACT;AACJ;;AC/JA,MAAM,cAAiB,GAAA;AAAA,EACnB,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AAAA,EACH,CAAG,EAAA,CAAA;AACP,CAAA,CAAA;AAGgB,SAAA,iBAAA,CAAkB,SAAiB,IACnD,EAAA;AAnBA,EAAA,IAAA,EAAA,CAAA;AAsBI,EAAM,MAAA,QAAA,GAAW,OAAQ,CAAA,KAAA,CAAM,sBAAsB,CAAA,CAAA;AAGrD,EAAA,MAAM,QAAO,EAAQ,GAAA,OAAA,CAAA,KAAA,CAAM,kCAAkC,CAAA,KAAhD,mBAAmD,GAAI,CAAA,UAAA,CAAA,CAAA;AAEpE,EAAA,MAAM,iBAA2B,EAAC,CAAA;AAElC,EAAS,QAAA,CAAA,OAAA,CAAQ,CAAC,OAClB,KAAA;AA9BJ,IAAAkB,IAAAA,GAAAA,CAAAA;AA+BQ,IAAME,MAAAA,KAAAA,GAAAA,CAAOF,MAAA,OAAQ,CAAA,KAAA,CAAM,kCAAkC,CAAhD,KAAA,IAAA,GAAA,KAAA,CAAA,GAAAA,IAAmD,GAAI,CAAA,UAAA,CAAA,CAAA;AAEpE,IAAM,MAAA,IAAA,GAAO,QAAQ,CAAC,CAAA,CAAA;AAEtB,IAAA,IAAI,iBAAoB,GAAA,CAAA,CAAA;AAExB,IAAA,IAAIE,KACJ,EAAA;AACI,MAAA,iBAAA,GAAoBA,KAAK,CAAA,MAAA,GAAS,cAAe,CAAA,IAAA,CAAK,aAA4C,CAAA,CAAA;AAAA,KACtG;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,iBAAA,EAAmB,CACvC,EAAA,EAAA;AACI,MAAA,cAAA,CAAe,KAAK,IAAI,CAAA,CAAA;AAAA,KAC5B;AAAA,GACH,CAAA,CAAA;AAED,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,QAAQ,CAC3C,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,eAAe,CAAC,CAAA,CAAA;AAM7B,IAAA,QAAQ,IACR;AAAA,MACI,KAAK,GAAA;AACD,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AACxB,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AAExB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AACzB,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AAExB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AAExB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AACxB,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AAExB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AACzB,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,MAAA,CAAO,OAAO,KAAK,CAAA,CAAA;AACxB,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC1B,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE1B,QAAK,IAAA,CAAA,aAAA;AAAA,UACD,KAAK,SAAS,CAAA;AAAA,UAAG,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UACnC,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAAG,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UACvC,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAK,IAAA,CAAA,aAAA;AAAA,UACD,KAAA,GAAQ,KAAK,SAAS,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UACnD,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UACvD,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,SAC3D,CAAA;AAEA,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC3B,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE3B,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC1B,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE1B,QAAK,IAAA,CAAA,kBAAA;AAAA,UACD,KAAK,SAAS,CAAA;AAAA,UAAG,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UACnC,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAK,IAAA,CAAA,kBAAA;AAAA,UACD,KAAA,GAAQ,KAAK,SAAS,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UACnD,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,SAC3D,CAAA;AAEA,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC3B,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE3B,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC1B,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE1B,QAAK,IAAA,CAAA,gBAAA;AAAA,UACD,KAAK,SAAS,CAAA;AAAA,UAAG,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UACnC,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAK,IAAA,CAAA,gBAAA;AAAA,UACD,KAAA,GAAQ,KAAK,SAAS,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UACnD,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,UAAG,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,CAAC,CAAA;AAAA,SAC3D,CAAA;AAEA,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC3B,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE3B,QAAa,SAAA,IAAA,CAAA,CAAA;AACb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AACxB,QAAA,KAAA,GAAQ,KAAK,SAAW,EAAA,CAAA,CAAA;AAExB,QAAK,IAAA,CAAA,qBAAA;AAAA,UACD,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AACzB,QAAA,KAAA,IAAS,KAAK,SAAW,EAAA,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,qBAAA;AAAA,UACD,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AAED,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC1B,QAAQ,KAAA,GAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE1B,QAAK,IAAA,CAAA,QAAA;AAAA,UACD,KAAK,SAAS,CAAA;AAAA,UACd,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAa,SAAA,IAAA,CAAA,CAAA;AAEb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA;AACD,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAC3B,QAAS,KAAA,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAE3B,QAAK,IAAA,CAAA,QAAA;AAAA,UACD,KAAK,SAAS,CAAA;AAAA,UACd,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,IAAA,CAAK,YAAY,CAAC,CAAA;AAAA,UAClB,KAAA;AAAA,UAAO,KAAA;AAAA,SACX,CAAA;AAEA,QAAa,SAAA,IAAA,CAAA,CAAA;AAEb,QAAA,MAAA;AAAA,MACJ,KAAK,GAAA,CAAA;AAAA,MACL,KAAK,GAAA;AACD,QAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AACf,QAAA,MAAA;AAAA,MACJ;AAEI,QAAA,IAAA,CAAK,6BAA6B,IAAM,CAAA,CAAA,CAAA,CAAA;AAAA,KAEhD;AAAA,GACJ;AAEA,EAAO,OAAA,IAAA,CAAA;AACX;;AC9OO,MAAM,MACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBI,YAAY,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,SAAS,CACnC,EAAA;AARA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAwB,GAAA,QAAA,CAAA;AASpC,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAA,OAAO,IAAI,MAAO,CAAA,IAAA,CAAK,GAAG,IAAK,CAAA,CAAA,EAAG,KAAK,MAAM,CAAA,CAAA;AAAA,GACjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,UAAU,CACnB,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAA;AAC9B,IAAI,IAAA,EAAA,GAAM,KAAK,CAAI,GAAA,CAAA,CAAA;AACnB,IAAI,IAAA,EAAA,GAAM,KAAK,CAAI,GAAA,CAAA,CAAA;AAEnB,IAAM,EAAA,IAAA,EAAA,CAAA;AACN,IAAM,EAAA,IAAA,EAAA,CAAA;AAEN,IAAA,OAAQ,KAAK,EAAM,IAAA,EAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,GACjB,EAAA;AACI,IAAM,GAAA,GAAA,GAAA,IAAO,IAAI,SAAU,EAAA,CAAA;AAE3B,IAAI,GAAA,CAAA,CAAA,GAAI,IAAK,CAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAA;AACtB,IAAI,GAAA,CAAA,CAAA,GAAI,IAAK,CAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAA;AACtB,IAAI,GAAA,CAAA,KAAA,GAAQ,KAAK,MAAS,GAAA,CAAA,CAAA;AAC1B,IAAI,GAAA,CAAA,MAAA,GAAS,KAAK,MAAS,GAAA,CAAA,CAAA;AAE3B,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,MAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,IAAI,MAAO,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,SAAS,MAAO,CAAA,MAAA,CAAA;AAErB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,MACd,EAAA;AACI,IAAA,MAAA,CAAO,SAAS,IAAI,CAAA,CAAA;AAEpB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,CAAwB,qBAAA,EAAA,IAAA,CAAK,CAAO,CAAA,GAAA,EAAA,IAAA,CAAK,YAAY,IAAK,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACrE;AAEJ;;AC/GO,MAAM,OACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBI,WAAA,CAAY,IAAI,CAAG,EAAA,CAAA,GAAI,GAAG,SAAY,GAAA,CAAA,EAAG,aAAa,CACtD,EAAA;AATA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAO,GAAA,SAAA,CAAA;AAUnB,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,SAAY,GAAA,SAAA,CAAA;AACjB,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAAA,GACtB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAO,OAAA,IAAI,QAAQ,IAAK,CAAA,CAAA,EAAG,KAAK,CAAG,EAAA,IAAA,CAAK,SAAW,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAAA,GACtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,SAAA,IAAa,CAAK,IAAA,IAAA,CAAK,cAAc,CAC9C,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAGA,IAAA,IAAI,KAAU,GAAA,CAAA,CAAA,GAAI,IAAK,CAAA,CAAA,IAAK,IAAK,CAAA,SAAA,CAAA;AACjC,IAAA,IAAI,KAAU,GAAA,CAAA,CAAA,GAAI,IAAK,CAAA,CAAA,IAAK,IAAK,CAAA,UAAA,CAAA;AAEjC,IAAS,KAAA,IAAA,KAAA,CAAA;AACT,IAAS,KAAA,IAAA,KAAA,CAAA;AAET,IAAA,OAAQ,QAAQ,KAAS,IAAA,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SACP,GAAA;AACI,IAAA,OAAO,IAAI,SAAA,CAAU,IAAK,CAAA,CAAA,GAAI,KAAK,SAAW,EAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,YAAY,IAAK,CAAA,SAAA,GAAY,CAAG,EAAA,IAAA,CAAK,aAAa,CAAC,CAAA,CAAA;AAAA,GACnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,OAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,OAAQ,CAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAK,IAAI,OAAQ,CAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,SAAA,CAAA;AACzB,IAAA,IAAA,CAAK,aAAa,OAAQ,CAAA,UAAA,CAAA;AAE1B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,OACd,EAAA;AACI,IAAA,OAAA,CAAQ,SAAS,IAAI,CAAA,CAAA;AAErB,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,yBAAyB,IAAK,CAAA,CAAA,CAAA,GAAA,EAAO,KAAK,CAAe,CAAA,WAAA,EAAA,IAAA,CAAK,wBAAwB,IAAK,CAAA,UAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACtG;AAEJ;;AC1GO,MAAM,OACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBI,eAAe,MACf,EAAA;AAbA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAwB,GAAA,SAAA,CAAA;AAcpC,IAAI,IAAA,IAAA,GAAO,MAAM,OAAQ,CAAA,MAAA,CAAO,CAAC,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAGlD,IAAA,IAAI,OAAO,IAAA,CAAK,CAAC,CAAA,KAAM,QACvB,EAAA;AACI,MAAA,MAAM,IAAc,EAAC,CAAA;AAErB,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,EAAA,GAAK,KAAK,MAAQ,EAAA,CAAA,GAAI,IAAI,CAC1C,EAAA,EAAA;AACI,QAAE,CAAA,CAAA,IAAA,CAAM,KAAK,CAAC,CAAA,CAAgB,GAAI,IAAK,CAAA,CAAC,EAAgB,CAAC,CAAA,CAAA;AAAA,OAC7D;AAEA,MAAO,IAAA,GAAA,CAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AACjC,IAAM,MAAA,OAAA,GAAU,IAAI,OAAA,CAAQ,MAAM,CAAA,CAAA;AAElC,IAAA,OAAA,CAAQ,YAAY,IAAK,CAAA,SAAA,CAAA;AAEzB,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAA,IAAI,MAAS,GAAA,KAAA,CAAA;AAIb,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,MAAS,GAAA,CAAA,CAAA;AAEpC,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,MAAA,GAAS,GAAG,CAAI,GAAA,MAAA,EAAQ,IAAI,CAChD,EAAA,EAAA;AACI,MAAA,MAAM,EAAK,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAC5B,MAAA,MAAM,EAAK,GAAA,IAAA,CAAK,MAAQ,CAAA,CAAA,GAAI,IAAK,CAAC,CAAA,CAAA;AAClC,MAAA,MAAM,EAAK,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAC5B,MAAA,MAAM,EAAK,GAAA,IAAA,CAAK,MAAQ,CAAA,CAAA,GAAI,IAAK,CAAC,CAAA,CAAA;AAClC,MAAM,MAAA,SAAA,GAAc,EAAK,GAAA,CAAA,KAAQ,EAAK,GAAA,CAAA,IAAQ,CAAM,GAAA,CAAA,EAAA,GAAK,EAAQ,KAAA,CAAA,CAAA,GAAI,EAAO,KAAA,EAAA,GAAK,EAAQ,CAAA,CAAA,GAAA,EAAA,CAAA;AAEzF,MAAA,IAAI,SACJ,EAAA;AACI,QAAA,MAAA,GAAS,CAAC,MAAA,CAAA;AAAA,OACd;AAAA,KACJ;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,GACjB,EAAA;AACI,IAAM,GAAA,GAAA,GAAA,IAAO,IAAI,SAAU,EAAA,CAAA;AAE3B,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAA,IAAI,IAAO,GAAA,QAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,QAAA,CAAA;AAEX,IAAA,IAAI,IAAO,GAAA,QAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,QAAA,CAAA;AAEX,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CAAI,GAAA,CAAA,EAAG,KAAK,CAC/C,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAClB,MAAM,MAAA,CAAA,GAAI,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAEtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AACtB,MAAO,IAAA,GAAA,CAAA,GAAI,OAAO,CAAI,GAAA,IAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,GAAA,CAAI,CAAI,GAAA,IAAA,CAAA;AACR,IAAA,GAAA,CAAI,QAAQ,IAAO,GAAA,IAAA,CAAA;AAEnB,IAAA,GAAA,CAAI,CAAI,GAAA,IAAA,CAAA;AACR,IAAA,GAAA,CAAI,SAAS,IAAO,GAAA,IAAA,CAAA;AAEpB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,OAChB,EAAA;AACI,IAAK,IAAA,CAAA,MAAA,GAAS,OAAQ,CAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AACnC,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,SAAA,CAAA;AAEzB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,OACd,EAAA;AACI,IAAA,OAAA,CAAQ,SAAS,IAAI,CAAA,CAAA;AAErB,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,CACc,+BAAA,EAAA,IAAA,CAAK,SACV,CAAA,OAAA,EAAA,IAAA,CAAK,MAAO,CAAA,MAAA,CAAO,CAAC,UAAA,EAAY,YAAiB,KAAA,CAAA,EAAG,UAAe,CAAA,EAAA,EAAA,YAAA,CAAA,CAAA,EAAgB,EAAE,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACzG;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,CACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CAAA;AAAA,GAC7C;AACJ;;ACpMO,MAAM,gBACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA6BI,WAAA,CAAY,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,QAAQ,CAAG,EAAA,MAAA,GAAS,CAAG,EAAA,MAAA,GAAS,EAC1D,EAAA;AAVA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAO,GAAA,kBAAA,CAAA;AAWnB,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,GACjB,EAAA;AACI,IAAM,GAAA,GAAA,GAAA,IAAO,IAAI,SAAU,EAAA,CAAA;AAE3B,IAAA,GAAA,CAAI,IAAI,IAAK,CAAA,CAAA,CAAA;AACb,IAAA,GAAA,CAAI,IAAI,IAAK,CAAA,CAAA,CAAA;AACb,IAAA,GAAA,CAAI,QAAQ,IAAK,CAAA,KAAA,CAAA;AACjB,IAAA,GAAA,CAAI,SAAS,IAAK,CAAA,MAAA,CAAA;AAElB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAO,OAAA,IAAI,gBAAiB,CAAA,IAAA,CAAK,CAAG,EAAA,IAAA,CAAK,CAAG,EAAA,IAAA,CAAK,KAAO,EAAA,IAAA,CAAK,MAAQ,EAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,GACpF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,SAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,SAAU,CAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,IAAI,SAAU,CAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,QAAQ,SAAU,CAAA,KAAA,CAAA;AACvB,IAAA,IAAA,CAAK,SAAS,SAAU,CAAA,MAAA,CAAA;AAExB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,SACd,EAAA;AACI,IAAA,SAAA,CAAU,SAAS,IAAI,CAAA,CAAA;AAEvB,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,KAAA,IAAS,CAAK,IAAA,IAAA,CAAK,UAAU,CACtC,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AACA,IAAA,IAAI,KAAK,IAAK,CAAA,CAAA,IAAK,KAAK,IAAK,CAAA,CAAA,GAAI,KAAK,KACtC,EAAA;AACI,MAAA,IAAI,KAAK,IAAK,CAAA,CAAA,IAAK,KAAK,IAAK,CAAA,CAAA,GAAI,KAAK,MACtC,EAAA;AACI,QAAA,MAAM,SAAS,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,IAAA,CAAK,IAAI,IAAK,CAAA,MAAA,EAAQ,IAAK,CAAA,GAAA,CAAI,KAAK,KAAO,EAAA,IAAA,CAAK,MAAM,CAAA,GAAI,CAAC,CAAC,CAAA,CAAA;AAEvF,QAAA,IAAK,KAAK,IAAK,CAAA,CAAA,GAAI,UAAU,CAAK,IAAA,IAAA,CAAK,IAAI,IAAK,CAAA,MAAA,GAAS,UACrD,CAAK,IAAA,IAAA,CAAK,IAAI,MAAU,IAAA,CAAA,IAAK,KAAK,CAAI,GAAA,IAAA,CAAK,QAAQ,MACvD,EAAA;AACI,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AACA,QAAI,IAAA,EAAA,GAAK,CAAK,IAAA,IAAA,CAAK,CAAI,GAAA,MAAA,CAAA,CAAA;AACvB,QAAI,IAAA,EAAA,GAAK,CAAK,IAAA,IAAA,CAAK,CAAI,GAAA,MAAA,CAAA,CAAA;AACvB,QAAA,MAAM,UAAU,MAAS,GAAA,MAAA,CAAA;AAEzB,QAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,OAC7B,EAAA;AACI,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AACA,QAAA,EAAA,GAAK,CAAK,IAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,KAAQ,GAAA,MAAA,CAAA,CAAA;AAChC,QAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,OAC7B,EAAA;AACI,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AACA,QAAA,EAAA,GAAK,CAAK,IAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA,CAAA;AACjC,QAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,OAC7B,EAAA;AACI,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AACA,QAAK,EAAA,GAAA,CAAA,IAAK,KAAK,CAAI,GAAA,MAAA,CAAA,CAAA;AACnB,QAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,OAC7B,EAAA;AACI,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AAAA,OACJ;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAGO,QACP,GAAA;AACI,IAAO,OAAA,CAAA,+BAAA,EAAkC,KAAK,CAAO,CAAA,GAAA,EAAA,IAAA,CAAK,UAC3C,IAAK,CAAA,KAAA,CAAA,QAAA,EAAgB,IAAK,CAAA,MAAA,CAAA,QAAA,EAAiB,IAAK,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GACnE;AAEJ;;AC5JA,MAAMC,iBAAkB,GAAA,CAAA,CAAA;AACxB,MAAMC,aAAc,GAAA,YAAA,CAAA;AACpB,MAAMC,uBAAwB,GAAA,CAAA,CAAA;AAE9B,MAAMC,4BAA6B,GAAA,IAAA,CAAA;AACnC,MAAMC,iBAAkB,GAAA,CAAA,CAAA;AACxB,MAAM,UAAa,GAAA,CAAA,CAAA;AAEH,SAAA,mBAAA,CACZ,QACA,EAAY,EAAA,EAAA,EACZ,MAAc,IACd,EAAA,IAAA,EAAc,IACd,EAAA,EAAA,EAAY,EAEhB,EAAA;AAEI,EAAA,MAAM,KAAQ,GAAA,CAAA,CAAA;AACd,EAAA,IAAI,oBAAoBF,uBAAwB,GAAA,KAAA,CAAA;AAEhD,EAAqB,iBAAA,IAAA,iBAAA,CAAA;AACrB,EAAMG,OAAA,CAAA,EAAA,EAAI,IAAI,IAAM,EAAA,IAAA,EAAM,MAAM,IAAM,EAAA,EAAA,EAAI,EAAI,EAAA,MAAA,EAAQ,iBAAiB,CAAA,CAAA;AAEvE,EAAO,OAAA,MAAA,CAAA;AACX,CAAA;AAKA,SAASA,OAAA,CACL,EAAY,EAAA,EAAA,EACZ,IAAc,EAAA,IAAA,EACd,MAAc,IACd,EAAA,EAAA,EAAY,EACZ,EAAA,MAAA,EACA,iBAEJ,EAAA;AAGI,EAAUC,WAAA,CAAA,EAAA,EAAI,EAAI,EAAA,IAAA,EAAM,IAAM,EAAA,IAAA,EAAM,MAAM,EAAI,EAAA,EAAA,EAAI,MAAQ,EAAA,iBAAA,EAAmB,CAAC,CAAA,CAAA;AAC9E,EAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACtB,CAAA;AAGA,SAASA,WAAA,CACL,EAAY,EAAA,EAAA,EACZ,EAAY,EAAA,EAAA,EACZ,EAAY,EAAA,EAAA,EACZ,EAAY,EAAA,EAAA,EACZ,MACA,EAAA,iBAAA,EACA,KACJ,EAAA;AACI,EAAA,IAAI,QAAQN,iBACZ,EAAA;AAAE,IAAA,OAAA;AAAA,GAAQ;AAEV,EAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAIhB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAC3B,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAC3B,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAC3B,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAC3B,EAAM,MAAA,KAAA,GAAA,CAAS,OAAO,IAAQ,IAAA,CAAA,CAAA;AAC9B,EAAM,MAAA,KAAA,GAAA,CAAS,OAAO,IAAQ,IAAA,CAAA,CAAA;AAE9B,EAAA,IAAI,QAAQ,CACZ,EAAA;AAGI,IAAA,IAAI,KAAK,EAAK,GAAA,EAAA,CAAA;AACd,IAAA,IAAI,KAAK,EAAK,GAAA,EAAA,CAAA;AAEd,IAAM,MAAA,EAAA,GAAK,KAAK,GAAM,CAAA,CAAA,EAAA,GAAK,MAAM,EAAQ,GAAA,CAAA,EAAA,GAAK,MAAM,EAAG,CAAA,CAAA;AACvD,IAAM,MAAA,EAAA,GAAK,KAAK,GAAM,CAAA,CAAA,EAAA,GAAK,MAAM,EAAQ,GAAA,CAAA,EAAA,GAAK,MAAM,EAAG,CAAA,CAAA;AAEvD,IAAI,IAAA,GAAA,CAAA;AAAK,IAAI,IAAA,GAAA,CAAA;AAEb,IAAI,IAAA,EAAA,GAAKC,aAAe,IAAA,EAAA,GAAKA,aAC7B,EAAA;AAGI,MAAK,IAAA,CAAA,EAAA,GAAK,OAAO,EAAK,GAAA,EAAA,CAAA,IAAO,qBAAsB,EAAK,GAAA,EAAA,GAAO,KAAK,EACpE,CAAA,EAAA;AAII,QAAA,IAAIG,oBAAkBD,4BACtB,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAExB,UAAA,OAAA;AAAA,SACJ;AAIA,QAAA,MAAM,MAAM,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAEvC,QAAM,GAAA,GAAA,IAAA,CAAK,IAAI,GAAM,GAAA,IAAA,CAAK,MAAM,EAAK,GAAA,EAAA,EAAI,EAAK,GAAA,EAAE,CAAC,CAAA,CAAA;AACjD,QAAM,GAAA,GAAA,IAAA,CAAK,IAAI,IAAK,CAAA,KAAA,CAAM,KAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAA,GAAI,GAAG,CAAA,CAAA;AACjD,QAAA,IAAI,GAAO,IAAA,EAAA;AAAI,UAAA,GAAA,GAAO,IAAI,EAAM,GAAA,GAAA,CAAA;AAChC,QAAA,IAAI,GAAO,IAAA,EAAA;AAAI,UAAA,GAAA,GAAO,IAAI,EAAM,GAAA,GAAA,CAAA;AAEhC,QAAI,IAAA,GAAA,GAAM,MAAMC,iBAChB,EAAA;AAGI,UAAO,MAAA,CAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAExB,UAAA,OAAA;AAAA,SACJ;AAEA,QAAA,IAAI,eAAe,CACnB,EAAA;AACI,UAAA,IAAI,MAAM,UACV,EAAA;AACI,YAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,YAAA,OAAA;AAAA,WACJ;AAEA,UAAA,IAAI,MAAM,UACV,EAAA;AACI,YAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,YAAA,OAAA;AAAA,WACJ;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ,MAAA,IAEI,KAAKH,aACT,EAAA;AAGI,MAAA,IAAI,KAAK,EAAM,IAAA,iBAAA,IAAsB,EAAK,GAAA,EAAA,GAAO,KAAK,EACtD,CAAA,EAAA;AACI,QAAA,IAAIG,oBAAkBD,4BACtB,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAExB,UAAA,OAAA;AAAA,SACJ;AAIA,QAAA,GAAA,GAAM,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,KAAA,CAAM,KAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAA,GAAI,KAAK,KAAM,CAAA,EAAA,GAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAC,CAAA,CAAA;AAC1E,QAAA,IAAI,GAAO,IAAA,EAAA;AAAI,UAAA,GAAA,GAAO,IAAI,EAAM,GAAA,GAAA,CAAA;AAEhC,QAAA,IAAI,MAAMC,iBACV,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAClB,UAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,UAAA,OAAA;AAAA,SACJ;AAEA,QAAA,IAAI,eAAe,CACnB,EAAA;AACI,UAAA,IAAI,MAAM,UACV,EAAA;AACI,YAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,YAAA,OAAA;AAAA,WACJ;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ,MAAA,IACS,KAAKH,aACd,EAAA;AAGI,MAAA,IAAI,KAAK,EAAM,IAAA,iBAAA,IAAsB,EAAK,GAAA,EAAA,GAAO,KAAK,EACtD,CAAA,EAAA;AACI,QAAA,IAAIG,oBAAkBD,4BACtB,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAExB,UAAA,OAAA;AAAA,SACJ;AAIA,QAAA,GAAA,GAAM,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,KAAA,CAAM,KAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAA,GAAI,KAAK,KAAM,CAAA,EAAA,GAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAC,CAAA,CAAA;AAC1E,QAAA,IAAI,GAAO,IAAA,EAAA;AAAI,UAAA,GAAA,GAAO,IAAI,EAAM,GAAA,GAAA,CAAA;AAEhC,QAAA,IAAI,MAAMC,iBACV,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAClB,UAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,UAAA,OAAA;AAAA,SACJ;AAEA,QAAA,IAAI,eAAe,CACnB,EAAA;AACI,UAAA,IAAI,MAAM,UACV,EAAA;AACI,YAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,YAAA,OAAA;AAAA,WACJ;AAAA,SACJ;AAAA,OACJ;AAAA,KAGJ,MAAA;AAGI,MAAK,EAAA,GAAA,KAAA,GAAA,CAAU,KAAK,EAAM,IAAA,CAAA,CAAA;AAC1B,MAAK,EAAA,GAAA,KAAA,GAAA,CAAU,KAAK,EAAM,IAAA,CAAA,CAAA;AAC1B,MAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,iBAC7B,EAAA;AACI,QAAO,MAAA,CAAA,IAAA,CAAK,OAAO,KAAK,CAAA,CAAA;AAExB,QAAA,OAAA;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAIA,EAAUE,WAAA,CAAA,EAAA,EAAI,EAAI,EAAA,GAAA,EAAK,GAAK,EAAA,IAAA,EAAM,IAAM,EAAA,KAAA,EAAO,KAAO,EAAA,MAAA,EAAQ,iBAAmB,EAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAC1F,EAAUA,WAAA,CAAA,KAAA,EAAO,KAAO,EAAA,IAAA,EAAM,IAAM,EAAA,GAAA,EAAK,GAAK,EAAA,EAAA,EAAI,EAAI,EAAA,MAAA,EAAQ,iBAAmB,EAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAC9F;;ACxOA,MAAM,eAAkB,GAAA,CAAA,CAAA;AACxB,MAAM,WAAc,GAAA,YAAA,CAAA;AACpB,MAAM,qBAAwB,GAAA,CAAA,CAAA;AAE9B,MAAM,0BAA6B,GAAA,IAAA,CAAA;AACnC,MAAM,eAAkB,GAAA,CAAA,CAAA;AAEjB,SAAS,uBACZ,MACA,EAAA,EAAA,EAAY,IACZ,IAAc,EAAA,IAAA,EACd,IAAY,EAEhB,EAAA;AACI,EAAA,MAAM,KAAQ,GAAA,CAAA,CAAA;AACd,EAAA,IAAI,oBAAoB,qBAAwB,GAAA,KAAA,CAAA;AAEhD,EAAqB,iBAAA,IAAA,iBAAA,CAAA;AACrB,EAAA,KAAA,CAAM,IAAI,EAAI,EAAA,IAAA,EAAM,MAAM,EAAI,EAAA,EAAA,EAAI,QAAQ,iBAAiB,CAAA,CAAA;AAE3D,EAAO,OAAA,MAAA,CAAA;AACX,CAAA;AAKA,SAAS,KAAA,CACL,IAAY,EACZ,EAAA,IAAA,EAAc,MACd,EAAY,EAAA,EAAA,EACZ,QACA,iBAEJ,EAAA;AACI,EAAU,SAAA,CAAA,MAAA,EAAQ,IAAI,EAAI,EAAA,IAAA,EAAM,MAAM,EAAI,EAAA,EAAA,EAAI,mBAAmB,CAAC,CAAA,CAAA;AAElE,EAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACtB,CAAA;AAEA,SAAS,SAAA,CACL,QACA,EAAY,EAAA,EAAA,EACZ,IAAY,EACZ,EAAA,EAAA,EAAY,EACZ,EAAA,iBAAA,EACA,KAEJ,EAAA;AACI,EAAA,IAAI,QAAQ,eACZ,EAAA;AAAE,IAAA,OAAA;AAAA,GAAQ;AAEV,EAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAIhB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,GAAA,GAAA,CAAO,KAAK,EAAM,IAAA,CAAA,CAAA;AACxB,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAC3B,EAAM,MAAA,IAAA,GAAA,CAAQ,MAAM,GAAO,IAAA,CAAA,CAAA;AAE3B,EAAA,IAAI,KAAK,EAAK,GAAA,EAAA,CAAA;AACd,EAAA,IAAI,KAAK,EAAK,GAAA,EAAA,CAAA;AACd,EAAM,MAAA,CAAA,GAAI,KAAK,GAAO,CAAA,CAAA,EAAA,GAAK,MAAM,EAAQ,GAAA,CAAA,EAAA,GAAK,MAAM,EAAI,CAAA,CAAA;AAExD,EAAA,IAAI,IAAI,WACR,EAAA;AAGI,IAAA,IAAI,IAAI,CAAK,IAAA,iBAAA,IAAsB,EAAK,GAAA,EAAA,GAAO,KAAK,EACpD,CAAA,EAAA;AAII,MAAA,IAAI,kBAAkB,0BACtB,EAAA;AACI,QAAO,MAAA,CAAA,IAAA,CAAK,MAAM,IAAI,CAAA,CAAA;AAEtB,QAAA,OAAA;AAAA,OACJ;AAIA,MAAA,IAAI,KAAK,IAAK,CAAA,GAAA,CAAI,IAAK,CAAA,KAAA,CAAM,KAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAA,GAAI,KAAK,KAAM,CAAA,EAAA,GAAK,EAAI,EAAA,EAAA,GAAK,EAAE,CAAC,CAAA,CAAA;AAE7E,MAAA,IAAI,EAAM,IAAA,EAAA;AAAI,QAAA,EAAA,GAAM,IAAI,EAAM,GAAA,EAAA,CAAA;AAE9B,MAAA,IAAI,KAAK,eACT,EAAA;AAGI,QAAO,MAAA,CAAA,IAAA,CAAK,MAAM,IAAI,CAAA,CAAA;AAEtB,QAAA,OAAA;AAAA,OACJ;AAAA,KACJ;AAAA,GAGJ,MAAA;AAGI,IAAK,EAAA,GAAA,IAAA,GAAA,CAAS,KAAK,EAAM,IAAA,CAAA,CAAA;AACzB,IAAK,EAAA,GAAA,IAAA,GAAA,CAAS,KAAK,EAAM,IAAA,CAAA,CAAA;AACzB,IAAA,IAAK,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,IAAO,iBAC7B,EAAA;AACI,MAAO,MAAA,CAAA,IAAA,CAAK,MAAM,IAAI,CAAA,CAAA;AAEtB,MAAA,OAAA;AAAA,KACJ;AAAA,GACJ;AAIA,EAAU,SAAA,CAAA,MAAA,EAAQ,IAAI,EAAI,EAAA,GAAA,EAAK,KAAK,IAAM,EAAA,IAAA,EAAM,iBAAmB,EAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAC5E,EAAU,SAAA,CAAA,MAAA,EAAQ,MAAM,IAAM,EAAA,GAAA,EAAK,KAAK,EAAI,EAAA,EAAA,EAAI,iBAAmB,EAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAChF;;ACvHgB,SAAA,QAAA,CACZ,QACA,CAAW,EAAA,CAAA,EACX,QACA,KACA,EAAA,GAAA,EACA,WACA,KAEJ,EAAA;AAGI,EAAA,IAAI,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,GAAQ,GAAG,CAAA,CAAA;AAE/B,EAAI,IAAA,CAAC,SAAa,IAAA,KAAA,GAAQ,GAC1B,EAAA;AACI,IAAQ,IAAA,GAAA,CAAA,GAAI,KAAK,EAAM,GAAA,IAAA,CAAA;AAAA,GAC3B,MAAA,IACS,SAAa,IAAA,GAAA,GAAM,KAC5B,EAAA;AACI,IAAQ,IAAA,GAAA,CAAA,GAAI,KAAK,EAAM,GAAA,IAAA,CAAA;AAAA,GAC3B;AAIA,EAAA,KAAA,GAAQ,SAAS,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,IAAA,CAAK,MAAM,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,MAAA,EAAQ,IAAI,CAAC,CAAA,IAAK,IAAQ,GAAA,IAAA,CAAK,GAAI,CAAC,CAAA,CAAA;AAGzF,EAAQ,KAAA,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAEzB,EAAA,IAAI,IAAI,IAAQ,GAAA,KAAA,CAAA;AAChB,EAAA,IAAI,CAAI,GAAA,KAAA,CAAA;AAGR,EAAA,CAAA,IAAK,YAAY,CAAK,CAAA,GAAA,CAAA,CAAA;AAEtB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,GAAQ,GAAG,CAC/B,EAAA,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,CAAC,CAAA,CAAA;AACrB,IAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,CAAC,CAAA,CAAA;AAErB,IAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,MAAA,CAAA;AACrB,IAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,MAAA,CAAA;AAErB,IAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAElB,IAAK,CAAA,IAAA,CAAA,CAAA;AAAA,GACT;AACJ;;ACnCO,SAAS,WACZ,MACA,EAAA,EAAA,EAAY,EACZ,EAAA,EAAA,EAAY,IACZ,MAEJ,EAAA;AACI,EAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACtC,EAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AAEtC,EAAA,MAAM,KAAK,KAAQ,GAAA,EAAA,CAAA;AACnB,EAAA,MAAM,KAAK,KAAQ,GAAA,EAAA,CAAA;AACnB,EAAA,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;AAChB,EAAA,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;AAChB,EAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAK,EAAK,GAAA,EAAA,GAAO,KAAK,EAAG,CAAA,CAAA;AAEzC,EAAI,IAAA,EAAA,GAAK,IAAU,IAAA,MAAA,KAAW,CAC9B,EAAA;AACI,IAAI,IAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,KAAM,EAAM,IAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,KAAM,EACtE,EAAA;AACI,MAAO,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAAA,KACtB;AAEA,IAAA,OAAA;AAAA,GACJ;AAEA,EAAM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC7B,EAAM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC7B,EAAM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC7B,EAAA,MAAM,EAAK,GAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,EAAE,CAAI,GAAA,EAAA,CAAA;AACpC,EAAA,MAAM,EAAK,GAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,EAAE,CAAI,GAAA,EAAA,CAAA;AACpC,EAAM,MAAA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA,CAAA;AACrB,EAAM,MAAA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA,CAAA;AACrB,EAAM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC7B,EAAM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAC7B,EAAM,MAAA,EAAA,GAAK,MAAM,EAAK,GAAA,EAAA,CAAA,CAAA;AACtB,EAAM,MAAA,EAAA,GAAK,MAAM,EAAK,GAAA,EAAA,CAAA,CAAA;AACtB,EAAM,MAAA,EAAA,GAAK,MAAM,EAAK,GAAA,EAAA,CAAA,CAAA;AACtB,EAAM,MAAA,EAAA,GAAK,MAAM,EAAK,GAAA,EAAA,CAAA,CAAA;AACtB,EAAA,MAAM,aAAa,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAC9C,EAAA,MAAM,WAAW,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAE5C,EAAA,QAAA;AAAA,IAAS,MAAA;AAAA,IACJ,EAAK,GAAA,EAAA;AAAA,IACL,EAAK,GAAA,EAAA;AAAA,IACN,MAAA;AAAA,IACA,UAAA;AAAA,IACA,QAAA;AAAA,IACA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA;AAAA,GACnB,CAAA;AACJ;;AC7DA,MAAM,GAAA,GAAM,KAAK,EAAK,GAAA,CAAA,CAAA;AAEtB,MAAM,GAAM,GAAA;AAAA,EACR,OAAS,EAAA,CAAA;AAAA,EACT,OAAS,EAAA,CAAA;AAAA,EACT,IAAM,EAAA,CAAA;AAAA,EACN,IAAM,EAAA,CAAA;AACV,CAAA,CAAA;AAEA,MAAM,YAAe,GAAA,CACjB,EAAE,CAAA,EAAG,CAAE,EAAA,EACP,EAAY,EAAA,EAAA,EACZ,MAAgB,EAAA,MAAA,EAChB,OAAiB,EAAA,OAAA,EACjBC,IAEJ,KAAA;AACI,EAAK,CAAA,IAAA,EAAA,CAAA;AACL,EAAK,CAAA,IAAA,EAAA,CAAA;AAEL,EAAM,MAAA,EAAA,GAAM,MAAS,GAAA,CAAA,GAAM,MAAS,GAAA,CAAA,CAAA;AACpC,EAAM,MAAA,EAAA,GAAM,MAAS,GAAA,CAAA,GAAM,MAAS,GAAA,CAAA,CAAA;AAEpC,EAAAA,IAAAA,CAAI,IAAI,EAAK,GAAA,OAAA,CAAA;AACb,EAAAA,IAAAA,CAAI,IAAI,EAAK,GAAA,OAAA,CAAA;AAEb,EAAOA,OAAAA,IAAAA,CAAAA;AACX,CAAA,CAAA;AAEA,SAAS,aAAA,CAAc,MAAc,IACrC,EAAA;AAII,EAAM,MAAA,EAAA,GAAK,SAAS,CAAsB,kBAAA,GAAA,CAAA,cAAA,GAAkB,IAAI,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,CAAC,CAAA,CAAA;AAErF,EAAM,MAAA,CAAA,GAAI,IAAS,KAAA,kBAAA,GAAqB,cAAiB,GAAA,EAAA,CAAA;AAEzD,EAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AACxB,EAAM,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AACxB,EAAA,MAAM,EAAK,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,IAAI,CAAA,CAAA;AAC/B,EAAA,MAAM,EAAK,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,IAAI,CAAA,CAAA;AAE/B,EAAO,OAAA;AAAA,IACH;AAAA,MACI,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;AAAA,MACd,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;AAAA,KAClB;AAAA,IACA;AAAA,MACI,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;AAAA,MACd,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;AAAA,KAClB;AAAA,IACA;AAAA,MACI,CAAG,EAAA,EAAA;AAAA,MACH,CAAG,EAAA,EAAA;AAAA,KACP;AAAA,GACJ,CAAA;AACJ,CAAA;AAEA,MAAM,WAAc,GAAA,CAAC,EAAY,EAAA,EAAA,EAAY,IAAY,EACzD,KAAA;AACI,EAAA,MAAM,OAAS,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,GAAM,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAEhD,EAAI,IAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;AAE5B,EAAA,IAAI,MAAM,CACV,EAAA;AACI,IAAM,GAAA,GAAA,CAAA,CAAA;AAAA,GACV;AAEA,EAAA,IAAI,MAAM,CACV,CAAA,EAAA;AACI,IAAM,GAAA,GAAA,CAAA,CAAA,CAAA;AAAA,GACV;AAEA,EAAO,OAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA;AAC/B,CAAA,CAAA;AAEA,MAAM,YAAe,GAAA,CACjB,EACA,EAAA,EAAA,EACA,IACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,YAAA,EACA,SACA,EAAA,MAAA,EACA,MACA,EAAA,GAAA,EACA,KACAA,IAQJ,KAAA;AACI,EAAA,MAAM,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAA,CAAA;AAC3B,EAAA,MAAM,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAA,CAAA;AAC3B,EAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAC7B,EAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAE7B,EAAA,IAAI,QAAY,GAAA,IAAA,GAAO,IAAS,GAAA,IAAA,GAAO,QAAU,IAAO,GAAA,KAAA,CAAA;AAExD,EAAA,IAAI,WAAW,CACf,EAAA;AACI,IAAW,QAAA,GAAA,CAAA,CAAA;AAAA,GACf;AAEA,EAAa,QAAA,IAAA,IAAA,GAAO,QAAU,IAAO,GAAA,KAAA,CAAA;AACrC,EAAA,QAAA,GAAW,KAAK,IAAK,CAAA,QAAQ,CAAK,IAAA,YAAA,KAAiB,YAAY,CAAK,CAAA,GAAA,CAAA,CAAA,CAAA;AAEpE,EAAM,MAAA,QAAA,GAAW,QAAW,GAAA,EAAA,GAAK,EAAK,GAAA,GAAA,CAAA;AACtC,EAAA,MAAM,QAAW,GAAA,QAAA,GAAW,CAAC,EAAA,GAAK,EAAK,GAAA,GAAA,CAAA;AAEvC,EAAA,MAAM,UAAW,MAAS,GAAA,QAAA,GAAa,MAAS,GAAA,QAAA,GAAA,CAAc,KAAK,EAAM,IAAA,CAAA,CAAA;AACzE,EAAA,MAAM,UAAW,MAAS,GAAA,QAAA,GAAa,MAAS,GAAA,QAAA,GAAA,CAAc,KAAK,EAAM,IAAA,CAAA,CAAA;AAEzE,EAAM,MAAA,GAAA,GAAA,CAAO,MAAM,QAAY,IAAA,EAAA,CAAA;AAC/B,EAAM,MAAA,GAAA,GAAA,CAAO,MAAM,QAAY,IAAA,EAAA,CAAA;AAC/B,EAAM,MAAA,GAAA,GAAA,CAAO,CAAC,GAAA,GAAM,QAAY,IAAA,EAAA,CAAA;AAChC,EAAM,MAAA,GAAA,GAAA,CAAO,CAAC,GAAA,GAAM,QAAY,IAAA,EAAA,CAAA;AAEhC,EAAA,MAAM,IAAO,GAAA,WAAA,CAAY,CAAG,EAAA,CAAA,EAAG,KAAK,GAAG,CAAA,CAAA;AACvC,EAAA,IAAI,IAAO,GAAA,WAAA,CAAY,GAAK,EAAA,GAAA,EAAK,KAAK,GAAG,CAAA,CAAA;AAEzC,EAAI,IAAA,SAAA,KAAc,CAAK,IAAA,IAAA,GAAO,CAC9B,EAAA;AACI,IAAQ,IAAA,IAAA,GAAA,CAAA;AAAA,GACZ;AAEA,EAAI,IAAA,SAAA,KAAc,CAAK,IAAA,IAAA,GAAO,CAC9B,EAAA;AACI,IAAQ,IAAA,IAAA,GAAA,CAAA;AAAA,GACZ;AAEA,EAAAA,KAAI,OAAU,GAAA,OAAA,CAAA;AACd,EAAAA,KAAI,OAAU,GAAA,OAAA,CAAA;AACd,EAAAA,KAAI,IAAO,GAAA,IAAA,CAAA;AACX,EAAAA,KAAI,IAAO,GAAA,IAAA,CAAA;AACf,CAAA,CAAA;AAEO,SAAS,aACZ,CAAA,MAAA,EACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,EAAA,EACA,aAAgB,GAAA,CAAA,EAChB,YAAe,GAAA,CAAA,EACf,YAAY,CAEhB,EAAA;AACI,EAAI,IAAA,EAAA,KAAO,CAAK,IAAA,EAAA,KAAO,CACvB,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAA,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,GAAgB,MAAM,GAAG,CAAA,CAAA;AACjD,EAAA,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,GAAgB,MAAM,GAAG,CAAA,CAAA;AAEjD,EAAA,MAAM,MAAO,MAAU,IAAA,EAAA,GAAK,MAAM,CAAM,GAAA,MAAA,IAAU,KAAK,EAAM,CAAA,GAAA,CAAA,CAAA;AAC7D,EAAM,MAAA,GAAA,GAAO,CAAC,MAAU,IAAA,EAAA,GAAK,MAAM,CAAM,GAAA,MAAA,IAAU,KAAK,EAAM,CAAA,GAAA,CAAA,CAAA;AAE9D,EAAI,IAAA,GAAA,KAAQ,CAAK,IAAA,GAAA,KAAQ,CACzB,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAK,EAAA,GAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAChB,EAAK,EAAA,GAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAEhB,EAAA,MAAM,SAAU,IAAK,CAAA,GAAA,CAAI,KAAK,CAAC,CAAA,GAAI,KAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAM,GAAA,IAAA,CAAK,IAAI,GAAK,EAAA,CAAC,IAAI,IAAK,CAAA,GAAA,CAAI,IAAI,CAAC,CAAA,CAAA;AAExF,EAAA,IAAI,SAAS,CACb,EAAA;AACI,IAAM,EAAA,IAAA,IAAA,CAAK,KAAK,MAAM,CAAA,CAAA;AACtB,IAAM,EAAA,IAAA,IAAA,CAAK,KAAK,MAAM,CAAA,CAAA;AAAA,GAC1B;AAEA,EAAA,YAAA;AAAA,IACI,EAAA;AAAA,IACA,EAAA;AAAA,IACA,EAAA;AAAA,IACA,EAAA;AAAA,IACA,EAAA;AAAA,IACA,EAAA;AAAA,IACA,YAAA;AAAA,IACA,SAAA;AAAA,IACA,MAAA;AAAA,IACA,MAAA;AAAA,IACA,GAAA;AAAA,IACA,GAAA;AAAA,IACA,GAAA;AAAA,GACJ,CAAA;AAEA,EAAI,IAAA,EAAE,IAAM,EAAA,IAAA,EAAS,GAAA,GAAA,CAAA;AACrB,EAAM,MAAA,EAAE,OAAS,EAAA,OAAA,EAAY,GAAA,GAAA,CAAA;AAM7B,EAAA,IAAI,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,IAAI,KAAK,GAAM,GAAA,CAAA,CAAA,CAAA;AAEpC,EAAA,IAAI,IAAK,CAAA,GAAA,CAAI,CAAM,GAAA,KAAK,IAAI,IAC5B,EAAA;AACI,IAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,GACZ;AAEA,EAAA,MAAM,WAAW,IAAK,CAAA,GAAA,CAAI,KAAK,IAAK,CAAA,KAAK,GAAG,CAAC,CAAA,CAAA;AAE7C,EAAQ,IAAA,IAAA,QAAA,CAAA;AAER,EAAA,IAAI,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACpC,EAAA,IAAI,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AAEpC,EAAA,MAAM,aAAgB,GAAA,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAE,EAAA,CAAA;AAEnC,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,EAAU,CAC9B,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,aAAc,CAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AAEtC,IAAA,MAAM,EAAE,CAAG,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,KAAO,YAAa,CAAA,KAAA,CAAM,CAAC,CAAA,EAAG,IAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;AACvG,IAAA,MAAM,EAAE,CAAG,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,KAAO,YAAa,CAAA,KAAA,CAAM,CAAC,CAAA,EAAG,IAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;AACvG,IAAA,MAAM,EAAE,CAAA,EAAG,CAAE,EAAA,GAAI,aAAa,KAAM,CAAA,CAAC,CAAG,EAAA,EAAA,EAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;AAE/F,IAAA,mBAAA;AAAA,MACI,MAAA;AAAA,MACA,KAAA;AAAA,MAAO,KAAA;AAAA,MACP,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,CAAA;AAAA,MAAG,CAAA;AAAA,KACvB,CAAA;AAEA,IAAQ,KAAA,GAAA,CAAA,CAAA;AACR,IAAQ,KAAA,GAAA,CAAA,CAAA;AAER,IAAQ,IAAA,IAAA,IAAA,CAAA;AAAA,GACZ;AACJ;;ACnOA,MAAM,aAAA,GAAgB,IAAI,SAAU,EAAA,CAAA;AAE7B,MAAM,SACb,CAAA;AAAA,EAMI,YAAY,cACZ,EAAA;AANA,IAAA,IAAA,CAAO,kBAAiE,EAAC,CAAA;AACzE,IAAA,IAAA,CAAQ,YAA+B,GAAA,IAAA,CAAA;AAEvC,IAAiB,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,EAAA,CAAA;AAIlC,IAAA,IAAA,CAAK,eAAkB,GAAA,cAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,MAAA,CAAO,GAAW,CACzB,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,GAAG,CAAC,CAAA,CAAA;AAEnB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAA,CAAO,GAAW,CACzB,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAM,MAAA,MAAA,GAAS,KAAK,YAAa,CAAA,MAAA,CAAA;AAEjC,IAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACtC,IAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AAEtC,IAAI,IAAA,KAAA,KAAU,CAAK,IAAA,KAAA,KAAU,CAC7B,EAAA;AACI,MAAO,MAAA,CAAA,IAAA,CAAK,GAAG,CAAC,CAAA,CAAA;AAAA,KACpB;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAI,CAAW,EAAA,CAAA,EAAW,MAAgB,EAAA,UAAA,EAAoB,UAAkB,aACvF,EAAA;AAGI,IAAA,IAAA,CAAK,YAAY,KAAK,CAAA,CAAA;AAEtB,IAAM,MAAA,MAAA,GAAS,KAAK,YAAa,CAAA,MAAA,CAAA;AAEjC,IAAA,QAAA,CAAS,QAAQ,CAAG,EAAA,CAAA,EAAG,MAAQ,EAAA,UAAA,EAAY,UAAU,aAAa,CAAA,CAAA;AAElE,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAM,CAAA,EAAA,EAAY,EAAY,EAAA,EAAA,EAAY,IAAY,MAC7D,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAM,MAAA,MAAA,GAAS,KAAK,YAAa,CAAA,MAAA,CAAA;AAEjC,IAAA,UAAA,CAAW,MAAQ,EAAA,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,IAAI,MAAM,CAAA,CAAA;AAEzC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACH,EAAY,EAAA,EAAA,EACZ,eAAuB,YAAsB,EAAA,SAAA,EAC7C,GAAW,CAEf,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,KAAK,YAAa,CAAA,MAAA,CAAA;AAGjC,IAAA,aAAA;AAAA,MACI,MAAA;AAAA,MACA,KAAK,YAAa,CAAA,KAAA;AAAA,MAClB,KAAK,YAAa,CAAA,KAAA;AAAA,MAClB,CAAA;AAAA,MACA,CAAA;AAAA,MACA,EAAA;AAAA,MACA,EAAA;AAAA,MACA,aAAA;AAAA,MACA,YAAA;AAAA,MACA,SAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,cAAc,IAAc,EAAA,IAAA,EAAc,IAAc,EAAA,IAAA,EAAc,GAAW,CACxF,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAA,MAAM,cAAc,IAAK,CAAA,YAAA,CAAA;AAKzB,IAAA,mBAAA;AAAA,MACI,KAAK,YAAa,CAAA,MAAA;AAAA,MAClB,WAAY,CAAA,KAAA;AAAA,MAAO,WAAY,CAAA,KAAA;AAAA,MAC/B,IAAA;AAAA,MAAM,IAAA;AAAA,MAAM,IAAA;AAAA,MAAM,IAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA;AAAA,KAC/B,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,gBAAiB,CAAA,IAAA,EAAc,IAAc,EAAA,CAAA,EAAW,CAC/D,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAA,MAAM,cAAc,IAAK,CAAA,YAAA,CAAA;AAKzB,IAAA,sBAAA;AAAA,MACI,KAAK,YAAa,CAAA,MAAA;AAAA,MAClB,WAAY,CAAA,KAAA;AAAA,MAAO,WAAY,CAAA,KAAA;AAAA,MAC/B,IAAA;AAAA,MAAM,IAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA;AAAA,KACnB,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAEjB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAA,CAAQ,MAAoB,SACnC,EAAA;AACI,IAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEb,IAAA,IAAI,SAAa,IAAA,CAAC,SAAU,CAAA,UAAA,EAC5B,EAAA;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,MAAM,IAAI,CAAA,CAAA;AACtB,MAAA,IAAA,CAAK,UAAU,SAAS,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,YAAA,CAAa,QAAQ,CAC9C,EAAA,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAGvC,MAAA,IAAA,CAAK,WAAY,CAAA,MAAM,CAAE,CAAA,GAAI,YAAY,IAA0D,CAAA,CAAA;AAAA,KAEvG;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAA,CAAO,YAAY,KAC1B,EAAA;AACI,IAAA,IAAA,CAAK,QAAQ,SAAS,CAAA,CAAA;AAAA,GAC1B;AAAA,EAEO,IAAK,CAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,GAAW,SACxD,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,IAAI,SAAU,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAC,GAAG,SAAS,CAAA,CAAA;AAEnD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAO,CAAA,CAAA,EAAW,CAAW,EAAA,MAAA,EAAgB,SACpD,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,IAAI,MAAA,CAAO,GAAG,CAAG,EAAA,MAAM,GAAG,SAAS,CAAA,CAAA;AAElD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAA,CAAK,MAAkB,EAAA,KAAA,EAAiB,SAC/C,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAI,OAAA,CAAQ,MAAM,CAAA,CAAA;AAElC,IAAA,OAAA,CAAQ,SAAY,GAAA,KAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,SAAA,CAAU,SAAS,SAAS,CAAA,CAAA;AAAA,GACrC;AAAA,EAEO,OAAQ,CAAA,CAAA,EAAW,CAAW,EAAA,OAAA,EAAiB,SAAiB,SACvE,EAAA;AAGI,IAAK,IAAA,CAAA,SAAA,CAAU,IAAI,OAAQ,CAAA,CAAA,EAAG,GAAG,OAAS,EAAA,OAAO,GAAG,SAAS,CAAA,CAAA;AAE7D,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,UAAU,CAAW,EAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,OAAgB,SAC7E,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,IAAI,gBAAiB,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,KAAK,CAAA,EAAG,SAAS,CAAA,CAAA;AAEjE,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAA,CAAU,OAAuB,MACxC,EAAA;AACI,IAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEb,IAAA,IAAA,CAAK,gBAAgB,IAAK,CAAA,EAAE,KAAO,EAAA,SAAA,EAAW,QAAQ,CAAA,CAAA;AAEtD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAA,CAAU,GAAW,CAC5B,EAAA;AACI,IAAA,IAAI,cAAc,IAAK,CAAA,YAAA,CAAA;AAEvB,IAAA,IAAI,WACJ,EAAA;AACI,MAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAAA,KACjB;AAEA,IAAA,WAAA,GAAc,IAAI,OAAQ,EAAA,CAAA;AAE1B,IAAY,WAAA,CAAA,MAAA,CAAO,IAAK,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAE5B,IAAA,IAAA,CAAK,YAAe,GAAA,WAAA,CAAA;AAEpB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAA,CAAQ,YAAY,KAC3B,EAAA;AACI,IAAA,MAAM,QAAQ,IAAK,CAAA,YAAA,CAAA;AAEnB,IAAA,IAAI,KAAS,IAAA,KAAA,CAAM,MAAO,CAAA,MAAA,GAAS,CACnC,EAAA;AACI,MAAA,KAAA,CAAM,SAAY,GAAA,SAAA,CAAA;AAElB,MAAA,IAAA,CAAK,eAAgB,CAAA,IAAA,CAAK,EAAE,KAAA,EAAO,CAAA,CAAA;AAAA,KACvC;AAEA,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAEpB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEQ,WAAA,CAAY,QAAQ,IAC5B,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA;AAAc,MAAA,OAAA;AAEvB,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,OAAQ,EAAA,CAAA;AAEhC,IAAA,IAAI,KACJ,EAAA;AAEI,MAAA,MAAM,YAAY,IAAK,CAAA,eAAA,CAAgB,IAAK,CAAA,eAAA,CAAgB,SAAS,CAAC,CAAA,CAAA;AAEtE,MAAA,IAAI,SACJ,EAAA;AAEI,QAAI,IAAA,EAAA,GAAK,UAAU,KAAM,CAAA,CAAA,CAAA;AACzB,QAAI,IAAA,EAAA,GAAK,UAAU,KAAM,CAAA,CAAA,CAAA;AAEzB,QAAI,IAAA,SAAA,CAAU,SAAU,CAAA,UAAA,EACxB,EAAA;AACI,UAAA,MAAM,IAAI,SAAU,CAAA,SAAA,CAAA;AAEpB,UAAA,MAAM,KAAQ,GAAA,EAAA,CAAA;AAEd,UAAA,EAAA,GAAM,EAAE,CAAI,GAAA,EAAA,GAAO,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA,CAAA;AACjC,UAAA,EAAA,GAAM,EAAE,CAAI,GAAA,KAAA,GAAU,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA,CAAA;AAAA,SACxC;AAEA,QAAA,IAAA,CAAK,YAAa,CAAA,MAAA,CAAO,IAAK,CAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAAA,OAGxC,MAAA;AACI,QAAA,IAAA,CAAK,YAAa,CAAA,MAAA,CAAO,IAAK,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,OACtC;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,SACP,GAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,eAAA,CAAA;AAElB,IAAA,IAAA,CAAK,gBAAgB,MAAS,GAAA,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAEpB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,YAAA,CAAa,QAAQ,CAC9C,EAAA,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAGvC,MAAA,IAAA,CAAK,WAAY,CAAA,MAAM,CAAE,CAAA,GAAI,YAAY,IAA0D,CAAA,CAAA;AAAA,KACvG;AAEA,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,OAAA,CAAA;AAEpB,IAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AAEb,IAAA,MAAM,kBAAkB,IAAK,CAAA,eAAA,CAAA;AAE7B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAC5C,EAAA,EAAA;AACI,MAAM,MAAA,cAAA,GAAiB,gBAAgB,CAAC,CAAA,CAAA;AAExC,MAAA,MAAM,UAAa,GAAA,cAAA,CAAe,KAAM,CAAA,SAAA,CAAU,aAAa,CAAA,CAAA;AAE/D,MAAA,IAAI,eAAe,SACnB,EAAA;AACI,QAAO,MAAA,CAAA,UAAA,CAAW,eAAe,SAAS,CAAA,CAAA;AAC1C,QAAA,MAAA,CAAO,QAAQ,UAAU,CAAA,CAAA;AACzB,QAAA,MAAA,CAAO,SAAU,EAAA,CAAA;AAAA,OAGrB,MAAA;AACI,QAAA,MAAA,CAAO,QAAQ,UAAU,CAAA,CAAA;AAAA,OAC7B;AAAA,KACJ;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AACJ;;AChUO,MAAM,YACb,CAAA;AAAA,EAyBI,YAAY,YACZ,EAAA;AAzBA,IAAA,IAAA,CAAO,eAAkC,EAAC,CAAA;AAE1C,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,cAAc,CAAA,CAAA;AAE/B,IAAA,IAAA,CAAQ,MAAS,GAAA,IAAA,CAAA;AAzBrB,IAAA,IAAA,EAAA,CAAA;AA+CQ,IAAI,IAAA,OAAO,iBAAiB,QAC5B,EAAA;AACI,MAAA,iBAAA,CAAkB,cAAc,IAAI,CAAA,CAAA;AAAA,KAGxC,MAAA;AACI,MAAA,IAAA,CAAK,YAAe,GAAA,CAAA,EAAA,GAAA,YAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,YAAA,CAAc,KAAd,EAAA,KAAA,IAAA,GAAA,EAAA,GAAyB,EAAC,CAAA;AAAA,KAClD;AAAA,GACJ;AAAA,EA1BA,IAAI,SACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,GAAa,IAAI,SAAA,CAAU,IAAI,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,IAAI,KAAK,MACT,EAAA;AACI,MAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AACd,MAAA,IAAA,CAAK,WAAW,SAAU,EAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAcO,OAAA,CAAQ,MAAoB,SACnC,EAAA;AACI,IAAA,IAAA,GAAO,KAAK,KAAM,EAAA,CAAA;AAClB,IAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,EAAE,MAAQ,EAAA,SAAA,EAAW,MAAM,CAAC,IAAA,EAAM,SAAS,CAAA,EAAG,CAAA,CAAA;AAErE,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,OAAO,IACd,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,KAAO,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEpD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,SAAS,IAChB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,OAAS,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEtD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAIO,YAAY,IACnB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,UAAY,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEzD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,iBAAiB,IACxB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,eAAiB,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAE9D,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,kBAAmB,CAAA,IAAA,EAAc,IAAc,EAAA,CAAA,EAAW,CACjE,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,YAAA,CAAa,IAAK,CAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAE3D,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,aAAc,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAEjD,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,IAAA,IAAI,CAAC,IAAA,IAAQ,IAAK,CAAA,MAAA,KAAW,eAC7B,EAAA;AACI,MAAA,IAAA,GAAO,SAAU,CAAA,CAAA,CAAA;AACjB,MAAA,IAAA,GAAO,SAAU,CAAA,CAAA,CAAA;AAAA,KAGrB,MAAA;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAClB,MAAO,IAAA,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAElB,MAAA,MAAM,WAAW,SAAU,CAAA,CAAA,CAAA;AAC3B,MAAA,MAAM,WAAW,SAAU,CAAA,CAAA,CAAA;AAE3B,MAAA,IAAA,GAAO,YAAY,QAAW,GAAA,IAAA,CAAA,CAAA;AAC9B,MAAA,IAAA,GAAO,YAAY,QAAW,GAAA,IAAA,CAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,EAAE,MAAA,EAAQ,iBAAiB,IAAM,EAAA,CAAC,IAAM,EAAA,IAAA,EAAM,IAAM,EAAA,IAAA,EAAM,CAAG,EAAA,CAAC,GAAG,CAAA,CAAA;AAExF,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACP,GAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,KAAK,EAAE,MAAA,EAAQ,aAAa,IAAM,EAAA,IAAI,CAAA,CAAA;AAExD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,WAAW,IAClB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,SAAW,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAIxD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,UAAU,IACjB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,QAAU,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEvD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,UAAU,IACjB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,QAAU,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEvD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,oBAAoB,IAC3B,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,kBAAoB,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEjE,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,qBAAA,CAAsB,GAAW,CACxC,EAAA;AAEI,IAAA,MAAM,OAAO,IAAK,CAAA,YAAA,CAAa,IAAK,CAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAE3D,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,aAAc,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAEjD,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,IAAA,IAAI,CAAC,IAAA,IAAQ,IAAK,CAAA,MAAA,KAAW,kBAC7B,EAAA;AACI,MAAA,IAAA,GAAO,SAAU,CAAA,CAAA,CAAA;AACjB,MAAA,IAAA,GAAO,SAAU,CAAA,CAAA,CAAA;AAAA,KAGrB,MAAA;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAClB,MAAO,IAAA,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAElB,MAAA,MAAM,WAAW,SAAU,CAAA,CAAA,CAAA;AAC3B,MAAA,MAAM,WAAW,SAAU,CAAA,CAAA,CAAA;AAE3B,MAAA,IAAA,GAAO,YAAY,QAAW,GAAA,IAAA,CAAA,CAAA;AAC9B,MAAA,IAAA,GAAO,YAAY,QAAW,GAAA,IAAA,CAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,EAAE,MAAA,EAAQ,kBAAoB,EAAA,IAAA,EAAM,CAAC,IAAA,EAAM,IAAM,EAAA,CAAA,EAAG,CAAC,CAAA,EAAG,CAAA,CAAA;AAE/E,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAK,CAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,GAAW,SACxD,EAAA;AACI,IAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,EAAE,MAAA,EAAQ,MAAQ,EAAA,IAAA,EAAM,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,SAAS,GAAG,CAAA,CAAA;AAExE,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAO,CAAA,CAAA,EAAW,CAAW,EAAA,MAAA,EAAgB,SACpD,EAAA;AACI,IAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,EAAE,MAAA,EAAQ,QAAU,EAAA,IAAA,EAAM,CAAC,CAAA,EAAG,CAAG,EAAA,MAAA,EAAQ,SAAS,CAAA,EAAG,CAAA,CAAA;AAE5E,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,aAAa,IACpB,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,WAAa,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAE1D,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAGO,QAAQ,IACf,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA,EAAE,QAAQ,MAAQ,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAErD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,IAAA,CAAK,GAAW,CAAW,EAAA,MAAA,EAAgB,QAAgB,WAAsB,EAAA,QAAA,GAAW,GAAG,SACtG,EAAA;AACI,IAAA,WAAA,GAAc,eAAe,MAAS,GAAA,CAAA,CAAA;AAEtC,IAAA,MAAM,UAAc,GAAA,CAAA,CAAA,GAAK,IAAK,CAAA,EAAA,GAAK,CAAK,GAAA,QAAA,CAAA;AACxC,IAAA,MAAM,MAAM,MAAS,GAAA,CAAA,CAAA;AACrB,IAAM,MAAA,KAAA,GAAS,IAAK,CAAA,EAAA,GAAK,CAAK,GAAA,GAAA,CAAA;AAC9B,IAAA,MAAM,UAAU,EAAC,CAAA;AAEjB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,GAAA,EAAK,CACzB,EAAA,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,CAAI,GAAA,CAAA,GAAI,WAAc,GAAA,MAAA,CAAA;AAChC,MAAM,MAAA,KAAA,GAAS,IAAI,KAAS,GAAA,UAAA,CAAA;AAE5B,MAAQ,OAAA,CAAA,IAAA;AAAA,QACJ,CAAK,GAAA,CAAA,GAAI,IAAK,CAAA,GAAA,CAAI,KAAK,CAAA;AAAA,QACvB,CAAK,GAAA,CAAA,GAAI,IAAK,CAAA,GAAA,CAAI,KAAK,CAAA;AAAA,OAC3B,CAAA;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,IAAA,CAAK,OAAS,EAAA,IAAA,EAAM,SAAS,CAAA,CAAA;AAElC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAA,CAAM,OAAO,KACpB,EAAA;AACI,IAAM,MAAA,iBAAA,GAAoB,IAAI,YAAa,EAAA,CAAA;AAE3C,IAAA,IAAI,CAAC,IACL,EAAA;AACI,MAAkB,iBAAA,CAAA,YAAA,GAAe,IAAK,CAAA,YAAA,CAAa,KAAM,EAAA,CAAA;AAAA,KAG7D,MAAA;AACI,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,YAAA,CAAa,QAAQ,CAC9C,EAAA,EAAA;AACI,QAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAEvC,QAAkB,iBAAA,CAAA,YAAA,CAAa,IAAK,CAAA,EAAE,MAAQ,EAAA,WAAA,CAAY,MAAQ,EAAA,IAAA,EAAM,WAAY,CAAA,IAAA,CAAK,KAAM,EAAA,EAAG,CAAA,CAAA;AAAA,OACtG;AAAA,KACJ;AAEA,IAAO,OAAA,iBAAA,CAAA;AAAA,GACX;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,aAAa,MAAS,GAAA,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAA,IAAI,OAAO,UAAW,EAAA;AAAG,MAAO,OAAA,IAAA,CAAA;AAEhC,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,IAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,IAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AACR,IAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AAER,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AACT,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAET,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,YAAA,CAAa,QAAQ,CAC9C,EAAA,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AACvC,MAAA,MAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AAEzB,MAAA,QAAQ,YAAY,MACpB;AAAA,QACI,KAAK,QAAA,CAAA;AAAA,QACL,KAAK,QAAA;AAED,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AACV,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AAEV,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,MAAA;AAAA,QACJ,KAAK,eAAA;AAED,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AACb,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AACb,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AACb,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AAEb,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AACV,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AAEV,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AACpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AACpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AACpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AACpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,MAAA;AAAA,QAEJ,KAAK,kBAAA;AAED,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AACb,UAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AAEb,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AACV,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AAEV,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AACpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,IAAA,GAAS,IAAI,IAAQ,GAAA,EAAA,CAAA;AAEpC,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAE9B,UAAA,MAAA;AAAA,QAEJ,KAAK,UAAA;AAED,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AACV,UAAA,CAAA,GAAI,KAAK,CAAC,CAAA,CAAA;AAEV,UAAA,EAAA,GAAK,KAAK,CAAC,CAAA,CAAA;AACX,UAAA,EAAA,GAAK,KAAK,CAAC,CAAA,CAAA;AAIX,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,CAAI,GAAA,EAAA,CAAA;AAC1B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,CAAI,GAAA,EAAA,CAAA;AAE1B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC9B,UAAA,IAAA,CAAK,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAE9B,UAAA,MAAA;AAAA,QAEJ,KAAK,MAAA;AAED,UAAA,IAAA,CAAK,CAAC,CAAI,GAAA,eAAA,CAAgB,IAAK,CAAA,CAAC,GAAG,MAAM,CAAA,CAAA;AACzC,UAAA,MAAA;AAAA,QACJ,KAAK,SAAA;AACD,UAAA,IAAA,CAAK,CAAC,CAAI,GAAA,eAAA,CAAgB,IAAK,CAAA,CAAC,GAAG,MAAM,CAAA,CAAA;AACzC,UAAA,MAAA;AAAA,QACJ,KAAK,WAAA;AACD,UAAA,IAAA,CAAK,CAAC,CAAI,GAAA,eAAA,CAAgB,IAAK,CAAA,CAAC,GAAG,MAAM,CAAA,CAAA;AACzC,UAAA,MAAA;AAAA,QAEJ,KAAK,SAAA;AACD,UAAK,IAAA,CAAA,CAAC,CAAE,CAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AACxB,UAAA,MAAA;AAAA,QACJ;AAEI,UAAK,IAAA,CAAA,0BAAA,EAA4B,YAAY,MAAM,CAAA,CAAA;AAEnD,UAAA,MAAA;AAAA,OACR;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,MAAA,CAAA;AAAA,GAC1B;AAAA,EAEQ,cAAc,GACtB,EAAA;AACI,IAAI,IAAA,KAAA,GAAQ,IAAK,CAAA,YAAA,CAAa,MAAS,GAAA,CAAA,CAAA;AAEvC,IAAI,IAAA,eAAA,GAAkB,IAAK,CAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAE7C,IAAA,IAAI,CAAC,eACL,EAAA;AACI,MAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AACR,MAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AAER,MAAO,OAAA,GAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,eAAA,CAAgB,WAAW,WAClC,EAAA;AACI,MAAA,KAAA,EAAA,CAAA;AAEA,MAAA,IAAI,QAAQ,CACZ,EAAA;AACI,QAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AACR,QAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AAER,QAAO,OAAA,GAAA,CAAA;AAAA,OACX;AAEA,MAAkB,eAAA,GAAA,IAAA,CAAK,aAAa,KAAK,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,SAAA,CAAA;AAEJ,IAAA,QAAQ,gBAAgB,MACxB;AAAA,MACI,KAAK,QAAA,CAAA;AAAA,MACL,KAAK,QAAA;AACD,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAA,MAAA;AAAA,MACJ,KAAK,kBAAA;AACD,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAA,MAAA;AAAA,MACJ,KAAK,eAAA;AACD,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAA,MAAA;AAAA,MACJ,KAAK,KAAA,CAAA;AAAA,MACL,KAAK,UAAA;AACD,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAI,GAAA,CAAA,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAC9B,QAAA,MAAA;AAAA,MACJ,KAAK,SAAA;AAED,QAAA,GAAA,CAAI,CAAI,GAAA,eAAA,CAAgB,IAAK,CAAA,CAAC,CAAE,CAAA,KAAA,CAAA;AAChC,QAAA,GAAA,CAAI,CAAI,GAAA,eAAA,CAAgB,IAAK,CAAA,CAAC,CAAE,CAAA,KAAA,CAAA;AAChC,QAAA,MAAA;AAAA,MACJ,KAAK,MAAA;AAGD,QAAY,SAAA,GAAA,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAClC,QAAI,CAAA,GAAA,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAC1B,QAAI,CAAA,GAAA,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAE1B,QAAA,IAAI,SACJ,EAAA;AACI,UAAA,MAAM,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,EAAA,EAAI,IAAO,GAAA,SAAA,CAAA;AAE/B,UAAA,GAAA,CAAI,CAAK,GAAA,CAAA,GAAI,CAAM,GAAA,CAAA,GAAI,CAAK,GAAA,EAAA,CAAA;AAC5B,UAAA,GAAA,CAAI,CAAK,GAAA,CAAA,GAAI,CAAM,GAAA,CAAA,GAAI,CAAK,GAAA,EAAA,CAAA;AAAA,SAGhC,MAAA;AACI,UAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AACR,UAAA,GAAA,CAAI,CAAI,GAAA,CAAA,CAAA;AAAA,SACZ;AAEA,QAAA,MAAA;AAAA,MACJ;AAEI,QAAK,IAAA,CAAA,CAAA,EAAG,gBAAgB,MAA6B,CAAA,qBAAA,CAAA,CAAA,CAAA;AAErD,QAAA,MAAA;AAAA,KACR;AAEA,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ,CAAA;AAEA,SAAS,eAAA,CAAgB,eAAuB,SAChD,EAAA;AACI,EAAA,IAAI,aACJ,EAAA;AACI,IAAO,OAAA,aAAA,CAAc,QAAQ,SAAS,CAAA,CAAA;AAAA,GAC1C;AAEA,EAAA,OAAO,UAAU,KAAM,EAAA,CAAA;AAC3B;;;;;;;;;;;;;;;;;;ACxgBgB,SAAA,SAAA,CACZ,KACA,eAEJ,EAAA;AACI,EAAI,IAAA,OAAO,QAAQ,QACnB,EAAA;AACI,IAAM,MAAA,GAAA,GAAM,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAExC,IAAI,GAAA,CAAA,SAAA,GAAY,IAAI,IAAK,EAAA,CAAA;AACzB,IAAM,GAAA,GAAA,GAAA,CAAI,cAAc,KAAK,CAAA,CAAA;AAAA,GACjC;AAEA,EAAA,MAAM,OAAU,GAAA;AAAA,IACZ,OAAS,EAAA,eAAA;AAAA,IACT,IAAA,EAAM,IAAI,YAAa,EAAA;AAAA,GAC3B,CAAA;AAEA,EAAe,cAAA,CAAA,GAAA,EAAK,OAAS,EAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AAEvC,EAAO,OAAA,eAAA,CAAA;AACX,CAAA;AAEA,SAAS,cAAe,CAAA,GAAA,EAAiB,OAAkB,EAAA,SAAA,EAAsB,WACjF,EAAA;AACI,EAAA,MAAM,WAAW,GAAI,CAAA,QAAA,CAAA;AAErB,EAAA,MAAM,EAAE,SAAW,EAAA,EAAA,EAAI,aAAa,EAAG,EAAA,GAAI,WAAW,GAAG,CAAA,CAAA;AAEzD,EAAA,IAAI,MAAM,SACV,EAAA;AACI,IAAA,SAAA,GAAY5B,sCAAK,SAAc,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,aAE1B,EACT,EAAA;AACI,IAAY,SAAA,GAAA,EAAA,CAAA;AAAA,GAChB;AAEA,EAAA,IAAI,MAAM,WACV,EAAA;AACI,IAAA,WAAA,GAAcA,sCAAK,WAAgB,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,aAE9B,EACT,EAAA;AACI,IAAc,WAAA,GAAA,EAAA,CAAA;AAAA,GAClB;AAEA,EAAA,OAAA,CAAQ,QAAQ,SAAY,GAAA,SAAA,CAAA;AAC5B,EAAA,OAAA,CAAQ,QAAQ,WAAc,GAAA,WAAA,CAAA;AAE9B,EAAI,IAAA,CAAA,CAAA;AACJ,EAAI,IAAA,CAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,CAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,EAAA,CAAA;AACJ,EAAI,IAAA,MAAA,CAAA;AACJ,EAAI,IAAA,YAAA,CAAA;AACJ,EAAI,IAAA,CAAA,CAAA;AACJ,EAAI,IAAA,YAAA,CAAA;AACJ,EAAI,IAAA,KAAA,CAAA;AACJ,EAAI,IAAA,MAAA,CAAA;AAEJ,EAAQ,QAAA,GAAA,CAAI,QAAS,CAAA,WAAA,EACrB;AAAA,IACI,KAAK,MAAA;AACD,MAAI,CAAA,GAAA,GAAA,CAAI,aAAa,GAAG,CAAA,CAAA;AAExB,MAAe,YAAA,GAAA,IAAI,aAAa,CAAC,CAAA,CAAA;AAEjC,MAAQ,OAAA,CAAA,OAAA,CAAQ,KAAK,YAAY,CAAA,CAAA;AAEjC,MAAI,IAAA,SAAA;AAAW,QAAA,OAAA,CAAQ,QAAQ,IAAK,EAAA,CAAA;AACpC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IACJ,KAAK,QAAA;AACD,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAI,CAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAEnC,MAAA,OAAA,CAAQ,OAAQ,CAAA,OAAA,CAAQ,EAAI,EAAA,EAAA,EAAI,GAAG,CAAC,CAAA,CAAA;AAEpC,MAAI,IAAA,SAAA;AAAW,QAAA,OAAA,CAAQ,QAAQ,IAAK,EAAA,CAAA;AACpC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IACJ,KAAK,MAAA;AACD,MAAI,CAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AACnC,MAAI,CAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAEnC,MAAQ,KAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,OAAA,EAAS,CAAC,CAAA,CAAA;AAC3C,MAAS,MAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,QAAA,EAAU,CAAC,CAAA,CAAA;AAE7C,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAA,IAAI,MAAM,EACV,EAAA;AACI,QAAA,OAAA,CAAQ,QAAQ,SAAU,CAAA,CAAA,EAAG,GAAG,KAAO,EAAA,MAAA,EAAQ,MAAM,EAAE,CAAA,CAAA;AAAA,OAG3D,MAAA;AACI,QAAA,OAAA,CAAQ,OAAQ,CAAA,IAAA,CAAK,CAAG,EAAA,CAAA,EAAG,OAAO,MAAM,CAAA,CAAA;AAAA,OAC5C;AAEA,MAAI,IAAA,SAAA;AAAW,QAAA,OAAA,CAAQ,QAAQ,IAAK,EAAA,CAAA;AACpC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IACJ,KAAK,SAAA;AACD,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAA,OAAA,CAAQ,QAAQ,SAAU,EAAA,CAAA;AAC1B,MAAA,OAAA,CAAQ,OAAQ,CAAA,OAAA,CAAQ,EAAI,EAAA,EAAA,EAAI,IAAI,EAAE,CAAA,CAAA;AAEtC,MAAI,IAAA,SAAA;AAAW,QAAA,OAAA,CAAQ,QAAQ,IAAK,EAAA,CAAA;AACpC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IACJ,KAAK,MAAA;AACD,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AACrC,MAAK,EAAA,GAAA,mBAAA,CAAoB,GAAK,EAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErC,MAAA,OAAA,CAAQ,QAAQ,SAAU,EAAA,CAAA;AAC1B,MAAQ,OAAA,CAAA,OAAA,CAAQ,MAAO,CAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAC7B,MAAQ,OAAA,CAAA,OAAA,CAAQ,MAAO,CAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAE7B,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IAEJ,KAAK,SAAA;AACD,MAAe,YAAA,GAAA,GAAA,CAAI,aAAa,QAAQ,CAAA,CAAA;AAExC,MAAS,MAAA,GAAA,YAAA,CAAa,KAAM,CAAA,MAAM,CAAE,CAAA,GAAA,CAAI,CAAC,CAAM,KAAA,QAAA,CAAS,CAAG,EAAA,EAAE,CAAC,CAAA,CAAA;AAE9D,MAAQ,OAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAEjC,MAAI,IAAA,SAAA;AAAW,QAAA,OAAA,CAAQ,QAAQ,IAAK,EAAA,CAAA;AACpC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IACJ,KAAK,UAAA;AACD,MAAe,YAAA,GAAA,GAAA,CAAI,aAAa,QAAQ,CAAA,CAAA;AAExC,MAAS,MAAA,GAAA,YAAA,CAAa,KAAM,CAAA,MAAM,CAAE,CAAA,GAAA,CAAI,CAAC,CAAM,KAAA,QAAA,CAAS,CAAG,EAAA,EAAE,CAAC,CAAA,CAAA;AAE9D,MAAQ,OAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,MAAA,EAAQ,KAAK,CAAA,CAAA;AAElC,MAAI,IAAA,WAAA;AAAa,QAAA,OAAA,CAAQ,QAAQ,MAAO,EAAA,CAAA;AAExC,MAAA,MAAA;AAAA,IAEJ,KAAK,GAAA,CAAA;AAAA,IACL,KAAK,KAAA;AACD,MAAA,MAAA;AAAA,IACJ,SAAS;AAEL,MAAQ,OAAA,CAAA,IAAA,CAAK,CAAiB,cAAA,EAAA,GAAA,CAAI,QAAgC,CAAA,sBAAA,CAAA,CAAA,CAAA;AAClE,MAAA,MAAA;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,IAAA,cAAA,CAAe,QAAS,CAAA,CAAC,CAAiB,EAAA,OAAA,EAAS,WAAW,WAAW,CAAA,CAAA;AAAA,GAC7E;AACJ,CAAA;AAEA,SAAS,mBAAA,CAAoB,GAAiB,EAAA,EAAA,EAAY,YAC1D,EAAA;AACI,EAAM,MAAA,KAAA,GAAQ,GAAI,CAAA,YAAA,CAAa,EAAE,CAAA,CAAA;AAEjC,EAAO,OAAA,KAAA,GAAQ,MAAO,CAAA,KAAK,CAAI,GAAA,YAAA,CAAA;AACnC,CAAA;AAEA,SAAS,WAAW,GACpB,EAAA;AACI,EAAM,MAAA,KAAA,GAAQ,GAAI,CAAA,YAAA,CAAa,OAAO,CAAA,CAAA;AAEtC,EAAA,MAAM,cAA2B,EAAC,CAAA;AAElC,EAAA,MAAM,YAAuB,EAAC,CAAA;AAE9B,EAAA,IAAI,OAAU,GAAA,KAAA,CAAA;AACd,EAAA,IAAI,SAAY,GAAA,KAAA,CAAA;AAEhB,EAAA,IAAI,KACJ,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,KAAM,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAElC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,QAAQ,CACvC,EAAA,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,WAAW,CAAC,CAAA,CAAA;AAE9B,MAAA,MAAM,CAAC,GAAK,EAAA,KAAK,CAAI,GAAA,SAAA,CAAU,MAAM,GAAG,CAAA,CAAA;AAExC,MAAA,QAAQ,GACR;AAAA,QACI,KAAK,QAAA;AACD,UAAA,IAAI,UAAU,MACd,EAAA;AACI,YAAA,WAAA,CAAY,QAAQ,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,KAAK,EAAE,QAAS,EAAA,CAAA;AAC1D,YAAY,SAAA,GAAA,IAAA,CAAA;AAAA,WAChB;AAEA,UAAA,MAAA;AAAA,QACJ,KAAK,cAAA;AACD,UAAY,WAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AAChC,UAAA,MAAA;AAAA,QACJ,KAAK,MAAA;AACD,UAAA,IAAI,UAAU,MACd,EAAA;AACI,YAAU,OAAA,GAAA,IAAA,CAAA;AACV,YAAA,SAAA,CAAU,QAAQ,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,KAAK,EAAE,QAAS,EAAA,CAAA;AAAA,WAC5D;AACA,UAAA,MAAA;AAAA,QACJ,KAAK,cAAA;AACD,UAAU,SAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AAC9B,UAAA,MAAA;AAAA,QACJ,KAAK,gBAAA;AACD,UAAY,WAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AAChC,UAAA,MAAA;AAAA,QACJ,KAAK,SAAA;AACD,UAAU,SAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AAC9B,UAAY,WAAA,CAAA,KAAA,GAAQ,OAAO,KAAK,CAAA,CAAA;AAChC,UAAA,MAAA;AAAA,OACR;AAAA,KACJ;AAAA,GAGJ,MAAA;AACI,IAAM,MAAA,MAAA,GAAS,GAAI,CAAA,YAAA,CAAa,QAAQ,CAAA,CAAA;AAExC,IAAI,IAAA,MAAA,IAAU,WAAW,MACzB,EAAA;AACI,MAAY,SAAA,GAAA,IAAA,CAAA;AACZ,MAAA,WAAA,CAAY,QAAQ,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,MAAM,EAAE,QAAS,EAAA,CAAA;AAE3D,MAAA,WAAA,CAAY,KAAQ,GAAA,mBAAA,CAAoB,GAAK,EAAA,cAAA,EAAgB,CAAC,CAAA,CAAA;AAAA,KAClE;AAEA,IAAM,MAAA,IAAA,GAAO,GAAI,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAEpC,IAAI,IAAA,IAAA,IAAQ,SAAS,MACrB,EAAA;AACI,MAAU,OAAA,GAAA,IAAA,CAAA;AACV,MAAA,SAAA,CAAU,QAAQ,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,IAAI,EAAE,QAAS,EAAA,CAAA;AAAA,KAC3D;AAAA,GACJ;AAEA,EAAO,OAAA;AAAA,IACH,WAAA,EAAa,YAAa,WAAuC,GAAA,IAAA;AAAA,IACjE,SAAA,EAAW,UAAW,SAAmC,GAAA,IAAA;AAAA,GAC7D,CAAA;AACJ;;AC5QO,MAAM,oBAAoB,aACjC,CAAA;AAAA,EADO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AAGH,IAAA,IAAA,CAAO,cAAiB,GAAA,OAAA,CAAA;AAAA,GAAA;AAAA,EAExB,OAAc,KAAK,QACnB,EAAA;AACI,IAAQ,OAAA,OAAO,qBAAqB,WAAe,IAAA,QAAA,YAAoB,oBACnE,OAAO,WAAA,KAAgB,eAAe,QAAoB,YAAA,WAAA,CAAA;AAAA,GAClE;AACJ,CAAA;AAVa,WAAA,CAEK,YAA+B,aAAc,CAAA,aAAA,CAAA;AAW/D,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,MAAM,IAAO,GAAA,CAAA,CAAA;AAEb,MAAA,CAAO,KAAQ,GAAA,IAAA,CAAA;AACf,MAAA,CAAO,MAAS,GAAA,IAAA,CAAA;AAEhB,MAAM,GAAA,GAAM,MAAO,CAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AAElC,GAAA,CAAI,SAAY,GAAA,SAAA,CAAA;AAChB,GAAA,CAAI,QAAS,CAAA,CAAA,EAAG,CAAG,EAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AAG7B,GAAA,CAAI,SAAU,EAAA,CAAA;AACd,GAAI,CAAA,MAAA,CAAO,GAAG,CAAC,CAAA,CAAA;AACf,GAAI,CAAA,MAAA,CAAO,MAAM,CAAC,CAAA,CAAA;AAClB,GAAI,CAAA,MAAA,CAAO,MAAM,IAAI,CAAA,CAAA;AACrB,GAAA,CAAI,SAAU,EAAA,CAAA;AACd,GAAA,CAAI,SAAY,GAAA,SAAA,CAAA;AAChB,GAAA,CAAI,IAAK,EAAA,CAAA;AAET,OAAQ,CAAA,KAAA,GAAQ,IAAI,OAAQ,CAAA;AAAA,EACxB,MAAA,EAAQ,IAAI,WAAY,CAAA;AAAA,IACpB,QAAU,EAAA,MAAA;AAAA,GACb,CAAA;AACL,CAAC,CAAA,CAAA;AAED,OAAA,CAAQ,MAAM,KAAQ,GAAA,OAAA,CAAA;AACtB,OAAA,CAAQ,MAAM,OAAU,GAAA,IAAA;;ACjCjB,MAAM,gBAAN,MACP;AAAA,EAeI,WAAY,CAAA,EAAA,EAAY,EAAY,EAAA,EAAA,EAAY,EAChD,EAAA;AAbA,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,cAAc,CAAA,CAAA;AACxC,IAAA,IAAA,CAAgB,IAAqB,GAAA,QAAA,CAAA;AASrC,IAAA,IAAA,CAAO,gBAA0D,EAAC,CAAA;AAI9D,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAEV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAAA,GACd;AAAA,EAEO,YAAA,CAAa,QAAgB,KACpC,EAAA;AACI,IAAA,IAAA,CAAK,aAAc,CAAA,IAAA,CAAK,EAAE,MAAA,EAAQ,KAAO,EAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,KAAK,CAAA,CAAE,KAAM,EAAA,EAAG,CAAA,CAAA;AAE/E,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,mBACP,GAAA;AACI,IAAA,MAAM,cAAc,aAAa,CAAA,kBAAA,CAAA;AAEjC,IAAM,MAAA,EAAE,eAAkB,GAAA,IAAA,CAAA;AAE1B,IAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,IAAA,MAAA,CAAO,KAAQ,GAAA,WAAA,CAAA;AACf,IAAA,MAAA,CAAO,MAAS,GAAA,WAAA,CAAA;AAEhB,IAAM,MAAA,GAAA,GAAM,MAAO,CAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AAElC,IAAA,MAAM,WAAW,GAAI,CAAA,oBAAA,CAAqB,GAAG,CAAG,EAAA,aAAA,CAAa,oBAAoB,CAAC,CAAA,CAAA;AAElF,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,aAAA,CAAc,QAAQ,CAC1C,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,cAAc,CAAC,CAAA,CAAA;AAE5B,MAAA,QAAA,CAAS,YAAa,CAAA,IAAA,CAAK,MAAQ,EAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAAA,KACjD;AAEA,IAAA,GAAA,CAAI,SAAY,GAAA,QAAA,CAAA;AAChB,IAAA,GAAA,CAAI,QAAS,CAAA,CAAA,EAAG,CAAG,EAAA,WAAA,EAAa,WAAW,CAAA,CAAA;AAE3C,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,MACvB,MAAA,EAAQ,IAAI,WAAY,CAAA;AAAA,QACpB,QAAU,EAAA,MAAA;AAAA,QACV,KAAO,EAAA;AAAA,UACH,YAAc,EAAA,eAAA;AAAA,UACd,YAAc,EAAA,QAAA;AAAA,SAClB;AAAA,OACH,CAAA;AAAA,KACJ,CAAA,CAAA;AAID,IAAA,MAAM,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,IAAO,GAAA,IAAA,CAAA;AAE3B,IAAM,MAAA,CAAA,GAAI,IAAI,MAAO,EAAA,CAAA;AAGrB,IAAA,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;AAChB,IAAA,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;AAEhB,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAM,EAAK,GAAA,EAAA,GAAO,KAAK,EAAG,CAAA,CAAA;AAE5C,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,KAAM,CAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAE/B,IAAA,CAAA,CAAE,SAAU,CAAA,CAAC,EAAI,EAAA,CAAC,EAAE,CAAA,CAAA;AACpB,IAAA,CAAA,CAAE,KAAM,CAAA,CAAA,GAAI,WAAa,EAAA,CAAA,GAAI,WAAW,CAAA,CAAA;AACxC,IAAE,CAAA,CAAA,MAAA,CAAO,CAAC,KAAK,CAAA,CAAA;AACf,IAAE,CAAA,CAAA,KAAA,CAAM,GAAM,GAAA,IAAA,EAAM,CAAC,CAAA,CAAA;AAErB,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AAAA,GACrB;AACJ,CAAA,CAAA;AAzFO,IAAM,YAAN,GAAA,cAAA;AAAM,YAAA,CAEK,kBAAqB,GAAA,GAAA;;ACpBvC,MAAM,aAAgB,GAAA;AAAA,EAClB,MAAQ,EAAA;AAAA,IACJ,YAAc,EAAA,QAAA;AAAA,IACd,YAAc,EAAA,QAAA;AAAA,GAClB;AAAA,EACA,UAAY,EAAA;AAAA,IACR,YAAc,EAAA,QAAA;AAAA,IACd,YAAc,EAAA,eAAA;AAAA,GAClB;AAAA,EACA,UAAY,EAAA;AAAA,IACR,YAAc,EAAA,eAAA;AAAA,IACd,YAAc,EAAA,QAAA;AAAA,GAClB;AAAA,EACA,WAAa,EAAA;AAAA,IACT,YAAc,EAAA,eAAA;AAAA,IACd,YAAc,EAAA,eAAA;AAAA,GAClB;AACJ,CAAA,CAAA;AAEO,MAAM,WACb,CAAA;AAAA,EAKI,WAAA,CAAY,SAAkB,UAC9B,EAAA;AALA,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,aAAa,CAAA,CAAA;AAEvC,IAAO,IAAA,CAAA,SAAA,GAAY,IAAI,MAAO,EAAA,CAAA;AAI1B,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AAEf,IAAA,IAAA,CAAK,SAAU,CAAA,KAAA;AAAA,MACX,IAAI,OAAQ,CAAA,UAAA;AAAA,MACZ,IAAI,OAAQ,CAAA,WAAA;AAAA,KAChB,CAAA;AAEA,IAAA,IAAI,UACJ,EAAA;AACI,MAAA,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAM,YAAe,GAAA,aAAA,CAAc,UAAU,CAAE,CAAA,YAAA,CAAA;AAC9D,MAAA,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAM,YAAe,GAAA,aAAA,CAAc,UAAU,CAAE,CAAA,YAAA,CAAA;AAAA,KAClE;AAAA,GACJ;AAAA,EAEO,aAAa,SACpB,EAAA;AACI,IAAA,MAAM,UAAU,IAAK,CAAA,OAAA,CAAA;AAErB,IAAK,IAAA,CAAA,SAAA,CAAU,SAAS,SAAS,CAAA,CAAA;AACjC,IAAA,IAAA,CAAK,UAAU,MAAO,EAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAU,CAAA,KAAA;AAAA,MACX,IAAI,OAAQ,CAAA,UAAA;AAAA,MACZ,IAAI,OAAQ,CAAA,WAAA;AAAA,KAChB,CAAA;AAAA,GACJ;AACJ;;;;;;;;;;;;;;;;;;;;;AC/CgB,SAAA,2BAAA,CACZ,OACA,YAEJ,EAAA;AAlBA,EAAA,IAAA,EAAA,CAAA;AAmBI,EAAA,IAAI,CAAC,KACL,EAAA;AACI,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAEA,EAAI,IAAA,gBAAA,CAAA;AACJ,EAAI,IAAA,YAAA,CAAA;AAEJ,EAAA,IAAK,+BAA4B,IACjC,EAAA;AACI,IAAA,YAAA,GAAgB,KAA2B,CAAA,IAAA,CAAA;AAC3C,IAAA,gBAAA,GAAmBA,sCAAK,YAAkB,CAAA,EAAA,KAAA,CAAA,CAAA;AAAA,GAG9C,MAAA;AACI,IAAe,YAAA,GAAA,KAAA,CAAA;AACf,IAAmB,gBAAA,GAAA,YAAA,CAAA;AAAA,GACvB;AAEA,EAAI,IAAA,KAAA,CAAM,WAAY,CAAA,YAA2B,CACjD,EAAA;AACI,IAAA,MAAM,IAAO,GAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,sCAA+B,CAAC,CAAA,CAAA;AACnE,IAAM,MAAA,IAAA,GAA2BD,qCAC1B,gBAD0B,CAAA,EAAA;AAAA,MAE7B,KAAA,EAAO,KAAK,QAAS,EAAA;AAAA,MACrB,OAAO,IAAK,CAAA,KAAA,KAAU,CAAI,GAAA,gBAAA,CAAiB,QAAQ,IAAK,CAAA,KAAA;AAAA,MACxD,SAAS,OAAQ,CAAA,KAAA;AAAA,KACrB,CAAA,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX,MAAA,IACS,wBAAwB,WACjC,EAAA;AACI,IAAA,MAAM,OAAU,GAAA,YAAA,CAAA;AAEhB,IAAA,OAAOA,qCACA,gBADA,CAAA,EAAA;AAAA,MAEH,KAAO,EAAA,QAAA;AAAA,MACP,SAAS,OAAQ,CAAA,OAAA;AAAA,MACjB,QAAQ,OAAQ,CAAA,SAAA;AAAA,MAChB,IAAA,EAAA,CAAM,EAAiB,GAAA,gBAAA,CAAA,IAAA,KAAjB,IAAyB,GAAA,EAAA,GAAA,IAAA;AAAA,KACnC,CAAA,CAAA;AAAA,GACJ,MAAA,IAGS,wBAAwB,YACjC,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,YAAA,CAAA;AAEjB,IAAA,QAAA,CAAS,mBAAoB,EAAA,CAAA;AAE7B,IAAA,OAAOA,qCACA,gBADA,CAAA,EAAA;AAAA,MAEH,KAAO,EAAA,QAAA;AAAA,MACP,SAAS,QAAS,CAAA,OAAA;AAAA,MAClB,QAAQ,QAAS,CAAA,SAAA;AAAA,KACrB,CAAA,CAAA;AAAA,GACJ;AAEA,EAAM,MAAA,KAAA,GAAmBC,sCAAK,YAAkB,CAAA,EAAA,KAAA,CAAA,CAAA;AAEhD,EAAI,IAAA,KAAA,CAAM,OAAY,KAAA,OAAA,CAAQ,KAC9B,EAAA;AACI,IAAA,MAAM,CAAI,GAAA,KAAA,CAAM,MAAU,IAAA,IAAI,MAAO,EAAA,CAAA;AAErC,IAAE,CAAA,CAAA,KAAA,CAAM,IAAI,KAAM,CAAA,OAAA,CAAQ,YAAY,CAAI,GAAA,KAAA,CAAM,QAAQ,WAAW,CAAA,CAAA;AAEnE,IAAA,KAAA,CAAM,MAAS,GAAA,CAAA,CAAA;AAEf,IAAA,KAAA,CAAM,KAAQ,GAAA,QAAA,CAAA;AAAA,GAClB;AAEA,EAAA,KAAA,CAAM,QAAQ,KAAM,CAAA,MAAA,CAAO,SAAS,KAAM,CAAA,KAAK,EAAE,QAAS,EAAA,CAAA;AAG1D,EAAO,OAAA,KAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;AC3CA,MAAM,QAAA,GAAW,IAAI,KAAM,EAAA,CAAA;AAgC3B,MAAM,UAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAEvB,MAAM,gBAAA,GAAN,cAA8BU,aAIrC,CAAA;AAAA,EAJO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AA0BH,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,iBAAiB,CAAA,CAAA;AAClC,IAAA,IAAA,CAAO,KAAQ,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAO,SAAuB,GAAA,MAAA,CAAA;AAC9B,IAAA,IAAA,CAAO,eAAuC,EAAC,CAAA;AAG/C,IAAQ,IAAA,CAAA,WAAA,GAA4B,IAAI,YAAa,EAAA,CAAA;AACrD,IAAQ,IAAA,CAAA,UAAA,GAAqB,IAAI,MAAO,EAAA,CAAA;AAExC,IAAQ,IAAA,CAAA,UAAA,GAAiCV,qBAAK,gBAAgB,CAAA,gBAAA,CAAA,CAAA;AAC9D,IAAQ,IAAA,CAAA,YAAA,GAAqCA,qBAAK,gBAAgB,CAAA,kBAAA,CAAA,CAAA;AAClE,IAAA,IAAA,CAAQ,cAAyG,EAAC,CAAA;AAElH,IAAA,IAAA,CAAQ,KAAQ,GAAA,CAAA,CAAA;AAEhB,IAAQ,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,EAAA,CAAA;AAC7B,IAAA,IAAA,CAAQ,YAAe,GAAA,IAAA,CAAA;AAAA,GAAA;AAAA,EAEvB,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,2BAAA,CAA4B,KAAO,EAAA,gBAAA,CAAgB,gBAAgB,CAAA,CAAA;AAAA,GACzF;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,2BAAA,CAA4B,KAAO,EAAA,gBAAA,CAAgB,kBAAkB,CAAA,CAAA;AAAA,GAC7F;AAAA,EAMO,QAAQ,OAAkB,EAAA,IAAA,EAAoB,EAAa,EAAA,EAAA,EAAa,IAAa,EAC5F,EAAA;AACI,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA;AAAA,MACnB,MAAQ,EAAA,SAAA;AAAA,MACR,IAAM,EAAA;AAAA,QACF,KAAO,EAAA,OAAA;AAAA,QAEP,IAAI,EAAM,IAAA,CAAA;AAAA,QACV,IAAI,EAAM,IAAA,CAAA;AAAA,QAEV,EAAA,EAAI,MAAM,OAAQ,CAAA,UAAA;AAAA,QAClB,EAAA,EAAI,MAAM,OAAQ,CAAA,WAAA;AAAA,QAElB,SAAA,EAAW,IAAK,CAAA,UAAA,CAAW,KAAM,EAAA;AAAA,QACjC,KAAA,EAAO,KAAK,UAAW,CAAA,KAAA;AAAA,QACvB,KAAA,EAAO,OAAO,KAAM,CAAA,MAAA,CAAO,SAAS,IAAI,CAAA,CAAE,UAAa,GAAA,CAAA;AAAA,OAC3D;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACP,GAAA;AACI,IAAK,IAAA,CAAA,WAAA,GAAc,IAAI,YAAa,EAAA,CAAA;AAEpC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAKO,IAAA,CAAK,OAAyB,KACrC,EAAA;AACI,IAAI,IAAA,IAAA,CAAA;AAEJ,IAAA,MAAM,kBAAkB,IAAK,CAAA,YAAA,CAAa,IAAK,CAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAEtE,IAAA,IAAI,KAAK,KAAU,KAAA,CAAA,IAAK,eAAmB,IAAA,eAAA,CAAgB,WAAW,QACtE,EAAA;AACI,MAAA,IAAA,GAAO,gBAAgB,IAAK,CAAA,IAAA,CAAA;AAAA,KAGhC,MAAA;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,YAAY,KAAM,EAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAI,CAAC,IAAA;AAAM,MAAO,OAAA,IAAA,CAAA;AAElB,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,IAAI,KAAU,KAAA,KAAA,CAAA,IAAa,OAAO,KAAA,KAAU,QAC5C,EAAA;AACI,QAAA,WAAA,CAAY,SAAS,sGAAsG,CAAA,CAAA;AAC3H,QAAQ,KAAA,GAAA,EAAE,KAAO,EAAA,KAAA,EAAO,KAAM,EAAA,CAAA;AAAA,OAClC;AACA,MAAA,IAAA,CAAK,UAAa,GAAA,2BAAA,CAA4B,KAAO,EAAA,gBAAA,CAAgB,gBAAgB,CAAA,CAAA;AAAA,KACzF;AAGA,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA;AAAA,MACnB,MAAQ,EAAA,MAAA;AAAA;AAAA,MAER,IAAM,EAAA,EAAE,KAAO,EAAA,IAAA,CAAK,WAAW,IAAK,EAAA;AAAA,KACvC,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAEd,IAAK,IAAA,CAAA,WAAA,CAAY,aAAa,MAAS,GAAA,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAEb,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAO,KACd,EAAA;AACI,IAAI,IAAA,IAAA,CAAA;AAEJ,IAAA,MAAM,kBAAkB,IAAK,CAAA,YAAA,CAAa,IAAK,CAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAEtE,IAAA,IAAI,KAAK,KAAU,KAAA,CAAA,IAAK,eAAmB,IAAA,eAAA,CAAgB,WAAW,MACtE,EAAA;AACI,MAAA,IAAA,GAAO,gBAAgB,IAAK,CAAA,IAAA,CAAA;AAAA,KAGhC,MAAA;AACI,MAAO,IAAA,GAAA,IAAA,CAAK,YAAY,KAAM,EAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAI,CAAC,IAAA;AAAM,MAAO,OAAA,IAAA,CAAA;AAElB,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,IAAA,CAAK,YAAe,GAAA,2BAAA,CAA4B,KAAO,EAAA,gBAAA,CAAgB,kBAAkB,CAAA,CAAA;AAAA,KAC7F;AAGA,IAAA,IAAA,CAAK,aAAa,IAAK,CAAA;AAAA,MACnB,MAAQ,EAAA,QAAA;AAAA;AAAA,MAER,IAAM,EAAA,EAAE,KAAO,EAAA,IAAA,CAAK,aAAa,IAAK,EAAA;AAAA,KACzC,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAEd,IAAK,IAAA,CAAA,WAAA,CAAY,aAAa,MAAS,GAAA,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAEb,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,GACP,GAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,CACvB,EAAA,EAAA;AACI,MAAA,MAAM,kBAAkB,IAAK,CAAA,YAAA,CAAa,KAAK,YAAa,CAAA,MAAA,GAAS,IAAI,CAAC,CAAA,CAAA;AAE1E,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,WAAA,CAAY,KAAM,EAAA,CAAA;AAExC,MAAA,IAAI,eACJ,EAAA;AACI,QAAA,IAAI,eAAgB,CAAA,MAAA,KAAW,QAAY,IAAA,eAAA,CAAgB,WAAW,MACtE,EAAA;AACI,UAAA,eAAA,CAAgB,KAAK,IAAO,GAAA,QAAA,CAAA;AAAA,SAChC;AAAA,OACJ;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,aAAa,MAAS,GAAA,CAAA,CAAA;AAEvC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAI,CAAW,EAAA,CAAA,EAAW,MAAgB,EAAA,UAAA,EAAoB,UAAkB,gBACvF,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,GAAA;AAAA,MACZ,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MAC1B,MAAA;AAAA,MACA,UAAA;AAAA,MACA,QAAA;AAAA,MACA,gBAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAM,CAAA,EAAA,EAAY,EAAY,EAAA,EAAA,EAAY,IAAY,MAC7D,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,KAAA;AAAA,MACZ,EAAE,CAAI,GAAA,EAAA,GAAO,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA;AAAA,MAC3B,EAAE,CAAI,GAAA,EAAA,GAAO,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA;AAAA,MAC3B,EAAE,CAAI,GAAA,EAAA,GAAO,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA;AAAA,MAC3B,EAAE,CAAI,GAAA,EAAA,GAAO,CAAE,CAAA,CAAA,GAAI,KAAM,CAAE,CAAA,EAAA;AAAA,MAC5B,MAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACH,EAAY,EAAA,EAAA,EACZ,eACA,YACA,EAAA,SAAA,EACA,GAAW,CAEf,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,QAAA;AAAA,MACb,EAAA;AAAA,MAAI,EAAA;AAAA,MACJ,aAAA;AAAA;AAAA,MACA,YAAA;AAAA,MACA,SAAA;AAAA,MACC,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,KAC9B,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,cAAc,IAAc,EAAA,IAAA,EAAc,IAAc,EAAA,IAAA,EAAc,GAAW,CACxF,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAGL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,aAAA;AAAA,MACZ,EAAE,CAAI,GAAA,IAAA,GAAS,CAAE,CAAA,CAAA,GAAI,OAAQ,CAAE,CAAA,EAAA;AAAA,MAC/B,EAAE,CAAI,GAAA,IAAA,GAAS,CAAE,CAAA,CAAA,GAAI,OAAQ,CAAE,CAAA,EAAA;AAAA,MAC/B,EAAE,CAAI,GAAA,IAAA,GAAS,CAAE,CAAA,CAAA,GAAI,OAAQ,CAAE,CAAA,EAAA;AAAA,MAC/B,EAAE,CAAI,GAAA,IAAA,GAAS,CAAE,CAAA,CAAA,GAAI,OAAQ,CAAE,CAAA,EAAA;AAAA,MAC/B,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,KAC9B,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACP,GAAA;AAhXJ,IAAA,IAAA,EAAA,CAAA;AAiXQ,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,gBAAL,IAAkB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,SAAA,EAAA,CAAA;AAElB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAQ,CAAA,CAAA,EAAW,CAAW,EAAA,OAAA,EAAiB,OACtD,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,CAAG,EAAA,CAAA,EAAG,SAAS,OAAS,EAAA,IAAA,CAAK,UAAW,CAAA,KAAA,EAAO,CAAA,CAAA;AAExE,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAA,CAAO,CAAW,EAAA,CAAA,EAAW,MACpC,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,WAAA,CAAY,OAAO,CAAG,EAAA,CAAA,EAAG,QAAQ,IAAK,CAAA,UAAA,CAAW,OAAO,CAAA,CAAA;AAE7D,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAK,IACZ,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,IAAA,EAAM,IAAK,CAAA,UAAA,CAAW,OAAO,CAAA,CAAA;AAEtD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAA,CAAO,GAAW,CACzB,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,MAAA;AAAA,MACZ,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,KAC9B,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,MAAA,CAAO,GAAW,CACzB,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,MAAA;AAAA,MACZ,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,KAC9B,CAAA;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,gBAAiB,CAAA,GAAA,EAAa,GAAa,EAAA,CAAA,EAAW,CAC7D,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,MAAM,IAAI,IAAK,CAAA,UAAA,CAAA;AAEf,IAAA,IAAA,CAAK,WAAY,CAAA,gBAAA;AAAA,MACZ,EAAE,CAAI,GAAA,GAAA,GAAQ,CAAE,CAAA,CAAA,GAAI,MAAO,CAAE,CAAA,EAAA;AAAA,MAC7B,EAAE,CAAI,GAAA,GAAA,GAAQ,CAAE,CAAA,CAAA,GAAI,MAAO,CAAE,CAAA,EAAA;AAAA,MAC7B,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,MACzB,EAAE,CAAI,GAAA,CAAA,GAAM,CAAE,CAAA,CAAA,GAAI,IAAK,CAAE,CAAA,EAAA;AAAA,KAC9B,CAAA;AAAA,GACJ;AAAA,EAEO,IAAK,CAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,CAC7C,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,WAAA,CAAY,KAAK,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,IAAA,CAAK,UAAW,CAAA,KAAA,EAAO,CAAA,CAAA;AAEzD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAU,CAAA,CAAA,EAAW,CAAW,EAAA,CAAA,EAAW,GAAW,KAC7D,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,WAAA,CAAY,SAAU,CAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,GAAG,KAAO,EAAA,IAAA,CAAK,UAAW,CAAA,KAAA,EAAO,CAAA,CAAA;AAErE,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAA,CAAK,QAAkB,KAC9B,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,IAAA,CAAK,YAAY,IAAK,CAAA,MAAA,EAAQ,OAAO,IAAK,CAAA,UAAA,CAAW,OAAO,CAAA,CAAA;AAE5D,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAK,CAAW,EAAA,CAAA,EAAW,MAAgB,EAAA,MAAA,EAAgB,aAAqB,QACvF,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,WAAA,CAAY,IAAK,CAAA,CAAA,EAAG,CAAG,EAAA,MAAA,EAAQ,MAAQ,EAAA,WAAA,EAAa,QAAU,EAAA,IAAA,CAAK,UAAW,CAAA,KAAA,EAAO,CAAA,CAAA;AAE1F,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,IAAI,GACX,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,SAAA,CAAU,KAAK,IAAI,CAAA,CAAA;AAAA,GACvB;AAAA,EAEO,OACP,GAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,WAAA,CAAY,GAAI,EAAA,CAAA;AAEnC,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,IAAA,CAAK,aAAa,KAAM,CAAA,SAAA,CAAA;AACxB,MAAA,IAAA,CAAK,aAAa,KAAM,CAAA,SAAA,CAAA;AACxB,MAAA,IAAA,CAAK,eAAe,KAAM,CAAA,WAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA,EAEO,IACP,GAAA;AACI,IAAA,IAAA,CAAK,YAAY,IAAK,CAAA;AAAA,MAClB,SAAA,EAAW,IAAK,CAAA,UAAA,CAAW,KAAM,EAAA;AAAA,MACjC,SAAA,EAAWA,qBAAK,IAAK,CAAA,UAAA,CAAA;AAAA,MACrB,WAAA,EAAaA,qBAAK,IAAK,CAAA,YAAA,CAAA;AAAA,KAC1B,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,YACP,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEO,cACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAW,QAAS,EAAA,CAAA;AAEzB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAO,KACd,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,OAAO,KAAK,CAAA,CAAA;AAE5B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAA,CAAM,CAAW,EAAA,CAAA,GAAY,CACpC,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,KAAM,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAE1B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAIO,aAAa,CAAoB,EAAA,CAAA,EAAY,CAAY,EAAA,CAAA,EAAY,IAAa,EACzF,EAAA;AACI,IAAA,IAAI,aAAa,MACjB,EAAA;AACI,MAAA,IAAA,CAAK,UAAW,CAAA,GAAA,CAAI,CAAE,CAAA,CAAA,EAAG,CAAE,CAAA,CAAA,EAAG,CAAE,CAAA,CAAA,EAAG,CAAE,CAAA,CAAA,EAAG,CAAE,CAAA,EAAA,EAAI,EAAE,EAAE,CAAA,CAAA;AAElD,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAA,CAAK,WAAW,GAAI,CAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,IAAI,EAAE,CAAA,CAAA;AAEtC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAIO,UAAU,CAAoB,EAAA,CAAA,EAAY,CAAY,EAAA,CAAA,EAAY,IAAa,EACtF,EAAA;AACI,IAAA,IAAI,aAAa,MACjB,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,OAAO,CAAC,CAAA,CAAA;AAExB,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAA,UAAA,CAAW,IAAI,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,IAAI,EAAE,CAAA,CAAA;AACjC,IAAK,IAAA,CAAA,UAAA,CAAW,OAAO,UAAU,CAAA,CAAA;AAEjC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAA,CAAU,GAAW,CAC5B,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,SAAU,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAE9B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,aAAa,MAAS,GAAA,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAEd,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEU,QACV,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,KAAA;AAAO,MAAA,OAAA;AAEhB,IAAK,IAAA,CAAA,IAAA,CAAK,QAAU,EAAA,IAAA,EAAM,EAAI,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,IAAI,CAAC,IAAK,CAAA,YAAA;AAAc,MAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAGpC,IAAA,MAAM,SAAS,IAAK,CAAA,OAAA,CAAA;AAEpB,IAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AAEb,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,YAAA,CAAa,QAAQ,CAC9C,EAAA,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AACvC,MAAA,MAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAE3B,MAAA,IAAI,WAAW,MACf,EAAA;AACI,QAAA,MAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AAEzB,QAAO,MAAA,CAAA,SAAA,CAAU,IAAK,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,OACrC,MAAA,IACS,WAAW,SACpB,EAAA;AACI,QAAA,MAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AAEzB,QAAO,MAAA,CAAA,UAAA,CAAW,KAAK,SAAS,CAAA,CAAA;AAChC,QAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,EAAI,EAAA,IAAA,CAAK,EAAI,EAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAK,EAAI,EAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAK,EAAE,CAAA,CAAA;AACtE,QAAA,MAAA,CAAO,SAAU,EAAA,CAAA;AAAA,OACrB;AAAA,KACJ;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,cAAc,KACrB,EAAA;AACI,IAAA,MAAM,eAAe,IAAK,CAAA,YAAA,CAAA;AAC1B,IAAA,IAAI,MAAS,GAAA,KAAA,CAAA;AAGb,IAAa,YAAA,CAAA,OAAA,CAAQ,CAAC,WACtB,KAAA;AA/nBR,MAAA,IAAA,EAAA,CAAA;AAgoBY,MAAA,MAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AACzB,MAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAElB,MAAI,IAAA,CAAC,WAAY,CAAA,MAAA,IAAU,CAAC,IAAA;AAAM,QAAA,OAAA;AAElC,MAAA,MAAM,QAAQ,IAAK,CAAA,KAAA,CAAA;AACnB,MAAM,MAAA,MAAA,GAAA,CAAS,EAAK,GAAA,IAAA,CAAA,SAAA,KAAL,IAAgB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,eAAA,CAAA;AAE/B,MAAK,IAAA,CAAA,aAAA,CAAc,MAAQ,EAAA,CAAC,KAC5B,KAAA;AAzoBZ,QAAAkB,IAAAA,GAAAA,CAAAA;AA0oBgB,QAAI,IAAA,CAAC,SAAS,CAAC,KAAA;AAAO,UAAA,OAAA;AAEtB,QAAA,IAAI,OAAO,KAAA,KAAU,QAAY,IAAA,KAAA,CAAM,MACvC,EAAA;AACI,UAAM,KAAA,CAAA,MAAA,CAAO,YAAa,CAAA,KAAA,EAAO,QAAQ,CAAA,CAAA;AAAA,SAG7C,MAAA;AACI,UAAA,QAAA,CAAS,SAAS,KAAK,CAAA,CAAA;AAAA,SAC3B;AAEA,QAAA,MAAA,GAAS,KAAM,CAAA,QAAA,CAAS,QAAS,CAAA,CAAA,EAAG,SAAS,CAAC,CAAA,CAAA;AAE9C,QAAA,MAAM,QAAQ,IAAK,CAAA,IAAA,CAAA;AAEnB,QAAA,IAAI,CAAC,KAAA;AAAO,UAAA,OAAA;AAEZ,QAAA,MAAM,UAAaA,GAAAA,CAAAA,GAAAA,GAAA,KAAM,CAAA,SAAA,KAAN,gBAAAA,GAAiB,CAAA,eAAA,CAAA;AAEpC,QAAA,IAAI,CAAC,UAAA;AAAY,UAAA,OAAA;AAEjB,QAAK,IAAA,CAAA,aAAA,CAAc,UAAY,EAAA,CAAC,IAChC,KAAA;AACI,UAAA,IAAI,KAAK,QAAS,CAAA,QAAA,CAAS,CAAG,EAAA,QAAA,CAAS,CAAC,CACxC,EAAA;AACI,YAAS,MAAA,GAAA,KAAA,CAAA;AAAA,WACb;AAAA,SACH,CAAA,CAAA;AAAA,OACJ,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAED,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEQ,aAAA,CAAc,QAAkD,QACxE,EAAA;AACI,IAAQ,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,OAAA,CAAQ,CAAC,cACjB,KAAA;AACI,MAAA,MAAM,QAAQ,cAAgB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAA,KAAA,CAAA;AAE9B,MAAA,IAAI,KACJ,EAAA;AACI,QAAA,QAAA,CAAS,KAAK,CAAA,CAAA;AAAA,OAClB;AAAA,KACJ,CAAA,CAAA;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA6C,KAC5D,EAAA;AACI,IAAA,IAAA,CAAK,YAAY,MAAS,GAAA,CAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,MAAM,oBAAuB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAE/E,MAAI,IAAA,IAAA,CAAK,WAAW,OACpB,EAAA;AACI,QAAK,IAAA,CAAA,UAAA,CAAW,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OACxD;AAEA,MAAI,IAAA,IAAA,CAAK,aAAa,OACtB,EAAA;AACI,QAAK,IAAA,CAAA,YAAA,CAAa,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OAC1D;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAAA,GACtB;AACJ,CAAA,CAAA;AA7oBO,IAAM,eAAN,GAAA,iBAAA;AAAM,eAAA,CAKK,gBAAuC,GAAA;AAAA,EACjD,KAAO,EAAA,CAAA;AAAA,EACP,KAAO,EAAA,CAAA;AAAA,EACP,SAAS,OAAQ,CAAA,KAAA;AAAA,EACjB,MAAQ,EAAA,IAAA;AAAA,EACR,IAAM,EAAA,IAAA;AACV,CAAA,CAAA;AAXS,eAAA,CAaK,kBAA2C,GAAA;AAAA,EACrD,KAAO,EAAA,CAAA;AAAA,EACP,KAAO,EAAA,CAAA;AAAA,EACP,KAAO,EAAA,CAAA;AAAA,EACP,SAAW,EAAA,GAAA;AAAA,EACX,UAAY,EAAA,EAAA;AAAA,EACZ,GAAK,EAAA,MAAA;AAAA,EACL,IAAM,EAAA,OAAA;AAAA,EACN,SAAS,OAAQ,CAAA,KAAA;AAAA,EACjB,MAAQ,EAAA,IAAA;AAAA,EACR,IAAM,EAAA,IAAA;AACV,CAAA;;AChGJ,MAAM,OAAU,GAAA,mDAAA,CAAA;AAChB,MAAM,iBAAoB,GAAA,MAAA,CAAA;AAC1B,MAAM,YAAe,GAAA,eAAA,CAAA;AAGd,MAAM,OAAU,GAAA;AAAA,EACnB,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,GAAA;AAAA,GACnC;AAAA,EAEA,IAAM,EAAA,SAAA;AAAA,EAEN,KAAK,GACL,EAAA;AACI,IAAA,OAAO,aAAa,GAAK,EAAA,YAAY,CAAK,IAAA,cAAA,CAAe,KAAK,iBAAiB,CAAA,CAAA;AAAA,GACnF;AAAA,EAEA,MAAM,UAAU,IAChB,EAAA;AAEI,IAAA,OAAQ,OAAO,IAAA,KAAS,QAAY,IAAA,IAAA,CAAK,UAAW,CAAA,oBAAoB,CAEpE,IAAA,OAAO,IAAS,KAAA,QAAA,IAAY,OAAQ,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAAA,GACrD;AAAA,EAEA,MAAM,MAAM,KACZ,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAI,eAAgB,EAAA,CAAA;AAEpC,IAAA,OAAA,CAAQ,IAAI,KAAK,CAAA,CAAA;AAEjB,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEA,MAAM,KAAK,GACX,EAAA;AACI,IAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,IAAA,OAAO,SAAS,IAAK,EAAA,CAAA;AAAA,GACzB;AAAA,EAEA,OAAO,KACP,EAAA;AACI,IAAA,KAAA,CAAM,QAAQ,IAAI,CAAA,CAAA;AAAA,GACtB;AACJ;;AC5DA,SAAS,QAAS,CAAA,IAAA,EAAc,GAAiB,EAAA,KAAA,EAAe,QAAkB,IAClF,EAAA;AACI,EAAM,MAAA,EAAA,GAAK,IAAI,KAAK,CAAA,CAAA;AAEpB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,CAAG,QAAQ,CAC/B,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,GAAG,CAAC,CAAA,CAAA;AAElB,IAAI,IAAA,KAAA,GAAQ,GAAI,CAAA,MAAA,GAAS,CACzB,EAAA;AACI,MAAS,QAAA,CAAA,IAAA,CAAK,OAAQ,CAAA,MAAA,CAAO,KAAK,CAAA,EAAG,KAAK,CAAA,EAAG,GAAK,EAAA,KAAA,GAAQ,CAAG,EAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,KAG7E,MAAA;AACI,MAAA,IAAA,CAAK,KAAK,IAAK,CAAA,OAAA,CAAQ,OAAO,KAAK,CAAA,EAAG,KAAK,CAAC,CAAA,CAAA;AAAA,KAChD;AAAA,GACJ;AACJ,CAAA;AASO,SAAS,uBAAuB,MACvC,EAAA;AACI,EAAA,MAAM,KAAQ,GAAA,YAAA,CAAA;AAEd,EAAM,MAAA,MAAA,GAAS,MAAO,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;AAEjC,EAAA,MAAM,OAAiB,EAAC,CAAA;AAExB,EAAA,IAAI,MACJ,EAAA;AACI,IAAA,MAAM,MAAkB,EAAC,CAAA;AAEzB,IAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,IAChB,KAAA;AAEI,MAAM,MAAA,KAAA,GAAQ,KAAK,SAAU,CAAA,CAAA,EAAG,KAAK,MAAS,GAAA,CAAC,CAAE,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAE1D,MAAA,GAAA,CAAI,KAAK,KAAK,CAAA,CAAA;AAAA,KACjB,CAAA,CAAA;AAED,IAAA,QAAA,CAAS,MAAQ,EAAA,GAAA,EAAK,CAAG,EAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAGzC,MAAA;AACI,IAAA,IAAA,CAAK,KAAK,MAAM,CAAA,CAAA;AAAA,GACpB;AAEA,EAAO,OAAA,IAAA,CAAA;AACX;;AClDO,MAAM,eAAe,CAAC,IAAA,KAA4B,CAAC,KAAA,CAAM,QAAQ,IAAI;;;;;;;;;;;;;;;;;;ACmErE,MAAM,QACb,CAAA;AAAA,EADO,WAAA,GAAA;AAYH,IAAA,IAAA,CAAiB,+BAAqE,GAAA;AAAA,MAClF,SAAW,EAAA,GAAA;AAAA,MACX,qBAAqB,CAAC,QAAA,EAAU,YAC5B,CAAG,EAAA,QAAA,CAAA,EAAW,KAAK,kBAAqB,CAAA,EAAA,OAAA,CAAA,CAAA;AAAA,MAC5C,wBAAA,EAA0B,CAAC,QAAA,EAAU,aACjC,KAAA,aAAA,CAAc,QAAQ,CAAG,EAAA,QAAA,CAAA,EAAW,IAAK,CAAA,kBAAA,CAAA,CAAA,EAAsB,EAAE,CAAA;AAAA,KACzE,CAAA;AAGA;AAAA,IAAQ,IAAA,CAAA,kBAAA,GAAqB,KAAK,+BAAgC,CAAA,SAAA,CAAA;AAQlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAQ,IAAA,CAAA,oBAAA,GAGM,KAAK,+BAAgC,CAAA,mBAAA,CAAA;AAQnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAQ,IAAA,CAAA,yBAAA,GAGM,KAAK,+BAAgC,CAAA,wBAAA,CAAA;AAEnD,IAAA,IAAA,CAAQ,YAA6C,EAAC,CAAA;AACtD,IAAA,IAAA,CAAQ,kBAAiC,EAAC,CAAA;AAC1C,IAAA,IAAA,CAAiB,WAA+B,EAAC,CAAA;AAEjD,IAAA,IAAA,CAAQ,gBAA+C,EAAC,CAAA;AAIxD,IAAA,IAAA,CAAQ,WAAqC,EAAC,CAAA;AAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQvC,oBAAoB,gBAC3B,EAAA;AArIJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAsIQ,IAAA,IAAA,CAAK,kBAAqB,GAAA,CAAA,EAAA,GAAA,gBAAA,CAAiB,SAAjB,KAAA,IAAA,GAAA,EAAA,GAA8B,IAAK,CAAA,kBAAA,CAAA;AAC7D,IAAA,IAAA,CAAK,oBAAuB,GAAA,CAAA,EAAA,GAAA,gBAAA,CAAiB,mBAAjB,KAAA,IAAA,GAAA,EAAA,GAAwC,IAAK,CAAA,oBAAA,CAAA;AACzE,IAAA,IAAA,CAAK,yBAA4B,GAAA,CAAA,EAAA,GAAA,gBAAA,CAAiB,wBAAjB,KAAA,IAAA,GAAA,EAAA,GAA6C,IAAK,CAAA,yBAAA,CAAA;AAEnF,IAAI,IAAA,IAAA,CAAK,0BAA0B,KAAO,EAAA,IAAA,CAAK,qBAAqB,KAAO,EAAA,KAAK,CAAC,CAAA,KAAM,KACvF,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,4DAA4D,CAAA,CAAA;AAAA,KAChF;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBO,UAAU,YACjB,EAAA;AACI,IAAa,YAAA,CAAA,OAAA,CAAQ,CAAC,MACtB,KAAA;AACI,MAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,MAAM,CAAA,CAAA;AAEhC,MAAI,IAAA,CAAC,OAAO,QACZ,EAAA;AAEI,QAAA,MAAA,CAAO,QAAW,GAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AAAA,OAC/C;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,gBAAgB,EAAC,CAAA;AAAA,GAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,IAAW,SAAS,QACpB,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAW,QACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,IAAW,SAAS,QACpB,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAW,QACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuCA,IAAW,OACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGO,KACP,GAAA;AACI,IAAK,IAAA,CAAA,mBAAA,CAAoB,KAAK,+BAA+B,CAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAClB,IAAA,IAAA,CAAK,kBAAkB,EAAC,CAAA;AAGxB,IAAA,IAAA,CAAK,gBAAgB,EAAC,CAAA;AACtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,WAAW,EAAC,CAAA;AACjB,IAAA,IAAA,CAAK,oBAAuB,GAAA,IAAA,CAAA;AAAA,GAChC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,uBAAuB,YAC9B,EAAA;AACI,IAAI,IAAA,OAAO,iBAAiB,QAC5B,EAAA;AACI,MAAA,IAAA,CAAK,oBAAuB,GAAA,YAAA,CAAA;AAAA,KAGhC,MAAA;AACI,MAAA,MAAM,WAAc,GAAA,YAAA,CAAA;AAEpB,MAAA,IAAA,CAAK,uBAAuB,MAAO,CAAA,IAAA,CAAK,WAAW,CAC9C,CAAA,GAAA,CAAI,CAAC,GAAQ,KAAA,CAAA,EAAG,mBAAmB,GAAG,CAAA,CAAA,CAAA,EAAK,mBAAmB,WAAY,CAAA,GAAG,CAAC,CAAG,CAAA,CAAA,CAAA,CACjF,KAAK,GAAG,CAAA,CAAA;AAAA,KACjB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,KAChB,EAAA;AACI,IAAA,MAAM,EAAE,KAAA,EAAO,IAAM,EAAA,GAAA,EAAK,MAAS,GAAA,KAAA,CAAA;AACnC,IAAA,MAAM,YAAe,GAAA,aAAA;AAAA,MACjB,KAAA,IAAS,QAAQ,GAAO,IAAA,IAAA;AAAA,MAAM,CAAC,KAC/B,KAAA;AA/SZ,QAAA,IAAA,EAAA,CAAA;AAgTgB,QAAA,IAAI,OAAO,KAAU,KAAA,QAAA;AAAU,UAAO,OAAA,KAAA,CAAA;AAEtC,QAAI,IAAA,KAAA,CAAM,QAAQ,KAAK,CAAA;AAAG,UAAO,OAAA,KAAA,CAAM,GAAI,CAAA,CAAC,CAAG,KAAA;AAlT/D,YAAA,IAAAA,GAAA,EAAA,EAAA,CAAA;AAkTmE,YAAA,OAAA,CAAA,EAAA,GAAA,CAAAA,MAAA,CAAmB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAnB,OAAAA,GAA2B,GAAA,CAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,CAAmB,SAA9C,IAAsD,GAAA,EAAA,GAAA,CAAA,CAAA;AAAA,WAAC,CAAA,CAAA;AAE1G,QAAI,IAAA,CAAA,KAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,KAAA,CAAO,SAAO,KAAO,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AAAM,UAAO,OAAA,CAAA,EAAA,GAAA,KAAA,CAAM,GAAN,KAAA,IAAA,GAAA,EAAA,GAAa,KAAM,CAAA,IAAA,CAAA;AAEzD,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAAA,MAAG,IAAA;AAAA,KAAI,CAAA;AAEX,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,YAAY,QACnB,EAAA;AACI,IAAA,IAAI,KAAK,SACT,EAAA;AAEI,MAAA,IAAA,CAAK,8DAA8D,CAAA,CAAA;AAAA,KAEvE;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAS,QAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,CAAC,MAC1B,KAAA;AACI,MAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,IAAM,EAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AAAA,KAC5C,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBO,SAAA,CAAU,UAAkB,MACnC,EAAA;AACI,IAAA,MAAM,aAAuB,EAAC,CAAA;AAM9B,IAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,MAAM,CACxB,EAAA;AACI,MAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,KAChB,KAAA;AA3WZ,QAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA4WgB,QAAA,MAAM,IAAO,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,GAAN,KAAA,IAAA,GAAA,EAAA,GAAa,KAAM,CAAA,IAAA,CAAA;AAChC,QAAA,MAAM,OAAU,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,KAAN,KAAA,IAAA,GAAA,EAAA,GAAe,KAAM,CAAA,IAAA,CAAA;AACrC,QAAI,IAAA,GAAA,CAAA;AAEJ,QAAI,IAAA,OAAO,YAAY,QACvB,EAAA;AACI,UAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,oBAAqB,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAEjE,UAAA,UAAA,CAAW,KAAK,aAAa,CAAA,CAAA;AAC7B,UAAM,GAAA,GAAA,CAAC,SAAS,aAAa,CAAA,CAAA;AAAA,SAGjC,MAAA;AACI,UAAM,MAAA,SAAA,GAAY,QAAQ,GAAI,CAAA,CAAC,SAAS,IAAK,CAAA,oBAAA,CAAqB,QAAU,EAAA,IAAI,CAAC,CAAA,CAAA;AAEjF,UAAW,UAAA,CAAA,IAAA,CAAK,GAAG,SAAS,CAAA,CAAA;AAC5B,UAAA,GAAA,GAAM,CAAC,GAAG,OAAS,EAAA,GAAG,SAAS,CAAA,CAAA;AAAA,SACnC;AAEA,QAAK,IAAA,CAAA,GAAA,CAAIlB,sCACF,KACA,CAAA,EAAA;AAAA,UACC,KAAO,EAAA,GAAA;AAAA,UACP,GAAK,EAAA,IAAA;AAAA,SAEZ,CAAA,CAAA,CAAA;AAAA,OACJ,CAAA,CAAA;AAAA,KAGL,MAAA;AACI,MAAA,MAAA,CAAO,IAAK,CAAA,MAAM,CAAE,CAAA,OAAA,CAAQ,CAAC,GAC7B,KAAA;AA3YZ,QAAA,IAAA,EAAA,CAAA;AA4YgB,QAAA,MAAM,UAAoB,CAAC,GAAA,EAAK,KAAK,oBAAqB,CAAA,QAAA,EAAU,GAAG,CAAC,CAAA,CAAA;AAExE,QAAA,IAAI,OAAO,MAAA,CAAO,GAAG,CAAA,KAAM,QAC3B,EAAA;AACI,UAAA,IAAA,CAAK,GAAI,CAAA;AAAA,YACL,KAAO,EAAA,OAAA;AAAA,YACP,GAAA,EAAK,OAAO,GAAG,CAAA;AAAA,WAClB,CAAA,CAAA;AAAA,mBAEI,KAAM,CAAA,OAAA,CAAQ,MAAO,CAAA,GAAG,CAAC,CAClC,EAAA;AACI,UAAA,IAAA,CAAK,GAAI,CAAA;AAAA,YACL,KAAO,EAAA,OAAA;AAAA,YACP,GAAA,EAAK,OAAO,GAAG,CAAA;AAAA,WAClB,CAAA,CAAA;AAAA,SAGL,MAAA;AACI,UAAM,MAAA,KAAA,GAAQ,OAAO,GAAG,CAAA,CAAA;AACxB,UAAA,MAAM,QAAW,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,GAAN,KAAA,IAAA,GAAA,EAAA,GAAa,KAAM,CAAA,IAAA,CAAA;AAEpC,UAAK,IAAA,CAAA,GAAA,CAAIA,sCACF,KACA,CAAA,EAAA;AAAA,YACC,KAAO,EAAA,OAAA;AAAA,YACP,KAAK,KAAM,CAAA,OAAA,CAAQ,QAAQ,CAAI,GAAA,QAAA,GAAW,CAAC,QAAQ,CAAA;AAAA,WAE1D,CAAA,CAAA,CAAA;AAAA,SACL;AAEA,QAAW,UAAA,CAAA,IAAA,CAAK,GAAG,OAAO,CAAA,CAAA;AAAA,OAC7B,CAAA,CAAA;AAAA,KACL;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,CAAI,GAAA,UAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA6BO,IACH,OAEJ,EAAA;AACI,IAAA,MAAM,SAA4B,EAAC,CAAA;AAEnC,IAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,OAAO,CACzB,EAAA;AACI,MAAO,MAAA,CAAA,IAAA,CAAK,GAAI,OAA6B,CAAA,CAAA;AAAA,KAGjD,MAAA;AACI,MAAA,MAAA,CAAO,KAAK,OAA0B,CAAA,CAAA;AAAA,KAC1C;AAEA,IAAI,IAAA,QAAA,CAAA;AAIJ,IAAA,QAAA,GAAW,CAAC,GACZ,KAAA;AACI,MAAI,IAAA,IAAA,CAAK,MAAO,CAAA,GAAG,CACnB,EAAA;AAEI,QAAA,IAAA,CAAK,+BAA+B,GAAiB,CAAA,YAAA,CAAA,CAAA,CAAA;AAAA,OAEzD;AAAA,KACJ,CAAA;AAGA,IAAM,MAAA,UAAA,GAAa,cAAc,MAAM,CAAA,CAAA;AAGvC,IAAW,UAAA,CAAA,OAAA,CAAQ,CAAC,KACpB,KAAA;AACI,MAAM,MAAA,EAAE,GAAK,EAAA,IAAA,EAAS,GAAA,KAAA,CAAA;AACtB,MAAA,IAAI,EAAE,IAAA,EAAM,MAAQ,EAAA,UAAA,EAAe,GAAA,KAAA,CAAA;AAKnC,MAAA,MAAM,YAAwC,aAAwB,CAAA,GAAA,IAAO,IAAI,CAAE,CAAA,GAAA,CAAI,CAAC6B,IACxF,KAAA;AACI,QAAI,IAAA,OAAOA,SAAQ,QACnB,EAAA;AAAE,UAAA,OAAO,uBAAuBA,IAAG,CAAA,CAAA;AAAA,SAAG;AAEtC,QAAA,OAAO,MAAM,OAAQA,CAAAA,IAAG,CAAIA,GAAAA,IAAAA,GAAM,CAACA,IAAG,CAAA,CAAA;AAAA,OACzC,CAAA,CAAA;AAED,MAAM,MAAA,YAAA,GAAe,IAAK,CAAA,QAAA,CAAS,KAAK,CAAA,CAAA;AAIxC,MAAM,KAAA,CAAA,OAAA,CAAQ,YAAY,CAAI,GAAA,YAAA,CAAa,QAAQ,QAAQ,CAAA,GAAI,SAAS,YAAY,CAAA,CAAA;AAIpF,MAAA,MAAM,iBAAkC,EAAC,CAAA;AAEzC,MAAU,SAAA,CAAA,OAAA,CAAQ,CAACC,KACnB,KAAA;AACI,QAAAA,KAAAA,CAAK,OAAQ,CAAA,CAACD,IACd,KAAA;AA1gBhB,UAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA2gBoB,UAAA,IAAI,iBAAiB,EAAC,CAAA;AAEtB,UAAI,IAAA,OAAOA,SAAQ,QACnB,EAAA;AACI,YAAA,cAAA,CAAe,GAAMA,GAAAA,IAAAA,CAAAA;AAErB,YAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,QAAA,CAAS,QAAQ,CAC1C,EAAA,EAAA;AACI,cAAM,MAAA,MAAA,GAAS,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAE9B,cAAI,IAAA,MAAA,CAAO,IAAKA,CAAAA,IAAG,CACnB,EAAA;AACI,gBAAiB,cAAA,GAAA,MAAA,CAAO,MAAMA,IAAG,CAAA,CAAA;AACjC,gBAAA,MAAA;AAAA,eACJ;AAAA,aACJ;AAAA,WAGJ,MAAA;AACI,YAAO,IAAA,GAAA,CAAA,EAAA,GAAAA,IAAI,CAAA,IAAA,KAAJ,IAAY,GAAA,EAAA,GAAA,IAAA,CAAA;AACnB,YAAS,MAAA,GAAA,CAAA,EAAA,GAAAA,IAAI,CAAA,MAAA,KAAJ,IAAc,GAAA,EAAA,GAAA,MAAA,CAAA;AACvB,YAAa,UAAA,GAAA,CAAA,EAAA,GAAAA,IAAI,CAAA,UAAA,KAAJ,IAAkB,GAAA,EAAA,GAAA,UAAA,CAAA;AAC/B,YAAA,cAAA,GAAiB7B,sCACV,cACA6B,CAAAA,EAAAA,IAAAA,CAAAA,CAAAA;AAAA,WAEX;AAGA,UAAA,IAAI,CAAC,YACL,EAAA;AACI,YAAA,MAAM,IAAI,KAAA,CAAM,CAAiD,8CAAA,EAAA,cAAA,CAAe,GAAK,CAAA,CAAA,CAAA,CAAA;AAAA,WACzF;AAEA,UAAiB,cAAA,GAAA,IAAA,CAAK,oBAAoB,cAAgB,EAAA;AAAA,YACtD,OAAS,EAAA,YAAA;AAAA,YACT,IAAA;AAAA,YACA,MAAA;AAAA,YACA,UAAA;AAAA,WACH,CAAA,CAAA;AAED,UAAA,cAAA,CAAe,KAAK,cAAc,CAAA,CAAA;AAAA,SACrC,CAAA,CAAA;AAAA,OACJ,CAAA,CAAA;AAED,MAAa,YAAA,CAAA,OAAA,CAAQ,CAAC,KACtB,KAAA;AACI,QAAK,IAAA,CAAA,SAAA,CAAU,KAAK,CAAI,GAAA,cAAA,CAAA;AAAA,OAC3B,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA4CO,cAAc,SAErB,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,aAAa,SAAS,CAAA,CAAA;AAE1C,IAAA,SAAA,GAAY,cAAsB,SAAS,CAAA,CAAA;AAE3C,IAAA,MAAM,MAAqD,EAAC,CAAA;AAE5D,IAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,QACnB,KAAA;AACI,MAAM,MAAA,UAAA,GAAa,IAAK,CAAA,QAAA,CAAS,QAAQ,CAAA,CAAA;AAEzC,MAAA,IAAI,UACJ,EAAA;AACI,QAAM,MAAA,OAAA,GAAU,IAAK,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAEvC,QAAA,MAAM,SAAwC,EAAC,CAAA;AAE/C,QAAA,KAAA,MAAW,OAAO,OAClB,EAAA;AACI,UAAM,MAAA,KAAA,GAAQ,QAAQ,GAAG,CAAA,CAAA;AAEzB,UAAA,MAAA,CAAO,IAAK,CAAA,yBAAA,CAA0B,QAAU,EAAA,GAAG,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,SAC5D;AAEA,QAAA,GAAA,CAAI,QAAQ,CAAI,GAAA,MAAA,CAAA;AAAA,OACpB;AAAA,KACH,CAAA,CAAA;AAED,IAAA,OAAO,WAAc,GAAA,GAAA,CAAI,SAAU,CAAA,CAAC,CAAC,CAAI,GAAA,GAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,WAAW,GAClB,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,OAAA,CAAQ,GAAa,CAAA,CAAA;AAEzC,IAAI,IAAA,OAAO,QAAQ,QACnB,EAAA;AACI,MAAA,MAAM,MAA8B,EAAC,CAAA;AAErC,MAAA,KAAA,MAAW,KAAK,MAChB,EAAA;AACI,QAAA,GAAA,CAAI,CAAC,CAAA,GAAK,MAAyC,CAAA,CAAC,CAAE,CAAA,GAAA,CAAA;AAAA,OAC1D;AAEA,MAAO,OAAA,GAAA,CAAA;AAAA,KACX;AAEA,IAAA,OAAQ,MAAyB,CAAA,GAAA,CAAA;AAAA,GACrC;AAAA,EAmBO,QAAQ,IACf,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,aAAa,IAAI,CAAA,CAAA;AAErC,IAAA,IAAA,GAAO,cAAsB,IAAI,CAAA,CAAA;AAEjC,IAAA,MAAM,SAAwC,EAAC,CAAA;AAE/C,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GACd,KAAA;AA5rBR,MAAA,IAAA,EAAA,CAAA;AA6rBY,MAAA,IAAI,CAAC,IAAA,CAAK,aAAc,CAAA,GAAG,CAC3B,EAAA;AACI,QAAI,IAAA,IAAA,CAAK,SAAU,CAAA,GAAG,CACtB,EAAA;AACI,UAAI,IAAA,MAAA,GAAS,IAAK,CAAA,SAAA,CAAU,GAAG,CAAA,CAAA;AAC/B,UAAM,MAAA,SAAA,GAAY,OAAO,CAAC,CAAA,CAAA;AAC1B,UAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,MAAM,CAAA,CAAA;AAErD,UAAgB,cAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,CAAC,WAClC,KAAA;AACI,YAAA,cAAA,CAAe,MAAO,CAAA,WAAW,CAAE,CAAA,OAAA,CAAQ,CAAC,KAC5C,KAAA;AACI,cAAA,MAAM,cAAiB,GAAA,MAAA,CAAO,MAAO,CAAA,CAAC,KACtC,KAAA;AACI,gBAAI,IAAA,KAAA,CAAM,WAAkC,CAC5C,EAAA;AACI,kBAAO,OAAA,KAAA,CAAM,WAAkC,CAAM,KAAA,KAAA,CAAA;AAAA,iBACzD;AAEA,gBAAO,OAAA,KAAA,CAAA;AAAA,eACV,CAAA,CAAA;AAED,cAAA,IAAI,eAAe,MACnB,EAAA;AACI,gBAAS,MAAA,GAAA,cAAA,CAAA;AAAA,eACb;AAAA,aACH,CAAA,CAAA;AAAA,WACL,CAAA,CAAA;AAEA,UAAA,IAAA,CAAK,cAAc,GAAG,CAAA,GAAA,CAAK,EAAO,GAAA,MAAA,CAAA,CAAC,MAAR,IAAa,GAAA,EAAA,GAAA,SAAA,CAAA;AAAA,SAG5C,MAAA;AACI,UAAA,IAAA,CAAK,aAAc,CAAA,GAAG,CAAI,GAAA,IAAA,CAAK,mBAAoB,CAAA;AAAA,YAC/C,KAAA,EAAO,CAAC,GAAG,CAAA;AAAA,YACX,GAAK,EAAA,GAAA;AAAA,WACT,EAAG,EAAE,CAAA,CAAA;AAAA,SACT;AAAA,OACJ;AAEA,MAAA,MAAA,CAAO,GAAG,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,GAAG,CAAA,CAAA;AAAA,KACvC,CAAA,CAAA;AAED,IAAA,OAAO,WAAc,GAAA,MAAA,CAAO,IAAK,CAAA,CAAC,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,OAAO,GACd,EAAA;AACI,IAAA,OAAO,CAAC,CAAC,IAAK,CAAA,SAAA,CAAU,GAAG,CAAA,CAAA;AAAA,GAC/B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,UAAU,GACjB,EAAA;AACI,IAAA,OAAO,CAAC,CAAC,IAAK,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,mBAAmB,MAC3B,EAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CACnC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,OAAO,CAAC,CAAA,CAAA;AAEtB,MAAA,MAAM,SAAY,GAAA,IAAA,CAAK,eAAgB,CAAA,IAAA,CAAK,CAAC,UAAA,KACzC,UAAW,CAAA,MAAA,CAAO,MAAO,CAAA,QAAA,CAAS,KAAM,CAAA,MAAM,CAAC,CAAA,CAAA;AAEnD,MAAA,IAAI,SACJ,EAAA;AACI,QAAO,OAAA,SAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAO,OAAA,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,2BAA2B,GACnC,EAAA;AACI,IAAA,IAAI,CAAC,IAAK,CAAA,oBAAA;AAAsB,MAAO,OAAA,GAAA,CAAA;AAEvC,IAAA,MAAM,cAAkB,GAAA,IAAA,CAAM,IAAK,CAAA,GAAG,IAAI,GAAM,GAAA,GAAA,CAAA;AAEhD,IAAO,OAAA,CAAA,EAAG,GAAM,CAAA,EAAA,cAAA,CAAA,EAAiB,IAAK,CAAA,oBAAA,CAAA,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEQ,mBAAA,CAAoB,gBAA+B,IAM3D,EAAA;AAvyBJ,IAAA,IAAA,EAAA,CAAA;AAwyBQ,IAAA,MAAM,EAAE,OAAS,EAAA,IAAA,EAAM,SAAW,EAAA,UAAA,EAAY,QAAW,GAAA,IAAA,CAAA;AAEzD,IAAI,IAAA,IAAA,CAAK,SAAa,IAAA,IAAA,CAAK,SAC3B,EAAA;AACI,MAAe,cAAA,CAAA,GAAA,GAAM,KAAK,UAAW,CAAA,cAAA,CAAe,KAAK,IAAK,CAAA,SAAA,EAAW,KAAK,SAAS,CAAA,CAAA;AAAA,KAC3F;AAEA,IAAA,cAAA,CAAe,SAAQ,EAAW,GAAA,OAAA,IAAA,IAAA,GAAA,OAAA,GAAA,cAAA,CAAe,UAA1B,IAAmC,GAAA,EAAA,GAAA,CAAC,eAAe,GAAG,CAAA,CAAA;AAC7E,IAAA,cAAA,CAAe,GAAM,GAAA,IAAA,CAAK,0BAA2B,CAAA,cAAA,CAAe,GAAG,CAAA,CAAA;AACvE,IAAA,cAAA,CAAe,IAAO,GAAA7B,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,SAAa,IAAA,KAAO,cAAe,CAAA,IAAA,CAAA,CAAA;AAC9D,IAAe,cAAA,CAAA,UAAA,GAAa,kCAAc,cAAe,CAAA,UAAA,CAAA;AACzD,IAAA,cAAA,CAAe,SAAS,MAAU,IAAA,IAAA,GAAA,MAAA,GAAA,cAAA,CAAe,IAAI,KAAM,CAAA,GAAG,EAAE,GAAI,EAAA,CAAA;AACpE,IAAA,cAAA,CAAe,OAAO,cAAe,CAAA,GAAA,CAAA;AACrC,IAAA,cAAA,CAAe,OAAO,cAAe,CAAA,KAAA,CAAA;AAErC,IAAO,OAAA,cAAA,CAAA;AAAA,GACX;AACJ,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlvBa,QAAA,CAUK,aAAgB,GAAA,cAAA;;ACtElB,SAAA,kBAAA,CAAmB,GAAa,EAAA,YAAA,GAAe,CAC/D,EAAA;AAZA,EAAA,IAAA,EAAA,CAAA;AAaI,EAAA,MAAM,UAAa,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,aAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAwB,IAAK,CAAA,GAAA,CAAA,CAAA;AAEhD,EAAA,IAAI,UACJ,EAAA;AACI,IAAO,OAAA,UAAA,CAAW,UAAW,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,GACnC;AAEA,EAAO,OAAA,YAAA,CAAA;AACX;;ACrBA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAI,WAAA,CAAA;AAGJ,MAAM,SAAY,GAAA,oHAAA,CAAA;AAElB,MAAM,oBAAuB,GAAA;AAAA,EACzB,EAAI,EAAA,kBAAA;AAAA,EACJ,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAOkC,EAAA,SAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAa5C,CAAA,CAAA;AASA,MAAM,UAAa,GAAA;AAAA,EACf,EAAI,EAAA,iBAAA;AAAA,EACJ,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAA,CAAA;AAqCV,CAAA,CAAA;AAEA,IAAI,SAAA,CAAA;AAEJ,MAAM,kBACN,CAAA;AAAA,EAmBI,WACA,GAAA;AALA,IAAA,IAAA,CAAQ,YAAe,GAAA,KAAA,CAAA;AACvB,IAAA,IAAA,CAAQ,eAAkB,GAAA,CAAA,CAAA;AAKtB,IAAA,IAAA,CAAK,cAAc,EAAC,CAAA;AACpB,IAAA,IAAA,CAAK,SAAS,EAAC,CAAA;AAEf,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AAAA,GACzB;AAAA,EAEO,sBACP,GAAA;AACI,IAAA,IAAI,KAAK,uBAA4B,KAAA,KAAA,CAAA;AAAW,MAAA,OAAO,IAAK,CAAA,uBAAA,CAAA;AAE5D,IAAA,IAAA,CAAK,uBAA0B,GAAA,IAAI,OAAQ,CAAA,CAAC,OAC5C,KAAA;AACI,MAAM+B,MAAAA,UAAAA,GAAY,GAAI,CAAA,eAAA,CAAgB,IAAI,IAAA;AAAA,QAAK,CAAC,qBAAqB,IAAI,CAAA;AAAA,QACrE,EAAE,MAAM,wBAAyB,EAAA;AAAA,OAAE,CAAA,CAAA;AACvC,MAAM,MAAA,MAAA,GAAS,IAAI,MAAA,CAAOA,UAAS,CAAA,CAAA;AAEnC,MAAO,MAAA,CAAA,gBAAA,CAAiB,SAAW,EAAA,CAAC,KACpC,KAAA;AACI,QAAA,MAAA,CAAO,SAAU,EAAA,CAAA;AACjB,QAAA,GAAA,CAAI,gBAAgBA,UAAS,CAAA,CAAA;AAC7B,QAAA,OAAA,CAAQ,MAAM,IAAI,CAAA,CAAA;AAAA,OACrB,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAED,IAAA,OAAO,IAAK,CAAA,uBAAA,CAAA;AAAA,GAChB;AAAA,EAEO,gBAAgB,GACvB,EAAA;AACI,IAAA,OAAO,IAAK,CAAA,IAAA,CAAK,iBAAmB,EAAA,CAAC,GAAG,CAAC,CAAA,CAAA;AAAA,GAC7C;AAAA,EAEA,MAAc,YACd,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA;AAAc,MAAA,OAAA;AAEvB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AAAA,EAEQ,UACR,GAAA;AACI,IAAA,IAAI,gBAAgB,KACpB,CAAA,EAAA;AACI,MAAA,WAAA,GAAc,UAAU,mBAAuB,IAAA,CAAA,CAAA;AAAA,KACnD;AACA,IAAI,IAAA,MAAA,GAAS,IAAK,CAAA,WAAA,CAAY,GAAI,EAAA,CAAA;AAElC,IAAA,IAAI,CAAC,MAAA,IAAU,IAAK,CAAA,eAAA,GAAkB,WACtC,EAAA;AACI,MAAA,IAAI,CAAC,SACL,EAAA;AACI,QAAA,SAAA,GAAY,GAAI,CAAA,eAAA,CAAgB,IAAI,IAAA,CAAK,CAAC,UAAA,CAAW,IAAI,CAAA,EAAG,EAAE,IAAA,EAAM,wBAAyB,EAAC,CAAC,CAAA,CAAA;AAAA,OACnG;AAGA,MAAK,IAAA,CAAA,eAAA,EAAA,CAAA;AACL,MAAS,MAAA,GAAA,IAAI,OAAO,SAAS,CAAA,CAAA;AAE7B,MAAO,MAAA,CAAA,gBAAA,CAAiB,SAAW,EAAA,CAAC,KACpC,KAAA;AACI,QAAK,IAAA,CAAA,SAAA,CAAU,MAAM,IAAI,CAAA,CAAA;AAEzB,QAAK,IAAA,CAAA,aAAA,CAAc,MAAM,MAAgB,CAAA,CAAA;AACzC,QAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,OACd,CAAA,CAAA;AAAA,KACL;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEQ,cAAc,MACtB,EAAA;AACI,IAAK,IAAA,CAAA,WAAA,CAAY,KAAK,MAAM,CAAA,CAAA;AAAA,GAChC;AAAA,EAEQ,UAAU,IAClB,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,UAAU,KACnB,CAAA,EAAA;AACI,MAAA,IAAA,CAAK,aAAa,IAAK,CAAA,IAAI,CAAE,CAAA,MAAA,CAAO,KAAK,KAAK,CAAA,CAAA;AAAA,KAGlD,MAAA;AACI,MAAA,IAAA,CAAK,aAAa,IAAK,CAAA,IAAI,CAAE,CAAA,OAAA,CAAQ,KAAK,IAAI,CAAA,CAAA;AAAA,KAClD;AAEA,IAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,IAAI,CAAI,GAAA,IAAA,CAAA;AAAA,GACnC;AAAA,EAEA,MAAc,IAAK,CAAA,EAAA,EAAY,IAC/B,EAAA;AACI,IAAA,MAAM,KAAK,YAAa,EAAA,CAAA;AAGxB,IAAA,MAAM,OAAU,GAAA,IAAI,OAAQ,CAAA,CAAC,SAAS,MACtC,KAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,KAAK,EAAE,EAAA,EAAI,WAAW,IAAM,EAAA,OAAA,EAAS,QAAQ,CAAA,CAAA;AAAA,KAC5D,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAEX,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEQ,KACR,GAAA;AAEI,IAAI,IAAA,CAAC,KAAK,MAAO,CAAA,MAAA;AAAQ,MAAA,OAAA;AAEzB,IAAM,MAAA,MAAA,GAAS,KAAK,UAAW,EAAA,CAAA;AAG/B,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,MAAA,CAAO,GAAI,EAAA,CAAA;AAE7B,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAK,IAAA,CAAA,YAAA,CAAa,IAAI,CAAI,GAAA,EAAE,SAAS,IAAK,CAAA,OAAA,EAAS,MAAQ,EAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAEvE,IAAA,MAAA,CAAO,WAAY,CAAA;AAAA,MACf,MAAM,IAAK,CAAA,SAAA;AAAA,MACX,IAAM,EAAA,IAAA,EAAA;AAAA,MACN,EAAA;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAEM,MAAA,aAAA,GAAgB,IAAI,kBAAmB;;AClO7B,SAAA,aAAA,CAAc,MAAuB,EAAA,MAAA,EAAgB,GACrE,EAAA;AACI,EAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,IACxB,MAAA;AAAA,IACA,KAAO,EAAA,GAAA;AAAA,GACV,CAAA,CAAA;AAED,EAAA,MAAM,SAAS,MACf;AACI,IAAO,OAAA,MAAA,CAAO,aAAa,GAAG,CAAA,CAAA;AAE9B,IAAI,IAAA,KAAA,CAAM,GAAI,CAAA,GAAG,CACjB,EAAA;AACI,MAAA,KAAA,CAAM,OAAO,GAAG,CAAA,CAAA;AAAA,KACpB;AAAA,GACJ,CAAA;AAGA,EAAQ,OAAA,CAAA,IAAA,CAAK,WAAW,MACxB;AACI,IAAI,IAAA,GAAA,IAAO,OAAO,YAClB,EAAA;AAEI,MAAA,IAAA,CAAK,wIAC6D,CAAA,CAAA;AAGlE,MAAO,MAAA,EAAA,CAAA;AAAA,KACX;AAAA,GACH,CAAA,CAAA;AACD,EAAQ,OAAA,CAAA,MAAA,CAAO,IAAK,CAAA,SAAA,EAAW,MAC/B;AACI,IAAI,IAAA,CAAC,OAAO,SACZ,EAAA;AAEI,MAAA,IAAA,CAAK,gIACyD,CAAA,CAAA;AAG9D,MAAO,MAAA,EAAA,CAAA;AAAA,KACX;AAAA,GACH,CAAA,CAAA;AAED,EAAO,OAAA,OAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;ACnCA,MAAM,uBAAuB,CAAC,OAAA,EAAS,MAAQ,EAAA,MAAA,EAAQ,SAAS,OAAO,CAAA,CAAA;AACvE,MAAM,eAAkB,GAAA;AAAA,EACpB,YAAA;AAAA,EACA,WAAA;AAAA,EACA,YAAA;AAAA,EACA,YAAA;AACJ,CAAA,CAAA;AAmCA,eAAsB,gBAAgB,GACtC,EAAA;AACI,EAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,EAAI,IAAA,CAAC,SAAS,EACd,EAAA;AACI,IAAA,MAAM,IAAI,KAAM,CAAA,CAAA,kCAAA,EAAqC,QAC5C,QAAS,CAAA,MAAA,CAAA,CAAA,EAAU,SAAS,UAAY,CAAA,CAAA,CAAA,CAAA;AAAA,GACrD;AAEA,EAAM,MAAA,SAAA,GAAY,MAAM,QAAA,CAAS,IAAK,EAAA,CAAA;AACtC,EAAM,MAAA,WAAA,GAAc,MAAM,iBAAA,CAAkB,SAAS,CAAA,CAAA;AAErD,EAAO,OAAA,WAAA,CAAA;AACX,CAAA;AAsBO,MAAM,YAAe,GAAA;AAAA,EAExB,IAAM,EAAA,cAAA;AAAA,EAEN,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,IACpB,UAAU,oBAAqB,CAAA,IAAA;AAAA,GACnC;AAAA,EAEA,MAAQ,EAAA;AAAA,IACJ,aAAe,EAAA,IAAA;AAAA,IACf,uBAAyB,EAAA,IAAA;AAAA,IACzB,WAAa,EAAA,WAAA;AAAA,GACjB;AAAA,EAEA,KAAK,GACL,EAAA;AACI,IAAA,OAAO,aAAa,GAAK,EAAA,eAAe,CAAK,IAAA,cAAA,CAAe,KAAK,oBAAoB,CAAA,CAAA;AAAA,GACzF;AAAA,EAEA,MAAM,IAAA,CAAK,GAAa,EAAA,KAAA,EAA4C,MACpE,EAAA;AAlHJ,IAAA,IAAA,EAAA,CAAA;AAmHQ,IAAA,IAAI,GAAW,GAAA,IAAA,CAAA;AAEf,IAAA,IAAI,UAAW,CAAA,iBAAA,IAAqB,IAAK,CAAA,MAAA,CAAO,uBAChD,EAAA;AACI,MAAA,IAAI,KAAK,MAAO,CAAA,aAAA,IAAiB,MAAM,aAAA,CAAc,wBACrD,EAAA;AACI,QAAM,GAAA,GAAA,MAAM,aAAc,CAAA,eAAA,CAAgB,GAAG,CAAA,CAAA;AAAA,OAGjD,MAAA;AACI,QAAM,GAAA,GAAA,MAAM,gBAAgB,GAAG,CAAA,CAAA;AAAA,OACnC;AAAA,KAGJ,MAAA;AACI,MAAA,GAAA,GAAM,MAAM,IAAI,OAAQ,CAAA,CAAC,OACzB,KAAA;AACI,QAAA,GAAA,GAAM,IAAI,KAAM,EAAA,CAAA;AAChB,QAAI,GAAA,CAAA,WAAA,GAAc,KAAK,MAAO,CAAA,WAAA,CAAA;AAE9B,QAAA,GAAA,CAAI,GAAM,GAAA,GAAA,CAAA;AACV,QAAA,IAAI,IAAI,QACR,EAAA;AACI,UAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAAA,SAGf,MAAA;AACI,UAAA,GAAA,CAAI,SAAS,MACb;AACI,YAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAAA,WACf,CAAA;AAAA,SACJ;AAAA,OACH,CAAA,CAAA;AAAA,KACL;AAEA,IAAM,MAAA,IAAA,GAAO,IAAI,WAAY,CAAA/B,gBAAA,CAAA;AAAA,MACzB,QAAU,EAAA,GAAA;AAAA,MACV,SAAW,EAAA,6BAAA;AAAA,MACX,cAAY,EAAM,GAAA,KAAA,CAAA,IAAA,KAAN,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAA,KAAc,mBAAmB,GAAG,CAAA;AAAA,KAAA,EACzD,MAAM,IACZ,CAAA,CAAA,CAAA;AAED,IAAO,OAAA,aAAA,CAAc,IAAM,EAAA,MAAA,EAAQ,GAAG,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEA,OAAO,OACP,EAAA;AACI,IAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AAAA,GACxB;AACJ;;AClKA,IAAI,OAAA,CAAA;AAeJ,eAAsB,oBACtB,GAAA;AACI,EAAA,OAAA,IAAA,IAAA,GAAA,OAAA,GAAA,OAAA,GAAA,CAAa,YACb;AApBJ,IAAA,IAAA,EAAA,CAAA;AAqBQ,IAAM,MAAA,MAAA,GAAS,QAAS,CAAA,aAAA,CAAc,QAAQ,CAAA,CAAA;AAC9C,IAAM,MAAA,EAAA,GAAK,MAAO,CAAA,UAAA,CAAW,OAAO,CAAA,CAAA;AAEpC,IAAA,IAAI,CAAC,EACL,EAAA;AACI,MAAO,OAAA,6BAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAM,KAAQ,GAAA,MAAM,IAAI,OAAA,CAAiC,CAAC,OAC1D,KAAA;AACI,MAAMgC,MAAAA,MAAAA,GAAQ,QAAS,CAAA,aAAA,CAAc,OAAO,CAAA,CAAA;AAE5C,MAAAA,MAAM,CAAA,YAAA,GAAe,MAAM,OAAA,CAAQA,MAAK,CAAA,CAAA;AACxC,MAAAA,MAAM,CAAA,OAAA,GAAU,MAAM,OAAA,CAAQ,IAAI,CAAA,CAAA;AAClC,MAAAA,OAAM,QAAW,GAAA,KAAA,CAAA;AACjB,MAAAA,OAAM,WAAc,GAAA,WAAA,CAAA;AACpB,MAAAA,OAAM,OAAU,GAAA,MAAA,CAAA;AAEhB,MAAAA,OAAM,GAAM,GAAA,ysBAAA,CAAA;AACZ,MAAAA,OAAM,IAAK,EAAA,CAAA;AAAA,KACd,CAAA,CAAA;AAED,IAAA,IAAI,CAAC,KACL,EAAA;AACI,MAAO,OAAA,6BAAA,CAAA;AAAA,KACX;AAEA,IAAM,MAAA,OAAA,GAAU,GAAG,aAAc,EAAA,CAAA;AAEjC,IAAG,EAAA,CAAA,WAAA,CAAY,EAAG,CAAA,UAAA,EAAY,OAAO,CAAA,CAAA;AAErC,IAAM,MAAA,WAAA,GAAc,GAAG,iBAAkB,EAAA,CAAA;AAEzC,IAAG,EAAA,CAAA,eAAA,CAAgB,EAAG,CAAA,WAAA,EAAa,WAAW,CAAA,CAAA;AAC9C,IAAG,EAAA,CAAA,oBAAA;AAAA,MACC,EAAG,CAAA,WAAA;AAAA,MACH,EAAG,CAAA,iBAAA;AAAA,MACH,EAAG,CAAA,UAAA;AAAA,MACH,OAAA;AAAA,MACA,CAAA;AAAA,KACJ,CAAA;AAEA,IAAG,EAAA,CAAA,WAAA,CAAY,EAAG,CAAA,8BAAA,EAAgC,KAAK,CAAA,CAAA;AACvD,IAAA,EAAA,CAAG,WAAY,CAAA,EAAA,CAAG,kCAAoC,EAAA,EAAA,CAAG,IAAI,CAAA,CAAA;AAC7D,IAAG,EAAA,CAAA,UAAA,CAAW,EAAG,CAAA,UAAA,EAAY,CAAG,EAAA,EAAA,CAAG,MAAM,EAAG,CAAA,IAAA,EAAM,EAAG,CAAA,aAAA,EAAe,KAAK,CAAA,CAAA;AAEzE,IAAM,MAAA,KAAA,GAAQ,IAAI,UAAA,CAAW,CAAC,CAAA,CAAA;AAE9B,IAAG,EAAA,CAAA,UAAA,CAAW,GAAG,CAAG,EAAA,CAAA,EAAG,GAAG,EAAG,CAAA,IAAA,EAAM,EAAG,CAAA,aAAA,EAAe,KAAK,CAAA,CAAA;AAE1D,IAAA,EAAA,CAAG,kBAAkB,WAAW,CAAA,CAAA;AAChC,IAAA,EAAA,CAAG,cAAc,OAAO,CAAA,CAAA;AACxB,IAAG,CAAA,EAAA,GAAA,EAAA,CAAA,YAAA,CAAa,oBAAoB,CAAA,KAApC,IAAuC,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAA,EAAA,CAAA;AAEvC,IAAA,OAAO,MAAM,CAAC,CAAA,IAAK,KAAM,CAAA,CAAC,IAAI,qBAAwB,GAAA,6BAAA,CAAA;AAAA,GACvD,GAAA,CAAA;AAEH,EAAO,OAAA,OAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;;;;AC9CO,MAAM,YAAA,GAAN,cAA0B,aACjC,CAAA;AAAA,EAwDI,YACI,OAEJ,EAAA;AA7FJ,IAAA,IAAA,EAAA,CAAA;AA8FQ,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AA3CjB;AAAA,IAAA,IAAA,CAAO,OAAU,GAAA,KAAA,CAAA;AACjB,IAAA,IAAA,CAAO,cAAiB,GAAA,OAAA,CAAA;AA6CpB,IAAU,OAAA,GAAAhC,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EACH,aAAY,cACZ,CAAA,EAAA,OAAA,CAAA,CAAA;AAGP,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAC5B,IAAK,IAAA,CAAA,UAAA,GAAa,QAAQ,SAAa,IAAA,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AACvB,IAAK,IAAA,CAAA,QAAA,GAAW,QAAQ,QAAa,KAAA,KAAA,CAAA;AACrC,IAAK,IAAA,CAAA,SAAA,GAAA,CAAY,EAAQ,GAAA,OAAA,CAAA,SAAA,KAAR,IAAqB,GAAA,EAAA,GAAA,6BAAA,CAAA;AAGtC,IAAA,IAAA,CAAK,0BAA6B,GAAA,IAAA,CAAK,0BAA2B,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC3E,IAAA,IAAA,CAAK,gCAAmC,GAAA,IAAA,CAAA;AAExC,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAGf,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACvC,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC/C,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC7C,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAK,SAAU,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEzC,IAAI,IAAA,OAAA,CAAQ,aAAa,KACzB,EAAA;AACI,MAAA,KAAK,KAAK,IAAK,EAAA,CAAA;AAAA,KACnB;AAAA,GACJ;AAAA;AAAA,EAGU,WACV,GAAA;AACI,IAAA,IAAI,KAAK,SACT,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAI,KAAK,UACT,EAAA;AAEI,MAAA,MAAM,SAAY,GAAA,MAAA,CAAO,MAAO,CAAA,SAAA,GAAY,KAAK,QAAS,CAAA,YAAA,CAAA;AAE1D,MAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,kBAAkB,SAAS,CAAA,CAAA;AAAA,KACtE;AAEA,IAAA,IAAI,CAAC,IAAA,CAAK,UAAc,IAAA,IAAA,CAAK,mBAAmB,CAChD,EAAA;AACI,MAAK,IAAA,CAAA,eAAA,GAAkB,KAAK,UAAa,GAAA,IAAA,CAAK,MAAM,GAAO,GAAA,IAAA,CAAK,UAAU,CAAI,GAAA,CAAA,CAAA;AAAA,KAClF;AAEA,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,KAChB;AAAA,GACJ;AAAA;AAAA,EAGQ,0BACR,GAAA;AACI,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAA,IAAI,KAAK,SACT,EAAA;AACI,MAAA,IAAA,CAAK,gCAAmC,GAAA,IAAA,CAAA;AAAA,KAG5C,MAAA;AACI,MAAK,IAAA,CAAA,gCAAA,GAAoC,KAAK,MAAe,CAAA,yBAAA;AAAA,QACzD,IAAK,CAAA,0BAAA;AAAA,OACT,CAAA;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,OACX,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAK,CAAA,QAAA,CAAS,cAAc,CAAC,CAAC,KAAK,QAAS,CAAA,WAAA,CAAA;AAAA,GACzD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAa,IACb,GAAA;AACI,IAAA,IAAI,KAAK,KACT,EAAA;AACI,MAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,KAChB;AAEA,IAAA,MAAM,SAAS,IAAK,CAAA,QAAA,CAAA;AAGpB,IAAK,IAAA,CAAA,MAAA,CAAO,UAAe,KAAA,MAAA,CAAO,gBAAoB,IAAA,MAAA,CAAO,UAAe,KAAA,MAAA,CAAO,gBAC5E,KAAA,MAAA,CAAO,KAAS,IAAA,MAAA,CAAO,MAC9B,EAAA;AACI,MAAC,OAAe,QAAW,GAAA,IAAA,CAAA;AAAA,KAC/B;AAGA,IAAO,MAAA,CAAA,gBAAA,CAAiB,MAAQ,EAAA,IAAA,CAAK,YAAY,CAAA,CAAA;AACjD,IAAO,MAAA,CAAA,gBAAA,CAAiB,OAAS,EAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AACjD,IAAO,MAAA,CAAA,gBAAA,CAAiB,QAAU,EAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AAGhD,IAAI,IAAA,CAAC,IAAK,CAAA,cAAA,EACV,EAAA;AACI,MAAA,MAAM,UAAU,IAAK,CAAA,OAAA,CAAA;AAErB,MAAI,IAAA,CAAC,QAAQ,OACb,EAAA;AACI,QAAO,MAAA,CAAA,gBAAA,CAAiB,SAAW,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAAA,OACtD;AACA,MAAO,MAAA,CAAA,gBAAA,CAAiB,gBAAkB,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AACzD,MAAA,MAAA,CAAO,gBAAiB,CAAA,OAAA,EAAS,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,KAGxD,MAAA;AACI,MAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,KACpB;AAEA,IAAK,IAAA,CAAA,SAAA,GAAY,MAAM,oBAAqB,EAAA,CAAA;AAG5C,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,OAAQ,CAAA,CAAC,SAAS,MACnC,KAAA;AACI,MAAA,IAAI,KAAK,OACT,EAAA;AACI,QAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAAA,OAGhB,MAAA;AACI,QAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAChB,QAAA,IAAA,CAAK,OAAU,GAAA,MAAA,CAAA;AAEf,QAAA,MAAA,CAAO,IAAK,EAAA,CAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,SAAS,KACjB,EAAA;AACI,IAAA,IAAA,CAAK,QAAS,CAAA,mBAAA,CAAoB,OAAS,EAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAC9D,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,KAAK,CAAA,CAAA;AAExB,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAQ,KAAK,CAAA,CAAA;AAClB,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,MAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,gBACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,QAAA,CAAA;AAEpB,IAAA,OAAQ,CAAC,MAAA,CAAO,MAAU,IAAA,CAAC,MAAO,CAAA,KAAA,CAAA;AAAA,GACtC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,cACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,QAAA,CAAA;AAEpB,IAAA,OAAO,OAAO,UAAa,GAAA,CAAA,CAAA;AAAA,GAC/B;AAAA;AAAA,EAGQ,YACR,GAAA;AAEI,IAAI,IAAA,CAAC,KAAK,OACV,EAAA;AACI,MAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAAA,GAC9B;AAAA;AAAA,EAGQ,WACR,GAAA;AACI,IAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAAA,GAC9B;AAAA;AAAA,EAGQ,SACR,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,WAAA,IAAe,CAAC,IAAA,CAAK,kBAC9B,EAAA;AACI,MAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AACvB,MAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AACjB,MAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAAA,KAC3B;AAAA,GACJ;AAAA;AAAA,EAGQ,UACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,QAAA,CAAA;AAGpB,IAAO,MAAA,CAAA,mBAAA,CAAoB,SAAW,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AACrD,IAAO,MAAA,CAAA,mBAAA,CAAoB,gBAAkB,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAE5D,IAAA,IAAI,KAAK,OACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,MAAA,IAAA,CAAK,MAAO,CAAA,MAAA,CAAO,UAAY,EAAA,MAAA,CAAO,WAAW,CAAA,CAAA;AAAA,KACrD;AAGA,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AACvB,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AACjB,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAGvB,IAAA,IAAI,KAAK,QACT,EAAA;AACI,MAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAClB,MAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,KACnB;AAGA,IAAI,IAAA,IAAA,CAAK,kBACT,EAAA;AACI,MAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAAA,KACtB,MAAA,IACS,KAAK,QACd,EAAA;AACI,MAAK,KAAA,IAAA,CAAK,SAAS,IAAK,EAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAE1B,IAAA,MAAM,SAAS,IAAK,CAAA,QAAA,CAAA;AAEpB,IAAA,IAAI,MACJ,EAAA;AAEI,MAAO,MAAA,CAAA,mBAAA,CAAoB,MAAQ,EAAA,IAAA,CAAK,YAAY,CAAA,CAAA;AACpD,MAAO,MAAA,CAAA,mBAAA,CAAoB,OAAS,EAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AACpD,MAAO,MAAA,CAAA,mBAAA,CAAoB,QAAU,EAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AACnD,MAAO,MAAA,CAAA,mBAAA,CAAoB,SAAW,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AACrD,MAAO,MAAA,CAAA,mBAAA,CAAoB,gBAAkB,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAC5D,MAAA,MAAA,CAAO,mBAAoB,CAAA,OAAA,EAAS,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAGvD,MAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AACb,MAAA,MAAA,CAAO,GAAM,GAAA,EAAA,CAAA;AACb,MAAA,MAAA,CAAO,IAAK,EAAA,CAAA;AAAA,KAChB;AAEA,IAAA,KAAA,CAAM,OAAQ,EAAA,CAAA;AAAA,GAClB;AAAA;AAAA,EAGA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAI,IAAA,KAAA,KAAU,KAAK,WACnB,EAAA;AACI,MAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AACnB,MAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAI,IAAA,KAAA,KAAU,KAAK,UACnB,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAClB,MAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcQ,oBACR,GAAA;AAEI,IAAA,IAAI,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,gBAAA,EAC7B,EAAA;AAEI,MAAA,IAAI,CAAC,IAAA,CAAK,UAAe,IAAA,IAAA,CAAK,OAAe,yBAC7C,EAAA;AAEI,QAAA,IAAI,KAAK,oBACT,EAAA;AACI,UAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAO,IAAK,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAC3C,UAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAE5B,UAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAAA,SAC3B;AAGA,QAAI,IAAA,IAAA,CAAK,qCAAqC,IAC9C,EAAA;AACI,UAAK,IAAA,CAAA,gCAAA,GAAoC,KAAK,MAAe,CAAA,yBAAA;AAAA,YACzD,IAAK,CAAA,0BAAA;AAAA,WACT,CAAA;AAAA,SACJ;AAAA,OAGJ,MAAA;AAEI,QAAI,IAAA,IAAA,CAAK,qCAAqC,IAC9C,EAAA;AACI,UAAC,IAAK,CAAA,MAAA,CAAe,wBAAyB,CAAA,IAAA,CAAK,gCAAgC,CAAA,CAAA;AACnF,UAAA,IAAA,CAAK,gCAAmC,GAAA,IAAA,CAAA;AAAA,SAC5C;AAGA,QAAI,IAAA,CAAC,KAAK,oBACV,EAAA;AACI,UAAA,MAAA,CAAO,MAAO,CAAA,GAAA,CAAI,IAAK,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AACxC,UAAA,IAAA,CAAK,oBAAuB,GAAA,IAAA,CAAA;AAE5B,UAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAAA,SAC3B;AAAA,OACJ;AAAA,KAGJ,MAAA;AAII,MAAI,IAAA,IAAA,CAAK,qCAAqC,IAC9C,EAAA;AACI,QAAC,IAAK,CAAA,MAAA,CAAe,wBAAyB,CAAA,IAAA,CAAK,gCAAgC,CAAA,CAAA;AACnF,QAAA,IAAA,CAAK,gCAAmC,GAAA,IAAA,CAAA;AAAA,OAC5C;AAGA,MAAA,IAAI,KAAK,oBACT,EAAA;AACI,QAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAO,IAAK,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAC3C,QAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAE5B,QAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAAA,OAC3B;AAAA,KACJ;AAAA,GACJ;AAAA,EAaA,OAAc,KAAK,QACnB,EAAA;AACI,IAAA,OAAQ,WAAW,gBAAoB,IAAA,QAAA,YAAoB,gBACvD,IAAA,UAAA,CAAW,cAAc,QAAoB,YAAA,UAAA,CAAA;AAAA,GACrD;AACJ,CAAA,CAAA;AA1dO,IAAM,WAAN,GAAA,aAAA;AAAM,WAAA,CAEK,YAA+B,aAAc,CAAA,aAAA,CAAA;AAAA;AAFlD,WAKK,CAAA,cAAA,GAAqCD,eAC5C,CAAAC,gBAAA,CAAA,EAAA,EAAA,aAAA,CAAc,cAD8B,CAAA,EAAA;AAAA,EAE/C,QAAU,EAAA,IAAA;AAAA,EACV,QAAU,EAAA,IAAA;AAAA,EACV,SAAW,EAAA,CAAA;AAAA,EACX,WAAa,EAAA,IAAA;AAAA,EACb,IAAM,EAAA,KAAA;AAAA,EACN,KAAO,EAAA,IAAA;AAAA,EACP,WAAa,EAAA,IAAA;AAAA,EACb,OAAS,EAAA,KAAA;AACb,CAAA,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAfS,WAAA,CA8cK,UACR,GAAA;AAAA,EACE,GAAK,EAAA,WAAA;AAAA,EACL,GAAK,EAAA,iBAAA;AAAA,EACL,GAAK,EAAA,WAAA;AACT,CAAA;;;;;;;;;;;;;;;;;;;;;ACteR,MAAM,oBAAA,GAAuB,CAAC,MAAQ,EAAA,MAAA,EAAQ,SAAS,MAAQ,EAAA,MAAA,EAAQ,OAAS,EAAA,MAAA,EAAQ,MAAM,CAAA,CAAA;AAC9F,MAAM,eAAA,GAAkB,qBAAqB,GAAI,CAAA,CAAC,QAAQ,CAAS,MAAA,EAAA,GAAA,CAAI,SAAU,CAAA,CAAC,CAAG,CAAA,CAAA,CAAA,CAAA;AAQrE,SAAA,WAAA,CAAY,OAA8C,EAAA,GAAA,EAAa,WACvF,EAAA;AACI,EAAA,IAAI,gBAAgB,KAAa,CAAA,IAAA,CAAC,GAAI,CAAA,UAAA,CAAW,OAAO,CACxD,EAAA;AACI,IAAQ,OAAA,CAAA,WAAA,GAAc,qBAAqB,GAAG,CAAA,CAAA;AAAA,GAClD,MAAA,IACS,gBAAgB,KACzB,EAAA;AACI,IAAA,OAAA,CAAQ,WAAc,GAAA,OAAO,WAAgB,KAAA,QAAA,GAAW,WAAc,GAAA,WAAA,CAAA;AAAA,GAC1E;AACJ,CAAA;AAYO,SAAS,oBAAqB,CAAA,GAAA,EAAa,GAAgB,GAAA,UAAA,CAAW,QAC7E,EAAA;AAEI,EAAI,IAAA,GAAA,CAAI,UAAW,CAAA,OAAO,CAC1B,EAAA;AACI,IAAO,OAAA,EAAA,CAAA;AAAA,GACX;AAGA,EAAA,GAAA,GAAM,OAAO,UAAW,CAAA,QAAA,CAAA;AAExB,EAAA,MAAM,SAAY,GAAA,IAAI,GAAI,CAAA,GAAA,EAAK,SAAS,OAAO,CAAA,CAAA;AAG/C,EAAI,IAAA,SAAA,CAAU,QAAa,KAAA,GAAA,CAAI,QAAY,IAAA,SAAA,CAAU,IAAS,KAAA,GAAA,CAAI,IAAQ,IAAA,SAAA,CAAU,QAAa,KAAA,GAAA,CAAI,QACrG,EAAA;AACI,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAEA,EAAO,OAAA,EAAA,CAAA;AACX,CAAA;AAmBO,MAAM,iBAAoB,GAAA;AAAA,EAE7B,IAAM,EAAA,WAAA;AAAA,EAEN,SAAW,EAAA;AAAA,IACP,MAAM,aAAc,CAAA,UAAA;AAAA,GACxB;AAAA,EAEA,MAAQ,EAAA,IAAA;AAAA,EAER,KAAK,GACL,EAAA;AACI,IAAM,MAAA,cAAA,GAAiB,YAAa,CAAA,GAAA,EAAK,eAAe,CAAA,CAAA;AACxD,IAAM,MAAA,gBAAA,GAAmB,cAAe,CAAA,GAAA,EAAK,oBAAoB,CAAA,CAAA;AAEjE,IAAA,OAAO,cAAkB,IAAA,gBAAA,CAAA;AAAA,GAC7B;AAAA,EAEA,MAAM,IAAA,CAAK,GAAa,EAAA,KAAA,EAA0C,MAClE,EAAA;AAvGJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyGQ,IAAM,MAAA,OAAA,GAA8BA,gBAC7B,CAAAD,eAAA,CAAAC,gBAAA,CAAA,EAAA,EAAA,WAAA,CAAY,cADiB,CAAA,EAAA;AAAA,MAEhC,cAAY,EAAM,GAAA,KAAA,CAAA,IAAA,KAAN,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAA,KAAc,mBAAmB,GAAG,CAAA;AAAA,MAC5D,aAAW,EAAM,GAAA,KAAA,CAAA,IAAA,KAAN,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,SAAA,KAAa,MAAM,oBAAqB,EAAA;AAAA,KAAA,CAAA,EAC5D,KAAM,CAAA,IAAA,CAAA,CAAA;AAIb,IAAM,MAAA,YAAA,GAAe,QAAS,CAAA,aAAA,CAAc,OAAO,CAAA,CAAA;AAGnD,IAAA,MAAM,YAAe,GAAA;AAAA,MACjB,OAAS,EAAA,OAAA,CAAQ,QAAa,KAAA,KAAA,GAAQ,MAAS,GAAA,KAAA,CAAA;AAAA,MAC/C,oBAAsB,EAAA,OAAA,CAAQ,WAAgB,KAAA,KAAA,GAAQ,EAAK,GAAA,KAAA,CAAA;AAAA,MAC3D,WAAa,EAAA,OAAA,CAAQ,WAAgB,KAAA,KAAA,GAAQ,EAAK,GAAA,KAAA,CAAA;AAAA,MAClD,KAAO,EAAA,OAAA,CAAQ,KAAU,KAAA,IAAA,GAAO,EAAK,GAAA,KAAA,CAAA;AAAA,MACrC,IAAM,EAAA,OAAA,CAAQ,IAAS,KAAA,IAAA,GAAO,EAAK,GAAA,KAAA,CAAA;AAAA,MACnC,QAAU,EAAA,OAAA,CAAQ,QAAa,KAAA,KAAA,GAAQ,EAAK,GAAA,KAAA,CAAA;AAAA,KAChD,CAAA;AAEA,IAAA,MAAA,CAAO,IAAK,CAAA,YAAY,CAAE,CAAA,OAAA,CAAQ,CAAC,GACnC,KAAA;AACI,MAAM,MAAA,KAAA,GAAQ,aAAa,GAAgC,CAAA,CAAA;AAE3D,MAAA,IAAI,KAAU,KAAA,KAAA,CAAA;AAAW,QAAa,YAAA,CAAA,YAAA,CAAa,KAAK,KAAK,CAAA,CAAA;AAAA,KAChE,CAAA,CAAA;AAED,IAAI,IAAA,OAAA,CAAQ,UAAU,IACtB,EAAA;AACI,MAAA,YAAA,CAAa,KAAQ,GAAA,IAAA,CAAA;AAAA,KACzB;AAEA,IAAY,WAAA,CAAA,YAAA,EAAc,GAAK,EAAA,OAAA,CAAQ,WAAW,CAAA,CAAA;AAGlD,IAAM,MAAA,aAAA,GAAgB,QAAS,CAAA,aAAA,CAAc,QAAQ,CAAA,CAAA;AAGrD,IAAI,IAAA,IAAA,CAAA;AAEJ,IAAI,IAAA,GAAA,CAAI,UAAW,CAAA,OAAO,CAC1B,EAAA;AACI,MAAA,IAAA,GAAO,IAAI,KAAM,CAAA,CAAA,EAAG,GAAI,CAAA,OAAA,CAAQ,GAAG,CAAC,CAAA,CAAA;AAAA,KAE/B,MAAA,IAAA,CAAC,GAAI,CAAA,UAAA,CAAW,OAAO,CAChC,EAAA;AACI,MAAA,MAAM,GAAM,GAAA,GAAA,CAAI,KAAM,CAAA,GAAG,EAAE,CAAC,CAAA,CAAE,KAAM,CAAA,GAAA,CAAI,WAAY,CAAA,GAAG,CAAI,GAAA,CAAC,EAAE,WAAY,EAAA,CAAA;AAE1E,MAAA,IAAA,GAAO,WAAY,CAAA,UAAA,CAAW,GAAG,CAAA,IAAK,CAAS,MAAA,EAAA,GAAA,CAAA,CAAA,CAAA;AAAA,KACnD;AAEA,IAAA,aAAA,CAAc,GAAM,GAAA,GAAA,CAAA;AAEpB,IAAA,IAAI,IACJ,EAAA;AACI,MAAA,aAAA,CAAc,IAAO,GAAA,IAAA,CAAA;AAAA,KACzB;AAEA,IAAA,YAAA,CAAa,YAAY,aAAa,CAAA,CAAA;AAGtC,IAAM,MAAA,IAAA,GAAO,IAAI,WAAY,CAAAD,eAAA,CAAAC,gBAAA,CAAA,EAAA,EAAK,UAAL,EAAc,QAAA,EAAU,cAAc,CAAA,CAAA,CAAA;AAEnE,IAAO,OAAA,aAAA,CAAc,IAAM,EAAA,MAAA,EAAQ,GAAG,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEA,OAAO,OACP,EAAA;AACI,IAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AAAA,GACxB;AACJ;;ACxKO,MAAM,iBAAoB,GAAA;AAAA,EAC7B,WAAW,aAAc,CAAA,aAAA;AAAA,EACzB,MAAM,YAAa,CAAA,IAAA;AAAA,EACnB,KAAA,EAAO,CAAC,KAAgC,KAAA;AAV5C,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAWS,IAAA,OAAA;AAAA,MACG,UAAA,EAAY,UAAW,CAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,aAAc,CAAA,IAAA,CAAK,KAAK,CAAjC,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAqC,CAArC,CAAA,KAAA,IAAA,GAAA,EAAA,GAA2C,GAAG,CAAA;AAAA,MACrE,MAAQ,EAAA,KAAA,CAAM,KAAM,CAAA,GAAG,EAAE,GAAI,EAAA;AAAA,MAC7B,GAAK,EAAA,KAAA;AAAA,KACT,CAAA;AAAA,GAAA;AACR;;ACGA,UAAW,CAAA,GAAA;AAAA,EACP,iBAAA;AAAA,EAEA,cAAA;AAAA,EACA,UAAA;AAAA,EACA,UAAA;AAAA,EACA,SAAA;AAAA,EACA,SAAA;AAAA,EACA,UAAA;AAAA,EAEA,QAAA;AAAA,EACA,OAAA;AAAA,EACA,WAAA;AAAA,EACA,OAAA;AAAA,EACA,YAAA;AAAA,EACA,iBAAA;AAAA,EAEA,iBAAA;AAAA;AAAA;AAAA,EAIA,mBAAA;AAAA,EACA,qBAAA;AACJ,CAAA,CAAA;AAEA,MAAM,WAAc,GAAA;AAAA,EAChB,QAAQ,aAAc,CAAA,UAAA;AAAA,EACtB,UAAU,aAAc,CAAA,aAAA;AAAA,EACxB,OAAO,aAAc,CAAA,WAAA;AAAA,EACrB,WAAW,aAAc,CAAA,eAAA;AAC7B,CAAA,CAAA;AAMA,UAAA,CAAW,MAAO,CAAA,aAAA,CAAc,KAAO,EAAA,CAAC,SACxC,KAAA;AACI,EAAA,MAAM,MAAM,SAAU,CAAA,GAAA,CAAA;AAEtB,EAAA,MAAA,CAAO,QAAQ,WAAW,CAAA,CACrB,OAAO,CAAC,CAAC,GAAG,CAAM,KAAA,CAAC,CAAC,GAAI,CAAA,GAAgB,CAAC,CACzC,CAAA,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,IAAI,CAAG,KAAA;AA7D/B,IAAA,IAAA,EAAA,CAAA;AA6DkC,IAAA,OAAA,UAAA,CAAW,IAAI,MAAO,CAAA,MAAA;AAAA,MAC5C,IAAI,GAAgB,CAAA;AAAA;AAAA;AAAA,MAGpB,EAAE,SAAW,EAAA,CAAA,EAAA,GAAA,GAAA,CAAI,GAAgB,CAAE,CAAA,SAAA,KAAtB,YAAmC,IAAK,EAAA;AAAA,KACxD,CAAA,CAAA;AAAA,GAAC,CAAA,CAAA;AACV,CAAA,EAAG,CAAC,SACJ,KAAA;AACI,EAAA,MAAM,MAAM,SAAU,CAAA,GAAA,CAAA;AAEtB,EAAO,MAAA,CAAA,IAAA,CAAK,WAAW,CAClB,CAAA,MAAA,CAAO,CAAC,GAAQ,KAAA,CAAC,CAAC,GAAI,CAAA,GAAgB,CAAC,CACvC,CAAA,OAAA,CAAQ,CAAC,GAAQ,KAAA,UAAA,CAAW,OAAO,GAAI,CAAA,GAAgB,CAAC,CAAC,CAAA,CAAA;AAClE,CAAC,CAAA;;AC9DD,MAAM,iBACN,CAAA;AAAA,EADA,WAAA,GAAA;AAOI;AAAA,IAAA,IAAA,CAAO,oBAAuB,GAAA,EAAA,CAAA;AAE9B,IAAA,IAAA,CAAQ,UAAa,GAAA,CAAA,CAAA;AACrB,IAAA,IAAA,CAAQ,QAAW,GAAA,KAAA,CAAA;AACnB,IAAA,IAAA,CAAQ,YAAe,GAAA,KAAA,CAAA;AACvB,IAAA,IAAA,CAAQ,YAAe,GAAA,IAAA,CAAA;AAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMhB,KAAK,MACZ,EAAA;AACI,IAAA,IAAA,CAAK,oBAAqB,EAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,oBAAuB,GAAA,EAAA,CAAA;AAC5B,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AACpB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGA,IAAI,WACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,YAAY,MAChB,EAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,MAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGO,iBACP,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA,IAAgB,CAAC,IAAA,CAAK,UAC/B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAA,CAAO,OAAO,GAAI,CAAA,IAAA,CAAK,aAAe,EAAA,IAAA,EAAM,gBAAgB,WAAW,CAAA,CAAA;AAEvE,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGO,oBACP,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAO,IAAK,CAAA,aAAA,EAAe,IAAI,CAAA,CAAA;AAE7C,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGO,YACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AAAA;AAAA,EAGQ,OACR,GAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,UAAc,IAAA,IAAA,CAAK,YAC7B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAGA,IAAA,IAAI,KAAK,QACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAEhB,MAAA,OAAA;AAAA,KACJ;AAGA,IAAM,MAAA,gBAAA,GAAmB,IAAK,CAAA,MAAA,CAAO,mBAAmB,CAAA,CAAA;AAExD,IAAA,IAAI,IAAK,CAAA,MAAA,CAAO,mBAAwB,IAAA,gBAAA,CAAkC,gBAAgB,OAC1F,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,UAAA,CAAW,QAAS,CAAA,aAAA,CAAc,IAAI,YAAA,CAAa,aAAe,EAAA;AAAA,MAC9D,SAAS,gBAAiB,CAAA,OAAA;AAAA,MAC1B,SAAS,gBAAiB,CAAA,OAAA;AAAA,KAC7B,CAAC,CAAA,CAAA;AAAA,GACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASQ,cAAc,MACtB,EAAA;AACI,IAAA,IAAA,CAAK,cAAc,MAAO,CAAA,SAAA,CAAA;AAE1B,IAAI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAK,oBAC3B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAElB,IAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAAA,GACjB;AACJ,CAAA;AASa,MAAA,YAAA,GAAe,IAAI,iBAAkB;;ACvI3C,MAAM,4BAA4B,cAGzC,CAAA;AAAA,EAHO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AA0BH;AAAA,IAAO,IAAA,CAAA,MAAA,GAAgB,IAAI,KAAM,EAAA,CAAA;AAwBjC;AAAA,IAAO,IAAA,CAAA,QAAA,GAAkB,IAAI,KAAM,EAAA,CAAA;AASnC;AAAA,IAAO,IAAA,CAAA,MAAA,GAAgB,IAAI,KAAM,EAAA,CAAA;AASjC;AAAA,IAAO,IAAA,CAAA,MAAA,GAAgB,IAAI,KAAM,EAAA,CAAA;AAYjC;AAAA;AAAA;AAAA;AAAA,IAAO,IAAA,CAAA,MAAA,GAAgB,IAAI,KAAM,EAAA,CAAA;AAAA,GAAA;AAAA;AAAA,EAnDjC,IAAW,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAGrD,IAAW,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAMrD,IAAI,CAAY,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAAS;AAAA;AAAA;AAAA;AAAA;AAAA,EAMvC,IAAI,CAAY,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAAS;AAAA;AAAA,EASvC,IAAI,SAAoB,GAAA;AAAE,IAAA,OAAO,KAAK,QAAS,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAGlD,IAAI,SAAoB,GAAA;AAAE,IAAA,OAAO,KAAK,QAAS,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAMlD,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAG9C,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAM9C,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA,EAG9C,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAY9C,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,EAM9C,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAavC,gBAAA,CAA8C,SAAsB,EAAA,KAAA,EAAW,SACtF,EAAA;AACI,IAAA,OAAO,UAAU,cAAe,CAAA,YAAA,CAAgB,SAAa,IAAA,IAAA,CAAK,QAAQ,KAAK,CAAA,CAAA;AAAA,GACnF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,iBAAiB,GACxB,EAAA;AACI,IAAA,OAAO,sBAAsB,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,WAAA,CAAY,iBAAiB,GAAG,CAAA,CAAA;AAAA,GAC1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsBO,cACH,CAAA,QAAA,EACA,aACA,EAAA,cAAA,EACA,UACA,UACA,EAAA,WAAA,EACA,WACA,EAAA,WAAA,EACA,aACA,WACA,EAAA,UAAA,EACA,YACA,EAAA,WAAA,EACA,YACA,iBAEJ,EAAA;AACI,IAAM,MAAA,IAAI,MAAM,yBAAyB,CAAA,CAAA;AAAA,GAC7C;AACJ;;ACpKO,MAAM,8BAA8B,mBAC3C,CAAA;AAAA,EADO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AAaH;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA;AAOf;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,MAAS,GAAA,CAAA,CAAA;AAMhB;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAAA,GAAA;AAAA;AAAA,EA4CZ,kBACP,GAAA;AACI,IAAI,IAAA,IAAA,CAAK,SAAS,aAAiB,IAAA,IAAA,CAAK,SAAS,WAAe,IAAA,IAAA,CAAK,SAAS,WAC9E,EAAA;AACI,MAAA,OAAO,CAAC,IAAI,CAAA,CAAA;AAAA,KAChB;AAEA,IAAA,OAAO,EAAC,CAAA;AAAA,GACZ;AAAA;AAAA,EAGO,kBACP,GAAA;AACI,IAAM,MAAA,IAAI,MAAM,sCAAsC,CAAA,CAAA;AAAA,GAC1D;AACJ;;ACrFO,MAAM,4BAA4B,mBACzC,CAAA;AAAA,EADO,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;AAqBH;AAAA,IAAA,IAAA,CAAgB,eAAkB,GAAA,CAAA,CAAA;AAMlC;AAAA,IAAA,IAAA,CAAgB,cAAiB,GAAA,CAAA,CAAA;AAMjC;AAAA,IAAA,IAAA,CAAgB,cAAiB,GAAA,CAAA,CAAA;AAAA,GAAA;AACrC,CAAA;AAAA;AAlCa,mBAAA,CAkBc,eAAkB,GAAA,CAAA,CAAA;AAAA;AAlBhC,mBAAA,CAwBc,cAAiB,GAAA,CAAA,CAAA;AAAA;AAxB/B,mBAAA,CA8Bc,cAAiB,GAAA,CAAA;;ACf5C,MAAM,iBAAoB,GAAA,IAAA,CAAA;AAE1B,MAAM,eAAA,GAAkB,IAAI,KAAM,EAAA,CAAA;AAClC,MAAM,gBAAA,GAAmB,IAAI,KAAM,EAAA,CAAA;AAyD5B,MAAM,aACb,CAAA;AAAA;AAAA;AAAA;AAAA,EAqEI,YAAY,UACZ,EAAA;AAtDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAO,IAAA,CAAA,QAAA,GAAyB,IAAIU,aAAa,EAAA,CAAA;AAWjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAGnB;AAAA,IAAA,IAAA,CAAO,sBAAyB,GAAA,IAAA,CAAA;AAkBhC;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAU,YAAoC,GAAA;AAAA,MAC1C,cAAc,EAAC;AAAA,KACnB,CAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAU,IAAA,CAAA,SAAA,uBAA8D,GAAI,EAAA,CAAA;AAG5E;AAAA,IAAA,IAAA,CAAiB,0BAAkD,EAAC,CAAA;AAEpE;AAAA,IAAA,IAAA,CAAQ,eAAuC,EAAC,CAAA;AAEhD;AAAA,IAAA,IAAA,CAAQ,mBAAsB,GAAA,KAAA,CAAA;AAO1B,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAElB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAK,SAAU,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACzC,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACnD,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACnD,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAK,aAAc,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACjD,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACnD,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC/C,IAAA,IAAA,CAAK,mBAAsB,GAAA,IAAA,CAAK,mBAAoB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC7D,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AACrB,IAAK,IAAA,CAAA,eAAA,CAAgB,aAAe,EAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AACvD,IAAK,IAAA,CAAA,eAAA,CAAgB,aAAe,EAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AACvD,IAAK,IAAA,CAAA,eAAA,CAAgB,YAAc,EAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AACrD,IAAK,IAAA,CAAA,eAAA,CAAgB,cAAgB,EAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AACvD,IAAK,IAAA,CAAA,eAAA,CAAgB,aAAe,EAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AACvD,IAAK,IAAA,CAAA,eAAA,CAAgB,WAAa,EAAA,IAAA,CAAK,YAAY,CAAA,CAAA;AACnD,IAAK,IAAA,CAAA,eAAA,CAAgB,kBAAoB,EAAA,IAAA,CAAK,mBAAmB,CAAA,CAAA;AACjE,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAS,EAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,GAC/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcO,eAAA,CAAgB,MAAc,EACrC,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,YAAa,CAAA,IAAI,CAC3B,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,IAAI,CAAA,GAAI,EAAC,CAAA;AAAA,KAC/B;AAEA,IAAK,IAAA,CAAA,YAAA,CAAa,IAAI,CAAA,CAAE,IAAK,CAAA;AAAA,MACzB,EAAA;AAAA,MACA,QAAU,EAAA,CAAA;AAAA,KACb,CAAA,CAAA;AACD,IAAK,IAAA,CAAA,YAAA,CAAa,IAAI,CAAA,CAAE,IAAK,CAAA,CAAC,GAAG,CAAM,KAAA,CAAA,CAAE,QAAW,GAAA,CAAA,CAAE,QAAQ,CAAA,CAAA;AAAA,GAClE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,aAAA,CAAc,GAAmB,IACxC,EAAA;AACI,IAAA,CAAA,CAAE,kBAAqB,GAAA,KAAA,CAAA;AACvB,IAAA,CAAA,CAAE,6BAAgC,GAAA,KAAA,CAAA;AAElC,IAAK,IAAA,CAAA,SAAA,CAAU,GAAG,IAAI,CAAA,CAAA;AACtB,IAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAQ,IAAA,CAAA,CAAE,MAAM,CAAC,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,CAChB,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,YAAa,CAAA,CAAA,CAAE,IAAI,CAAA,CAAA;AAExC,IAAA,IAAI,OACJ,EAAA;AACI,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,QAAQ,MAAQ,EAAA,CAAA,GAAI,GAAG,CAC3C,EAAA,EAAA;AACI,QAAQ,OAAA,CAAA,CAAC,CAAE,CAAA,EAAA,CAAG,CAAC,CAAA,CAAA;AAAA,OACnB;AAAA,KAGJ,MAAA;AAEI,MAAK,IAAA,CAAA,CAAA,+CAAA,EAAkD,EAAE,IAAM,CAAA,CAAA,CAAA,CAAA;AAAA,KAEnE;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CACH,GACA,CAEJ,EAAA;AACI,IAAA,YAAA,CAAa,WAAc,GAAA,IAAA,CAAA;AAE3B,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,mBAAA,IAAuB,IAAK,CAAA,sBAAA,CAAA;AACjD,IAAM,MAAA,EAAA,GAAK,UAAU,sBAAyB,GAAA,kBAAA,CAAA;AAC9C,IAAM,MAAA,YAAA,GAAe,KAAK,EAAE,CAAA;AAAA,MACxB,IAAK,CAAA,UAAA;AAAA,MACL,KAAK,UAAW,CAAA,SAAA;AAAA,MAChB,eAAA,CAAgB,GAAI,CAAA,CAAA,EAAG,CAAC,CAAA;AAAA,MACxB,IAAK,CAAA,SAAA;AAAA,MACL,IAAK,CAAA,UAAA;AAAA,KACT,CAAA;AAEA,IAAO,OAAA,YAAA,IAAgB,aAAa,CAAC,CAAA,CAAA;AAAA,GACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,SAAA,CAAU,GAAmB,IACpC,EAAA;AACI,IAAI,IAAA,CAAC,EAAE,MACP,EAAA;AAEI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,YAAA,GAAe,EAAE,YAAa,EAAA,CAAA;AAGpC,IAAA,CAAA,CAAE,aAAa,CAAE,CAAA,eAAA,CAAA;AAEjB,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,YAAA,CAAa,SAAS,CAAG,EAAA,CAAA,GAAI,GAAG,CACpD,EAAA,EAAA;AACI,MAAE,CAAA,CAAA,aAAA,GAAgB,aAAa,CAAC,CAAA,CAAA;AAEhC,MAAK,IAAA,CAAA,YAAA,CAAa,GAAG,IAAI,CAAA,CAAA;AAEzB,MAAI,IAAA,CAAA,CAAE,sBAAsB,CAAE,CAAA,6BAAA;AAA+B,QAAA,OAAA;AAAA,KACjE;AAGA,IAAA,CAAA,CAAE,aAAa,CAAE,CAAA,SAAA,CAAA;AACjB,IAAA,CAAA,CAAE,gBAAgB,CAAE,CAAA,MAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,YAAA,CAAa,GAAG,IAAI,CAAA,CAAA;AAEzB,IAAI,IAAA,CAAA,CAAE,sBAAsB,CAAE,CAAA,6BAAA;AAA+B,MAAA,OAAA;AAG7D,IAAA,CAAA,CAAE,aAAa,CAAE,CAAA,cAAA,CAAA;AAEjB,IAAA,KAAA,IAAS,IAAI,YAAa,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CAC9C,EAAA,EAAA;AACI,MAAE,CAAA,CAAA,aAAA,GAAgB,aAAa,CAAC,CAAA,CAAA;AAEhC,MAAK,IAAA,CAAA,YAAA,CAAa,GAAG,IAAI,CAAA,CAAA;AAEzB,MAAI,IAAA,CAAA,CAAE,sBAAsB,CAAE,CAAA,6BAAA;AAA+B,QAAA,OAAA;AAAA,KACjE;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,GAAI,CAAA,CAAA,EAAmB,IAA0B,EAAA,OAAA,GAAU,KAAK,uBACvE,EAAA;AACI,IAAA,IAAI,QAAQ,MAAW,KAAA,CAAA;AAAG,MAAA,OAAA;AAE1B,IAAA,CAAA,CAAE,aAAa,CAAE,CAAA,cAAA,CAAA;AAEjB,IAAA,MAAM,SAAS,KAAM,CAAA,OAAA,CAAQ,IAAI,CAAI,GAAA,IAAA,GAAO,CAAC,IAAI,CAAA,CAAA;AAIjD,IAAA,KAAA,IAAS,IAAI,OAAQ,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CACzC,EAAA,EAAA;AACI,MAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,KAChB,KAAA;AACI,QAAE,CAAA,CAAA,aAAA,GAAgB,QAAQ,CAAC,CAAA,CAAA;AAC3B,QAAK,IAAA,CAAA,YAAA,CAAa,GAAG,KAAK,CAAA,CAAA;AAAA,OAC7B,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,gBAAgB,MACvB,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,CAAC,MAAM,CAAA,CAAA;AAE/B,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,iBAAA,KAAsB,WAAW,IAAK,CAAA,UAAA,IAAc,MAAO,CAAA,MAAA,CAAA,EAAS,CACxF,EAAA,EAAA;AACI,MAAI,IAAA,CAAC,OAAO,MACZ,EAAA;AACI,QAAM,MAAA,IAAI,MAAM,qDAAqD,CAAA,CAAA;AAAA,OACzE;AAEA,MAAgB,eAAA,CAAA,IAAA,CAAK,OAAO,MAAM,CAAA,CAAA;AAElC,MAAA,MAAA,GAAS,MAAO,CAAA,MAAA,CAAA;AAAA,KACpB;AAEA,IAAA,eAAA,CAAgB,OAAQ,EAAA,CAAA;AAExB,IAAO,OAAA,eAAA,CAAA;AAAA,GACX;AAAA,EAEU,qBACN,aACA,EAAA,SAAA,EACA,UACA,MACA,EAAA,OAAA,EACA,SAAS,KAEb,EAAA;AACI,IAAA,IAAI,YAAe,GAAA,KAAA,CAAA;AAGnB,IAAI,IAAA,IAAA,CAAK,kBAAkB,aAAa,CAAA;AAAG,MAAO,OAAA,IAAA,CAAA;AAElD,IAAA,IAAI,aAAc,CAAA,SAAA,KAAc,SAAa,IAAA,SAAA,KAAc,SAC3D,EAAA;AACI,MAAA,YAAA,CAAa,WAAc,GAAA,KAAA,CAAA;AAAA,KAC/B;AAEA,IAAI,IAAA,aAAA,CAAc,mBAAuB,IAAA,aAAA,CAAc,QACvD,EAAA;AACI,MAAA,MAAM,WAAW,aAAc,CAAA,QAAA,CAAA;AAE/B,MAAA,KAAA,IAAS,IAAI,QAAS,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CAC1C,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,QAAA,MAAM,YAAY,IAAK,CAAA,oBAAA;AAAA,UACnB,KAAA;AAAA,UACA,IAAK,CAAA,cAAA,CAAe,SAAS,CAAA,GAAI,YAAY,KAAM,CAAA,SAAA;AAAA,UACnD,QAAA;AAAA,UACA,MAAA;AAAA,UACA,OAAA;AAAA,UACA,MAAA,IAAU,OAAQ,CAAA,aAAA,EAAe,QAAQ,CAAA;AAAA,SAC7C,CAAA;AAEA,QAAA,IAAI,SACJ,EAAA;AAGI,UAAI,IAAA,SAAA,CAAU,SAAS,CAAK,IAAA,CAAC,UAAU,SAAU,CAAA,MAAA,GAAS,CAAC,CAAA,CAAE,MAC7D,EAAA;AACI,YAAA,SAAA;AAAA,WACJ;AAKA,UAAM,MAAA,aAAA,GAAgB,cAAc,aAAc,EAAA,CAAA;AAElD,UAAI,IAAA,SAAA,CAAU,MAAS,GAAA,CAAA,IAAK,aAC5B,EAAA;AACI,YAAI,IAAA,aAAA;AAAe,cAAK,IAAA,CAAA,uBAAA,CAAwB,KAAK,aAAa,CAAA,CAAA;AAClE,YAAA,SAAA,CAAU,KAAK,aAAa,CAAA,CAAA;AAAA,WAChC;AAGA,UAAI,IAAA,IAAA,CAAK,aAAa,MAAW,KAAA,CAAA;AAAG,YAAA,IAAA,CAAK,YAAe,GAAA,SAAA,CAAA;AAExD,UAAe,YAAA,GAAA,IAAA,CAAA;AAAA,SACnB;AAAA,OACJ;AAAA,KACJ;AAEA,IAAM,MAAA,iBAAA,GAAoB,IAAK,CAAA,cAAA,CAAe,SAAS,CAAA,CAAA;AACvD,IAAM,MAAA,mBAAA,GAAsB,cAAc,aAAc,EAAA,CAAA;AAExD,IAAA,IAAI,mBAAuB,IAAA,mBAAA;AAAqB,MAAK,IAAA,CAAA,uBAAA,CAAwB,KAAK,aAAa,CAAA,CAAA;AAI/F,IAAI,IAAA,MAAA,IAAU,IAAK,CAAA,YAAA,CAAa,MAAS,GAAA,CAAA;AAAG,MAAO,OAAA,IAAA,CAAA;AAEnD,IAAI,IAAA,YAAA;AAAc,MAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAG9B,IAAI,IAAA,iBAAA,KAAsB,CAAC,OAAQ,CAAA,aAAA,EAAe,QAAQ,CAAK,IAAA,MAAA,CAAO,aAAe,EAAA,QAAQ,CAC7F,CAAA,EAAA;AAGI,MAAA,OAAO,mBAAsB,GAAA,CAAC,aAAa,CAAA,GAAI,EAAC,CAAA;AAAA,KACpD;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBU,gBACN,CAAA,aAAA,EACA,SACA,EAAA,QAAA,EACA,QACA,OAEJ,EAAA;AAEI,IAAA,IAAI,KAAK,iBAAkB,CAAA,aAAa,KAAK,OAAQ,CAAA,aAAA,EAAe,QAAQ,CAC5E,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AACA,IAAA,IAAI,aAAc,CAAA,SAAA,KAAc,SAAa,IAAA,SAAA,KAAc,SAC3D,EAAA;AACI,MAAA,YAAA,CAAa,WAAc,GAAA,KAAA,CAAA;AAAA,KAC/B;AAGA,IAAI,IAAA,aAAA,CAAc,mBAAuB,IAAA,aAAA,CAAc,QACvD,EAAA;AACI,MAAA,MAAM,WAAW,aAAc,CAAA,QAAA,CAAA;AAC/B,MAAA,MAAM,gBAAmB,GAAA,QAAA,CAAA;AAEzB,MAAA,KAAA,IAAS,IAAI,QAAS,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CAC1C,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,QAAA,MAAM,YAAY,IAAK,CAAA,gBAAA;AAAA,UACnB,KAAA;AAAA,UACA,IAAK,CAAA,cAAA,CAAe,SAAS,CAAA,GAAI,YAAY,KAAM,CAAA,SAAA;AAAA,UACnD,gBAAA;AAAA,UACA,MAAA;AAAA,UACA,OAAA;AAAA,SACJ,CAAA;AAEA,QAAA,IAAI,SACJ,EAAA;AAGI,UAAI,IAAA,SAAA,CAAU,SAAS,CAAK,IAAA,CAAC,UAAU,SAAU,CAAA,MAAA,GAAS,CAAC,CAAA,CAAE,MAC7D,EAAA;AACI,YAAA,SAAA;AAAA,WACJ;AAKA,UAAM,MAAA,aAAA,GAAgB,cAAc,aAAc,EAAA,CAAA;AAElD,UAAI,IAAA,SAAA,CAAU,SAAS,CAAK,IAAA,aAAA;AAAe,YAAA,SAAA,CAAU,KAAK,aAAa,CAAA,CAAA;AAEvE,UAAO,OAAA,SAAA,CAAA;AAAA,SACX;AAAA,OACJ;AAAA,KACJ;AAEA,IAAM,MAAA,iBAAA,GAAoB,IAAK,CAAA,cAAA,CAAe,SAAS,CAAA,CAAA;AACvD,IAAM,MAAA,mBAAA,GAAsB,cAAc,aAAc,EAAA,CAAA;AAGxD,IAAA,IAAI,iBAAqB,IAAA,MAAA,CAAO,aAAe,EAAA,QAAQ,CACvD,EAAA;AAGI,MAAA,OAAO,mBAAsB,GAAA,CAAC,aAAa,CAAA,GAAI,EAAC,CAAA;AAAA,KACpD;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEQ,eAAe,GACvB,EAAA;AACI,IAAO,OAAA,GAAA,KAAQ,YAAY,GAAQ,KAAA,SAAA,CAAA;AAAA,GACvC;AAAA,EAEQ,kBAAkB,SAC1B,EAAA;AAEI,IAAA,IAAI,CAAC,SAAa,IAAA,CAAC,UAAU,OAAW,IAAA,CAAC,UAAU,UACnD,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAGA,IAAI,IAAA,SAAA,CAAU,cAAc,MAC5B,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAGA,IAAA,IAAI,SAAU,CAAA,SAAA,KAAc,SAAa,IAAA,CAAC,UAAU,mBACpD,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,UAAA,CAAW,WAAsB,QAC3C,EAAA;AACI,IAAA,IAAI,UAAU,OACd,EAAA;AACI,MAAU,SAAA,CAAA,cAAA,CAAe,YAAa,CAAA,QAAA,EAAU,gBAAgB,CAAA,CAAA;AAEhE,MAAI,IAAA,CAAC,UAAU,OAAQ,CAAA,QAAA,CAAS,iBAAiB,CAAG,EAAA,gBAAA,CAAiB,CAAC,CACtE,EAAA;AACI,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAA,IAAI,SAAU,CAAA,OAAA,IAAW,SAAU,CAAA,OAAA,CAAQ,MAC3C,EAAA;AACI,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,OAAA,CAAQ,QAAQ,CAC9C,EAAA,EAAA;AACI,QAAM,MAAA,MAAA,GAAS,SAAU,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAElC,QAAA,IAAI,OAAO,aACX,EAAA;AACI,UAAA,MAAM,mBAAsB,GAAA,MAAA,CAAO,aAAc,CAAA,QAAA,EAAU,KAAK,SAAS,CAAA,CAAA;AAEzE,UAAA,IAAI,CAAC,mBACL,EAAA;AACI,YAAO,OAAA,IAAA,CAAA;AAAA,WACX;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,SAAA,CAAU,WAAsB,QAC1C,EAAA;AA1mBJ,IAAA,IAAA,EAAA,CAAA;AA4mBQ,IAAA,IAAI,UAAU,OACd,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAI,IAAA,CAAA,EAAA,GAAA,SAAA,CAAU,IAAV,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAgB,aACpB,EAAA;AACI,MAAU,SAAA,CAAA,cAAA,CAAe,YAAa,CAAA,QAAA,EAAU,gBAAgB,CAAA,CAAA;AAEhE,MAAO,OAAA,SAAA,CAAU,IAAK,CAAA,aAAA,CAAc,gBAAgB,CAAA,CAAA;AAAA,KACxD;AAIA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,YAAA,CAAa,GAAmB,IAC1C,EAAA;AAtoBJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAuoBQ,IAAA,IAAA,GAAO,sBAAQ,CAAE,CAAA,IAAA,CAAA;AAGjB,IAAA,MAAM,aAAa,CAAK,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAExB,IAAC,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,CAAE,aAAc,EAAA,UAAA,CAAA,KAAhB,IAAwE,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AAEzE,IAAM,MAAA,GAAA,GAAM,CAAE,CAAA,UAAA,KAAe,CAAE,CAAA,eAAA,IAAmB,EAAE,UAAe,KAAA,CAAA,CAAE,SAAY,GAAA,CAAA,EAAG,IAAgB,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA;AAEpG,IAAK,IAAA,CAAA,gBAAA,CAAiB,GAAG,GAAG,CAAA,CAAA;AAE5B,IAAI,IAAA,CAAA,CAAE,UAAe,KAAA,CAAA,CAAE,SACvB,EAAA;AACI,MAAK,IAAA,CAAA,gBAAA,CAAiB,GAAG,IAAI,CAAA,CAAA;AAAA,KACjC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,eAAe,IACzB,EAAA;AACI,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAmB,IAAI,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,aAAA,CAAc,GAAG,aAAa,CAAA,CAAA;AAEnC,IAAI,IAAA,CAAA,CAAE,gBAAgB,OACtB,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,GAAG,YAAY,CAAA,CAAA;AAAA,eAE7B,CAAE,CAAA,WAAA,KAAgB,OAAW,IAAA,CAAA,CAAE,gBAAgB,KACxD,EAAA;AACI,MAAM,MAAA,aAAA,GAAgB,EAAE,MAAW,KAAA,CAAA,CAAA;AAEnC,MAAA,IAAA,CAAK,aAAc,CAAA,CAAA,EAAG,aAAgB,GAAA,WAAA,GAAc,WAAW,CAAA,CAAA;AAAA,KACnE;AAEA,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AAErD,IAAA,YAAA,CAAa,oBAAqB,CAAA,IAAA,CAAK,MAAM,CAAA,GAAI,EAAE,YAAa,EAAA,CAAA;AAEhE,IAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASU,eAAe,IACzB,EAAA;AAvsBJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAwsBQ,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,wBAAwB,MAAS,GAAA,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,aAAa,MAAS,GAAA,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,mBAAsB,GAAA,IAAA,CAAA;AAC3B,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAmB,IAAI,CAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,mBAAsB,GAAA,KAAA,CAAA;AAC3B,IAAA,MAAM,OAAU,GAAA,CAAA,CAAE,WAAgB,KAAA,OAAA,IAAW,EAAE,WAAgB,KAAA,KAAA,CAAA;AAC/D,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AACrD,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,iBAAkB,CAAA,YAAA,CAAa,WAAW,CAAA,CAAA;AAGjE,IAAA,IAAA,CAAA,CAAI,kBAAa,WAAb,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA0B,UAAS,CAAK,IAAA,SAAA,KAAc,EAAE,MAC5D,EAAA;AAEI,MAAA,MAAM,OAAU,GAAA,IAAA,CAAK,IAAS,KAAA,WAAA,GAAc,UAAa,GAAA,YAAA,CAAA;AACzD,MAAA,MAAM,QAAW,GAAA,IAAA,CAAK,kBAAmB,CAAA,IAAA,EAAM,SAAS,SAAS,CAAA,CAAA;AAEjE,MAAK,IAAA,CAAA,aAAA,CAAc,UAAU,YAAY,CAAA,CAAA;AACzC,MAAI,IAAA,OAAA;AAAS,QAAK,IAAA,CAAA,aAAA,CAAc,UAAU,UAAU,CAAA,CAAA;AAIpD,MAAA,IAAI,CAAC,CAAE,CAAA,YAAA,EAAe,CAAA,QAAA,CAAS,SAAS,CACxC,EAAA;AACI,QAAA,MAAM,UAAa,GAAA,IAAA,CAAK,kBAAmB,CAAA,IAAA,EAAM,gBAAgB,SAAS,CAAA,CAAA;AAE1E,QAAA,UAAA,CAAW,aAAa,UAAW,CAAA,SAAA,CAAA;AAEnC,QAAO,OAAA,UAAA,CAAW,UAAU,CAAC,CAAA,CAAE,cAAe,CAAA,QAAA,CAAS,UAAW,CAAA,MAAM,CACxE,EAAA;AACI,UAAA,UAAA,CAAW,gBAAgB,UAAW,CAAA,MAAA,CAAA;AAEtC,UAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAC5B,UAAI,IAAA,OAAA;AAAS,YAAK,IAAA,CAAA,YAAA,CAAa,YAAY,YAAY,CAAA,CAAA;AAEvD,UAAW,UAAA,CAAA,MAAA,GAAS,WAAW,MAAO,CAAA,MAAA,CAAA;AAAA,SAC1C;AAEA,QAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,OAC7B;AAEA,MAAA,IAAA,CAAK,UAAU,QAAQ,CAAA,CAAA;AAAA,KAC3B;AAGA,IAAI,IAAA,SAAA,KAAc,EAAE,MACpB,EAAA;AAEI,MAAA,MAAM,QAAW,GAAA,IAAA,CAAK,IAAS,KAAA,WAAA,GAAc,WAAc,GAAA,aAAA,CAAA;AAC3D,MAAA,MAAM,SAAY,GAAA,IAAA,CAAK,iBAAkB,CAAA,CAAA,EAAG,QAAQ,CAAA,CAAA;AAEpD,MAAK,IAAA,CAAA,aAAA,CAAc,WAAW,aAAa,CAAA,CAAA;AAC3C,MAAI,IAAA,OAAA;AAAS,QAAK,IAAA,CAAA,aAAA,CAAc,WAAW,WAAW,CAAA,CAAA;AAGtD,MAAA,IAAI,qBAAqB,SAAW,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,SAAA,CAAA,MAAA,CAAA;AAEpC,MAAA,OAAO,kBAAsB,IAAA,kBAAA,KAAuB,IAAK,CAAA,UAAA,CAAW,MACpE,EAAA;AACI,QAAA,IAAI,uBAAuB,CAAE,CAAA,MAAA;AAAQ,UAAA,MAAA;AAErC,QAAA,kBAAA,GAAqB,kBAAmB,CAAA,MAAA,CAAA;AAAA,OAC5C;AAIA,MAAA,MAAM,eAAkB,GAAA,CAAC,kBAAsB,IAAA,kBAAA,KAAuB,KAAK,UAAW,CAAA,MAAA,CAAA;AAEtF,MAAA,IAAI,eACJ,EAAA;AACI,QAAA,MAAM,UAAa,GAAA,IAAA,CAAK,iBAAkB,CAAA,CAAA,EAAG,cAAc,CAAA,CAAA;AAE3D,QAAA,UAAA,CAAW,aAAa,UAAW,CAAA,SAAA,CAAA;AAEnC,QAAO,OAAA,UAAA,CAAW,UACP,UAAW,CAAA,MAAA,KAAW,aACtB,UAAW,CAAA,MAAA,KAAW,IAAK,CAAA,UAAA,CAAW,MACjD,EAAA;AACI,UAAA,UAAA,CAAW,gBAAgB,UAAW,CAAA,MAAA,CAAA;AAEtC,UAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAC5B,UAAI,IAAA,OAAA;AAAS,YAAK,IAAA,CAAA,YAAA,CAAa,YAAY,YAAY,CAAA,CAAA;AAEvD,UAAW,UAAA,CAAA,MAAA,GAAS,WAAW,MAAO,CAAA,MAAA,CAAA;AAAA,SAC1C;AAEA,QAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,OAC7B;AAEA,MAAA,IAAA,CAAK,UAAU,SAAS,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,MAAM,aAAuB,EAAC,CAAA;AAC9B,IAAM,MAAA,wBAAA,GAAA,CAA2B,EAAK,GAAA,IAAA,CAAA,sBAAA,KAAL,IAA+B,GAAA,EAAA,GAAA,IAAA,CAAA;AAGhE,IAAK,IAAA,CAAA,SAAA,GAAY,WAAW,IAAK,CAAA,aAAa,IAAI,IAAK,CAAA,aAAA,CAAc,GAAG,aAAa,CAAA,CAAA;AACrF,IAA4B,wBAAA,IAAA,UAAA,CAAW,KAAK,mBAAmB,CAAA,CAAA;AAG/D,IAAI,IAAA,CAAA,CAAE,gBAAgB,OACtB,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,GAAY,UAAW,CAAA,MAAA,CAAO,CAAG,EAAA,CAAA,EAAG,WAAW,CAAI,GAAA,IAAA,CAAK,aAAc,CAAA,CAAA,EAAG,WAAW,CAAA,CAAA;AACzF,MAA4B,wBAAA,IAAA,UAAA,CAAW,KAAK,iBAAiB,CAAA,CAAA;AAAA,KACjE;AAEA,IAAA,IAAI,OACJ,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,GAAY,UAAW,CAAA,MAAA,CAAO,CAAG,EAAA,CAAA,EAAG,WAAW,CAAI,GAAA,IAAA,CAAK,aAAc,CAAA,CAAA,EAAG,WAAW,CAAA,CAAA;AACzF,MAA4B,wBAAA,IAAA,UAAA,CAAW,KAAK,iBAAiB,CAAA,CAAA;AAC7D,MAAK,IAAA,CAAA,MAAA,GAAA,CAAS,EAAE,GAAA,CAAA,CAAA,MAAA,KAAF,IAAU,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAA,CAAA;AAAA,KAC5B;AAEA,IAAI,IAAA,UAAA,CAAW,SAAS,CACxB,EAAA;AACI,MAAK,IAAA,CAAA,GAAA,CAAI,GAAG,UAAU,CAAA,CAAA;AAAA,KAC1B;AACA,IAAA,IAAA,CAAK,wBAAwB,MAAS,GAAA,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,aAAa,MAAS,GAAA,CAAA,CAAA;AAG3B,IAAa,YAAA,CAAA,WAAA,GAAc,EAAE,YAAa,EAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,eAAe,IACzB,EAAA;AAt1BJ,IAAA,IAAA,EAAA,CAAA;AAu1BQ,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AACrD,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAmB,IAAI,CAAA,CAAA;AACtC,IAAA,MAAM,OAAU,GAAA,CAAA,CAAE,WAAgB,KAAA,OAAA,IAAW,EAAE,WAAgB,KAAA,KAAA,CAAA;AAE/D,IAAK,IAAA,CAAA,aAAA,CAAc,GAAG,aAAa,CAAA,CAAA;AACnC,IAAI,IAAA,OAAA;AAAS,MAAK,IAAA,CAAA,aAAA,CAAc,GAAG,WAAW,CAAA,CAAA;AAC9C,IAAA,IAAI,EAAE,WAAgB,KAAA,OAAA;AAAS,MAAK,IAAA,CAAA,MAAA,GAAA,CAAS,EAAE,GAAA,CAAA,CAAA,MAAA,KAAF,IAAU,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAA,CAAA;AAGvD,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,iBAAkB,CAAA,CAAA,EAAG,cAAc,CAAA,CAAA;AAE3D,IAAA,UAAA,CAAW,aAAa,UAAW,CAAA,SAAA,CAAA;AAEnC,IAAA,OAAO,WAAW,MAAU,IAAA,UAAA,CAAW,MAAW,KAAA,IAAA,CAAK,WAAW,MAClE,EAAA;AACI,MAAA,UAAA,CAAW,gBAAgB,UAAW,CAAA,MAAA,CAAA;AAEtC,MAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAC5B,MAAI,IAAA,OAAA;AAAS,QAAK,IAAA,CAAA,YAAA,CAAa,YAAY,YAAY,CAAA,CAAA;AAEvD,MAAW,UAAA,CAAA,MAAA,GAAS,WAAW,MAAO,CAAA,MAAA,CAAA;AAAA,KAC1C;AAEA,IAAa,YAAA,CAAA,WAAA,GAAc,EAAE,YAAa,EAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,cAAc,IACxB,EAAA;AACI,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AAErD,IAAA,IAAI,aAAa,WACjB,EAAA;AACI,MAAA,MAAM,OAAU,GAAA,IAAA,CAAK,WAAgB,KAAA,OAAA,IAAW,KAAK,WAAgB,KAAA,KAAA,CAAA;AACrE,MAAA,MAAM,SAAY,GAAA,IAAA,CAAK,iBAAkB,CAAA,YAAA,CAAa,WAAW,CAAA,CAAA;AAGjE,MAAA,MAAM,QAAW,GAAA,IAAA,CAAK,kBAAmB,CAAA,IAAA,EAAM,cAAc,SAAS,CAAA,CAAA;AAEtE,MAAA,IAAA,CAAK,cAAc,QAAQ,CAAA,CAAA;AAC3B,MAAI,IAAA,OAAA;AAAS,QAAK,IAAA,CAAA,aAAA,CAAc,UAAU,UAAU,CAAA,CAAA;AAIpD,MAAA,MAAM,UAAa,GAAA,IAAA,CAAK,kBAAmB,CAAA,IAAA,EAAM,gBAAgB,SAAS,CAAA,CAAA;AAE1E,MAAA,UAAA,CAAW,aAAa,UAAW,CAAA,SAAA,CAAA;AAEnC,MAAA,OAAO,WAAW,MAAU,IAAA,UAAA,CAAW,MAAW,KAAA,IAAA,CAAK,WAAW,MAClE,EAAA;AACI,QAAA,UAAA,CAAW,gBAAgB,UAAW,CAAA,MAAA,CAAA;AAEtC,QAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAC5B,QAAI,IAAA,OAAA;AAAS,UAAK,IAAA,CAAA,YAAA,CAAa,YAAY,YAAY,CAAA,CAAA;AAEvD,QAAW,UAAA,CAAA,MAAA,GAAS,WAAW,MAAO,CAAA,MAAA,CAAA;AAAA,OAC1C;AAEA,MAAA,YAAA,CAAa,WAAc,GAAA,IAAA,CAAA;AAE3B,MAAA,IAAA,CAAK,UAAU,QAAQ,CAAA,CAAA;AACvB,MAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYU,aAAa,IACvB,EAAA;AACI,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,GAAA,GAAM,YAAY,GAAI,EAAA,CAAA;AAC5B,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAmB,IAAI,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,aAAA,CAAc,GAAG,WAAW,CAAA,CAAA;AAEjC,IAAI,IAAA,CAAA,CAAE,gBAAgB,OACtB,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,GAAG,UAAU,CAAA,CAAA;AAAA,eAE3B,CAAE,CAAA,WAAA,KAAgB,OAAW,IAAA,CAAA,CAAE,gBAAgB,KACxD,EAAA;AACI,MAAM,MAAA,aAAA,GAAgB,EAAE,MAAW,KAAA,CAAA,CAAA;AAEnC,MAAA,IAAA,CAAK,aAAc,CAAA,CAAA,EAAG,aAAgB,GAAA,SAAA,GAAY,SAAS,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AACrD,IAAA,MAAM,cAAc,IAAK,CAAA,iBAAA,CAAkB,aAAa,oBAAqB,CAAA,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA;AAEzF,IAAA,IAAI,WAAc,GAAA,WAAA,CAAA;AAIlB,IAAA,IAAI,eAAe,CAAC,CAAA,CAAE,cAAe,CAAA,QAAA,CAAS,WAAW,CACzD,EAAA;AACI,MAAA,IAAI,aAAgB,GAAA,WAAA,CAAA;AAEpB,MAAA,OAAO,iBAAiB,CAAC,CAAA,CAAE,cAAe,CAAA,QAAA,CAAS,aAAa,CAChE,EAAA;AACI,QAAA,CAAA,CAAE,aAAgB,GAAA,aAAA,CAAA;AAElB,QAAK,IAAA,CAAA,YAAA,CAAa,GAAG,kBAAkB,CAAA,CAAA;AAEvC,QAAI,IAAA,CAAA,CAAE,gBAAgB,OACtB,EAAA;AACI,UAAK,IAAA,CAAA,YAAA,CAAa,GAAG,iBAAiB,CAAA,CAAA;AAAA,mBAEjC,CAAE,CAAA,WAAA,KAAgB,OAAW,IAAA,CAAA,CAAE,gBAAgB,KACxD,EAAA;AACI,UAAM,MAAA,aAAA,GAAgB,EAAE,MAAW,KAAA,CAAA,CAAA;AAEnC,UAAA,IAAA,CAAK,YAAa,CAAA,CAAA,EAAG,aAAgB,GAAA,gBAAA,GAAmB,gBAAgB,CAAA,CAAA;AAAA,SAC5E;AAEA,QAAA,aAAA,GAAgB,aAAc,CAAA,MAAA,CAAA;AAAA,OAClC;AAEA,MAAO,OAAA,YAAA,CAAa,oBAAqB,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAIpD,MAAc,WAAA,GAAA,aAAA,CAAA;AAAA,KAClB;AAGA,IAAA,IAAI,WACJ,EAAA;AACI,MAAA,MAAM,UAAa,GAAA,IAAA,CAAK,iBAAkB,CAAA,CAAA,EAAG,OAAO,CAAA,CAAA;AAEpD,MAAA,UAAA,CAAW,MAAS,GAAA,WAAA,CAAA;AACpB,MAAA,UAAA,CAAW,IAAO,GAAA,IAAA,CAAA;AAElB,MAAA,IAAI,CAAC,YAAA,CAAa,cAAe,CAAA,IAAA,CAAK,MAAM,CAC5C,EAAA;AACI,QAAa,YAAA,CAAA,cAAA,CAAe,IAAK,CAAA,MAAM,CAAI,GAAA;AAAA,UACvC,UAAY,EAAA,CAAA;AAAA,UACZ,QAAQ,UAAW,CAAA,MAAA;AAAA,UACnB,SAAW,EAAA,GAAA;AAAA,SACf,CAAA;AAAA,OACJ;AAEA,MAAA,MAAM,YAAe,GAAA,YAAA,CAAa,cAAe,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAE5D,MAAA,IAAI,aAAa,MAAW,KAAA,UAAA,CAAW,UAChC,GAAM,GAAA,YAAA,CAAa,YAAY,GACtC,EAAA;AACI,QAAA,EAAE,YAAa,CAAA,UAAA,CAAA;AAAA,OAGnB,MAAA;AACI,QAAA,YAAA,CAAa,UAAa,GAAA,CAAA,CAAA;AAAA,OAC9B;AAEA,MAAA,YAAA,CAAa,SAAS,UAAW,CAAA,MAAA,CAAA;AACjC,MAAA,YAAA,CAAa,SAAY,GAAA,GAAA,CAAA;AAEzB,MAAA,UAAA,CAAW,SAAS,YAAa,CAAA,UAAA,CAAA;AAEjC,MAAI,IAAA,UAAA,CAAW,gBAAgB,OAC/B,EAAA;AACI,QAAM,MAAA,aAAA,GAAgB,WAAW,MAAW,KAAA,CAAA,CAAA;AAE5C,QAAA,IAAA,CAAK,aAAc,CAAA,UAAA,EAAY,aAAgB,GAAA,YAAA,GAAe,OAAO,CAAA,CAAA;AAAA,OACzE,MAAA,IACS,UAAW,CAAA,WAAA,KAAgB,OACpC,EAAA;AACI,QAAK,IAAA,CAAA,aAAA,CAAc,YAAY,KAAK,CAAA,CAAA;AAAA,OACxC;AAEA,MAAK,IAAA,CAAA,aAAA,CAAc,YAAY,YAAY,CAAA,CAAA;AAE3C,MAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaU,oBAAoB,IAC9B,EAAA;AACI,IAAI,IAAA,EAAE,gBAAgB,qBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,iEAAiE,CAAA,CAAA;AAGtE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AACrD,IAAA,MAAM,cAAc,IAAK,CAAA,iBAAA,CAAkB,aAAa,oBAAqB,CAAA,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA;AACzF,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAmB,IAAI,CAAA,CAAA;AAEtC,IAAA,IAAI,WACJ,EAAA;AACI,MAAA,IAAI,aAAgB,GAAA,WAAA,CAAA;AAEpB,MAAA,OAAO,aACP,EAAA;AACI,QAAA,CAAA,CAAE,aAAgB,GAAA,aAAA,CAAA;AAElB,QAAK,IAAA,CAAA,YAAA,CAAa,GAAG,kBAAkB,CAAA,CAAA;AAEvC,QAAI,IAAA,CAAA,CAAE,gBAAgB,OACtB,EAAA;AACI,UAAK,IAAA,CAAA,YAAA,CAAa,GAAG,iBAAiB,CAAA,CAAA;AAAA,mBAEjC,CAAE,CAAA,WAAA,KAAgB,OAAW,IAAA,CAAA,CAAE,gBAAgB,KACxD,EAAA;AACI,UAAA,IAAA,CAAK,aAAa,CAAG,EAAA,CAAA,CAAE,MAAW,KAAA,CAAA,GAAI,mBAAmB,gBAAgB,CAAA,CAAA;AAAA,SAC7E;AAEA,QAAA,aAAA,GAAgB,aAAc,CAAA,MAAA,CAAA;AAAA,OAClC;AAEA,MAAO,OAAA,YAAA,CAAa,oBAAqB,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,KACxD;AAEA,IAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,SAAS,IACnB,EAAA;AACI,IAAI,IAAA,EAAE,gBAAgB,mBACtB,CAAA,EAAA;AAEI,MAAA,IAAA,CAAK,6DAA6D,CAAA,CAAA;AAGlE,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,UAAA,GAAa,IAAK,CAAA,gBAAA,CAAiB,IAAI,CAAA,CAAA;AAE7C,IAAA,IAAA,CAAK,cAAc,UAAU,CAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,kBAAkB,eAC5B,EAAA;AACI,IAAA,IAAI,CAAC,eACL,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAI,IAAA,aAAA,GAAgB,gBAAgB,CAAC,CAAA,CAAA;AAErC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAC5C,EAAA,EAAA;AAGI,MAAA,IAAI,eAAgB,CAAA,CAAC,CAAE,CAAA,MAAA,KAAW,aAClC,EAAA;AACI,QAAA,aAAA,GAAgB,gBAAgB,CAAC,CAAA,CAAA;AAAA,OAGrC,MAAA;AACI,QAAA,MAAA;AAAA,OACJ;AAAA,KACJ;AAEA,IAAO,OAAA,aAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,kBAAA,CACN,IACA,EAAA,IAAA,EACA,MAEJ,EAAA;AA9qCJ,IAAA,IAAA,EAAA,CAAA;AA+qCQ,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,aAAA,CAAc,qBAAqB,CAAA,CAAA;AAEtD,IAAK,IAAA,CAAA,eAAA,CAAgB,MAAM,KAAK,CAAA,CAAA;AAChC,IAAK,IAAA,CAAA,aAAA,CAAc,MAAM,KAAK,CAAA,CAAA;AAC9B,IAAK,IAAA,CAAA,QAAA,CAAS,MAAM,KAAK,CAAA,CAAA;AAEzB,IAAA,KAAA,CAAM,cAAc,IAAK,CAAA,WAAA,CAAA;AACzB,IAAA,KAAA,CAAM,aAAgB,GAAA,IAAA,CAAA;AACtB,IAAA,KAAA,CAAM,MAAS,GAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,MAAA,GACR,IAAK,CAAA,OAAA,CAAQ,MAAM,MAAO,CAAA,CAAA,EAAG,KAAM,CAAA,MAAA,CAAO,CAAC,CAAA,KADnC,IAER,GAAA,EAAA,GAAA,IAAA,CAAK,aAAa,CAAC,CAAA,CAAA;AAE1B,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAA,KAAA,CAAM,IAAO,GAAA,IAAA,CAAA;AAAA,KACjB;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,iBAAiB,IAC3B,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,aAAA,CAAc,mBAAmB,CAAA,CAAA;AAEpD,IAAK,IAAA,CAAA,aAAA,CAAc,MAAM,KAAK,CAAA,CAAA;AAC9B,IAAK,IAAA,CAAA,aAAA,CAAc,MAAM,KAAK,CAAA,CAAA;AAC9B,IAAK,IAAA,CAAA,QAAA,CAAS,MAAM,KAAK,CAAA,CAAA;AAEzB,IAAA,KAAA,CAAM,cAAc,IAAK,CAAA,WAAA,CAAA;AACzB,IAAA,KAAA,CAAM,aAAgB,GAAA,IAAA,CAAA;AACtB,IAAM,KAAA,CAAA,MAAA,GAAS,KAAK,OAAQ,CAAA,KAAA,CAAM,OAAO,CAAG,EAAA,KAAA,CAAM,OAAO,CAAC,CAAA,CAAA;AAE1D,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASU,iBAAA,CAAkB,MAA6B,IACzD,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,aAAA,CAAc,qBAAqB,CAAA,CAAA;AAEtD,IAAA,KAAA,CAAM,cAAc,IAAK,CAAA,WAAA,CAAA;AACzB,IAAA,KAAA,CAAM,gBAAgB,IAAK,CAAA,aAAA,CAAA;AAE3B,IAAK,IAAA,CAAA,eAAA,CAAgB,MAAM,KAAK,CAAA,CAAA;AAChC,IAAK,IAAA,CAAA,aAAA,CAAc,MAAM,KAAK,CAAA,CAAA;AAC9B,IAAK,IAAA,CAAA,QAAA,CAAS,MAAM,KAAK,CAAA,CAAA;AAGzB,IAAA,KAAA,CAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AACpB,IAAA,KAAA,CAAM,IAAO,GAAA,IAAA,CAAK,YAAa,EAAA,CAAE,KAAM,EAAA,CAAA;AACvC,IAAM,KAAA,CAAA,IAAA,GAAO,sBAAQ,KAAM,CAAA,IAAA,CAAA;AAE3B,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaU,aAAA,CAAc,MAA2B,EACnD,EAAA;AACI,IAAA,EAAA,CAAG,YAAY,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBU,eAAA,CAAgB,MAAsB,EAChD,EAAA;AACI,IAAI,IAAA,EAAE,IAAgB,YAAA,qBAAA,IAAyB,EAAc,YAAA,qBAAA,CAAA;AAAwB,MAAA,OAAA;AAErF,IAAA,EAAA,CAAG,YAAY,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,EAAA,CAAG,QAAQ,IAAK,CAAA,KAAA,CAAA;AAChB,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,YAAY,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,EAAA,CAAG,cAAc,IAAK,CAAA,WAAA,CAAA;AACtB,IAAA,EAAA,CAAG,WAAW,IAAK,CAAA,QAAA,CAAA;AACnB,IAAA,EAAA,CAAG,qBAAqB,IAAK,CAAA,kBAAA,CAAA;AAC7B,IAAA,EAAA,CAAG,QAAQ,IAAK,CAAA,KAAA,CAAA;AAChB,IAAA,EAAA,CAAG,QAAQ,IAAK,CAAA,KAAA,CAAA;AAChB,IAAA,EAAA,CAAG,QAAQ,IAAK,CAAA,KAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwBU,aAAA,CAAc,MAAsB,EAC9C,EAAA;AACI,IAAI,IAAA,EAAE,IAAgB,YAAA,mBAAA,IAAuB,EAAc,YAAA,mBAAA,CAAA;AAAsB,MAAA,OAAA;AAEjF,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,UAAU,IAAK,CAAA,OAAA,CAAA;AAClB,IAAG,EAAA,CAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAC9B,IAAA,EAAA,CAAG,UAAU,IAAK,CAAA,OAAA,CAAA;AAClB,IAAA,EAAA,CAAG,UAAU,IAAK,CAAA,OAAA,CAAA;AAClB,IAAG,EAAA,CAAA,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAClC,IAAG,EAAA,CAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAC9B,IAAA,EAAA,CAAG,WAAW,IAAK,CAAA,QAAA,CAAA;AACnB,IAAG,EAAA,CAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,GAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaU,QAAA,CAAS,MAAsB,EACzC,EAAA;AACI,IAAA,EAAA,CAAG,YAAY,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,EAAA,CAAG,aAAa,IAAK,CAAA,UAAA,CAAA;AACrB,IAAG,EAAA,CAAA,SAAA,GAAY,YAAY,GAAI,EAAA,CAAA;AAC/B,IAAA,EAAA,CAAG,OAAO,IAAK,CAAA,IAAA,CAAA;AACf,IAAA,EAAA,CAAG,SAAS,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,EAAA,CAAG,OAAO,IAAK,CAAA,IAAA,CAAA;AACf,IAAA,EAAA,CAAG,QAAQ,IAAK,CAAA,KAAA,CAAA;AAChB,IAAG,EAAA,CAAA,KAAA,CAAM,QAAS,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAC5B,IAAG,EAAA,CAAA,IAAA,CAAK,QAAS,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,aAAa,EACvB,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,YAAa,CAAA,YAAA,CAAa,EAAE,CACtC,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,YAAa,CAAA,EAAE,CAAI,GAAA;AAAA,QACjC,sBAAsB,EAAC;AAAA,QACvB,gBAAgB,EAAC;AAAA,QACjB,UAAY,EAAA,IAAA;AAAA,OAChB,CAAA;AAAA,KACJ;AAEA,IAAO,OAAA,IAAA,CAAK,YAAa,CAAA,YAAA,CAAa,EAAE,CAAA,CAAA;AAAA,GAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASU,cACN,WAEJ,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,WAAkB,CAC1C,EAAA;AACI,MAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,WAAoB,EAAA,EAAE,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,SAAA,CAAU,GAAI,CAAA,WAAkB,EAAE,GAAI,EAAA,IAClD,IAAI,WAAA,CAAY,IAAI,CAAA,CAAA;AAE3B,IAAA,KAAA,CAAM,aAAa,KAAM,CAAA,IAAA,CAAA;AACzB,IAAA,KAAA,CAAM,aAAgB,GAAA,IAAA,CAAA;AACtB,IAAA,KAAA,CAAM,IAAO,GAAA,IAAA,CAAA;AACb,IAAA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;AAEf,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaU,UAAoC,KAC9C,EAAA;AACI,IAAA,IAAI,MAAM,OAAY,KAAA,IAAA;AAAM,MAAM,MAAA,IAAI,MAAM,mEAAmE,CAAA,CAAA;AAE/G,IAAA,MAAM,cAAc,KAAM,CAAA,WAAA,CAAA;AAE1B,IAAA,IAAI,CAAC,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,WAAkB,CAC1C,EAAA;AACI,MAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,WAAoB,EAAA,EAAE,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,WAAkB,CAAA,CAAE,KAAK,KAAK,CAAA,CAAA;AAAA,GACrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,gBAAA,CAAiB,GAAmB,IAC5C,EAAA;AACI,IAAA,MAAM,SAAc,GAAA,CAAA,CAAE,aAAsB,CAAA,OAAA,CAA6B,IAAI,CAAA,CAAA;AAE7E,IAAA,IAAI,CAAC,SAAA;AAAW,MAAA,OAAA;AAChB,IAAI,IAAA,CAAC,CAAE,CAAA,aAAA,CAAc,aAAc,EAAA;AAAG,MAAA,OAAA;AAEtC,IAAA,IAAI,QAAQ,SACZ,EAAA;AACI,MAAA,IAAI,SAAU,CAAA,IAAA;AAAM,QAAA,CAAA,CAAE,cAAc,cAAe,CAAA,IAAA,EAAM,SAAU,CAAA,EAAA,EAAI,QAAW,IAAI,CAAA,CAAA;AACtF,MAAA,SAAA,CAAU,EAAG,CAAA,IAAA,CAAK,SAAU,CAAA,OAAA,EAAS,CAAC,CAAA,CAAA;AAAA,KAG1C,MAAA;AACI,MACQ,KAAA,IAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,EACzB,IAAI,CAAK,IAAA,CAAC,CAAE,CAAA,6BAAA,EACZ,CACJ,EAAA,EAAA;AACI,QAAI,IAAA,SAAA,CAAU,CAAC,CAAE,CAAA,IAAA;AAAM,UAAE,CAAA,CAAA,aAAA,CAAc,eAAe,IAAM,EAAA,SAAA,CAAU,CAAC,CAAE,CAAA,EAAA,EAAI,QAAW,IAAI,CAAA,CAAA;AAC5F,QAAU,SAAA,CAAA,CAAC,EAAE,EAAG,CAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAE,SAAS,CAAC,CAAA,CAAA;AAAA,OAChD;AAAA,KACJ;AAAA,GACJ;AACJ;;;;;;;;;;;;;;;;;;AC17CA,MAAM,gBAAmB,GAAA,CAAA,CAAA;AACzB,MAAM,gBAA2C,GAAA;AAAA,EAC7C,UAAY,EAAA,aAAA;AAAA,EACZ,QAAU,EAAA,WAAA;AAAA,EACV,eAAiB,EAAA,kBAAA;AAAA,EACjB,SAAW,EAAA,aAAA;AAAA,EACX,WAAa,EAAA,eAAA;AACjB,CAAA,CAAA;AAkEO,MAAM,eAAN,MACP;AAAA;AAAA;AAAA;AAAA,EAiHI,YAAY,QACZ,EAAA;AA9DA;AAAA,IAAA,IAAA,CAAgB,sBAAsB,cAAkB,IAAA,UAAA,CAAA;AAGxD;AAAA,IAAgB,IAAA,CAAA,qBAAA,GAAwB,CAAC,CAAC,UAAW,CAAA,YAAA,CAAA;AAuBrD;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,UAA0B,GAAA,IAAA,CAAA;AAGjC;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AAkChB,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,aAAA,CAAc,IAAI,CAAA,CAAA;AAC1C,IAAA,YAAA,CAAa,KAAK,IAAI,CAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,iBAAA,GAAoB,IAAI,qBAAA,CAAsB,IAAI,CAAA,CAAA;AACvD,IAAK,IAAA,CAAA,eAAA,GAAkB,IAAI,mBAAA,CAAoB,IAAI,CAAA,CAAA;AAEnD,IAAA,IAAA,CAAK,YAAe,GAAA;AAAA,MAChB,OAAS,EAAA,SAAA;AAAA,MACT,OAAS,EAAA,SAAA;AAAA,KACb,CAAA;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAI,KAAM,CAAAV,gBAAA,CAAA,EAAA,EAAK,aAAY,oBAAwB,CAAA,EAAA;AAAA,MAC/D,GAAK,EAAA,CAAC,MAAQ,EAAA,GAAA,EAAK,KACnB,KAAA;AACI,QAAA,IAAI,QAAQ,YACZ,EAAA;AACI,UAAA,IAAA,CAAK,aAAa,sBAAyB,GAAA,KAAA,CAAA;AAAA,SAC/C;AACA,QAAA,MAAA,CAAO,GAAgC,CAAI,GAAA,KAAA,CAAA;AAE3C,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACnD,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACnD,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC/C,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAK,iBAAkB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACzD,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAK,OAAQ,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAAA,GACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAlHA,WAAkB,gBAClB,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,iBAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAqHO,KAAK,OACZ,EAAA;AAnPJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAoPQ,IAAA,MAAM,EAAE,MAAA,EAAQ,UAAW,EAAA,GAAI,IAAK,CAAA,QAAA,CAAA;AAEpC,IAAA,IAAA,CAAK,iBAAiB,MAA2B,CAAA,CAAA;AACjD,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAY,YAAA,CAAA,iBAAA,GAAA,CAAoB,EAAQ,GAAA,OAAA,CAAA,SAAA,KAAR,IAAqB,GAAA,EAAA,GAAA,SAAA,CAAA;AACrD,IAAA,MAAA,CAAO,OAAO,IAAK,CAAA,QAAA,EAAA,CAAU,aAAQ,aAAR,KAAA,IAAA,GAAA,EAAA,GAAyB,EAAE,CAAA,CAAA;AACxD,IAAK,IAAA,CAAA,YAAA,CAAa,sBAAyB,GAAA,IAAA,CAAK,QAAS,CAAA,UAAA,CAAA;AAAA,GAC7D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,iBAAiB,UACxB,EAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAAA,GACtB;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,iBAAiB,IAAI,CAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAAA,GAC1B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,UAAU,IACjB,EAAA;AACI,IAAA,IAAA,GAAO,IAAQ,IAAA,SAAA,CAAA;AACf,IAAA,IAAI,WAAc,GAAA,IAAA,CAAA;AAIlB,IAAA,IAAI,UAAW,CAAA,eAAA,IAAmB,IAAK,CAAA,UAAA,YAAsB,eAC7D,EAAA;AACI,MAAc,WAAA,GAAA,KAAA,CAAA;AAAA,KAClB;AAEA,IAAI,IAAA,IAAA,CAAK,mBAAmB,IAC5B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AACA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,YAAA,CAAa,IAAI,CAAA,CAAA;AAGpC,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,QAAQ,OAAO,KACf;AAAA,QACI,KAAK,QAAA;AAED,UAAA,IAAI,WACJ,EAAA;AACI,YAAK,IAAA,CAAA,UAAA,CAAW,MAAM,MAAS,GAAA,KAAA,CAAA;AAAA,WACnC;AACA,UAAA,MAAA;AAAA,QACJ,KAAK,UAAA;AAED,UAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AACV,UAAA,MAAA;AAAA,QACJ,KAAK,QAAA;AAGD,UAAA,IAAI,WACJ,EAAA;AACI,YAAA,MAAA,CAAO,MAAO,CAAA,IAAA,CAAK,UAAW,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;AAAA,WAC9C;AACA,UAAA,MAAA;AAAA,OACR;AAAA,KAEK,MAAA,IAAA,WAAA,IAAe,OAAO,IAAA,KAAS,QAAY,IAAA,CAAC,MAAO,CAAA,SAAA,CAAU,cAAe,CAAA,IAAA,CAAK,IAAK,CAAA,YAAA,EAAc,IAAI,CACjH,EAAA;AAGI,MAAK,IAAA,CAAA,UAAA,CAAW,MAAM,MAAS,GAAA,IAAA,CAAA;AAAA,KACnC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAW,OACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,iBAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,eAAe,WACvB,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,QAAS,CAAA,KAAA;AAAO,MAAA,OAAA;AAC1B,IAAK,IAAA,CAAA,YAAA,CAAa,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,kBAAA,CAAA;AAE7C,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,uBAAA,CAAwB,WAAW,CAAA,CAAA;AAUvD,IAAA,IAAI,IAAK,CAAA,kBAAA,IAAuB,MAAO,CAAA,CAAC,EAAU,YAClD,EAAA;AACI,MAAA,MAAM,UAAa,GAAA,WAAA,CAAY,UAAc,IAAA,EAAE,YAAgB,IAAA,WAAA,CAAA,CAAA;AAE/D,MAAA,IAAI,UACJ,EAAA;AACI,QAAA,WAAA,CAAY,cAAe,EAAA,CAAA;AAAA,OAC/B;AAAA,KACJ;AAEA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAO,MAAQ,EAAA,CAAA,GAAI,GAAG,CAC1C,EAAA,EAAA;AACI,MAAMiC,MAAAA,YAAAA,GAAc,OAAO,CAAC,CAAA,CAAA;AAC5B,MAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,eAAgB,CAAA,IAAA,CAAK,mBAAmBA,YAAW,CAAA,CAAA;AAE/E,MAAK,IAAA,CAAA,YAAA,CAAa,SAAS,cAAc,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAK,IAAA,CAAA,SAAA,CAAU,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,eAAe,WACvB,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,QAAS,CAAA,IAAA;AAAM,MAAA,OAAA;AACzB,IAAK,IAAA,CAAA,YAAA,CAAa,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,kBAAA,CAAA;AAE7C,IAAA,YAAA,CAAa,YAAa,EAAA,CAAA;AAE1B,IAAM,MAAA,gBAAA,GAAmB,IAAK,CAAA,uBAAA,CAAwB,WAAW,CAAA,CAAA;AAEjE,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,iBAAiB,MAAQ,EAAA,CAAA,GAAI,GAAG,CACpD,EAAA,EAAA;AACI,MAAA,MAAM,QAAQ,IAAK,CAAA,eAAA,CAAgB,KAAK,iBAAmB,EAAA,gBAAA,CAAiB,CAAC,CAAC,CAAA,CAAA;AAE9E,MAAK,IAAA,CAAA,YAAA,CAAa,SAAS,KAAK,CAAA,CAAA;AAAA,KACpC;AAEA,IAAK,IAAA,CAAA,SAAA,CAAU,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,aAAa,WACrB,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,QAAS,CAAA,KAAA;AAAO,MAAA,OAAA;AAC1B,IAAK,IAAA,CAAA,YAAA,CAAa,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,kBAAA,CAAA;AAE7C,IAAA,IAAI,SAAS,WAAY,CAAA,MAAA,CAAA;AAGzB,IAAA,IAAI,YAAY,YAAgB,IAAA,WAAA,CAAY,YAAa,EAAA,CAAE,SAAS,CACpE,EAAA;AACI,MAAS,MAAA,GAAA,WAAA,CAAY,YAAa,EAAA,CAAE,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAA,MAAM,OAAU,GAAA,MAAA,KAAW,IAAK,CAAA,UAAA,GAAa,SAAY,GAAA,EAAA,CAAA;AACzD,IAAM,MAAA,gBAAA,GAAmB,IAAK,CAAA,uBAAA,CAAwB,WAAW,CAAA,CAAA;AAEjE,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,iBAAiB,MAAQ,EAAA,CAAA,GAAI,GAAG,CACpD,EAAA,EAAA;AACI,MAAA,MAAM,QAAQ,IAAK,CAAA,eAAA,CAAgB,KAAK,iBAAmB,EAAA,gBAAA,CAAiB,CAAC,CAAC,CAAA,CAAA;AAE9E,MAAA,KAAA,CAAM,IAAQ,IAAA,OAAA,CAAA;AAEd,MAAK,IAAA,CAAA,YAAA,CAAa,SAAS,KAAK,CAAA,CAAA;AAAA,KACpC;AAEA,IAAK,IAAA,CAAA,SAAA,CAAU,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,kBAAkB,WAC1B,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,QAAS,CAAA,KAAA;AAAO,MAAA,OAAA;AAC1B,IAAK,IAAA,CAAA,YAAA,CAAa,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,kBAAA,CAAA;AAE7C,IAAM,MAAA,gBAAA,GAAmB,IAAK,CAAA,uBAAA,CAAwB,WAAW,CAAA,CAAA;AAEjE,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,iBAAiB,MAAQ,EAAA,CAAA,GAAI,GAAG,CACpD,EAAA,EAAA;AACI,MAAA,MAAM,QAAQ,IAAK,CAAA,eAAA,CAAgB,KAAK,iBAAmB,EAAA,gBAAA,CAAiB,CAAC,CAAC,CAAA,CAAA;AAE9E,MAAK,IAAA,CAAA,YAAA,CAAa,SAAS,KAAK,CAAA,CAAA;AAAA,KACpC;AAEA,IAAK,IAAA,CAAA,SAAA,CAAU,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,QAAQ,WAClB,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,QAAS,CAAA,KAAA;AAAO,MAAA,OAAA;AAC1B,IAAM,MAAA,UAAA,GAAa,IAAK,CAAA,mBAAA,CAAoB,WAAW,CAAA,CAAA;AAEvD,IAAK,IAAA,CAAA,YAAA,CAAa,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,kBAAA,CAAA;AAC7C,IAAK,IAAA,CAAA,YAAA,CAAa,SAAS,UAAU,CAAA,CAAA;AAAA,GACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,iBAAiB,OACxB,EAAA;AACI,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AACnB,IAAA,IAAA,CAAK,UAAa,GAAA,OAAA,CAAA;AAClB,IAAA,YAAA,CAAa,UAAa,GAAA,OAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,GACpB;AAAA;AAAA,EAGQ,UACR,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA,IAAgB,CAAC,IAAA,CAAK,UAC/B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,YAAA,CAAa,iBAAkB,EAAA,CAAA;AAE/B,IAAM,MAAA,KAAA,GAAQ,KAAK,UAAW,CAAA,KAAA,CAAA;AAE9B,IAAA,IAAI,KACJ,EAAA;AACI,MAAK,IAAA,UAAA,CAAW,UAAkB,gBAClC,EAAA;AACI,QAAA,KAAA,CAAM,gBAAmB,GAAA,MAAA,CAAA;AACzB,QAAA,KAAA,CAAM,aAAgB,GAAA,MAAA,CAAA;AAAA,OAC1B,MAAA,IACS,KAAK,qBACd,EAAA;AACI,QAAA,KAAA,CAAM,WAAc,GAAA,MAAA,CAAA;AAAA,OACxB;AAAA,KACJ;AAMA,IAAA,IAAI,KAAK,qBACT,EAAA;AACI,MAAA,UAAA,CAAW,QAAS,CAAA,gBAAA,CAAiB,aAAe,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAC7E,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,aAAe,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAIzE,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,cAAgB,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAC7E,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,aAAe,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAE5E,MAAA,UAAA,CAAW,gBAAiB,CAAA,WAAA,EAAa,IAAK,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAAA,KAGpE,MAAA;AACI,MAAA,UAAA,CAAW,QAAS,CAAA,gBAAA,CAAiB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAC3E,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AACvE,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,UAAY,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AACzE,MAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,WAAa,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAC1E,MAAA,UAAA,CAAW,gBAAiB,CAAA,SAAA,EAAW,IAAK,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAE9D,MAAA,IAAI,KAAK,mBACT,EAAA;AACI,QAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,YAAc,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAExE,QAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,UAAY,EAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AACpE,QAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,OAC3E;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,UAAW,CAAA,gBAAA,CAAiB,OAAS,EAAA,IAAA,CAAK,OAAS,EAAA;AAAA,MACpD,OAAS,EAAA,IAAA;AAAA,MACT,OAAS,EAAA,IAAA;AAAA,KACZ,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGQ,aACR,GAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,YAAgB,IAAA,CAAC,KAAK,UAChC,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,YAAA,CAAa,oBAAqB,EAAA,CAAA;AAElC,IAAM,MAAA,KAAA,GAAQ,KAAK,UAAW,CAAA,KAAA,CAAA;AAE9B,IAAK,IAAA,UAAA,CAAW,UAAkB,gBAClC,EAAA;AACI,MAAA,KAAA,CAAM,gBAAmB,GAAA,EAAA,CAAA;AACzB,MAAA,KAAA,CAAM,aAAgB,GAAA,EAAA,CAAA;AAAA,KAC1B,MAAA,IACS,KAAK,qBACd,EAAA;AACI,MAAA,KAAA,CAAM,WAAc,GAAA,EAAA,CAAA;AAAA,KACxB;AAEA,IAAA,IAAI,KAAK,qBACT,EAAA;AACI,MAAA,UAAA,CAAW,QAAS,CAAA,mBAAA,CAAoB,aAAe,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAChF,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,aAAe,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAC5E,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,cAAgB,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAChF,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,aAAe,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAE/E,MAAA,UAAA,CAAW,mBAAoB,CAAA,WAAA,EAAa,IAAK,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAAA,KAGvE,MAAA;AACI,MAAA,UAAA,CAAW,QAAS,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAC9E,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAC1E,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,UAAY,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAC5E,MAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAC7E,MAAA,UAAA,CAAW,mBAAoB,CAAA,SAAA,EAAW,IAAK,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAEjE,MAAA,IAAI,KAAK,mBACT,EAAA;AACI,QAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,YAAc,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAE3E,QAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,UAAY,EAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AACvE,QAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,WAAa,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,OAC9E;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,UAAW,CAAA,mBAAA,CAAoB,OAAS,EAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAE/D,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,kBAAA,CAAmB,KAAkB,EAAA,CAAA,EAAW,CACvD,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,UAAA,CAAW,cACvB,IAAK,CAAA,UAAA,CAAW,uBAChB,GAAA;AAAA,MACE,CAAG,EAAA,CAAA;AAAA,MACH,CAAG,EAAA,CAAA;AAAA,MACH,KAAA,EAAQ,KAAK,UAAmB,CAAA,KAAA;AAAA,MAChC,MAAA,EAAS,KAAK,UAAmB,CAAA,MAAA;AAAA,MACjC,IAAM,EAAA,CAAA;AAAA,MACN,GAAK,EAAA,CAAA;AAAA,KACT,CAAA;AAEJ,IAAM,MAAA,oBAAA,GAAuB,IAAM,IAAK,CAAA,UAAA,CAAA;AAExC,IAAM,KAAA,CAAA,CAAA,GAAA,CAAM,IAAI,IAAK,CAAA,IAAA,KAAU,KAAK,UAAmB,CAAA,KAAA,GAAQ,KAAK,KAAU,CAAA,GAAA,oBAAA,CAAA;AAC9E,IAAM,KAAA,CAAA,CAAA,GAAA,CAAM,IAAI,IAAK,CAAA,GAAA,KAAS,KAAK,UAAmB,CAAA,MAAA,GAAS,KAAK,MAAW,CAAA,GAAA,oBAAA,CAAA;AAAA,GACnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,wBAAwB,KAChC,EAAA;AACI,IAAA,MAAM,mBAAmB,EAAC,CAAA;AAE1B,IAAI,IAAA,IAAA,CAAK,mBAAuB,IAAA,KAAA,YAAiB,UACjD,EAAA;AACI,MAAS,KAAA,IAAA,CAAA,GAAI,GAAG,EAAK,GAAA,KAAA,CAAM,eAAe,MAAQ,EAAA,CAAA,GAAI,IAAI,CAC1D,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,cAAA,CAAe,CAAC,CAAA,CAAA;AAEpC,QAAI,IAAA,OAAO,MAAM,MAAW,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,MAAS,GAAA,CAAA,CAAA;AACxD,QAAI,IAAA,OAAO,MAAM,OAAY,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,OAAU,GAAA,CAAA,CAAA;AAC1D,QAAI,IAAA,OAAO,KAAM,CAAA,SAAA,KAAc,WAC/B,EAAA;AACI,UAAA,KAAA,CAAM,YAAY,KAAM,CAAA,OAAA,CAAQ,MAAW,KAAA,CAAA,IAAK,MAAM,IAAS,KAAA,YAAA,CAAA;AAAA,SACnE;AACA,QAAI,IAAA,OAAO,MAAM,KAAU,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,KAAA,GAAQ,MAAM,OAAW,IAAA,CAAA,CAAA;AACvE,QAAI,IAAA,OAAO,MAAM,MAAW,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,MAAA,GAAS,MAAM,OAAW,IAAA,CAAA,CAAA;AACzE,QAAI,IAAA,OAAO,MAAM,KAAU,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,KAAQ,GAAA,CAAA,CAAA;AACtD,QAAI,IAAA,OAAO,MAAM,KAAU,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,KAAQ,GAAA,CAAA,CAAA;AACtD,QAAI,IAAA,OAAO,MAAM,WAAgB,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,WAAc,GAAA,OAAA,CAAA;AAClE,QAAI,IAAA,OAAO,MAAM,SAAc,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,SAAA,GAAY,MAAM,UAAc,IAAA,CAAA,CAAA;AAClF,QAAI,IAAA,OAAO,MAAM,QAAa,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,QAAA,GAAW,MAAM,KAAS,IAAA,GAAA,CAAA;AAC3E,QAAI,IAAA,OAAO,MAAM,KAAU,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,KAAQ,GAAA,CAAA,CAAA;AACtD,QAAI,IAAA,OAAO,MAAM,kBAAuB,KAAA,WAAA;AAAa,UAAA,KAAA,CAAM,kBAAqB,GAAA,CAAA,CAAA;AAKhF,QAAI,IAAA,OAAO,MAAM,MAAW,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,MAAA,GAAS,KAAM,CAAA,OAAA,GAAU,KAAM,CAAA,OAAA,CAAA;AAC9E,QAAI,IAAA,OAAO,MAAM,MAAW,KAAA,WAAA;AAAa,UAAM,KAAA,CAAA,MAAA,GAAS,KAAM,CAAA,OAAA,GAAU,KAAM,CAAA,OAAA,CAAA;AAG9E,QAAA,KAAA,CAAM,YAAe,GAAA,IAAA,CAAA;AACrB,QAAA,KAAA,CAAM,OAAO,KAAM,CAAA,IAAA,CAAA;AAEnB,QAAA,gBAAA,CAAiB,KAAK,KAAK,CAAA,CAAA;AAAA,OAC/B;AAAA,KAGK,MAAA,IAAA,CAAC,UAAW,CAAA,UAAA,IACb,KAAiB,YAAA,UAAA,KAAe,CAAC,IAAA,CAAK,qBAAyB,IAAA,EAAE,KAAiB,YAAA,UAAA,CAAW,YACrG,CAAA,CAAA,EAAA;AACI,MAAA,MAAM,SAAY,GAAA,KAAA,CAAA;AAElB,MAAI,IAAA,OAAO,UAAU,SAAc,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AACtE,MAAI,IAAA,OAAO,UAAU,KAAU,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,KAAQ,GAAA,CAAA,CAAA;AAC9D,MAAI,IAAA,OAAO,UAAU,MAAW,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,MAAS,GAAA,CAAA,CAAA;AAChE,MAAI,IAAA,OAAO,UAAU,KAAU,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,KAAQ,GAAA,CAAA,CAAA;AAC9D,MAAI,IAAA,OAAO,UAAU,KAAU,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,KAAQ,GAAA,CAAA,CAAA;AAC9D,MAAI,IAAA,OAAO,UAAU,WAAgB,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,WAAc,GAAA,OAAA,CAAA;AAC1E,MAAI,IAAA,OAAO,UAAU,SAAc,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,SAAY,GAAA,gBAAA,CAAA;AACtE,MAAI,IAAA,OAAO,UAAU,QAAa,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,QAAW,GAAA,GAAA,CAAA;AACpE,MAAI,IAAA,OAAO,UAAU,KAAU,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,KAAQ,GAAA,CAAA,CAAA;AAC9D,MAAI,IAAA,OAAO,UAAU,kBAAuB,KAAA,WAAA;AAAa,QAAA,SAAA,CAAU,kBAAqB,GAAA,CAAA,CAAA;AAGxF,MAAA,SAAA,CAAU,YAAe,GAAA,IAAA,CAAA;AAEzB,MAAA,gBAAA,CAAiB,KAAK,SAAS,CAAA,CAAA;AAAA,KAGnC,MAAA;AACI,MAAA,gBAAA,CAAiB,KAAK,KAAK,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAO,OAAA,gBAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,oBAAoB,WAC9B,EAAA;AACI,IAAA,MAAM,QAAQ,IAAK,CAAA,eAAA,CAAA;AAEnB,IAAK,IAAA,CAAA,kBAAA,CAAmB,OAAO,WAAW,CAAA,CAAA;AAS1C,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,SAAA,CAAA;AAE9B,IAAA,IAAA,CAAK,mBAAmB,KAAM,CAAA,MAAA,EAAQ,WAAY,CAAA,OAAA,EAAS,YAAY,OAAO,CAAA,CAAA;AAC9E,IAAM,KAAA,CAAA,MAAA,CAAO,QAAS,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAClC,IAAM,KAAA,CAAA,MAAA,CAAO,QAAS,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAElC,IAAA,KAAA,CAAM,WAAc,GAAA,WAAA,CAAA;AACpB,IAAA,KAAA,CAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AAEzB,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,eAAA,CAAgB,OAA8B,WACtD,EAAA;AACI,IAAA,KAAA,CAAM,aAAgB,GAAA,IAAA,CAAA;AACtB,IAAA,KAAA,CAAM,WAAc,GAAA,WAAA,CAAA;AAEpB,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,SAAA,CAAA;AAC9B,IAAA,KAAA,CAAM,QAAQ,WAAY,CAAA,KAAA,CAAA;AAC1B,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,SAAA,CAAA;AAC9B,IAAA,KAAA,CAAM,cAAc,WAAY,CAAA,WAAA,CAAA;AAChC,IAAA,KAAA,CAAM,WAAW,WAAY,CAAA,QAAA,CAAA;AAC7B,IAAA,KAAA,CAAM,qBAAqB,WAAY,CAAA,kBAAA,CAAA;AACvC,IAAA,KAAA,CAAM,QAAQ,WAAY,CAAA,KAAA,CAAA;AAC1B,IAAA,KAAA,CAAM,QAAQ,WAAY,CAAA,KAAA,CAAA;AAC1B,IAAA,KAAA,CAAM,QAAQ,WAAY,CAAA,KAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,kBAAA,CAAmB,OAAO,WAAW,CAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,mBAAmB,KAAM,CAAA,MAAA,EAAQ,WAAY,CAAA,OAAA,EAAS,YAAY,OAAO,CAAA,CAAA;AAC9E,IAAM,KAAA,CAAA,MAAA,CAAO,QAAS,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAClC,IAAM,KAAA,CAAA,MAAA,CAAO,QAAS,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAElC,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,SAAA,CAAA;AAC9B,IAAI,IAAA,KAAA,CAAM,SAAS,cACnB,EAAA;AACI,MAAA,KAAA,CAAM,IAAO,GAAA,YAAA,CAAA;AAAA,KACjB;AACA,IAAA,IAAI,KAAM,CAAA,IAAA,CAAK,UAAW,CAAA,OAAO,CACjC,EAAA;AACI,MAAA,KAAA,CAAM,IAAO,GAAA,KAAA,CAAM,IAAK,CAAA,OAAA,CAAQ,SAAS,SAAS,CAAA,CAAA;AAAA,KACtD;AACA,IAAA,IAAI,KAAM,CAAA,IAAA,CAAK,UAAW,CAAA,OAAO,CACjC,EAAA;AACI,MAAA,KAAA,CAAM,IAAO,GAAA,gBAAA,CAAiB,KAAM,CAAA,IAAI,KAAK,KAAM,CAAA,IAAA,CAAA;AAAA,KACvD;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,kBAAA,CAAmB,OAA4B,WACvD,EAAA;AACI,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,SAAA,CAAA;AAC9B,IAAA,KAAA,CAAM,aAAa,WAAY,CAAA,UAAA,CAAA;AAC/B,IAAM,KAAA,CAAA,SAAA,GAAY,YAAY,GAAI,EAAA,CAAA;AAClC,IAAA,KAAA,CAAM,OAAO,WAAY,CAAA,IAAA,CAAA;AAEzB,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,UAAU,WAAY,CAAA,OAAA,CAAA;AAC5B,IAAM,KAAA,CAAA,MAAA,CAAO,IAAI,WAAY,CAAA,OAAA,CAAA;AAC7B,IAAM,KAAA,CAAA,MAAA,CAAO,IAAI,WAAY,CAAA,OAAA,CAAA;AAC7B,IAAA,KAAA,CAAM,UAAU,WAAY,CAAA,OAAA,CAAA;AAC5B,IAAA,KAAA,CAAM,UAAU,WAAY,CAAA,OAAA,CAAA;AAC5B,IAAM,KAAA,CAAA,QAAA,CAAS,IAAI,WAAY,CAAA,SAAA,CAAA;AAC/B,IAAM,KAAA,CAAA,QAAA,CAAS,IAAI,WAAY,CAAA,SAAA,CAAA;AAC/B,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,WAAY,CAAA,KAAA,CAAA;AAC3B,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,WAAY,CAAA,KAAA,CAAA;AAC3B,IAAA,KAAA,CAAM,aAAgB,GAAA,IAAA,CAAA;AACtB,IAAA,KAAA,CAAM,WAAW,WAAY,CAAA,QAAA,CAAA;AAAA,GACjC;AACJ,CAAA,CAAA;AAhtBO,IAAM,WAAN,GAAA,aAAA;AAAA;AAAM,WAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,QAAA;AAAA,EACN,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,QAAU,EAAA,CAAA,CAAA;AACd,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXS,WAAA,CAmBK,oBAA4C,GAAA;AAAA,EACtD,IAAM,EAAA,IAAA;AAAA,EACN,UAAY,EAAA,IAAA;AAAA,EACZ,KAAO,EAAA,IAAA;AAAA,EACP,KAAO,EAAA,IAAA;AACX,CAAA;;ACkFG,MAAM,kBAA0C,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnD,OAAS,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWT,WAAa,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWb,YAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,YAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,WAAa,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWb,iBAAmB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnB,UAAY,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWZ,WAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,SAAY,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWZ,gBAAmB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnB,eAAkB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWlB,aAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWhB,cAAiB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWjB,cAAiB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWjB,aAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWhB,mBAAsB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWtB,YAAe,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWf,aAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWhB,YAAe,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWf,WAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,kBAAqB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWrB,YAAe,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWf,WAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,SAAY,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWZ,gBAAmB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnB,KAAQ,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWR,aAAgB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWhB,UAAa,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWb,iBAAoB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWpB,WAAc,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,iBAAoB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWpB,YAAe,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWf,OAAU,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKV,IAAI,WACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,KAAc,SAAa,IAAA,IAAA,CAAK,SAAc,KAAA,QAAA,CAAA;AAAA,GAC9D;AAAA,EACA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,GAAY,QAAQ,QAAW,GAAA,SAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA,EAIA,kBAAoB,EAAA,KAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBpB,IAAI,SACJ,GAAA;AAplBJ,IAAA,IAAA,EAAA,CAAA;AAqlBQ,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,kBAAL,KAAA,IAAA,GAAA,EAAA,GAA2B,WAAY,CAAA,gBAAA,CAAA;AAAA,GAClD;AAAA,EACA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,kBAAqB,GAAA,KAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBA,aACA,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,KAAc,QAAY,IAAA,IAAA,CAAK,SAAc,KAAA,SAAA,CAAA;AAAA,GAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,mBAAqB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcrB,OAAS,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmCT,gBAAA,CACI,IACA,EAAA,QAAA,EACA,OAEJ,EAAA;AACI,IAAM,MAAA,OAAA,GAAW,OAAO,OAAY,KAAA,SAAA,IAAa,WACzC,OAAO,OAAA,KAAY,YAAY,OAAQ,CAAA,OAAA,CAAA;AAC/C,IAAA,MAAM,OAAU,GAAA,OAAO,QAAa,KAAA,UAAA,GAAa,KAAY,CAAA,GAAA,QAAA,CAAA;AAE7D,IAAO,IAAA,GAAA,OAAA,GAAU,GAAG,IAAgB,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA;AACpC,IAAA,QAAA,GAAW,OAAO,QAAA,KAAa,UAAa,GAAA,QAAA,GAAW,QAAS,CAAA,WAAA,CAAA;AAEhE,IAAC,IAAiC,CAAA,EAAA,CAAG,IAAM,EAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAAA,GAChE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,mBAAA,CACI,IACA,EAAA,QAAA,EACA,OAEJ,EAAA;AACI,IAAM,MAAA,OAAA,GAAW,OAAO,OAAY,KAAA,SAAA,IAAa,WACzC,OAAO,OAAA,KAAY,YAAY,OAAQ,CAAA,OAAA,CAAA;AAC/C,IAAA,MAAM,OAAU,GAAA,OAAO,QAAa,KAAA,UAAA,GAAa,KAAY,CAAA,GAAA,QAAA,CAAA;AAE7D,IAAO,IAAA,GAAA,OAAA,GAAU,GAAG,IAAgB,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA;AACpC,IAAA,QAAA,GAAW,OAAO,QAAA,KAAa,UAAa,GAAA,QAAA,GAAW,QAAS,CAAA,WAAA,CAAA;AAEhE,IAAC,IAAiC,CAAA,GAAA,CAAI,IAAM,EAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAAA,GACjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeA,cAAc,CACd,EAAA;AACI,IAAI,IAAA,EAAE,aAAa,cACnB,CAAA,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,uEAAuE,CAAA,CAAA;AAAA,KAC3F;AAEA,IAAA,CAAA,CAAE,gBAAmB,GAAA,KAAA,CAAA;AACrB,IAAA,CAAA,CAAE,IAAO,GAAA,IAAA,CAAA;AACT,IAAA,CAAA,CAAE,MAAS,GAAA,IAAA,CAAA;AACX,IAAE,CAAA,CAAA,OAAA,CAAQ,cAAc,CAAC,CAAA,CAAA;AAEzB,IAAA,OAAO,CAAC,CAAE,CAAA,gBAAA,CAAA;AAAA,GACd;AACJ;;AC7uBA,UAAA,CAAW,IAAI,WAAW,CAAA,CAAA;AAC1B,SAAA,CAAU,MAAM,kBAAkB,CAAA;;AC8I3B,MAAM,eAAN,MACP;AAAA;AAAA;AAAA;AAAA;AAAA,EAmEI,WAAA,CAAY,SAA0B,IACtC,EAAA;AA/DA;AAAA,IAAA,IAAA,CAAO,eAAiC,EAAC,CAAA;AAgErC,IAAK,IAAA,CAAA,QAAA,GAAW,OAAmB,YAAA,OAAA,GAAU,OAAU,GAAA,IAAA,CAAA;AACvD,IAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,MAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,WAAW,EAAC,CAAA;AACjB,IAAA,IAAA,CAAK,aAAa,EAAC,CAAA;AACnB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,MAAM,cAAiB,GAAA,UAAA,CAAW,IAAK,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAEjD,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,cAAA,CAAA;AAClB,MAAQ,OAAA,CAAA,MAAA,CAAO,aAAa,IAAK,CAAA,UAAA,CAAA;AAAA,KAGrC,MAAA;AACI,MAAK,IAAA,CAAA,UAAA,GAAa,QAAQ,MAAO,CAAA,WAAA,CAAA;AAAA,KACrC;AAEA,IAAK,IAAA,CAAA,OAAA,GAAU,KAAK,IAAK,CAAA,MAAA,CAAA;AACzB,IAAA,IAAA,CAAK,UAAa,GAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAC1C,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,KACP,GAAA;AACI,IAAO,OAAA,IAAI,OAAQ,CAAA,CAAC,OACpB,KAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,OAAA,CAAA;AACjB,MAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AAEnB,MAAA,IAAI,IAAK,CAAA,UAAA,CAAW,MAAU,IAAA,YAAA,CAAY,UAC1C,EAAA;AACI,QAAA,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA;AACrB,QAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AACxB,QAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,OAGxB,MAAA;AACI,QAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,OACpB;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,eAAe,iBACvB,EAAA;AACI,IAAA,IAAI,UAAa,GAAA,iBAAA,CAAA;AACjB,IAAA,MAAM,YAAY,YAAY,CAAA,UAAA,CAAA;AAE9B,IAAA,OAAO,aAAa,iBAAoB,GAAA,SAAA,IAAa,UAAa,GAAA,IAAA,CAAK,WAAW,MAClF,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,IAAK,CAAA,UAAA,CAAW,UAAU,CAAA,CAAA;AACpC,MAAM,MAAA,IAAA,GAAO,IAAK,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAC3B,MAAA,MAAM,OAAO,IAAK,CAAA,KAAA,CAAA;AAElB,MAAA,IAAI,IACJ,EAAA;AACI,QAAA,IAAI,KAAQ,GAAA,IAAA,CAAA;AACZ,QAAA,IAAI,IAAO,GAAA,IAAA,CAAA;AACX,QAAM,MAAA,UAAA,GAAa,KAAK,OAAY,KAAA,KAAA,IAAS,KAAK,UAC5C,GAAA,IAAA,CAAK,aAAa,IAAK,CAAA,KAAA,CAAA;AAE7B,QAAA,MAAM,OAAO,IAAI,SAAA;AAAA,UACb,CAAA;AAAA,UACA,CAAA;AAAA,UACA,IAAK,CAAA,KAAA,CAAM,UAAW,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,UAChC,IAAK,CAAA,KAAA,CAAM,UAAW,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,SACpC,CAAA;AAEA,QAAA,IAAI,KAAK,OACT,EAAA;AACI,UAAA,KAAA,GAAQ,IAAI,SAAA;AAAA,YACR,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,WAC9B,CAAA;AAAA,SAGJ,MAAA;AACI,UAAA,KAAA,GAAQ,IAAI,SAAA;AAAA,YACR,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,WAC9B,CAAA;AAAA,SACJ;AAGA,QAAA,IAAI,IAAK,CAAA,OAAA,KAAY,KAAS,IAAA,IAAA,CAAK,gBACnC,EAAA;AACI,UAAA,IAAA,GAAO,IAAI,SAAA;AAAA,YACP,KAAK,KAAM,CAAA,IAAA,CAAK,gBAAiB,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC3C,KAAK,KAAM,CAAA,IAAA,CAAK,gBAAiB,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC3C,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,YAC1B,IAAK,CAAA,KAAA,CAAM,IAAK,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA;AAAA,WAC9B,CAAA;AAEA,UAAK,IAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,KAAA,CAAA;AAC7B,UAAK,IAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,MAAA,CAAA;AAC7B,UAAK,IAAA,CAAA,KAAA,IAAS,KAAK,aAAc,CAAA,KAAA,CAAA;AACjC,UAAK,IAAA,CAAA,MAAA,IAAU,KAAK,aAAc,CAAA,MAAA,CAAA;AAAA,SACtC;AAGA,QAAM,KAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,KAAA,CAAA;AAC9B,QAAM,KAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,MAAA,CAAA;AAC9B,QAAM,KAAA,CAAA,KAAA,IAAS,KAAK,aAAc,CAAA,KAAA,CAAA;AAClC,QAAM,KAAA,CAAA,MAAA,IAAU,KAAK,aAAc,CAAA,MAAA,CAAA;AAEnC,QAAK,IAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,KAAA,CAAA;AAC7B,QAAK,IAAA,CAAA,CAAA,IAAK,KAAK,aAAc,CAAA,MAAA,CAAA;AAC7B,QAAK,IAAA,CAAA,KAAA,IAAS,KAAK,aAAc,CAAA,KAAA,CAAA;AACjC,QAAK,IAAA,CAAA,MAAA,IAAU,KAAK,aAAc,CAAA,MAAA,CAAA;AAElC,QAAA,IAAA,CAAK,QAAS,CAAA,CAAC,CAAI,GAAA,IAAI,OAAQ,CAAA;AAAA,UAC3B,QAAQ,IAAK,CAAA,aAAA;AAAA,UACb,MAAQ,EAAA;AAAA,YACJ,KAAA;AAAA,YACA,IAAA;AAAA,YACA,IAAA;AAAA,YACA,MAAA,EAAQ,IAAK,CAAA,OAAA,GAAU,CAAI,GAAA,CAAA;AAAA,YAC3B,eAAe,IAAK,CAAA,MAAA;AAAA,YACpB,gBAAgB,IAAK,CAAA,OAAA;AAAA,WACzB;AAAA,UACA,KAAA,EAAO,EAAE,QAAS,EAAA;AAAA,SACrB,CAAA,CAAA;AAAA,OACL;AAEA,MAAA,UAAA,EAAA,CAAA;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA,EAGQ,kBACR,GAAA;AACI,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,IAAK,CAAA,UAAA,IAAc,EAAC,CAAA;AAE5C,IAAA,KAAA,MAAW,YAAY,UACvB,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,QAAiC,CAAA,GAAI,EAAC,CAAA;AACtD,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,WAAW,QAAQ,CAAA,CAAE,QAAQ,CACjD,EAAA,EAAA;AACI,QAAA,MAAM,SAAY,GAAA,UAAA,CAAW,QAAQ,CAAA,CAAE,CAAC,CAAA,CAAA;AAExC,QAAA,IAAA,CAAK,WAAW,QAAQ,CAAA,CAAE,KAAK,IAAK,CAAA,QAAA,CAAS,SAAS,CAAC,CAAA,CAAA;AAAA,OAC3D;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA,EAGQ,cACR,GAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AACnB,IAAS,QAAA,CAAA,IAAA,CAAK,IAAM,EAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA,EAGQ,UACR,GAAA;AACI,IAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,WAAc,GAAA,YAAA,CAAY,UAAU,CAAA,CAAA;AAC7D,IAAK,IAAA,CAAA,WAAA,EAAA,CAAA;AACL,IAAA,UAAA,CAAW,MACX;AACI,MAAA,IAAI,KAAK,WAAc,GAAA,YAAA,CAAY,UAAa,GAAA,IAAA,CAAK,WAAW,MAChE,EAAA;AACI,QAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,OAGpB,MAAA;AACI,QAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AACxB,QAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,OACxB;AAAA,OACD,CAAC,CAAA,CAAA;AAAA,GACR;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,OAAA,CAAQ,cAAc,KAC7B,EAAA;AA3ZJ,IAAA,IAAA,EAAA,CAAA;AA4ZQ,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,QACrB,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC7B;AACA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAI,WACJ,EAAA;AACI,MAAA,CAAA,EAAA,GAAA,IAAA,CAAK,aAAL,IAAe,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,EAAA,CAAA;AACf,MAAA,IAAA,CAAK,cAAc,OAAQ,EAAA,CAAA;AAAA,KAC/B;AACA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AAAA,GACzB;AACJ,CAAA,CAAA;AAzRO,IAAM,WAAN,GAAA,aAAA;AAAA;AAAM,WAAA,CAGc,UAAa,GAAA,GAAA;;AChIxC,MAAM,cAAc,CAAC,KAAA,EAAO,KAAO,EAAA,MAAA,EAAQ,QAAQ,MAAM,CAAA,CAAA;AAEzD,SAAS,kBAAA,CAAmB,IAAgB,EAAA,KAAA,EAAoB,eAChE,EAAA;AACI,EAAA,MAAM,MAA2B,EAAC,CAAA;AAElC,EAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GACd,KAAA;AACI,IAAA,GAAA,CAAI,GAAG,CAAI,GAAA,KAAA,CAAA;AAAA,GACd,CAAA,CAAA;AAED,EAAA,MAAA,CAAO,KAAK,KAAM,CAAA,QAAQ,CAAE,CAAA,OAAA,CAAQ,CAAC,GACrC,KAAA;AACI,IAAA,GAAA,CAAI,GAAG,CAAA,GAAI,KAAM,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAAA,GAChC,CAAA,CAAA;AAED,EAAA,IAAI,CAAC,eACL,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,OAAQ,CAAA,IAAA,CAAK,CAAC,CAAC,CAAA,CAAA;AAErC,IAAA,KAAA,CAAM,YAAa,CAAA,OAAA,CAAQ,CAAC,IAAA,EAAmB,CAC/C,KAAA;AACI,MAAA,MAAM,IAAO,GAAA,kBAAA,CAAmB,CAAC,CAAA,EAAG,QAAY,CAAA,CAAA,EAAA,KAAA,CAAM,IAAK,CAAA,IAAA,CAAK,mBAAoB,CAAA,CAAC,CAAG,CAAA,CAAA,CAAA,EAAG,MAAM,IAAI,CAAA,CAAA;AAErG,MAAO,MAAA,CAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,KAC1B,CAAA,CAAA;AAAA,GACL;AAEA,EAAO,OAAA,GAAA,CAAA;AACX,CAAA;AAMO,MAAM,gBAAmB,GAAA;AAAA,EAC5B,WAAW,aAAc,CAAA,KAAA;AAAA;AAAA,EAEzB,KAAO,EAAA;AAAA,IACH,IAAA,EAAM,CAAC,KAAA,KAAuB,KAAiB,YAAA,WAAA;AAAA,IAC/C,oBAAoB,CAAC,IAAA,EAAgB,UAAuB,kBAAmB,CAAA,IAAA,EAAM,OAAO,KAAK,CAAA;AAAA,GACrG;AAAA;AAAA,EAEA,QAAU,EAAA;AAAA,IACN,IAAA,EAAM,CAAC,KACP,KAAA;AACI,MAAA,MAAM,OAAU,GAAA,KAAA,CAAM,KAAM,CAAA,GAAG,EAAE,CAAC,CAAA,CAAA;AAClC,MAAM,MAAA,KAAA,GAAQ,OAAQ,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAC/B,MAAM,MAAA,SAAA,GAAY,MAAM,GAAI,EAAA,CAAA;AAC5B,MAAM,MAAA,MAAA,GAAS,MAAM,GAAI,EAAA,CAAA;AAEzB,MAAA,OAAO,SAAc,KAAA,MAAA,IAAU,WAAY,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAAA,KAC9D;AAAA,IACA,KAAA,EAAO,CAAC,KACR,KAAA;AA7ER,MAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA8EY,MAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAE7B,MAAO,OAAA;AAAA,QACH,UAAA,EAAY,UAAW,CAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,aAAc,CAAA,IAAA,CAAK,KAAK,CAAjC,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAqC,CAArC,CAAA,KAAA,IAAA,GAAA,EAAA,GAA2C,GAAG,CAAA;AAAA,QACrE,MAAQ,EAAA,KAAA,CAAM,KAAM,CAAA,MAAA,GAAS,CAAC,CAAA;AAAA,QAC9B,GAAK,EAAA,KAAA;AAAA,OACT,CAAA;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,MAAQ,EAAA;AAAA,IACJ,IAAM,EAAA,mBAAA;AAAA,IAEN,SAAW,EAAA;AAAA,MACP,MAAM,aAAc,CAAA,UAAA;AAAA,MACpB,UAAU,oBAAqB,CAAA,MAAA;AAAA,KACnC;AAAA,IAEA,MAAM,SAAU,CAAA,KAAA,EAAwB,OACxC,EAAA;AACI,MAAQ,OAAA,IAAA,CAAK,OAAQ,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAE,aAAkB,KAAA,OAAA,IAAW,CAAC,CAAC,KAAM,CAAA,MAAA,CAAA;AAAA,KAC3E;AAAA,IAEA,MAAM,KAAA,CAAM,KAAwB,EAAA,OAAA,EAAwB,MAC5D,EAAA;AA5GR,MAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA6GY,MAAA,IAAI,QAAW,GAAA,IAAA,CAAK,OAAQ,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAEvC,MAAA,IAAI,YAAY,QAAS,CAAA,WAAA,CAAY,GAAG,CAAO,KAAA,QAAA,CAAS,SAAS,CACjE,EAAA;AACI,QAAY,QAAA,IAAA,GAAA,CAAA;AAAA,OAChB;AAEA,MAAI,IAAA,SAAA,GAAY,QAAW,GAAA,KAAA,CAAM,IAAK,CAAA,KAAA,CAAA;AAEtC,MAAY,SAAA,GAAA,gBAAA,CAAiB,SAAW,EAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAEnD,MAAA,MAAM,SAAS,MAAM,MAAA,CAAO,IAAc,CAAA,CAAC,SAAS,CAAC,CAAA,CAAA;AACrD,MAAM,MAAA,OAAA,GAAU,OAAO,SAAS,CAAA,CAAA;AAChC,MAAA,MAAM,cAAc,IAAI,WAAA;AAAA,QACpB,OAAQ,CAAA,MAAA;AAAA,QACR,KAAA;AAAA,OACJ,CAAA;AAEA,MAAA,MAAM,YAAY,KAAM,EAAA,CAAA;AAKxB,MAAM,MAAA,UAAA,GAAA,CAAa,EAAO,GAAA,KAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,KAAA,CAAA,IAAA,KAAP,IAAa,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAA,CAAA;AAEhC,MAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,UAAU,CAC5B,EAAA;AACI,QAAA,MAAM,WAAoD,EAAC,CAAA;AAE3D,QAAA,KAAA,MAAW,QAAQ,UACnB,EAAA;AACI,UAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,YAAA,SAAA;AAAA,WACJ;AAEA,UAAA,IAAI,UAAU,QAAW,GAAA,IAAA,CAAA;AAGzB,UAAI,IAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,eAClB,EAAA;AACI,YAAA,SAAA;AAAA,WACJ;AAEA,UAAU,OAAA,GAAA,gBAAA,CAAiB,OAAS,EAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAE/C,UAAS,QAAA,CAAA,IAAA,CAAK,OAAO,IAAmC,CAAA;AAAA,YACpD,GAAK,EAAA,OAAA;AAAA,YACL,IAAM,EAAA;AAAA,cACF,eAAiB,EAAA,IAAA;AAAA,aACrB;AAAA,WACH,CAAC,CAAA,CAAA;AAAA,SACN;AAEA,QAAA,MAAM,GAAM,GAAA,MAAM,OAAQ,CAAA,GAAA,CAAI,QAAQ,CAAA,CAAA;AAEtC,QAAA,WAAA,CAAY,YAAe,GAAA,GAAA,CAAA;AAC3B,QAAI,GAAA,CAAA,OAAA,CAAQ,CAAC,IACb,KAAA;AACI,UAAA,IAAA,CAAK,YAAe,GAAA,CAAC,WAAW,CAAA,CAAE,MAAO,CAAA,WAAA,CAAY,YAAa,CAAA,MAAA,CAAO,CAAC,EAAA,KAAQ,EAAO,KAAA,IAAK,CAAC,CAAA,CAAA;AAAA,SAClG,CAAA,CAAA;AAAA,OACL;AAEA,MAAO,OAAA,WAAA,CAAA;AAAA,KACX;AAAA,IAEA,OAAO,WACP,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,IAAI,CAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AACJ;;ACjLA,UAAA,CAAW,IAAI,gBAAgB,CAAA;;ACMxB,MAAM,iBAAkC,GAAA;AAAA,EAC3C,cAAc,MAAM;AAAA,GAAc;AACtC;;ACRO,SAAS,gBACZ,CAAA,MAAA,EACA,MACA,EAAA,OAAA,EACA,OAEJ,EAAA;AACI,EAAA,MAAM,gBAAgB,OAAQ,CAAA,OAAA,CAAA;AAE9B,EAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,EAAA,MAAM,OAAO,MAAO,CAAA,IAAA,CAAA;AACpB,EAAA,MAAM,OAAO,MAAO,CAAA,IAAA,CAAA;AAEpB,EAAA,MAAM,qBAAqB,aAAc,CAAA,KAAA,CAAA;AACzC,EAAA,MAAM,sBAAsB,aAAc,CAAA,MAAA,CAAA;AAE1C,EAAM,MAAA,KAAA,GAAQ,qBAAqB,IAAK,CAAA,KAAA,CAAA;AACxC,EAAM,MAAA,MAAA,GAAS,sBAAsB,IAAK,CAAA,MAAA,CAAA;AAE1C,EAAA,IAAI,IACJ,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,qBAAqB,IAAK,CAAA,KAAA,CAAA;AAC9C,IAAM,MAAA,YAAA,GAAe,sBAAsB,IAAK,CAAA,MAAA,CAAA;AAEhD,IAAA,MAAA,CAAO,CAAC,CAAK,GAAA,IAAA,CAAK,IAAI,kBAAuB,GAAA,MAAA,CAAO,KAAK,KAAS,GAAA,OAAA,CAAA;AAClE,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,WAAA,CAAA;AAExB,IAAA,MAAA,CAAO,CAAC,CAAK,GAAA,IAAA,CAAK,IAAI,mBAAwB,GAAA,MAAA,CAAO,KAAK,MAAU,GAAA,OAAA,CAAA;AACpE,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,YAAA,CAAA;AAAA,GAI5B,MAAA;AACI,IAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,KAAS,GAAA,OAAA,CAAA;AACnC,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAExB,IAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,MAAU,GAAA,OAAA,CAAA;AACpC,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,GAC5B;AAEA,EAAA,OAAA;AACJ;;AClCO,MAAM,UACb,CAAA;AAAA,EAoBI,YAAY,OACZ,EAAA;AApBA,IAAA,IAAA,CAAgB,YAAe,GAAA,QAAA,CAAA;AAC/B,IAAA,IAAA,CAAgB,KAAsB,GAAA,iBAAA,CAAA;AACtC,IAAgB,IAAA,CAAA,GAAA,GAAc,IAAI,YAAY,CAAA,CAAA;AAC9C,IAAA,IAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAOjB;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,KAAA,CAAA;AAEpB,IAAA,IAAA,CAAQ,OAA4C,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAC/D,IAAA,IAAA,CAAQ,aAAkD,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACrE,IAAA,IAAA,CAAQ,YAAe,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAQ,kBAAqB,GAAA,IAAA,CAAA;AAE7B,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AA9BhC,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAkCQ,IAAA,IAAA,CAAK,SAAS,IAAI,eAAA;AAAA,MACd,IAAA;AAAA,MAAA,CAAA,CACA,EAAQ,GAAA,OAAA,CAAA,MAAA,CAAO,aAAf,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA8B,CAAK,KAAA,CAAA;AAAA,MAAA,CAAA,CACnC,EAAQ,GAAA,OAAA,CAAA,MAAA,CAAO,aAAf,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA8B,CAAK,KAAA,CAAA;AAAA,KACvC,CAAA;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AAAA,GACnB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,KAAA,KAAA,KAAA,GAAU,OAAQ,CAAA,KAAA,CAAA,CAAA;AAElB,IAAA,IAAI,KAAK,QAAa,KAAA,KAAA;AAAO,MAAA,OAAA;AAE7B,IAAA,IAAI,KAAK,QACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAA,GAAA,CAAI,QAAU,EAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,KACnD;AAEA,IAAA,KAAA,CAAM,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,IAAI,KAAK,YACT,EAAA;AACI,MAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AACnB,MAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,KACxB;AAEA,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,IAAI,KAAK,kBACT,EAAA;AACI,MAAA,IAAA,CAAK,mBAAoB,EAAA,CAAA;AACzB,MAAA,IAAA,CAAK,kBAAqB,GAAA,KAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,OAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGO,cAAc,KACrB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,KAAK,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAM,MAAA,MAAA,GAAS,KAAK,QAAS,CAAA,WAAA,CAAA;AAC7B,IAAA,MAAM,EAAK,GAAA,CAAC,KAAQ,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAChC,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAET,IAAA,IAAI,MAAM,CAAK,IAAA,EAAA,IAAM,KAAM,CAAA,CAAA,GAAI,KAAK,KACpC,EAAA;AACI,MAAK,EAAA,GAAA,CAAC,MAAS,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAE3B,MAAA,IAAI,MAAM,CAAK,IAAA,EAAA,IAAM,KAAM,CAAA,CAAA,GAAI,KAAK,MACpC,EAAA;AACI,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,QAAA,CAAS,OAAQ,CAAA,IAAA,CAAA;AAEnC,IAAA,IAAI,IACJ,EAAA;AACI,MAAA,MAAM,eAAe,IAAK,CAAA,YAAA,CAAA;AAE1B,MAAA,MAAA,CAAO,QAAS,CAAA,YAAA,CAAa,CAAC,CAAA,EAAG,YAAa,CAAA,CAAC,CAAG,EAAA,YAAA,CAAa,CAAC,CAAA,EAAG,YAAa,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KAGtF,MAAA;AACI,MAAA,MAAM,UAAU,IAAK,CAAA,MAAA,CAAA;AAErB,MAAA,MAAA,CAAO,QAAS,CAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,OAAQ,CAAA,CAAC,CAAG,EAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,OAAQ,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KAClE;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA,EAKO,QACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAK,IAAA,CAAA,kBAAA,GAAqB,KAAK,YAAe,GAAA,IAAA,CAAA;AAE9C,IAAA,IAAA,CAAK,MAAM,YAAa,EAAA,CAAA;AAAA,GAC5B;AAAA,EAEQ,aACR,GAAA;AACI,IAAA,gBAAA,CAAiB,KAAK,OAAS,EAAA,IAAA,CAAK,MAAQ,EAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GAChE;AAAA,EAEQ,mBACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AACpB,IAAA,MAAM,UAAU,IAAK,CAAA,QAAA,CAAA;AAErB,IAAA,MAAM,gBAAgB,OAAQ,CAAA,OAAA,CAAA;AAC9B,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,MAAM,OAAO,MAAO,CAAA,IAAA,CAAA;AAEpB,IAAA,MAAM,eAAe,IAAK,CAAA,aAAA,CAAA;AAE1B,IAAM,MAAA,KAAA,GAAQ,aAAc,CAAA,KAAA,GAAQ,IAAK,CAAA,KAAA,CAAA;AACzC,IAAM,MAAA,MAAA,GAAS,aAAc,CAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAA;AAE3C,IAAA,YAAA,CAAa,CAAC,CAAA,GAAI,CAAC,MAAA,CAAO,EAAK,GAAA,KAAA,CAAA;AAC/B,IAAA,YAAA,CAAa,CAAC,CAAA,GAAI,YAAa,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAEpC,IAAA,YAAA,CAAa,CAAC,CAAA,GAAI,CAAC,MAAA,CAAO,EAAK,GAAA,MAAA,CAAA;AAC/B,IAAA,YAAA,CAAa,CAAC,CAAA,GAAI,YAAa,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA6C,KAC5D,EAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,MAAM,oBAAuB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAE/E,MAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,oBAAoB,CAAA,CAAA;AAAA,KAC9C;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AAAA,GACzB;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KO,MAAM,eAAe,SAC5B,CAAA;AAAA,EACI,OAAc,KAAK,EACnB,EAAA;AACI,IAAI,IAAA,OAAO,OAAO,QAClB,EAAA;AACI,MAAA,OAAO,IAAI,MAAA,CAAO,KAAM,CAAA,GAAA,CAAI,EAAE,CAAC,CAAA,CAAA;AAAA,KACnC;AAEA,IAAO,OAAA,IAAI,OAAO,EAAE,CAAA,CAAA;AAAA,GACxB;AAAA,EAEA,WAAA,CAAY,OAAmC,GAAA,OAAA,CAAQ,KACvD,EAAA;AACI,IAAA,IAAI,mBAAmB,OACvB,EAAA;AACI,MAAU,OAAA,GAAA,EAAE,SAAS,OAAQ,EAAA,CAAA;AAAA,KACjC;AAEA,IAAA,MAA6B,cAArB,EAlChB,OAAA,EAAA,GAkCqC,EAAT,EAAA,IAAA,GAAAC,WAAA,CAAS,IAAT,CAAZ,SAAA,CAAA,CAAA,CAAA;AAER,IAAM,KAAA,CAAAlC,gBAAA,CAAA;AAAA,MACF,IAAM,EAAA,IAAI,UAAW,CAAA,OAAA,IAAA,IAAA,GAAA,OAAA,GAAW,QAAQ,KAAK,CAAA;AAAA,MAC7C,KAAO,EAAA,QAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,OAAU,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ;;ACtEA,MAAMS,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAEd,SAAA,aAAA,CAAc,IAAiB,EAAA,MAAA,EAAgB,mBAC/D,EAAA;AACI,EAAA,MAAM,YAAe,GAAAA,YAAA,CAAA;AAErB,EAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,EAAgB,eAAA,CAAA,IAAA,EAAM,qBAAqB,YAAY,CAAA,CAAA;AAEvD,EAAA,MAAA,CAAO,cAAc,YAAY,CAAA,CAAA;AAEjC,EAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AACtB;;ACVgB,SAAA,kBAAA,CAAmB,IAAiB,EAAA,MAAA,EAAgB,SACpE,EAAA;AACI,EAAM,MAAA,YAAA,GAAe,IAAI,MAAO,EAAA,CAAA;AAEhC,EAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,EAAA,MAAM,eAAe,yBAA0B,CAAA,IAAA,EAAM,SAAW,EAAA,IAAI,QAAQ,CAAA,CAAA;AAE5E,EAAe,cAAA,CAAA,IAAA,EAAM,cAAc,YAAY,CAAA,CAAA;AAG/C,EAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAElB,EAAA,MAAA,CAAO,cAAc,YAAY,CAAA,CAAA;AACrC,CAAA;AAEgB,SAAA,yBAAA,CAA0B,MAAmB,EAAA,IAAA,EAAiB,MAC9E,EAAA;AACI,EAAA,IAAI,CAAC,MACL,EAAA;AAGI,IAAA,IAAA,CAAK,uCAAuC,CAAA,CAAA;AAG5C,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAEA,EAAA,IAAI,WAAW,IACf,EAAA;AACI,IAA0B,yBAAA,CAAA,MAAA,CAAO,MAAQ,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAErD,IAAA,IAAI,OAAO,SACX,EAAA;AACI,MAAqB,oBAAA,CAAA,MAAA,CAAO,gBAAgB,MAAM,CAAA,CAAA;AAAA,KACtD;AAEA,IAAO,MAAA,CAAA,MAAA,CAAO,OAAO,cAAc,CAAA,CAAA;AAAA,GACvC;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;ACrCO,MAAM,SACb,CAAA;AAAA,EAQI,YAAY,OACZ,EAAA;AANA,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAElB,IAAA,IAAA,CAAO,IAAO,GAAA,WAAA,CAAA;AAKV,IAAA,IAAI,mCAAS,IACb,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA,EAEO,KAAK,IACZ,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAIZ,IAAK,IAAA,CAAA,mBAAA,GAAsB,EAAE,IAAgB,YAAA,MAAA,CAAA,CAAA;AAE7C,IAAK,IAAA,CAAA,IAAA,CAAK,aAAa,IAAK,CAAA,mBAAA,CAAA;AAC5B,IAAK,IAAA,CAAA,IAAA,CAAK,cAAiB,GAAA,CAAC,IAAK,CAAA,mBAAA,CAAA;AAEjC,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,SAAA,CAAU,QAAgB,mBACjC,EAAA;AACI,IAAc,aAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,mBAAmB,CAAA,CAAA;AAAA,GACxD;AAAA,EAEO,cAAA,CAAe,QAAgB,SACtC,EAAA;AACI,IAAmB,kBAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GACnD;AAAA,EAEO,aAAA,CAAc,OAAc,SACnC,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAGlB,IAAO,OAAA,SAAA,CAAU,MAAM,KAAK,CAAA,CAAA;AAAA,GAChC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,GACf;AAAA,EAEA,OAAc,KAAK,IACnB,EAAA;AACI,IAAA,OAAO,IAAgB,YAAA,MAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAhEa,SAAA,CAEK,YAA+B,aAAc,CAAA,UAAA;;ACRxD,MAAM,SACb,CAAA;AAAA,EAOI,YAAY,OACZ,EAAA;AALA,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAElB,IAAA,IAAA,CAAO,IAAO,GAAA,WAAA,CAAA;AAIV,IAAA,IAAI,mCAAS,IACb,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA,EAEO,KAAK,IACZ,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,OACP,GAAA;AAAA,GAEA;AAAA,EAEA,OAAc,KAAK,IACnB,EAAA;AACI,IAAA,OAAO,OAAO,IAAS,KAAA,QAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AA9Ba,SAAA,CAEK,YAA+B,aAAc,CAAA,UAAA;;ACGxD,MAAM,WACb,CAAA;AAAA,EAOI,YAAY,OACZ,EAAA;AALA,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAElB,IAAA,IAAA,CAAO,IAAO,GAAA,aAAA,CAAA;AAIV,IAAA,IAAI,mCAAS,IACb,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA,EAEO,KAAK,IACZ,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,KAAK,cAAiB,GAAA,KAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,KAAK,cAAiB,GAAA,IAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,SAAA,CAAU,QAAgB,mBACjC,EAAA;AACI,IAAc,aAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,mBAAmB,CAAA,CAAA;AAAA,GACxD;AAAA,EAEO,cAAA,CAAe,QAAgB,SACtC,EAAA;AACI,IAAmB,kBAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GACnD;AAAA,EAEO,aAAA,CAAc,OAAc,SACnC,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAGlB,IAAO,OAAA,SAAA,CAAU,MAAM,KAAK,CAAA,CAAA;AAAA,GAChC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,GACf;AAAA,EAEA,OAAc,KAAK,IACnB,EAAA;AACI,IAAA,OAAO,IAAgB,YAAA,SAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAzDa,WAAA,CAEK,YAA+B,aAAc,CAAA,UAAA;;;;;;;;;;;;;;;;;;;;;ACAxD,MAAM,0BAA0B,aACvC,CAAA;AAAA,EAKI,YAAY,OACZ,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,QAAQ,QAAY,IAAA,IAAI,aAAa,OAAQ,CAAA,KAAA,GAAQ,OAAQ,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACtF,IAAA,IAAI,SAAS,OAAQ,CAAA,MAAA,CAAA;AAErB,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAA,IAAI,kBAAkB,YACtB,EAAA;AACI,QAAS,MAAA,GAAA,aAAA,CAAA;AAAA,OACb,MAAA,IACS,kBAAkB,UAC3B,EAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb,MAAA,IACS,kBAAkB,WAC3B,EAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb,MAAA,IACS,kBAAkB,UAC3B,EAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb,MAAA,IACS,kBAAkB,WAC3B,EAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb,MAAA,IACS,kBAAkB,SAC3B,EAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OAGb,MAAA;AACI,QAAS,MAAA,GAAA,YAAA,CAAA;AAAA,OACb;AAAA,KACJ;AAEA,IAAA,KAAA,CAAMV,qCACC,OADD,CAAA,EAAA;AAAA,MAEF,MAAA;AAAA,KACH,CAAA,CAAA,CAAA;AA1CL,IAAA,IAAA,CAAO,cAAiB,GAAA,QAAA,CAAA;AAAA,GA2CxB;AAAA,EAEA,OAAc,KAAK,QACnB,EAAA;AACI,IAAA,OAAO,QAAoB,YAAA,SAAA,IACxB,QAAoB,YAAA,UAAA,IACpB,oBAAoB,iBACpB,IAAA,QAAA,YAAoB,UACpB,IAAA,QAAA,YAAoB,WACpB,IAAA,QAAA,YAAoB,UACpB,IAAA,QAAA,YAAoB,eACpB,QAAoB,YAAA,YAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AA5Da,iBAAA,CAEK,YAA+B,aAAc,CAAA,aAAA;;ACFxD,MAAM,qBAAqB,aAClC,CAAA;AAAA,EAMI,YAAY,OACZ,EAAA;AArBJ,IAAA,IAAA,EAAA,CAAA;AAsBQ,IAAI,IAAA,CAAC,QAAQ,QACb,EAAA;AACI,MAAA,OAAA,CAAQ,QAAW,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAAA,KACrD;AAEA,IAAI,IAAA,CAAC,QAAQ,KACb,EAAA;AACI,MAAQ,OAAA,CAAA,KAAA,GAAQ,QAAQ,QAAS,CAAA,KAAA,CAAA;AAEjC,MAAI,IAAA,CAAC,QAAQ,WACb,EAAA;AACI,QAAA,OAAA,CAAQ,SAAS,OAAQ,CAAA,UAAA,CAAA;AAAA,OAC7B;AAAA,KACJ;AAEA,IAAI,IAAA,CAAC,QAAQ,MACb,EAAA;AACI,MAAQ,OAAA,CAAA,MAAA,GAAS,QAAQ,QAAS,CAAA,MAAA,CAAA;AAElC,MAAI,IAAA,CAAC,QAAQ,WACb,EAAA;AACI,QAAA,OAAA,CAAQ,UAAU,OAAQ,CAAA,UAAA,CAAA;AAAA,OAC9B;AAAA,KACJ;AAEA,IAAQ,CAAA,EAAA,GAAA,OAAA,CAAA,SAAA,KAAR,oBAAQ,SAAc,GAAA,6BAAA,CAAA;AAEtB,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAhCjB,IAAA,IAAA,CAAO,cAAiB,GAAA,OAAA,CAAA;AAkCpB,IAAA,IAAA,CAAK,cAAc,OAAQ,CAAA,WAAA,CAAA;AAE3B,IAAA,MAAM,SAAS,OAAQ,CAAA,QAAA,CAAA;AAEvB,IAAA,IAAI,KAAK,UAAe,KAAA,MAAA,CAAO,SAAS,IAAK,CAAA,UAAA,KAAe,OAAO,MACnE,EAAA;AACI,MAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AAAA,EAEO,YACP,GAAA;AACI,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,KAAQ,GAAA,CAAA,EAAG,IAAK,CAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AACpC,MAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,MAAS,GAAA,CAAA,EAAG,IAAK,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AAAA,KACzC;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,IAAK,CAAA,UAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,QAAA,CAAS,SAAS,IAAK,CAAA,WAAA,CAAA;AAAA,GAChC;AAAA,EAEO,MAAA,CAAO,QAAQ,IAAK,CAAA,KAAA,EAAO,SAAS,IAAK,CAAA,MAAA,EAAQ,UAAa,GAAA,IAAA,CAAK,WAC1E,EAAA;AACI,IAAM,KAAA,CAAA,MAAA,CAAO,KAAO,EAAA,MAAA,EAAQ,UAAU,CAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAAA,GACtB;AAAA,EAEA,OAAc,KAAK,QACnB,EAAA;AACI,IAAA,OAAQ,WAAW,iBAAqB,IAAA,QAAA,YAAoB,iBACxD,IAAA,UAAA,CAAW,mBAAmB,QAAoB,YAAA,eAAA,CAAA;AAAA,GAC1D;AACJ,CAAA;AAxEa,YAAA,CAEK,YAA+B,aAAc,CAAA,aAAA;;ACN/D,UAAA,CAAW,IAAI,SAAW,EAAA,SAAA,EAAW,aAAa,WAAa,EAAA,WAAA,EAAa,cAAc,iBAAiB,CAAA;;;;;;ACP3G,IAAI,SAAA,CAAA;AASG,SAAS,iBAAiB,4BACjC,EAAA;AACI,EAAI,IAAA,OAAO,cAAc,WACzB,EAAA;AACI,IAAA,SAAA,GAAa,SAASoC,UACtB,GAAA;AAhBR,MAAA,IAAA,EAAA,CAAA;AAiBY,MAAA,MAAM,cAAiB,GAAA;AAAA,QACnB,OAAS,EAAA,IAAA;AAAA,QACT,4BAAA;AAAA,OACJ,CAAA;AAEA,MACA,IAAA;AACI,QAAA,IAAI,CAAC,UAAA,CAAW,GAAI,EAAA,CAAE,0BACtB,EAAA;AACI,UAAO,OAAA,KAAA,CAAA;AAAA,SACX;AAEA,QAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAC7C,QAAA,IAAI,EAA4B,GAAA,MAAA,CAAO,UAAW,CAAA,QAAA,EAAU,cAAc,CAAA,CAAA;AAE1E,QAAA,MAAM,OAAU,GAAA,CAAC,EAAC,CAAA,EAAA,GAAA,EAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAI,2BAAJ,IAA4B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAA,CAAA;AAE9C,QAAA,IAAI,EACJ,EAAA;AACI,UAAM,MAAA,WAAA,GAAc,EAAG,CAAA,YAAA,CAAa,oBAAoB,CAAA,CAAA;AAExD,UAAA,IAAI,WACJ,EAAA;AACI,YAAA,WAAA,CAAY,WAAY,EAAA,CAAA;AAAA,WAC5B;AAAA,SACJ;AAEA,QAAK,EAAA,GAAA,IAAA,CAAA;AAEL,QAAO,OAAA,OAAA,CAAA;AAAA,eAEJ,CAAP,EAAA;AAEI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAAA,KACD,EAAA,CAAA;AAAA,GACP;AAEA,EAAO,OAAA,SAAA,CAAA;AACX;;AC/CsB,eAAA,iBAAA,CAAkB,OAAoC,GAAA,EAC5E,EAAA;AAEI,EAAA,MAAM,GAAM,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,cAAe,CAAA,GAAA,CAAA;AAE5C,EAAA,IAAI,CAAC,GAAA;AAAK,IAAO,OAAA,KAAA,CAAA;AAEjB,EACA,IAAA;AACI,IAAA,MAAM,OAAU,GAAA,MAAM,SAAU,CAAA,GAAA,CAAI,eAAe,OAAO,CAAA,CAAA;AAG1D,IAAA,MAAM,QAAQ,aAAc,EAAA,CAAA;AAE5B,IAAO,OAAA,IAAA,CAAA;AAAA,WAEJ,CAAP,EAAA;AAEI,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AACJ;;ACcO,MAAM,YACb,CAAA;AAAA;AAAA;AAAA;AAAA,EAOI,YAAY,IACZ,EAAA;AACI,IAAA,IAAA,CAAK,QAAQ,EAAC,CAAA;AACd,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,IAAA,CAAK,IAAc,EAAc,EAAA,EAAA,EAAc,IAClD,EAAc,EAAA,EAAA,EAAc,IAAc,EAC9C,EAAA;AACI,IAAM,MAAA,EAAE,IAAM,EAAA,KAAA,EAAU,GAAA,IAAA,CAAA;AAExB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,GAAA,GAAM,MAAM,MAAQ,EAAA,CAAA,GAAI,KAAK,CAC7C,EAAA,EAAA;AACI,MAAM,KAAA,CAAA,CAAC,CAAE,CAAA,IAAI,CAAE,CAAA,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,EAAE,CAAA,CAAA;AAAA,KACjD;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoBO,IAAI,IACX,EAAA;AACI,IAAK,IAAA,IAAA,CAAa,IAAK,CAAA,KAAK,CAC5B,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA;AAChB,MAAK,IAAA,CAAA,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AAAA,KACxB;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,OAAO,IACd,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,KAAM,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAErC,IAAA,IAAI,UAAU,CACd,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,KAAA,CAAM,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,IAChB,EAAA;AACI,IAAA,OAAO,IAAK,CAAA,KAAA,CAAM,OAAQ,CAAA,IAAI,CAAM,KAAA,CAAA,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA,EAGO,SACP,GAAA;AACI,IAAA,IAAA,CAAK,MAAM,MAAS,GAAA,CAAA,CAAA;AAEpB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AACf,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,KACX,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,MAAM,MAAW,KAAA,CAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAW,IACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AACJ;;;;;;;;;;;;;;;;;;AC9HA,MAAM,cAAiB,GAAA;AAAA,EACnB,MAAA;AAAA,EACA,SAAA;AAAA,EACA,eAAA;AAAA,EACA,kBAAA;AAAA,EACA,OAAA;AAAA,EACA,WAAA;AAAA,EACA,aAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AACJ,CAAA,CAAA;AAYO,MAAM,oBAAN,MACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwDI,YAAY,MACZ,EAAA;AAdA,IAAgB,IAAA,CAAA,OAAA,mBAA0B,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACrD,IAAgB,IAAA,CAAA,WAAA,mBAAqB,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAIhD,IAAQ,IAAA,CAAA,YAAA,mBAA8C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AA9GrE,IAAA,IAAA,EAAA,CAAA;AAwHQ,IAAA,IAAA,CAAK,OAAO,MAAO,CAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,OAAO,MAAO,CAAA,IAAA,CAAA;AAEnB,IAAM,MAAA,eAAA,GAAkB,CAAC,GAAG,cAAA,EAAgB,IAAI,EAAO,GAAA,MAAA,CAAA,OAAA,KAAP,IAAkB,GAAA,EAAA,GAAA,EAAG,CAAA,CAAA;AAErE,IAAK,IAAA,CAAA,WAAA,CAAY,GAAG,eAAe,CAAA,CAAA;AACnC,IAAK,IAAA,CAAA,WAAA,CAAY,OAAO,OAAO,CAAA,CAAA;AAC/B,IAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,WAAa,EAAA,MAAA,CAAO,kBAAkB,CAAA,CAAA;AAAA,GAChE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAa,IAAA,CAAK,OAA4B,GAAA,EAC9C,EAAA;AAEI,IAAW,KAAA,MAAA,UAAA,IAAc,KAAK,YAC9B,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,IAAK,CAAA,YAAA,CAAa,UAAU,CAAA,CAAA;AAE3C,MAAM,MAAA,oBAAA,GAAwB,OAAO,WAAoB,CAAA,cAAA,CAAA;AAEzD,MAAA,OAAA,GAAUnC,sCAAK,oBAAyB,CAAA,EAAA,OAAA,CAAA,CAAA;AAAA,KAC5C;AAEA,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,kBAAiB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AACnD,IAAK,IAAA,CAAA,YAAA,GAAe,OAAQ,CAAA,WAAA,GAAc,CAAI,GAAA,CAAA,CAAA;AAG9C,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,KAAA,CAAM,QAAQ,CACpD,EAAA,EAAA;AACI,MAAA,MAAM,KAAK,OAAQ,CAAA,IAAA,CAAK,MAAM,CAAC,CAAA,CAAE,KAAK,OAAO,CAAA,CAAA;AAAA,KACjD;AAAA,GACJ;AAAA,EAWO,MAAA,CAAO,MAAiC,UAC/C,EAAA;AACI,IAAA,IAAI,OAAU,GAAA,IAAA,CAAA;AAEd,IAAA,IAAI,mBAAmB,SACvB,EAAA;AACI,MAAU,OAAA,GAAA,EAAE,WAAW,OAAQ,EAAA,CAAA;AAE/B,MAAA,IAAI,UACJ,EAAA;AAEI,QAAA,WAAA,CAAY,QAAQ,4EAA4E,CAAA,CAAA;AAEhG,QAAA,OAAA,CAAQ,SAAS,UAAW,CAAA,aAAA,CAAA;AAAA,OAChC;AAAA,KACJ;AAEA,IAAA,OAAA,CAAQ,MAAR,KAAA,OAAA,CAAQ,MAAW,GAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAA,CAAA;AAG7B,IAAA,IAAI,OAAQ,CAAA,MAAA,KAAW,IAAK,CAAA,IAAA,CAAK,OACjC,EAAA;AAEI,MAAA,IAAA,CAAK,sBAAsB,OAAQ,CAAA,SAAA,CAAA;AAAA,KACvC;AAEA,IAAA,IAAI,QAAQ,UACZ,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,MAAM,OAAQ,CAAA,OAAA,CAAQ,UAAU,CAAK,IAAA,OAAA,CAAQ,WAAW,MAAW,KAAA,CAAA,CAAA;AAEvF,MAAQ,OAAA,CAAA,UAAA,GAAa,WAAc,GAAA,OAAA,CAAQ,UAAa,GAAA,KAAA,CAAM,OAAO,QAAS,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC9G;AAEA,IAAK,IAAA,CAAA,OAAA,CAAQ,SAAU,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AACnC,IAAK,IAAA,CAAA,OAAA,CAAQ,WAAY,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AACrC,IAAK,IAAA,CAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAChC,IAAK,IAAA,CAAA,OAAA,CAAQ,SAAU,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AACnC,IAAK,IAAA,CAAA,OAAA,CAAQ,UAAW,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,MAAA,CAAO,kBAA4B,EAAA,mBAAA,EAA6B,UACvE,EAAA;AACI,IAAA,IAAA,CAAK,IAAK,CAAA,MAAA,CAAO,kBAAoB,EAAA,mBAAA,EAAqB,UAAU,CAAA,CAAA;AAAA,GACxE;AAAA;AAAA,EAGA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,UAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AACvB,IAAK,IAAA,CAAA,OAAA,CAAQ,gBAAiB,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAAA,GAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,OAAQ,CAAA,UAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,OAAQ,CAAA,WAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA,EAIA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,kBACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,mBAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,iBACJ,GAAA;AACI,IAAA,MAAM,QAAW,GAAA,IAAA,CAAA;AAEjB,IAAA,OAAO,SAAS,YAAa,CAAA,iBAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,eAAe,SACvB,EAAA;AACI,IAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,QACnB,KAAA;AACI,MAAA,IAAA,CAAK,OAAQ,CAAA,QAAQ,CAAI,GAAA,IAAI,aAAa,QAAQ,CAAA,CAAA;AAAA,KACrD,CAAA,CAAA;AAAA,GACL;AAAA,EAEQ,YAAY,OACpB,EAAA;AACI,IAAI,IAAA,CAAA,CAAA;AAEJ,IAAA,KAAK,KAAK,OACV,EAAA;AACI,MAAM,MAAA,GAAA,GAAM,QAAQ,CAAC,CAAA,CAAA;AAErB,MAAA,IAAA,CAAK,UAAW,CAAA,GAAA,CAAI,KAAO,EAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AAAA,KACvC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWQ,UAAA,CAAW,UAA6B,IAChD,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAI,QAAA,CAAS,IAA2B,CAAA,CAAA;AAEvD,IAAK,IAAA,IAAA,CAAa,IAAI,CACtB,EAAA;AACI,MAAM,MAAA,IAAI,KAAM,CAAA,CAAA,kBAAA,EAAqB,IAAyB,CAAA,mBAAA,CAAA,CAAA,CAAA;AAAA,KAClE;AAEA,IAAC,IAAA,CAAa,IAAI,CAAI,GAAA,MAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,YAAA,CAAa,IAAI,CAAI,GAAA,MAAA,CAAA;AAE1B,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,OACrB,EAAA;AACI,MAAA,IAAA,CAAK,OAAQ,CAAA,CAAC,CAAE,CAAA,GAAA,CAAI,MAAM,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEQ,SAAA,CAAU,OAAsC,YACxD,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,YAAA,CAAa,MAAO,CAAA,CAAC,KAAK,OAC3C,KAAA;AACI,MAAI,GAAA,CAAA,OAAA,CAAQ,IAAI,CAAA,GAAI,OAAQ,CAAA,KAAA,CAAA;AAE5B,MAAO,OAAA,GAAA,CAAA;AAAA,KACX,EAAG,EAAyB,CAAA,CAAA;AAE5B,IAAM,KAAA,CAAA,OAAA,CAAQ,CAAC,IACf,KAAA;AACI,MAAA,MAAM,YAAY,IAAK,CAAA,KAAA,CAAA;AACvB,MAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAElB,MAAM,MAAA,OAAA,GAAU,SAAS,IAAI,CAAA,CAAA;AAG7B,MAAC,IAAK,CAAA,WAAA,CAAoB,IAAI,CAAA,GAAI,IAAI,SAAA;AAAA,QAClC,IAAA;AAAA,QACA,OAAA,GAAU,IAAI,OAAA,EAAY,GAAA,IAAA;AAAA,OAC9B,CAAA;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,OAAA,CAAQ,UAA0B,KACzC,EAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAK,IAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,KAAA,CAAM,OAAQ,EAAA,CAAA;AACnC,IAAK,IAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAGjC,IAAA,MAAA,CAAO,OAAO,IAAK,CAAA,OAAO,CAAE,CAAA,OAAA,CAAQ,CAAC,MACrC,KAAA;AACI,MAAA,MAAA,CAAO,OAAQ,EAAA,CAAA;AAAA,KAClB,CAAA,CAAA;AAED,IAAA,SAAA,CAAU,OAAU,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAGpB,IAAA,SAAA,CAAU,WAAc,GAAA,IAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,gBAAgB,OACvB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,gBAAiB,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAA;AAAA,GACxD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAK,CAAA,YAAA,CAAA;AAAA,GAClB;AACJ,CAAA,CAAA;AAtVO,IAAM,gBAAN,GAAA,kBAAA;AAAM,gBAAA,CAEK,cAAiB,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAK3B,UAAY,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBZ,4BAA8B,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAK9B,WAAa,EAAA,KAAA;AACjB,CAAA;;;;;;;;;;;;;;;;;;AChFJ,MAAM,cAAiB,GAAA,CAAC,QAAU,EAAA,OAAA,EAAS,QAAQ,CAAA,CAAA;AAEnD,eAAsB,mBAAmB,OACzC,EAAA;AApBA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAqBI,EAAA,IAAI,iBAA2B,EAAC,CAAA;AAEhC,EAAA,IAAI,QAAQ,UACZ,EAAA;AACI,IAAe,cAAA,CAAA,IAAA,CAAK,QAAQ,UAAU,CAAA,CAAA;AAEtC,IAAe,cAAA,CAAA,OAAA,CAAQ,CAAC,IACxB,KAAA;AACI,MAAI,IAAA,IAAA,KAAS,QAAQ,UACrB,EAAA;AACI,QAAA,cAAA,CAAe,KAAK,IAAI,CAAA,CAAA;AAAA,OAC5B;AAAA,KACH,CAAA,CAAA;AAAA,GAGL,MAAA;AACI,IAAA,cAAA,GAAiB,eAAe,KAAM,EAAA,CAAA;AAAA,GAC1C;AAEA,EAAI,IAAA,aAAA,CAAA;AAEJ,EAAI,IAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,aAAR,KAAA,IAAA,GAAA,EAAA,GAAyB,IAC7B,EAAA;AACI,IAAA,MAAM,mDAAkB,CAAA;AAAA,GAC5B;AAEA,EAAA,IAAI,eAA2C,EAAC,CAAA;AAEhD,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,QAAQ,CAC3C,EAAA,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,eAAe,CAAC,CAAA,CAAA;AAErC,IAAA,IAAI,YAAiB,KAAA,QAAA,IAAa,MAAM,iBAAA,EACxC,EAAA;AACI,MAAA,MAAM,EAAE,cAAA,EAAmB,GAAA,MAAM,gEAA6B,CAAA;AAE9D,MAAgB,aAAA,GAAA,cAAA,CAAA;AAEhB,MAAe,YAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,UAAY,OAAQ,CAAA,MAAA,CAAA,CAAA;AAExC,MAAA,MAAA;AAAA,KACJ,MAAA,IAEI,iBAAiB,OACd,IAAA,gBAAA;AAAA,MAAA,CACC,EAAQ,GAAA,OAAA,CAAA,4BAAA,KAAR,IACO,GAAA,EAAA,GAAA,gBAAA,CAAiB,cAAe,CAAA,4BAAA;AAAA,KAG/C,EAAA;AACI,MAAA,MAAM,EAAE,aAAA,EAAkB,GAAA,MAAM,+DAA2B,CAAA;AAE3D,MAAgB,aAAA,GAAA,aAAA,CAAA;AAEhB,MAAe,YAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,UAAY,OAAQ,CAAA,KAAA,CAAA,CAAA;AAExC,MAAA,MAAA;AAAA,KACJ,MAAA,IACS,iBAAiB,QAC1B,EAAA;AACI,MAAA,YAAA,GAAeA,gBAAK,CAAA,EAAA,EAAA,OAAA,CAAA,CAAA;AAEpB,MAAA,MAAA;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,OAAO,YAAa,CAAA,MAAA,CAAA;AACpB,EAAA,OAAO,YAAa,CAAA,KAAA,CAAA;AAEpB,EAAM,MAAA,QAAA,GAAW,IAAI,aAAc,EAAA,CAAA;AAEnC,EAAM,MAAA,QAAA,CAAS,KAAK,YAAY,CAAA,CAAA;AAEhC,EAAO,OAAA,QAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;AC/CO,MAAM,eAAN,MACP;AAAA,EADO,WAAA,GAAA;AASH;AAAA;AAAA;AAAA;AAAA,IAAO,IAAA,CAAA,KAAA,GAAmB,IAAI,SAAU,EAAA,CAAA;AAAA,GAAA;AAAA;AAAA;AAAA;AAAA,EAWxC,MAAa,KAAK,OAClB,EAAA;AAEI,IAAA,OAAA,GAAUA,gBACH,CAAAA,gBAAA,CAAA,EAAA,EAAA;AAAA;AAAA,KAGA,CAAA,EAAA,OAAA,CAAA,CAAA;AAGP,IAAK,IAAA,CAAA,QAAA,GAAW,MAAM,kBAAA,CAAmB,OAA6B,CAAA,CAAA;AAGtE,IAAY,YAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,CAAC,MAC9B,KAAA;AACI,MAAO,MAAA,CAAA,IAAA,CAAK,IAAK,CAAA,IAAA,EAAM,OAAO,CAAA,CAAA;AAAA,KACjC,CAAA,CAAA;AAAA,GACL;AAAA;AAAA,EAGO,MACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAS,MAAO,CAAA,EAAE,SAAW,EAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAAA,GAClD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,MAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,MAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBO,OAAA,CAAQ,UAA0B,KACzC,EAAA;AAGI,IAAA,MAAM,OAAU,GAAA,YAAA,CAAY,QAAS,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAE5C,IAAA,OAAA,CAAQ,OAAQ,EAAA,CAAA;AAChB,IAAQ,OAAA,CAAA,OAAA,CAAQ,CAAC,MACjB,KAAA;AACI,MAAO,MAAA,CAAA,OAAA,CAAQ,KAAK,IAAI,CAAA,CAAA;AAAA,KAC3B,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,KAAA,CAAM,QAAQ,OAAO,CAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,OAAO,CAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AACJ,CAAA,CAAA;AAlGO,IAAM,WAAN,GAAA,aAAA;AAAA;AAAM,WAAA,CAGK,WAAgC,EAAC,CAAA;AAiGnD,UAAA,CAAW,YAAa,CAAA,aAAA,CAAc,WAAa,EAAA,WAAA,CAAY,QAAQ,CAAA;;AChJhE,MAAM,gBACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBI,WAAA,CAAY,MAAgB,EAAA,OAAA,GAAU,KACtC,EAAA;AACI,IAAA,IAAA,CAAK,OAAU,GAAA,MAAA,CAAA;AACf,IAAA,IAAA,CAAK,aAAa,EAAC,CAAA;AACnB,IAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAClB,IAAA,IAAA,CAAK,cAAiB,GAAA,CAAA,CAAA;AACtB,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AAAA,GACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,IAAI,SACX,EAAA;AACI,IAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,CACnB,KAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,KAAK,CAAC,CAAA,CAAA;AAAA,KACzB,CAAA,CAAA;AAED,IAAA,IAAI,KAAK,OACT,EAAA;AAEI,MAAQ,OAAA,CAAA,GAAA,CAAI,6BAA+B,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAAA,KAC9D;AAEA,IAAA,IAAI,IAAK,CAAA,SAAA,IAAa,CAAC,IAAA,CAAK,UAC5B,EAAA;AACI,MAAA,KAAK,KAAK,KAAM,EAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAc,KACd,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,UAAA,CAAW,MAAU,IAAA,IAAA,CAAK,SACnC,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,MAAA,MAAM,SAAS,EAAC,CAAA;AAEhB,MAAA,MAAM,eAAe,IAAK,CAAA,GAAA,CAAI,KAAK,UAAW,CAAA,MAAA,EAAQ,KAAK,cAAc,CAAA,CAAA;AAEzE,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,EAAc,CAClC,EAAA,EAAA;AACI,QAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,UAAW,CAAA,GAAA,EAAK,CAAA,CAAA;AAAA,OACrC;AAEA,MAAM,MAAA,IAAA,CAAK,OAAQ,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAE9B,MAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAElB,MAAA,KAAK,KAAK,KAAM,EAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,KAAK,SAAc,KAAA,KAAA;AAAO,MAAA,OAAA;AAE9B,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAEjB,IAAI,IAAA,KAAA,IAAS,CAAC,IAAA,CAAK,UACnB,EAAA;AACI,MAAA,KAAK,KAAK,KAAM,EAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AACJ;;;;;;;;;;;;;;;;;;;;;ACxFO,MAAM,MACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAA,IAAA,CAAiB,WAA2B,EAAC,CAAA;AAG7C,IAAA,IAAA,CAAQ,iBAAoB,GAAA,KAAA,CAAA;AAG5B;AAAA,IAAA,IAAA,CAAO,OAAU,GAAA,IAAI,KAAM,CAAA,IAAA,CAAK,QAAU,EAAA;AAAA,MACtC,GAAK,EAAA,CAAC,MAAQ,EAAA,GAAA,EAAK,KACnB,KAAA;AACI,QAAA,IAAA,CAAK,iBAAoB,GAAA,KAAA,CAAA;AAEzB,QAAA,MAAA,CAAO,GAAoB,CAAI,GAAA,KAAA,CAAA;AAE/B,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACH,CAAA,CAAA;AAGD;AAAA,IAAA,IAAA,CAAO,eAAiD,EAAC,CAAA;AAAA,GAAA;AAAA;AAAA,EAGlD,KACP,GAAA;AACI,IAAA,IAAA,CAAK,iBAAoB,GAAA,KAAA,CAAA;AACzB,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,wBAAA,CAAyB,KAAa,IAC9C,EAAA;AACI,IAAA,MAAM,MAA2B,GAAA;AAAA,MAC7B,OAAS,EAAA,IAAA;AAAA,MACT,MAAQ,EAAA,IAAA;AAAA,KACZ,CAAA;AAEA,IAAA,MAAA,CAAO,WAAW,YAClB;AA7DR,MAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA8DY,MAAA,IAAI,KAAQ,GAAA,IAAA,CAAA;AAEZ,MAAA,IAAI,MAAuB,GAAA,IAAA,CAAA;AAG3B,MAAA,IAAI,KAAK,UACT,EAAA;AAEI,QAAS,MAAA,GAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAEzC,QAAA,IAAI,CAAC,MACL,EAAA;AAGI,UAAK,IAAA,CAAA,CAAA,gCAAA,EAAmC,IAAK,CAAA,UAAA,CAAA,0BAAA,EAAuC,GAAK,CAAA,CAAA,CAAA,CAAA;AAAA,SAE7F;AAAA,OACJ;AAGA,MAAA,IAAI,CAAC,MACL,EAAA;AACI,QAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,UAAM,MAAA,OAAA,GAAU,IAAK,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAE9B,UAAA,IAAI,QAAQ,IAAQ,KAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,IAAe,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,OAAA,EAAA,GAAA,EAAK,MAAM,IAC9C,CAAA,CAAA,EAAA;AACI,YAAS,MAAA,GAAA,OAAA,CAAA;AACT,YAAA,MAAA;AAAA,WACJ;AAAA,SACJ;AAEA,QAAA,IAAI,CAAC,MACL,EAAA;AAGI,UAAA,IAAA,CAAK,YAAY,GAAoG,CAAA,+FAAA,CAAA,CAAA,CAAA;AAGrH,UAAO,OAAA,IAAA,CAAA;AAAA,SACX;AAAA,OACJ;AAEA,MAAA,KAAA,GAAQ,MAAM,MAAA,CAAO,IAAK,CAAA,GAAA,EAAK,MAAM,IAAI,CAAA,CAAA;AACzC,MAAA,MAAA,CAAO,MAAS,GAAA,MAAA,CAAA;AAEhB,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,QAAMoC,MAAAA,OAAAA,GAAS,IAAK,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAE7B,QAAA,IAAIA,QAAO,KACX,EAAA;AACI,UAAIA,IAAAA,OAAAA,CAAO,KAAS,IAAA,OAAA,CAAM,EAAAA,GAAAA,OAAAA,CAAO,cAAP,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAAA,IAAAA,CAAAA,OAAAA,EAAmB,KAAO,EAAA,IAAA,EAAM,IAC1D,CAAA,CAAA,EAAA;AAEI,YAAA,KAAA,GAAQ,MAAMA,OAAO,CAAA,KAAA,CAAM,KAAO,EAAA,IAAA,EAAM,IAAI,CAAK,IAAA,KAAA,CAAA;AAEjD,YAAA,MAAA,CAAO,MAASA,GAAAA,OAAAA,CAAAA;AAAA,WACpB;AAAA,SACJ;AAAA,OACJ;AAEA,MAAO,OAAA,KAAA,CAAA;AAAA,KACR,GAAA,CAAA;AAEH,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EA0BA,MAAa,IACT,CAAA,cAAA,EACA,UAEJ,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,iBACV,EAAA;AACI,MAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,IAAA,MAAM,SAAuC,EAAC,CAAA;AAE9C,IAAM,MAAA,WAAA,GAAc,aAAa,cAAc,CAAA,CAAA;AAE/C,IAAA,MAAM,YAAe,GAAA,aAAA,CAA6B,cAAgB,EAAA,CAAC,IAAU,MAAA;AAAA,MACzE,KAAA,EAAO,CAAC,IAAI,CAAA;AAAA,MACZ,GAAK,EAAA,IAAA;AAAA,KACP,CAAA,CAAA,CAAA;AAEF,IAAA,MAAM,QAAQ,YAAa,CAAA,MAAA,CAAA;AAE3B,IAAA,MAAM,QAA4B,GAAA,YAAA,CAAa,GAAI,CAAA,OAAO,KAC1D,KAAA;AACI,MAAA,MAAM,GAAM,GAAA,IAAA,CAAK,UAAW,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAErC,MAAA,IAAI,CAAC,MAAA,CAAO,KAAM,CAAA,GAAG,CACrB,EAAA;AACI,QACA,IAAA;AACI,UAAA,IAAI,CAAC,IAAA,CAAK,YAAa,CAAA,GAAG,CAC1B,EAAA;AACI,YAAA,IAAA,CAAK,aAAa,GAAG,CAAA,GAAI,IAAK,CAAA,wBAAA,CAAyB,KAAK,KAAK,CAAA,CAAA;AAAA,WACrE;AAEA,UAAA,MAAA,CAAO,MAAM,GAAG,CAAA,GAAI,MAAM,IAAK,CAAA,YAAA,CAAa,GAAG,CAAE,CAAA,OAAA,CAAA;AAGjD,UAAI,IAAA,UAAA;AAAY,YAAW,UAAA,CAAA,EAAE,QAAQ,KAAK,CAAA,CAAA;AAAA,iBAEvC,CAAP,EAAA;AAII,UAAO,OAAA,IAAA,CAAK,aAAa,GAAG,CAAA,CAAA;AAC5B,UAAO,OAAA,MAAA,CAAO,MAAM,GAAG,CAAA,CAAA;AAGvB,UAAM,MAAA,IAAI,MAAM,CAAgC,6BAAA,EAAA,GAAA,CAAA;AAAA,EAAS,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,SAChE;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,OAAA,CAAQ,IAAI,QAAQ,CAAA,CAAA;AAE1B,IAAA,OAAO,cAAc,MAAO,CAAA,YAAA,CAAa,CAAC,CAAA,CAAE,GAAG,CAAI,GAAA,MAAA,CAAA;AAAA,GACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA,MAAa,OACT,gBAEJ,EAAA;AACI,IAAA,MAAM,cAAiB,GAAA,aAAA,CAA6B,gBAAkB,EAAA,CAAC,IAAU,MAAA;AAAA,MAC7E,KAAA,EAAO,CAAC,IAAI,CAAA;AAAA,MACZ,GAAK,EAAA,IAAA;AAAA,KACP,CAAA,CAAA,CAAA;AAEF,IAAA,MAAM,QAA4B,GAAA,cAAA,CAAe,GAAI,CAAA,OAAO,KAC5D,KAAA;AA5OR,MAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA6OY,MAAA,MAAM,GAAM,GAAA,IAAA,CAAK,UAAW,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAErC,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,YAAA,CAAa,GAAG,CAAA,CAAA;AAEzC,MAAA,IAAI,WACJ,EAAA;AACI,QAAM,MAAA,WAAA,GAAc,MAAM,WAAY,CAAA,OAAA,CAAA;AAEtC,QAAO,OAAA,IAAA,CAAK,aAAa,GAAG,CAAA,CAAA;AAE5B,QAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,WAAA,CAAY,MAAZ,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAoB,MAApB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAA6B,aAAa,KAAO,EAAA,IAAA,CAAA,CAAA;AAAA,OACrD;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,OAAA,CAAQ,IAAI,QAAQ,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA,EAGQ,gBACR,GAAA;AACI,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAK,QACnB,CAAA,MAAA,CAAO,CAAC,MAAA,KAAW,MAAO,CAAA,IAAI,CAC9B,CAAA,MAAA,CAAO,CAAC,IAAA,EAAM,MACf,KAAA;AACI,MAAI,IAAA,CAAC,OAAO,IACZ,EAAA;AAEI,QAAA,IAAA,CAAK,CAAwC,sCAAA,CAAA,CAAA,CAAA;AAAA,OAGxC,MAAA,IAAA,IAAA,CAAK,MAAO,CAAA,IAAI,CACzB,EAAA;AAEI,QAAK,IAAA,CAAA,CAAA,mCAAA,EAAsC,OAAO,IAAO,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,OAE7D;AAEA,MAAA,OAAOrC,qCAAK,IAAL,CAAA,EAAA,EAAW,CAAC,MAAO,CAAA,IAAI,GAAG,MAAO,EAAA,CAAA,CAAA;AAAA,KAC5C,EAAG,EAAkC,CAAA,CAAA;AAAA,GAC7C;AACJ;;ACjEO,MAAM,WACb,CAAA;AAAA,EAkBI,WACA,GAAA;AALA,IAAA,IAAA,CAAiB,cAAuC,EAAC,CAAA;AAEzD,IAAA,IAAA,CAAQ,YAAe,GAAA,KAAA,CAAA;AAInB,IAAK,IAAA,CAAA,QAAA,GAAW,IAAI,QAAS,EAAA,CAAA;AAC7B,IAAK,IAAA,CAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AACzB,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAEb,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAI,gBAAiB,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AACzD,IAAA,IAAA,CAAK,kBAAkB,MAAS,GAAA,IAAA,CAAA;AAEhC,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,GACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAa,IAAA,CAAK,OAA4B,GAAA,EAC9C,EAAA;AA7PJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA8PQ,IAAA,IAAI,KAAK,YACT,EAAA;AAEI,MAAA,IAAA,CAAK,0FAA0F,CAAA,CAAA;AAG/F,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAEpB,IAAA,IAAI,QAAQ,mBACZ,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,sBAAuB,CAAA,OAAA,CAAQ,mBAAmB,CAAA,CAAA;AAAA,KACpE;AAEA,IAAA,IAAI,QAAQ,QACZ,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,WAAW,OAAQ,CAAA,QAAA,CAAA;AAAA,KACrC;AAEA,IAAA,IAAI,QAAQ,gBACZ,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,mBAAoB,CAAA,OAAA,CAAQ,gBAAgB,CAAA,CAAA;AAAA,KAC9D;AAEA,IAAA,IAAI,QAAQ,QACZ,EAAA;AACI,MAAA,IAAI,WAAW,OAAQ,CAAA,QAAA,CAAA;AAEvB,MAAI,IAAA,OAAO,aAAa,QACxB,EAAA;AACI,QAAW,QAAA,GAAA,MAAM,IAAK,CAAA,IAAA,CAAqB,QAAQ,CAAA,CAAA;AAAA,OACvD;AAEA,MAAK,IAAA,CAAA,QAAA,CAAS,YAAY,QAAQ,CAAA,CAAA;AAAA,KACtC;AAEA,IAAA,MAAM,cAAiB,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,iBAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA2B,eAA3B,IAAyC,GAAA,EAAA,GAAA,CAAA,CAAA;AAChE,IAAA,MAAM,aAAc,OAAO,cAAA,KAAmB,QAAY,GAAA,CAAC,cAAc,CAAI,GAAA,cAAA,CAAA;AAE7E,IAAM,MAAA,OAAA,GAAU,MAAM,IAAA,CAAK,cAAe,CAAA;AAAA,MACtC,gBAAA,EAAA,CAAkB,EAAQ,GAAA,OAAA,CAAA,iBAAA,KAAR,IAA2B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAA;AAAA,MAC7C,gBAAgB,OAAQ,CAAA,cAAA;AAAA,MACxB,YAAY,IAAK,CAAA,WAAA;AAAA,KACpB,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,SAAS,MAAO,CAAA;AAAA,MACjB,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,OAAA;AAAA,QACR,UAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAI,QAAQ,WACZ,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,QAAQ,WAAW,CAAA,CAAA;AAAA,KAC3C;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0CO,IAAI,MACX,EAAA;AACI,IAAK,IAAA,CAAA,QAAA,CAAS,IAAI,MAAM,CAAA,CAAA;AAAA,GAC5B;AAAA,EAkCA,MAAa,IACT,CAAA,IAAA,EACA,UAEJ,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAM,MAAA,WAAA,GAAc,aAAa,IAAI,CAAA,CAAA;AAErC,IAAA,MAAM,WAAqB,aAAwC,CAAA,IAAI,CAClE,CAAA,GAAA,CAAI,CAAC,GACN,KAAA;AACI,MAAI,IAAA,OAAO,QAAQ,QACnB,EAAA;AACI,QAAA,MAAM,OAAU,GAAA,IAAA,CAAK,QAAS,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAE1C,QAAI,IAAA,OAAA,CAAQ,IAAK,CAAA,CAAC,KAAU,KAAA,CAAC,KAAK,QAAS,CAAA,MAAA,CAAO,KAAK,CAAC,CACxD,EAAA;AACI,UAAA,IAAA,CAAK,IAAI,GAAG,CAAA,CAAA;AAAA,SAChB;AAEA,QAAA,OAAO,MAAM,OAAQ,CAAA,OAAO,CAAI,GAAA,OAAA,CAAQ,CAAC,CAAI,GAAA,OAAA,CAAA;AAAA,OACjD;AAGA,MAAA,IAAI,CAAC,IAAA,CAAK,QAAS,CAAA,MAAA,CAAO,GAAG,CAAA;AAAG,QAAA,IAAA,CAAK,IAAI,EAAE,KAAA,EAAO,GAAK,EAAA,GAAA,EAAK,KAAK,CAAA,CAAA;AAEjE,MAAO,OAAA,GAAA,CAAA;AAAA,KACV,CAAA,CAAA;AAGL,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,QAAQ,CAAA,CAAA;AAGrD,IAAA,MAAM,GAAyB,GAAA,MAAM,IAAK,CAAA,iBAAA,CAAqB,gBAAgB,UAAU,CAAA,CAAA;AAEzF,IAAA,OAAO,WAAc,GAAA,GAAA,CAAI,QAAS,CAAA,CAAC,CAAW,CAAI,GAAA,GAAA,CAAA;AAAA,GACtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBO,SAAA,CAAU,UAAkB,MACnC,EAAA;AACI,IAAK,IAAA,CAAA,QAAA,CAAS,SAAU,CAAA,QAAA,EAAU,MAAM,CAAA,CAAA;AAAA,GAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsDA,MAAa,UAAW,CAAA,SAAA,EAA4B,UACpD,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,IAAI,WAAc,GAAA,KAAA,CAAA;AAElB,IAAI,IAAA,OAAO,cAAc,QACzB,EAAA;AACI,MAAc,WAAA,GAAA,IAAA,CAAA;AACd,MAAA,SAAA,GAAY,CAAC,SAAS,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,aAAA,CAAc,SAAS,CAAA,CAAA;AAE5D,IAAA,MAAM,MAA2C,EAAC,CAAA;AAElD,IAAM,MAAA,IAAA,GAAO,MAAO,CAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AACvC,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,MAAM,cAAc,MACpB;AACI,MAAA,UAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,UAAA,CAAa,EAAE,KAAQ,GAAA,KAAA,CAAA,CAAA;AAAA,KAC3B,CAAA;AACA,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,GAAI,CAAA,CAAC,QAC3B,KAAA;AACI,MAAM,MAAA,aAAA,GAAgB,eAAe,QAAQ,CAAA,CAAA;AAE7C,MAAS,KAAA,IAAA,MAAA,CAAO,IAAK,CAAA,aAAa,CAAE,CAAA,MAAA,CAAA;AAEpC,MAAA,OAAO,KAAK,iBAAkB,CAAA,aAAA,EAAe,WAAW,CACnD,CAAA,IAAA,CAAK,CAACsC,cACP,KAAA;AACI,QAAA,GAAA,CAAI,QAAQ,CAAIA,GAAAA,cAAAA,CAAAA;AAAA,OACnB,CAAA,CAAA;AAAA,KACR,CAAA,CAAA;AAED,IAAM,MAAA,OAAA,CAAQ,IAAI,QAAQ,CAAA,CAAA;AAE1B,IAAA,OAAO,WAAc,GAAA,GAAA,CAAI,SAAU,CAAA,CAAC,CAAC,CAAI,GAAA,GAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBA,MAAa,eAAe,IAC5B,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAA,IAAA,GAAO,CAAC,IAAI,CAAA,CAAA;AAAA,KAChB;AAEA,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAEjD,IAAA,IAAA,CAAK,iBAAkB,CAAA,GAAA,CAAI,MAAO,CAAA,MAAA,CAAO,cAAc,CAAC,CAAA,CAAA;AAAA,GAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0BA,MAAa,qBAAqB,SAClC,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAI,IAAA,OAAO,cAAc,QACzB,EAAA;AACI,MAAA,SAAA,GAAY,CAAC,SAAS,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,aAAA,CAAc,SAAS,CAAA,CAAA;AAE5D,IAAA,MAAA,CAAO,MAAO,CAAA,cAAc,CAAE,CAAA,OAAA,CAAQ,CAAC,aACvC,KAAA;AACI,MAAA,IAAA,CAAK,iBAAkB,CAAA,GAAA,CAAI,MAAO,CAAA,MAAA,CAAO,aAAa,CAAC,CAAA,CAAA;AAAA,KAC1D,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAS,KAAM,EAAA,CAAA;AACpB,IAAA,IAAA,CAAK,OAAO,KAAM,EAAA,CAAA;AAClB,IAAA,IAAA,CAAK,MAAM,KAAM,EAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAWO,IAAa,IACpB,EAAA;AACI,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAO,OAAA,KAAA,CAAM,IAAI,IAAI,CAAA,CAAA;AAAA,KACzB;AAEA,IAAA,MAAM,SAA4B,EAAC,CAAA;AAEnC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAA,MAAA,CAAO,CAAC,CAAI,GAAA,KAAA,CAAM,GAAI,CAAA,IAAA,CAAK,CAAC,CAAC,CAAA,CAAA;AAAA,KACjC;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAc,iBACV,CAAA,cAAA,EACA,UAEJ,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,MAAO,CAAA,MAAA,CAAO,cAAc,CAAA,CAAA;AACjD,IAAM,MAAA,WAAA,GAAc,MAAO,CAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AAG9C,IAAA,IAAA,CAAK,kBAAkB,MAAS,GAAA,KAAA,CAAA;AAEhC,IAAA,MAAM,eAAe,MAAM,IAAA,CAAK,MAAO,CAAA,IAAA,CAAQ,cAAc,UAAU,CAAA,CAAA;AAGvE,IAAA,IAAA,CAAK,kBAAkB,MAAS,GAAA,IAAA,CAAA;AAIhC,IAAA,MAAM,MAAyB,EAAC,CAAA;AAEhC,IAAa,YAAA,CAAA,OAAA,CAAQ,CAAC,aAAA,EAAe,CACrC,KAAA;AACI,MAAM,MAAA,KAAA,GAAQ,YAAa,CAAA,aAAA,CAAc,GAAG,CAAA,CAAA;AAE5C,MAAM,MAAA,IAAA,GAAO,CAAC,aAAA,CAAc,GAAG,CAAA,CAAA;AAE/B,MAAA,IAAI,cAAc,KAClB,EAAA;AACI,QAAK,IAAA,CAAA,IAAA,CAAK,GAAG,aAAA,CAAc,KAAK,CAAA,CAAA;AAAA,OACpC;AAEA,MAAI,GAAA,CAAA,WAAA,CAAY,CAAC,CAAC,CAAI,GAAA,KAAA,CAAA;AAEtB,MAAM,KAAA,CAAA,GAAA,CAAI,MAAM,KAAK,CAAA,CAAA;AAAA,KACxB,CAAA,CAAA;AAED,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBA,MAAa,OACT,IAEJ,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,MAAM,QAAW,GAAA,aAAA,CAAsC,IAAI,CAAA,CACtD,GAAI,CAAA,CAAC,GACA,KAAA,OAAO,GAAQ,KAAA,QAAA,GAAY,GAAI,CAAA,GAAA,GAAM,GAAI,CAAA,CAAA;AAGnD,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,QAAQ,CAAA,CAAA;AAErD,IAAM,MAAA,IAAA,CAAK,oBAAoB,cAAc,CAAA,CAAA;AAAA,GACjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBA,MAAa,aAAa,SAC1B,EAAA;AACI,IAAI,IAAA,CAAC,KAAK,YACV,EAAA;AACI,MAAA,MAAM,KAAK,IAAK,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,SAAA,GAAY,cAAsB,SAAS,CAAA,CAAA;AAE3C,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,QAAS,CAAA,aAAA,CAAc,SAAS,CAAA,CAAA;AAE5D,IAAA,MAAM,QAAW,GAAA,MAAA,CAAO,IAAK,CAAA,cAAc,CAAE,CAAA,GAAA,CAAI,CAAC,QAAA,KAC9C,IAAK,CAAA,mBAAA,CAAoB,cAAe,CAAA,QAAQ,CAAC,CAAC,CAAA,CAAA;AAEtD,IAAM,MAAA,OAAA,CAAQ,IAAI,QAAQ,CAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,MAAc,oBAAoB,aAClC,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,MAAO,CAAA,MAAA,CAAO,aAAa,CAAA,CAAA;AAEhD,IAAa,YAAA,CAAA,OAAA,CAAQ,CAACA,cACtB,KAAA;AACI,MAAM,KAAA,CAAA,MAAA,CAAOA,eAAc,GAAG,CAAA,CAAA;AAAA,KACjC,CAAA,CAAA;AAED,IAAM,MAAA,IAAA,CAAK,MAAO,CAAA,MAAA,CAAO,YAAY,CAAA,CAAA;AAAA,GACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,MAAc,eAAe,OAK7B,EAAA;AACI,IAAA,IAAI,UAAoB,EAAC,CAAA;AAGzB,IAAA,IAAI,QAAQ,gBACZ,EAAA;AACI,MAAU,OAAA,GAAA,KAAA,CAAM,QAAQ,OAAQ,CAAA,gBAAgB,IAC1C,OAAQ,CAAA,gBAAA,GAAmB,CAAC,OAAA,CAAQ,gBAAgB,CAAA,CAAA;AAAA,KAC9D;AAGA,IAAW,KAAA,MAAA,SAAA,IAAa,QAAQ,UAChC,EAAA;AACI,MAAA,IAAI,OAAQ,CAAA,cAAA,IAAkB,MAAM,SAAA,CAAU,MAC9C,EAAA;AACI,QAAU,OAAA,GAAA,MAAM,SAAU,CAAA,GAAA,CAAI,OAAO,CAAA,CAAA;AAAA,OACzC,MAAA,IACS,CAAC,OAAA,CAAQ,cAClB,EAAA;AACI,QAAU,OAAA,GAAA,MAAM,SAAU,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAAA,OAC5C;AAAA,KACJ;AAGA,IAAU,OAAA,GAAA,OAAA,CAAQ,OAAO,CAAC,MAAA,EAAQ,UAAU,OAAQ,CAAA,OAAA,CAAQ,MAAM,CAAA,KAAM,KAAK,CAAA,CAAA;AAE7E,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGA,IAAW,UACX,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,eAAe,WACtB,EAAA;AAGI,IAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAQ,OAAQ,CAAA,CAAC,MAC7B,KAAA;AACI,MAAA,IAAI,CAAC,MAAO,CAAA,MAAA;AAAQ,QAAA,OAAA;AAEpB,MAAC,MAAO,CAAA,IAAA,CAAK,MAAO,CAAA,MAAM,CACrB,CAAA,MAAA,CAAO,CAAC,GAAA,KAAQ,GAAO,IAAA,WAAW,CAClC,CAAA,OAAA,CAAQ,CAAC,GACV,KAAA;AACI,QAAA,MAAA,CAAO,MAAO,CAAA,GAAG,CAAI,GAAA,WAAA,CAAY,GAAG,CAAA,CAAA;AAAA,OACvC,CAAA,CAAA;AAAA,KACR,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAEa,MAAA,MAAA,GAAS,IAAI,WAAY,GAAA;AAGtC,UACK,CAAA,YAAA,CAAa,aAAc,CAAA,UAAA,EAAY,MAAO,CAAA,MAAA,CAAO,OAAO,CAC5D,CAAA,YAAA,CAAa,aAAc,CAAA,aAAA,EAAe,MAAO,CAAA,QAAA,CAAS,OAAO,CACjE,CAAA,YAAA,CAAa,aAAc,CAAA,WAAA,EAAa,MAAO,CAAA,KAAA,CAAM,OAAO,CAAA,CAC5D,YAAa,CAAA,aAAA,CAAc,eAAiB,EAAA,MAAA,CAAO,UAAU,CAAA;;AC51BlD,SAAA,eAAA,CACZ,GACA,EAAA,OAAA,EACA,UAEJ,EAAA;AACI,EAAA,MAAM,qBAAwB,GAAA,UAAA,GAAa,OAAQ,CAAA,6BAAA,GAAgC,OAAQ,CAAA,2BAAA,CAAA;AAE3F,EAAA,IAAI,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,CAAC,MAAM,WAC5B,EAAA;AAEI,IAAA,IAAI,SAAY,GAAA,UAAA,GAAa,OAAQ,CAAA,0BAAA,GAA6B,OAAQ,CAAA,wBAAA,CAAA;AAG1E,IAAI,IAAA,SAAA,KAAc,OAAW,IAAA,qBAAA,KAA0B,OACvD,EAAA;AACI,MAAY,SAAA,GAAA,SAAA,CAAA;AAAA,KAChB;AAEA,IAAA,IAAI,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,CAAC,MAAM,UAC5B,EAAA;AACI,MAAA,OAAO,CAAa,UAAA,EAAA,SAAA,CAAA;AAAA,EAAqB,GAAA,CAAA,CAAA,CAAA;AAAA,KAC7C;AAGA,IAAM,MAAA,cAAA,GAAiB,GAAI,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAGvC,IAAA,OAAO,GAAG,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,cAAA,GAAiB,CAAC,CAAc,CAAA,UAAA,EAAA,SAAA,CAAA;AAAA,EAAqB,GAAA,CAAI,SAAU,CAAA,cAAA,GAAiB,CAAC,CAAA,CAAA,CAAA,CAAA;AAAA,GACpH,MAAA,IACS,0BAA0B,OAAW,IAAA,GAAA,CAAI,UAAU,CAAG,EAAA,EAAE,MAAM,iBACvE,EAAA;AAEI,IAAO,OAAA,GAAA,CAAI,OAAQ,CAAA,iBAAA,EAAmB,mBAAmB,CAAA,CAAA;AAAA,GAC7D;AAEA,EAAO,OAAA,GAAA,CAAA;AACX;;ACxDA,MAAM,iBAAiB,EAAC,CAAA;AACxB,IAAI,OAA0D,GAAA,cAAA,CAAA;AAQvD,SAAS,cAChB,GAAA;AACI,EAAI,IAAA,OAAA,KAAY,cAAkB,KAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,aAC3C,EAAA,CAAA,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,IAAA,OAAA,GAAU,MAAO,CAAA,UAAA,CAAW,QAAU,EAAA,EAAE,CAAA,CAAA;AAAA,GAC5C;AAEA,EAAO,OAAA,OAAA,CAAA;AACX;;ACjBA,IAAI,oBAAA,CAAA;AAEG,SAAS,uBAChB,GAAA;AACI,EAAA,IAAI,CAAC,oBACL,EAAA;AACI,IAAuB,oBAAA,GAAA,SAAA,CAAA;AACvB,IAAA,MAAM,KAAK,cAAe,EAAA,CAAA;AAE1B,IAAA,IAAI,EACJ,EAAA;AACI,MAAA,IAAI,GAAG,wBACP,EAAA;AACI,QAAA,MAAM,iBAAiB,EAAG,CAAA,wBAAA,CAAyB,EAAG,CAAA,eAAA,EAAiB,GAAG,UAAU,CAAA,CAAA;AAEpF,QAAuB,oBAAA,GAAA,cAAA,CAAe,YAAY,OAAU,GAAA,SAAA,CAAA;AAAA,OAChE;AAAA,KACJ;AAAA,GACJ;AAEA,EAAO,OAAA,oBAAA,CAAA;AACX;;ACzBA,MAAM,oBAA+C,EAAC,CAAA;AACtD,MAAM,kBAA6C,EAAC,CAAA;AAE7C,SAAS,eAAe,GAAa,EAAA,EAAE,OAAO,CAAe,YAAA,CAAA,EAAA,EAAsB,aAAa,IACvG,EAAA;AACI,EAAO,IAAA,GAAA,IAAA,CAAK,OAAQ,CAAA,MAAA,EAAQ,GAAG,CAAA,CAAA;AAE/B,EAAA,IAAA,IAAQ,aAAa,WAAc,GAAA,SAAA,CAAA;AAEnC,EAAM,MAAA,SAAA,GAAY,aAAa,iBAAoB,GAAA,eAAA,CAAA;AAEnD,EAAI,IAAA,SAAA,CAAU,IAAI,CAClB,EAAA;AACI,IAAA,SAAA,CAAU,IAAI,CAAA,EAAA,CAAA;AACd,IAAQ,IAAA,IAAA,CAAA,CAAA,EAAI,UAAU,IAAI,CAAA,CAAA,CAAA,CAAA;AAAA,GAG9B,MAAA;AACI,IAAA,SAAA,CAAU,IAAI,CAAI,GAAA,CAAA,CAAA;AAAA,GACtB;AAGA,EAAI,IAAA,GAAA,CAAI,OAAQ,CAAA,qBAAqB,CAAM,KAAA,CAAA,CAAA;AAAI,IAAO,OAAA,GAAA,CAAA;AAEtD,EAAA,MAAM,aAAa,CAAuB,oBAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAE1C,EAAA,IAAI,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,CAAC,MAAM,UAC5B,EAAA;AACI,IAAA,OAAO,CAAG,EAAA,UAAA,CAAA;AAAA,EAAe,GAAA,CAAA,CAAA,CAAA;AAAA,GAC7B;AAGA,EAAM,MAAA,cAAA,GAAiB,GAAI,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAGvC,EAAA,OAAO,GAAG,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,cAAA,GAAiB,CAAC,CAAI,CAAA,EAAA,UAAA,CAAA;AAAA,EAAe,GAAA,CAAI,SAAU,CAAA,cAAA,GAAiB,CAAC,CAAA,CAAA,CAAA,CAAA;AACpG;;ACpCO,SAAS,iBAAkB,CAAA,GAAA,EAAa,EAAE,OAAA,GAAU,UAC3D,EAAA;AACI,EAAA,IAAI,GAAI,CAAA,SAAA,CAAU,CAAG,EAAA,CAAC,CAAM,KAAA,UAAA;AAAY,IAAO,OAAA,GAAA,CAAA;AAE/C,EAAA,OAAO,CAAY,SAAA,EAAA,OAAA,CAAA;AAAA,EAAY,GAAA,CAAA,CAAA,CAAA;AACnC;;;;;;;;;;;;;;;;;;ACwCA,MAAM,SAA8F,GAAA;AAAA,EAChG,eAAA;AAAA,EACA,cAAA;AAAA,EACA,iBAAA;AACJ,CAAA,CAAA;AAEO,MAAM,aAAN,MACP;AAAA,EAiBI,YAAY,OACZ,EAAA;AACI,IAAU,OAAA,GAAArC,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,WAAU,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAE5C,IAAA,MAAM,mBAAsB,GAAA;AAAA,MACxB,eAAiB,EAAA;AAAA,QACb,4BAA4B,OAAQ,CAAA,0BAAA;AAAA,QACpC,0BAA0B,OAAQ,CAAA,wBAAA;AAAA,QAClC,2BAA6B,EAAA,OAAA;AAAA,QAC7B,+BAA+B,uBAAwB,EAAA;AAAA,OAC3D;AAAA,MACA,cAAgB,EAAA;AAAA,QACZ,MAAM,OAAQ,CAAA,IAAA;AAAA,OAClB;AAAA,MACA,iBAAmB,EAAA;AAAA,QACf,OAAS,EAAA,QAAA;AAAA,OACb;AAAA,KACJ,CAAA;AAEA,IAAA,IAAI,WAAW,OAAQ,CAAA,QAAA,CAAA;AACvB,IAAA,IAAI,SAAS,OAAQ,CAAA,MAAA,CAAA;AAErB,IAAA,MAAA,CAAO,IAAK,CAAA,SAAS,CAAE,CAAA,OAAA,CAAQ,CAAC,UAChC,KAAA;AA5FR,MAAA,IAAA,EAAA,CAAA;AA6FY,MAAA,MAAM,cAAiB,GAAA,CAAA,EAAA,GAAA,mBAAA,CAAoB,UAA8C,CAAA,KAAlE,YAAuE,EAAC,CAAA;AAE/F,MAAA,QAAA,GAAW,SAAU,CAAA,UAAU,CAAE,CAAA,QAAA,EAAU,gBAAgB,IAAI,CAAA,CAAA;AAC/D,MAAA,MAAA,GAAS,SAAU,CAAA,UAAU,CAAE,CAAA,MAAA,EAAQ,gBAAgB,KAAK,CAAA,CAAA;AAAA,KAC/D,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAEd,IAAA,IAAA,CAAK,GAAM,GAAA,CAAA,EAAG,IAAK,CAAA,MAAA,CAAA,CAAA,EAAU,IAAK,CAAA,QAAA,CAAA,CAAA,CAAA;AAAA,GACtC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AAExB,IAAA,IAAA,CAAK,yBAA4B,GAAA,IAAA,CAAA;AAAA,GACrC;AAAA,EAGA,OAAc,KAAK,OACnB,EAAA;AACI,IAAA,MAAM,GAAM,GAAA,CAAA,EAAG,OAAQ,CAAA,MAAA,CAAA,CAAA,EAAU,OAAQ,CAAA,QAAA,CAAA,CAAA,CAAA;AAEzC,IAAA,IAAI,CAAC,UAAA,CAAU,aAAc,CAAA,GAAG,CAChC,EAAA;AACI,MAAA,UAAA,CAAU,aAAc,CAAA,GAAG,CAAI,GAAA,IAAI,WAAU,OAAO,CAAA,CAAA;AAAA,KACxD;AAEA,IAAO,OAAA,UAAA,CAAU,cAAc,GAAG,CAAA,CAAA;AAAA,GACtC;AACJ,CAAA,CAAA;AA9EO,IAAM,SAAN,GAAA,WAAA;AAAM,SAAA,CAEK,cAAmC,GAAA;AAAA,EAC7C,wBAA0B,EAAA,OAAA;AAAA,EAC1B,0BAA4B,EAAA,SAAA;AAChC,CAAA,CAAA;AALS,SAkEK,CAAA,aAAA,mBAAkD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA;;ACtGxE,SAAS,uBAAuB,IACvC,EAAA;AAhBA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAkBI,EAAM,MAAA,WAAA,GAAc,IAAC,MAAA,CAAA,+CAAA,EAAyC,GAAC,CAAA,CAAA;AAC/D,EAAA,MAAM,YAAe,GAAA,iBAAA,CAAA;AACrB,EAAA,MAAM,cAAiB,GAAA,mBAAA,CAAA;AACvB,EAAA,MAAM,WAAc,GAAA,qBAAA,CAAA;AACpB,EAAA,MAAM,WAAc,GAAA,WAAA,CAAA;AACpB,EAAA,MAAM,aAAgB,GAAA,6BAAA,CAAA;AACtB,EAAA,MAAM,mBAAsB,GAAA,0BAAA,CAAA;AAC5B,EAAA,MAAM,UAAa,GAAA,gBAAA,CAAA;AAGnB,EAAM,MAAA,MAAA,GAAA,CAAS,UAAK,KAAM,CAAA,WAAW,MAAtB,IAAyB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAA,CAAI,CAAC,IAAU,MAAA;AAAA,IACnD,KAAA,EAAO,SAAS,IAAK,CAAA,KAAA,CAAM,YAAY,CAAE,CAAA,CAAC,GAAG,EAAE,CAAA;AAAA,IAC/C,OAAA,EAAS,SAAS,IAAK,CAAA,KAAA,CAAM,cAAc,CAAE,CAAA,CAAC,GAAG,EAAE,CAAA;AAAA,IACnD,IAAM,EAAA,IAAA,CAAK,KAAM,CAAA,WAAW,EAAE,CAAC,CAAA;AAAA,IAC/B,WAAW,IAAK,CAAA,KAAA,CAAM,WAAW,CAAA,CAAE,CAAC,CAAM,KAAA,WAAA;AAAA,IAC1C,IAAM,EAAA,IAAA,CAAK,KAAM,CAAA,WAAW,EAAE,CAAC,CAAA;AAAA,GACnC,CAAA,CAAA,CAAA;AAEA,EAAA,IAAI,CAAC,MACL,EAAA;AACI,IAAO,OAAA;AAAA,MACH,QAAQ,EAAC;AAAA,MACT,SAAS,EAAC;AAAA,KACd,CAAA;AAAA,GACJ;AAGA,EAAM,MAAA,OAAA,GAAA,CAAU,gBACX,KAAM,CAAA,aAAa,MADR,IAEV,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAA,CAAI,CAAC,MACP,KAAA;AACI,IAAA,MAAM,IAAO,GAAA,MAAA,CAAO,KAAM,CAAA,UAAU,EAAE,CAAC,CAAA,CAAA;AACvC,IAAM,MAAA,OAAA,GAAU,OAAO,KAAM,CAAA,mBAAmB,EAAE,MAAO,CAAA,CAAC,KAA6B,MACvF,KAAA;AACI,MAAA,MAAM,CAACsC,KAAM,EAAA,IAAI,CAAI,GAAA,MAAA,CAAO,MAAM,GAAG,CAAA,CAAA;AAErC,MAAA,GAAA,CAAIA,KAAK,CAAA,IAAA,EAAM,CAAA,GAAI,KAAK,IAAK,EAAA,CAAA;AAE7B,MAAO,OAAA,GAAA,CAAA;AAAA,KACX,EAAG,EAAE,CAAA,CAAA;AAEL,IAAA,IAAI,CAAC,OACL,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,EAAE,MAAM,OAAQ,EAAA,CAAA;AAAA,GAG1B,CAAA,CAAA,MAAA,CAAO,CAAC,EAAE,MAAW,KAAA,MAAA,CAAO,IAAK,CAAA,CAAC,UAAU,KAAM,CAAA,IAAA,KAAS,IAAI,CAAA,CAAA,KAtBpD,YAsB0D,EAAC,CAAA;AAE3E,EAAO,OAAA;AAAA,IACH,MAAA;AAAA,IACA,OAAA;AAAA,GACJ,CAAA;AACJ;;ACzEY,IAAA,WAAA,qBAAAC,YAAL,KAAA;AAEH,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,YAAS,CAAT,CAAA,GAAA,QAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,cAAW,CAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,aAAU,CAAV,CAAA,GAAA,SAAA,CAAA;AAJQ,EAAAA,OAAAA,YAAAA,CAAAA;AAAA,CAAA,EAAA,WAAA,IAAA,EAAA;;ACKI,SAAA,uBAAA,CAAwB,EAAE,MAAA,EAC1C,EAAA;AACI,EAAA,MAAM,SAA2C,EAAC,CAAA;AAElD,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CACnC,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,OAAO,CAAC,CAAA,CAAA;AAEtB,IAAA,IAAI,CAAC,MAAA,CAAO,KAAM,CAAA,KAAK,CACvB,EAAA;AACI,MAAO,MAAA,CAAA,KAAA,CAAM,KAAK,CAAA,GAAI,EAAC,CAAA;AAAA,KAC3B;AAEA,IAAA,IAAI,MAAM,SACV,EAAA;AACI,MAAO,MAAA,CAAA,KAAA,CAAM,KAAK,CAAA,CAAE,IAAK,CAAA;AAAA,QACrB,SAAS,KAAM,CAAA,OAAA;AAAA,QACf,UAAA,EAAY,WAAY,CAAA,MAAA,GAAS,WAAY,CAAA,QAAA;AAAA,QAC7C,MAAQ,EAAA;AAAA,UACJ,IAAM,EAAA,SAAA;AAAA,SACV;AAAA,OACH,CAAA,CAAA;AAAA,KACL,MAAA,IACS,KAAM,CAAA,IAAA,KAAS,SACxB,EAAA;AACI,MAAO,MAAA,CAAA,KAAA,CAAM,KAAK,CAAA,CAAE,IAAK,CAAA;AAAA,QACrB,SAAS,KAAM,CAAA,OAAA;AAAA,QACf,YAAY,WAAY,CAAA,QAAA;AAAA,QACxB,OAAS,EAAA;AAAA,UACL,IAAM,EAAA,WAAA;AAAA,SACV;AAAA,OACH,CAAA,CAAA;AAAA,KACL,MAAA,IACS,KAAM,CAAA,IAAA,KAAS,YACxB,EAAA;AACI,MAAO,MAAA,CAAA,KAAA,CAAM,KAAK,CAAA,CAAE,IAAK,CAAA;AAAA,QACrB,SAAS,KAAM,CAAA,OAAA;AAAA,QACf,YAAY,WAAY,CAAA,QAAA;AAAA,QACxB,OAAS,EAAA;AAAA,UACL,UAAY,EAAA,OAAA;AAAA,UACZ,aAAe,EAAA,IAAA;AAAA,UACf,YAAc,EAAA,KAAA;AAAA,SAClB;AAAA,OACH,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;AClDgB,SAAA,kBAAA,CAAmB,EAAE,MAAA,EACrC,EAAA;AACI,EAAA,MAAM,SAAwB,EAAC,CAAA;AAE/B,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CACnC,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,OAAO,CAAC,CAAA,CAAA;AAEtB,IAAA,IAAI,CAAC,MAAA,CAAO,KAAM,CAAA,KAAK,CACvB,EAAA;AACI,MAAO,MAAA,CAAA,KAAA,CAAM,KAAK,CAAA,GAAI,EAAC,CAAA;AAAA,KAC3B;AAEA,IAAA,MAAA,CAAO,MAAM,KAAK,CAAA,CAAE,KAAM,CAAA,IAAI,IAAI,KAAM,CAAA,OAAA,CAAA;AAAA,GAC5C;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;AClBgB,SAAA,8BAAA,CACZ,wBACA,wBAEJ,EAAA;AACI,EAAM,MAAA,aAAA,uBAAoB,GAAI,EAAA,CAAA;AAC9B,EAAM,MAAA,eAAA,uBAAsB,GAAI,EAAA,CAAA;AAEhC,EAAM,MAAA,OAAA,GAAU,CAAC,GAAG,sBAAuB,CAAA,OAAA,EAAS,GAAG,wBAAA,CAAyB,OAAO,CAAA,CAClF,MAAO,CAAA,CAAC,MACT,KAAA;AACI,IAAA,IAAI,aAAc,CAAA,GAAA,CAAI,MAAO,CAAA,IAAI,CACjC,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AACA,IAAc,aAAA,CAAA,GAAA,CAAI,OAAO,IAAI,CAAA,CAAA;AAE7B,IAAO,OAAA,IAAA,CAAA;AAAA,GACV,CAAA,CAAA;AAEL,EAAM,MAAA,MAAA,GAAS,CAAC,GAAG,sBAAuB,CAAA,MAAA,EAAQ,GAAG,wBAAA,CAAyB,MAAM,CAAA,CAC/E,MAAO,CAAA,CAAC,KACT,KAAA;AACI,IAAA,MAAM,GAAM,GAAA,CAAA,EAAG,KAAM,CAAA,IAAA,CAAA,CAAA,EAAQ,KAAM,CAAA,OAAA,CAAA,CAAA,CAAA;AAEnC,IAAI,IAAA,eAAA,CAAgB,GAAI,CAAA,GAAG,CAC3B,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AACA,IAAA,eAAA,CAAgB,IAAI,GAAG,CAAA,CAAA;AAEvB,IAAO,OAAA,IAAA,CAAA;AAAA,GACV,CAAA,CAAA;AAEL,EAAO,OAAA,EAAE,SAAS,MAAO,EAAA,CAAA;AAC7B;;ACPO,MAAM,cAAN,MACP;AAAA,EAmBI,YAAY,EAAE,QAAA,EAAU,QAAQ,MAAQ,EAAA,SAAA,EAAW,MACnD,EAAA;AAXA;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AAYhB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAGd,IAAI,IAAA,QAAA,CAAS,MAAW,KAAA,MAAA,CAAO,MAC/B,EAAA;AACI,MAAM,MAAA,gBAAA,GAAmB,sBAAuB,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAE/D,MAAA,IAAA,CAAK,gBAAmB,GAAA,gBAAA,CAAA;AAAA,KAG5B,MAAA;AACI,MAAM,MAAA,sBAAA,GAAyB,sBAAuB,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AACnE,MAAM,MAAA,wBAAA,GAA2B,sBAAuB,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAEvE,MAAK,IAAA,CAAA,gBAAA,GAAmB,8BAA+B,CAAA,sBAAA,EAAwB,wBAAwB,CAAA,CAAA;AAAA,KAC3G;AAGA,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,IAAA,IAAA,GAAA,MAAA,GAAU,kBAAmB,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAIhE,IAAA,IAAA,CAAK,SAAY,GAAA,SAAA,IAAA,IAAA,GAAA,SAAA,GAAa,uBAAwB,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAAA,GAC/E;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AAAA,EAGA,OAAc,KAAK,OACnB,EAAA;AAEI,IAAA,MAAM,GAAM,GAAA,CAAA,EAAG,OAAQ,CAAA,MAAA,CAAO,MAAU,CAAA,CAAA,EAAA,OAAA,CAAQ,QAAS,CAAA,MAAA,CAAA,CAAA,EAAU,OAAQ,CAAA,QAAA,CAAS,UAAc,CAAA,CAAA,EAAA,OAAA,CAAQ,MAAO,CAAA,UAAA,CAAA,CAAA,CAAA;AAEjH,IAAA,IAAI,CAAC,WAAA,CAAW,aAAc,CAAA,GAAG,CACjC,EAAA;AACI,MAAA,WAAA,CAAW,aAAc,CAAA,GAAG,CAAI,GAAA,IAAI,YAAW,OAAO,CAAA,CAAA;AAAA,KAC1D;AAEA,IAAO,OAAA,WAAA,CAAW,cAAc,GAAG,CAAA,CAAA;AAAA,GACvC;AACJ,CAAA,CAAA;AAzEO,IAAM,UAAN,GAAA,YAAA;AAAM,UA4DK,CAAA,aAAA,mBAAmD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA;;ACpFhE,SAAA,mBAAA,CACZ,MACA,IAEJ,EAAA;AACI,EAAA,QAAQ,IACR;AAAA,IACI,KAAK,KAAA;AACD,MAAO,OAAA,CAAA,CAAA;AAAA,IAEX,KAAK,WAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEpC,KAAK,WAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEpC,KAAK,WAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IACpC,KAAK,aAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QACxB,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,IAEb,KAAK,aAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAC3B,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACN,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,IAEhB,KAAK,aAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAC9B,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACT,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACT,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,GACvB;AAEA,EAAO,OAAA,IAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;ACtBO,MAAM,gBAAN,MACP;AAAA,EA+BI,WAAA,CAAY,mBAA6B,OACzC,EAAA;AA1BA,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AAEjB,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,SAAS,CAAA,CAAA;AAEnC,IAAA,IAAA,CAAO,YAAe,GAAA,cAAA,CAAA;AACtB,IAAA,IAAA,CAAO,aAAa,IAAK,CAAA,GAAA,CAAA;AAWzB;AAAA,IAAA,IAAA,CAAgB,cAAiB,GAAA,IAAA,CAAA;AAEjC,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AA5CrB,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAqDQ,IAAU,OAAA,GAAAvC,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,cAAa,OAAY,CAAA,EAAA,OAAA,CAAA,CAAA;AAExC,IAAA,IAAA,CAAK,iBAAoB,GAAA,iBAAA,CAAA;AAEzB,IAAA,MAAM,WAAW,EAAC,CAAA;AAElB,IAAA,KAAA,MAAW,KAAK,iBAChB,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,kBAAkB,CAAC,CAAA,CAAA;AAEvC,MAAA,WAAA,CAAY,IAAO,GAAA,CAAA,CAAA;AACnB,MAAY,WAAA,CAAA,IAAA,GAAA,CAAO,EAAY,GAAA,WAAA,CAAA,IAAA,KAAZ,IAAoB,GAAA,EAAA,GAAA,CAAA,CAAA;AACvC,MAAA,CAAA,EAAA,GAAA,WAAA,CAAY,UAAZ,IAAY,GAAA,EAAA,GAAA,WAAA,CAAA,KAAA,GAAU,oBAAoB,WAAY,CAAA,IAAA,EAAM,YAAY,IAAI,CAAA,CAAA;AAE5E,MAAS,QAAA,CAAA,CAAC,IAAI,WAAY,CAAA,KAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,OAAU,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAK,MAAM,OAAQ,CAAA,GAAA,CAAA;AACnB,IAAA,IAAA,CAAK,WAAW,OAAQ,CAAA,QAAA,CAAA;AAExB,IAAA,IAAA,CAAK,SAAY,GAAA,MAAA,CAAO,IAAK,CAAA,QAAQ,CAAE,CAAA,GAAA;AAAA,MACnC,CAAC,CAAM,KAAA,CAAA,EAAG,CAAM,CAAA,CAAA,EAAA,iBAAA,CAAkB,CAAmC,CAAkB,CAAA,IAAA,CAAA,CAAA;AAAA,KAC3F,CAAE,KAAK,GAAG,CAAA,CAAA;AAAA,GACd;AAAA,EAEO,MACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,EAAA,CAAA;AAAA,GAET;AACJ,CAAA,CAAA;AAnEO,IAAM,YAAN,GAAA,cAAA;AAAM,YAAA,CAEK,OAA+B,GAAA;AAAA,EACzC,GAAK,EAAA,KAAA;AAAA,EACL,QAAU,EAAA,KAAA;AACd,CAAA;;ACtBG,MAAM,SACb,CAAA;AAAA,EAKI,YAAY,SACZ,EAAA;AALA,IAAO,IAAA,CAAA,SAAA,mBAAiD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAEnE,IAAA,IAAA,CAAQ,MAAS,GAAA,IAAA,CAAA;AAIb,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,IAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AACI,MAAM,MAAA,QAAA,GAAyB,UAAU,CAAC,CAAA,CAAA;AAE1C,MAAK,IAAA,CAAA,WAAA,CAAY,UAAU,KAAO,EAAA,CAAA,CAAA;AAAA,KACtC;AAEA,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AAAA,GACnB;AAAA,EAEO,MACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAU,EAAA,CAAA;AAAA,GACnB;AAAA,EAEO,SACP,GAAA;AACI,IAAA,IAAI,CAAC,IAAK,CAAA,MAAA;AAAQ,MAAA,OAAA;AAElB,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AAEd,IAAA,MAAM,WAAW,EAAC,CAAA;AAClB,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAGZ,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,SACrB,EAAA;AAEI,MAAA,QAAA,CAAS,KAAO,EAAA,CAAA,GAAI,IAAK,CAAA,SAAA,CAAU,CAAC,CAAE,CAAA,UAAA,CAAA;AAAA,KAC1C;AAEA,IAAK,IAAA,CAAA,GAAA,GAAM,QAAS,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA;AAAA,GAChC;AAAA,EAEO,WAAA,CAAY,UAAwB,KAC3C,EAAA;AA/CJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAgDQ,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,SAAA,CAAU,KAAK,CAAA,CAAA;AAE5C,IAAA,IAAI,QAAa,KAAA,eAAA;AAAiB,MAAA,OAAA;AAElC,IAAA,IAAI,eACJ,EAAA;AACI,MAAA,CAAA,EAAA,GAAA,QAAA,CAAS,GAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAAe,QAAU,EAAA,IAAA,CAAK,gBAAkB,EAAA,IAAA,CAAA,CAAA;AAAA,KACpD;AAEA,IAAA,CAAA,EAAA,GAAA,QAAA,CAAS,EAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAAc,QAAU,EAAA,IAAA,CAAK,gBAAkB,EAAA,IAAA,CAAA,CAAA;AAE/C,IAAK,IAAA,CAAA,SAAA,CAAU,KAAK,CAAI,GAAA,QAAA,CAAA;AACxB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AAAA,EAEO,YAAY,KACnB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,UAAU,KAAK,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEO,MAAM,IACb,EAAA;AACI,IAAA,MAAM,YAAY,IAAK,CAAA,SAAA,CAAA;AAEvB,IAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AACI,MAAU,SAAA,CAAA,CAAC,EAAE,OAAU,GAAA,IAAA,CAAA;AAAA,KAC3B;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AA/EJ,IAAA,IAAA,EAAA,CAAA;AAgFQ,IAAA,MAAM,YAAY,IAAK,CAAA,SAAA,CAAA;AAEvB,IAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,UAAU,CAAC,CAAA,CAAA;AAE5B,MAAA,CAAA,EAAA,GAAA,QAAA,CAAS,GAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAAe,QAAU,EAAA,IAAA,CAAK,gBAAkB,EAAA,IAAA,CAAA,CAAA;AAAA,KACpD;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AAAA,EAEU,gBACV,GAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AACJ;;AC/EY,IAAA,YAAA,qBAAAwC,aAAL,KAAA;AAEH,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,WAAQ,CAAR,CAAA,GAAA,OAAA,CAAA;AACA,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,YAAS,CAAT,CAAA,GAAA,QAAA,CAAA;AAHQ,EAAAA,OAAAA,aAAAA,CAAAA;AAAA,CAAA,EAAA,YAAA,IAAA,EAAA;;ACmBL,MAAM,eAAe9B,aAG5B,CAAA;AAAA,EAaI,WAAA,CAAY,EAAE,UAAY,EAAA,SAAA,EAAW,QAAQ,SAAW,EAAA,QAAA,EAAU,qBAClE,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AANV,IAAO,IAAA,CAAA,cAAA,mBAAgE,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAQ9E,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAA,IAAA,CAAK,SAAY,GAAA,SAAA,CAAA;AAEjB,IAAA,IAAI,wBAAwB,KAC5B,CAAA,EAAA;AACI,MAAsB,mBAAA,GAAA,CAAA,CAAA;AAEtB,MAAI,IAAA,UAAA;AAAW,QAAA,mBAAA,IAAuB,YAAa,CAAA,MAAA,CAAA;AACnD,MAAI,IAAA,SAAA;AAAU,QAAA,mBAAA,IAAuB,YAAa,CAAA,KAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,mBAAsB,GAAA,mBAAA,CAAA;AAE3B,IAAA,MAAM,WAAuC,EAAC,CAAA;AAE9C,IAAA,IAAI,aAAa,MACjB,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,gDAAgD,CAAA,CAAA;AAAA,KAE3D,MAAA,IAAA,CAAC,SAAa,IAAA,CAAC,MACxB,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,6DAA6D,CAAA,CAAA;AAAA,KAExE,MAAA,IAAA,CAAC,UAAc,IAAA,MAAA,IAAU,CAAC,QACnC,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,qFAAqF,CAAA,CAAA;AAAA,KAEhG,MAAA,IAAA,CAAC,UAAc,IAAA,MAAA,IAAU,QAClC,EAAA;AACI,MAAA,KAAA,MAAW,KAAK,QAChB,EAAA;AACI,QAAW,KAAA,MAAA,CAAA,IAAK,QAAS,CAAA,CAAC,CAC1B,EAAA;AACI,UAAA,MAAM,WAAc,GAAA,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAA,CAAA;AAEjC,UAAA,QAAA,CAAS,WAAW,CAAI,GAAA;AAAA,YACpB,KAAO,EAAA,CAAA;AAAA,YACP,OAAS,EAAA,CAAA;AAAA,YACT,IAAM,EAAA,WAAA;AAAA,WACV,CAAA;AAAA,SACJ;AAAA,OACJ;AAAA,KAEK,MAAA,IAAA,UAAA,IAAc,MAAU,IAAA,CAAC,QAClC,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,WAAW,gBAAiB,CAAA,MAAA,CAAA;AAE9C,MAAA,QAAA,GAAW,EAAC,CAAA;AAEZ,MAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,IACnB,KAAA;AACI,QAAA,QAAA,CAAS,KAAK,KAAK,CAAA,GAAI,SAAS,IAAK,CAAA,KAAK,KAAK,EAAC,CAAA;AAChD,QAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAE,IAAK,CAAA,OAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AAE1C,QAAS,QAAA,CAAA,IAAA,CAAK,IAAI,CAAI,GAAA,IAAA,CAAA;AAAA,OACzB,CAAA,CAAA;AAAA,eAEI,SACT,EAAA;AACI,MAAA,IAAI,CAAC,UACL,EAAA;AAEI,QAAA,QAAA,GAAW,EAAC,CAAA;AACZ,QAAS,MAAA,GAAA;AAAA,UACL,EAAA,EAAI,IAAI,SAAU,EAAA;AAAA,SACtB,CAAA;AAEA,QAAA,IAAI,QAAW,GAAA,CAAA,CAAA;AAEf,QAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AAII,UAAS,QAAA,CAAA,CAAC,IAAI,EAAE,KAAA,EAAO,IAAI,OAAS,EAAA,QAAA,EAAU,MAAM,CAAE,EAAA,CAAA;AAEtD,UAAA,QAAA,CAAS,EAAE,CAAA,GAAI,QAAS,CAAA,EAAE,KAAK,EAAC,CAAA;AAChC,UAAS,QAAA,CAAA,EAAE,CAAE,CAAA,QAAQ,CAAI,GAAA,CAAA,CAAA;AAEzB,UAAA,QAAA,EAAA,CAAA;AAAA,SACJ;AAAA,OAGJ,MAAA;AACI,QAAM,MAAA,SAAA,GAAY,WAAW,gBAAiB,CAAA,MAAA,CAAA;AAE9C,QAAA,QAAA,GAAW,EAAC,CAAA;AAEZ,QAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,IACnB,KAAA;AACI,UAAA,QAAA,CAAS,KAAK,KAAK,CAAA,GAAI,SAAS,IAAK,CAAA,KAAK,KAAK,EAAC,CAAA;AAChD,UAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAE,IAAK,CAAA,OAAO,IAAI,IAAK,CAAA,IAAA,CAAA;AAE1C,UAAS,QAAA,CAAA,IAAA,CAAK,IAAI,CAAI,GAAA,IAAA,CAAA;AAAA,SACzB,CAAA,CAAA;AAAA,OACL;AAEA,MAAA,MAAA,GAAS,EAAC,CAAA;AAEV,MAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AACI,QAAA,MAAM,IAAO,GAAA,CAAA,CAAA;AACb,QAAI,IAAA,KAAA,GAAQ,UAAU,CAAC,CAAA,CAAA;AAEvB,QAAA,IAAI,CAAE,KAAA,CAAM,MAAW,IAAA,CAAE,MAAuB,YAChD,EAAA;AACI,UAAQ,KAAA,GAAA,IAAI,aAAa,KAAK,CAAA,CAAA;AAAA,SAClC;AAEA,QAAM,MAAA,IAAA,GAAO,SAAS,IAAI,CAAA,CAAA;AAE1B,QAAA,IAAI,IACJ,EAAA;AACI,UAAO,MAAA,CAAA,IAAA,CAAK,KAAK,CAAI,GAAA,MAAA,CAAO,KAAK,KAAK,CAAA,IAAK,IAAI,SAAU,EAAA,CAAA;AAEzD,UAAA,MAAA,CAAO,KAAK,KAAK,CAAA,CAAE,WAAY,CAAA,KAAA,EAAO,KAAK,OAAO,CAAA,CAAA;AAAA,SACtD;AAAA,OACJ;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,cAAiB,GAAA,QAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAK,sBAAuB,CAAA,MAAA,EAAQ,QAAQ,CAAA,CAAA;AAAA,GACjE;AAAA,EAEO,WAAA,CAAY,IAAc,EAAA,UAAA,EAAoB,SACrD,EAAA;AAxLJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyLQ,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,cAAA,EAAL,iCAAoC,EAAC,CAAA,CAAA;AAErC,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,cAAA,CAAe,UAAU,CAAA,EAA9B,SAA+C,CAAA,KAAA,EAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,CAAA;AAAA,GACnD;AAAA,EAEQ,sBAAA,CAAuB,QAAsB,QACrD,EAAA;AACI,IAAA,MAAM,cAAc,EAAC,CAAA;AAErB,IAAA,KAAA,MAAW,KAAK,QAChB,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,SAAS,CAAC,CAAA,CAAA;AAGvB,MAAO,MAAA,CAAA,cAAA,CAAe,WAAa,EAAA,IAAA,CAAK,IAAM,EAAA;AAAA,QAC1C,GACA,GAAA;AACI,UAAA,OAAO,OAAO,IAAK,CAAA,KAAK,CAAE,CAAA,WAAA,CAAY,KAAK,OAAO,CAAA,CAAA;AAAA,SACtD;AAAA,QACA,IAAI,KACJ,EAAA;AACI,UAAA,MAAA,CAAO,KAAK,KAAK,CAAA,CAAE,WAAY,CAAA,KAAA,EAAO,KAAK,OAAO,CAAA,CAAA;AAAA,SACtD;AAAA,OACH,CAAA,CAAA;AAAA,KACL;AAEA,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAA,CAAQ,iBAAiB,KAChC,EAAA;AAvNJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAwNQ,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEzB,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,CAAA,EAAA,GAAA,IAAA,CAAK,eAAL,IAAiB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,EAAA,CAAA;AACjB,MAAA,CAAA,EAAA,GAAA,IAAA,CAAK,cAAL,IAAgB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ;;ACxOA,MAAM,YAAe,GAAA;AAAA,EACjB,MAAQ,EAAA,CAAA;AAAA,EACR,QAAU,EAAA,CAAA;AAAA,EACV,QAAU,EAAA,CAAA;AAAA,EACV,MAAQ,EAAA,CAAA;AAAA,EACR,OAAS,EAAA,CAAA;AAAA,EACT,KAAO,EAAA,CAAA;AACX,CAAA,CAAA;AACA,MAAM+B,OAAQ,GAAA,CAAA,CAAA;AACd,MAAMC,QAAS,GAAA,CAAA,CAAA;AACf,MAAMC,SAAU,GAAA,CAAA,CAAA;AAChB,MAAMC,YAAa,GAAA,CAAA,CAAA;AACnB,MAAMC,SAAU,GAAA,CAAA,CAAA;AAChB,MAAMC,YAAa,GAAA,CAAA,CAAA;AAQZ,MAAM,KACb,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,CAAA;AAErB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAL,OAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,aAAY,KACrC,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,OAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAC,QAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,cAAa,KACtC,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,QAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAA,IAAI,UAAU,MACd,EAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AAEf,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,qBAAqB,KAAU,KAAA,OAAA,CAAA;AAAA,GACxC;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,OACV,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,IAAA,CAAK,qBAAqB,OAAU,GAAA,MAAA,CAAA;AAAA,GAC/C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAC,SAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,eAAc,KACvC,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,SAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAC,YAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,kBAAiB,KAC1C,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,YAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAE,YAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,kBAAiB,KAC1C,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,YAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,kBACJ,GAAA;AACI,IAAA,OAAO,CAAC,EAAE,IAAK,CAAA,IAAA,GAAQ,CAAK,IAAAD,SAAA,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,IAAI,mBAAmB,KACvB,EAAA;AACI,IAAA,IAAI,CAAC,EAAE,IAAA,CAAK,IAAQ,GAAA,CAAA,IAAKA,eAAc,KACvC,EAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAK,IAAAA,SAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,QAAS,KAAU,KAAA,MAAA,CAAA;AACxB,IAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAClB,IAAK,IAAA,CAAA,YAAA,GAAe,YAAa,CAAA,KAAkC,CAAK,IAAA,CAAA,CAAA;AAAA,GAC5E;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,aACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,cAAc,KAClB,EAAA;AACI,IAAK,IAAA,CAAA,OAAA,GAAU,CAAC,CAAC,KAAA,CAAA;AACjB,IAAA,IAAA,CAAK,cAAiB,GAAA,KAAA,CAAA;AAAA,GAC1B;AAAA,EAGO,QACP,GAAA;AACI,IAAO,OAAA,CAAA,4BAAA,EACY,KAAK,SACI,CAAA,oBAAA,EAAA,IAAA,CAAK,8BAChB,IAAK,CAAA,OAAA,CAAA,WAAA,EACH,IAAK,CAAA,SAAA,CAAA,eAAA,EACD,IAAK,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAEhC;AAAA,EAGA,OAAc,KACd,GAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAI,KAAM,EAAA,CAAA;AAExB,IAAA,KAAA,CAAM,SAAY,GAAA,KAAA,CAAA;AAClB,IAAA,KAAA,CAAM,KAAQ,GAAA,IAAA,CAAA;AAEd,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AACJ;;;;;;;;;;;;;;;;;;AC1MO,MAAM,OAAA,GAAN,cAAqB,MAC5B,CAAA;AAAA,EAiDI,YAAY,OACZ,EAAA;AAvEJ,IAAA,IAAA,EAAA,CAAA;AAwEQ,IAAU,OAAA,GAAA7C,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,QAAO,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEzC,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAzBjB;AAAA,IAAA,IAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAMjB;AAAA;AAAA;AAAA;AAAA,IAAO,IAAA,CAAA,MAAA,GAAS,MAAM,KAAM,EAAA,CAAA;AAqBxB,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,OAAA,CAAA;AAGvB,IAAI,IAAA,OAAO,OAAQ,CAAA,SAAA,KAAc,SACjC,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,GAAY,OAAQ,CAAA,SAAA,GAAY,IAAO,GAAA,KAAA,CAAA;AAAA,KAGhD,MAAA;AACI,MAAK,IAAA,CAAA,SAAA,GAAA,CAAY,EAAQ,GAAA,OAAA,CAAA,SAAA,KAAR,IAAqB,GAAA,EAAA,GAAA,SAAA,CAAA;AAAA,KAC1C;AAEA,IAAA,IAAA,CAAK,aAAa,OAAQ,CAAA,UAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,aAAA,CAAA;AAE7B,IAAK,IAAA,CAAA,WAAA,CAAY,gBAAkB,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AACvC,IAAK,IAAA,CAAA,WAAA,CAAY,UAAY,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,KACH,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AACI,IAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,KAAO,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GAC5D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,KAAK,MAAO,CAAA,SAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,OAAO,SAAY,GAAA,KAAA,CAAA;AAAA,GAC5B;AACJ,CAAA,CAAA;AAzGO,IAAM,MAAN,GAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAM,MAAA,CAMc,cAAyC,GAAA;AAAA,EAC5D,SAAW,EAAA,QAAA;AAAA,EACX,UAAY,EAAA,CAAA;AAAA,EACZ,OAAS,EAAA,CAAA;AAAA,EACT,SAAW,EAAA,SAAA;AAAA,EACX,aAAe,EAAA,KAAA;AACnB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;ACVG,MAAM,wBAAwB,MACrC,CAAA;AAAA,EACI,YAAY,OACZ,EAAA;AACI,IAAA,MAAM,aAAa,OAAQ,CAAA,GAAA,CAAA;AAE3B,IAAA,MAAM,SAAY,GAAA,sBAAA,CAAuBA,gBAAE,CAAA,EAAA,MAAA,EAAQ,iBAAkB,UAAY,CAAA,CAAA,CAAA;AAEjF,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,SAAA;AAAA,QACR,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,QACN,MAAQ,EAAA,SAAA;AAAA,QACR,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAA,MAAM,YAAY,OAAQ,CAAA,EAAA,CAAA;AAE1B,IAAA,MAAM,QAAW,GAAA,sBAAA,CAAuBA,gBAAE,CAAA,EAAA,MAAA,EAAQ,qBAAsB,SAAW,CAAA,CAAA,CAAA;AAEnF,IAAM,MAAA,SAAA,GAAY,IAAI,SAAU,CAAA;AAAA,MAC5B,MAAQ,EAAA,iBAAA;AAAA,MACR,QAAU,EAAA,QAAA;AAAA,KACb,CAAA,CAAA;AAED,IAAM,MAAA,YAAA,GAAe,IAAI,YAAa,CAAA;AAAA,MAClC,MAAQ,EAAA;AAAA,QACJ,KAAO,EAAA,CAAA;AAAA,QACP,IAAM,EAAA,KAAA;AAAA,OACV;AAAA,KACH,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,aAAe,EAAA,IAAA;AAAA,MACf,SAAW,EAAA;AAAA,QACP,aAAe,EAAA,YAAA;AAAA,QACf,aAAa,OAAQ,CAAA,KAAA;AAAA,OACzB;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAEA,SAAS,uBAAuB,OAChC,EAAA;AACI,EAAA,MAAM,EAAE,MAAA,EAAQ,SAAW,EAAA,IAAA,EAAS,GAAA,OAAA,CAAA;AAEpC,EAAA,OAAO,OAAO,OAAQ,CAAA,aAAA,EAAe,SAAS,CAAE,CAAA,OAAA,CAAQ,UAAU,IAAI,CAAA,CAAA;AAC1E;;ACzEO,MAAM,KAAQ,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA;;ACAd,MAAM,MAAS,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;;ACMf,MAAM,mBAAmB,eAChC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,KAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAOF,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,MAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAOF,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAvCa,UAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,OAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACFG,MAAM,uBAAuB,eACpC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,cAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACPG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,aAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACVG,MAAM,oBAAoB,eACjC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAnCa,WAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,QAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACPG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAnCa,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACHG,MAAM,oBAAoB,eACjC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAgBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAxDa,WAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,QAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACTG,MAAM,uBAAuB,eACpC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAWX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAWX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AA7Ca,cAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,WAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACJG,MAAM,uBAAuB,eACpC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAgBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAxDa,cAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACFG,MAAM,qBAAqB,eAClC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAgBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAgBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAvDa,YAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,UAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACZG,MAAM,qBAAqB,eAClC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAMX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAnCa,YAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,SAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACAG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,aAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACTG,MAAM,yBAAyB,eACtC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAcX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAtDa,gBAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,cAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACNG,MAAM,yBAAyB,eACtC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAuBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QA2BX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzEa,gBAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,cAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACPG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,KAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAQF,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,MAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAQF,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzCa,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACRG,MAAM,sBAAsB,eACnC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAWX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAWX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AA7Ca,aAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,UAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACNG,MAAM,qBAAqB,eAClC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,YAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,SAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACHG,MAAM,sBAAsB,eACnC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,aAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,WAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACPG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,KAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAQF,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA,gBACT,EAAA,MAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAQF,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzCa,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACNG,MAAM,uBAAuB,eACpC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,cAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,YAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACLG,MAAM,sBAAsB,eACnC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QAiBX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AAzDa,aAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,UAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACPG,MAAM,wBAAwB,eACrC,CAAA;AAAA,EAOI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,EAAI,EAAA;AAAA,QACA,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QA2BX,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAGV;AAAA,MACA,GAAK,EAAA;AAAA,QACD,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,QA2BX,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,OAGV;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAAA;AA7Ea,eAAA,CAGK,SAA+B,GAAA;AAAA,EACzC,IAAM,EAAA,aAAA;AAAA,EACN,MAAM,aAAc,CAAA,SAAA;AACxB,CAAA;;ACUJ,UAAW,CAAA,GAAA;AAAA,EACP,UAAA;AAAA,EACA,cAAA;AAAA,EACA,eAAA;AAAA,EACA,WAAA;AAAA,EACA,eAAA;AAAA,EACA,WAAA;AAAA,EACA,cAAA;AAAA,EACA,cAAA;AAAA,EACA,YAAA;AAAA,EACA,YAAA;AAAA,EACA,eAAA;AAAA,EACA,gBAAA;AAAA,EACA,gBAAA;AAAA,EACA,eAAA;AAAA,EACA,aAAA;AAAA,EACA,YAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAA;AAAA,EACA,cAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAA;AACJ,CAAA;;;;;;;;;;;;;;;;;;;;AClBO,MAAM,YAAA,GAAN,cAA0B,MACjC,CAAA;AAAA,EAKI,YAAY,OACZ,EAAA;AACI,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,aAAY,eAAoB,CAAA,EAAA,OAAA,CAAA,CAAA;AAE/C,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,MAAQ,EAAA;AAAA,gBACJ+C,QAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,gBACNA,QAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,cAAA,GAAiB,IAAI,YAAa,CAAA;AAAA,MACpC,QAAQ,EAAE,KAAA,EAAO,OAAQ,CAAA,KAAA,EAAO,MAAM,KAAM,EAAA;AAAA,KAC/C,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KAAgB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,cAAA,CAAe,QAAS,CAAA,MAAA,CAAA;AAAA,GAAQ;AAAA,EAC5E,IAAI,MAAM,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,SAAA,CAAU,cAAe,CAAA,QAAA,CAAS,MAAS,GAAA,KAAA,CAAA;AAAA,GAAO;AACtF,CAAA,CAAA;AAvCO,IAAM,WAAN,GAAA,aAAA;AAAM,WAAA,CAEc,eAAsC,GAAA;AAAA,EACzD,KAAO,EAAA,CAAA;AACX,CAAA;;ACvBG,SAAS,SAAS,CACzB,EAAA;AACI,EAAK,CAAA,IAAA,CAAA,KAAM,IAAI,CAAI,GAAA,CAAA,CAAA;AACnB,EAAE,EAAA,CAAA,CAAA;AACF,EAAA,CAAA,IAAK,CAAM,KAAA,CAAA,CAAA;AACX,EAAA,CAAA,IAAK,CAAM,KAAA,CAAA,CAAA;AACX,EAAA,CAAA,IAAK,CAAM,KAAA,CAAA,CAAA;AACX,EAAA,CAAA,IAAK,CAAM,KAAA,CAAA,CAAA;AACX,EAAA,CAAA,IAAK,CAAM,KAAA,EAAA,CAAA;AAEX,EAAA,OAAO,CAAI,GAAA,CAAA,CAAA;AACf,CAAA;AAQO,SAAS,OAAO,CACvB,EAAA;AACI,EAAA,OAAO,EAAE,CAAA,GAAK,CAAI,GAAA,CAAA,CAAA,IAAQ,CAAC,CAAC,CAAA,CAAA;AAChC,CAAA;AAQO,SAAS,KAAK,CACrB,EAAA;AACI,EAAA,IAAI,CAAK,GAAA,CAAA,CAAA,GAAI,KAAS,GAAA,CAAA,GAAI,CAAM,KAAA,CAAA,CAAA;AAEhC,EAAO,CAAA,MAAA,CAAA,CAAA;AAEP,EAAA,IAAI,KAAS,GAAA,CAAA,CAAA,GAAI,GAAO,GAAA,CAAA,GAAI,CAAM,KAAA,CAAA,CAAA;AAElC,EAAO,CAAA,MAAA,KAAA,CAAA;AAAO,EAAK,CAAA,IAAA,KAAA,CAAA;AACnB,EAAS,KAAA,GAAA,CAAA,CAAA,GAAI,EAAM,GAAA,CAAA,GAAI,CAAM,KAAA,CAAA,CAAA;AAC7B,EAAO,CAAA,MAAA,KAAA,CAAA;AAAO,EAAK,CAAA,IAAA,KAAA,CAAA;AACnB,EAAS,KAAA,GAAA,CAAA,CAAA,GAAI,CAAM,GAAA,CAAA,GAAI,CAAM,KAAA,CAAA,CAAA;AAC7B,EAAO,CAAA,MAAA,KAAA,CAAA;AAAO,EAAK,CAAA,IAAA,KAAA,CAAA;AAEnB,EAAA,OAAO,IAAK,CAAK,IAAA,CAAA,CAAA;AACrB;;;;;;;;;;;;;;;;;;;;;AC9CA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAUL,MAAM,gBACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBI,YAAY,cACZ,EAAA;AAPA,IAAQ,IAAA,CAAA,YAAA,mBAA8C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAQ7D,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AACrB,IAAK,IAAA,CAAA,cAAA,GAAiB,kBAAkB,EAAC,CAAA;AACzC,IAAA,IAAA,CAAK,gBAAmB,GAAA,KAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,aAAA,CAAc,UAAoB,EAAA,WAAA,EAAqB,SAC9D,EAAA;AACI,IAAA,MAAM,aAAgB,GAAA,IAAI,aAAc,CAAAhD,eAAA,CAAAC,gBAAA,CAAA,EAAA,EACjC,KAAK,cAD4B,CAAA,EAAA;AAAA,MAGpC,KAAO,EAAA,UAAA;AAAA,MACP,MAAQ,EAAA,WAAA;AAAA,MACR,UAAY,EAAA,CAAA;AAAA,MACZ,SAAA;AAAA,KACH,CAAA,CAAA,CAAA;AAED,IAAA,OAAO,IAAI,OAAQ,CAAA;AAAA,MACf,MAAQ,EAAA,aAAA;AAAA,MACR,OAAO,CAAe,YAAA,EAAA,KAAA,EAAA,CAAA,CAAA;AAAA,KACzB,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,iBAAkB,CAAA,UAAA,EAAoB,WAAqB,EAAA,UAAA,GAAa,GAAG,SAClF,EAAA;AACI,IAAA,IAAI,QAAW,GAAA,IAAA,CAAK,IAAM,CAAA,UAAA,GAAa,aAAc,IAAI,CAAA,CAAA;AACzD,IAAA,IAAI,SAAY,GAAA,IAAA,CAAK,IAAM,CAAA,WAAA,GAAc,aAAc,IAAI,CAAA,CAAA;AAE3D,IAAA,QAAA,GAAW,SAAS,QAAQ,CAAA,CAAA;AAC5B,IAAA,SAAA,GAAY,SAAS,SAAS,CAAA,CAAA;AAE9B,IAAA,MAAM,OAAO,QAAY,IAAA,EAAA,KAAO,SAAa,IAAA,CAAA,CAAA,IAAM,YAAY,CAAI,GAAA,CAAA,CAAA,CAAA;AAEnE,IAAA,IAAI,CAAC,IAAA,CAAK,YAAa,CAAA,GAAG,CAC1B,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,GAAG,CAAA,GAAI,EAAC,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAI,OAAU,GAAA,IAAA,CAAK,YAAa,CAAA,GAAG,EAAE,GAAI,EAAA,CAAA;AAEzC,IAAA,IAAI,CAAC,OACL,EAAA;AACI,MAAA,OAAA,GAAU,IAAK,CAAA,aAAA,CAAc,QAAU,EAAA,SAAA,EAAW,SAAS,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,OAAA,CAAQ,OAAO,WAAc,GAAA,UAAA,CAAA;AAC7B,IAAQ,OAAA,CAAA,MAAA,CAAO,QAAQ,QAAW,GAAA,UAAA,CAAA;AAClC,IAAQ,OAAA,CAAA,MAAA,CAAO,SAAS,SAAY,GAAA,UAAA,CAAA;AACpC,IAAA,OAAA,CAAQ,OAAO,UAAa,GAAA,QAAA,CAAA;AAC5B,IAAA,OAAA,CAAQ,OAAO,WAAc,GAAA,SAAA,CAAA;AAG7B,IAAA,OAAA,CAAQ,MAAS,GAAA,CAAA,CAAA;AACjB,IAAA,OAAA,CAAQ,MAAS,GAAA,CAAA,CAAA;AACjB,IAAA,OAAA,CAAQ,UAAa,GAAA,UAAA,CAAA;AACrB,IAAA,OAAA,CAAQ,WAAc,GAAA,WAAA,CAAA;AACtB,IAAA,OAAA,CAAQ,OAAO,MAAO,EAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,YAAA,CAAa,OAAQ,CAAA,EAAE,CAAI,GAAA,GAAA,CAAA;AAEhC,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEO,kBAAA,CAAmB,OAAkB,EAAA,SAAA,GAAY,KACxD,EAAA;AACI,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAO,OAAA,IAAA,CAAK,kBAAkB,OAAQ,CAAA,KAAA,EAAO,QAAQ,MAAQ,EAAA,MAAA,CAAO,aAAa,SAAS,CAAA,CAAA;AAAA,GAC9F;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,cAAc,aACrB,EAAA;AACI,IAAA,MAAM,GAAM,GAAA,IAAA,CAAK,YAAa,CAAA,aAAA,CAAc,EAAE,CAAA,CAAA;AAE9C,IAAA,IAAA,CAAK,YAAa,CAAA,GAAG,CAAE,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,GAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,MAAM,eACb,EAAA;AACI,IAAA,eAAA,GAAkB,eAAoB,KAAA,KAAA,CAAA;AACtC,IAAA,IAAI,eACJ,EAAA;AACI,MAAW,KAAA,MAAA,CAAA,IAAK,KAAK,YACrB,EAAA;AACI,QAAM,MAAA,QAAA,GAAW,IAAK,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAEpC,QAAA,IAAI,QACJ,EAAA;AACI,UAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,YAAS,QAAA,CAAA,CAAC,CAAE,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAAA,WAC5B;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,eAAe,EAAC,CAAA;AAAA,GACzB;AACJ,CAAA;AAEa,MAAA,WAAA,GAAc,IAAI,gBAAiB;;AC1JzC,MAAM,eAAoC,GAAA;AAAA,EAC7C,CAAG,EAAA,CAAC,QAAU,EAAA,QAAA,EAAU,QAAQ,CAAA;AAAA,EAChC,CAAG,EAAA,CAAC,QAAU,EAAA,QAAA,EAAU,UAAU,QAAQ,CAAA;AAAA,EAC1C,GAAG,CAAC,QAAA,EAAU,QAAU,EAAA,QAAA,EAAU,UAAU,OAAO,CAAA;AAAA,EACnD,IAAI,CAAC,KAAA,EAAQ,UAAU,QAAU,EAAA,QAAA,EAAU,UAAU,QAAQ,CAAA;AAAA,EAC7D,EAAA,EAAI,CAAC,OAAU,EAAA,OAAA,EAAU,UAAU,QAAU,EAAA,QAAA,EAAU,UAAU,QAAQ,CAAA;AAAA,EACzE,EAAA,EAAI,CAAC,MAAU,EAAA,OAAA,EAAU,SAAU,OAAS,EAAA,QAAA,EAAU,QAAU,EAAA,QAAA,EAAU,QAAQ,CAAA;AACtF;;ACVA,MAAM,YAAe,GAAA;AAAA,EACjB,iCAAA;AAAA,EACA,6BAAA;AAAA,EACA,qBAAA;AAAA,EAEA,iBAAA;AAAA,EACA,GAAA;AAAA,EACA,4BAAA;AAAA,EACA,YAAA;AAAA,EACA,GAAA;AAEJ,CAAA,CAAE,KAAK,IAAI,CAAA,CAAA;AAEJ,SAAS,uBAAuB,UACvC,EAAA;AACI,EAAM,MAAA,MAAA,GAAS,gBAAgB,UAAU,CAAA,CAAA;AACzC,EAAA,MAAM,aAAa,MAAO,CAAA,MAAA,CAAA;AAE1B,EAAA,IAAI,UAAa,GAAA,YAAA,CAAA;AAEjB,EAAA,IAAI,QAAW,GAAA,EAAA,CAAA;AACf,EAAA,MAAM,QAAW,GAAA,oEAAA,CAAA;AACjB,EAAI,IAAA,KAAA,CAAA;AAEJ,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,EAAY,CAChC,EAAA,EAAA;AACI,IAAA,IAAI,OAAO,QAAS,CAAA,OAAA,CAAQ,SAAW,EAAA,CAAA,CAAE,UAAU,CAAA,CAAA;AAEnD,IAAQ,KAAA,GAAA,CAAA,CAAA;AAER,IAAA,IAAI,KAAK,UACT,EAAA;AACI,MAAA,KAAA,GAAQ,aAAa,CAAI,GAAA,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAA,GAAO,KAAK,OAAQ,CAAA,SAAA,EAAW,OAAO,KAAK,CAAA,CAAE,UAAU,CAAA,CAAA;AAEvD,IAAY,QAAA,IAAA,IAAA,CAAA;AACZ,IAAY,QAAA,IAAA,IAAA,CAAA;AAAA,GAChB;AAEA,EAAa,UAAA,GAAA,UAAA,CAAW,OAAQ,CAAA,QAAA,EAAU,QAAQ,CAAA,CAAA;AAClD,EAAA,UAAA,GAAa,UAAW,CAAA,OAAA,CAAQ,QAAU,EAAA,UAAA,CAAW,UAAU,CAAA,CAAA;AAE/D,EAAO,OAAA,UAAA,CAAA;AACX;;AC/CA,MAAM,YAAe,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA,CAAA;AAqCL,SAAA,sBAAA,CAAuB,YAAoB,CAC3D,EAAA;AACI,EAAA,MAAM,UAAa,GAAA,IAAA,CAAK,IAAK,CAAA,UAAA,GAAa,CAAC,CAAA,CAAA;AAE3C,EAAA,IAAI,UAAa,GAAA,YAAA,CAAA;AAEjB,EAAA,IAAI,QAAW,GAAA,EAAA,CAAA;AACf,EAAI,IAAA,QAAA,CAAA;AAEJ,EAAA,IAAI,CACJ,EAAA;AACI,IAAW,QAAA,GAAA,qFAAA,CAAA;AAAA,GAGf,MAAA;AACI,IAAW,QAAA,GAAA,qFAAA,CAAA;AAAA,GACf;AAEA,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,EAAY,CAChC,EAAA,EAAA;AACI,IAAA,IAAI,OAAO,QAAS,CAAA,OAAA,CAAQ,SAAW,EAAA,CAAA,CAAE,UAAU,CAAA,CAAA;AAEnD,IAAA,IAAA,GAAO,KAAK,OAAQ,CAAA,eAAA,EAAiB,CAAG,EAAA,CAAA,IAAK,aAAa,CAAM,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AAEhE,IAAY,QAAA,IAAA,IAAA,CAAA;AACZ,IAAY,QAAA,IAAA,IAAA,CAAA;AAAA,GAChB;AAEA,EAAa,UAAA,GAAA,UAAA,CAAW,OAAQ,CAAA,QAAA,EAAU,QAAQ,CAAA,CAAA;AAClD,EAAA,UAAA,GAAa,UAAW,CAAA,OAAA,CAAQ,QAAU,EAAA,UAAA,CAAW,UAAU,CAAA,CAAA;AAC/D,EAAA,UAAA,GAAa,UAAW,CAAA,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAI,MAAM,GAAG,CAAA,CAAA;AAE5D,EAAO,OAAA,UAAA,CAAA;AACX;;AClEgB,SAAA,qBAAA,CAAsB,YAAqB,UAC3D,EAAA;AACI,EAAM,MAAA,MAAA,GAAS,sBAAuB,CAAA,UAAA,EAAY,UAAU,CAAA,CAAA;AAC5D,EAAM,MAAA,QAAA,GAAW,uBAAuB,UAAU,CAAA,CAAA;AAElD,EAAA,OAAO,UAAU,IAAK,CAAA;AAAA,IAClB,MAAA;AAAA,IACA,QAAA;AAAA,IACA,IAAA,EAAM,CAAQ,KAAA,EAAA,UAAA,GAAa,YAAe,GAAA,UAAA,CAAA,YAAA,CAAA;AAAA,GAC7C,CAAA,CAAA;AACL;;;;ACVgB,SAAA,mBAAA,CAAoB,YAAqB,UACzD,EAAA;AACI,EAAM,MAAA,MAAA,GAAS,gBAAgB,UAAU,CAAA,CAAA;AACzC,EAAA,MAAM,aAAa,MAAO,CAAA,MAAA,CAAA;AAE1B,EAAA,MAAM,mBAA6B,EAAC,CAAA;AACpC,EAAA,MAAM,gBAA0B,EAAC,CAAA;AACjC,EAAA,MAAM,qBAA+B,EAAC,CAAA;AAEtC,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,EAAY,CAChC,EAAA,EAAA;AACI,IAAiB,gBAAA,CAAA,CAAC,CAAI,GAAA,CAAA,UAAA,EAAa,CAAY,CAAA,QAAA,EAAA,CAAA,CAAA,YAAA,CAAA,CAAA;AAE/C,IAAA,IAAI,UACJ,EAAA;AACI,MAAA,aAAA,CAAc,CAAC,CAAA,GAAI,CAAuB,oBAAA,EAAA,CAAA,GAAI,UAAa,GAAA,CAAA,CAAA,kBAAA,CAAA,CAAA;AAAA,KAG/D,MAAA;AACI,MAAA,aAAA,CAAc,CAAC,CAAA,GAAI,CAA4B,yBAAA,EAAA,CAAA,GAAI,UAAa,GAAA,CAAA,CAAA,aAAA,CAAA,CAAA;AAAA,KACpE;AAEA,IAAA,MAAM,WAAc,GAAA,CAAA,GAAI,UAAa,GAAA,CAAA,GAAK,aAAa,CAAI,GAAA,CAAA,CAAA;AAC3D,IAAA,MAAM,WAAc,GAAA,MAAA,CAAO,WAAW,CAAA,CAAE,QAAS,EAAA,CAAA;AAEjD,IAAmB,kBAAA,CAAA,CAAC,CAAI,GAAA,CAAA,sDAAA,EAAyD,CAAQ,CAAA,IAAA,EAAA,WAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAC7F;AAEA,EAAM,MAAA,UAAA,GAAa,gBAAiB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC7C,EAAM,MAAA,OAAA,GAAU,aAAc,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACvC,EAAM,MAAA,YAAA,GAAe,kBAAmB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEjD,EAAA,MAAM,cAAc+C,QACf,CAAA,OAAA,CAAQ,eAAiB,EAAA,UAAU,EACnC,OAAQ,CAAA,mBAAA,EAAqB,OAAO,CAAA,CACpC,QAAQ,oBAAsB,EAAA,UAAU,CACxC,CAAA,OAAA,CAAQ,mBAAmB,YAAY,CAAA,CAAA;AAE5C,EAAA,OAAO,WAAW,IAAK,CAAA;AAAA,IACnB,MAAQ,EAAA;AAAA,MACJ,MAAQ,EAAA,WAAA;AAAA,MACR,UAAY,EAAA,YAAA;AAAA,KAChB;AAAA,IACA,QAAU,EAAA;AAAA,MACN,MAAQ,EAAA,WAAA;AAAA,MACR,UAAY,EAAA,cAAA;AAAA,KAChB;AAAA,GACH,CAAA,CAAA;AACL;;;;;;;;;;;;;;;;;;ACnCO,MAAM,eAAA,GAAN,cAA6B,MACpC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBI,YAAY,OACZ,EAAA;AACI,IAAU,OAAA,GAAA/C,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,gBAAe,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEjD,IAAA,MAAM,SAAY,GAAA,qBAAA,CAAsB,OAAQ,CAAA,UAAA,EAAY,QAAQ,UAAU,CAAA,CAAA;AAC9E,IAAA,MAAM,UAAa,GAAA,mBAAA,CAAoB,OAAQ,CAAA,UAAA,EAAY,QAAQ,UAAU,CAAA,CAAA;AAE7E,IAAM,KAAA,CAAAA,gBAAA,CAAA;AAAA,MACF,SAAA;AAAA,MACA,UAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,YAAc,EAAA;AAAA,UACV,QAAU,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,SACtC;AAAA,OACJ;AAAA,KAAA,EACG,OACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAa,OAAQ,CAAA,UAAA,CAAA;AAE1B,IAAA,IAAA,CAAK,QAAW,GAAA,CAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,OAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,OAAO,OAAQ,CAAA,QAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,SAAA,GAAY,IAAK,CAAA,SAAA,CAAU,YAAa,CAAA,QAAA,CAAA;AAAA,GACjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,KACH,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,QAAA,GAAW,IAAK,CAAA,QAAA,GAAW,IAAK,CAAA,MAAA,CAAA;AAE/C,IAAI,IAAA,IAAA,CAAK,WAAW,CACpB,EAAA;AACI,MAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,KAAO,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,KAG5D,MAAA;AACI,MAAM,MAAA,WAAA,GAAc,WAAY,CAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAExD,MAAA,IAAI,IAAO,GAAA,KAAA,CAAA;AACX,MAAA,IAAI,IAAO,GAAA,WAAA,CAAA;AAEX,MAAA,IAAA,CAAK,OAAO,KAAQ,GAAA,KAAA,CAAA;AAEpB,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,MAAA,GAAS,GAAG,CACrC,EAAA,EAAA;AACI,QAAc,aAAA,CAAA,WAAA,CAAY,MAAM,IAAM,EAAA,IAAA,EAAM,cAAc,QAAS,CAAA,IAAA,KAAS,aAAa,MAAM,CAAA,CAAA;AAE/F,QAAA,MAAM,IAAO,GAAA,IAAA,CAAA;AAEb,QAAO,IAAA,GAAA,IAAA,CAAA;AACP,QAAO,IAAA,GAAA,IAAA,CAAA;AAAA,OACX;AAEA,MAAA,IAAA,CAAK,OAAO,KAAQ,GAAA,IAAA,CAAA;AACpB,MAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,IAAM,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AACvD,MAAA,WAAA,CAAY,cAAc,WAAW,CAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,IAAA,CAAK,OAAU,GAAA,CAAA,GAAK,IAAK,CAAA,GAAA,CAAI,KAAK,CAAI,GAAA,CAAA,CAAA;AACtC,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AAAA,GAClB;AACJ,CAAA,CAAA;AA9HO,IAAM,cAAN,GAAA,gBAAA;AAAM,cAAA,CAEK,cAAiD,GAAA;AAAA,EAC3D,QAAU,EAAA,CAAA;AAAA,EACV,OAAS,EAAA,CAAA;AAAA,EACT,UAAY,EAAA,CAAA;AAChB,CAAA;;;;;;;;;;;;;;;;;;;;;ACEG,MAAM,mBAAmB,MAChC,CAAA;AAAA,EAqBI,eAAe,IACf,EAAA;AAhDJ,IAAA,IAAA,EAAA,CAAA;AAiDQ,IAAA,IAAI,OAAU,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,CAAC,CAAA,KAAN,YAAW,EAAC,CAAA;AAG1B,IAAI,IAAA,OAAO,YAAY,QACvB,EAAA;AAEI,MAAA,WAAA,CAAY,QAAQ,iHAAiH,CAAA,CAAA;AAErI,MAAU,OAAA,GAAA,EAAE,UAAU,OAAQ,EAAA,CAAA;AAE9B,MAAA,IAAI,KAAK,CAAC,CAAA;AAAE,QAAQ,OAAA,CAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AACpC,MAAA,IAAI,KAAK,CAAC,CAAA;AAAE,QAAQ,OAAA,CAAA,UAAA,GAAa,KAAK,CAAC,CAAA,CAAA;AACvC,MAAA,IAAI,KAAK,CAAC,CAAA;AAAE,QAAQ,OAAA,CAAA,UAAA,GAAa,KAAK,CAAC,CAAA,CAAA;AAAA,KAC3C;AAEA,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,eAAe,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEjD,IAAA,KAAA,CAAMD,qCACC,OADD,CAAA,EAAA;AAAA,MAEF,mBAAA,EAAqB,YAAa,CAAA,KAAA,GAAQ,YAAa,CAAA,MAAA;AAAA,MACvD,WAAW,EAAC;AAAA,KACf,CAAA,CAAA,CAAA;AAlCL,IAAA,IAAA,CAAQ,iBAAoB,GAAA,KAAA,CAAA;AAoCxB,IAAA,IAAA,CAAK,cAAc,IAAI,cAAA,CAAeC,gBAAE,CAAA,EAAA,UAAA,EAAY,SAAU,OAAS,CAAA,CAAA,CAAA;AACvE,IAAA,IAAA,CAAK,cAAc,IAAI,cAAA,CAAeA,gBAAE,CAAA,EAAA,UAAA,EAAY,QAAS,OAAS,CAAA,CAAA,CAAA;AAEtE,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,OAAA,CAAA;AACvB,IAAA,IAAA,CAAK,OAAO,OAAQ,CAAA,QAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,gBAAmB,GAAA,KAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,KACH,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,YAAY,QAAQ,CAAA,CAAA;AACpD,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,YAAY,QAAQ,CAAA,CAAA;AAEpD,IAAA,IAAI,aAAa,SACjB,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,WAAY,CAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAExD,MAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,aAAe,EAAA,KAAA,EAAO,aAAa,IAAI,CAAA,CAAA;AAC9D,MAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,aAAe,EAAA,WAAA,EAAa,QAAQ,SAAS,CAAA,CAAA;AAEpE,MAAA,WAAA,CAAY,cAAc,WAAW,CAAA,CAAA;AAAA,eAEhC,SACT,EAAA;AACI,MAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,aAAe,EAAA,KAAA,EAAO,QAAQ,SAAS,CAAA,CAAA;AAAA,KAGlE,MAAA;AACI,MAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,aAAe,EAAA,KAAA,EAAO,QAAQ,SAAS,CAAA,CAAA;AAAA,KAClE;AAAA,GACJ;AAAA,EAEU,aACV,GAAA;AACI,IAAA,IAAI,KAAK,iBACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,CAAA,CAAA;AAAA,KAGnB,MAAA;AACI,MAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,CAAK,IAAI,IAAK,CAAA,WAAA,CAAY,IAAI,CAAA,EAAG,KAAK,GAAI,CAAA,IAAA,CAAK,WAAY,CAAA,IAAI,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KAChG;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,CAAA,IAAA,GAAO,IAAK,CAAA,WAAA,CAAY,IAAO,GAAA,KAAA,CAAA;AAChD,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,OAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,WAAY,CAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,OAAU,GAAA,KAAA,CAAA;AAAA,GAC1D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,YAAY,IAAO,GAAA,KAAA,CAAA;AACxB,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,YAAY,IAAO,GAAA,KAAA,CAAA;AACxB,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,SAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,YAAY,SAAY,GAAA,KAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,gBACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,iBAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,iBAAiB,KACrB,EAAA;AACI,IAAA,IAAA,CAAK,iBAAoB,GAAA,KAAA,CAAA;AACzB,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAAA,GACvB;AACJ,CAAA;AA/La,UAAA,CAEK,cAA6C,GAAA;AAAA,EACvD,QAAU,EAAA,CAAA;AAAA,EACV,OAAS,EAAA,CAAA;AAAA,EACT,UAAY,EAAA,CAAA;AAChB,CAAA;;;;;;;;ACCG,MAAM,0BAA0B,MACvC,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,MAAA,mBAAA,GAAsB,IAAI,YAAa,CAAA;AAAA,MACzC,YAAc,EAAA;AAAA,QACV,KAAO,EAAA;AAAA,UACH,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UACZ,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UACZ,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UACZ,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,UAAG,CAAA;AAAA,SAChB;AAAA,QACA,IAAM,EAAA,WAAA;AAAA,QACN,IAAM,EAAA,CAAA;AAAA,OACV;AAAA,MACA,MAAQ,EAAA;AAAA,QACJ,KAAO,EAAA,CAAA;AAAA,QACP,IAAM,EAAA,KAAA;AAAA,OACV;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,UAAA,GAAa,WAAW,IAAK,CAAA;AAAA,MAC/B,MAAQ,EAAA;AAAA,gBACJ+C,QAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,gBACNA,QAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,UAAU,IAAK,CAAA;AAAA,cAC7BC,QAAA;AAAA,gBACAC,UAAA;AAAA,MACA,IAAM,EAAA,qBAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,mBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,WAAA,CAAY,MAAqB,EAAA,QAAA,GAAW,KACpD,EAAA;AACI,IAAA,IAAI,SAAY,GAAA,MAAA,CAAA;AAEhB,IAAA,IAAI,QACJ,EAAA;AACI,MAAA,IAAA,CAAK,SAAU,CAAA,SAAA,EAAW,IAAK,CAAA,MAAA,EAAQ,MAAM,CAAA,CAAA;AAC7C,MAAY,SAAA,GAAA,IAAA,CAAK,aAAa,SAAS,CAAA,CAAA;AAAA,KAC3C;AAIA,IAAK,IAAA,CAAA,SAAA,CAAU,mBAAoB,CAAA,QAAA,CAAS,YAAe,GAAA,SAAA,CAAA;AAC3D,IAAK,IAAA,CAAA,SAAA,CAAU,oBAAoB,MAAO,EAAA,CAAA;AAAA,GAC9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUQ,SAAA,CAAU,GAAkB,EAAA,CAAA,EAAgB,CACpD,EAAA;AAEI,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,CAAA;AAG9E,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,CAAC,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AACtE,IAAI,GAAA,CAAA,CAAC,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,CAAM,GAAA,CAAA,CAAE,CAAC,CAAA,GAAI,CAAE,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,CAAC,CAAA,CAAA;AAG9E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAGpF,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,EAAE,CAAC,CAAA,GAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,IAAM,CAAE,CAAA,EAAE,CAAI,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAC3E,IAAI,GAAA,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,CAAC,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,CAAM,GAAA,CAAA,CAAE,EAAE,CAAA,GAAI,CAAE,CAAA,EAAE,CAAK,GAAA,CAAA,CAAE,EAAE,CAAA,CAAA;AAEpF,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,aAAa,MACrB,EAAA;AAEI,IAAM,MAAA,CAAA,GAAI,IAAI,YAAA,CAAa,MAAM,CAAA,CAAA;AAEjC,IAAA,CAAA,CAAE,CAAC,CAAK,IAAA,GAAA,CAAA;AACR,IAAA,CAAA,CAAE,CAAC,CAAK,IAAA,GAAA,CAAA;AACR,IAAA,CAAA,CAAE,EAAE,CAAK,IAAA,GAAA,CAAA;AACT,IAAA,CAAA,CAAE,EAAE,CAAK,IAAA,GAAA,CAAA;AAET,IAAO,OAAA,CAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,UAAA,CAAW,GAAW,QAC7B,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,IAAA,CAAK,OAAoB,QAChC,EAAA;AACI,IAAM,MAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,GAAI,MAAM,MAAO,CAAA,QAAA,CAAS,KAAK,CAAA,CAAE,OAAQ,EAAA,CAAA;AACvD,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,SAAA,CAAU,OAAe,QAChC,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,CAAA;AAAA,MAAG,CAAA;AAAA,MACxB,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,CAAA;AAAA,MAAG,CAAA;AAAA,MACxB,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,KAAA;AAAA,MAAO,CAAA;AAAA,MAAG,CAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAA,CAAU,OAAe,QAChC,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,OAAO,QAAQ,CAAA,CAAA;AAAA,GAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,cAAc,QACrB,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,GAAA,CAAI,UAAkB,QAC7B,EAAA;AACI,IAAY,QAAA,GAAA,CAAA,QAAA,IAAY,CAAK,IAAA,GAAA,GAAM,IAAK,CAAA,EAAA,CAAA;AAExC,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,GAAA,CAAI,QAAQ,CAAA,CAAA;AAC9B,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,GAAA,CAAI,QAAQ,CAAA,CAAA;AAC9B,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAelB,IAAA,MAAM,IAAI,CAAI,GAAA,CAAA,CAAA;AACd,IAAM,MAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AAEnB,IAAM,MAAA,GAAA,GAAM,IAAS,GAAA,CAAA,CAAA,GAAM,IAAQ,IAAA,CAAA,CAAA;AACnC,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AACzC,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AAEzC,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AACzC,IAAM,MAAA,GAAA,GAAM,IAAQ,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,CAAA;AAC/B,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AAEzC,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AACzC,IAAA,MAAM,GAAO,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,GAAU,IAAO,GAAA,IAAA,CAAA;AACzC,IAAM,MAAA,GAAA,GAAM,IAAQ,GAAA,CAAA,IAAK,CAAM,GAAA,IAAA,CAAA,CAAA;AAE/B,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,QAAA,CAAS,QAAgB,QAChC,EAAA;AACI,IAAM,MAAA,CAAA,GAAA,CAAK,UAAU,CAAK,IAAA,CAAA,CAAA;AAC1B,IAAM,MAAA,CAAA,GAAI,QAAQ,CAAI,GAAA,CAAA,CAAA,CAAA;AAEtB,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,QAAA,CAAS,MAAS,GAAA,CAAA,EAAG,QAC5B,EAAA;AACI,IAAM,MAAA,CAAA,GAAK,MAAS,GAAA,CAAA,GAAI,CAAK,GAAA,CAAA,CAAA;AAC7B,IAAM,MAAA,CAAA,GAAA,CAAM,IAAI,CAAK,IAAA,CAAA,GAAA,CAAA;AAErB,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA,EAGO,UACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAS,CAAE,CAAA,CAAA,CAAA;AAAA,GACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,QAChB,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA,CAAA;AAAA,MAAI,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACb,CAAA;AAAA,MAAG,CAAA,CAAA;AAAA,MAAI,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACb,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA,CAAA;AAAA,MAAI,CAAA;AAAA,MAAG,CAAA;AAAA,MACb,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,MAAM,QACb,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,KAAA;AAAA,MAAO,SAAA;AAAA,MAAW,UAAA;AAAA,MAAY,CAAA;AAAA,MAAG,CAAA;AAAA,MACjC,KAAA;AAAA,MAAO,SAAA;AAAA,MAAW,UAAA;AAAA,MAAY,CAAA;AAAA,MAAG,CAAA;AAAA,MACjC,KAAA;AAAA,MAAO,SAAA;AAAA,MAAW,UAAA;AAAA,MAAY,CAAA;AAAA,MAAG,CAAA;AAAA,MACjC,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,YAAY,QACnB,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,kBAAA;AAAA,MAAoB,CAAA,kBAAA;AAAA,MAAqB,CAAA,mBAAA;AAAA,MAAsB,CAAA;AAAA,MAAG,kBAAA;AAAA,MAClE,CAAA,kBAAA;AAAA,MAAqB,kBAAA;AAAA,MAAoB,CAAA,mBAAA;AAAA,MAAsB,CAAA;AAAA,MAAG,CAAA,iBAAA;AAAA,MAClE,CAAA,iBAAA;AAAA,MAAoB,CAAA,kBAAA;AAAA,MAAqB,iBAAA;AAAA,MAAmB,CAAA;AAAA,MAAG,kBAAA;AAAA,MAC/D,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,QAChB,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,KAAA;AAAA,MAAO,CAAA,KAAA;AAAA,MAAQ,CAAA,KAAA;AAAA,MAAQ,CAAA;AAAA,MAAG,CAAA;AAAA,MAC1B,CAAA,KAAA;AAAA,MAAQ,KAAA;AAAA,MAAO,CAAA,KAAA;AAAA,MAAQ,CAAA;AAAA,MAAG,CAAA;AAAA,MAC1B,CAAA,KAAA;AAAA,MAAQ,CAAA,KAAA;AAAA,MAAQ,KAAA;AAAA,MAAO,CAAA;AAAA,MAAG,CAAA;AAAA,MAC1B,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,MAAM,QACb,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,WAAW,QAClB,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,kBAAA;AAAA,MAAoB,CAAA,kBAAA;AAAA,MAAqB,CAAA,mBAAA;AAAA,MAAsB,CAAA;AAAA,MAAG,iBAAA;AAAA,MAClE,CAAA,mBAAA;AAAA,MAAsB,kBAAA;AAAA,MAAoB,CAAA,mBAAA;AAAA,MAAsB,CAAA;AAAA,MAAG,kBAAA;AAAA,MACnE,CAAA,mBAAA;AAAA,MAAsB,CAAA,kBAAA;AAAA,MAAqB,kBAAA;AAAA,MAAoB,CAAA;AAAA,MAAG,iBAAA;AAAA,MAClE,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,QACd,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,kBAAA;AAAA,MAAoB,mBAAA;AAAA,MAAqB,CAAA,kBAAA;AAAA,MAAqB,CAAA;AAAA,MAAG,iBAAA;AAAA,MACjE,CAAA,oBAAA;AAAA,MAAuB,kBAAA;AAAA,MAAoB,mBAAA;AAAA,MAAqB,CAAA;AAAA,MAAG,CAAA,iBAAA;AAAA,MACnE,mBAAA;AAAA,MAAqB,CAAA,mBAAA;AAAA,MAAsB,mBAAA;AAAA,MAAqB,CAAA;AAAA,MAAG,CAAA,iBAAA;AAAA,MACnE,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,QAAQ,QACf,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,kBAAA;AAAA,MAAoB,kBAAA;AAAA,MAAoB,CAAA,mBAAA;AAAA,MAAsB,CAAA;AAAA,MAAG,iBAAA;AAAA,MACjE,mBAAA;AAAA,MAAqB,kBAAA;AAAA,MAAoB,mBAAA;AAAA,MAAqB,CAAA;AAAA,MAAG,iBAAA;AAAA,MACjE,kBAAA;AAAA,MAAoB,CAAA,kBAAA;AAAA,MAAqB,kBAAA;AAAA,MAAoB,CAAA;AAAA,MAAG,iBAAA;AAAA,MAChE,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWO,SACH,CAAA,YAAA,EACA,KACA,EAAA,UAAA,EACA,WACA,QAEJ,EAAA;AACI,IAAA,YAAA,GAAe,YAAgB,IAAA,GAAA,CAAA;AAC/B,IAAA,KAAA,GAAQ,KAAS,IAAA,IAAA,CAAA;AACjB,IAAA,UAAA,GAAa,UAAc,IAAA,QAAA,CAAA;AAC3B,IAAA,SAAA,GAAY,SAAa,IAAA,OAAA,CAAA;AAEzB,IAAA,MAAM,OAAO,KAAM,CAAA,MAAA,CAAA;AACnB,IAAM,MAAA,CAAC,IAAI,EAAI,EAAA,EAAE,IAAI,IAAK,CAAA,QAAA,CAAS,UAAU,CAAA,CAAE,OAAQ,EAAA,CAAA;AACvD,IAAM,MAAA,CAAC,IAAI,EAAI,EAAA,EAAE,IAAI,IAAK,CAAA,QAAA,CAAS,SAAS,CAAA,CAAE,OAAQ,EAAA,CAAA;AAEtD,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,GAAA;AAAA,MAAK,IAAA;AAAA,MAAM,IAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA;AAAA,MACpB,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,YAAA;AAAA,MAAc,CAAA;AAAA,MAC1B,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,EAAA;AAAA,MAAI,KAAA;AAAA,MAAO,CAAA;AAAA,MACnB,EAAK,GAAA,EAAA;AAAA,MAAI,EAAK,GAAA,EAAA;AAAA,MAAI,EAAK,GAAA,EAAA;AAAA,MAAI,CAAA;AAAA,MAAG,CAAA;AAAA,KAClC,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KAAA,CAAM,WAAmB,QAChC,EAAA;AACI,IAAA,SAAA,GAAY,SAAa,IAAA,GAAA,CAAA;AAEzB,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,SAAa,GAAA,CAAA,CAAA;AAAA,MAAO,CAAC,SAAA;AAAA,MAAW,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACtC,CAAC,SAAA;AAAA,MAAW,CAAA;AAAA,MAAG,SAAA;AAAA,MAAW,CAAA;AAAA,MAAG,CAAA;AAAA,MAC7B,CAAA;AAAA,MAAG,SAAA;AAAA,MAAW,SAAY,GAAA,CAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MAClC,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,QAAA,CAAS,QAAgB,QAChC,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA;AAAA,MAExB,kBAAqB,GAAA,MAAA;AAAA,MACrB,CAAqB,iBAAA,GAAA,MAAA;AAAA,MACrB,CAAsB,kBAAA,GAAA,MAAA;AAAA,MACtB,CAAI,GAAA,MAAA;AAAA,MACJ,mBAAsB,GAAA,MAAA;AAAA;AAAA,MAEtB,CAAsB,kBAAA,GAAA,MAAA;AAAA,MACtB,iBAAoB,GAAA,MAAA;AAAA,MACpB,CAAqB,iBAAA,GAAA,MAAA;AAAA,MACrB,CAAI,GAAA,MAAA;AAAA,MACJ,CAAqB,iBAAA,GAAA,MAAA;AAAA;AAAA,MAErB,CAAsB,kBAAA,GAAA,MAAA;AAAA,MACtB,CAAsB,kBAAA,GAAA,MAAA;AAAA,MACtB,iBAAoB,GAAA,MAAA;AAAA,MACpB,CAAI,GAAA,MAAA;AAAA,MACJ,kBAAqB,GAAA,MAAA;AAAA;AAAA,MAErB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,IAAI,QACX,EAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA,GAAA;AAAA,MAAM,GAAA;AAAA,MAAK,CAAA;AAAA,MAAG,CAAA;AAAA,MACjB,CAAA,GAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA,GAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,CAAA,GAAA;AAAA,MAAM,CAAA,GAAA;AAAA,MAAM,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAClB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,QAAQ,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA,EAGO,KACP,GAAA;AACI,IAAA,MAAM,MAAsB,GAAA;AAAA,MACxB,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MACZ,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,CAAA;AAAA,KAChB,CAAA;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,QAAQ,KAAK,CAAA,CAAA;AAAA,GAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,mBAAA,CAAoB,QAAS,CAAA,YAAA,CAAA;AAAA,GACvD;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,mBAAoB,CAAA,QAAA,CAAS,YAAe,GAAA,KAAA,CAAA;AAAA,GAC/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,mBAAA,CAAoB,QAAS,CAAA,MAAA,CAAA;AAAA,GACvD;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,mBAAoB,CAAA,QAAA,CAAS,MAAS,GAAA,KAAA,CAAA;AAAA,GACzD;AACJ;;;;;;;;ACpmBO,MAAM,2BAA2B,MACxC,CAAA;AAAA,EAMI,eAAe,IACf,EAAA;AArCJ,IAAA,IAAA,EAAA,CAAA;AAsCQ,IAAI,IAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AAEpB,IAAA,IAAI,mBAAmB,MACvB,EAAA;AACI,MAAI,IAAA,IAAA,CAAK,CAAC,CACV,EAAA;AACI,QAAA,WAAA,CAAY,QAAQ,+EAA+E,CAAA,CAAA;AAAA,OACvG;AAEA,MAAA,OAAA,GAAU,EAAE,MAAQ,EAAA,OAAA,EAAS,KAAO,EAAA,IAAA,CAAK,CAAC,CAAE,EAAA,CAAA;AAAA,KAChD;AAEA,IAAI,IAAA,KAAA,GAAA,CAAQ,EAAQ,GAAA,OAAA,CAAA,KAAA,KAAR,IAAiB,GAAA,EAAA,GAAA,EAAA,CAAA;AAG7B,IAAI,IAAA,OAAO,UAAU,QACrB,EAAA;AACI,MAAQ,KAAA,GAAA,IAAI,KAAM,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;AAAA,KAClC;AAEA,IAAM,MAAA,cAAA,GAAiB,IAAI,YAAa,CAAA;AAAA,MACpC,cAAc,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MACzD,KAAO,EAAA,EAAE,KAAO,EAAA,KAAA,EAAO,MAAM,WAAY,EAAA;AAAA,MACzC,QAAU,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,KACxE,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,UAAU,IAAK,CAAA;AAAA,cAC7BD,QAAA;AAAA,gBACAC,UAAA;AAAA,MACA,IAAM,EAAA,qBAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,MAAA,UAAA,GAAa,WAAW,IAAK,CAAA;AAAA,MAC/B,MAAQ,EAAA;AAAA,gBACJF,QAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,gBACNA,QAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,aAAA,GAAgB,OAAQ,CAAA,MAAA,CAAO,OAAQ,CAAA,MAAA,CAAA;AAE7C,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,cAAA;AAAA,QACA,UAAY,EAAA,aAAA;AAAA,QACZ,YAAY,aAAc,CAAA,KAAA;AAAA,OAC9B;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,MAAA,CAAA;AACvB,IAAA,IAAA,CAAK,QAAQ,UAAa,GAAA,KAAA,CAAA;AAAA,GAC9B;AAAA,EAEO,KACH,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AACI,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,SAAA,CAAU,cAAe,CAAA,QAAA,CAAA;AAE/C,IAAc,aAAA,CAAA,qBAAA;AAAA,MACV,QAAS,CAAA,YAAA;AAAA,MACT,IAAK,CAAA,OAAA;AAAA,KACT,CAAA;AAGA,IAAM,MAAA,EAAA,GAAK,KAAK,OAAQ,CAAA,cAAA,CAAA;AACxB,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAM,EAAG,CAAA,CAAA,GAAI,GAAG,CAAM,GAAA,EAAA,CAAG,CAAI,GAAA,EAAA,CAAG,CAAE,CAAA,CAAA;AACpD,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAM,EAAG,CAAA,CAAA,GAAI,GAAG,CAAM,GAAA,EAAA,CAAG,CAAI,GAAA,EAAA,CAAG,CAAE,CAAA,CAAA;AAEpD,IAAI,IAAA,IAAA,KAAS,CAAK,IAAA,IAAA,KAAS,CAC3B,EAAA;AACI,MAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAA;AAC9B,MAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAA;AAC9B,MAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAA;AAC9B,MAAA,QAAA,CAAS,QAAS,CAAA,CAAC,CAAI,GAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KAClC;AAEA,IAAA,IAAA,CAAK,SAAU,CAAA,UAAA,GAAa,IAAK,CAAA,OAAA,CAAQ,OAAQ,CAAA,MAAA,CAAA;AAEjD,IAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,KAAO,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GAC5D;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,cAAA,CAAe,QAAS,CAAA,KAAA,CAAA;AAAA,GAClD;AACJ;;;;;;;;;;;;;;;;;;;;;;AChHO,MAAM,YAAA,GAAN,cAA0B,MACjC,CAAA;AAAA;AAAA;AAAA;AAAA,EASI,WAAA,CAAY,OAA8B,GAAA,EAC1C,EAAA;AAhCJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAiCQ,IAAU,OAAA,GAAA/C,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,aAAY,OAAY,CAAA,EAAA,OAAA,CAAA,CAAA;AAEvC,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,MAAQ,EAAA;AAAA,gBACJ+C,QAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,gBACNA,QAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,IAAI,SAAU,CAAA;AAAA,cAC5BC,QAAA;AAAA,gBACAC,UAAA;AAAA,MACA,IAAM,EAAA,cAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,aAAA,EAAe,IAAI,YAAa,CAAA;AAAA,UAC5B,QAAQ,EAAE,KAAA,EAAO,OAAQ,CAAA,KAAA,EAAO,MAAM,KAAM,EAAA;AAAA,UAC5C,KAAA,EAAO,EAAE,KAAA,EAAA,CAAO,EAAQ,GAAA,OAAA,CAAA,IAAA,KAAR,YAAgB,IAAK,CAAA,MAAA,EAAU,EAAA,IAAA,EAAM,KAAM,EAAA;AAAA,SAC9D,CAAA;AAAA,OACL;AAAA,MACA,UAAY,EAAA,CAAA;AAAA,KACf,CAAA,CAAA;AAED,IAAM,MAAA,KAAA,GAAA,CAAQ,EAAQ,GAAA,OAAA,CAAA,KAAA,KAAR,IAAiB,GAAA,EAAA,GAAA,GAAA,CAAA;AAC/B,IAAA,MAAM,IAAO,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,EAAA,GAAgB,KAAK,MAAO,EAAA,CAAA;AAEzC,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,aAAA,CAAc,QAAS,CAAA,MAAA,CAAA;AAAA,GACjD;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,QAAA,CAAS,MAAS,GAAA,KAAA,CAAA;AAAA,GACnD;AAAA;AAAA,EAGA,IAAI,IACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,aAAA,CAAc,QAAS,CAAA,KAAA,CAAA;AAAA,GACjD;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,QAAA,CAAS,KAAQ,GAAA,KAAA,CAAA;AAAA,GAClD;AACJ,CAAA,CAAA;AA1EO,IAAM,WAAN,GAAA,aAAA;AAAM,WAAA,CAEc,OAA8B,GAAA;AAAA,EACjD,KAAO,EAAA,GAAA;AAAA,EACP,IAAM,EAAA,KAAA,CAAA;AACV,CAAA;;;;;;;;;;;;;;;;;;;;;;;;AC4BG,MAAM,gBAAA,GAAN,cAA8B,MACrC,CAAA;AAAA;AAAA;AAAA;AAAA,EAuBI,WAAA,CAAY,OAAkC,GAAA,EAC9C,EAAA;AACI,IAAU,OAAA,GAAAjD,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,iBAAgB,OAAY,CAAA,EAAA,OAAA,CAAA,CAAA;AAE3C,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,MAAQ,EAAA;AAAA,gBACJ+C,QAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,gBACNA,QAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,IAAI,SAAU,CAAA;AAAA,cAC5BC,QAAA;AAAA,gBACAC,UAAA;AAAA,MACA,IAAM,EAAA,kBAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,iBAAA,EAAmB,IAAI,YAAa,CAAA;AAAA,UAChC,KAAO,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,UAC/B,SAAS,EAAE,KAAA,EAAO,OAAQ,CAAA,MAAA,EAAQ,MAAM,WAAY,EAAA;AAAA,UACpD,QAAQ,EAAE,KAAA,EAAO,OAAQ,CAAA,KAAA,EAAO,MAAM,KAAM,EAAA;AAAA,UAC5C,KAAA,EAAO,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,SAC1D,CAAA;AAAA,OACL;AAAA,MACA,UAAY,EAAA,CAAA;AAAA,KACf,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,IAAO,GAAA,CAAA,CAAA;AAEZ,IAAK,IAAA,CAAA,QAAA,GAAW,IAAK,CAAA,SAAA,CAAU,iBAAkB,CAAA,QAAA,CAAA;AAEjD,IAAO,MAAA,CAAA,MAAA,CAAO,MAAM,OAAO,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEgB,KACZ,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AAII,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,IAAK,CAAA,IAAA,CAAA;AAC3B,IAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,KAAO,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GAC5D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MAAoB,GAAA;AAAE,IAAA,OAAO,KAAK,QAAS,CAAA,OAAA,CAAA;AAAA,GAAS;AAAA,EACxD,IAAI,OAAO,KAAkB,EAAA;AAAE,IAAA,IAAA,CAAK,SAAS,OAAU,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAM9D,IAAI,OAAkB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA,EACxD,IAAI,QAAQ,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAM9D,IAAI,OAAkB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,CAAA,CAAA;AAAA,GAAG;AAAA,EACxD,IAAI,QAAQ,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAM9D,IAAI,KAAgB,GAAA;AAAE,IAAA,OAAO,KAAK,QAAS,CAAA,MAAA,CAAA;AAAA,GAAQ;AAAA,EACnD,IAAI,MAAM,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,SAAS,MAAS,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAMzD,IAAI,SAAoB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA,EACzD,IAAI,UAAU,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAM/D,IAAI,UAAqB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA,EAC1D,IAAI,WAAW,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAMhE,IAAI,UAAqB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA,EAC1D,IAAI,WAAW,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAMhE,IAAI,MAAiB,GAAA;AAAE,IAAO,OAAA,IAAA,CAAK,QAAS,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAAA,GAAG;AAAA,EACtD,IAAI,OAAO,KAAe,EAAA;AAAE,IAAK,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,GAAO;AAChE,CAAA,CAAA;AAvIO,IAAM,eAAN,GAAA,iBAAA;AAAM,eAAA,CAEc,OAAkC,GAAA;AAAA,EACrD,MAAQ,EAAA,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAE,EAAA;AAAA,EACrB,KAAO,EAAA,GAAA;AAAA,EACP,SAAW,EAAA,EAAA;AAAA,EACX,UAAY,EAAA,GAAA;AAAA,EACZ,UAAY,EAAA,CAAA;AAAA,EACZ,MAAQ,EAAA,CAAA,CAAA;AACZ,CAAA;;ACrDG,MAAM,UACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,IAAA,CAAK,YAAsB,EAAA,SAAA,EAAsB,cACxD,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,KAAK,SAAU,CAAA,WAAA,CAAA;AAEnC,IAAY,WAAA,CAAA,KAAA,CAAM,MAAM,cAAc,CAAA,CAAA;AAEtC,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,QAAA;AAAA,MACN,SAAW,EAAA,KAAA;AAAA,MACX,MAAQ,EAAA,YAAA;AAAA,MACR,SAAA;AAAA,MACA,YAAA;AAAA,KACkB,CAAA,CAAA;AAAA,GAC1B;AAAA,EAEO,GAAA,CAAI,aAAuB,EAAA,UAAA,EAAuB,cACzD,EAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAErD,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,QAAA;AAAA,MACN,MAAQ,EAAA,WAAA;AAAA,MACR,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,QAAQ,WACf,EAAA;AACI,IAAI,IAAA,WAAA,CAAY,WAAW,YAC3B,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,MAAO,CAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AAAA,KAC1C,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,WAChC,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,OAAO,GAAI,EAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AA5Da,UAAA,CAEK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;ACOG,MAAM,eAAevC,aAK5B,CAAA;AAAA,EAgBI,YAAY,EAAE,IAAA,EAAM,IAAM,EAAA,KAAA,EAAO,OACjC,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAjBV,IAAA,IAAA,CAAgB,YAAe,GAAA,QAAA,CAAA;AAC/B,IAAO,IAAA,CAAA,UAAA,GAAa,IAAI,gBAAgB,CAAA,CAAA;AAExC,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AACjB,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,QAAQ,CAAA,CAAA;AAKlC;AAAA,IAAA,IAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AAUf,IAAA,IAAI,gBAAgB,KACpB,EAAA;AACI,MAAO,IAAA,GAAA,IAAI,aAAa,IAAgB,CAAA,CAAA;AAAA,KAC5C;AAEA,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAA,IAAA,GAAO,sBAAS,IAAqB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA;AAErC,IAAM,MAAA,gBAAA,GAAmB,CAAC,CAAC,IAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,UAAa,GAAA;AAAA,MACd,IAAA;AAAA,MACA,KAAA;AAAA,MACA,gBAAA;AAAA,MACA,KAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,UAAU,KACnB,EAAA;AACI,MAAA,MAAM,UAAU,IAAK,CAAA,KAAA,CAAA;AAErB,MAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAEb,MAAI,IAAA,OAAA,CAAQ,MAAW,KAAA,KAAA,CAAM,MAC7B,EAAA;AACI,QAAK,IAAA,CAAA,UAAA,CAAW,OAAO,KAAM,CAAA,UAAA,CAAA;AAC7B,QAAK,IAAA,CAAA,UAAA,GAAa,IAAI,gBAAgB,CAAA,CAAA;AAEtC,QAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,OAG5B,MAAA;AACI,QAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,OAC5B;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,OAAO,WACd,EAAA;AACI,IAAK,IAAA,CAAA,WAAA,GAAc,WAAe,IAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAA;AAClD,IAAK,IAAA,CAAA,SAAA,EAAA,CAAA;AAEL,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAAA,GAC5B;AACJ;;AClHY,IAAA,WAAA,qBAAAwC,YAAL,KAAA;AAGH,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,cAAW,CAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,eAAY,CAAZ,CAAA,GAAA,WAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,cAAW,CAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,cAAW,CAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,WAAQ,EAAR,CAAA,GAAA,OAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,YAAS,EAAT,CAAA,GAAA,QAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,aAAU,EAAV,CAAA,GAAA,SAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,aAAU,GAAV,CAAA,GAAA,SAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,cAAW,GAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,mBAAgB,GAAhB,CAAA,GAAA,eAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,YAAS,IAAT,CAAA,GAAA,QAAA,CAAA;AAbQ,EAAAA,OAAAA,YAAAA,CAAAA;AAAA,CAAA,EAAA,WAAA,IAAA,EAAA;;ACKI,SAAA,cAAA,CAAe,QAAwC,KACvE,EAAA;AACI,EAAI,IAAA,EAAE,kBAAkB,MACxB,CAAA,EAAA;AACI,IAAA,IAAI,KAAgB,GAAA,KAAA,GAAQ,WAAY,CAAA,KAAA,GAAQ,WAAY,CAAA,MAAA,CAAA;AAG5D,IAAA,IAAI,kBAAkB,KACtB,EAAA;AACI,MAAA,IAAI,KACJ,EAAA;AACI,QAAS,MAAA,GAAA,IAAI,YAAY,MAAM,CAAA,CAAA;AAC/B,QAAQ,KAAA,GAAA,WAAA,CAAY,QAAQ,WAAY,CAAA,QAAA,CAAA;AAAA,OAI5C,MAAA;AACI,QAAS,MAAA,GAAA,IAAI,aAAa,MAAM,CAAA,CAAA;AAChC,QAAQ,KAAA,GAAA,WAAA,CAAY,SAAS,WAAY,CAAA,QAAA,CAAA;AAAA,OAC7C;AAAA,KACJ;AAEA,IAAA,MAAA,GAAS,IAAI,MAAO,CAAA;AAAA,MAChB,IAAM,EAAA,MAAA;AAAA,MACN,KAAO,EAAA,mBAAA;AAAA,MACP,KAAA;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;ACLO,MAAM,iBAAiBxC,aAI9B,CAAA;AAAA,EAcI,WAAY,CAAA,EAAE,UAAY,EAAA,WAAA,EAAa,UACvC,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAbV,IAAO,IAAA,CAAA,GAAA,GAAc,IAAI,UAAU,CAAA,CAAA;AAMnC;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AAShB,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAU,EAAC,CAAA;AAEhB,IAAA,KAAA,MAAW,KAAK,UAChB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,WAAW,CAAC,CAAA,CAAA;AAE9B,MAAA,SAAA,CAAU,MAAS,GAAA,cAAA,CAAe,SAAU,CAAA,MAAA,EAAQ,KAAK,CAAA,CAAA;AAEzD,MAAA,MAAM,WAAc,GAAA,IAAA,CAAK,OAAQ,CAAA,OAAA,CAAQ,UAAU,MAAM,CAAA,CAAA;AAEzD,MAAA,IAAI,gBAAgB,CACpB,CAAA,EAAA;AACI,QAAK,IAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAElC,QAAA,SAAA,CAAU,MAAO,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,OAC3D;AAAA,KACJ;AAEA,IAAA,IAAI,WACJ,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,GAAc,cAAe,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAEnD,MAAK,IAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,IAAA,CAAK,WAAW,CAAA,CAAA;AAAA,KACtC;AAEA,IAAA,IAAA,CAAK,WAAW,QAAY,IAAA,eAAA,CAAA;AAAA,GAChC;AAAA,EAEU,cACV,GAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,aAAa,EACpB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,WAAW,EAAE,CAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,QACP,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,EACjB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,YAAa,CAAA,EAAE,CAAE,CAAA,MAAA,CAAA;AAAA,GACjC;AAAA,EAEO,OACP,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,UACrB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,IAAK,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AACnC,MAAM,MAAA,MAAA,GAAS,IAAK,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAG/B,MAAA,OAAQ,OAAO,IAAa,CAAA,MAAA,IAAW,SAAU,CAAA,MAAA,GAAS,KAAM,SAAU,CAAA,IAAA,CAAA,CAAA;AAAA,KAC9E;AAEA,IAAO,OAAA,CAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAA,CAAQ,iBAAiB,KAChC,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,IAAA,CAAK,QAAQ,OAAQ,CAAA,CAAC,MAAW,KAAA,MAAA,CAAO,SAAS,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ;;AC5IgB,SAAA,yBAAA,CAA0B,aAA2B,MACrE,EAAA;AACI,EAAA,MAAA,CAAO,KAAM,EAAA,CAAA;AAMb,EAAA,MAAM,aAAa,MAAO,CAAA,MAAA,CAAA;AAE1B,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CACxC,EAAA,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,YAAY,CAAC,CAAA,CAAA;AAEhC,IAAI,IAAA,UAAA,CAAW,yBAAyB,CACxC,EAAA;AACI,MAAA,SAAA;AAAA,KACJ;AAEA,IAAA,MAAA,CAAO,SAAS,UAAW,CAAA,cAAA,CAAA;AAC3B,IAAW,UAAA,CAAA,IAAA,CAAK,UAAU,MAAM,CAAA,CAAA;AAAA,GACpC;AAEA,EAAA,MAAA,CAAO,MAAS,GAAA,UAAA,CAAA;AAEhB,EAAO,OAAA,MAAA,CAAA;AACX;;ACCA,MAAM,YAAA,GAAe,IAAI,QAAS,CAAA;AAAA,EAC9B,UAAY,EAAA;AAAA,IACR,SAAW,EAAA;AAAA,MACP,MAAQ,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA,MACjD,cAAgB,EAAA,CAAA;AAAA,MAChB,MAAQ,EAAA,WAAA;AAAA,MACR,QAAQ,CAAI,GAAA,CAAA;AAAA,MACZ,MAAQ,EAAA,CAAA;AAAA,KACZ;AAAA,GACJ;AAAA,EACA,WAAA,EAAa,IAAI,WAAA,CAAY,CAAC,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA;AACnD,CAAC,CAAA,CAAA;AA6CM,MAAM,YACb,CAAA;AAAA,EA2BI,YAAY,QACZ,EAAA;AAhBA,IAAA,IAAA,CAAQ,iBAAoB,GAAA,CAAA,CAAA;AAC5B,IAAA,IAAA,CAAQ,eAA6B,EAAC,CAAA;AAEtC,IAAiB,IAAA,CAAA,qBAAA,GAAwB,IAAI,YAAa,CAAA;AAAA,MACtD,SAAA,EAAW,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MAC3D,UAAA,EAAY,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MAC5D,UAAA,EAAY,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MAC5D,WAAA,EAAa,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MAC7D,WAAA,EAAa,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MAC7D,aAAA,EAAe,EAAE,KAAO,EAAA,IAAI,aAAa,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,KAClE,CAAA,CAAA;AAED,IAAA,IAAA,CAAiB,sBAAoC,GAAA,IAAI,SAAU,CAAA,EAAE,CAAA,CAAA;AAKjE,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAAA,GACpB;AAAA,EAEO,KAAK,WACZ,EAAA;AAxHJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyHQ,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AAEtB,IAAM,MAAA,OAAA,GAAU,YAAY,YAAa,CAAA,OAAA,CAAA;AAEzC,IAAA,IAAI,CAAC,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,iBAAiB,CAC7C,EAAA;AACI,MAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,iBAAiB,CAAA,GAAI,KAAK,cAAe,EAAA,CAAA;AAAA,KACpE;AAIA,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,iBAAiB,CAAA,CAAA;AAE3D,IAAK,IAAA,CAAA,iBAAA,EAAA,CAAA;AAEL,IAAA,MAAM,SAAiB,UAAW,CAAA,MAAA,CAAA;AAElC,IAAA,IAAI,YAAY,WAChB,EAAA;AACI,MAA0B,yBAAA,CAAA,WAAA,CAAY,aAAa,MAAM,CAAA,CAAA;AAAA,KAG7D,MAAA;AACI,MAAgB,eAAA,CAAA,WAAA,CAAY,SAAW,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAAA,KACvD;AAIA,IAAI,IAAA,OAAA,CAAQ,WAAW,CACvB,EAAA;AACI,MAAA,UAAA,CAAW,IAAO,GAAA,IAAA,CAAA;AAElB,MAAA,OAAA;AAAA,KACJ;AAIA,IAAA,IAAI,UAAa,GAAA,QAAA,CAAS,YAAa,CAAA,gBAAA,CAAiB,aAAa,MAAO,CAAA,WAAA,CAAA;AAG5E,IAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AAEd,IAAA,IAAI,SAAY,GAAA,QAAA,CAAS,YAAa,CAAA,gBAAA,CAAiB,aAAa,MAAO,CAAA,SAAA,CAAA;AAE3E,IAAA,IAAI,aAAgB,GAAA,KAAA,CAAA;AAEpB,IAAA,IAAI,OAAU,GAAA,KAAA,CAAA;AAEd,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,QAAQ,CAAC,CAAA,CAAA;AAExB,MAAA,UAAA,GAAa,IAAK,CAAA,GAAA,CAAI,UAAY,EAAA,MAAA,CAAO,UAAU,CAAA,CAAA;AACnD,MAAA,OAAA,IAAW,MAAO,CAAA,OAAA,CAAA;AAElB,MAAI,IAAA,MAAA,CAAO,cAAc,SACzB,EAAA;AACI,QAAI,IAAA,MAAA,CAAO,cAAc,IACzB,EAAA;AACI,UAAY,SAAA,GAAA,IAAA,CAAA;AAAA,SAGhB,MAAA;AACI,UAAY,SAAA,GAAA,KAAA,CAAA;AAAA,SAChB;AAAA,OACJ;AAEA,MAAA,MAAM,YAAe,GAAA,CAAC,EAAE,MAAA,CAAO,sBAAsB,QAAS,CAAA,IAAA,CAAA,CAAA;AAE9D,MAAA,IAAI,CAAC,YACL,EAAA;AACI,QAAU,OAAA,GAAA,KAAA,CAAA;AACV,QAAA,MAAA;AAAA,OACJ;AAEA,MAAI,IAAA,MAAA,CAAO,iBAAiB,EAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAA2B,eAA3B,IAAuC,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,aAAA,KAAvC,YAAwD,IACvF,CAAA,EAAA;AAGI,QAAA,IAAA,CAAK,sHAAsH,CAAA,CAAA;AAG3H,QAAU,OAAA,GAAA,KAAA,CAAA;AACV,QAAA,MAAA;AAAA,OACJ;AAEA,MAAA,OAAA,GAAU,OAAO,OAAW,IAAA,OAAA,CAAA;AAC5B,MAAA,aAAA,GAAgB,iBAAiB,MAAO,CAAA,aAAA,CAAA;AAAA,KAC5C;AAGA,IAAA,IAAI,CAAC,OACL,EAAA;AACI,MAAA,UAAA,CAAW,IAAO,GAAA,IAAA,CAAA;AAElB,MAAA,OAAA;AAAA,KACJ;AAIA,IAAA,MAAA,CAAO,MAAM,UAAU,CAAA,CAClB,GAAI,CAAA,QAAA,CAAS,aAAa,gBAAiB,CAAA,QAAQ,CACnD,CAAA,KAAA,CAAM,IAAI,UAAU,CAAA,CACpB,GAAI,CAAA,OAAO,EACX,IAAK,EAAA,CAAA;AAIV,IAAI,IAAA,CAAC,OAAO,UACZ,EAAA;AACI,MAAA,UAAA,CAAW,IAAO,GAAA,IAAA,CAAA;AAElB,MAAA,OAAA;AAAA,KACJ;AAGA,IAAA,UAAA,CAAW,IAAO,GAAA,KAAA,CAAA;AAElB,IAAA,UAAA,CAAW,MAAS,GAAA,MAAA,CAAA;AACpB,IAAA,UAAA,CAAW,aAAgB,GAAA,aAAA,CAAA;AAC3B,IAAA,UAAA,CAAW,YAAY,WAAY,CAAA,SAAA,CAAA;AACnC,IAAA,UAAA,CAAW,eAAe,WAAY,CAAA,YAAA,CAAA;AAEtC,IAAW,UAAA,CAAA,qBAAA,GAAwB,SAAS,YAAa,CAAA,YAAA,CAAA;AAIzD,IAAA,UAAA,CAAW,eAAe,WAAY,CAAA,iBAAA;AAAA,MAClC,MAAO,CAAA,KAAA;AAAA,MACP,MAAO,CAAA,MAAA;AAAA,MACP,UAAA;AAAA,MACA,SAAA;AAAA,KACJ,CAAA;AAEA,IAAA,QAAA,CAAS,YAAa,CAAA,IAAA,CAAK,UAAW,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAGxD,IAAA,QAAA,CAAS,eAAe,IAAK,CAAA;AAAA,MACzB,MAAQ,EAAA,MAAA;AAAA,KACX,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,GACP,GAAA;AAxQJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyQQ,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,iBAAA,EAAA,CAAA;AACL,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,iBAAiB,CAAA,CAAA;AAG3D,IAAA,IAAI,WAAW,IACf,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,iBAAoB,GAAA,UAAA,CAAA;AAEzB,IAAA,MAAM,eAAe,UAAW,CAAA,YAAA,CAAA;AAEhC,IAAA,MAAM,SAAS,UAAW,CAAA,MAAA,CAAA;AAE1B,IAAA,IAAI,cAAc,OAAQ,CAAA,KAAA,CAAA;AAI1B,IAAC,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,cAAsC,gBAA/C,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAED,IAAA,IAAI,WAAW,aACf,EAAA;AAII,MAAA,QAAA,CAAS,QAAQ,gBAAiB,EAAA,CAAA;AAGlC,MAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,iBAAA,GAAoB,CAAI,GAAA,IAAA,CAAK,aAAa,IAAK,CAAA,iBAAA,GAAoB,CAAC,CAAA,CAAE,MAAS,GAAA,IAAA,CAAA;AAE3G,MAAA,WAAA,GAAc,IAAK,CAAA,cAAA,CAAe,UAAW,CAAA,qBAAA,EAAuB,QAAQ,cAAc,CAAA,CAAA;AAAA,KAC9F;AAEA,IAAA,UAAA,CAAW,WAAc,GAAA,WAAA,CAAA;AAEzB,IAAM,MAAA,OAAA,GAAU,WAAW,YAAa,CAAA,OAAA,CAAA;AAQxC,IAAA,IAAA,CAAK,sBAAuB,CAAA,WAAA,CAAY,YAAa,CAAA,MAAA,CAAO,OAAO,CAAC,CAAA,CAAA;AACpE,IAAA,IAAA,CAAK,sBAAuB,CAAA,WAAA,CAAY,WAAY,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAE7D,IAAA,QAAA,CAAS,eAAe,GAAI,EAAA,CAAA;AAE5B,IAAI,IAAA,OAAA,CAAQ,WAAW,CACvB,EAAA;AAGI,MAAA,OAAA,CAAQ,CAAC,CAAE,CAAA,KAAA,CAAM,MAAM,YAAc,EAAA,UAAA,CAAW,uBAAuB,KAAK,CAAA,CAAA;AAG5E,MAAA,WAAA,CAAY,cAAc,YAAY,CAAA,CAAA;AAAA,KAG1C,MAAA;AACI,MAAA,IAAI,OAAO,UAAW,CAAA,YAAA,CAAA;AAGtB,MAAA,IAAI,OAAO,WAAY,CAAA,iBAAA;AAAA,QACnB,MAAO,CAAA,KAAA;AAAA,QACP,MAAO,CAAA,MAAA;AAAA,QACP,KAAK,MAAO,CAAA,WAAA;AAAA,QACZ,KAAA;AAAA,OACJ,CAAA;AAEA,MAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AAGR,MAAA,KAAK,IAAI,CAAG,EAAA,CAAA,GAAI,QAAQ,MAAS,GAAA,CAAA,EAAG,EAAE,CACtC,EAAA;AACI,QAAM,MAAA,MAAA,GAAS,QAAQ,CAAC,CAAA,CAAA;AAExB,QAAA,MAAA,CAAO,KAAM,CAAA,IAAA,EAAM,IAAM,EAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AACnC,QAAA,MAAM,CAAI,GAAA,IAAA,CAAA;AAEV,QAAO,IAAA,GAAA,IAAA,CAAA;AACP,QAAO,IAAA,GAAA,CAAA,CAAA;AAAA,OACX;AAEA,MAAA,OAAA,CAAQ,CAAC,CAAE,CAAA,KAAA,CAAM,MAAM,IAAM,EAAA,UAAA,CAAW,uBAAuB,KAAK,CAAA,CAAA;AAGpE,MAAA,WAAA,CAAY,cAAc,IAAI,CAAA,CAAA;AAC9B,MAAA,WAAA,CAAY,cAAc,IAAI,CAAA,CAAA;AAAA,KAClC;AAGA,IAAA,IAAI,WAAW,aACf,EAAA;AACI,MAAA,WAAA,CAAY,cAAc,WAAW,CAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AAAA,EAEO,cAAA,CAAe,iBAAiC,EAAA,MAAA,EAAgB,cACvE,EAAA;AACI,IAAM,MAAA,oBAAA,GAAuB,iBAAkB,CAAA,YAAA,CAAa,MAAO,CAAA,WAAA,CAAA;AAEnE,IAAA,MAAM,cAAc,WAAY,CAAA,iBAAA;AAAA,MAC5B,MAAO,CAAA,KAAA;AAAA,MACP,MAAO,CAAA,MAAA;AAAA,MACP,oBAAA;AAAA,MACA,KAAA;AAAA,KACJ,CAAA;AAEA,IAAA,IAAI,IAAI,MAAO,CAAA,IAAA,CAAA;AACf,IAAA,IAAI,IAAI,MAAO,CAAA,IAAA,CAAA;AAEf,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,CAAA,IAAK,cAAe,CAAA,IAAA,CAAA;AACpB,MAAA,CAAA,IAAK,cAAe,CAAA,IAAA,CAAA;AAAA,KACxB;AAEA,IAAI,CAAA,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,oBAAoB,CAAA,CAAA;AACvC,IAAI,CAAA,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,oBAAoB,CAAA,CAAA;AAEvC,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,MAAA,CAAO,QAAQ,oBAAoB,CAAA,CAAA;AAC3D,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,MAAA,CAAO,SAAS,oBAAoB,CAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,SAAS,YAAa,CAAA,aAAA;AAAA,MACvB,iBAAA;AAAA,MACA,WAAA;AAAA,MACA,EAAE,GAAG,CAAE,EAAA;AAAA,MACP,EAAE,OAAO,MAAO,EAAA;AAAA,KACpB,CAAA;AAEA,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAAA,EAEO,WAAY,CAAA,MAAA,EAAgB,KAAgB,EAAA,MAAA,EAAuB,KAC1E,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AAEtB,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,YAAa,CAAA,IAAA,CAAK,iBAAiB,CAAA,CAAA;AAE3D,IAAA,MAAM,SAAS,UAAW,CAAA,MAAA,CAAA;AAE1B,IAAA,MAAM,SAAS,KAAM,CAAA,MAAA,CAAA;AACrB,IAAA,MAAM,wBAAwB,UAAW,CAAA,qBAAA,CAAA;AAEzC,IAAA,MAAM,gBAAgB,qBAA0B,KAAA,IAAA,CAAK,QAAS,CAAA,YAAA,CAAa,gBAAgB,MAAM,CAAA,CAAA;AAEjG,IAAA,IAAI,aAAa,IAAK,CAAA,QAAA,CAAS,YAAa,CAAA,gBAAA,CAAiB,aAAa,MAAO,CAAA,WAAA,CAAA;AAEjF,IAAI,IAAA,IAAA,CAAK,oBAAoB,CAC7B,EAAA;AACI,MAAA,UAAA,GAAa,KAAK,YAAa,CAAA,IAAA,CAAK,oBAAoB,CAAC,CAAA,CAAE,aAAa,MAAO,CAAA,WAAA,CAAA;AAAA,KACnF;AAEA,IAAA,MAAM,iBAAiB,IAAK,CAAA,qBAAA,CAAA;AAC5B,IAAA,MAAM,WAAW,cAAe,CAAA,QAAA,CAAA;AAEhC,IAAA,MAAM,cAAc,QAAS,CAAA,WAAA,CAAA;AAC7B,IAAA,MAAM,YAAY,QAAS,CAAA,SAAA,CAAA;AAC3B,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,cAAc,QAAS,CAAA,WAAA,CAAA;AAC7B,IAAA,MAAM,gBAAgB,QAAS,CAAA,aAAA,CAAA;AAG/B,IAAA,IAAI,aACJ,EAAA;AAEI,MAAI,IAAA,IAAA,CAAK,oBAAoB,CAC7B,EAAA;AACI,QAAA,MAAA,CAAO,IAAI,IAAK,CAAA,YAAA,CAAa,KAAK,iBAAoB,GAAA,CAAC,EAAE,MAAO,CAAA,IAAA,CAAA;AAChE,QAAA,MAAA,CAAO,IAAI,IAAK,CAAA,YAAA,CAAa,KAAK,iBAAoB,GAAA,CAAC,EAAE,MAAO,CAAA,IAAA,CAAA;AAAA,OACpE;AAEA,MAAA,WAAA,CAAY,CAAC,CAAA,GAAI,MAAO,CAAA,IAAA,GAAO,MAAO,CAAA,CAAA,CAAA;AACtC,MAAA,WAAA,CAAY,CAAC,CAAA,GAAI,MAAO,CAAA,IAAA,GAAO,MAAO,CAAA,CAAA,CAAA;AAAA,KAG1C,MAAA;AACI,MAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AACjB,MAAA,WAAA,CAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KACrB;AAEA,IAAY,WAAA,CAAA,CAAC,IAAI,KAAM,CAAA,UAAA,CAAA;AACvB,IAAY,WAAA,CAAA,CAAC,IAAI,KAAM,CAAA,WAAA,CAAA;AAEvB,IAAU,SAAA,CAAA,CAAC,CAAI,GAAA,KAAA,CAAM,MAAO,CAAA,KAAA,CAAA;AAC5B,IAAU,SAAA,CAAA,CAAC,CAAI,GAAA,KAAA,CAAM,MAAO,CAAA,MAAA,CAAA;AAC5B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAI,GAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAC9B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAI,GAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAE9B,IAAW,UAAA,CAAA,CAAC,CAAI,GAAA,KAAA,CAAM,MAAO,CAAA,UAAA,CAAA;AAC7B,IAAW,UAAA,CAAA,CAAC,CAAI,GAAA,KAAA,CAAM,MAAO,CAAA,WAAA,CAAA;AAC7B,IAAA,UAAA,CAAW,CAAC,CAAA,GAAI,CAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAClC,IAAA,UAAA,CAAW,CAAC,CAAA,GAAI,CAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAElC,IAAA,UAAA,CAAW,CAAC,CAAA,GAAI,GAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAClC,IAAA,UAAA,CAAW,CAAC,CAAA,GAAI,GAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAClC,IAAW,UAAA,CAAA,CAAC,IAAK,KAAM,CAAA,UAAA,GAAa,UAAU,CAAC,CAAA,GAAM,GAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AACvE,IAAW,UAAA,CAAA,CAAC,IAAK,KAAM,CAAA,WAAA,GAAc,UAAU,CAAC,CAAA,GAAM,GAAM,GAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAExE,IAAA,MAAM,WAAc,GAAA,IAAA,CAAK,QAAS,CAAA,YAAA,CAAa,gBAAiB,CAAA,YAAA,CAAA;AAEhE,IAAY,WAAA,CAAA,CAAC,CAAI,GAAA,MAAA,CAAO,CAAI,GAAA,UAAA,CAAA;AAC5B,IAAY,WAAA,CAAA,CAAC,CAAI,GAAA,MAAA,CAAO,CAAI,GAAA,UAAA,CAAA;AAE5B,IAAA,WAAA,CAAY,CAAC,CAAA,GAAI,WAAY,CAAA,MAAA,CAAO,KAAQ,GAAA,UAAA,CAAA;AAC5C,IAAA,WAAA,CAAY,CAAC,CAAA,GAAI,WAAY,CAAA,MAAA,CAAO,MAAS,GAAA,UAAA,CAAA;AAG7C,IAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,QAAS,CAAA,YAAA,CAAa,gBAAgB,MAAM,CAAA,CAAA;AAEvE,IAAc,aAAA,CAAA,CAAC,CAAI,GAAA,aAAA,CAAc,YAAa,CAAA,UAAA,CAAA;AAC9C,IAAc,aAAA,CAAA,CAAC,CAAI,GAAA,aAAA,CAAc,YAAa,CAAA,WAAA,CAAA;AAC9C,IAAA,aAAA,CAAc,CAAC,CAAA,GAAI,aAAc,CAAA,MAAA,GAAS,CAAK,CAAA,GAAA,CAAA,CAAA;AAE/C,IAAA,cAAA,CAAe,MAAO,EAAA,CAAA;AAGtB,IAAK,IAAA,QAAA,CAA4B,YAAY,YAC7C,EAAA;AACI,MAAA,MAAM,gBAAiB,QAA4B,CAAA,WAAA,CAAY,YAC1D,CAAA,wBAAA,CAAyB,KAAK,qBAAqB,CAAA,CAAA;AAExD,MAAK,IAAA,CAAA,sBAAA,CAAuB,WAAY,CAAA,aAAA,EAAe,CAAC,CAAA,CAAA;AAAA,KAG5D,MAAA;AACI,MAAK,IAAA,CAAA,sBAAA,CAAuB,WAAY,CAAA,cAAA,EAAgB,CAAC,CAAA,CAAA;AAAA,KAC7D;AAKA,IAAA,IAAA,CAAK,sBAAuB,CAAA,WAAA,CAAY,KAAM,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AACvD,IAAA,IAAA,CAAK,sBAAuB,CAAA,WAAA,CAAY,KAAM,CAAA,MAAA,CAAO,OAAO,CAAC,CAAA,CAAA;AAE7D,IAAA,QAAA,CAAS,YAAa,CAAA,IAAA,CAAK,MAAQ,EAAA,CAAC,CAAC,KAAK,CAAA,CAAA;AAE1C,IAAO,MAAA,CAAA,MAAA,CAAO,CAAC,CAAA,GAAI,IAAK,CAAA,sBAAA,CAAA;AAExB,IAAA,QAAA,CAAS,QAAQ,IAAK,CAAA;AAAA,MAClB,QAAU,EAAA,YAAA;AAAA,MACV,MAAQ,EAAA,MAAA;AAAA,MACR,OAAO,MAAO,CAAA,MAAA;AAAA,MACd,QAAU,EAAA,eAAA;AAAA,KACb,CAAA,CAAA;AAAA,GACL;AAAA,EAEQ,cACR,GAAA;AACI,IAAO,OAAA;AAAA,MACH,IAAM,EAAA,KAAA;AAAA,MACN,YAAc,EAAA,IAAA;AAAA,MACd,MAAA,EAAQ,IAAI,MAAO,EAAA;AAAA,MACnB,SAAW,EAAA,IAAA;AAAA,MACX,YAAc,EAAA,IAAA;AAAA,MACd,aAAe,EAAA,KAAA;AAAA,MACf,qBAAuB,EAAA,IAAA;AAAA,KAC3B,CAAA;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,qBAAA,CAAsB,cAAsB,MACnD,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,iBAAA,CAAA;AAElB,IAAA,MAAM,eAAe,YAAa,CAAA,GAAA;AAAA,MAC9B,IAAA,CAAK,aAAa,OAAQ,CAAA,KAAA;AAAA,MAC1B,CAAA;AAAA,MAAG,CAAA;AAAA,MACH,IAAA,CAAK,aAAa,OAAQ,CAAA,MAAA;AAAA,MAC1B,KAAK,MAAO,CAAA,IAAA;AAAA,MAAM,KAAK,MAAO,CAAA,IAAA;AAAA,KAClC,CAAA;AAEA,IAAA,MAAM,cAAiB,GAAA,MAAA,CAAO,cAAe,CAAA,MAAA,CAAO,OAAO,MAAM,CAAA,CAAA;AAEjE,IAAA,cAAA,CAAe,MAAO,EAAA,CAAA;AACtB,IAAA,YAAA,CAAa,QAAQ,cAAc,CAAA,CAAA;AACnC,IAAa,YAAA,CAAA,KAAA,CAAM,IAAO,MAAO,CAAA,OAAA,CAAQ,YAAa,CAAO,GAAA,MAAA,CAAO,QAAQ,WAAY,CAAA,CAAA;AAExF,IAAA,YAAA,CAAa,UAAU,MAAO,CAAA,MAAA,CAAO,CAAG,EAAA,MAAA,CAAO,OAAO,CAAC,CAAA,CAAA;AAEvD,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAGJ,CAAA;AAAA;AA1da,YAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;;;;;;;AC3EG,MAAM,mBAAmB,MAChC,CAAA;AAAA,EAII,WAAA,CAAY,EAAE,MAAA,EACd,EAAA;AACI,IAAA,MAAM,aAAgB,GAAA,IAAI,aAAc,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAEtD,IAAM,MAAA,cAAA,GAAiB,IAAI,YAAa,CAAA;AAAA,MACpC,cAAc,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MACzD,WAAW,EAAE,KAAA,EAAO,aAAc,CAAA,WAAA,EAAa,MAAM,WAAY,EAAA;AAAA,MACjE,KAAO,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,KAClC,CAAA,CAAA;AAED,IAAM,MAAA,UAAA,GAAa,IAAI,UAAW,CAAA;AAAA,MAC9B,MAAQ,EAAA;AAAA,QACJ,MAAA;AAAA,QACA,UAAY,EAAA,YAAA;AAAA,OAChB;AAAA,MACA,QAAU,EAAA;AAAA,QACN,MAAA;AAAA,QACA,UAAY,EAAA,cAAA;AAAA,OAChB;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,UAAU,IAAK,CAAA;AAAA,MAC7B,MAAA;AAAA,MACA,QAAA;AAAA,MACA,IAAM,EAAA,aAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAA;AAAA,MACA,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,cAAA;AAAA,QACA,UAAA,EAAY,OAAO,OAAQ,CAAA,MAAA;AAAA,OAC/B;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AAEd,IAAA,IAAA,CAAK,cAAiB,GAAA,aAAA,CAAA;AAAA,GAC1B;AAAA,EAEO,KACH,CAAA,aAAA,EACA,KACA,EAAA,MAAA,EACA,SAEJ,EAAA;AAEI,IAAK,IAAA,CAAA,cAAA,CAAe,OAAU,GAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAA;AAE1C,IAAc,aAAA,CAAA,qBAAA;AAAA,MACV,IAAA,CAAK,SAAU,CAAA,cAAA,CAAe,QAAS,CAAA,YAAA;AAAA,MACvC,IAAK,CAAA,MAAA;AAAA,KACP,CAAA,OAAA,CAAQ,IAAK,CAAA,cAAA,CAAe,QAAQ,CAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,SAAU,CAAA,UAAA,GAAa,IAAK,CAAA,MAAA,CAAO,OAAQ,CAAA,MAAA,CAAA;AAEhD,IAAA,aAAA,CAAc,WAAY,CAAA,IAAA,EAAM,KAAO,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GAC5D;AACJ;;AC9EO,MAAM,QACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA8CI,WAAY,CAAA,CAAA,GAAI,CAAG,EAAA,CAAA,GAAI,CAAG,EAAA,EAAA,GAAK,CAAG,EAAA,EAAA,GAAK,CAAG,EAAA,EAAA,GAAK,CAAG,EAAA,EAAA,GAAK,CACvD,EAAA;AA1CA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,IAAwB,GAAA,UAAA,CAAA;AA2CpC,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,CAAI,GAAA,CAAA,CAAA;AACT,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,QAAA,CAAS,GAAW,CAC3B,EAAA;AACI,IAAA,MAAM,CAAM,GAAA,CAAA,IAAA,CAAK,CAAI,GAAA,IAAA,CAAK,EAAO,KAAA,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA,GAAA,CAAS,IAAK,CAAA,CAAA,GAAI,IAAK,CAAA,EAAA,KAAO,IAAI,IAAK,CAAA,EAAA,CAAA,CAAA;AACjF,IAAA,MAAM,CAAM,GAAA,CAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAK,CAAM,KAAA,CAAA,GAAI,IAAK,CAAA,CAAA,CAAA,GAAA,CAAQ,IAAK,CAAA,EAAA,GAAK,IAAK,CAAA,CAAA,KAAM,IAAI,IAAK,CAAA,CAAA,CAAA,CAAA;AAEhF,IAAA,IAAK,IAAI,CAAQ,KAAA,CAAA,GAAI,KAAM,CAAM,KAAA,CAAA,IAAK,MAAM,CAC5C,EAAA;AAAE,MAAO,OAAA,KAAA,CAAA;AAAA,KAAO;AAEhB,IAAA,MAAM,CAAM,GAAA,CAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAK,EAAO,KAAA,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA,GAAA,CAAS,IAAK,CAAA,EAAA,GAAK,IAAK,CAAA,EAAA,KAAO,IAAI,IAAK,CAAA,EAAA,CAAA,CAAA;AAEnF,IAAA,OAAO,CAAM,KAAA,CAAA,IAAM,CAAI,GAAA,CAAA,KAAQ,IAAI,CAAK,IAAA,CAAA,CAAA;AAAA,GAC5C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KACP,GAAA;AACI,IAAA,MAAM,WAAW,IAAI,QAAA;AAAA,MACjB,IAAK,CAAA,CAAA;AAAA,MACL,IAAK,CAAA,CAAA;AAAA,MACL,IAAK,CAAA,EAAA;AAAA,MACL,IAAK,CAAA,EAAA;AAAA,MACL,IAAK,CAAA,EAAA;AAAA,MACL,IAAK,CAAA,EAAA;AAAA,KACT,CAAA;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,SAAS,QAChB,EAAA;AACI,IAAA,IAAA,CAAK,IAAI,QAAS,CAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,IAAI,QAAS,CAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,KAAK,QAAS,CAAA,EAAA,CAAA;AACnB,IAAA,IAAA,CAAK,KAAK,QAAS,CAAA,EAAA,CAAA;AACnB,IAAA,IAAA,CAAK,KAAK,QAAS,CAAA,EAAA,CAAA;AACnB,IAAA,IAAA,CAAK,KAAK,QAAS,CAAA,EAAA,CAAA;AAEnB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,QACd,EAAA;AACI,IAAA,QAAA,CAAS,SAAS,IAAI,CAAA,CAAA;AAEtB,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,UAAU,GACjB,EAAA;AACI,IAAM,GAAA,GAAA,GAAA,IAAO,IAAI,SAAU,EAAA,CAAA;AAE3B,IAAM,MAAA,IAAA,GAAO,KAAK,GAAI,CAAA,IAAA,CAAK,GAAG,IAAK,CAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAC9C,IAAM,MAAA,IAAA,GAAO,KAAK,GAAI,CAAA,IAAA,CAAK,GAAG,IAAK,CAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAC9C,IAAM,MAAA,IAAA,GAAO,KAAK,GAAI,CAAA,IAAA,CAAK,GAAG,IAAK,CAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAC9C,IAAM,MAAA,IAAA,GAAO,KAAK,GAAI,CAAA,IAAA,CAAK,GAAG,IAAK,CAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAE9C,IAAA,GAAA,CAAI,CAAI,GAAA,IAAA,CAAA;AACR,IAAA,GAAA,CAAI,CAAI,GAAA,IAAA,CAAA;AACR,IAAA,GAAA,CAAI,QAAQ,IAAO,GAAA,IAAA,CAAA;AACnB,IAAA,GAAA,CAAI,SAAS,IAAO,GAAA,IAAA,CAAA;AAEpB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AACJ;;AC/IgB,SAAA,OAAA,CAAQ,QAAkC,EAAA,KAAA,EAAiC,IAC3F,EAAA;AACI,EAAA,IAAI,QACJ,EAAA;AACI,IAAA,KAAA,MAAW,KAAK,QAChB,EAAA;AACI,MAAM,MAAA,EAAA,GAAK,EAAE,iBAAkB,EAAA,CAAA;AAE/B,MAAM,MAAA,IAAA,GAAO,MAAM,EAAE,CAAA,CAAA;AAErB,MAAA,IAAI,IACJ,EAAA;AACI,QAAI,IAAA,aAAA,GAAgB,SAAS,CAAC,CAAA,CAAA;AAE9B,QAAA,IAAI,MAAM,QACV,EAAA;AACI,UAAA,aAAA,GAAgB,cACX,OAAQ,CAAA,kBAAA,EAAoB,EAAE,CAC9B,CAAA,OAAA,CAAQ,qBAAqB,EAAE,CAAA,CAAA;AAAA,SACxC;AAEA,QAAA,IAAI,IACJ,EAAA;AACI,UAAK,IAAA,CAAA,IAAA,CAAK,SAAS,IAAY,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA,SACnC;AACA,QAAA,IAAA,CAAK,KAAK,aAAa,CAAA,CAAA;AAAA,OAI3B,MAAA;AAEI,QAAA,IAAA,CAAK,GAAG,CAA2C,CAAA,wCAAA,CAAA,CAAA,CAAA;AAAA,OAEvD;AAAA,KACJ;AAAA,GACJ;AACJ;;AC5CO,MAAM,WAAc,GAAA,iBAAA;AAMpB,SAAS,aAAa,UAC7B,EAAA;AAPA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAQI,EAAA,MAAM,QAAkC,EAAC,CAAA;AAEzC,EAAA,MAAM,WAAc,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,UAAA,CACf,KAAM,CAAA,WAAW,MADF,IAEd,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAA,CAAI,CAAC,IAAA,KAAS,KAAK,OAAQ,CAAA,SAAA,EAAW,EAAE,CAAA,CAAA,KAF1B,YAEgC,EAAC,CAAA;AAErD,EAAY,WAAA,CAAA,OAAA,CAAQ,CAAC,IACrB,KAAA;AACI,IAAM,KAAA,CAAA,IAAI,IAAI,EAAC,CAAA;AAAA,GAClB,CAAA,CAAA;AAED,EAAO,OAAA,KAAA,CAAA;AACX;;ACpBA,SAAS,aAAA,CAAc,gBAAwB,GAC/C,EAAA;AACI,EAAI,IAAA,KAAA,CAAA;AACJ,EAAA,MAAM,KAAQ,GAAA,iBAAA,CAAA;AAEd,EAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAM,IAAK,CAAA,cAAc,OAAO,IAChD,EAAA;AACI,IAAI,GAAA,CAAA,IAAA,CAAK,KAAM,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAEO,SAAS,aAAc,CAAA,SAAA,EAAkB,QAAkB,EAAA,IAAA,GAAO,KACzE,EAAA;AAEI,EAAA,MAAM,UAAoB,EAAC,CAAA;AAE3B,EAAA,aAAA,CAAc,UAAU,OAAO,CAAA,CAAA;AAE/B,EAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,QACnB,KAAA;AACI,IAAA,IAAI,SAAS,MACb,EAAA;AACI,MAAc,aAAA,CAAA,QAAA,CAAS,QAAQ,OAAO,CAAA,CAAA;AAAA,KAC1C;AAAA,GACH,CAAA,CAAA;AAGD,EAAA,MAAM,SAAY,GAAA,OAAA,CAAA;AAElB,EAAA,IAAI,IACJ,EAAA;AACI,IAAA,SAAA,CAAU,IAAK,EAAA,CAAA;AAAA,GACnB;AAEA,EAAM,MAAA,WAAA,GAAc,SACf,CAAA,GAAA,CAAI,CAAC,OAAA,EAAS,CAAM,KAAA,CAAA,iBAAA,EAAoB,CAAM,CAAA,EAAA,EAAA,OAAA,CAAA,CAAA,CAAU,CACxD,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAGd,EAAA,IAAI,aAAgB,GAAA,QAAA,CAAS,OAAQ,CAAA,kBAAA,EAAoB,EAAE,CAAA,CAAA;AAE3D,EAAgB,aAAA,GAAA,aAAA,CAAc,QAAQ,QAAU,EAAA,CAAA;AAAA,EAAK,WAAA,CAAA;AAAA,CAAe,CAAA,CAAA;AAEpE,EAAO,OAAA,aAAA,CAAA;AACX;;AC5CA,SAAS,cAAA,CAAe,gBAAwB,GAChD,EAAA;AACI,EAAI,IAAA,KAAA,CAAA;AACJ,EAAA,MAAM,KAAQ,GAAA,kBAAA,CAAA;AAEd,EAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAM,IAAK,CAAA,cAAc,OAAO,IAChD,EAAA;AACI,IAAI,GAAA,CAAA,IAAA,CAAK,KAAM,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAEA,SAAS,oBAAoB,KAC7B,EAAA;AACI,EAAA,MAAM,KAAQ,GAAA,cAAA,CAAA;AAEd,EAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAE9B,EAAO,OAAA,KAAA,GAAQ,KAAM,CAAA,CAAC,CAAI,GAAA,EAAA,CAAA;AAC9B,CAAA;AAEA,SAAS,cAAc,KACvB,EAAA;AACI,EAAA,MAAM,KAAQ,GAAA,UAAA,CAAA;AAEd,EAAO,OAAA,KAAA,CAAM,OAAQ,CAAA,KAAA,EAAO,EAAE,CAAA,CAAA;AAClC,CAAA;AAEgB,SAAA,cAAA,CAAe,WAAkB,QACjD,EAAA;AAEI,EAAA,MAAM,UAAoB,EAAC,CAAA;AAE3B,EAAA,cAAA,CAAe,UAAU,OAAO,CAAA,CAAA;AAEhC,EAAU,SAAA,CAAA,OAAA,CAAQ,CAAC,QACnB,KAAA;AACI,IAAA,IAAI,SAAS,MACb,EAAA;AACI,MAAe,cAAA,CAAA,QAAA,CAAS,QAAQ,OAAO,CAAA,CAAA;AAAA,KAC3C;AAAA,GACH,CAAA,CAAA;AAED,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAGZ,EAAA,MAAM,aAAa,OACd,CAAA,IAAA,EACA,CAAA,GAAA,CAAI,CAAC,OACN,KAAA;AACI,IAAA,IAAI,OAAQ,CAAA,OAAA,CAAQ,SAAS,CAAA,GAAI,CACjC,CAAA,EAAA;AACI,MAAO,OAAA,OAAA,CAAA;AAAA,KACX;AAEA,IAAA,OAAO,aAAa,KAAY,EAAA,CAAA,EAAA,EAAA,OAAA,CAAA,CAAA,CAAA;AAAA,GACnC,CACA,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA;AAGf,EAAA,MAAM,SAAY,GAAA,OAAA,CACb,IAAK,EAAA,CACL,GAAI,CAAA,CAAC,OAAY,KAAA,CAAA,WAAA,EAAc,aAAc,CAAA,OAAO,CAAI,CAAA,CAAA,CAAA,CAAA,CACxD,KAAK,IAAI,CAAA,CAAA;AAGd,EAAA,MAAM,OAAU,GAAA,CAAA;AAAA,gBAAA,EACF,OACT,CAAA,IAAA,EACA,CAAA,GAAA,CAAI,CAAC,OAAA,KAAY,CAAI,CAAA,EAAA,mBAAA,CAAoB,OAAO,CAAA,CAAA,CAAG,CACnD,CAAA,IAAA,CAAK,KAAK,CAAA,CAAA,EAAA,CAAA,CAAA;AAGf,EAAA,IAAI,YAAe,GAAA,QAAA,CAAS,OAAQ,CAAA,mBAAA,EAAqB,EAAE,CAAA,CAAA;AAE3D,EAAe,YAAA,GAAA,YAAA,CAAa,QAAQ,YAAc,EAAA,CAAA;AAAA,EAAK,UAAA,CAAA;AAAA,CAAc,CAAA,CAAA;AACrE,EAAe,YAAA,GAAA,YAAA,CAAa,QAAQ,WAAa,EAAA,CAAA;AAAA,EAAK,SAAA,CAAA;AAAA,CAAa,CAAA,CAAA;AACnE,EAAe,YAAA,GAAA,YAAA,CAAa,QAAQ,YAAc,EAAA,CAAA;AAAA,EAAK,OAAA,CAAA;AAAA,CAAW,CAAA,CAAA;AAElE,EAAO,OAAA,YAAA,CAAA;AACX;;AC1EgB,SAAA,UAAA,CAAW,aAAqB,aAChD,EAAA;AACI,EAAA,IAAI,GAAM,GAAA,WAAA,CAAA;AAEV,EAAA,KAAA,MAAW,KAAK,aAChB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,cAAc,CAAC,CAAA,CAAA;AAE7B,IAAM,MAAA,QAAA,GAAW,KAAM,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEhC,IAAA,IAAI,SAAS,MACb,EAAA;AACI,MAAA,GAAA,GAAM,GAAI,CAAA,OAAA,CAAQ,CAAK,EAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAO,CAAU,OAAA,EAAA,CAAA,CAAA;AAAA,EAAmB,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AAAA,MAAA,EAAY,CAAgB,CAAA,aAAA,CAAA,CAAA,CAAA;AAAA,KAI1G,MAAA;AACI,MAAA,GAAA,GAAM,GAAI,CAAA,OAAA,CAAQ,CAAK,EAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAO,EAAE,CAAA,CAAA;AAAA,KACpC;AAAA,GACJ;AAEA,EAAO,OAAA,GAAA,CAAA;AACX;;ACLA,MAAM,QAAA,mBAAqD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACtE,MAAM,WAAA,uBAA8C,GAAI,EAAA,CAAA;AAExD,IAAI,SAAY,GAAA,CAAA,CAAA;AAQT,SAAS,iBAAkB,CAAA;AAAA,EAC9B,QAAA;AAAA,EACA,IAAA;AACJ,CACA,EAAA;AACI,EAAM,MAAA,OAAA,GAAU,eAAgB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAE9C,EAAA,IAAI,SAAS,OAAO,CAAA;AAAG,IAAA,OAAO,SAAS,OAAO,CAAA,CAAA;AAE9C,EAAA,MAAM,EAAE,MAAQ,EAAA,QAAA,EAAa,GAAA,uBAAA,CAAwB,UAAU,IAAI,CAAA,CAAA;AAEnE,EAAA,QAAA,CAAS,OAAO,CAAA,GAAI,WAAY,CAAA,MAAA,EAAQ,UAAU,IAAI,CAAA,CAAA;AAEtD,EAAA,OAAO,SAAS,OAAO,CAAA,CAAA;AAC3B,CAAA;AAEO,SAAS,mBAAoB,CAAA;AAAA,EAChC,QAAA;AAAA,EACA,IAAA;AACJ,CACA,EAAA;AACI,EAAM,MAAA,OAAA,GAAU,eAAgB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAE9C,EAAA,IAAI,SAAS,OAAO,CAAA;AAAG,IAAA,OAAO,SAAS,OAAO,CAAA,CAAA;AAE9C,EAAA,QAAA,CAAS,OAAO,CAAI,GAAA,WAAA,CAAY,SAAS,MAAQ,EAAA,QAAA,CAAS,UAAU,IAAI,CAAA,CAAA;AAExE,EAAA,OAAO,SAAS,OAAO,CAAA,CAAA;AAC3B,CAAA;AAEA,SAAS,uBAAA,CAAwB,UAA8B,IAC/D,EAAA;AACI,EAAA,MAAM,eAAkB,GAAA,IAAA,CAAK,GAAI,CAAA,CAAC,SAAc,KAAA,SAAA,CAAU,MAAM,CAAA,CAAE,MAAO,CAAA,CAAC,CAAM,KAAA,CAAC,CAAC,CAAC,CAAA,CAAA;AACnF,EAAA,MAAM,iBAAoB,GAAA,IAAA,CAAK,GAAI,CAAA,CAAC,SAAc,KAAA,SAAA,CAAU,QAAQ,CAAA,CAAE,MAAO,CAAA,CAAC,CAAM,KAAA,CAAC,CAAC,CAAC,CAAA,CAAA;AAGvF,EAAA,IAAI,cAAiB,GAAA,aAAA,CAAc,eAAiB,EAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAEnE,EAAiB,cAAA,GAAA,cAAA,CAAe,iBAAiB,cAAc,CAAA,CAAA;AAE/D,EAAA,MAAM,gBAAmB,GAAA,aAAA,CAAc,iBAAmB,EAAA,QAAA,CAAS,UAAU,IAAI,CAAA,CAAA;AAEjF,EAAO,OAAA;AAAA,IACH,MAAQ,EAAA,cAAA;AAAA,IACR,QAAU,EAAA,gBAAA;AAAA,GACd,CAAA;AACJ,CAAA;AAEA,SAAS,eAAA,CAAgB,UAA8B,IACvD,EAAA;AACI,EAAO,OAAA,IAAA,CACF,GAAI,CAAA,CAAC,YACN,KAAA;AACI,IAAA,IAAI,CAAC,WAAA,CAAY,GAAI,CAAA,YAAY,CACjC,EAAA;AACI,MAAY,WAAA,CAAA,GAAA,CAAI,cAAc,SAAW,EAAA,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAO,OAAA,WAAA,CAAY,IAAI,YAAY,CAAA,CAAA;AAAA,GACtC,CAAA,CACA,IAAK,CAAA,CAAC,GAAG,CAAM,KAAA,CAAA,GAAI,CAAC,CAAA,CACpB,IAAK,CAAA,GAAG,CAAI,GAAA,QAAA,CAAS,SAAS,QAAS,CAAA,QAAA,CAAA;AAChD,CAAA;AAEA,SAAS,WAAA,CAAY,MAAgB,EAAA,QAAA,EAAkB,IACvD,EAAA;AACI,EAAM,MAAA,WAAA,GAAc,aAAa,MAAM,CAAA,CAAA;AACvC,EAAM,MAAA,aAAA,GAAgB,aAAa,QAAQ,CAAA,CAAA;AAE3C,EAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,SACd,KAAA;AACI,IAAA,OAAA,CAAQ,SAAU,CAAA,MAAA,EAAQ,WAAa,EAAA,SAAA,CAAU,IAAI,CAAA,CAAA;AACrD,IAAA,OAAA,CAAQ,SAAU,CAAA,QAAA,EAAU,aAAe,EAAA,SAAA,CAAU,IAAI,CAAA,CAAA;AAAA,GAC5D,CAAA,CAAA;AAED,EAAO,OAAA;AAAA,IACH,MAAA,EAAQ,UAAW,CAAA,MAAA,EAAQ,WAAW,CAAA;AAAA,IACtC,QAAA,EAAU,UAAW,CAAA,QAAA,EAAU,aAAa,CAAA;AAAA,GAChD,CAAA;AACJ;;AChHM,MAAA,iBAAA;AAAA;AAAA,EAA8B,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;AAAA,EAAA;AA4C9B,MAAA,mBAAA;AAAA;AAAA,EAAgC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;AAAA,EAAA;AAqBhC,MAAA,gBAAA;AAAA;AAAA,EAA6B,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;AAAA,EAAA;AAoC7B,MAAA,kBAAA;AAAA;AAAA,EAA+B,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;AAAA;;ACrG9B,MAAM,iBAAoB,GAAA;AAAA,EAC7B,IAAM,EAAA,qBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAUtB;AACJ,EAAA;AAEO,MAAM,mBAAsB,GAAA;AAAA,EAC/B,IAAM,EAAA,qBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAQtB;AACJ;;;;;;;;;;;;;;;;;;ACpBO,SAAS,2BAA4B,CAAA,EAAE,IAAM,EAAA,IAAA,EACpD,EAAA;AACI,EAAA,MAAM,SAAS,iBAAkB,CAAA;AAAA,IAC7B,QAAU,EAAA;AAAA,MACN,QAAU,EAAA,mBAAA;AAAA,MACV,MAAQ,EAAA,iBAAA;AAAA,KACZ;AAAA,IACA,IAAM,EAAA;AAAA,MACF,iBAAA;AAAA,MACA,GAAG,IAAA;AAAA,KACP;AAAA,GACH,CAAA,CAAA;AAED,EAAA,OAAO,IAAI,UAAW,CAAA;AAAA,IAClB,IAAA;AAAA,IACA,MAAQ,EAAA;AAAA,MACJ,QAAQ,MAAO,CAAA,MAAA;AAAA,MACf,UAAY,EAAA,MAAA;AAAA,KAChB;AAAA,IACA,QAAU,EAAA;AAAA,MACN,QAAQ,MAAO,CAAA,QAAA;AAAA,MACf,UAAY,EAAA,MAAA;AAAA,KAChB;AAAA,GACH,CAAA,CAAA;AACL,CAAA;AAEO,SAAS,0BAA2B,CAAA,EAAE,IAAM,EAAA,IAAA,EACnD,EAAA;AACI,EAAA,OAAO,IAAI,SAAU,CAAAV,gBAAA,CAAA;AAAA,IACjB,IAAA;AAAA,GAAA,EACG,mBAAoB,CAAA;AAAA,IACnB,QAAU,EAAA;AAAA,MACN,MAAQ,EAAA,gBAAA;AAAA,MACR,QAAU,EAAA,kBAAA;AAAA,KACd;AAAA,IACA,IAAM,EAAA;AAAA,MACF,mBAAA;AAAA,MACA,GAAG,IAAA;AAAA,KACP;AAAA,GACH,CACJ,CAAA,CAAA,CAAA;AACL;;ACjDO,MAAM,QAAW,GAAA;AAAA,EACpB,IAAM,EAAA,WAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAGlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAGpB;AACJ,EAAA;AAEO,MAAM,UAAa,GAAA;AAAA,EACtB,IAAM,EAAA,WAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAGlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAGpB;AACJ;;ACpBA,MAAM,0BAAyD,EAAC,CAAA;AAOhE,SAAS,mBAAmB,WAC5B,EAAA;AACI,EAAA,MAAM,MAAM,EAAC,CAAA;AAEb,EAAA,IAAI,gBAAgB,CACpB,EAAA;AACI,IAAA,GAAA,CAAI,KAAK,4DAA4D,CAAA,CAAA;AACrE,IAAA,GAAA,CAAI,KAAK,qDAAqD,CAAA,CAAA;AAAA,GAGlE,MAAA;AACI,IAAA,IAAI,YAAe,GAAA,CAAA,CAAA;AAEnB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,CACjC,EAAA,EAAA;AACI,MAAA,GAAA,CAAI,IAAK,CAAA,CAAA,mBAAA,EAAsB,YAAoC,EAAA,CAAA,mBAAA,EAAA,CAAA,GAAI,CAAqB,CAAA,kBAAA,CAAA,CAAA,CAAA;AAC5F,MAAA,GAAA,CAAI,IAAK,CAAA,CAAA,mBAAA,EAAsB,YAAqC,EAAA,CAAA,oBAAA,EAAA,CAAA,GAAI,CAAa,CAAA,UAAA,CAAA,CAAA,CAAA;AAAA,KACzF;AAAA,GACJ;AAEA,EAAO,OAAA,GAAA,CAAI,KAAK,IAAI,CAAA,CAAA;AACxB,CAAA;AAEA,SAAS,kBAAkB,WAC3B,EAAA;AACI,EAAA,MAAM,MAAM,EAAC,CAAA;AAEb,EAAA,IAAI,gBAAgB,CACpB,EAAA;AACI,IAAA,GAAA,CAAI,KAAK,iFAAiF,CAAA,CAAA;AAAA,GAG9F,MAAA;AACI,IAAA,GAAA,CAAI,KAAK,qBAAqB,CAAA,CAAA;AAE9B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,CACjC,EAAA,EAAA;AACI,MAAI,IAAA,CAAA,KAAM,cAAc,CACxB,EAAA;AACI,QAAA,GAAA,CAAI,KAAK,CAAa,WAAA,CAAA,CAAA,CAAA;AAAA,OAG1B,MAAA;AACI,QAAI,GAAA,CAAA,IAAA,CAAK,UAAU,CAAK,CAAA,EAAA,CAAA,CAAA,CAAA;AAAA,OAC5B;AACA,MAAA,GAAA,CAAI,IAAK,CAAA,CAAA,gDAAA,EAAmD,CAAI,GAAA,CAAA,CAAA,gBAAA,EAAoB,IAAI,CAAsB,CAAA,mBAAA,CAAA,CAAA,CAAA;AAC9G,MAAA,GAAA,CAAI,KAAK,CAAe,aAAA,CAAA,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,GAAA,CAAI,KAAK,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,GAChB;AAEA,EAAO,OAAA,GAAA,CAAI,KAAK,IAAI,CAAA,CAAA;AACxB,CAAA;AAEO,SAAS,wBAAwB,WACxC,EAAA;AACI,EAAI,IAAA,CAAC,uBAAwB,CAAA,WAAW,CACxC,EAAA;AACI,IAAA,uBAAA,CAAwB,WAAW,CAAI,GAAA;AAAA,MACnC,IAAM,EAAA,mBAAA;AAAA,MACN,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,CAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAIR,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAGN,GAAK,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAMT;AAAA,MACA,QAAU,EAAA;AAAA,QACN,MAAQ,EAAA,CAAA;AAAA;AAAA;AAAA,gBAAA,EAGN,mBAAmB,EAAE,CAAA,CAAA;AAAA,YAAA,CAAA;AAAA,QAEvB,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,EAIJ,kBAAkB,EAAE,CAAA,CAAA;AAAA,YAAA,CAAA;AAAA,OAE1B;AAAA,KACJ,CAAA;AAAA,GACJ;AAEA,EAAA,OAAO,wBAAwB,WAAW,CAAA,CAAA;AAC9C,CAAA;AAEA,MAAM,yBAAwD,EAAC,CAAA;AAO/D,SAAS,oBAAoB,WAC7B,EAAA;AACI,EAAA,MAAM,MAAM,EAAC,CAAA;AAEb,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,CACjC,EAAA,EAAA;AACI,IAAA,IAAI,IAAI,CACR,EAAA;AACI,MAAA,GAAA,CAAI,KAAK,MAAM,CAAA,CAAA;AAAA,KACnB;AAEA,IAAI,IAAA,CAAA,GAAI,cAAc,CACtB,EAAA;AACI,MAAI,GAAA,CAAA,IAAA,CAAK,mBAAmB,CAAM,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,KACtC;AAEA,IAAA,GAAA,CAAI,KAAK,GAAG,CAAA,CAAA;AACZ,IAAI,GAAA,CAAA,IAAA,CAAK,iCAAkC,CAAW,CAAA,QAAA,CAAA,CAAA,CAAA;AACtD,IAAA,GAAA,CAAI,KAAK,GAAG,CAAA,CAAA;AAAA,GAChB;AAEA,EAAO,OAAA,GAAA,CAAI,KAAK,IAAI,CAAA,CAAA;AACxB,CAAA;AAEO,SAAS,0BAA0B,WAC1C,EAAA;AACI,EAAI,IAAA,CAAC,sBAAuB,CAAA,WAAW,CACvC,EAAA;AACI,IAAA,sBAAA,CAAuB,WAAW,CAAI,GAAA;AAAA,MAClC,IAAM,EAAA,mBAAA;AAAA,MACN,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAKR,IAAM,EAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAGN,GAAK,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,CAAA;AAAA,OAMT;AAAA,MACA,QAAU,EAAA;AAAA,QACN,MAAQ,EAAA,CAAA;AAAA;AAAA;AAAA,4CAGsB,EAAA,WAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,QAG9B,IAAM,EAAA,CAAA;AAAA;AAAA,gBAAA,EAEJ,oBAAoB,EAAE,CAAA,CAAA;AAAA,YAAA,CAAA;AAAA,OAE5B;AAAA,KACJ,CAAA;AAAA,GACJ;AAEA,EAAA,OAAO,uBAAuB,WAAW,CAAA,CAAA;AAC7C;;AC7KO,MAAM,cAAiB,GAAA;AAAA,EAC1B,IAAM,EAAA,kBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMtB;AACJ,EAAA;AAEO,MAAM,gBAAmB,GAAA;AAAA,EAC5B,IAAM,EAAA,kBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMtB;AACJ;;ACtBO,MAAM,YAAe,GAAA;;ACG5B,MAAM,YAAA,GAAe,IAAI,UAAA,CAAW,YAAY,CAAA,CAAA;AAEhD,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,EAAc,CAClC,EAAA,EAAA;AACI,EAAA,YAAA,CAAa,CAAC,CAAI,GAAA,CAAA,CAAA;AACtB,CAAA;AAEa,MAAA,yBAAA,GAA4B,IAAI,YAAa,CAAA;AAAA,EACtD,WAAW,EAAE,KAAA,EAAO,cAAc,IAAM,EAAA,CAAA,GAAA,CAAA,EAAO,MAAM,YAAa,EAAA;AACtE,CAAG,EAAA,EAAE,QAAU,EAAA,IAAA,EAAM;;ACKd,MAAM,cACb,CAAA;AAAA,EADO,WAAA,GAAA;AAWH,IAAA,IAAA,CAAQ,UAAa,GAAA,KAAA,CAAA;AACrB,IAAiB,IAAA,CAAA,UAAA,GAAa,MAAM,KAAM,EAAA,CAAA;AAAA,GAAA;AAAA,EAEnC,IACP,GAAA;AACI,IAAM,MAAA,QAAA,GAAW,IAAI,YAAa,CAAA;AAAA,MAC9B,IAAM,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,MAC3D,mBAAmB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,KACjE,CAAA,CAAA;AAED,IAAA,MAAM,YAAY,0BAA2B,CAAA;AAAA,MACzC,IAAM,EAAA,OAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,UAAA;AAAA,QACA,0BAA0B,YAAY,CAAA;AAAA,QACtC,gBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,CAAA;AAAA,MACtB,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,QAAA;AAAA,QACA,aAAe,EAAA,yBAAA;AAAA,OACnB;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,KAAA,CAAM,WAAwB,QACrC,EAAA;AACI,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAE3B,IAAA,QAAA,CAAS,MAAO,CAAA,IAAA,CAAK,IAAK,CAAA,OAAA,EAAS,KAAK,UAAU,CAAA,CAAA;AAElD,IAAA,QAAA,CAAS,OAAO,gBAAiB,CAAA,QAAA,CAAS,cAAe,CAAA,YAAA,EAAc,kBAAkB,CAAC,CAAA,CAAA;AAE1F,IAAA,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,QAAU,EAAA,IAAA,CAAK,QAAQ,SAAS,CAAA,CAAA;AAAA,GAC3D;AAAA,EAEO,OAAA,CAAQ,WAAwB,KACvC,EAAA;AACI,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAK,IAAA,CAAA,UAAA,CAAW,YAAY,KAAM,CAAA,SAAA,CAAA;AAElC,IAAS,QAAA,CAAA,KAAA,CAAM,GAAI,CAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAElC,IAAM,MAAA,QAAA,GAAW,MAAM,QAAS,CAAA,QAAA,CAAA;AAEhC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAA,QAAA,CAAS,OAAQ,CAAA,IAAA,CAAK,QAAS,CAAA,CAAC,GAAG,CAAC,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,QAAA,CAAS,SAAS,IAAK,CAAA,eAAA,EAAiB,KAAM,CAAA,IAAA,EAAM,MAAM,KAAK,CAAA,CAAA;AAAA,GACnE;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AAAA;AA3Ea,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,iBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;ACrBJ,MAAM,qBAAA,GAAwB,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AAChD,MAAM,oBAAA,GAAuB,IAAI,WAAA,CAAY,CAAC,CAAA,CAAA;AAEvC,MAAM,sBAAsB,QACnC,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAA,MAAM,UAAa,GAAA,CAAA,CAAA;AAEnB,IAAM,MAAA,eAAA,GAAkB,IAAI,MAAO,CAAA;AAAA,MAC/B,IAAM,EAAA,qBAAA;AAAA,MACN,KAAO,EAAA,wBAAA;AAAA,MACP,KAAA,EAAO,WAAY,CAAA,MAAA,GAAS,WAAY,CAAA,QAAA;AAAA,KAC3C,CAAA,CAAA;AAED,IAAM,MAAA,WAAA,GAAc,IAAI,MAAO,CAAA;AAAA,MAC3B,IAAM,EAAA,oBAAA;AAAA,MACN,KAAO,EAAA,oBAAA;AAAA,MACP,KAAA,EAAO,WAAY,CAAA,KAAA,GAAQ,WAAY,CAAA,QAAA;AAAA;AAAA,KAC1C,CAAA,CAAA;AAED,IAAA,MAAM,SAAS,UAAa,GAAA,CAAA,CAAA;AAE5B,IAAM,KAAA,CAAA;AAAA,MACF,UAAY,EAAA;AAAA,QACR,SAAW,EAAA;AAAA,UACP,MAAQ,EAAA,eAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,WAAA;AAAA,UACR,MAAA;AAAA,UACA,MAAQ,EAAA,CAAA;AAAA,SACZ;AAAA,QACA,GAAK,EAAA;AAAA,UACD,MAAQ,EAAA,eAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,WAAA;AAAA,UACR,MAAA;AAAA,UACA,QAAQ,CAAI,GAAA,CAAA;AAAA,SAChB;AAAA,QACA,MAAQ,EAAA;AAAA,UACJ,MAAQ,EAAA,eAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,UAAA;AAAA,UACR,MAAA;AAAA,UACA,QAAQ,CAAI,GAAA,CAAA;AAAA,SAChB;AAAA,QACA,kBAAoB,EAAA;AAAA,UAChB,MAAQ,EAAA,eAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,UAAA;AAAA,UACR,MAAA;AAAA,UACA,QAAQ,CAAI,GAAA,CAAA;AAAA,SAChB;AAAA,OACJ;AAAA,MACA,WAAA;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,YAAY,IAAO,GAAA,oBAAA,CAAA;AACxB,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,IAAO,GAAA,qBAAA,CAAA;AAAA,GAC3B;AACJ;;ACnEO,SAAS,kBAAkB,WAClC,EAAA;AACI,EAAA,MAAM,YAAuC,EAAC,CAAA;AAE9C,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,CACjC,EAAA,EAAA;AACI,IAAA,SAAA,CAAU,SAAS,CAAI,GAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACL,UAAY,EAAA,OAAA;AAAA,QACZ,aAAe,EAAA,IAAA;AAAA,QACf,YAAc,EAAA,KAAA;AAAA,OAClB;AAAA,MACA,OAAS,EAAA,SAAA;AAAA,MACT,YAAY,cAAe,CAAA,QAAA;AAAA,KAC/B,CAAA;AACA,IAAA,SAAA,EAAA,CAAA;AAEA,IAAA,SAAA,CAAU,SAAS,CAAI,GAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACL,IAAM,EAAA,WAAA;AAAA,OACV;AAAA,MACA,OAAS,EAAA,SAAA;AAAA,MACT,YAAY,cAAe,CAAA,QAAA;AAAA,KAC/B,CAAA;AAEA,IAAA,SAAA,EAAA,CAAA;AAAA,GACJ;AAEA,EAAO,OAAA,SAAA,CAAA;AACX;;AC/BO,SAAS,eAAe,WAC/B,EAAA;AACI,EAAA,MAAM,SAAiC,EAAC,CAAA;AAExC,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,CACjC,EAAA,EAAA;AACI,IAAO,MAAA,CAAA,CAAA,aAAA,EAAgB,CAAI,GAAA,CAAA,CAAA,CAAG,CAAI,GAAA,SAAA,EAAA,CAAA;AAClC,IAAO,MAAA,CAAA,CAAA,cAAA,EAAiB,CAAI,GAAA,CAAA,CAAA,CAAG,CAAI,GAAA,SAAA,EAAA,CAAA;AAAA,GACvC;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;ACPA,MAAM,eAA0C,EAAC,CAAA;AAEjC,SAAA,wBAAA,CAAyB,UAA2B,IACpE,EAAA;AACI,EAAA,IAAI,GAAM,GAAA,CAAA,CAAA;AAEV,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,EAAM,CAC1B,EAAA,EAAA;AACI,IAAA,GAAA,GAAQ,GAAM,GAAA,EAAA,GAAM,QAAS,CAAA,CAAC,EAAE,GAAS,KAAA,CAAA,CAAA;AAAA,GAC7C;AAEA,EAAA,OAAO,YAAa,CAAA,GAAG,CAAK,IAAA,6BAAA,CAA8B,UAAU,GAAG,CAAA,CAAA;AAC3E,CAAA;AAEA,SAAS,6BAAA,CAA8B,UAA2B,GAClE,EAAA;AACI,EAAA,MAAM,qBAA0C,EAAC,CAAA;AAEjD,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,EAAc,CAClC,EAAA,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAI,QAAS,CAAA,MAAA,GAAS,SAAS,CAAC,CAAA,GAAI,QAAQ,KAAM,CAAA,MAAA,CAAA;AAElE,IAAmB,kBAAA,CAAA,SAAA,EAAW,IAAI,OAAQ,CAAA,MAAA,CAAA;AAC1C,IAAmB,kBAAA,CAAA,SAAA,EAAW,IAAI,OAAQ,CAAA,KAAA,CAAA;AAAA,GAC9C;AAGA,EAAM,MAAA,SAAA,GAAY,IAAI,SAAA,CAAU,kBAAkB,CAAA,CAAA;AAElD,EAAA,YAAA,CAAa,GAAG,CAAI,GAAA,SAAA,CAAA;AAEpB,EAAO,OAAA,SAAA,CAAA;AACX;;ACxBA,MAAM,SAAA,GAAY,MAAM,KAAM,EAAA,CAAA;AAEvB,MAAM,eACb,CAAA;AAAA,EAYW,IACP,GAAA;AACI,IAAA,MAAM,aAAa,2BAA4B,CAAA;AAAA,MAC3C,IAAM,EAAA,OAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,QAAA;AAAA,QACA,wBAAwB,YAAY,CAAA;AAAA,QACpC,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,CAAA;AAAA,MACtB,UAAA;AAAA,MACA,MAAQ,EAAA;AAAA;AAAA,OAER;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,KAAA,CAAM,WAAwB,QACrC,EAAA;AACI,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAC3B,IAAA,MAAM,UAAU,QAAS,CAAA,OAAA,CAAA;AACzB,IAAM,MAAA,OAAA,GAAU,KAAK,OAAQ,CAAA,UAAA,CAAA;AAE7B,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAA,OAAA,CAAQ,YAAY,QAAQ,CAAA,CAAA;AAE5B,IAAA,SAAA,CAAU,SAAY,GAAA,QAAA,CAAA;AAGtB,IAAA,QAAA,CAAS,QAAS,CAAA,WAAA;AAAA,MACd,QAAA;AAAA,MACA,OAAA;AAAA,MACA,SAAA;AAAA,KACJ,CAAA;AAEA,IAAM,MAAA,uBAAA,GAA0B,SAAS,cAAe,CAAA,SAAA,CAAA;AAExD,IAAQ,OAAA,CAAA,YAAA,CAAa,CAAG,EAAA,uBAAA,EAAyB,OAAO,CAAA,CAAA;AAAA,GAC5D;AAAA,EAEO,OAAA,CAAQ,WAAwB,KACvC,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,KAAK,OAAQ,CAAA,UAAA,CAAA;AAC7B,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAC3B,IAAA,MAAM,UAAU,QAAS,CAAA,OAAA,CAAA;AAEzB,IAAI,IAAA,CAAC,MAAM,SACX,EAAA;AACI,MAAA,MAAM,eAAe,KAAM,CAAA,QAAA,CAAA;AAE3B,MAAA,KAAA,CAAM,SAAY,GAAA,wBAAA,CAAyB,YAAa,CAAA,QAAA,EAAU,aAAa,KAAK,CAAA,CAAA;AAAA,KACxF;AAEA,IAAA,SAAA,CAAU,YAAY,KAAM,CAAA,SAAA,CAAA;AAE5B,IAAM,MAAA,YAAA,GAAe,SAAS,SAAU,CAAA,YAAA;AAAA,MACpC,KAAM,CAAA,SAAA;AAAA,MAAW,OAAA;AAAA,MAAS,CAAA;AAAA,KAC9B,CAAA;AAEA,IAAM,MAAA,QAAA,GAAW,SAAS,QAAS,CAAA,WAAA;AAAA,MAC/B,IAAK,CAAA,SAAA;AAAA,MACL,OAAA;AAAA,MACA,SAAA;AAAA,KACJ,CAAA;AAEA,IAAA,KAAA,CAAM,SAAU,CAAA,KAAA,CAAM,QAAS,CAAA,SAAA,CAAU,KAAK,CAAA,CAAA;AAE9C,IAAA,OAAA,CAAQ,YAAY,QAAQ,CAAA,CAAA;AAE5B,IAAQ,OAAA,CAAA,iBAAA,CAAkB,YAAa,CAAA,CAAA,EAAG,YAAY,CAAA,CAAA;AACtD,IAAA,OAAA,CAAQ,kBAAkB,WAAY,CAAA,KAAA,CAAM,IAAM,EAAA,CAAA,EAAG,MAAM,KAAK,CAAA,CAAA;AAAA,GACpE;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AAAA;AA9Fa,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,kBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;ACvBG,MAAM,cACb,CAAA;AAAA,EA8BI,YAAY,YACZ,EAAA;AACI,IAAI,IAAA,OAAO,iBAAiB,QAC5B,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,GAAgB,IAAI,WAAA,CAAY,YAAY,CAAA,CAAA;AAAA,KACrD,MAAA,IACS,wBAAwB,UACjC,EAAA;AACI,MAAA,IAAA,CAAK,gBAAgB,YAAa,CAAA,MAAA,CAAA;AAAA,KAGtC,MAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,YAAA,CAAA;AAAA,KACzB;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,IAAI,WAAY,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AACpD,IAAA,IAAA,CAAK,WAAc,GAAA,IAAI,YAAa,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAEtD,IAAK,IAAA,CAAA,IAAA,GAAO,KAAK,aAAc,CAAA,UAAA,CAAA;AAAA,GACnC;AAAA;AAAA,EAGA,IAAI,QACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,IAAI,SAAU,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,SACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,IAAI,UAAW,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,SACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,IAAI,UAAW,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,SACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,IAAI,UAAW,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,aACV,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,IAAI,YAAa,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KAC5D;AAEA,IAAA,OAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,aACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,eACV,EAAA;AACI,MAAA,IAAA,CAAK,eAAkB,GAAA,IAAI,cAAe,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAAA,KAChE;AAEA,IAAA,OAAO,IAAK,CAAA,eAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,KAAK,IACZ,EAAA;AACI,IAAQ,OAAA,IAAA,CAAa,GAAG,IAAU,CAAA,IAAA,CAAA,CAAA,CAAA;AAAA,GACtC;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAAA,GACvB;AAAA,EAEA,OAAc,OAAO,IACrB,EAAA;AACI,IAAA,QAAQ,IACR;AAAA,MACI,KAAK,MAAA,CAAA;AAAA,MACL,KAAK,OAAA;AACD,QAAO,OAAA,CAAA,CAAA;AAAA,MACX,KAAK,OAAA,CAAA;AAAA,MACL,KAAK,QAAA;AACD,QAAO,OAAA,CAAA,CAAA;AAAA,MACX,KAAK,OAAA,CAAA;AAAA,MACL,KAAK,QAAA,CAAA;AAAA,MACL,KAAK,SAAA;AACD,QAAO,OAAA,CAAA,CAAA;AAAA,MACX;AACI,QAAM,MAAA,IAAI,KAAM,CAAA,CAAA,EAAG,IAA8B,CAAA,wBAAA,CAAA,CAAA,CAAA;AAAA,KACzD;AAAA,GACJ;AACJ;;ACjKgB,SAAA,QAAA,CAAS,cAA2B,iBACpD,EAAA;AACI,EAAM,MAAA,YAAA,GAAgB,YAAa,CAAA,UAAA,GAAa,CAAK,GAAA,CAAA,CAAA;AAErD,EAAA,MAAM,iBAAoB,GAAA,IAAI,YAAa,CAAA,YAAA,EAAc,GAAG,YAAY,CAAA,CAAA;AACxE,EAAA,MAAM,sBAAyB,GAAA,IAAI,YAAa,CAAA,iBAAA,EAAmB,GAAG,YAAY,CAAA,CAAA;AAElF,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,EAAc,CAClC,EAAA,EAAA;AACI,IAAuB,sBAAA,CAAA,CAAC,CAAI,GAAA,iBAAA,CAAkB,CAAC,CAAA,CAAA;AAAA,GACnD;AAGA,EAAA,MAAM,eAAkB,GAAA,IAAI,UAAW,CAAA,YAAA,EAAc,eAAe,CAAC,CAAA,CAAA;AACrE,EAAA,MAAM,oBAAuB,GAAA,IAAI,UAAW,CAAA,iBAAA,EAAmB,eAAe,CAAC,CAAA,CAAA;AAE/E,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAC5C,EAAA,EAAA;AACI,IAAqB,oBAAA,CAAA,CAAC,CAAI,GAAA,eAAA,CAAgB,CAAC,CAAA,CAAA;AAAA,GAC/C;AACJ;;ACjBO,MAAM,iBACb,CAAA;AAAA,EAUI,WACA,GAAA;AANA;AAAA,IAAO,IAAA,CAAA,GAAA,mBAAqC,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAOnD,IAAA,IAAA,CAAK,WAAW,EAAC,CAAA;AACjB,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAAA,GACjB;AAAA,EAEO,KACP,GAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,OAAO,CAChC,EAAA,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAEzB,MAAK,IAAA,CAAA,QAAA,CAAS,CAAC,CAAI,GAAA,IAAA,CAAA;AACnB,MAAK,IAAA,CAAA,GAAA,CAAI,CAAE,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KACtB;AAEA,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAAA,GACjB;AACJ;;ACnBO,MAAM,KACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAA,IAAA,CAAO,IAAO,GAAA,OAAA,CAAA;AACd,IAAA,IAAA,CAAO,MAAsB,GAAA,YAAA,CAAA;AAO7B;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAO,IAAO,GAAA,CAAA,CAAA;AAGd,IAAA,IAAA,CAAO,SAAyB,GAAA,QAAA,CAAA;AAEhC,IAAA,IAAA,CAAO,SAAY,GAAA,IAAA,CAAA;AAAA,GAAA;AAAA,EAiBZ,OACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AA4BA,IAAI,UAAa,GAAA,CAAA,CAAA;AAEV,MAAM,OACb,CAAA;AAAA,EA2BI,WAAY,CAAA,UAAA,GAAa,CAAG,EAAA,SAAA,GAAY,CACxC,EAAA;AA3BA,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,SAAS,CAAA,CAAA;AAS1B,IAAA,IAAA,CAAO,KAAQ,GAAA,IAAA,CAAA;AAEf,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAO,UAAmB,EAAC,CAAA;AAG3B;AAAA,IAAA,IAAA,CAAiB,WAAsB,GAAA,CAAA,CAAA;AAEvC,IAAA,IAAA,CAAQ,YAA+B,EAAC,CAAA;AAExC,IAAA,IAAA,CAAiB,aAAsB,EAAC,CAAA;AACxC,IAAA,IAAA,CAAQ,eAAkB,GAAA,CAAA,CAAA;AAC1B,IAAA,IAAA,CAAiB,oBAAyC,EAAC,CAAA;AAC3D,IAAA,IAAA,CAAQ,sBAAyB,GAAA,CAAA,CAAA;AAM7B,IAAA,IAAA,CAAK,kBAAkB,IAAI,cAAA,CAAe,UAAa,GAAA,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA;AAE3E,IAAK,IAAA,CAAA,WAAA,GAAc,IAAI,WAAA,CAAY,SAAS,CAAA,CAAA;AAAA,GAChD;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AACnB,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,CAAA;AACrB,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AACvB,IAAA,IAAA,CAAK,sBAAyB,GAAA,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,gBAAmB,GAAA,CAAA,CAAA;AACxB,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA,EAEO,IAAI,eACX,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,IAAK,CAAA,WAAA,EAAa,CAAI,GAAA,eAAA,CAAA;AAErC,IAAA,eAAA,CAAgB,aAAa,IAAK,CAAA,SAAA,CAAA;AAClC,IAAA,eAAA,CAAgB,WAAW,IAAK,CAAA,aAAA,CAAA;AAChC,IAAA,eAAA,CAAgB,OAAU,GAAA,IAAA,CAAA;AAE1B,IAAA,IAAA,CAAK,aAAa,eAAgB,CAAA,SAAA,CAAA;AAClC,IAAK,IAAA,CAAA,aAAA,IAAmB,eAAgB,CAAA,UAAA,GAAc,IAAK,CAAA,WAAA,CAAA;AAAA,GAC/D;AAAA,EAEO,qBAAA,CAAsB,iBAAkC,OAC/D,EAAA;AACI,IAAA,MAAM,YAAY,eAAgB,CAAA,KAAA,CAAM,SAAS,GAAI,CAAA,OAAA,CAAQ,QAAQ,GAAG,CAAA,CAAA;AAIxE,IAAI,IAAA,CAAC,aAAa,SAAc,KAAA,CAAA;AAAG,MAAO,OAAA,KAAA,CAAA;AAE1C,IAAA,eAAA,CAAgB,SAAY,GAAA,SAAA,CAAA;AAC5B,IAAA,eAAA,CAAgB,OAAU,GAAA,OAAA,CAAA;AAE1B,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,cAAc,eACrB,EAAA;AACI,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAgB,eAAA,CAAA,cAAA;AAAA,MACZ,KAAK,eAAgB,CAAA,WAAA;AAAA,MACrB,KAAK,eAAgB,CAAA,UAAA;AAAA,MACrB,eAAgB,CAAA,QAAA;AAAA,MAAU,eAAgB,CAAA,SAAA;AAAA,KAAS,CAAA;AAAA,GAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,MAAM,cACb,EAAA;AAEI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,IAAI,eAAe,IAAK,CAAA,iBAAA,CAAkB,KAAK,sBAAwB,EAAA,CAAA,IAAK,IAAI,iBAAkB,EAAA,CAAA;AAElG,IAAA,YAAA,CAAa,KAAM,EAAA,CAAA;AAGnB,IAAI,IAAA,CAAC,QAAS,CAAA,IAAA,CAAK,YAAY,CAAA;AAAG,MAAA,OAAA;AAElC,IAAA,IAAI,SAAY,GAAA,QAAA,CAAS,IAAK,CAAA,YAAY,CAAE,CAAA,SAAA,CAAA;AAE5C,IAAA,IAAI,IAAK,CAAA,aAAA,GAAgB,CAAI,GAAA,IAAA,CAAK,gBAAgB,IAClD,EAAA;AACI,MAAK,IAAA,CAAA,sBAAA,CAAuB,IAAK,CAAA,aAAA,GAAgB,CAAC,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAI,IAAK,CAAA,SAAA,GAAY,IAAK,CAAA,WAAA,CAAY,MACtC,EAAA;AACI,MAAK,IAAA,CAAA,kBAAA,CAAmB,KAAK,SAAS,CAAA,CAAA;AAAA,KAC1C;AAEA,IAAM,MAAA,GAAA,GAAM,KAAK,eAAgB,CAAA,WAAA,CAAA;AACjC,IAAM,MAAA,GAAA,GAAM,KAAK,eAAgB,CAAA,UAAA,CAAA;AACjC,IAAA,MAAM,UAAU,IAAK,CAAA,WAAA,CAAA;AAErB,IAAA,IAAI,OAAO,IAAK,CAAA,eAAA,CAAA;AAChB,IAAA,IAAI,QAAQ,IAAK,CAAA,gBAAA,CAAA;AAEjB,IAAA,IAAI,MAAsB,GAAA,YAAA,CAAA;AAC1B,IAAA,IAAI,QAAQ,IAAK,CAAA,UAAA,CAAW,KAAK,eAAiB,EAAA,CAAA,IAAK,IAAI,KAAM,EAAA,CAAA;AAEjE,IAAA,KAAA,IAAS,IAAI,IAAK,CAAA,YAAA,EAAc,IAAI,IAAK,CAAA,WAAA,EAAa,EAAE,CACxD,EAAA;AACI,MAAM,MAAA,OAAA,GAAU,SAAS,CAAC,CAAA,CAAA;AAE1B,MAAA,QAAA,CAAS,CAAC,CAAI,GAAA,IAAA,CAAA;AAEd,MAAA,MAAM,UAAU,OAAQ,CAAA,OAAA,CAAA;AACxB,MAAA,MAAM,SAAS,OAAQ,CAAA,OAAA,CAAA;AAEvB,MAAM,MAAA,eAAA,GAAkB,cAAc,OAAQ,CAAA,SAAA,CAAA;AAE9C,MAAA,IAAI,MAAO,CAAA,UAAA,KAAe,UAAc,IAAA,CAAC,eACzC,EAAA;AACI,QAAA,OAAA,CAAQ,YAAY,MAAO,CAAA,oBAAA,CAAA;AAE3B,QAAA,IAAA,IAAQ,OAAQ,CAAA,SAAA,CAAA;AAChB,QAAA,OAAA,CAAQ,eAAe,GAAK,EAAA,GAAA,EAAK,OAAQ,CAAA,QAAA,EAAU,QAAQ,SAAS,CAAA,CAAA;AACpE,QAAA,OAAA,CAAQ,UAAU,OAAS,EAAA,OAAA,CAAQ,YAAY,OAAQ,CAAA,QAAA,GAAW,KAAK,WAAW,CAAA,CAAA;AAElF,QAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAA;AAEhB,QAAA,SAAA;AAAA,OACJ;AAEA,MAAA,MAAA,CAAO,UAAa,GAAA,UAAA,CAAA;AAEpB,MAAI,IAAA,YAAA,CAAa,KAAS,IAAA,YAAA,IAAgB,eAC1C,EAAA;AACI,QAAK,IAAA,CAAA,YAAA;AAAA,UACD,KAAA;AAAA,UACA,KAAA;AAAA,UACA,IAAO,GAAA,KAAA;AAAA,UACP,YAAA;AAAA,UACA,SAAA;AAAA,UACA,cAAA;AAAA,UACA,MAAA;AAAA,SACJ,CAAA;AAEA,QAAS,MAAA,GAAA,aAAA,CAAA;AACT,QAAQ,KAAA,GAAA,IAAA,CAAA;AAER,QAAA,SAAA,GAAY,OAAQ,CAAA,SAAA,CAAA;AAEpB,QAAA,YAAA,GAAe,KAAK,iBAAkB,CAAA,IAAA,CAAK,sBAAwB,EAAA,CAAA,IAAK,IAAI,iBAAkB,EAAA,CAAA;AAC9F,QAAA,YAAA,CAAa,KAAM,EAAA,CAAA;AAEnB,QAAA,KAAA,GAAQ,KAAK,UAAW,CAAA,IAAA,CAAK,eAAiB,EAAA,CAAA,IAAK,IAAI,KAAM,EAAA,CAAA;AAC7D,QAAE,EAAA,UAAA,CAAA;AAAA,OACN;AAEA,MAAQ,OAAA,CAAA,SAAA,GAAY,MAAO,CAAA,oBAAA,GAAuB,YAAa,CAAA,KAAA,CAAA;AAC/D,MAAA,YAAA,CAAa,GAAI,CAAA,MAAA,CAAO,GAAG,CAAA,GAAI,YAAa,CAAA,KAAA,CAAA;AAC5C,MAAa,YAAA,CAAA,QAAA,CAAS,YAAa,CAAA,KAAA,EAAO,CAAI,GAAA,MAAA,CAAA;AAC9C,MAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAA;AAEhB,MAAA,IAAA,IAAQ,OAAQ,CAAA,SAAA,CAAA;AAChB,MAAA,OAAA,CAAQ,eAAe,GAAK,EAAA,GAAA,EAAK,OAAQ,CAAA,QAAA,EAAU,QAAQ,SAAS,CAAA,CAAA;AACpE,MAAA,OAAA,CAAQ,UAAU,OAAS,EAAA,OAAA,CAAQ,YAAY,OAAQ,CAAA,QAAA,GAAW,KAAK,WAAW,CAAA,CAAA;AAAA,KACtF;AAEA,IAAI,IAAA,YAAA,CAAa,QAAQ,CACzB,EAAA;AACI,MAAK,IAAA,CAAA,YAAA;AAAA,QACD,KAAA;AAAA,QACA,KAAA;AAAA,QACA,IAAO,GAAA,KAAA;AAAA,QACP,YAAA;AAAA,QACA,SAAA;AAAA,QACA,cAAA;AAAA,QACA,MAAA;AAAA,OACJ,CAAA;AAEA,MAAQ,KAAA,GAAA,IAAA,CAAA;AACR,MAAE,EAAA,UAAA,CAAA;AAAA,KACN;AAEA,IAAA,IAAA,CAAK,eAAe,IAAK,CAAA,WAAA,CAAA;AACzB,IAAA,IAAA,CAAK,gBAAmB,GAAA,KAAA,CAAA;AACxB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AAAA,EAEQ,aACJ,KACA,EAAA,UAAA,EACA,WACA,YACA,EAAA,SAAA,EACA,gBACA,MAEJ,EAAA;AACI,IAAA,KAAA,CAAM,YAAe,GAAA,IAAA,CAAA;AACrB,IAAA,KAAA,CAAM,MAAS,GAAA,MAAA,CAAA;AAEf,IAAA,KAAA,CAAM,OAAU,GAAA,IAAA,CAAA;AAChB,IAAA,KAAA,CAAM,QAAW,GAAA,YAAA,CAAA;AACjB,IAAA,KAAA,CAAM,SAAY,GAAA,SAAA,CAAA;AAElB,IAAA,KAAA,CAAM,KAAQ,GAAA,UAAA,CAAA;AACd,IAAA,KAAA,CAAM,IAAO,GAAA,SAAA,CAAA;AAEb,IAAE,EAAA,UAAA,CAAA;AAEF,IAAA,cAAA,CAAe,IAAI,KAAK,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,OAAO,cACd,EAAA;AACI,IAAA,IAAA,CAAK,MAAM,cAAc,CAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,sBAAsB,IAC7B,EAAA;AACI,IAAI,IAAA,IAAA,GAAO,CAAI,GAAA,IAAA,CAAK,eAAgB,CAAA,IAAA;AAAM,MAAA,OAAA;AAE1C,IAAK,IAAA,CAAA,sBAAA,CAAuB,OAAO,CAAC,CAAA,CAAA;AAAA,GACxC;AAAA,EAEO,kBAAkB,IACzB,EAAA;AACI,IAAI,IAAA,IAAA,GAAO,KAAK,WAAY,CAAA,MAAA;AAAQ,MAAA,OAAA;AAEpC,IAAA,IAAA,CAAK,mBAAmB,IAAI,CAAA,CAAA;AAAA,GAChC;AAAA,EAEQ,uBAAuB,IAC/B,EAAA;AACI,IAAA,MAAM,UAAU,IAAK,CAAA,GAAA,CAAI,MAAM,IAAK,CAAA,eAAA,CAAgB,OAAO,CAAC,CAAA,CAAA;AAE5D,IAAM,MAAA,cAAA,GAAiB,IAAI,cAAA,CAAe,OAAO,CAAA,CAAA;AAEjD,IAAA,QAAA,CAAS,IAAK,CAAA,eAAA,CAAgB,aAAe,EAAA,cAAA,CAAe,aAAa,CAAA,CAAA;AAEzE,IAAA,IAAA,CAAK,eAAkB,GAAA,cAAA,CAAA;AAAA,GAC3B;AAAA,EAEQ,mBAAmB,IAC3B,EAAA;AACI,IAAA,MAAM,cAAc,IAAK,CAAA,WAAA,CAAA;AAEzB,IAAA,MAAM,UAAU,IAAK,CAAA,GAAA,CAAI,IAAM,EAAA,WAAA,CAAY,SAAS,CAAC,CAAA,CAAA;AAErD,IAAM,MAAA,cAAA,GAAiB,IAAI,WAAA,CAAY,OAAO,CAAA,CAAA;AAE9C,IAAS,QAAA,CAAA,WAAA,CAAY,MAAQ,EAAA,cAAA,CAAe,MAAM,CAAA,CAAA;AAElD,IAAA,IAAA,CAAK,WAAc,GAAA,cAAA,CAAA;AAAA,GACvB;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAEf,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,SAAA,CAAU,QAAQ,CAC3C,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,CAAC,CAAA,CAAE,KAAQ,GAAA,IAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAEnB,IAAA,IAAA,CAAK,gBAAgB,OAAQ,EAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AACJ;;ACtWO,MAAM,WACb,CAAA;AAAA,EAqBI,WAAA,CAAY,UAAoB,OAChC,EAAA;AAXA,IAAO,IAAA,CAAA,KAAA,GAAe,MAAM,KAAM,EAAA,CAAA;AAGlC,IAAQ,IAAA,CAAA,QAAA,mBAA2C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC9D,IAAQ,IAAA,CAAA,WAAA,mBAAoD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAQnE,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,SAAS,IAAK,EAAA,CAAA;AAAA,GACvB;AAAA,EAEO,WAAW,cAClB,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,QAAS,CAAA,cAAA,CAAe,GAAG,CACrC,EAAA;AACI,MAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,EAAA,CAAA;AAE5B,MAAK,IAAA,CAAA,QAAA,CAAS,cAAe,CAAA,GAAG,CAAI,GAAA,OAAA,CAAA;AACpC,MAAA,IAAA,CAAK,WAAY,CAAA,OAAA,CAAQ,GAAG,CAAA,GAAI,IAAI,aAAc,EAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,QAAS,CAAA,cAAA,CAAe,GAAG,CAAA,CAAA;AACpD,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,aAAa,GAAG,CAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,aAAa,KAAM,EAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,WAAW,eAClB,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,IAAI,eAAe,CAAA,CAAA;AAAA,GACzC;AAAA,EAEO,MAAM,cACb,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,MAAM,cAAc,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEO,SAAS,cAChB,EAAA;AACI,IAAA,MAAM,cAAc,IAAK,CAAA,YAAA,CAAA;AACzB,IAAA,MAAM,WAAW,IAAK,CAAA,eAAA,CAAA;AAEtB,IAAA,WAAA,CAAY,OAAO,cAAc,CAAA,CAAA;AAEjC,IAAS,QAAA,CAAA,WAAA,CAAY,OAAO,WAAY,CAAA,WAAA,CAAA;AACxC,IAAA,QAAA,CAAS,WAAY,CAAA,MAAA,CAAO,WAAY,CAAA,SAAA,GAAY,CAAC,CAAA,CAAA;AAErD,IAAA,QAAA,CAAS,OAAQ,CAAA,CAAC,CAAE,CAAA,IAAA,GAAO,YAAY,eAAgB,CAAA,WAAA,CAAA;AAAA,GAC3D;AAAA,EAEO,OAAO,cACd,EAAA;AACI,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,QAAS,CAAA,cAAA,CAAe,GAAG,CAAA,CAAA;AAChD,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,WAAY,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAE7C,IAAA,IAAI,QAAQ,KACZ,EAAA;AACI,MAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAA;AAChB,MAAA,QAAA,CAAS,QAAQ,CAAC,CAAA,CAAE,MAAO,CAAA,OAAA,CAAQ,gBAAgB,CAAC,CAAA,CAAA;AAAA,KACxD;AAAA,GACJ;AAAA,EAEO,QAAQ,KACf,EAAA;AACI,IAAI,IAAA,KAAA,CAAM,WAAW,YACrB,EAAA;AACI,MAAA,MAAM,UAAU,KAAM,CAAA,OAAA,CAAA;AACtB,MAAA,MAAM,QAAW,GAAA,IAAA,CAAK,WAAY,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAE7C,MAAK,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,IAAA,EAAM,QAAQ,CAAA,CAAA;AAAA,KACtC;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAAA,GACrC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,SAAS,OAAQ,EAAA,CAAA;AACtB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,QACrB,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,WACrB,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAChC;AAEA,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAAA,GACvB;AACJ,CAAA;AAAA;AApHa,WAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;AC1BG,SAAS,aAAa,MAC7B,EAAA;AACI,EAAA,MAAM,MAAM,MAAO,CAAA,KAAA,CAAM,WAAW,CAAA,CAC/B,IAAI,CAAC,CAAA,KAAM,CAAE,CAAA,IAAA,EAAM,CACnB,CAAA,MAAA,CAAO,CAAC,CAAA,KAAM,EAAE,MAAM,CAAA,CAAA;AAE3B,EAAA,IAAI,MAAS,GAAA,EAAA,CAAA;AAEb,EAAA,MAAM,SAAY,GAAA,GAAA,CAAI,GAAI,CAAA,CAAC,CAC3B,KAAA;AACI,IAAA,IAAI,eAAe,MAAS,GAAA,CAAA,CAAA;AAE5B,IAAA,IAAI,MAAM,GACV,EAAA;AACI,MAAU,MAAA,IAAA,MAAA,CAAA;AAAA,KACd,MAAA,IACS,MAAM,GACf,EAAA;AACI,MAAA,MAAA,GAAS,MAAO,CAAA,MAAA,CAAO,CAAG,EAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CAAA;AAE3C,MAAA,YAAA,GAAe,MAAS,GAAA,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAO,OAAA,YAAA,CAAA;AAAA,GACV,CAAE,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEZ,EAAO,OAAA,SAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;;;;AC/BO,MAAM,eAAkB,GAAA;AAAA,EAC3B,IAAM,EAAA,mBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAUlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAIhB,GAAA;AAAA;AAAA,MAAe,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMnB;AACJ,EAAA;AAGa,MAAA,qBAAA,GAAwBD,qCAC9B,eAD8B,CAAA,EAAA;AAAA,EAEjC,MAAA,EAAQA,eACD,CAAAC,gBAAA,CAAA,EAAA,EAAA,eAAA,CAAgB,MADf,CAAA,EAAA;AAAA;AAAA,IAGJ,QAAQ,eAAgB,CAAA,MAAA,CAAO,MAAO,CAAA,OAAA,CAAQ,YAAY,UAAU,CAAA;AAAA,GACxE,CAAA;AACJ,CAAA,EAAA;AAEO,MAAM,iBAAoB,GAAA;AAAA,EAC7B,IAAM,EAAA,mBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAMlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAIhB,GAAA;AAAA;AAAA,MAAe,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMnB;AACJ;;ACxDO,MAAM,UAAa,GAAA;AAAA,EACtB,IAAM,EAAA,aAAA;AAAA,EACN,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAMlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAGpB;AACJ,EAAA;AAEO,MAAM,YAAe,GAAA;AAAA,EACxB,IAAM,EAAA,aAAA;AAAA,EACN,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAKlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAGpB;AACJ;;ACXO,MAAM,wBAA+CU,aAC5D,CAAA;AAAA,EAUI,WAAY,CAAA,EAAE,QAAU,EAAA,IAAA,EACxB,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAXV,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,YAAY,CAAA,CAAA;AAazB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAK,IAAA,CAAA,cAAA,GAAiB,IAAI,MAAO,EAAA,CAAA;AACjC,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAA,IAAA,CAAK,sBAAyB,GAAA,CAAA,CAAA;AAE9B,IAAA,IAAA,CAAK,KAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACtB;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,cAAA,CAAA;AAAA,GAC1B;AAAA,EAEO,YACP,GAAA;AACI,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAK,IAAA,CAAA,SAAA,CAAU,UAAW,CAAA,iBAAA,CAAkB,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,YAAA,CAAA;AAAA,GAC1B;AACJ;;AC9CgB,SAAA,iBAAA,CAAkB,YAAwB,WAC1D,EAAA;AACI,EAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AACxB,EAAA,MAAM,iBAAiB,UAAW,CAAA,cAAA,CAAA;AAElC,EAAA,cAAA,CAAe,KAAM,EAAA,CAAA;AAGrB,EAAY,WAAA,CAAA,KAAA,CAAM,WAAW,cAAc,CAAA,CAAA;AAC3C,EAAA,WAAA,CAAY,UAAU,UAAW,EAAA,CAAA;AACjC,EAAA,WAAA,CAAY,UAAU,UAAW,EAAA,CAAA;AAEjC,EAAA,IAAI,KAAK,gBACT,EAAA;AACI,IAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAAA,GACtB;AAEA,EAA8B,6BAAA,CAAA,IAAA,EAAM,cAAgB,EAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAIrE,EAAY,WAAA,CAAA,KAAA,CAAM,SAAS,cAAc,CAAA,CAAA;AACzC,EAAY,WAAA,CAAA,SAAA,CAAU,SAAS,cAAc,CAAA,CAAA;AAGjD,CAAA;AAEgB,SAAA,qBAAA,CACZ,SACA,EAAA,cAAA,EACA,aAEJ,EAAA;AAGI,EAAA,IAAI,SAAU,CAAA,sBAAA,GAAyB,CAAQ,IAAA,CAAC,SAAU,CAAA,cAAA;AAAgB,IAAA,OAAA;AAE1E,EAAA,IAAI,UAAU,gBACd,EAAA;AACI,IAAA,SAAA,CAAU,YAAa,EAAA,CAAA;AAAA,GAC3B;AAEA,EAAA,IAAI,UAAU,QACd,EAAA;AACI,IAA4B,2BAAA,CAAA,SAAA,EAAW,gBAAgB,aAAa,CAAA,CAAA;AAAA,GAGxE,MAAA;AACI,IAA8B,6BAAA,CAAA,SAAA,EAAW,cAAgB,EAAA,aAAA,EAAe,KAAK,CAAA,CAAA;AAAA,GACjF;AACJ,CAAA;AAEA,SAAS,2BAAA,CACL,SACA,EAAA,cAAA,EACA,WAEJ,EAAA;AACI,EAAA,MAAM,OAAO,SAAU,CAAA,IAAA,CAAA;AAEvB,EAAA,IAAI,IACJ,EAAA;AAEI,IAAA,WAAA,CAAY,SAAU,CAAA,YAAA,CAAa,SAAyB,EAAA,SAAA,CAAU,gBAAgB,cAAc,CAAA,CAAA;AAEpG,IAAA,SAAA,CAAU,aAAgB,GAAA,KAAA,CAAA;AAE1B,IAAA,MAAM,EAAK,GAAA,WAAA,CAAA;AAEX,IAAA,EAAA,CAAG,IAAK,CAAA,YAAY,CAAE,CAAA,aAAA,CAAc,WAAW,cAAc,CAAA,CAAA;AAAA,GACjE;AAEA,EAAI,IAAA,CAAC,UAAU,WACf,EAAA;AACI,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAC3B,IAAA,MAAM,SAAS,QAAS,CAAA,MAAA,CAAA;AAExB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,EAAQ,CAC5B,EAAA,EAAA;AACI,MAAA,qBAAA,CAAsB,QAAS,CAAA,CAAC,CAAG,EAAA,cAAA,EAAgB,WAAW,CAAA,CAAA;AAAA,KAClE;AAAA,GACJ;AACJ,CAAA;AAEA,SAAS,6BACL,CAAA,SAAA,EACA,cACA,EAAA,WAAA,EACA,MAEJ,EAAA;AAnGA,EAAA,IAAA,EAAA,CAAA;AAoGI,EAAA,IAAI,MACJ,EAAA;AACI,IAAA,MAAM,aAAa,SAAU,CAAA,UAAA,CAAA;AAE7B,IAAI,IAAA,UAAA,CAAW,KAAK,IACpB,EAAA;AAEI,MAAA,MAAM,eAAkB,GAAA,CAAA,EAAA,GAAA,UAAA,CAAW,eAAX,KAAA,IAAA,GAAA,EAAA,GAA8B,oBAAoB,UAAU,CAAA,CAAA;AAEpF,MAAA,IAAI,eACJ,EAAA;AACI,QAAA,WAAA,CAAY,SAAU,CAAA,YAAA,CAAa,eAAiB,EAAA,eAAA,CAAgB,gBAAgB,cAAc,CAAA,CAAA;AAGlG,QAAC,YAAY,eAAgB,CAAA,IAAA,CAAK,YAAiC,CAAU,CAAA,aAAA,CAAc,iBAAiB,cAAc,CAAA,CAAA;AAAA,OAC9H;AAAA,KACJ;AAAA,GAGJ,MAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,OAAA,CAAQ,QAAQ,CAC9C,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,SAAU,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAClC,MAAM,MAAA,IAAA,GAAO,WAAY,CAAA,MAAA,CAAO,IAAyB,CAAA,CAAA;AAEzD,MAAK,IAAA,CAAA,IAAA,CAAK,MAAQ,EAAA,SAAA,EAAW,cAAc,CAAA,CAAA;AAAA,KAC/C;AAAA,GACJ;AAEA,EAAI,IAAA,CAAC,MAAU,IAAA,SAAA,CAAU,WACzB,EAAA;AACI,IAAA,WAAA,CAAY,KAAM,CAAA,aAAA,CAAc,SAAU,CAAA,UAAA,EAAY,cAAc,CAAA,CAAA;AAAA,GAGxE,MAAA;AACI,IAAA,MAAM,OAAO,SAAU,CAAA,IAAA,CAAA;AAEvB,IAAA,IAAI,IACJ,EAAA;AAEI,MAAA,WAAA,CAAY,SAAU,CAAA,YAAA,CAAa,SAAyB,EAAA,SAAA,CAAU,gBAAgB,cAAc,CAAA,CAAA;AACpG,MAAA,SAAA,CAAU,aAAgB,GAAA,KAAA,CAAA;AAE1B,MAAM,MAAA,IAAA,GAAO,WAAY,CAAA,IAAA,CAAK,YAAiC,CAAA,CAAA;AAE/D,MAAK,IAAA,CAAA,aAAA,CAAc,WAAW,cAAc,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAE3B,IAAA,IAAI,SAAS,MACb,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,QAAA,qBAAA,CAAsB,QAAS,CAAA,CAAC,CAAG,EAAA,cAAA,EAAgB,WAAW,CAAA,CAAA;AAAA,OAClE;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,IAAI,CAAC,MACL,EAAA;AAEI,IAAA,KAAA,IAAS,IAAI,SAAU,CAAA,OAAA,CAAQ,SAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CACnD,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,SAAU,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAClC,MAAM,MAAA,IAAA,GAAO,WAAY,CAAA,MAAA,CAAO,IAAyB,CAAA,CAAA;AAEzD,MAAK,IAAA,CAAA,GAAA,CAAI,MAAQ,EAAA,SAAA,EAAW,cAAc,CAAA,CAAA;AAAA,KAC9C;AAAA,GACJ;AACJ,CAAA;AAEA,SAAS,oBAAoB,UAC7B,EAAA;AACI,EAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,EAAW,UAAA,CAAA,eAAA,GAAkB,IAAI,eAAgB,CAAA;AAAA,IAC7C,QAAU,EAAA,IAAA;AAAA,IACV,MAAM,IAAK,CAAA,IAAA;AAAA,GACd,CAAA,CAAA;AACL;;AC7JA,MAAMD,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAE9B,MAAM,wBAAwB,YAC9B,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,OAAA,EAAS,CAAC,IAAI,UAAW,CAAA;AAAA,QACrB,MAAQ,EAAA,IAAI,MAAO,CAAA,OAAA,CAAQ,KAAK,CAAA;AAAA,OACnC,CAAC,CAAA;AAAA,KACL,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,OAAQ,CAAA,CAAC,CAAiB,CAAA,MAAA,CAAA;AAAA,GAC3C;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAC,IAAK,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAiB,MAAS,GAAA,KAAA,CAAA;AAAA,GAC7C;AAGJ,CAAA;AAmBO,MAAM,aACb,CAAA;AAAA,EAcI,YAAY,QACZ,EAAA;AAHA,IAAA,IAAA,CAAQ,mBAAoC,EAAC,CAAA;AAIzC,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,IAAA,CAAK,IAAc,EAAA,eAAA,EAA4B,cACtD,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,WAAA;AAAA,MACN,MAAQ,EAAA,eAAA;AAAA,MACR,IAAA;AAAA,MACA,SAAW,EAAA,KAAA;AAAA,MACX,eAAA;AAAA,KACqB,CAAA,CAAA;AAEzB,IAAA,IAAK,KAAmB,mBACxB,EAAA;AACI,MAAA,MAAM,gBAAiB,IAAmB,CAAA,IAAA,CAAA;AAE1C,MAAA,aAAA,CAAc,cAAiB,GAAA,IAAA,CAAA;AAE/B,MAAA,qBAAA;AAAA,QACI,aAAA;AAAA,QACA,cAAA;AAAA,QACA,QAAS,CAAA,WAAA;AAAA,OACb,CAAA;AAEA,MAAA,aAAA,CAAc,cAAiB,GAAA,KAAA,CAAA;AAAA,KACnC;AAEA,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,WAAA;AAAA,MACN,MAAQ,EAAA,aAAA;AAAA,MACR,IAAA;AAAA,MACA,eAAA;AAAA,MACA,SAAW,EAAA,KAAA;AAAA,KACU,CAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,GAAA,CAAI,IAAc,EAAA,gBAAA,EAA6B,cACtD,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,WAAA;AAAA,MACN,MAAQ,EAAA,YAAA;AAAA,MACR,IAAA;AAAA,MACA,SAAW,EAAA,KAAA;AAAA,KACU,CAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,QAAQ,WACf,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAM,MAAA,UAAA,GAAa,YAAY,IAAK,CAAA,mBAAA,CAAA;AAEpC,IAAI,IAAA,WAAA,CAAY,WAAW,eAC3B,EAAA;AACI,MAAM,MAAA,YAAA,GAAe,OAAQ,CAAA,GAAA,CAAI,eAAe,CAAA,CAAA;AAEhD,MAAA,IAAI,UACJ,EAAA;AACI,QAAY,WAAA,CAAA,IAAA,CAAK,KAAK,UAAa,GAAA,IAAA,CAAA;AAEnC,QAAA,MAAM,SAAS,eAAgB,CAAA,WAAA,CAAY,IAAK,CAAA,IAAA,EAAM,MAAMA,YAAU,CAAA,CAAA;AAEtE,QAAY,WAAA,CAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AAEnC,QAAA,MAAA,CAAO,IAAK,EAAA,CAAA;AAGZ,QAAA,MAAM,gBAAgB,WAAY,CAAA,iBAAA;AAAA,UAC9B,MAAO,CAAA,KAAA;AAAA,UACP,MAAO,CAAA,MAAA;AAAA,UACP,CAAA;AAAA,UACA,KAAA;AAAA,SACJ,CAAA;AAEA,QAAA,MAAM,YAAe,GAAA,QAAA,CAAS,YAAa,CAAA,IAAA,CAAK,eAAe,IAAI,CAAA,CAAA;AAEnE,QAAA,QAAA,CAAS,eAAe,IAAK,CAAA;AAAA,UACzB,cAAgB,EAAA,YAAA;AAAA,UAChB,MAAQ,EAAA,MAAA;AAAA,UACR,UAAY,EAAA,UAAA;AAAA,SACf,CAAA,CAAA;AAED,QAAA,MAAM,SAAS,YAAa,CAAA,MAAA,CAAA;AAE5B,QAAA,MAAA,CAAO,OAAU,GAAA,aAAA,CAAA;AAEjB,QAAO,MAAA,CAAA,cAAA,CAAe,KAAK,MAAO,CAAA,IAAA,CAAA;AAClC,QAAO,MAAA,CAAA,cAAA,CAAe,KAAK,MAAO,CAAA,IAAA,CAAA;AAElC,QAAA,IAAA,CAAK,iBAAiB,IAAK,CAAA;AAAA,UAEvB,YAAA;AAAA,UACA,iBAAiB,WAAY,CAAA,eAAA;AAAA,UAC7B,aAAA;AAAA,SACH,CAAA,CAAA;AAAA,OAGL,MAAA;AACI,QAAa,YAAA,CAAA,MAAA,GAAS,YAAY,IAAK,CAAA,IAAA,CAAA;AAEvC,QAAA,IAAA,CAAK,iBAAiB,IAAK,CAAA;AAAA,UACvB,YAAA;AAAA,UACA,iBAAiB,WAAY,CAAA,eAAA;AAAA,SAChC,CAAA,CAAA;AAAA,OACL;AAAA,KACJ,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,aAChC,EAAA;AACI,MAAA,MAAM,WAAW,IAAK,CAAA,gBAAA,CAAiB,IAAK,CAAA,gBAAA,CAAiB,SAAS,CAAC,CAAA,CAAA;AAEvE,MAAA,IAAI,UACJ,EAAA;AACI,QAAA,QAAA,CAAS,aAAa,GAAI,EAAA,CAAA;AAC1B,QAAA,QAAA,CAAS,eAAe,GAAI,EAAA,CAAA;AAAA,OAChC;AAEA,MAAA,QAAA,CAAS,OAAO,IAAK,CAAA;AAAA,QACjB,IAAM,EAAA,QAAA;AAAA,QACN,MAAQ,EAAA,YAAA;AAAA,QACR,WAAW,QAAS,CAAA,eAAA;AAAA,QACpB,cAAc,QAAS,CAAA,YAAA;AAAA,QACvB,SAAW,EAAA,KAAA;AAAA,OACd,CAAA,CAAA;AAAA,KACL,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,YAChC,EAAA;AACI,MAAA,QAAA,CAAS,OAAO,GAAI,EAAA,CAAA;AAEpB,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,gBAAA,CAAiB,GAAI,EAAA,CAAA;AAE3C,MAAA,IAAI,UACJ,EAAA;AACI,QAAY,WAAA,CAAA,aAAA,CAAc,SAAS,aAAa,CAAA,CAAA;AAAA,OACpD;AAEA,MAAQ,OAAA,CAAA,MAAA,CAAO,SAAS,YAAY,CAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AAAA,GAC5B;AACJ,CAAA;AAAA;AA3Ka,aAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;AC5DG,MAAM,aACb,CAAA;AAAA,EAgBI,YAAY,QACZ,EAAA;AALA,IAAA,IAAA,CAAQ,cAAwB,EAAC,CAAA;AACjC,IAAA,IAAA,CAAQ,gBAAmB,GAAA,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAQ,aAAgB,GAAA,CAAA,CAAA;AAIpB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,UACP,GAAA;AACI,IAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAI,GAAA,EAAA,CAAA;AACtB,IAAA,IAAA,CAAK,gBAAmB,GAAA,CAAA,CAAA;AACxB,IAAA,IAAA,CAAK,aAAgB,GAAA,EAAA,CAAA;AAAA,GACzB;AAAA,EAEO,IAAA,CAAK,IAAc,EAAA,UAAA,EAAuB,cACjD,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,MAAM,aAAa,IAAK,CAAA,WAAA,CAAA;AAExB,IAAW,UAAA,CAAA,IAAA,CAAK,gBAAgB,CAAI,GAAA,UAAA,CAAW,KAAK,gBAAmB,GAAA,CAAC,IAAK,IAAmB,CAAA,IAAA,CAAA;AAEhG,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAE3D,IAAI,IAAA,YAAA,KAAiB,KAAK,aAC1B,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,YAAA,CAAA;AACrB,MAAA,cAAA,CAAe,GAAI,CAAA;AAAA,QACf,IAAM,EAAA,WAAA;AAAA,QACN,SAAW,EAAA,YAAA;AAAA,QACX,SAAW,EAAA,KAAA;AAAA,OACU,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAK,IAAA,CAAA,gBAAA,EAAA,CAAA;AAAA,GACT;AAAA,EAEO,GAAA,CAAI,KAAe,EAAA,UAAA,EAAuB,cACjD,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,MAAM,aAAa,IAAK,CAAA,WAAA,CAAA;AAExB,IAAK,IAAA,CAAA,gBAAA,EAAA,CAAA;AAEL,IAAA,MAAM,YAAe,GAAA,UAAA,CAAW,IAAK,CAAA,gBAAA,GAAmB,CAAC,CAAA,CAAA;AAEzD,IAAI,IAAA,YAAA,KAAiB,KAAK,aAC1B,EAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,YAAA,CAAA;AAErB,MAAA,cAAA,CAAe,GAAI,CAAA;AAAA,QACf,IAAM,EAAA,WAAA;AAAA,QACN,SAAW,EAAA,YAAA;AAAA,QACX,SAAW,EAAA,KAAA;AAAA,OACU,CAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AAAA,EAEO,QAAQ,WACf,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,SAAA,CAAU,OAAQ,CAAA,WAAA,CAAY,SAAS,CAAA,CAAA;AAAA,GACpD;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAAA,GACvB;AACJ,CAAA;AAAA;AAzFa,aAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;AClBG,MAAM,WACb,CAAA;AAAA,EAKI,YAAY,IACZ,EAAA;AALA,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAElB,IAAA,IAAA,CAAO,IAAO,GAAA,aAAA,CAAA;AAIV,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AACvB,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,KAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,SAAA,CAAU,QAAgB,mBACjC,EAAA;AACI,IAAc,aAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,mBAAmB,CAAA,CAAA;AAAA,GACxD;AAAA,EAEO,cAAA,CAAe,QAAgB,SACtC,EAAA;AACI,IAAmB,kBAAA,CAAA,IAAA,CAAK,IAAM,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,GACnD;AAAA,EAEO,aAAA,CAAc,OAAc,SACnC,EAAA;AACI,IAAA,MAAM,OAAO,IAAK,CAAA,IAAA,CAAA;AAGlB,IAAO,OAAA,SAAA,CAAU,MAAM,KAAK,CAAA,CAAA;AAAA,GAChC;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAK,UAAa,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,GACf;AACJ;;AClDY,IAAA,KAAA,qBAAA0C,MAAL,KAAA;AAGH,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,UAAO,CAAP,CAAA,GAAA,MAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,WAAQ,KAAR,CAAA,GAAA,OAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,aAAU,IAAV,CAAA,GAAA,SAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,WAAQ,GAAR,CAAA,GAAA,OAAA,CAAA;AAEA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,iBAAc,KAAd,CAAA,GAAA,aAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,mBAAgB,KAAhB,CAAA,GAAA,eAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,mBAAgB,IAAhB,CAAA,GAAA,eAAA,CAAA;AACA,EAAAA,MAAAA,CAAAA,MAAAA,CAAA,SAAM,KAAN,CAAA,GAAA,KAAA,CAAA;AAXQ,EAAAA,OAAAA,MAAAA,CAAAA;AAAA,CAAA,EAAA,KAAA,IAAA,EAAA;;ACmCA,IAAA,aAAA,qBAAAC,cAAL,KAAA;AAEH,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,cAAW,CAAX,CAAA,GAAA,UAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,wBAAqB,CAArB,CAAA,GAAA,oBAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,iBAAc,CAAd,CAAA,GAAA,aAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,2BAAwB,CAAxB,CAAA,GAAA,uBAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,UAAO,CAAP,CAAA,GAAA,MAAA,CAAA;AANQ,EAAAA,OAAAA,cAAAA,CAAAA;AAAA,CAAA,EAAA,aAAA,IAAA,EAAA;;ACbL,MAAM,eACb,CAAA;AAAA,EAoBI,YAAY,QACZ,EAAA;AARA;AAAA,IAAA,IAAA,CAAQ,iBAAyC,EAAC,CAAA;AAElD,IAAQ,IAAA,CAAA,SAAA,uBAAgB,OAGrB,EAAA,CAAA;AAIC,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,IAAA,CAAK,IAAc,EAAA,UAAA,EAAuB,cACjD,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAA;AAEf,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAC/C,IAAA,QAAA,CAAS,YAAY,SAAU,CAAA,YAAA,CAAa,MAAO,CAAA,IAAA,EAAM,QAAQ,cAAc,CAAA,CAAA;AAE/E,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,aAAA;AAAA,MACN,MAAQ,EAAA,eAAA;AAAA,MACR,IAAA;AAAA,MACA,SAAW,EAAA,KAAA;AAAA,KACY,CAAA,CAAA;AAE3B,IAAA,MAAM,gBAAgB,MAAO,CAAA,IAAA,CAAA;AAE7B,IAAA,aAAA,CAAc,cAAiB,GAAA,IAAA,CAAA;AAE/B,IAAA,IAAI,CAAC,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,MAAM,CAC9B,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,IAAI,MAAQ,EAAA;AAAA,QACvB,iBAAmB,EAAA,CAAA;AAAA,QACnB,kBAAoB,EAAA,CAAA;AAAA,OACvB,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,MAAM,CAAA,CAAA;AAE1C,IAAA,QAAA,CAAS,oBAAoB,cAAe,CAAA,eAAA,CAAA;AAE5C,IAAA,qBAAA;AAAA,MACI,aAAA;AAAA,MACA,cAAA;AAAA,MACA,QAAS,CAAA,WAAA;AAAA,KACb,CAAA;AAEA,IAAA,aAAA,CAAc,cAAiB,GAAA,KAAA,CAAA;AAE/B,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAE/C,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,aAAA;AAAA,MACN,MAAQ,EAAA,aAAA;AAAA,MACR,IAAA;AAAA,MACA,SAAW,EAAA,KAAA;AAAA,KACY,CAAA,CAAA;AAE3B,IAAA,MAAM,kBAAqB,GAAA,cAAA,CAAe,eAAkB,GAAA,QAAA,CAAS,iBAAoB,GAAA,CAAA,CAAA;AAEzF,IAAA,QAAA,CAAS,kBAAqB,GAAA,kBAAA,CAAA;AAE9B,IAAM,MAAA,eAAA,GAAkB,QAAS,CAAA,YAAA,CAAa,YAAa,CAAA,GAAA,CAAA;AAE3D,IAAA,IAAI,IAAK,CAAA,cAAA,CAAe,eAAe,CAAA,KAAM,KAC7C,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,eAAe,CAAI,GAAA,CAAA,CAAA;AAAA,KAC3C;AAEA,IAAA,IAAA,CAAK,eAAe,eAAe,CAAA,EAAA,CAAA;AAAA,GACvC;AAAA,EAEO,GAAA,CAAI,IAAc,EAAA,UAAA,EAAuB,cAChD,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAA;AAEf,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAM,MAAA,eAAA,GAAkB,QAAS,CAAA,YAAA,CAAa,YAAa,CAAA,GAAA,CAAA;AAI3D,IAAA,IAAA,CAAK,eAAe,eAAe,CAAA,EAAA,CAAA;AAEnC,IAAS,QAAA,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAC/C,IAAA,QAAA,CAAS,YAAY,SAAU,CAAA,YAAA,CAAa,MAAO,CAAA,IAAA,EAAM,QAAQ,cAAc,CAAA,CAAA;AAE/E,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,aAAA;AAAA,MACN,MAAQ,EAAA,cAAA;AAAA,MACR,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAED,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,IAAmB,CAAA,CAAA;AAEvD,IAAA,IAAI,IAAK,CAAA,cAAA,CAAe,eAAe,CAAA,KAAM,CAC7C,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,oBAAoB,CACjD,EAAA,EAAA;AAEI,QAAA,cAAA,CAAe,aAAa,cAAe,CAAA,eAAA,EAAiB,IAAI,cAAe,CAAA,YAAA,CAAa,SAAS,iBAAmB,EAAA,CAAA,CAAA;AAAA,OAC5H;AAAA,KACJ;AAEA,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,aAAA;AAAA,MACN,MAAQ,EAAA,YAAA;AAAA,MACR,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,QAAQ,WACf,EAAA;AAvJJ,IAAA,IAAA,EAAA,CAAA;AAwJQ,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAM,MAAA,eAAA,GAAkB,QAAS,CAAA,YAAA,CAAa,YAAa,CAAA,GAAA,CAAA;AAE3D,IAAA,IAAI,cAAiB,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,cAAe,CAAA,eAAe,MAAnC,IAAwC,GAAA,EAAA,GAAA,CAAA,CAAA;AAE7D,IAAI,IAAA,WAAA,CAAY,WAAW,eAC3B,EAAA;AACI,MAAA,cAAA,EAAA,CAAA;AAEA,MAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,aAAc,CAAA,kBAAA,EAAoB,cAAc,CAAA,CAAA;AAChF,MAAS,QAAA,CAAA,SAAA,CAAU,QAAQ,CAAC,CAAA,CAAA;AAAA,KAChC,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,aAChC,EAAA;AACI,MAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,aAAc,CAAA,WAAA,EAAa,cAAc,CAAA,CAAA;AACzE,MAAS,QAAA,CAAA,SAAA,CAAU,QAAQ,EAAG,CAAA,CAAA;AAAA,KAClC,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,cAChC,EAAA;AACI,MAAA,cAAA,EAAA,CAAA;AAEA,MAAA,IAAI,mBAAmB,CACvB,EAAA;AACI,QAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,aAAc,CAAA,qBAAA,EAAuB,cAAc,CAAA,CAAA;AACnF,QAAS,QAAA,CAAA,SAAA,CAAU,QAAQ,CAAC,CAAA,CAAA;AAAA,OAGhC,MAAA;AACI,QAAS,QAAA,CAAA,YAAA,CAAa,KAAM,CAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,OAC7C;AAAA,KACJ,MAAA,IACS,WAAY,CAAA,MAAA,KAAW,YAChC,EAAA;AACI,MAAA,IAAI,mBAAmB,CACvB,EAAA;AACI,QAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,aAAc,CAAA,QAAA,EAAU,cAAc,CAAA,CAAA;AAAA,OAG1E,MAAA;AACI,QAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,aAAc,CAAA,WAAA,EAAa,cAAc,CAAA,CAAA;AAAA,OAC7E;AAEA,MAAS,QAAA,CAAA,SAAA,CAAU,QAAQ,EAAG,CAAA,CAAA;AAAA,KAClC;AAEA,IAAK,IAAA,CAAA,cAAA,CAAe,eAAe,CAAI,GAAA,cAAA,CAAA;AAAA,GAC3C;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAxLa,eAAA,CAEK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,aAAA;AACV,CAAA;;ACrBQ,IAAA,WAAA,qBAAAC,YAAL,KAAA;AAGH,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,0BAAuB,KAAvB,CAAA,GAAA,sBAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,kBAAe,KAAf,CAAA,GAAA,cAAA,CAAA;AACA,EAAAA,YAAAA,CAAAA,YAAAA,CAAA,oBAAiB,KAAjB,CAAA,GAAA,gBAAA,CAAA;AALQ,EAAAA,OAAAA,YAAAA,CAAAA;AAAA,CAAA,EAAA,WAAA,IAAA,EAAA;;ACRL,MAAM,QACb,CAAA;AAAA,EAMI,WAAA,CAAY,QAAqB,IACjC,EAAA;AACI,IAAA,IAAA,CAAK,SAAS,MAAU,IAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,QAAW,GAAA,CAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AACJ;;ACaO,MAAM,cACb,CAAA;AAAA;AAAA;AAAA;AAAA,EAoBI,YAAY,QACZ,EAAA;AAXA,IAAQ,IAAA,CAAA,WAAA,mBAAgD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAGnE;AAAA,IAAiB,IAAA,CAAA,iBAAA,mBAAoD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAS5E,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA,EAKO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AACpB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAA;AACX,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,SAAA,CAAU,iBAAoB,GAAA,IAAA,CAAA;AAAA,GAClC;AAAA;AAAA,EAGU,aACV,GAAA;AACI,IAAA,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,GAAA,GAAM,KAAK,SAAU,CAAA,EAAA,CAAA;AAAA,GAC9B;AAAA,EAEO,YAAY,MACnB,EAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAAA,GACrE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KAAK,MACZ,EAAA;AACI,IAAM,MAAA,EAAE,GAAK,EAAA,EAAA,EAAO,GAAA,IAAA,CAAA;AAEpB,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAExC,IAAA,EAAA,CAAG,UAAW,CAAA,QAAA,CAAS,IAAM,EAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAAA,GAChD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,cAAA,CAAe,QAAgB,KACtC,EAAA;AACI,IAAM,MAAA,EAAE,GAAK,EAAA,EAAA,EAAO,GAAA,IAAA,CAAA;AAEpB,IAAA,IAAI,IAAK,CAAA,iBAAA,CAAkB,KAAK,CAAA,KAAM,MACtC,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAExC,MAAK,IAAA,CAAA,iBAAA,CAAkB,KAAK,CAAI,GAAA,MAAA,CAAA;AAEhC,MAAA,EAAA,CAAG,cAAe,CAAA,EAAA,CAAG,cAAgB,EAAA,KAAA,EAAO,SAAS,MAAM,CAAA,CAAA;AAAA,KAC/D;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,eAAA,CAAgB,MAAgB,EAAA,KAAA,EAAgB,MACvD,EAAA;AACI,IAAM,MAAA,EAAE,GAAK,EAAA,EAAA,EAAO,GAAA,IAAA,CAAA;AAEpB,IAAA,MAAA,GAAS,MAAU,IAAA,CAAA,CAAA;AAEnB,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAExC,IAAG,EAAA,CAAA,eAAA,CAAgB,GAAG,cAAgB,EAAA,KAAA,IAAS,GAAG,QAAS,CAAA,MAAA,EAAQ,MAAS,GAAA,GAAA,EAAK,GAAG,CAAA,CAAA;AAAA,GACxF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,aAAa,MACpB,EAAA;AACI,IAAM,MAAA,EAAE,GAAK,EAAA,EAAA,EAAO,GAAA,IAAA,CAAA;AAEpB,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAExC,IAAI,IAAA,MAAA,CAAO,SAAc,KAAA,QAAA,CAAS,QAClC,EAAA;AACI,MAAO,OAAA,QAAA,CAAA;AAAA,KACX;AAEA,IAAA,QAAA,CAAS,WAAW,MAAO,CAAA,SAAA,CAAA;AAE3B,IAAA,EAAA,CAAG,UAAW,CAAA,QAAA,CAAS,IAAM,EAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAE5C,IAAA,IAAI,QAAS,CAAA,UAAA,IAAc,MAAO,CAAA,IAAA,CAAK,UACvC,EAAA;AAGI,MAAG,EAAA,CAAA,aAAA,CAAc,SAAS,IAAM,EAAA,CAAA,EAAG,OAAO,IAAM,EAAA,CAAA,EAAG,MAAO,CAAA,WAAA,GAAc,CAAC,CAAA,CAAA;AAAA,KAG7E,MAAA;AACI,MAAM,MAAA,QAAA,GAAY,OAAO,UAAW,CAAA,KAAA,GAAQ,YAAY,MAAU,GAAA,EAAA,CAAG,cAAc,EAAG,CAAA,YAAA,CAAA;AAEtF,MAAS,QAAA,CAAA,UAAA,GAAa,OAAO,IAAK,CAAA,UAAA,CAAA;AAGlC,MAAA,EAAA,CAAG,UAAW,CAAA,QAAA,CAAS,IAAM,EAAA,MAAA,CAAO,MAAM,QAAQ,CAAA,CAAA;AAAA,KACtD;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,WAAW,WAClB,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,IAAI,CAAC,WACL,EAAA;AACI,MAAW,KAAA,MAAA,EAAA,IAAM,KAAK,WACtB,EAAA;AACI,QAAA,EAAA,CAAG,YAAa,CAAA,IAAA,CAAK,WAAY,CAAA,EAAE,EAAE,MAAM,CAAA,CAAA;AAAA,OAC/C;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,cAAc,EAAC,CAAA;AAAA,GACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,eAAA,CAAgB,QAAgB,WAC1C,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE5C,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,IAAI,CAAC,WACL,EAAA;AACI,MAAG,EAAA,CAAA,YAAA,CAAa,SAAS,MAAM,CAAA,CAAA;AAAA,KACnC;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,eAAe,MACzB,EAAA;AACI,IAAM,MAAA,EAAE,GAAK,EAAA,EAAA,EAAO,GAAA,IAAA,CAAA;AAEpB,IAAA,IAAI,OAAO,WAAY,CAAA,YAAA,CAAA;AAEvB,IAAA,IAAK,MAAO,CAAA,UAAA,CAAW,KAAQ,GAAA,WAAA,CAAY,KAC3C,EAAA;AACI,MAAA,IAAA,GAAO,WAAY,CAAA,oBAAA,CAAA;AAAA,KAEb,MAAA,IAAA,MAAA,CAAO,UAAW,CAAA,KAAA,GAAQ,YAAY,OAChD,EAAA;AACI,MAAA,IAAA,GAAO,WAAY,CAAA,cAAA,CAAA;AAAA,KACvB;AAEA,IAAA,MAAM,WAAW,IAAI,QAAA,CAAS,EAAG,CAAA,YAAA,IAAgB,IAAI,CAAA,CAAA;AAErD,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,QAAA,CAAA;AAE/B,IAAA,MAAA,CAAO,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAE/C,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AACJ,CAAA;AAAA;AAjNa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;ACIG,MAAM,eACb,CAAA;AAAA;AAAA,EAkEI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,CAAA;AACpB,IAAK,IAAA,CAAA,UAAA,mBAAoB,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAEpC,IAAA,IAAA,CAAK,QAAW,GAAA;AAAA,MACZ,aAAe,EAAA,KAAA;AAAA,KACnB,CAAA;AAGA,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAK,iBAAkB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACzD,IAAA,IAAA,CAAK,qBAAwB,GAAA,IAAA,CAAK,qBAAsB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAAA,GACrE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,MACJ,GAAA;AACI,IAAA,OAAQ,CAAC,IAAA,CAAK,EAAM,IAAA,IAAA,CAAK,GAAG,aAAc,EAAA,CAAA;AAAA,GAC9C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,UAAU,EAAK,GAAA,EAAA,CAAA;AAGpB,IAAA,IAAI,GAAG,aAAc,EAAA,IAAK,EAAG,CAAA,YAAA,CAAa,oBAAoB,CAC9D,EAAA;AACI,MAAG,EAAA,CAAA,YAAA,CAAa,oBAAoB,CAAA,CAAE,cAAe,EAAA,CAAA;AAAA,KACzD;AAAA,GACJ;AAAA,EAEO,KAAK,OACZ,EAAA;AAtJJ,IAAA,IAAA,EAAA,CAAA;AA0JQ,IAAA,IAAI,mCAAS,OACb,EAAA;AACI,MAAK,IAAA,CAAA,eAAA,CAAgB,QAAQ,OAAO,CAAA,CAAA;AAAA,KAGxC,MAAA;AACI,MAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,SAAU,CAAA,UAAA,CAAW,KAAQ,GAAA,CAAA,CAAA;AAChD,MAAM,MAAA,kBAAA,GAAA,CAAqB,EAAQ,GAAA,OAAA,CAAA,kBAAA,KAAR,IAA8B,GAAA,EAAA,GAAA,IAAA,CAAA;AACzD,MAAA,MAAM,YAAY,OAAQ,CAAA,SAAA,IAAa,CAAC,IAAA,CAAK,UAAU,UAAW,CAAA,aAAA,CAAA;AAElE,MAAA,IAAA,CAAK,eAAgB,CAAA;AAAA,QACjB,KAAA;AAAA,QACA,kBAAA;AAAA,QACA,SAAA;AAAA,QACA,OAAS,EAAA,IAAA;AAAA,QACT,uBAAuB,OAAQ,CAAA,qBAAA;AAAA,QAC/B,iBAAiB,OAAQ,CAAA,eAAA;AAAA,OAC5B,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,gBAAgB,EAC1B,EAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,gBAAgB,EAAE,CAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,aAAc,CAAA,IAAA,CAAK,EAAE,CAAA,CAAA;AAE5C,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,SAAA,CAAU,IAAK,CAAA,MAAA,CAAA;AAEpC,IAAC,OAAgB,CAAA,gBAAA,CAAiB,kBAAoB,EAAA,IAAA,CAAK,mBAAmB,KAAK,CAAA,CAAA;AACnF,IAAA,OAAA,CAAQ,gBAAiB,CAAA,sBAAA,EAAwB,IAAK,CAAA,qBAAA,EAAuB,KAAK,CAAA,CAAA;AAAA,GACtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,gBAAgB,OAC1B,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,aAAA,CAAc,KAAK,SAAU,CAAA,IAAA,CAAK,QAAQ,OAAO,CAAA,CAAA;AAEjE,IAAA,IAAA,CAAK,gBAAgB,EAAE,CAAA,CAAA;AAAA,GAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,aAAA,CAAc,QAAiB,OACtC,EAAA;AACI,IAAA,MAAM,EAAK,GAAA,MAAA,CAAO,UAAW,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAE9C,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAEV,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAEnB,IAAA,OAAO,IAAK,CAAA,EAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGU,aACV,GAAA;AAEI,IAAM,MAAA,EAAE,IAAO,GAAA,IAAA,CAAA;AAEf,IAAA,MAAM,MAAS,GAAA;AAAA,MACX,oBAAA,EAAsB,EAAG,CAAA,YAAA,CAAa,gCAAgC,CAAA;AAAA,MACtE,kBAAA,EAAoB,EAAG,CAAA,YAAA,CAAa,0BAA0B,CAAA;AAAA,MAE9D,IAAA,EAAM,EAAG,CAAA,YAAA,CAAa,+BAA+B,CAAA;AAAA,MACrD,SAAA,EAAW,EAAG,CAAA,YAAA,CAAa,oCAAoC,CAAA;AAAA;AAAA,MAC/D,GAAA,EAAK,EAAG,CAAA,YAAA,CAAa,8BAA8B,CAAA;AAAA,MACnD,IAAA,EAAM,EAAG,CAAA,YAAA,CAAa,+BAA+B,CAAA;AAAA,MACrD,OAAO,EAAG,CAAA,YAAA,CAAa,gCAAgC,CAChD,IAAA,EAAA,CAAG,aAAa,uCAAuC,CAAA;AAAA,MAC9D,GAAA,EAAK,EAAG,CAAA,YAAA,CAAa,8BAA8B,CAAA;AAAA,MACnD,IAAA,EAAM,EAAG,CAAA,YAAA,CAAa,+BAA+B,CAAA;AAAA,KACzD,CAAA;AAEA,IAAO,MAAA,CAAA,MAAA,CAAO,IAAK,CAAA,UAAA,EAAY,MAAQ,EAAA;AAAA;AAAA,MAEnC,gBAAA,EAAkB,EAAG,CAAA,YAAA,CAAa,wBAAwB,CAAA;AAAA,KAC7D,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,kBAAkB,KAC5B,EAAA;AACI,IAAA,KAAA,CAAM,cAAe,EAAA,CAAA;AAAA,GACzB;AAAA;AAAA,EAGU,qBACV,GAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,aAAc,CAAA,IAAA,CAAK,KAAK,EAAE,CAAA,CAAA;AAAA,GACrD;AAAA,EAEO,OACP,GAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,SAAA,CAAU,IAAK,CAAA,MAAA,CAAA;AAEpC,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAGjB,IAAC,OAAgB,CAAA,mBAAA,CAAoB,kBAAoB,EAAA,IAAA,CAAK,iBAAiB,CAAA,CAAA;AAC/E,IAAQ,OAAA,CAAA,mBAAA,CAAoB,sBAAwB,EAAA,IAAA,CAAK,qBAAqB,CAAA,CAAA;AAE9E,IAAK,IAAA,CAAA,EAAA,CAAG,WAAW,IAAI,CAAA,CAAA;AAEvB,IAAI,IAAA,IAAA,CAAK,WAAW,WACpB,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,YAAY,WAAY,EAAA,CAAA;AAAA,KAC5C;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,gBAAgB,EAC1B,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,GAAG,oBAAqB,EAAA,CAAA;AAE3C,IAAA,MAAM,QAAW,GAAA,wBAAA,IAA4B,UAAc,IAAA,EAAA,YAAc,UAAW,CAAA,sBAAA,CAAA;AAEpF,IAAA,IAAI,QACJ,EAAA;AACI,MAAA,IAAA,CAAK,YAAe,GAAA,CAAA,CAAA;AAAA,KACxB;AAGA,IAAI,IAAA,UAAA,IAAc,CAAC,UAAA,CAAW,OAC9B,EAAA;AAGI,MAAA,IAAA,CAAK,uFAAuF,CAAA,CAAA;AAAA,KAGhG;AAEA,IAAA,MAAM,YAAY,QAAY,IAAA,CAAC,CAAE,EAAA,CAA6B,aAAa,wBAAwB,CAAA,CAAA;AAEnG,IAAA,IAAA,CAAK,SAAS,aAAgB,GAAA,SAAA,CAAA;AAE9B,IAAA,IAAI,CAAC,SACL,EAAA;AAGI,MAAA,IAAA,CAAK,oGAAoG,CAAA,CAAA;AAAA,KAG7G;AAAA,GACJ;AACJ,CAAA;AAAA;AA1Ra,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA,CAAA;AAAA;AARS,eAAA,CAWK,cAAuC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKjD,OAAS,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKT,kBAAoB,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKpB,qBAAuB,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKvB,eAAiB,EAAA,SAAA;AACrB,CAAA;;ACtDQ,IAAA,UAAA,qBAAAC,WAAL,KAAA;AAGH,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,UAAO,IAAP,CAAA,GAAA,MAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,SAAM,IAAN,CAAA,GAAA,KAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,QAAK,KAAL,CAAA,GAAA,IAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,SAAM,IAAN,CAAA,GAAA,KAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,kBAAe,KAAf,CAAA,GAAA,cAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iBAAc,KAAd,CAAA,GAAA,aAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,gBAAa,KAAb,CAAA,GAAA,YAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iBAAc,KAAd,CAAA,GAAA,aAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,WAAQ,IAAR,CAAA,GAAA,OAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,eAAY,IAAZ,CAAA,GAAA,WAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,qBAAkB,IAAlB,CAAA,GAAA,iBAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,qBAAkB,IAAlB,CAAA,GAAA,iBAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,mBAAgB,KAAhB,CAAA,GAAA,eAAA,CAAA;AAfQ,EAAAA,OAAAA,WAAAA,CAAAA;AAAA,CAAA,EAAA,UAAA,IAAA,EAAA,EAAA;AAiCA,IAAA,UAAA,qBAAAC,WAAL,KAAA;AAGH,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,gBAAa,IAAb,CAAA,GAAA,YAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,sBAAmB,KAAnB,CAAA,GAAA,kBAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,sBAAmB,KAAnB,CAAA,GAAA,kBAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AACA,EAAAA,WAAAA,CAAAA,WAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AAXQ,EAAAA,OAAAA,WAAAA,CAAAA;AAAA,CAAA,EAAA,UAAA,IAAA,EAAA,EAAA;AA8BA,IAAA,aAAA,qBAAAC,cAAL,KAAA;AAGH,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,WAAQ,KAAR,CAAA,GAAA,OAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,YAAS,KAAT,CAAA,GAAA,QAAA,CAAA;AACA,EAAAA,cAAAA,CAAAA,cAAAA,CAAA,qBAAkB,KAAlB,CAAA,GAAA,iBAAA,CAAA;AALQ,EAAAA,OAAAA,cAAAA,CAAAA;AAAA,CAAA,EAAA,aAAA,IAAA,EAAA,EAAA;AAQA,IAAA,QAAA,qBAAAC,SAAL,KAAA;AAOH,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,mBAAgB,IAAhB,CAAA,GAAA,eAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,oBAAiB,IAAjB,CAAA,GAAA,gBAAA,CAAA;AAKA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,0BAAuB,KAAvB,CAAA,GAAA,sBAAA,CAAA;AAKA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,4BAAyB,KAAzB,CAAA,GAAA,wBAAA,CAAA;AAKA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,4BAAyB,KAAzB,CAAA,GAAA,wBAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,kBAAe,IAAf,CAAA,GAAA,cAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,kCAA+B,KAA/B,CAAA,GAAA,8BAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,iCAA8B,KAA9B,CAAA,GAAA,6BAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,uBAAoB,KAApB,CAAA,GAAA,mBAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,8BAA2B,KAA3B,CAAA,GAAA,0BAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,UAAO,IAAP,CAAA,GAAA,MAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,WAAQ,IAAR,CAAA,GAAA,OAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,SAAM,IAAN,CAAA,GAAA,KAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,WAAQ,IAAR,CAAA,GAAA,OAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,oCAAiC,KAAjC,CAAA,GAAA,gCAAA,CAAA;AAIA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,gBAAa,KAAb,CAAA,GAAA,YAAA,CAAA;AAtEQ,EAAAA,OAAAA,SAAAA,CAAAA;AAAA,CAAA,EAAA,QAAA,IAAA,EAAA;;ACtFZ,MAAM,OAAU,GAAA;AAAA,EACZ,OAAA,EAAS,EAAE,IAAM,EAAA,QAAA,CAAS,eAAe,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACpE,OAAA,EAAS,EAAE,IAAM,EAAA,QAAA,CAAS,eAAe,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACpE,OAAA,EAAS,EAAE,IAAM,EAAA,QAAA,CAAS,MAAM,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC3D,OAAA,EAAS,EAAE,IAAM,EAAA,QAAA,CAAS,MAAM,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC3D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,eAAe,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EACpE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,eAAe,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EACpE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,MAAM,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EAC3D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,MAAM,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EAC3D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,gBAAgB,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACtE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,gBAAgB,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACtE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC7D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC7D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,gBAAgB,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EACtE,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,gBAAgB,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EACtE,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EAC7D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,IAAK,EAAA;AAAA,EAC7D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,YAAY,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACnE,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,YAAY,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACnE,OAAA,EAAS,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC5D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC9D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC9D,SAAA,EAAW,EAAE,IAAM,EAAA,QAAA,CAAS,OAAO,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC9D,MAAA,EAAQ,EAAE,IAAM,EAAA,QAAA,CAAS,cAAc,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAClE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,cAAc,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACpE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,cAAc,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACpE,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,cAAc,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACpE,MAAA,EAAQ,EAAE,IAAM,EAAA,QAAA,CAAS,KAAK,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EACzD,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,KAAK,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC3D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,KAAK,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAAA,EAC3D,QAAA,EAAU,EAAE,IAAM,EAAA,QAAA,CAAS,KAAK,IAAM,EAAA,CAAA,EAAG,YAAY,KAAM,EAAA;AAC/D,CAAA,CAAA;AAEO,SAAS,oBAAoB,MACpC,EAAA;AAtCA,EAAA,IAAA,EAAA,CAAA;AAuCI,EAAA,OAAA,CAAO,EAAQ,GAAA,OAAA,CAAA,MAAM,CAAd,KAAA,IAAA,GAAA,EAAA,GAAmB,OAAQ,CAAA,OAAA,CAAA;AACtC;;AC7BA,MAAM,cAAuC,EAAE,IAAA,EAAM,GAAG,IAAM,EAAA,CAAA,EAAG,MAAM,CAAE,EAAA,CAAA;AAEzE,MAAM,eAAkB,GAAA;AAAA,EACpB,YAAc,EAAA,CAAA;AAAA,EACd,WAAa,EAAA,CAAA;AAAA,EACb,YAAc,EAAA,CAAA;AAAA,EACd,eAAiB,EAAA,CAAA;AAAA,EACjB,gBAAkB,EAAA,CAAA;AACtB,CAAA,CAAA;AAIO,MAAM,gBACb,CAAA;AAAA;AAAA,EAqCI,YAAY,QACZ,EAAA;AAPA,IAAA,IAAA,CAAU,mBAA2E,EAAC,CAAA;AAQlF,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,wBAA2B,GAAA,IAAA,CAAA;AAAA,GACpC;AAAA;AAAA,EAGU,aACV,GAAA;AACI,IAAK,IAAA,CAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,IAAA,CAAK,UAAqB,OACjC,EAAA;AAGI,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,eAAkB,GAAA,QAAA,CAAA;AAEvB,IAAA,MAAM,GAAM,GAAA,IAAA,CAAK,MAAO,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAEzC,IAAI,IAAA,IAAA,CAAK,eAAe,GACxB,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,GAAA,CAAA;AAElB,MAAA,EAAA,CAAG,gBAAgB,GAAG,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AAAA,GACvB;AAAA;AAAA,EAGO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGO,aACP,GAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,eAAA,CAAA;AAEtB,IAAM,MAAA,YAAA,GAAe,KAAK,SAAU,CAAA,MAAA,CAAA;AAEpC,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,QAAS,CAAA,OAAA,CAAQ,QAAQ,CAC7C,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,QAAS,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA;AAEjC,MAAA,YAAA,CAAa,aAAa,MAAM,CAAA,CAAA;AAAA,KACpC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,kBAAA,CAAmB,UAAoB,OACjD,EAAA;AAEI,IAAA,MAAM,qBAAqB,QAAS,CAAA,UAAA,CAAA;AACpC,IAAA,MAAM,mBAAmB,OAAQ,CAAA,aAAA,CAAA;AAEjC,IAAA,KAAA,MAAW,KAAK,gBAChB,EAAA;AACI,MAAI,IAAA,CAAC,kBAAmB,CAAA,CAAC,CACzB,EAAA;AACI,QAAM,MAAA,IAAI,KAAM,CAAA,CAAA,wDAAA,EAA2D,CAAc,CAAA,WAAA,CAAA,CAAA,CAAA;AAAA,OAC7F;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQU,YAAA,CAAa,UAAoB,OAC3C,EAAA;AACI,IAAA,MAAM,UAAU,QAAS,CAAA,UAAA,CAAA;AACzB,IAAA,MAAM,mBAAmB,OAAQ,CAAA,aAAA,CAAA;AAEjC,IAAA,MAAM,OAAU,GAAA,CAAC,GAAK,EAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAElC,IAAA,KAAA,MAAW,KAAK,OAChB,EAAA;AACI,MAAI,IAAA,gBAAA,CAAiB,CAAC,CACtB,EAAA;AACI,QAAA,OAAA,CAAQ,IAAK,CAAA,CAAA,EAAG,gBAAiB,CAAA,CAAC,EAAE,QAAQ,CAAA,CAAA;AAAA,OAChD;AAAA,KACJ;AAEA,IAAO,OAAA,OAAA,CAAQ,KAAK,GAAG,CAAA,CAAA;AAAA,GAC3B;AAAA,EAEU,MAAA,CAAO,UAAoB,OACrC,EAAA;AAzKJ,IAAA,IAAA,EAAA,CAAA;AA0KQ,IAAO,OAAA,CAAA,CAAA,EAAA,GAAA,IAAA,CAAK,gBAAiB,CAAA,QAAA,CAAS,GAAG,CAAA,KAAlC,IAAsC,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,GAAQ,CAAA,KAAA,IAAA,CAAK,eAAgB,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAAA,GACvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUU,eAAgB,CAAA,QAAA,EAAoB,OAAoB,EAAA,YAAA,GAAe,IACjF,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAE1B,IAAM,MAAA,YAAA,GAAe,KAAK,SAAU,CAAA,MAAA,CAAA;AAEpC,IAAK,IAAA,CAAA,SAAA,CAAU,MAAO,CAAA,cAAA,CAAe,OAAO,CAAA,CAAA;AAE5C,IAAK,IAAA,CAAA,kBAAA,CAAmB,UAAU,OAAO,CAAA,CAAA;AAEzC,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,YAAa,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAErD,IAAA,IAAI,CAAC,IAAA,CAAK,gBAAiB,CAAA,QAAA,CAAS,GAAG,CACvC,EAAA;AACI,MAAA,IAAA,CAAK,iBAAiB,QAAS,CAAA,GAAG,CAAI,mBAAA,MAAA,CAAO,OAAO,IAAI,CAAA,CAAA;AAExD,MAAA,QAAA,CAAS,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,iBAAA,EAAmB,IAAI,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,gBAAiB,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAExD,IAAI,IAAA,GAAA,GAAM,cAAc,SAAS,CAAA,CAAA;AAEjC,IAAA,IAAI,GACJ,EAAA;AAEI,MAAc,aAAA,CAAA,OAAA,CAAQ,GAAG,CAAI,GAAA,GAAA,CAAA;AAE7B,MAAO,OAAA,GAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAM,UAAU,QAAS,CAAA,OAAA,CAAA;AACzB,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,aAAqC,EAAC,CAAA;AAC5C,IAAA,MAAM,YAAoC,EAAC,CAAA;AAE3C,IAAA,KAAA,MAAW,KAAK,OAChB,EAAA;AACI,MAAA,UAAA,CAAW,CAAC,CAAI,GAAA,CAAA,CAAA;AAChB,MAAA,SAAA,CAAU,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KACnB;AAEA,IAAA,KAAA,MAAW,KAAK,UAChB,EAAA;AACI,MAAI,IAAA,CAAC,WAAW,CAAC,CAAA,CAAE,QAAQ,OAAQ,CAAA,aAAA,CAAc,CAAC,CAClD,EAAA;AACI,QAAA,UAAA,CAAW,CAAC,CAAE,CAAA,IAAA,GAAO,OAAQ,CAAA,aAAA,CAAc,CAAC,CAAE,CAAA,IAAA,CAAA;AAAA,OAEzC,MAAA,IAAA,CAAC,UAAW,CAAA,CAAC,EAAE,IACxB,EAAA;AAEI,QAAA,IAAA,CAAK,4BAA4B,CAAoF,CAAA,iFAAA,CAAA,CAAA,CAAA;AAAA,OAEzH;AAEA,MAAA,UAAA,CAAW,UAAW,CAAA,CAAC,CAAE,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,UAAA,CAAW,CAAC,CAAA,CAAE,IAAO,GAAA,WAAA,CAAY,UAAW,CAAA,CAAC,EAAE,IAAI,CAAA,CAAA;AAAA,KAC/F;AAEA,IAAA,KAAA,MAAW,KAAK,UAChB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,WAAW,CAAC,CAAA,CAAA;AAC9B,MAAA,MAAM,aAAa,SAAU,CAAA,IAAA,CAAA;AAE7B,MAAI,IAAA,SAAA,CAAU,WAAW,KACzB,CAAA,EAAA;AACI,QAAI,IAAA,UAAA,CAAW,UAAU,MAAO,CAAA,GAAG,MAAM,UAAa,GAAA,WAAA,CAAY,SAAU,CAAA,IAAI,CAChF,EAAA;AACI,UAAA,SAAA,CAAU,MAAS,GAAA,CAAA,CAAA;AAAA,SAGvB,MAAA;AACI,UAAA,SAAA,CAAU,MAAS,GAAA,UAAA,CAAW,SAAU,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAAA,SACtD;AAAA,OACJ;AAEA,MAAI,IAAA,SAAA,CAAU,UAAU,KACxB,CAAA,EAAA;AACI,QAAA,SAAA,CAAU,KAAQ,GAAA,SAAA,CAAU,SAAU,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAEhD,QAAA,SAAA,CAAU,UAAU,MAAO,CAAA,GAAG,KAAK,UAAa,GAAA,WAAA,CAAY,UAAU,IAAI,CAAA,CAAA;AAAA,OAC9E;AAAA,KACJ;AAGA,IAAA,GAAA,GAAM,GAAG,iBAAkB,EAAA,CAAA;AAE3B,IAAA,EAAA,CAAG,gBAAgB,GAAG,CAAA,CAAA;AAItB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,QAAQ,CAAC,CAAA,CAAA;AAExB,MAAA,YAAA,CAAa,KAAK,MAAM,CAAA,CAAA;AAAA,KAC5B;AAKA,IAAK,IAAA,CAAA,WAAA,CAAY,UAAU,OAAO,CAAA,CAAA;AAGlC,IAAc,aAAA,CAAA,OAAA,CAAQ,GAAG,CAAI,GAAA,GAAA,CAAA;AAC7B,IAAA,aAAA,CAAc,SAAS,CAAI,GAAA,GAAA,CAAA;AAE3B,IAAA,EAAA,CAAG,gBAAgB,IAAI,CAAA,CAAA;AAEvB,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,iBAAA,CAAkB,UAAoB,WAChD,EAAA;AACI,IAAA,MAAM,aAAgB,GAAA,IAAA,CAAK,gBAAiB,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAExD,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,IAAI,WACJ,EAAA;AACI,QAAA,KAAA,MAAW,KAAK,aAChB,EAAA;AACI,UAAA,IAAI,IAAK,CAAA,UAAA,KAAe,aAAc,CAAA,CAAC,CACvC,EAAA;AACI,YAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,WAChB;AAEA,UAAG,EAAA,CAAA,iBAAA,CAAkB,aAAc,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,SACzC;AAAA,OACJ;AAEA,MAAK,IAAA,CAAA,gBAAA,CAAiB,QAAS,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,UAAA,CAAW,cAAc,KAChC,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,gBACrB,EAAA;AACI,MAAA,IAAI,WACJ,EAAA;AACI,QAAA,KAAA,MAAW,CAAK,IAAA,IAAA,CAAK,gBAAiB,CAAA,CAAC,CACvC,EAAA;AACI,UAAM,MAAA,aAAA,GAAgB,IAAK,CAAA,gBAAA,CAAiB,CAAC,CAAA,CAAA;AAE7C,UAAI,IAAA,IAAA,CAAK,eAAe,aACxB,EAAA;AACI,YAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,WAChB;AAEA,UAAG,EAAA,CAAA,iBAAA,CAAkB,aAAc,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,SACzC;AAAA,OACJ;AAEA,MAAK,IAAA,CAAA,gBAAA,CAAiB,CAAC,CAAI,GAAA,IAAA,CAAA;AAAA,KAC/B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOU,WAAA,CAAY,UAAoB,OAC1C,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAE1B,IAAM,MAAA,YAAA,GAAe,KAAK,SAAU,CAAA,MAAA,CAAA;AACpC,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAE5B,IAAA,IAAI,SAAS,WACb,EAAA;AAEI,MAAa,YAAA,CAAA,IAAA,CAAK,SAAS,WAAW,CAAA,CAAA;AAAA,KAC1C;AAEA,IAAA,IAAI,UAAa,GAAA,IAAA,CAAA;AAGjB,IAAA,KAAA,MAAW,KAAK,UAChB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,WAAW,CAAC,CAAA,CAAA;AAC9B,MAAA,MAAM,SAAS,SAAU,CAAA,MAAA,CAAA;AACzB,MAAM,MAAA,QAAA,GAAW,YAAa,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAEhD,MAAI,IAAA,OAAA,CAAQ,aAAc,CAAA,CAAC,CAC3B,EAAA;AACI,QAAA,IAAI,eAAe,QACnB,EAAA;AACI,UAAA,YAAA,CAAa,KAAK,MAAM,CAAA,CAAA;AAExB,UAAa,UAAA,GAAA,QAAA,CAAA;AAAA,SACjB;AAEA,QAAA,MAAM,QAAW,GAAA,OAAA,CAAQ,aAAc,CAAA,CAAC,CAAE,CAAA,QAAA,CAAA;AAI1C,QAAA,EAAA,CAAG,wBAAwB,QAAQ,CAAA,CAAA;AAEnC,QAAM,MAAA,MAAA,GAAS,mBAAoB,CAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAEnD,QAAG,EAAA,CAAA,mBAAA;AAAA,UAAoB,QAAA;AAAA,UACnB,MAAO,CAAA,IAAA;AAAA,UACP,MAAO,CAAA,IAAA;AAAA;AAAA,UACP,MAAO,CAAA,UAAA;AAAA,UACP,SAAU,CAAA,MAAA;AAAA,UACV,SAAU,CAAA,MAAA;AAAA,SAAM,CAAA;AAEpB,QAAA,IAAI,UAAU,QACd,EAAA;AAEI,UAAA,IAAI,KAAK,WACT,EAAA;AACI,YAAG,EAAA,CAAA,mBAAA,CAAoB,UAAU,CAAC,CAAA,CAAA;AAAA,WAGtC,MAAA;AACI,YAAM,MAAA,IAAI,MAAM,gEAAgE,CAAA,CAAA;AAAA,WACpF;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYO,IAAK,CAAA,QAAA,EAAqB,IAAe,EAAA,KAAA,EAAgB,aAChE,EAAA;AACI,IAAM,MAAA,EAAE,EAAG,EAAA,GAAI,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,MAAM,WAAW,IAAK,CAAA,eAAA,CAAA;AAEtB,IAAA,MAAM,UAAa,GAAA,eAAA,CAAgB,QAAS,CAAA,QAAA,IAAY,QAAQ,CAAA,CAAA;AAEhE,IAAA,IAAI,SAAS,WACb,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,QAAS,CAAA,WAAA,CAAY,IAAK,CAAA,iBAAA,CAAA;AAC3C,MAAA,MAAM,MAAS,GAAA,QAAA,KAAa,CAAI,GAAA,EAAA,CAAG,iBAAiB,EAAG,CAAA,YAAA,CAAA;AAEvD,MAAA,IAAI,SAAS,SACb,EAAA;AAEI,QAAA,EAAA,CAAG,qBAAsB,CAAA,UAAA,EAAY,IAAQ,IAAA,QAAA,CAAS,WAAY,CAAA,IAAA,CAAK,MAAQ,EAAA,MAAA,EAAA,CAAS,KAAS,IAAA,CAAA,IAAK,QAAU,EAAA,QAAA,CAAS,iBAAiB,CAAC,CAAA,CAAA;AAAA,OAI/I,MAAA;AAEI,QAAG,EAAA,CAAA,YAAA,CAAa,UAAY,EAAA,IAAA,IAAQ,QAAS,CAAA,WAAA,CAAY,KAAK,MAAQ,EAAA,MAAA,EAAA,CAAS,KAAS,IAAA,CAAA,IAAK,QAAQ,CAAA,CAAA;AAAA,OAEzG;AAAA,KACJ,MAAA,IACS,SAAS,SAClB,EAAA;AAEI,MAAG,EAAA,CAAA,mBAAA,CAAoB,YAAY,KAAO,EAAA,IAAA,IAAQ,SAAS,OAAQ,EAAA,EAAG,iBAAiB,CAAC,CAAA,CAAA;AAAA,KAG5F,MAAA;AACI,MAAA,EAAA,CAAG,WAAW,UAAY,EAAA,KAAA,EAAO,IAAQ,IAAA,QAAA,CAAS,SAAS,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGU,MACV,GAAA;AACI,IAAK,IAAA,CAAA,EAAA,CAAG,gBAAgB,IAAI,CAAA,CAAA;AAC5B,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAA;AACV,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAAA;AA1ca,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA;;;;;;;;;;;;;;;;;;ACnBJ,MAAM,kBAAA,GAAqB,IAAI,SAAU,CAAA;AAAA,EACrC,MAAQ,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,CAAA;AAAA,EAWR,QAAU,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,CAAA;AAAA,EASV,IAAM,EAAA,cAAA;AACV,CAAC,CAAA,CAAA;AAED,MAAM,iBAAA,GAAoB,IAAI,MAAO,CAAA;AAAA,EACjC,SAAW,EAAA,kBAAA;AAAA,EACX,SAAW,EAAA;AAAA,IACP,QAAA,EAAU,QAAQ,KAAM,CAAA,MAAA;AAAA,GAC5B;AACJ,CAAC,CAAA,CAAA;AAQM,MAAM,sBAAN,MACP;AAAA,EAqBI,YAAY,QACZ,EAAA;AATA,IAAA,IAAA,CAAO,aAAgB,GAAA,KAAA,CAAA;AAKvB,IAAA,IAAA,CAAQ,wBAA2B,GAAA,KAAA,CAAA;AAK/B,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,IAAA,CAAK,OAA+B,GAAA,EAC3C,EAAA;AACI,IAAA,MAAM,EAAE,aAAe,EAAA,SAAA,EAAc,GAAAzD,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,oBAAmB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEhF,IAAA,IAAA,CAAK,aAAgB,GAAA,aAAA,CAAA;AACrB,IAAA,IAAA,CAAK,UAAa,GAAA,SAAA,CAAA;AAAA,GACtB;AAAA,EAEU,WAAY,CAAA,EAAE,MAAQ,EAAA,KAAA,EAAO,YACvC,EAAA;AACI,IAAA,IAAA,CAAK,wBAA2B,GAAA,IAAA,CAAK,aAAiB,IAAA,CAAC,CAAC,MAAA,CAAA;AAExD,IAAA,IAAI,KAAK,aACT,EAAA;AACI,MAAA,MAAM,YAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,CAAa,gBAAgB,MAAM,CAAA,CAAA;AAEvE,MAAA,IAAA,CAAK,iBAAiB,YAAa,CAAA,YAAA,CAAA;AAEnC,MAAS,MAAA,GAAA,IAAA,CAAK,qBAAsB,CAAA,YAAA,CAAa,YAAY,CAAA,CAAA;AAAA,KACjE;AAEA,IAAe,UAAA,IAAA,IAAA,GAAA,UAAA,GAAA,UAAA,GAAA,IAAA,CAAK,UAAU,UAAW,CAAA,SAAA,CAAA;AAEzC,IAAA,IAAA,CAAK,SAAU,CAAA,YAAA,CAAa,KAAM,CAAA,MAAA,EAAQ,OAAO,UAAU,CAAA,CAAA;AAAA,GAC/D;AAAA,EAEU,SACV,GAAA;AACI,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAAA,GAC5B;AAAA,EAEQ,kBACR,GAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,QAAA,CAAS,aAAa,gBAAiB,EAAA,CAAA;AAEvC,IAAA,IAAI,CAAC,IAAK,CAAA,wBAAA;AAA0B,MAAA,OAAA;AAEpC,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,IAAA,QAAA,CAAS,YAAa,CAAA,IAAA,CAAK,IAAK,CAAA,cAAA,EAAgB,KAAK,CAAA,CAAA;AAErD,IAAkB,iBAAA,CAAA,SAAA,CAAU,QAAW,GAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,CAAA;AAE/D,IAAS,QAAA,CAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,EAAmB,KAAK,CAAA,CAAA;AAC7C,IAAA,QAAA,CAAS,KAAM,CAAA,GAAA,CAAI,KAAM,CAAA,KAAA,EAAO,CAAA,CAAA;AAEhC,IAAA,EAAA,CAAG,UAAW,CAAA,EAAA,CAAG,SAAW,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GACpC;AAAA,EAEQ,sBAAsB,aAC9B,EAAA;AACI,IAAA,MAAM,SAAS,aAAc,CAAA,MAAA,CAAA;AAE7B,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAK,kBAAsB,IAAA,IAAI,OAAQ,CAAA;AAAA,MAC7D,MAAA,EAAQ,IAAI,aAAc,CAAA;AAAA,QACtB,OAAO,MAAO,CAAA,KAAA;AAAA,QACd,QAAQ,MAAO,CAAA,MAAA;AAAA,QACf,YAAY,MAAO,CAAA,WAAA;AAAA,QACnB,WAAW,IAAK,CAAA,UAAA;AAAA,OACnB,CAAA;AAAA,KACJ,CAAA,CAAA;AAGD,IAAA,IAAA,CAAK,mBAAmB,MAAO,CAAA,MAAA;AAAA,MAC3B,MAAO,CAAA,KAAA;AAAA,MACP,MAAO,CAAA,MAAA;AAAA,MACP,MAAO,CAAA,WAAA;AAAA,KACX,CAAA;AAEA,IAAA,OAAO,IAAK,CAAA,kBAAA,CAAA;AAAA,GAChB;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAI,KAAK,kBACT,EAAA;AACI,MAAA,IAAA,CAAK,mBAAmB,OAAQ,EAAA,CAAA;AAChC,MAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AACJ,CAAA,CAAA;AA7GO,IAAM,kBAAN,GAAA,oBAAA;AAAA;AAAM,kBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,YAAA;AACV,CAAA,CAAA;AARS,kBAAA,CAUK,cAAsC,GAAA;AAAA,EAChD,aAAe,EAAA,KAAA;AACnB,CAAA;;ACxDG,MAAM,iBACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AAHA,IAAA,IAAA,CAAQ,eAAkB,GAAA,EAAA,CAAA;AAItB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,QAAQ,SACf,EAAA;AACI,IAAA,IAAI,KAAK,eAAoB,KAAA,SAAA;AAAW,MAAA,OAAA;AACxC,IAAA,IAAA,CAAK,eAAkB,GAAA,SAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,UAAU,EAAG,CAAA,SAAA;AAAA,MACd,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,KACnB,CAAA;AAAA,GACJ;AAGJ,CAAA;AAAA;AAhCa,iBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;ACHG,MAAM,eACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AAJA,IAAgB,IAAA,CAAA,eAAA,GAAkB,QAAQ,OAAQ,EAAA,CAAA;AAK9C,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,WAAA,CAAY,UAAoB,MACvC,EAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,QAAA,CAAS,IAAK,CAAA,QAAA,EAAU,OAAO,SAAS,CAAA,CAAA;AAAA,GAC3D;AAAA,EAEO,gBACP,GAAA;AAAA,GAEA;AAAA,EAEO,KAAK,OAUZ,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAM,MAAA,EAAE,QAAU,EAAA,MAAA,EAAQ,KAAO,EAAA,QAAA,EAAU,UAAU,IAAM,EAAA,IAAA,EAAM,KAAO,EAAA,aAAA,EAAkB,GAAA,OAAA,CAAA;AAE1F,IAAS,QAAA,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,EAAQ,QAAQ,CAAA,CAAA;AAErC,IAAA,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,QAAU,EAAA,QAAA,CAAS,OAAO,aAAa,CAAA,CAAA;AAE9D,IAAA,IAAI,KACJ,EAAA;AACI,MAAS,QAAA,CAAA,KAAA,CAAM,IAAI,KAAK,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,IAAM,EAAA,IAAA,EAAM,OAAO,aAAa,CAAA,CAAA;AAAA,GAC3D;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AA5Da,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA;;AClBG,MAAM,cACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAO,MAAS,GAAA,CAAA,CAAA,CAAA;AAIhB,IAAA,IAAA,CAAO,mBAAwC,EAAC,CAAA;AAGhD,IAAA,IAAA,CAAO,IAAO,GAAA,KAAA,CAAA;AACd,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AACrB;;ACJO,SAAS,oBAAoB,YACpC,EAAA;AACI,EAAM,MAAA,QAAA,GAAW,YAAa,CAAA,YAAA,CAAa,MAAO,CAAA,QAAA,CAAA;AAElD,EAAA,OAAQ,QAAoB,YAAA,iBAAA,IAAqB,QAAS,CAAA,IAAA,CAAK,SAAS,QAAQ,CAAA,CAAA;AACpF;;ACXO,SAAS,oBACZ,EACA,EAAA,CAAA,EACA,CACA,EAAA,KAAA,EACA,QACA,KAEJ,EAAA;AACI,EAAM,MAAA,IAAA,GAAO,QAAQ,CAAI,GAAA,CAAA,CAAA,CAAA;AAEzB,EAAA,EAAA,CAAG,QAAS,EAAA,CAAA;AAEZ,EAAG,EAAA,CAAA,CAAA,GAAK,IAAI,KAAQ,GAAA,CAAA,CAAA;AACpB,EAAG,EAAA,CAAA,CAAA,GAAI,IAAQ,IAAA,CAAA,GAAI,MAAS,GAAA,CAAA,CAAA,CAAA;AAE5B,EAAG,EAAA,CAAA,EAAA,GAAK,CAAM,CAAA,GAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA;AACrB,EAAA,EAAA,CAAG,EAAK,GAAA,CAAC,IAAQ,GAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA;AAExB,EAAO,OAAA,EAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;ACAO,MAAM,gBAAN,MACP;AAAA,EA4BI,WAAA,CAAY,UAAqC,GAAA,EACjD,EAAA;AAnBA,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,cAAc,CAAA,CAAA;AAE/B,IAAA,IAAA,CAAO,KAAQ,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAO,MAAS,GAAA,CAAA,CAAA;AAChB,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AAEpB,IAAA,IAAA,CAAO,gBAA2B,EAAC,CAAA;AAKnC,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAO,MAAS,GAAA,KAAA,CAAA;AAGhB,IAAiB,IAAA,CAAA,iBAAA,GAAoB,IAAI,MAAO,EAAA,CAAA;AAChD,IAAiB,IAAA,CAAA,KAAA,GAAQ,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AAIvC,IAAa,UAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,cAAa,iBAAsB,CAAA,EAAA,UAAA,CAAA,CAAA;AAErD,IAAA,IAAA,CAAK,QAAQ,UAAW,CAAA,KAAA,CAAA;AACxB,IAAA,IAAA,CAAK,SAAS,UAAW,CAAA,MAAA,CAAA;AACzB,IAAA,IAAA,CAAK,aAAa,UAAW,CAAA,UAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,UAAU,UAAW,CAAA,OAAA,CAAA;AAE1B,IAAK,IAAA,CAAA,SAAA,GAAY,IAAI,SAAU,CAAA,CAAA,EAAG,GAAG,IAAK,CAAA,KAAA,EAAO,KAAK,MAAM,CAAA,CAAA;AAE5D,IAAI,IAAA,OAAO,UAAW,CAAA,aAAA,KAAkB,QACxC,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,eAAe,CAC9C,EAAA,EAAA;AACI,QAAK,IAAA,CAAA,aAAA,CAAc,IAAK,CAAA,IAAI,OAAQ,CAAA;AAAA,UAChC,MAAA,EAAQ,IAAI,aAAc,CAAA;AAAA,YACtB,OAAO,IAAK,CAAA,KAAA;AAAA,YACZ,QAAQ,IAAK,CAAA,MAAA;AAAA,YACb,YAAY,UAAW,CAAA,UAAA;AAAA,YACvB,WAAW,UAAW,CAAA,SAAA;AAAA,WACzB,CAAA;AAAA,SACJ,CAAC,CAAA,CAAA;AAAA,OACN;AAAA,KAGJ,MAAA;AACI,MAAA,IAAA,CAAK,aAAgB,GAAA,CAAC,GAAG,UAAA,CAAW,aAAa,CAAA,CAAA;AAEjD,MAAM,MAAA,WAAA,GAAc,KAAK,YAAa,CAAA,MAAA,CAAA;AAEtC,MAAA,IAAA,CAAK,QAAQ,WAAY,CAAA,KAAA,EAAO,WAAY,CAAA,MAAA,EAAQ,YAAY,WAAW,CAAA,CAAA;AAAA,KAC/E;AAGA,IAAA,IAAA,CAAK,aAAa,MAAO,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAI/D,IAAA,IAAI,WAAW,YACf,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,GAAe,IAAI,OAAQ,CAAA;AAAA,QAC5B,MAAA,EAAQ,IAAI,aAAc,CAAA;AAAA,UACtB,OAAO,IAAK,CAAA,KAAA;AAAA,UACZ,QAAQ,IAAK,CAAA,MAAA;AAAA,UACb,YAAY,IAAK,CAAA,UAAA;AAAA,UACjB,MAAQ,EAAA,UAAA;AAAA;AAAA,SAEX,CAAA;AAAA,OACJ,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAA,MAAM,QAAQ,IAAK,CAAA,KAAA,CAAA;AAEnB,IAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,UAAA,CAAA;AAChB,IAAM,KAAA,CAAA,CAAC,IAAI,IAAK,CAAA,WAAA,CAAA;AAEhB,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,UAAA,CAAA;AAAA,GAC7B;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAS,IAAK,CAAA,UAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,IAAI,gBACJ,GAAA;AACI,IAAA,MAAM,UAAU,IAAK,CAAA,YAAA,CAAA;AAGrB,IAAoB,mBAAA,CAAA,IAAA,CAAK,iBAAmB,EAAA,CAAA,EAAG,CAAG,EAAA,OAAA,CAAQ,YAAY,OAAQ,CAAA,WAAA,EAAa,CAAC,IAAA,CAAK,MAAM,CAAA,CAAA;AAEvG,IAAA,OAAO,IAAK,CAAA,iBAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QACJ,GAAA;AAEI,IAAA,MAAM,UAAU,IAAK,CAAA,YAAA,CAAA;AACrB,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,MAAM,aAAa,MAAO,CAAA,UAAA,CAAA;AAC1B,IAAA,MAAM,cAAc,MAAO,CAAA,WAAA,CAAA;AAE3B,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAM,MAAA,KAAA,GAAQ,QAAQ,MAAO,CAAA,KAAA,CAAA;AAE7B,IAAS,QAAA,CAAA,CAAA,GAAK,KAAM,CAAA,CAAA,GAAI,UAAc,GAAA,CAAA,CAAA;AACtC,IAAS,QAAA,CAAA,CAAA,GAAK,KAAM,CAAA,CAAA,GAAI,WAAe,GAAA,CAAA,CAAA;AACvC,IAAS,QAAA,CAAA,KAAA,GAAS,KAAM,CAAA,KAAA,GAAQ,UAAc,GAAA,CAAA,CAAA;AAC9C,IAAS,QAAA,CAAA,MAAA,GAAU,KAAM,CAAA,MAAA,GAAS,WAAe,GAAA,CAAA,CAAA;AAEjD,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,IAAA,CAAK,QAAQ,MAAO,CAAA,KAAA,EAAO,OAAO,MAAQ,EAAA,MAAA,CAAO,aAAa,IAAI,CAAA,CAAA;AAAA,GACtE;AAAA,EAEQ,QAAQ,KAAe,EAAA,MAAA,EAAgB,aAAa,IAAK,CAAA,UAAA,EAAY,mBAAmB,KAChG,EAAA;AACI,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAElB,IAAK,IAAA,CAAA,OAAA,EAAA,CAAA;AAEL,IAAA,IAAA,CAAK,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAC1C,KAAA;AACI,MAAA,IAAI,oBAAoB,CAAM,KAAA,CAAA;AAAG,QAAA,OAAA;AAEjC,MAAA,YAAA,CAAa,MAAO,CAAA,MAAA,CAAO,KAAO,EAAA,MAAA,EAAQ,UAAU,CAAA,CAAA;AAAA,KACvD,CAAA,CAAA;AAED,IAAA,IAAI,KAAK,YACT,EAAA;AACI,MAAA,IAAA,CAAK,YAAa,CAAA,MAAA,CAAO,MAAO,CAAA,KAAA,EAAO,QAAQ,UAAU,CAAA,CAAA;AAAA,KAC7D;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAM,MAAA,IAAI,MAAM,yBAAyB,CAAA,CAAA;AAAA,GAC7C;AACJ,CAAA,CAAA;AAvKO,IAAM,YAAN,GAAA,cAAA;AAAM,YAAA,CAEK,iBAA4C,GAAA;AAAA,EACtD,KAAO,EAAA,CAAA;AAAA,EACP,MAAQ,EAAA,CAAA;AAAA,EACR,UAAY,EAAA,CAAA;AAAA,EACZ,aAAe,EAAA,CAAA;AAAA,EACf,OAAS,EAAA,IAAA;AAAA,EACT,SAAW,EAAA,KAAA;AAAA;AACf,CAAA;;;;;;;;;;;;;;;;;;ACzBJ,MAAM,WAAA,uBAAyC,GAAI,EAAA,CAAA;AAEnC,SAAA,gBAAA,CAAiB,QAAiB,OAClD,EAAA;AACI,EAAA,IAAI,CAAC,WAAA,CAAY,GAAI,CAAA,MAAM,CAC3B,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,MACxB,MAAA,EAAQ,IAAI,YAAa,CAAAA,gBAAA,CAAA;AAAA,QACrB,QAAU,EAAA,MAAA;AAAA,OAAA,EACP,OACN,CAAA,CAAA;AAAA,KACJ,CAAA,CAAA;AAED,IAAY,WAAA,CAAA,GAAA,CAAI,QAAQ,OAAO,CAAA,CAAA;AAAA,GACnC;AAEA,EAAO,OAAA,WAAA,CAAY,IAAI,MAAM,CAAA,CAAA;AACjC;;ACLO,MAAM,oBACb,CAAA;AAAA,EAiCI,YAAY,QACZ,EAAA;AArBA,IAAO,IAAA,CAAA,oBAAA,GAAuB,IAAI,YAAA,CAAa,sBAAsB,CAAA,CAAA;AAMrE,IAAiB,IAAA,CAAA,gCAAA,uBAAyE,GAAI,EAAA,CAAA;AAC9F,IAAQ,IAAA,CAAA,oBAAA,mBAA8D,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAEjF,IAAA,IAAA,CAAiB,qBAAqC,EAAC,CAAA;AACvD,IAAA,IAAA,CAAiB,kBAAgC,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAC5D,IAAA,IAAA,CAAiB,gBAA8B,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAE1D,IAAA,IAAA,CAAiB,cAAiB,GAAA;AAAA,MAC9B,CAAG,EAAA,CAAA;AAAA,MACH,CAAG,EAAA,CAAA;AAAA,MACH,KAAO,EAAA,CAAA;AAAA,MACP,MAAQ,EAAA,CAAA;AAAA,KACZ,CAAA;AAII,IAAK,IAAA,CAAA,oBAAA,GAAuB,IAAI,MAAO,EAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,EAAA,CAAA;AAAA,GACf;AAAA,EAEO,KACH,CAAA,iBAAA,EACA,KAAuB,GAAA,IAAA,EACvB,UAEJ,EAAA;AACI,IAAA,IAAA,CAAK,mBAAmB,MAAS,GAAA,CAAA,CAAA;AAEjC,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,eAAA,CAAgB,iBAAiB,CAAA,CAAA;AAE3D,IAAA,IAAA,CAAK,gBAAmB,GAAA,YAAA,CAAA;AAExB,IAAK,IAAA,CAAA,iBAAA,GAAoB,mBAAoB,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAElE,IAAA,IAAA,CAAK,uBAAuB,YAAa,CAAA,gBAAA,CAAA;AAEzC,IAAK,IAAA,CAAA,IAAA,CAAK,YAAc,EAAA,KAAA,EAAO,UAAU,CAAA,CAAA;AAAA,GAC7C;AAAA,EAEO,IACH,CAAA,aAAA,EACA,KAAuB,GAAA,IAAA,EACvB,UAEJ,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,eAAA,CAAgB,aAAa,CAAA,CAAA;AAEvD,IAAA,IAAA,CAAK,YAAe,GAAA,YAAA,CAAA;AAEpB,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,kBAAA,CAAmB,YAAY,CAAA,CAAA;AAE5D,IAAI,IAAA,YAAA,CAAa,OAAY,KAAA,eAAA,CAAgB,OAC7C,EAAA;AACI,MAAA,eAAA,CAAgB,UAAU,YAAa,CAAA,OAAA,CAAA;AACvC,MAAA,IAAA,CAAK,uBAAuB,YAAY,CAAA,CAAA;AAAA,KAC5C;AAEA,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,WAAa,EAAA,eAAA,CAAgB,WAAW,CAAA,CAAA;AAG9D,IAAa,YAAA,CAAA,aAAA,CAAc,OAAQ,CAAA,CAAC,OACpC,KAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,OAAQ,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAAA,KACxC,CAAA,CAAA;AAED,IAAA,MAAM,WAAW,YAAa,CAAA,QAAA,CAAA;AAE9B,IAAA,IAAI,YAAY,QAAS,CAAA,CAAA,CAAA;AAEzB,IAAA,IAAI,aAAa,MACjB,EAAA;AAEI,MAAA,SAAA,GAAY,IAAK,CAAA,SAAA,CAAU,IAAK,CAAA,MAAA,CAAO,SAAS,QAAS,CAAA,MAAA,CAAA;AAAA,KAC7D;AAEA,IAAA,MAAM,gBAAgB,IAAK,CAAA,cAAA,CAAA;AAE3B,IAAA,IAAI,aAAc,CAAA,CAAA,KAAM,QAAS,CAAA,CAAA,IAC1B,cAAc,CAAM,KAAA,SAAA,IACpB,aAAc,CAAA,KAAA,KAAU,QAAS,CAAA,KAAA,IACjC,aAAc,CAAA,MAAA,KAAW,SAAS,MACzC,EAAA;AACI,MAAA,aAAA,CAAc,IAAI,QAAS,CAAA,CAAA,CAAA;AAC3B,MAAA,aAAA,CAAc,CAAI,GAAA,SAAA,CAAA;AAClB,MAAA,aAAA,CAAc,QAAQ,QAAS,CAAA,KAAA,CAAA;AAC/B,MAAA,aAAA,CAAc,SAAS,QAAS,CAAA,MAAA,CAAA;AAEhC,MAAG,EAAA,CAAA,QAAA;AAAA,QACC,QAAS,CAAA,CAAA;AAAA,QACT,SAAA;AAAA,QACA,QAAS,CAAA,KAAA;AAAA,QACT,QAAS,CAAA,MAAA;AAAA,OACb,CAAA;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,KAAA,CAAM,OAAO,UAAU,CAAA,CAAA;AAE5B,IAAK,IAAA,CAAA,oBAAA,CAAqB,KAAK,YAAY,CAAA,CAAA;AAE3C,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEO,KAAA,CAAM,OAAsB,UACnC,EAAA;AACI,IAAA,IAAI,CAAC,KAAA;AAAO,MAAA,OAAA;AAGZ,IAAI,IAAA,OAAO,UAAU,SACrB,EAAA;AACI,MAAQ,KAAA,GAAA,KAAA,GAAQ,KAAM,CAAA,GAAA,GAAM,KAAM,CAAA,IAAA,CAAA;AAAA,KACtC;AAEA,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAI,IAAA,KAAA,GAAQ,MAAM,KAClB,EAAA;AACI,MAAA,UAAA,IAAA,IAAA,GAAA,UAAA,GAAA,UAAA,GAAe,IAAK,CAAA,kBAAA,CAAA;AAEpB,MAAA,MAAM,kBAAkB,IAAK,CAAA,gBAAA,CAAA;AAC7B,MAAA,MAAM,eAAkB,GAAA,UAAA,CAAA;AAExB,MAAI,IAAA,eAAA,CAAgB,CAAC,CAAM,KAAA,eAAA,CAAgB,CAAC,CACrC,IAAA,eAAA,CAAgB,CAAC,CAAA,KAAM,eAAgB,CAAA,CAAC,KACxC,eAAgB,CAAA,CAAC,CAAM,KAAA,eAAA,CAAgB,CAAC,CAAA,IACxC,gBAAgB,CAAC,CAAA,KAAM,eAAgB,CAAA,CAAC,CAC/C,EAAA;AACI,QAAgB,eAAA,CAAA,CAAC,CAAI,GAAA,eAAA,CAAgB,CAAC,CAAA,CAAA;AACtC,QAAgB,eAAA,CAAA,CAAC,CAAI,GAAA,eAAA,CAAgB,CAAC,CAAA,CAAA;AACtC,QAAgB,eAAA,CAAA,CAAC,CAAI,GAAA,eAAA,CAAgB,CAAC,CAAA,CAAA;AACtC,QAAgB,eAAA,CAAA,CAAC,CAAI,GAAA,eAAA,CAAgB,CAAC,CAAA,CAAA;AAEtC,QAAA,EAAA,CAAG,UAAW,CAAA,eAAA,CAAgB,CAAC,CAAA,EAAG,eAAgB,CAAA,CAAC,CAAG,EAAA,eAAA,CAAgB,CAAC,CAAA,EAAG,eAAgB,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,OAChG;AAAA,KACJ;AAEA,IAAA,EAAA,CAAG,MAAM,KAAK,CAAA,CAAA;AAAA,GAClB;AAAA,EAEO,IACH,CAAA,aAAA,EACA,KAAuB,GAAA,IAAA,EACvB,UAEJ,EAAA;AACI,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,IAAK,CAAA,aAAA,EAAe,OAAO,UAAU,CAAA,CAAA;AAE/D,IAAK,IAAA,CAAA,kBAAA,CAAmB,KAAK,YAAY,CAAA,CAAA;AAEzC,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEO,GACP,GAAA;AACI,IAAA,IAAA,CAAK,mBAAmB,GAAI,EAAA,CAAA;AAE5B,IAAK,IAAA,CAAA,IAAA,CAAK,KAAK,kBAAmB,CAAA,IAAA,CAAK,mBAAmB,MAAS,GAAA,CAAC,GAAG,KAAK,CAAA,CAAA;AAAA,GAChF;AAAA,EAEO,gBAAgB,aACvB,EAAA;AA7MJ,IAAA,IAAA,EAAA,CAAA;AA8MQ,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,iCAAiC,GAAI,CAAA,aAAa,MAAvD,IAA4D,GAAA,EAAA,GAAA,IAAA,CAAK,kBAAkB,aAAa,CAAA,CAAA;AAAA,GAC3G;AAAA,EAEQ,kBAAkB,aAC1B,EAAA;AACI,IAAA,IAAI,YAA6B,GAAA,IAAA,CAAA;AAEjC,IAAA,IAAI,yBAAyB,iBAC7B,EAAA;AACI,MAAA,aAAA,GAAgB,iBAAiB,aAAwB,CAAA,CAAA;AAAA,KAC7D;AAEA,IAAA,IAAI,yBAAyB,YAC7B,EAAA;AACI,MAAe,YAAA,GAAA,aAAA,CAAA;AAAA,KACnB,MAAA,IACS,yBAAyB,OAClC,EAAA;AACI,MAAA,YAAA,GAAe,IAAI,YAAa,CAAA;AAAA,QAC5B,aAAA,EAAe,CAAC,aAAa,CAAA;AAAA,OAChC,CAAA,CAAA;AAED,MAAI,IAAA,aAAA,CAAc,MAAO,CAAA,QAAA,YAAoB,iBAC7C,EAAA;AACI,QAAA,YAAA,CAAa,MAAS,GAAA,IAAA,CAAA;AAAA,OAC1B;AAEA,MAAc,aAAA,CAAA,MAAA,CAAO,EAAG,CAAA,SAAA,EAAW,MACnC;AACI,QAAA,YAAA,CAAa,OAAQ,EAAA,CAAA;AAAA,OACxB,CAAA,CAAA;AAAA,KACL;AAEA,IAAK,IAAA,CAAA,gCAAA,CAAiC,GAAI,CAAA,aAAA,EAAe,YAAY,CAAA,CAAA;AAErE,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEO,iBAAiB,YACxB,EAAA;AACI,IAAA,YAAA,GAAe,gBAAgB,IAAK,CAAA,YAAA,CAAA;AAEpC,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,YAAY,CAAA,CAAA;AAE3D,IAAA,IAAI,CAAC,cAAe,CAAA,IAAA;AAAM,MAAA,OAAA;AAE1B,IAAM,MAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAE1B,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,WAAa,EAAA,cAAA,CAAe,wBAAwB,CAAA,CAAA;AAC1E,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,gBAAkB,EAAA,cAAA,CAAe,WAAW,CAAA,CAAA;AAElE,IAAG,EAAA,CAAA,eAAA;AAAA,MACC,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,cAAe,CAAA,KAAA;AAAA,MAAO,cAAe,CAAA,MAAA;AAAA,MAC3C,CAAA;AAAA,MAAG,CAAA;AAAA,MAAG,cAAe,CAAA,KAAA;AAAA,MAAO,cAAe,CAAA,MAAA;AAAA,MAC3C,EAAG,CAAA,gBAAA;AAAA,MAAkB,EAAG,CAAA,OAAA;AAAA,KAC5B,CAAA;AAEA,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,WAAa,EAAA,cAAA,CAAe,WAAW,CAAA,CAAA;AAAA,GAIjE;AAAA,EAEO,aACH,CAAA,0BAAA,EACA,kBACA,EAAA,MAAA,EACA,IAEJ,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,0BAA0B,CAAA,CAAA;AACzE,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,iBAAiB,0BAA0B,CAAA,CAAA;AAEhD,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,WAAa,EAAA,cAAA,CAAe,wBAAwB,CAAA,CAAA;AAE1E,IAAS,QAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,kBAAA,EAAoB,CAAC,CAAA,CAAA;AAE3C,IAAG,EAAA,CAAA,iBAAA;AAAA,MAAkB,EAAG,CAAA,UAAA;AAAA,MAAY,CAAA;AAAA,MAChC,CAAA;AAAA,MAAG,CAAA;AAAA,MACH,MAAO,CAAA,CAAA;AAAA,MACP,MAAO,CAAA,CAAA;AAAA,MACP,IAAK,CAAA,KAAA;AAAA,MACL,IAAK,CAAA,MAAA;AAAA,KACT,CAAA;AAEA,IAAO,OAAA,kBAAA,CAAA;AAAA,GACX;AAAA,EAEO,mBAAmB,YAC1B,EAAA;AACI,IAAA,OAAO,KAAK,oBAAqB,CAAA,YAAA,CAAa,GAAG,CAAK,IAAA,IAAA,CAAK,qBAAqB,YAAY,CAAA,CAAA;AAAA,GAChG;AAAA,EAEQ,qBAAqB,YAC7B,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAIpB,IAAM,MAAA,cAAA,GAAiB,IAAI,cAAe,EAAA,CAAA;AAG1C,IAAA,IAAI,YAAa,CAAA,YAAA,CAAa,MAAO,CAAA,QAAA,YAAoB,iBACzD,EAAA;AACI,MAAK,IAAA,CAAA,oBAAA,CAAqB,YAAa,CAAA,GAAG,CAAI,GAAA,cAAA,CAAA;AAE9C,MAAA,cAAA,CAAe,WAAc,GAAA,IAAA,CAAA;AAE7B,MAAO,OAAA,cAAA,CAAA;AAAA,KACX;AAEA,IAAK,IAAA,CAAA,UAAA,CAAW,cAAc,cAAc,CAAA,CAAA;AAE5C,IAAA,IAAI,aAAa,OACjB,EAAA;AACI,MAAA,IAAA,CAAK,aAAa,cAAc,CAAA,CAAA;AAAA,KACpC;AAIA,IAAG,EAAA,CAAA,eAAA,CAAgB,EAAG,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAEvC,IAAK,IAAA,CAAA,oBAAA,CAAqB,YAAa,CAAA,GAAG,CAAI,GAAA,cAAA,CAAA;AAE9C,IAAO,OAAA,cAAA,CAAA;AAAA,GACX;AAAA,EAEQ,uBAAuB,YAC/B,EAAA;AACI,IAAA,IAAI,YAAa,CAAA,MAAA;AAAQ,MAAA,OAAA;AAEzB,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,YAAY,CAAA,CAAA;AAE3D,IAAK,IAAA,CAAA,YAAA,CAAa,cAAc,cAAc,CAAA,CAAA;AAE9C,IAAA,IAAI,aAAa,OACjB,EAAA;AACI,MAAA,IAAA,CAAK,eAAe,cAAc,CAAA,CAAA;AAAA,KACtC;AAAA,GACJ;AAAA,EAEQ,UAAA,CAAW,cAA4B,cAC/C,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,IAAM,MAAA,wBAAA,GAA2B,GAAG,iBAAkB,EAAA,CAAA;AAEtD,IAAA,cAAA,CAAe,wBAA2B,GAAA,wBAAA,CAAA;AAG1C,IAAG,EAAA,CAAA,eAAA,CAAgB,EAAG,CAAA,WAAA,EAAa,wBAAwB,CAAA,CAAA;AAE3D,IAAe,cAAA,CAAA,KAAA,GAAQ,YAAa,CAAA,YAAA,CAAa,MAAO,CAAA,UAAA,CAAA;AACxD,IAAe,cAAA,CAAA,MAAA,GAAS,YAAa,CAAA,YAAA,CAAa,MAAO,CAAA,WAAA,CAAA;AAEzD,IAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAClD,KAAA;AACI,MAAA,MAAM,SAAS,YAAa,CAAA,MAAA,CAAA;AAE5B,MAAA,IAAI,OAAO,SACX,EAAA;AACI,QAAA,cAAA,CAAe,IAAO,GAAA,IAAA,CAAA;AAAA,OAC1B;AAGA,MAAS,QAAA,CAAA,OAAA,CAAQ,UAAW,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AACrC,MAAA,MAAM,QAAW,GAAA,QAAA,CAAS,OAAQ,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAEpD,MAAA,MAAM,YAAY,QAAS,CAAA,OAAA,CAAA;AAE3B,MAAG,EAAA,CAAA,oBAAA;AAAA,QAAqB,EAAG,CAAA,WAAA;AAAA,QACvB,GAAG,iBAAoB,GAAA,CAAA;AAAA,QACvB,IAAA;AAAA;AAAA,QACA,SAAA;AAAA,QACA,CAAA;AAAA,OAAC,CAAA;AAAA,KACR,CAAA,CAAA;AAED,IAAA,IAAI,eAAe,IACnB,EAAA;AACI,MAAM,MAAA,eAAA,GAAkB,GAAG,iBAAkB,EAAA,CAAA;AAE7C,MAAA,cAAA,CAAe,WAAc,GAAA,eAAA,CAAA;AAE7B,MAAG,EAAA,CAAA,eAAA,CAAgB,EAAG,CAAA,WAAA,EAAa,eAAe,CAAA,CAAA;AAElD,MAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,CACvC,KAAA;AACI,QAAM,MAAA,gBAAA,GAAmB,GAAG,kBAAmB,EAAA,CAAA;AAE/C,QAAe,cAAA,CAAA,gBAAA,CAAiB,CAAC,CAAI,GAAA,gBAAA,CAAA;AAAA,OACxC,CAAA,CAAA;AAAA,KAGL,MAAA;AACI,MAAA,cAAA,CAAe,WAAc,GAAA,wBAAA,CAAA;AAAA,KACjC;AAAA,GACJ;AAAA,EAEQ,YAAA,CAAa,cAA4B,cACjD,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,aAAa,YAAa,CAAA,MAAA,CAAA;AAEzC,IAAA,cAAA,CAAe,QAAQ,MAAO,CAAA,UAAA,CAAA;AAC9B,IAAA,cAAA,CAAe,SAAS,MAAO,CAAA,WAAA,CAAA;AAE/B,IAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAClD,KAAA;AAEI,MAAA,IAAI,CAAM,KAAA,CAAA;AAAG,QAAA,OAAA;AAEb,MAAA,YAAA,CAAa,OAAO,MAAO,CAAA,MAAA,CAAO,OAAO,MAAO,CAAA,MAAA,EAAQ,OAAO,WAAW,CAAA,CAAA;AAAA,KAC7E,CAAA,CAAA;AAED,IAAA,IAAI,eAAe,IACnB,EAAA;AACI,MAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,MAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,MAAA,MAAM,kBAAkB,cAAe,CAAA,WAAA,CAAA;AAEvC,MAAG,EAAA,CAAA,eAAA,CAAgB,EAAG,CAAA,WAAA,EAAa,eAAe,CAAA,CAAA;AAElD,MAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAClD,KAAA;AACI,QAAA,MAAM+C,UAAS,YAAa,CAAA,MAAA,CAAA;AAE5B,QAAS,QAAA,CAAA,OAAA,CAAQ,UAAWA,CAAAA,OAAAA,EAAQ,CAAC,CAAA,CAAA;AACrC,QAAA,MAAM,QAAW,GAAA,QAAA,CAAS,OAAQ,CAAA,WAAA,CAAYA,OAAM,CAAA,CAAA;AAEpD,QAAA,MAAM,mBAAmB,QAAS,CAAA,cAAA,CAAA;AAElC,QAAM,MAAA,gBAAA,GAAmB,cAAe,CAAA,gBAAA,CAAiB,CAAC,CAAA,CAAA;AAE1D,QAAG,EAAA,CAAA,gBAAA;AAAA,UACC,EAAG,CAAA,YAAA;AAAA,UACH,gBAAA;AAAA,SACJ,CAAA;AAEA,QAAG,EAAA,CAAA,8BAAA;AAAA,UACC,EAAG,CAAA,YAAA;AAAA,UACH,CAAA;AAAA,UACA,gBAAA;AAAA,UACAA,OAAO,CAAA,UAAA;AAAA,UACPA,OAAO,CAAA,WAAA;AAAA,SACX,CAAA;AAEA,QAAG,EAAA,CAAA,uBAAA;AAAA,UACC,EAAG,CAAA,WAAA;AAAA,UACH,GAAG,iBAAoB,GAAA,CAAA;AAAA,UACvB,EAAG,CAAA,YAAA;AAAA,UACH,gBAAA;AAAA,SACJ,CAAA;AAAA,OACH,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAAA,EAEQ,aAAa,cACrB,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAE1B,IAAM,MAAA,wBAAA,GAA2B,GAAG,kBAAmB,EAAA,CAAA;AAEvD,IAAA,cAAA,CAAe,wBAA2B,GAAA,wBAAA,CAAA;AAE1C,IAAG,EAAA,CAAA,gBAAA;AAAA,MACC,EAAG,CAAA,YAAA;AAAA,MACH,wBAAA;AAAA,KACJ,CAAA;AAEA,IAAG,EAAA,CAAA,uBAAA;AAAA,MACC,EAAG,CAAA,WAAA;AAAA,MACH,EAAG,CAAA,wBAAA;AAAA,MACH,EAAG,CAAA,YAAA;AAAA,MACH,wBAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA,EAEQ,eAAe,cACvB,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,KAAK,SAAU,CAAA,EAAA,CAAA;AAE1B,IAAG,EAAA,CAAA,gBAAA;AAAA,MACC,EAAG,CAAA,YAAA;AAAA,MACH,cAAe,CAAA,wBAAA;AAAA,KACnB,CAAA;AAEA,IAAA,IAAI,eAAe,IACnB,EAAA;AACI,MAAG,EAAA,CAAA,8BAAA;AAAA,QACC,EAAG,CAAA,YAAA;AAAA,QACH,CAAA;AAAA,QACA,EAAG,CAAA,gBAAA;AAAA,QACH,cAAe,CAAA,KAAA;AAAA,QACf,cAAe,CAAA,MAAA;AAAA,OACnB,CAAA;AAAA,KAGJ,MAAA;AACI,MAAG,EAAA,CAAA,mBAAA;AAAA,QACC,EAAG,CAAA,YAAA;AAAA,QACH,EAAG,CAAA,gBAAA;AAAA,QACH,cAAe,CAAA,KAAA;AAAA,QACf,cAAe,CAAA,MAAA;AAAA,OACnB,CAAA;AAAA,KACJ;AAAA,GACJ;AAGJ,CAAA;AAAA;AAvfa,oBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,cAAA;AACV,CAAA;;ACxBG,MAAM,wBAAgD,GAAC;AAE9D,qBAAsB,CAAA,aAAA,CAAc,IAAI,CAAI,GAAA,KAAA,CAAA,CAAA;AAE5C,qBAAsB,CAAA,aAAA,CAAc,QAAQ,CAAI,GAAA;AAAA,EAC5C,MAAQ,EAAA,UAAA;AAAA,EACR,YAAc,EAAA,QAAA;AAAA,EACd,iBAAmB,EAAA,KAAA;AAAA,EACnB,gBAAkB,EAAA,CAAA;AAAA,EAClB,eAAiB,EAAA,CAAA;AAAA,EACjB,WAAa,EAAA;AAAA,IACT,OAAS,EAAA,QAAA;AAAA,IACT,MAAQ,EAAA,MAAA;AAAA,GACZ;AACJ,CAAA,CAAA;AAEA,qBAAsB,CAAA,aAAA,CAAc,kBAAkB,CAAI,GAAA;AAAA,EACtD,MAAQ,EAAA,UAAA;AAAA,EACR,YAAc,EAAA,QAAA;AAAA,EACd,iBAAmB,EAAA,KAAA;AAAA,EACnB,WAAa,EAAA;AAAA,IACT,OAAS,EAAA,QAAA;AAAA,IACT,MAAQ,EAAA,iBAAA;AAAA,GACZ;AACJ,CAAA,CAAA;AAEA,qBAAsB,CAAA,aAAA,CAAc,kBAAkB,CAAI,GAAA;AAAA,EACtD,MAAQ,EAAA,UAAA;AAAA,EACR,YAAc,EAAA,QAAA;AAAA,EACd,iBAAmB,EAAA,KAAA;AAAA,EACnB,WAAa,EAAA;AAAA,IACT,OAAS,EAAA,QAAA;AAAA,IACT,MAAQ,EAAA,iBAAA;AAAA,GACZ;AACJ,CAAA,CAAA;AAEA,qBAAsB,CAAA,aAAA,CAAc,qBAAqB,CAAI,GAAA;AAAA,EACzD,MAAQ,EAAA,UAAA;AAAA,EACR,YAAc,EAAA,QAAA;AAAA,EACd,iBAAmB,EAAA,KAAA;AAAA,EACnB,WAAa,EAAA;AAAA,IACT,OAAS,EAAA,QAAA;AAAA,IACT,MAAQ,EAAA,iBAAA;AAAA,GACZ;AACJ,CAAA,CAAA;AAEA,qBAAsB,CAAA,aAAA,CAAc,WAAW,CAAI,GAAA;AAAA,EAC/C,MAAQ,EAAA,UAAA;AAAA,EACR,YAAc,EAAA,QAAA;AAAA,EACd,iBAAmB,EAAA,KAAA;AAAA,EACnB,gBAAkB,EAAA,CAAA;AAAA,EAClB,WAAa,EAAA;AAAA,IACT,OAAS,EAAA,OAAA;AAAA,IACT,MAAQ,EAAA,MAAA;AAAA,GACZ;AACJ,CAAA;;ACjDO,MAAM,eACb,CAAA;AAAA,EA8CI,YAAY,QACZ,EAAA;AApCA,IAAA,IAAA,CAAiB,aAAgB,GAAA;AAAA,MAC7B,OAAS,EAAA,KAAA;AAAA,MACT,gBAAkB,EAAA,CAAA;AAAA,MAClB,aAAa,aAAc,CAAA,IAAA;AAAA,KAC/B,CAAA;AAEA,IAAQ,IAAA,CAAA,yBAAA,mBAGI,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AA4BnB,IAAS,QAAA,CAAA,YAAA,CAAa,oBAAqB,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AAAA,GACvD;AAAA,EAEU,cAAc,EACxB,EAAA;AAGI,IAAA,IAAA,CAAK,GAAM,GAAA,EAAA,CAAA;AAEX,IAAA,IAAA,CAAK,sBAAyB,GAAA;AAAA,MAC1B,QAAQ,EAAG,CAAA,MAAA;AAAA,MACX,OAAO,EAAG,CAAA,KAAA;AAAA,MACV,OAAO,EAAG,CAAA,KAAA;AAAA,MACV,aAAa,EAAG,CAAA,QAAA;AAAA,MAChB,MAAM,EAAG,CAAA,IAAA;AAAA,MACT,cAAc,EAAG,CAAA,MAAA;AAAA,MACjB,SAAS,EAAG,CAAA,OAAA;AAAA,MACZ,iBAAiB,EAAG,CAAA,MAAA;AAAA,KACxB,CAAA;AAEA,IAAA,IAAA,CAAK,kBAAqB,GAAA;AAAA,MACtB,MAAM,EAAG,CAAA,IAAA;AAAA,MACT,MAAM,EAAG,CAAA,IAAA;AAAA,MACT,SAAS,EAAG,CAAA,OAAA;AAAA,MACZ,QAAQ,EAAG,CAAA,MAAA;AAAA,MACX,mBAAmB,EAAG,CAAA,IAAA;AAAA,MACtB,mBAAmB,EAAG,CAAA,IAAA;AAAA,MACtB,kBAAkB,EAAG,CAAA,SAAA;AAAA,MACrB,kBAAkB,EAAG,CAAA,SAAA;AAAA,KACzB,CAAA;AAAA,GACJ;AAAA,EAEU,qBAAqB,YAC/B,EAAA;AACI,IAAA,IAAI,KAAK,mBAAwB,KAAA,YAAA;AAAc,MAAA,OAAA;AAE/C,IAAA,IAAA,CAAK,mBAAsB,GAAA,YAAA,CAAA;AAE3B,IAAA,IAAI,YAAe,GAAA,IAAA,CAAK,yBAA0B,CAAA,YAAA,CAAa,GAAG,CAAA,CAAA;AAElE,IAAA,IAAI,CAAC,YACL,EAAA;AACI,MAAA,YAAA,GAAe,IAAK,CAAA,yBAAA,CAA0B,YAAa,CAAA,GAAG,CAAI,GAAA;AAAA,QAC9D,aAAa,aAAc,CAAA,QAAA;AAAA,QAC3B,gBAAkB,EAAA,CAAA;AAAA,OACtB,CAAA;AAAA,KACJ;AAGA,IAAA,IAAA,CAAK,cAAe,CAAA,YAAA,CAAa,WAAa,EAAA,YAAA,CAAa,gBAAgB,CAAA,CAAA;AAAA,GAC/E;AAAA,EAEO,cAAA,CAAe,aAA4B,gBAClD,EAAA;AACI,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,yBAA0B,CAAA,IAAA,CAAK,oBAAoB,GAAG,CAAA,CAAA;AAEhF,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAChB,IAAM,MAAA,IAAA,GAAO,sBAAsB,WAAW,CAAA,CAAA;AAE9C,IAAA,MAAM,gBAAgB,IAAK,CAAA,aAAA,CAAA;AAG3B,IAAA,YAAA,CAAa,WAAc,GAAA,WAAA,CAAA;AAC3B,IAAA,YAAA,CAAa,gBAAmB,GAAA,gBAAA,CAAA;AAEhC,IAAI,IAAA,WAAA,KAAgB,cAAc,QAClC,EAAA;AACI,MAAI,IAAA,IAAA,CAAK,cAAc,OACvB,EAAA;AACI,QAAA,IAAA,CAAK,cAAc,OAAU,GAAA,KAAA,CAAA;AAE7B,QAAG,EAAA,CAAA,OAAA,CAAQ,GAAG,YAAY,CAAA,CAAA;AAAA,OAC9B;AAEA,MAAA,OAAA;AAAA,KACJ;AAEA,IAAI,IAAA,CAAC,IAAK,CAAA,aAAA,CAAc,OACxB,EAAA;AACI,MAAA,IAAA,CAAK,cAAc,OAAU,GAAA,IAAA,CAAA;AAC7B,MAAG,EAAA,CAAA,MAAA,CAAO,GAAG,YAAY,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAI,WAAgB,KAAA,aAAA,CAAc,WAAe,IAAA,aAAA,CAAc,qBAAqB,gBACpF,EAAA;AACI,MAAA,aAAA,CAAc,WAAc,GAAA,WAAA,CAAA;AAC5B,MAAA,aAAA,CAAc,gBAAmB,GAAA,gBAAA,CAAA;AAKjC,MAAG,EAAA,CAAA,WAAA,CAAY,KAAK,sBAAuB,CAAA,IAAA,CAAK,YAAY,OAAO,CAAA,EAAG,kBAAkB,GAAI,CAAA,CAAA;AAC5F,MAAG,EAAA,CAAA,SAAA,CAAU,EAAG,CAAA,IAAA,EAAM,EAAG,CAAA,IAAA,EAAM,KAAK,kBAAmB,CAAA,IAAA,CAAK,WAAY,CAAA,MAAM,CAAC,CAAA,CAAA;AAAA,KACnF;AAAA,GACJ;AAGJ,CAAA;AAAA;AAlJa,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA;;ACbG,MAAM,cACb,CAAA;AAGA,CAAA;AAGO,MAAM,aACb,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkCI,WAAA,CAAY,SAAuB,WACnC,EAAA;AACI,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AACf,IAAA,IAAA,CAAK,WAAc,GAAA,WAAA,CAAA;AACnB,IAAA,IAAA,CAAK,gBAAgB,EAAC,CAAA;AACtB,IAAA,IAAA,CAAK,qBAAqB,EAAC,CAAA;AAC3B,IAAA,IAAA,CAAK,uBAAuB,EAAC,CAAA;AAAA,GACjC;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,oBAAuB,GAAA,IAAA,CAAA;AAC5B,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ;;ACzDO,MAAM,uBAAuBrC,aAGpC,CAAA;AAAA,EAcI,WAAY,CAAA,EAAE,MAAQ,EAAA,MAAA,EAAQ,MAC9B,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAfV,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,QAAQ,CAAA,CAAA;AAClC,IAAA,IAAA,CAAO,OAAU,GAAA,CAAA,CAAA;AAEjB,IAAA,IAAA,CAAO,YAAe,GAAA,gBAAA,CAAA;AAGtB;AAAA,IAAO,IAAA,CAAA,UAAA,GAAa,IAAI,QAAQ,CAAA,CAAA;AAKhC,IAAA,IAAA,CAAgB,cAAiB,GAAA,IAAA,CAAA;AAM7B,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAA,CAAK,MAAO,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA,CAAA;AAAA,GACtD;AAAA,EAEU,cACV,GAAA;AACI,IAAK,IAAA,CAAA,UAAA,GAAa,IAAI,QAAQ,CAAA,CAAA;AAE9B,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,OAAA,CAAQ,gBAAgB,KAC/B,EAAA;AACI,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,OAAQ,EAAA,CAAA;AAAA,KACxB;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ;;AC3CgB,SAAA,aAAA,CAAc,EAA+B,EAAA,IAAA,EAAc,GAC3E,EAAA;AACI,EAAM,MAAA,MAAA,GAAS,EAAG,CAAA,YAAA,CAAa,IAAI,CAAA,CAAA;AAEnC,EAAG,EAAA,CAAA,YAAA,CAAa,QAAQ,GAAG,CAAA,CAAA;AAC3B,EAAA,EAAA,CAAG,cAAc,MAAM,CAAA,CAAA;AAEvB,EAAO,OAAA,MAAA,CAAA;AACX;;ACfA,SAAS,aAAa,IACtB,EAAA;AACI,EAAM,MAAA,KAAA,GAAQ,IAAI,KAAA,CAAM,IAAI,CAAA,CAAA;AAE5B,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,CAAM,QAAQ,CAClC,EAAA,EAAA;AACI,IAAA,KAAA,CAAM,CAAC,CAAI,GAAA,KAAA,CAAA;AAAA,GACf;AAEA,EAAO,OAAA,KAAA,CAAA;AACX,CAAA;AAQgB,SAAA,YAAA,CACZ,MACA,IAEJ,EAAA;AACI,EAAA,QAAQ,IACR;AAAA,IACI,KAAK,OAAA;AACD,MAAO,OAAA,CAAA,CAAA;AAAA,IAEX,KAAK,MAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEpC,KAAK,MAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEpC,KAAK,MAAA;AACD,MAAO,OAAA,IAAI,YAAa,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEpC,KAAK,KAAA,CAAA;AAAA,IACL,KAAK,MAAA,CAAA;AAAA,IACL,KAAK,WAAA,CAAA;AAAA,IACL,KAAK,gBAAA;AACD,MAAO,OAAA,CAAA,CAAA;AAAA,IAEX,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,UAAW,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAElC,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,UAAW,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAElC,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,UAAW,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAElC,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,WAAY,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEnC,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,WAAY,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEnC,KAAK,OAAA;AACD,MAAO,OAAA,IAAI,WAAY,CAAA,CAAA,GAAI,IAAI,CAAA,CAAA;AAAA,IAEnC,KAAK,MAAA;AACD,MAAO,OAAA,KAAA,CAAA;AAAA,IAEX,KAAK,OAAA;AAED,MAAO,OAAA,YAAA,CAAa,IAAI,IAAI,CAAA,CAAA;AAAA,IAEhC,KAAK,OAAA;AACD,MAAO,OAAA,YAAA,CAAa,IAAI,IAAI,CAAA,CAAA;AAAA,IAEhC,KAAK,OAAA;AACD,MAAO,OAAA,YAAA,CAAa,IAAI,IAAI,CAAA,CAAA;AAAA,IAEhC,KAAK,MAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QACxB,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,IAEb,KAAK,MAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAC3B,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACN,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,IAEhB,KAAK,MAAA;AACD,MAAA,OAAO,IAAI,YAAa,CAAA;AAAA,QAAC,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAC9B,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACT,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QACT,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,QAAG,CAAA;AAAA,OAAE,CAAA,CAAA;AAAA,GACvB;AAEA,EAAO,OAAA,IAAA,CAAA;AACX;;ACzFA,MAAM,YAA6B,GAAA;AAAA,EAC/B,KAAU,EAAA,CAAA;AAAA,EACV,IAAU,EAAA,CAAA;AAAA,EACV,IAAU,EAAA,CAAA;AAAA,EACV,IAAU,EAAA,CAAA;AAAA,EAEV,GAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EAEV,IAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EAEV,IAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EAEV,IAAU,EAAA,CAAA;AAAA,EACV,IAAU,EAAA,CAAA;AAAA,EACV,IAAU,EAAA,EAAA;AAAA,EAEV,SAAY,EAAA,CAAA;AAChB,CAAA,CAAA;AAOO,SAAS,QAAQ,IACxB,EAAA;AACI,EAAA,OAAO,aAAa,IAAI,CAAA,CAAA;AAC5B;;ACpCA,IAAI,QAAyB,GAAA,IAAA,CAAA;AAE7B,MAAM,gBAAiC,GAAA;AAAA,EACnC,KAAa,EAAA,OAAA;AAAA,EACb,UAAa,EAAA,MAAA;AAAA,EACb,UAAa,EAAA,MAAA;AAAA,EACb,UAAa,EAAA,MAAA;AAAA,EAEb,GAAa,EAAA,KAAA;AAAA,EACb,QAAa,EAAA,OAAA;AAAA,EACb,QAAa,EAAA,OAAA;AAAA,EACb,QAAa,EAAA,OAAA;AAAA,EAEb,YAAsB,EAAA,MAAA;AAAA,EACtB,iBAAsB,EAAA,OAAA;AAAA,EACtB,iBAAsB,EAAA,OAAA;AAAA,EACtB,iBAAsB,EAAA,OAAA;AAAA,EAEtB,IAAa,EAAA,MAAA;AAAA,EACb,SAAa,EAAA,OAAA;AAAA,EACb,SAAa,EAAA,OAAA;AAAA,EACb,SAAa,EAAA,OAAA;AAAA,EAEb,UAAa,EAAA,MAAA;AAAA,EACb,UAAa,EAAA,MAAA;AAAA,EACb,UAAa,EAAA,MAAA;AAAA,EAEb,UAAyB,EAAA,WAAA;AAAA,EACzB,cAAyB,EAAA,WAAA;AAAA,EACzB,uBAAyB,EAAA,WAAA;AAAA,EACzB,YAA2B,EAAA,aAAA;AAAA,EAC3B,gBAA2B,EAAA,aAAA;AAAA,EAC3B,yBAA2B,EAAA,aAAA;AAAA,EAC3B,gBAA+B,EAAA,gBAAA;AAAA,EAC/B,oBAA+B,EAAA,gBAAA;AAAA,EAC/B,6BAA+B,EAAA,gBAAA;AACnC,CAAA,CAAA;AAGgB,SAAA,OAAA,CAAQ,IAAS,IACjC,EAAA;AACI,EAAA,IAAI,CAAC,QACL,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,MAAO,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAE9C,IAAA,QAAA,GAAW,EAAC,CAAA;AAEZ,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,EAAQ,EAAE,CACxC,EAAA;AACI,MAAM,MAAA,EAAA,GAAK,UAAU,CAAC,CAAA,CAAA;AAEtB,MAAA,QAAA,CAAS,EAAG,CAAA,EAAE,CAAC,CAAA,GAAI,iBAAiB,EAAE,CAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AAEA,EAAA,OAAO,SAAS,IAAI,CAAA,CAAA;AACxB;;AC9CgB,SAAA,gBAAA,CAAiB,SAAuB,EACxD,EAAA;AACI,EAAA,MAAM,aAA8C,EAAC,CAAA;AAErD,EAAA,MAAM,eAAkB,GAAA,EAAA,CAAG,mBAAoB,CAAA,OAAA,EAAS,GAAG,iBAAiB,CAAA,CAAA;AAE5E,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,eAAA,EAAiB,CACrC,EAAA,EAAA;AACI,IAAA,MAAM,UAAa,GAAA,EAAA,CAAG,eAAgB,CAAA,OAAA,EAAS,CAAC,CAAA,CAAA;AAEhD,IAAA,IAAI,UAAW,CAAA,IAAA,CAAK,UAAW,CAAA,KAAK,CACpC,EAAA;AACI,MAAA,SAAA;AAAA,KACJ;AAEA,IAAA,MAAM,IAAO,GAAA,OAAA,CAAQ,EAAI,EAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AACxC,IAAA,MAAM,IAAO,GAAA;AAAA,MACT,IAAA;AAAA,MACA,MAAM,UAAW,CAAA,IAAA;AAAA,MACjB,IAAA,EAAM,QAAQ,IAAI,CAAA;AAAA,MAClB,QAAU,EAAA,EAAA,CAAG,iBAAkB,CAAA,OAAA,EAAS,WAAW,IAAI,CAAA;AAAA,KAC3D,CAAA;AAEA,IAAW,UAAA,CAAA,UAAA,CAAW,IAAI,CAAI,GAAA,IAAA,CAAA;AAAA,GAClC;AAEA,EAAO,OAAA,UAAA,CAAA;AACX;;AC9BgB,SAAA,oBAAA,CAAqB,SAAuB,EAC5D,EAAA;AACI,EAAA,MAAM,gBAAmD,EAAC,CAAA;AAI1D,EAAA,MAAM,mBAAsB,GAAA,EAAA,CAAG,mBAAoB,CAAA,OAAA,EAAS,GAAG,qBAAqB,CAAA,CAAA;AAEpF,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,mBAAA,EAAqB,CACzC,EAAA,EAAA;AACI,IAAA,MAAM,IAAO,GAAA,EAAA,CAAG,yBAA0B,CAAA,OAAA,EAAS,CAAC,CAAA,CAAA;AACpD,IAAA,MAAM,iBAAoB,GAAA,EAAA,CAAG,oBAAqB,CAAA,OAAA,EAAS,IAAI,CAAA,CAAA;AAE/D,IAAA,MAAM,OAAO,EAAG,CAAA,8BAAA,CAA+B,OAAS,EAAA,CAAA,EAAG,GAAG,uBAAuB,CAAA,CAAA;AAErF,IAAA,aAAA,CAAc,IAAI,CAAI,GAAA;AAAA,MAClB,IAAA;AAAA,MACA,KAAO,EAAA,iBAAA;AAAA,MACP,IAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAEA,EAAO,OAAA,aAAA,CAAA;AACX;;ACpBgB,SAAA,cAAA,CAAe,SAAuB,EACtD,EAAA;AACI,EAAA,MAAM,WAA0C,EAAC,CAAA;AAEjD,EAAA,MAAM,aAAgB,GAAA,EAAA,CAAG,mBAAoB,CAAA,OAAA,EAAS,GAAG,eAAe,CAAA,CAAA;AAExE,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,aAAA,EAAe,CACnC,EAAA,EAAA;AACI,IAAA,MAAM,WAAc,GAAA,EAAA,CAAG,gBAAiB,CAAA,OAAA,EAAS,CAAC,CAAA,CAAA;AAClD,IAAA,MAAM,IAAO,GAAA,WAAA,CAAY,IAAK,CAAA,OAAA,CAAQ,YAAY,EAAE,CAAA,CAAA;AAEpD,IAAA,MAAM,UAAU,CAAC,CAAE,WAAY,CAAA,IAAA,CAAK,MAAM,UAAU,CAAA,CAAA;AAEpD,IAAA,MAAM,IAAO,GAAA,OAAA,CAAQ,EAAI,EAAA,WAAA,CAAY,IAAI,CAAA,CAAA;AAEzC,IAAA,QAAA,CAAS,IAAI,CAAI,GAAA;AAAA,MACb,IAAA;AAAA,MACA,KAAO,EAAA,CAAA;AAAA,MACP,IAAA;AAAA,MACA,MAAM,WAAY,CAAA,IAAA;AAAA,MAClB,OAAA;AAAA,MACA,KAAO,EAAA,YAAA,CAAa,IAAM,EAAA,WAAA,CAAY,IAAI,CAAA;AAAA,KAC9C,CAAA;AAAA,GACJ;AAEA,EAAO,OAAA,QAAA,CAAA;AACX;;AChCA,SAAS,oBAAA,CAAqB,IAA2B,MACzD,EAAA;AACI,EAAA,MAAM,SAAY,GAAA,EAAA,CAAG,eAAgB,CAAA,MAAM,EACtC,KAAM,CAAA,IAAI,CACV,CAAA,GAAA,CAAI,CAAC,IAAA,EAAM,KAAU,KAAA,CAAA,EAAG,UAAU,IAAM,CAAA,CAAA,CAAA,CAAA;AAE7C,EAAM,MAAA,SAAA,GAAY,EAAG,CAAA,gBAAA,CAAiB,MAAM,CAAA,CAAA;AAC5C,EAAM,MAAA,WAAA,GAAc,SAAU,CAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAExC,EAAA,MAAM,SAAkC,EAAC,CAAA;AAEzC,EAAA,MAAM,WAAc,GAAA,WAAA,CAAY,GAAI,CAAA,CAAC,SAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,CAAA,0BAAA,EAA4B,IAAI,CAAC,CAAC,CACnG,CAAA,MAAA,CAAO,CAAC,CACT,KAAA;AACI,IAAA,IAAI,CAAK,IAAA,CAAC,MAAO,CAAA,CAAC,CAClB,EAAA;AACI,MAAA,MAAA,CAAO,CAAC,CAAI,GAAA,IAAA,CAAA;AAEZ,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACV,CAAA,CAAA;AAEL,EAAM,MAAA,OAAA,GAAU,CAAC,EAAE,CAAA,CAAA;AAEnB,EAAY,WAAA,CAAA,OAAA,CAAQ,CAAC,MACrB,KAAA;AACI,IAAA,SAAA,CAAU,SAAS,CAAC,CAAA,GAAI,CAAK,EAAA,EAAA,SAAA,CAAU,SAAS,CAAC,CAAA,CAAA,EAAA,CAAA,CAAA;AACjD,IAAQ,OAAA,CAAA,IAAA,CAAK,uDAAuD,iBAAiB,CAAA,CAAA;AAAA,GACxF,CAAA,CAAA;AAED,EAAM,MAAA,mBAAA,GAAsB,SACvB,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAEd,EAAA,OAAA,CAAQ,CAAC,CAAI,GAAA,mBAAA,CAAA;AAEb,EAAA,OAAA,CAAQ,MAAM,SAAS,CAAA,CAAA;AAGvB,EAAA,OAAA,CAAQ,eAAe,gCAAgC,CAAA,CAAA;AACvD,EAAQ,OAAA,CAAA,IAAA,CAAK,GAAG,OAAO,CAAA,CAAA;AAEvB,EAAA,OAAA,CAAQ,QAAS,EAAA,CAAA;AACrB,CAAA;AAUO,SAAS,eACZ,CAAA,EAAA,EACA,OACA,EAAA,YAAA,EACA,cAEJ,EAAA;AAEI,EAAA,IAAI,CAAC,EAAG,CAAA,mBAAA,CAAoB,OAAS,EAAA,EAAA,CAAG,WAAW,CACnD,EAAA;AACI,IAAA,IAAI,CAAC,EAAG,CAAA,kBAAA,CAAmB,YAAc,EAAA,EAAA,CAAG,cAAc,CAC1D,EAAA;AACI,MAAA,oBAAA,CAAqB,IAAI,YAAY,CAAA,CAAA;AAAA,KACzC;AAEA,IAAA,IAAI,CAAC,EAAG,CAAA,kBAAA,CAAmB,cAAgB,EAAA,EAAA,CAAG,cAAc,CAC5D,EAAA;AACI,MAAA,oBAAA,CAAqB,IAAI,cAAc,CAAA,CAAA;AAAA,KAC3C;AAEA,IAAA,OAAA,CAAQ,MAAM,4CAA4C,CAAA,CAAA;AAG1D,IAAA,IAAI,EAAG,CAAA,iBAAA,CAAkB,OAAO,CAAA,KAAM,EACtC,EAAA;AACI,MAAA,OAAA,CAAQ,IAAK,CAAA,wCAAA,EAA0C,EAAG,CAAA,iBAAA,CAAkB,OAAO,CAAC,CAAA,CAAA;AAAA,KACxF;AAAA,GACJ;AACJ;;ACtEgB,SAAA,eAAA,CAAgB,IAAwB,OACxD,EAAA;AACI,EAAA,MAAM,eAAe,aAAc,CAAA,EAAA,EAAI,EAAG,CAAA,aAAA,EAAe,QAAQ,MAAM,CAAA,CAAA;AACvE,EAAA,MAAM,eAAe,aAAc,CAAA,EAAA,EAAI,EAAG,CAAA,eAAA,EAAiB,QAAQ,QAAQ,CAAA,CAAA;AAE3E,EAAM,MAAA,YAAA,GAAe,GAAG,aAAc,EAAA,CAAA;AAEtC,EAAG,EAAA,CAAA,YAAA,CAAa,cAAc,YAAY,CAAA,CAAA;AAC1C,EAAG,EAAA,CAAA,YAAA,CAAa,cAAc,YAAY,CAAA,CAAA;AAE1C,EAAA,MAAM,4BAA4B,OAAQ,CAAA,yBAAA,CAAA;AAE1C,EAAA,IAAI,yBACJ,EAAA;AACI,IAAI,IAAA,OAAO,EAAG,CAAA,yBAAA,KAA8B,UAC5C,EAAA;AAEI,MAAA,IAAA,CAAK,CAA6E,2EAAA,CAAA,CAAA,CAAA;AAAA,KAItF,MAAA;AACI,MAAG,EAAA,CAAA,yBAAA;AAAA,QACC,YAAA;AAAA,QACA,yBAA0B,CAAA,KAAA;AAAA,QAC1B,yBAA0B,CAAA,UAAA,KAAe,UACnC,GAAA,EAAA,CAAG,mBACH,EAAG,CAAA,mBAAA;AAAA,OACb,CAAA;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,EAAA,CAAG,YAAY,YAAY,CAAA,CAAA;AAE3B,EAAA,IAAI,CAAC,EAAG,CAAA,mBAAA,CAAoB,YAAc,EAAA,EAAA,CAAG,WAAW,CACxD,EAAA;AACI,IAAgB,eAAA,CAAA,EAAA,EAAI,YAAc,EAAA,YAAA,EAAc,YAAY,CAAA,CAAA;AAAA,GAChE;AAEA,EAAQ,OAAA,CAAA,aAAA,GAAgB,gBAAiB,CAAA,YAAA,EAAc,EAAE,CAAA,CAAA;AACzD,EAAQ,OAAA,CAAA,WAAA,GAAc,cAAe,CAAA,YAAA,EAAc,EAAE,CAAA,CAAA;AACrD,EAAQ,OAAA,CAAA,gBAAA,GAAmB,oBAAqB,CAAA,YAAA,EAAc,EAAE,CAAA,CAAA;AAEhE,EAAA,EAAA,CAAG,aAAa,YAAY,CAAA,CAAA;AAC5B,EAAA,EAAA,CAAG,aAAa,YAAY,CAAA,CAAA;AAE5B,EAAA,MAAM,cAA+C,EAAC,CAAA;AAEtD,EAAW,KAAA,MAAA,CAAA,IAAK,QAAQ,WACxB,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,OAAQ,CAAA,WAAA,CAAY,CAAC,CAAA,CAAA;AAElC,IAAA,WAAA,CAAY,CAAC,CAAI,GAAA;AAAA,MACb,QAAU,EAAA,EAAA,CAAG,kBAAmB,CAAA,YAAA,EAAc,CAAC,CAAA;AAAA,MAC/C,KAAO,EAAA,YAAA,CAAa,IAAK,CAAA,IAAA,EAAM,KAAK,IAAI,CAAA;AAAA,KAC5C,CAAA;AAAA,GACJ;AAEA,EAAA,MAAM,SAAY,GAAA,IAAI,aAAc,CAAA,YAAA,EAAc,WAAW,CAAA,CAAA;AAE7D,EAAO,OAAA,SAAA,CAAA;AACX;;ACjEA,MAAM,eAAkB,GAAA;AAAA,EACpB,YAAc,EAAA,CAAA;AAAA,EACd,UAAY,EAAA,CAAA;AAChB,CAAA,CAAA;AAEO,MAAM,cACb,CAAA;AAAA,EAmBI,YAAY,QACZ,EAAA;AAXA,IAAA,IAAA,CAAO,aAA2B,GAAA,IAAA,CAAA;AAElC,IAAQ,IAAA,CAAA,gBAAA,mBAAyD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAI5E,IAAA,IAAA,CAAQ,UAAa,GAAA,CAAA,CAAA;AACrB,IAAQ,IAAA,CAAA,4BAAA,mBAA8D,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACjF,IAAQ,IAAA,CAAA,yBAAA,mBAAkF,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAIjG,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,EAAA,CAAA;AAEX,IAAA,IAAA,CAAK,YAAe,GAAA,EAAA,CAAG,YAAa,CAAA,EAAA,CAAG,2BAA2B,CAAA,CAAA;AAAA,GACtE;AAAA,EAEO,IAAA,CAAK,QAAgB,QAC5B,EAAA;AACI,IAAK,IAAA,CAAA,WAAA,CAAY,OAAO,SAAS,CAAA,CAAA;AAEjC,IAAI,IAAA,QAAA;AAAU,MAAA,OAAA;AAEd,IAAA,eAAA,CAAgB,YAAe,GAAA,CAAA,CAAA;AAC/B,IAAA,eAAA,CAAgB,UAAa,GAAA,CAAA,CAAA;AAE7B,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,MAAM,WAAc,GAAA,IAAA,CAAK,cAAe,CAAA,MAAA,CAAO,SAAS,CAAA,CAAA;AAGxD,IAAW,KAAA,MAAA,CAAA,IAAK,OAAO,MACvB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,MAAO,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAEjC,MAAW,KAAA,MAAA,CAAA,IAAK,UAAU,SAC1B,EAAA;AACI,QAAM,MAAA,QAAA,GAAW,SAAU,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAEtC,QAAA,IAAI,oBAAoB,YACxB,EAAA;AACI,UAAA,IAAI,SAAS,GACb,EAAA;AACI,YAAK,IAAA,CAAA,gBAAA;AAAA,cACD,QAAA;AAAA,cACA,MAAO,CAAA,cAAA,CAAe,CAAsB,CAAA,CAAE,CAAsB,CAAA;AAAA,cACpE,eAAgB,CAAA,UAAA,EAAA;AAAA,aACpB,CAAA;AAAA,WAGJ,MAAA;AACI,YAAA,IAAA,CAAK,oBAAoB,QAAQ,CAAA,CAAA;AAAA,WACrC;AAAA,SACJ,MAAA,IACS,oBAAoB,cAC7B,EAAA;AACI,UAAK,IAAA,CAAA,gBAAA;AAAA,YACD,QAAA;AAAA,YACA,MAAO,CAAA,cAAA,CAAe,CAAsB,CAAA,CAAE,CAAsB,CAAA;AAAA,YACpE,eAAgB,CAAA,UAAA,EAAA;AAAA,WACpB,CAAA;AAAA,SACJ,MAAA,IACS,oBAAoB,aAC7B,EAAA;AAEI,UAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,IAAK,CAAA,QAAA,EAAU,gBAAgB,YAAY,CAAA,CAAA;AAElE,UAAA,MAAM,WAAc,GAAA,MAAA,CAAO,cAAe,CAAA,CAAsB,EAAE,CAAsB,CAAA,CAAA;AAExF,UAAM,MAAA,WAAA,GAAc,WAAY,CAAA,WAAA,CAAY,WAAW,CAAA,CAAA;AAEvD,UAAA,IAAI,WACJ,EAAA;AACI,YAAI,IAAA,WAAA,CAAY,KAAU,KAAA,eAAA,CAAgB,YAC1C,EAAA;AACI,cAAA,EAAA,CAAG,SAAU,CAAA,WAAA,CAAY,QAAU,EAAA,eAAA,CAAgB,YAAY,CAAA,CAAA;AAAA,aACnE;AAEA,YAAgB,eAAA,CAAA,YAAA,EAAA,CAAA;AAAA,WACpB;AAAA,SACJ,MAAA,IACS,oBAAoB,YAC7B,EAAA;AAAA,SAGA;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAAA,EAEQ,oBAAoB,YAC5B,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,YAAa,CAAA,kBAAA,CAAmB,YAAc,EAAA,IAAA,CAAK,eAAe,eAAe,CAAA,CAAA;AAAA,GACpG;AAAA,EAEO,gBAAiB,CAAA,YAAA,EAA6C,IAAc,EAAA,KAAA,GAAQ,CAC3F,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,KAAK,SAAU,CAAA,MAAA,CAAA;AACpC,IAAA,MAAM,WAAc,GAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,aAAa,CAAA,CAAA;AAE1D,IAAA,MAAM,mBAAoB,YAAgC,CAAA,cAAA,CAAA;AAE1D,IAAA,IAAI,gBACJ,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,YAA4B,CAAA,CAAA;AAAA,KAChF;AAEA,IAAa,YAAA,CAAA,YAAA,CAAa,aAAa,MAAM,CAAA,CAAA;AAE7C,IAAA,IAAI,UAAa,GAAA,IAAA,CAAK,4BAA6B,CAAA,YAAA,CAAa,GAAG,CAAA,CAAA;AAGnE,IAAA,IAAI,eAAe,KACnB,CAAA,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,IAAK,CAAA,UAAA,EAAA,GAAe,IAAK,CAAA,YAAA,CAAA;AAE3C,MAAM,MAAA,wBAAA,GAA2B,IAAK,CAAA,yBAAA,CAA0B,SAAS,CAAA,CAAA;AAEzE,MAAA,IAAI,wBACJ,EAAA;AACI,QAAK,IAAA,CAAA,4BAAA,CAA6B,wBAAyB,CAAA,GAAG,CAAI,GAAA,KAAA,CAAA,CAAA;AAAA,OACtE;AAGA,MAAA,UAAA,GAAa,IAAK,CAAA,4BAAA,CAA6B,YAAa,CAAA,GAAG,CAAI,GAAA,SAAA,CAAA;AACnE,MAAK,IAAA,CAAA,yBAAA,CAA0B,SAAS,CAAI,GAAA,YAAA,CAAA;AAE5C,MAAA,IAAI,gBACJ,EAAA;AACI,QAAA,YAAA,CAAa,eAAgB,CAAA,YAAA,CAAa,MAAQ,EAAA,SAAA,EAAY,aAAgC,MAAM,CAAA,CAAA;AAAA,OAGxG,MAAA;AACI,QAAa,YAAA,CAAA,cAAA,CAAe,YAAa,CAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAAA,OAC9D;AAAA,KACJ;AAEA,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,MAAM,iBAAoB,GAAA,IAAA,CAAK,aAAc,CAAA,gBAAA,CAAiB,IAAI,CAAE,CAAA,KAAA,CAAA;AAEpE,IAAI,IAAA,WAAA,CAAY,oBAAqB,CAAA,KAAK,CAAM,KAAA,UAAA;AAAY,MAAA,OAAA;AAC5D,IAAY,WAAA,CAAA,oBAAA,CAAqB,KAAK,CAAI,GAAA,UAAA,CAAA;AAE1C,IAAA,EAAA,CAAG,mBAAoB,CAAA,WAAA,CAAY,OAAS,EAAA,iBAAA,EAAmB,UAAU,CAAA,CAAA;AAAA,GAC7E;AAAA,EAEQ,YAAY,OACpB,EAAA;AACI,IAAA,IAAI,KAAK,aAAkB,KAAA,OAAA;AAAS,MAAA,OAAA;AAEpC,IAAA,IAAA,CAAK,aAAgB,GAAA,OAAA,CAAA;AAErB,IAAM,MAAA,WAAA,GAAc,IAAK,CAAA,cAAA,CAAe,OAAO,CAAA,CAAA;AAE/C,IAAK,IAAA,CAAA,GAAA,CAAI,UAAW,CAAA,WAAA,CAAY,OAAO,CAAA,CAAA;AAAA,GAC3C;AAAA,EAEO,eAAe,OACtB,EAAA;AACI,IAAA,OAAO,KAAK,gBAAiB,CAAA,OAAA,CAAQ,GAAG,CAAK,IAAA,IAAA,CAAK,mBAAmB,OAAO,CAAA,CAAA;AAAA,GAChF;AAAA,EAEQ,mBAAmB,OAC3B,EAAA;AACI,IAAA,MAAM,MAAM,OAAQ,CAAA,GAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,iBAAiB,GAAG,CAAA,GAAI,eAAgB,CAAA,IAAA,CAAK,KAAK,OAAO,CAAA,CAAA;AAE9D,IAAO,OAAA,IAAA,CAAK,iBAAiB,GAAG,CAAA,CAAA;AAAA,GACpC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,MAAW,GAAO,IAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,gBAAgB,CACnD,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,gBAAA,CAAiB,GAAG,CAAA,CAAA;AAE7C,MAAA,WAAA,CAAY,OAAQ,EAAA,CAAA;AACpB,MAAK,IAAA,CAAA,gBAAA,CAAiB,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KACjC;AAEA,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,4BAA+B,GAAA,IAAA,CAAA;AAAA,GACxC;AACJ,CAAA;AAAA;AAxMa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;AC1BJ,IAAI,UAAA,CAAA;AAQG,SAAS,mBAChB,GAAA;AACI,EAAI,IAAA,OAAO,eAAe,SAC1B,EAAA;AACI,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAEA,EACA,IAAA;AAEI,IAAA,MAAM,OAAO,IAAI,QAAA,CAAS,QAAU,EAAA,QAAA,EAAU,UAAU,mCAAmC,CAAA,CAAA;AAG3F,IAAA,UAAA,GAAa,KAAK,EAAE,CAAA,EAAG,KAAO,EAAA,GAAA,EAAK,GAAG,CAAM,KAAA,IAAA,CAAA;AAAA,WAEzC,CAAP,EAAA;AAEI,IAAa,UAAA,GAAA,KAAA,CAAA;AAAA,GACjB;AAEA,EAAO,OAAA,UAAA,CAAA;AACX;;ACLO,MAAM,cAAmC,GAAA;AAAA;AAAA,EAG5C;AAAA,IACI,IAAA,EAAM,CAAC,IAAA,KACH,IAAK,CAAA,IAAA,KAAS,WAAW,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA;AAAA,IACtD,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,mBAAA,EACS,IAAkB,CAAA,WAAA,EAAA,IAAA,CAAA;AAAA;AAAA,oBAAA,EAEjB,IAAsB,CAAA,eAAA,EAAA,IAAA,CAAA;AAAA,iCAAA,EACT,IAAwB,CAAA,iBAAA,EAAA,IAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,GAGvD;AAAA;AAAA,EAEA;AAAA,IACI,IAAA,EAAM,CAAC,IAAW,EAAA,OAAA;AAAA;AAAA,MAAA,CAEb,KAAK,IAAS,KAAA,WAAA,IAAe,IAAK,CAAA,IAAA,KAAS,iBAAiB,IAAK,CAAA,IAAA,KAAS,gBAAqB,KAAA,IAAA,CAAK,SAAS,CAAK,IAAA,CAAC,KAAK,OAAY,KAAA,OAAA,IAAW,QAAQ,OAAmB,YAAA,OAAA,CAAA;AAAA,KAAA;AAAA,IAC/K,IAAA,EAAM,CAAC,IAAyB,KAAA,CAAA;AAAA;AAAA,sCAEA,EAAA,IAAA,CAAA;AAAA;AAAA,mBAEnB,EAAA,IAAA,CAAA;AAAA;AAAA,oBAEC,EAAA,IAAA,CAAA;AAAA,iCACa,EAAA,IAAA,CAAA;AAAA;AAAA,aAAA,CAAA;AAAA,GAE/B;AAAA;AAAA,EAEA;AAAA,IACI,IAAM,EAAA,CAAC,IAAW,EAAA,OAAA,KACd,KAAK,IAAS,KAAA,MAAA,IAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA,IAAW,QAAQ,CAAM,KAAA,KAAA,CAAA;AAAA,IAC9E,MAAM,CAAC,IAAA;AAAA;AAAA,MAGH,CAAA;AAAA,oCAAA,EAC0B,IAA+B,CAAA,wBAAA,EAAA,IAAA,CAAA;AAAA,YAAA,CAAA;AAAA,KAAA;AAAA,GAEjE;AAAA;AAAA,EAEA;AAAA,IACI,IAAM,EAAA,CAAC,IAAW,EAAA,OAAA,KACd,KAAK,IAAS,KAAA,MAAA,IAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA,IAAW,QAAQ,CAAM,KAAA,KAAA,CAAA;AAAA,IAC9E,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMa,EAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,GAGnC;AAAA;AAAA,EAEA;AAAA,IACI,IAAA,EAAM,CAAC,IAAA,KACH,IAAK,CAAA,IAAA,KAAS,UAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA;AAAA,IACrD,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMa,EAAA,IAAA,CAAA;AAAA;AAAA,YAAA,CAAA;AAAA,GAGnC;AAAA;AAAA,EAEA;AAAA,IACI,IAAM,EAAA,CAAC,IAAW,EAAA,OAAA,KACd,KAAK,IAAS,KAAA,MAAA,IAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA,IAAW,QAAQ,KAAU,KAAA,KAAA,CAAA;AAAA,IAElF,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAQa,EAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,GAEnC;AAAA;AAAA,EAEA;AAAA,IACI,IAAM,EAAA,CAAC,IAAW,EAAA,OAAA,KACd,KAAK,IAAS,KAAA,MAAA,IAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA,IAAW,QAAQ,GAAQ,KAAA,KAAA,CAAA;AAAA,IAEhF,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAQa,EAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,GAEnC;AAAA;AAAA,EAEA;AAAA,IACI,IAAM,EAAA,CAAC,IAAW,EAAA,OAAA,KACd,KAAK,IAAS,KAAA,MAAA,IAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA,IAAW,QAAQ,GAAQ,KAAA,KAAA,CAAA;AAAA,IAEhF,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAQa,EAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,GAEnC;AAAA;AAAA,EAGA;AAAA,IACI,IAAA,EAAM,CAAC,IAAA,KACH,IAAK,CAAA,IAAA,KAAS,UAAU,IAAK,CAAA,IAAA,KAAS,CAAK,IAAA,CAAC,IAAK,CAAA,OAAA;AAAA,IACrD,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,yBACe,EAAA,IAAA,CAAA;AAAA,wBACD,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCASa,EAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,GAEnC;AACJ;;ACpKA,MAAM,6BAAwD,GAAA;AAAA,EAE1D,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAOP,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EASN,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAUN,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAWN,GAAK,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAOL,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAQP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EASP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAWP,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAON,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAQP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EASP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAWP,IAAM,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAMN,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAQP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EASP,KAAO,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAWP,IAAU,EAAA,yCAAA;AAAA,EACV,IAAU,EAAA,yCAAA;AAAA,EACV,IAAU,EAAA,yCAAA;AAAA,EAEV,SAAW,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAOX,WAAa,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAA,EAOb,cAAgB,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAOpB,CAAA,CAAA;AAEA,MAAM,qBAAgD,GAAA;AAAA,EAElD,KAAU,EAAA,CAAA,0BAAA,CAAA;AAAA,EAEV,IAAU,EAAA,CAAA,0BAAA,CAAA;AAAA,EACV,IAAU,EAAA,CAAA,0BAAA,CAAA;AAAA,EACV,IAAU,EAAA,4BAAA;AAAA,EAEV,IAAU,EAAA,yCAAA;AAAA,EACV,IAAU,EAAA,yCAAA;AAAA,EACV,IAAU,EAAA,yCAAA;AAAA,EAEV,GAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EAEV,IAAU,EAAA,6BAAA;AAAA,EACV,KAAU,EAAA,6BAAA;AAAA,EACV,KAAU,EAAA,6BAAA;AAAA,EACV,KAAU,EAAA,6BAAA;AAAA,EAEV,IAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EACV,KAAU,EAAA,4BAAA;AAAA,EAEV,SAAgB,EAAA,4BAAA;AAAA,EAChB,WAAgB,EAAA,4BAAA;AAAA,EAChB,cAAgB,EAAA,4BAAA;AACpB,CAAA,CAAA;AAEgB,SAAA,oBAAA,CAAqB,OAAqB,WAC1D,EAAA;AACI,EAAA,MAAM,gBAAgB,CAAC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMtB,CAAA,CAAA,CAAA;AAED,EAAW,KAAA,MAAA,CAAA,IAAK,MAAM,QACtB,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,YAAY,CAAC,CAAA,CAAA;AAE1B,IAAA,IAAI,CAAC,IACL,EAAA;AACI,MAAA,IAAI,KAAM,CAAA,QAAA,CAAS,CAAC,CAAA,YAAa,YACjC,EAAA;AACI,QAAA,IAAK,KAAM,CAAA,QAAA,CAAS,CAAC,CAAA,CAAmB,GACxC,EAAA;AACI,UAAA,aAAA,CAAc,IAAK,CAAA,CAAA;AAAA,4DAAA,EACuB,CAAO,CAAA,GAAA,EAAA,CAAA,CAAA;AAAA,oBAChD,CAAA,CAAA,CAAA;AAAA,SAGL,MAAA;AACI,UAAA,aAAA,CAAc,IAAK,CAAA,CAAA;AAAA,8DACyB,EAAA,CAAA,CAAA;AAAA,oBAC3C,CAAA,CAAA,CAAA;AAAA,SACL;AAAA,OAEK,MAAA,IAAA,KAAA,CAAM,QAAS,CAAA,CAAC,aAAa,cACtC,EAAA;AACI,QAAA,aAAA,CAAc,IAAK,CAAA,CAAA;AAAA,8DAAA,EAC6B,CAAO,CAAA,GAAA,EAAA,CAAA,CAAA;AAAA,oBAClD,CAAA,CAAA,CAAA;AAAA,OACT;AAEA,MAAA,SAAA;AAAA,KACJ;AAEA,IAAM,MAAA,OAAA,GAAU,KAAM,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAEhC,IAAA,IAAI,MAAS,GAAA,KAAA,CAAA;AAEb,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,QAAQ,CAC3C,EAAA,EAAA;AACI,MAAA,IAAI,eAAe,CAAC,CAAA,CAAE,IAAK,CAAA,IAAA,EAAM,OAAO,CACxC,EAAA;AACI,QAAA,aAAA,CAAc,KAAK,cAAe,CAAA,CAAC,EAAE,IAAK,CAAA,CAAA,EAAG,OAAO,CAAC,CAAA,CAAA;AACrD,QAAS,MAAA,GAAA,IAAA,CAAA;AAET,QAAA,MAAA;AAAA,OACJ;AAAA,KACJ;AAEA,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAA,MAAM,eAAe,IAAK,CAAA,IAAA,KAAS,KAAK,CAAC,IAAA,CAAK,UAAU,6BAAgC,GAAA,qBAAA,CAAA;AACxF,MAAM,MAAA,QAAA,GAAW,aAAa,IAAK,CAAA,IAAI,EAAE,OAAQ,CAAA,UAAA,EAAY,OAAO,CAAc,CAAA,WAAA,CAAA,CAAA,CAAA;AAElF,MAAA,aAAA,CAAc,IAAK,CAAA,CAAA;AAAA,qBACR,EAAA,CAAA,CAAA;AAAA;AAAA,oBAED,EAAA,CAAA,CAAA;AAAA,YAAA,EACR,QAAW,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,KACjB;AAAA,GACJ;AASA,EAAO,OAAA,IAAI,SAAS,IAAM,EAAA,IAAA,EAAM,YAAY,UAAY,EAAA,aAAA,CAAc,IAAK,CAAA,IAAI,CAAC,CAAA,CAAA;AACpF;;ACxRO,MAAM,oBACb,CAAA;AAAA;AAAA,EAwBI,YAAY,QACZ,EAAA;AAVA,IAAA,IAAA,CAAO,SAAY,GAAA,KAAA,CAAA;AAGnB;AAAA,IAAA,IAAA,CAAQ,SAA+C,EAAC,CAAA;AAGxD,IAAA,IAAA,CAAQ,wBAA8E,EAAC,CAAA;AAKnF,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAGjB,IAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAElB,IAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAA;AACV,IAAA,IAAA,CAAK,SAAS,EAAC,CAAA;AAAA,GACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,YACR,GAAA;AACI,IAAI,IAAA,CAAC,qBACL,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,wGAC8C,CAAA,CAAA;AAAA,KAClE;AAAA,GACJ;AAAA,EAEU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,kBAAA,CAAmB,KAAqB,EAAA,OAAA,EAAoB,QACnE,EAAA;AACI,IAAA,MAAM,WAAc,GAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,eAAe,OAAO,CAAA,CAAA;AAEhE,IAAI,IAAA,CAAC,MAAM,QAAY,IAAA,KAAA,CAAM,YAAY,WAAY,CAAA,kBAAA,CAAmB,KAAM,CAAA,GAAG,CACjF,EAAA;AACI,MAAA,WAAA,CAAY,kBAAmB,CAAA,KAAA,CAAM,GAAG,CAAA,GAAI,KAAM,CAAA,OAAA,CAAA;AAElD,MAAA,MAAM,QAAW,GAAA,IAAA,CAAK,uBAAwB,CAAA,KAAA,EAAO,OAAO,CAAA,CAAA;AAE5D,MAAA,QAAA,CAAS,YAAY,WAAa,EAAA,KAAA,CAAM,QAAU,EAAA,IAAA,CAAK,WAAW,QAAQ,CAAA,CAAA;AAAA,KAC9E;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,uBAAA,CAAwB,OAAqB,OACrD,EAAA;AA9FJ,IAAA,IAAA,EAAA,CAAA;AA+FQ,IAAO,OAAA,CAAA,CAAA,EAAA,GAAA,IAAA,CAAK,qBAAsB,CAAA,KAAA,CAAM,SAAS,CAAA,KAA1C,IAA8C,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,GAC1D,CAAA,KAAA,IAAA,CAAK,0BAA2B,CAAA,KAAA,EAAO,OAAO,CAAA,CAAA;AAAA,GACrD;AAAA,EAEQ,0BAAA,CAA2B,OAAqB,OACxD,EAAA;AACI,IAAM,MAAA,oBAAA,GAAuB,IAAK,CAAA,qBAAA,CAAsB,KAAM,CAAA,SAAS,CAClE,KAAA,IAAA,CAAK,qBAAsB,CAAA,KAAA,CAAM,SAAS,CAAA,GAAI,EAAC,CAAA,CAAA;AAEpD,IAAA,MAAM,KAAK,IAAK,CAAA,aAAA,CAAc,KAAO,EAAA,OAAA,CAAQ,aAAa,GAAG,CAAA,CAAA;AAE7D,IAAA,IAAI,CAAC,IAAA,CAAK,MAAO,CAAA,EAAE,CACnB,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,EAAE,CAAA,GAAI,oBAAqB,CAAA,KAAA,EAAO,QAAQ,WAAW,CAAA,CAAA;AAAA,KACrE;AAEA,IAAA,oBAAA,CAAqB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAK,OAAO,EAAE,CAAA,CAAA;AAElD,IAAO,OAAA,oBAAA,CAAqB,QAAQ,GAAG,CAAA,CAAA;AAAA,GAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUQ,aAAA,CAAc,KAAqB,EAAA,WAAA,EAAkC,MAC7E,EAAA;AACI,IAAA,MAAM,WAAW,KAAM,CAAA,QAAA,CAAA;AAEvB,IAAM,MAAA,OAAA,GAAU,CAAC,CAAA,EAAG,MAAS,CAAA,CAAA,CAAA,CAAA,CAAA;AAE7B,IAAA,KAAA,MAAW,KAAK,QAChB,EAAA;AACI,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA,CAAA;AAEd,MAAI,IAAA,WAAA,CAAY,CAAC,CACjB,EAAA;AACI,QAAA,OAAA,CAAQ,IAAK,CAAA,WAAA,CAAY,CAAC,CAAA,CAAE,IAAI,CAAA,CAAA;AAAA,OACpC;AAAA,KACJ;AAEA,IAAO,OAAA,OAAA,CAAQ,KAAK,GAAG,CAAA,CAAA;AAAA,GAC3B;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ,CAAA;AAAA;AA3Ia,oBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,cAAA;AACV,CAAA;;ACpBG,SAAS,0BAA0B,cAC1C,EAAA;AACI,EAAiB,cAAA,GAAA,cAAA,CACZ,UAAW,CAAA,WAAA,EAAa,SAAS,CAAA,CACjC,UAAW,CAAA,cAAA,EAAgB,WAAW,CAAA,CACtC,UAAW,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAE/B,EAAiB,cAAA,GAAA,CAAA;AAAA;AAAA,IAEf,EAAA,cAAA,CAAA;AAAA,IAAA,CAAA,CAAA;AAGF,EAAO,OAAA,cAAA,CAAA;AACX;;ACLO,SAAS,yBAAyB,EACzC,EAAA;AACI,EAAA,MAAM,WAAmD,EAAC,CAAA;AAI1D,EAAA,QAAA,CAAS,MAAS,GAAA,CAAC,EAAG,CAAA,GAAA,EAAK,GAAG,mBAAmB,CAAA,CAAA;AACjD,EAAA,QAAA,CAAS,GAAM,GAAA,CAAC,EAAG,CAAA,GAAA,EAAK,GAAG,GAAG,CAAA,CAAA;AAC9B,EAAS,QAAA,CAAA,QAAA,GAAW,CAAC,EAAG,CAAA,SAAA,EAAW,GAAG,mBAAqB,EAAA,EAAA,CAAG,GAAK,EAAA,EAAA,CAAG,mBAAmB,CAAA,CAAA;AACzF,EAAS,QAAA,CAAA,MAAA,GAAS,CAAC,EAAG,CAAA,GAAA,EAAK,GAAG,mBAAqB,EAAA,EAAA,CAAG,GAAK,EAAA,EAAA,CAAG,mBAAmB,CAAA,CAAA;AACjF,EAAS,QAAA,CAAA,IAAA,GAAO,CAAC,CAAA,EAAG,CAAC,CAAA,CAAA;AAGrB,EAAS,QAAA,CAAA,YAAY,CAAI,GAAA,CAAC,EAAG,CAAA,SAAA,EAAW,GAAG,mBAAqB,EAAA,EAAA,CAAG,GAAK,EAAA,EAAA,CAAG,mBAAmB,CAAA,CAAA;AAC9F,EAAS,QAAA,CAAA,SAAS,CAAI,GAAA,CAAC,EAAG,CAAA,SAAA,EAAW,GAAG,GAAK,EAAA,EAAA,CAAG,GAAK,EAAA,EAAA,CAAG,GAAG,CAAA,CAAA;AAC3D,EAAS,QAAA,CAAA,YAAY,CAAI,GAAA,CAAC,EAAG,CAAA,SAAA,EAAW,GAAG,mBAAqB,EAAA,EAAA,CAAG,GAAK,EAAA,EAAA,CAAG,mBAAmB,CAAA,CAAA;AAE9F,EAAA,QAAA,CAAS,KAAQ,GAAA,CAAC,EAAG,CAAA,IAAA,EAAM,GAAG,mBAAmB,CAAA,CAAA;AAcjD,EAAO,OAAA,QAAA,CAAA;AACX;;AChCA,MAAM,KAAQ,GAAA,CAAA,CAAA;AACd,MAAM,MAAS,GAAA,CAAA,CAAA;AACf,MAAM,OAAU,GAAA,CAAA,CAAA;AAChB,MAAM,UAAa,GAAA,CAAA,CAAA;AACnB,MAAM,OAAU,GAAA,CAAA,CAAA;AAChB,MAAM,UAAa,GAAA,CAAA,CAAA;AAGZ,MAAM,iBAAN,MACP;AAAA,EA0DI,WACA,GAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAA;AAEV,IAAA,IAAA,CAAK,OAAU,GAAA,CAAA,CAAA;AACf,IAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,CAAA;AACrB,IAAA,IAAA,CAAK,SAAY,GAAA,MAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAGhB,IAAA,IAAA,CAAK,MAAM,EAAC,CAAA;AACZ,IAAK,IAAA,CAAA,GAAA,CAAI,KAAK,CAAA,GAAI,IAAK,CAAA,QAAA,CAAA;AACvB,IAAK,IAAA,CAAA,GAAA,CAAI,MAAM,CAAA,GAAI,IAAK,CAAA,SAAA,CAAA;AACxB,IAAK,IAAA,CAAA,GAAA,CAAI,OAAO,CAAA,GAAI,IAAK,CAAA,WAAA,CAAA;AACzB,IAAK,IAAA,CAAA,GAAA,CAAI,UAAU,CAAA,GAAI,IAAK,CAAA,YAAA,CAAA;AAC5B,IAAK,IAAA,CAAA,GAAA,CAAI,OAAO,CAAA,GAAI,IAAK,CAAA,YAAA,CAAA;AACzB,IAAK,IAAA,CAAA,GAAA,CAAI,UAAU,CAAA,GAAI,IAAK,CAAA,YAAA,CAAA;AAE5B,IAAA,IAAA,CAAK,SAAS,EAAC,CAAA;AAEf,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,KAAM,EAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,aAAa,KAAQ,GAAA,IAAA,CAAA;AAAA,GAC9B;AAAA,EAEU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,EAAA,CAAA;AAEV,IAAK,IAAA,CAAA,aAAA,GAAgB,yBAAyB,EAAE,CAAA,CAAA;AAEhD,IAAK,IAAA,CAAA,GAAA,CAAI,KAAK,YAAY,CAAA,CAAA;AAE1B,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAAA,GACf;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,IAAI,KACX,EAAA;AACI,IAAA,KAAA,GAAQ,SAAS,IAAK,CAAA,YAAA,CAAA;AAGtB,IAAI,IAAA,IAAA,CAAK,OAAY,KAAA,KAAA,CAAM,IAC3B,EAAA;AACI,MAAI,IAAA,IAAA,GAAO,IAAK,CAAA,OAAA,GAAU,KAAM,CAAA,IAAA,CAAA;AAChC,MAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AAGR,MAAA,OAAO,IACP,EAAA;AACI,QAAA,IAAI,OAAO,CACX,EAAA;AAEI,UAAK,IAAA,CAAA,GAAA,CAAI,CAAC,CAAA,CAAE,IAAK,CAAA,IAAA,EAAM,CAAC,EAAE,KAAA,CAAM,IAAQ,GAAA,CAAA,IAAK,CAAG,CAAA,CAAA,CAAA;AAAA,SACpD;AAEA,QAAA,IAAA,GAAO,IAAQ,IAAA,CAAA,CAAA;AACf,QAAA,CAAA,EAAA,CAAA;AAAA,OACJ;AAEA,MAAA,IAAA,CAAK,UAAU,KAAM,CAAA,IAAA,CAAA;AAAA,KACzB;AAKA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAO,QAAQ,CACxC,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,CAAC,CAAE,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,WAAW,KAClB,EAAA;AACI,IAAA,KAAA,GAAQ,SAAS,IAAK,CAAA,YAAA,CAAA;AACtB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,GAAA,CAAI,QAAQ,CACrC,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,GAAA,CAAI,CAAC,CAAA,CAAE,IAAK,CAAA,IAAA,EAAM,CAAC,EAAE,KAAA,CAAM,IAAQ,GAAA,CAAA,IAAK,CAAG,CAAA,CAAA,CAAA;AAAA,KACpD;AACA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAO,QAAQ,CACxC,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,CAAC,CAAE,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAA,CAAK,UAAU,KAAM,CAAA,IAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,cAAc,CAAA,eAAA,EAAiB,KAAK,CAAA,CAAA;AAEtD,IAAA,IAAA,CAAK,GAAG,KAAQ,GAAA,QAAA,GAAW,SAAS,CAAE,CAAA,IAAA,CAAK,GAAG,KAAK,CAAA,CAAA;AAAA,GACvD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,UAAU,KACjB,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,cAAc,CAAA,mBAAA,EAAqB,KAAK,CAAA,CAAA;AAE1D,IAAA,IAAA,CAAK,GAAG,KAAQ,GAAA,QAAA,GAAW,SAAS,CAAE,CAAA,IAAA,CAAK,GAAG,mBAAmB,CAAA,CAAA;AAAA,GACrE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,aAAa,KACpB,EAAA;AACI,IAAA,IAAA,CAAK,GAAG,KAAQ,GAAA,QAAA,GAAW,SAAS,CAAE,CAAA,IAAA,CAAK,GAAG,UAAU,CAAA,CAAA;AAAA,GAC5D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,aAAa,KACpB,EAAA;AACI,IAAK,IAAA,CAAA,EAAA,CAAG,UAAU,KAAK,CAAA,CAAA;AAAA,GAC3B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,YAAY,KACnB,EAAA;AACI,IAAA,IAAA,CAAK,GAAG,KAAQ,GAAA,QAAA,GAAW,SAAS,CAAE,CAAA,IAAA,CAAK,GAAG,SAAS,CAAA,CAAA;AAAA,GAC3D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,aAAa,KACpB,EAAA;AACI,IAAA,IAAA,CAAK,GAAG,SAAU,CAAA,IAAA,CAAK,GAAG,KAAQ,GAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AAAA,GACnD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,aAAa,KACpB,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,aAAc,CAAA,KAAK,CAC7B,EAAA;AACI,MAAQ,KAAA,GAAA,QAAA,CAAA;AAAA,KACZ;AAEA,IAAI,IAAA,KAAA,KAAU,KAAK,SACnB,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAEjB,IAAM,MAAA,IAAA,GAAO,IAAK,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AACrC,IAAA,MAAM,KAAK,IAAK,CAAA,EAAA,CAAA;AAEhB,IAAI,IAAA,IAAA,CAAK,WAAW,CACpB,EAAA;AACI,MAAA,EAAA,CAAG,UAAU,IAAK,CAAA,CAAC,CAAG,EAAA,IAAA,CAAK,CAAC,CAAC,CAAA,CAAA;AAAA,KAGjC,MAAA;AACI,MAAA,EAAA,CAAG,iBAAkB,CAAA,IAAA,CAAK,CAAC,CAAA,EAAG,IAAK,CAAA,CAAC,CAAG,EAAA,IAAA,CAAK,CAAC,CAAA,EAAG,IAAK,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KAC3D;AAEA,IAAI,IAAA,IAAA,CAAK,WAAW,CACpB,EAAA;AACI,MAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,MAAA,EAAA,CAAG,sBAAsB,IAAK,CAAA,CAAC,CAAG,EAAA,IAAA,CAAK,CAAC,CAAC,CAAA,CAAA;AAAA,KAC7C,MAAA,IACS,KAAK,QACd,EAAA;AACI,MAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,MAAA,EAAA,CAAG,qBAAsB,CAAA,EAAA,CAAG,QAAU,EAAA,EAAA,CAAG,QAAQ,CAAA,CAAA;AAAA,KACrD;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,gBAAA,CAAiB,OAAe,KACvC,EAAA;AACI,IAAK,IAAA,CAAA,EAAA,CAAG,aAAc,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;AAAA,GACtC;AAAA;AAAA;AAAA,EAIO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,EAAG,CAAA,WAAA,CAAY,IAAK,CAAA,EAAA,CAAG,qBAAqB,KAAK,CAAA,CAAA;AAEtD,IAAK,IAAA,CAAA,UAAA,CAAW,KAAK,YAAY,CAAA,CAAA;AAEjC,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,SAAY,GAAA,EAAA,CAAA;AACjB,IAAA,IAAA,CAAK,aAAa,QAAQ,CAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWQ,YAAA,CAAa,MAA4C,KACjE,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAQ,IAAI,CAAA,CAAA;AAEtC,IAAI,IAAA,KAAA,IAAS,UAAU,CACvB,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAAA,KAEhB,MAAA,IAAA,CAAC,KAAS,IAAA,KAAA,KAAU,CAC7B,CAAA,EAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,MAAO,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KAC/B;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,eAAgB,CAAA,MAAA,EAAuB,KACtD,EAAA;AACI,IAAO,MAAA,CAAA,YAAA,CAAa,MAAM,SAAS,CAAA,CAAA;AAAA,GACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,mBAAoB,CAAA,MAAA,EAAuB,KAC1D,EAAA;AACI,IAAO,MAAA,CAAA,gBAAA,CAAiB,CAAG,EAAA,KAAA,CAAM,aAAa,CAAA,CAAA;AAAA,GAClD;AAAA;AAAA;AAAA;AAAA,EAKO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,IAAA,CAAA;AACV,IAAA,IAAA,CAAK,OAAO,MAAS,GAAA,CAAA,CAAA;AAAA,GACzB;AACJ,CAAA,CAAA;AAxUO,IAAM,aAAN,GAAA,eAAA;AAAA;AAAM,aAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;ACrBG,MAAM,SACb,CAAA;AAAA,EA0BI,YAAY,OACZ,EAAA;AA1BA,IAAA,IAAA,CAAO,SAAqB,UAAW,CAAA,UAAA,CAAA;AA2BnC,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AACf,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,CAAA,CAAA,CAAA;AACd,IAAA,IAAA,CAAK,OAAO,QAAS,CAAA,aAAA,CAAA;AACrB,IAAA,IAAA,CAAK,iBAAiB,UAAW,CAAA,IAAA,CAAA;AACjC,IAAA,IAAA,CAAK,SAAS,UAAW,CAAA,IAAA,CAAA;AACzB,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AAAA,GACvB;AACJ;;ACnCO,MAAM,2BAA8B,GAAA;AAAA,EAEvC,EAAI,EAAA,OAAA;AAAA,EAEJ,MAAA,CAAO,MAAuB,EAAA,SAAA,EAAsB,EACpD,EAAA;AACI,IAAA,IAAI,UAAU,KAAU,KAAA,MAAA,CAAO,SAAS,SAAU,CAAA,MAAA,KAAW,OAAO,MACpE,EAAA;AACI,MAAG,EAAA,CAAA,aAAA;AAAA,QACC,EAAG,CAAA,UAAA;AAAA,QACH,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KAGJ,MAAA;AACI,MAAG,EAAA,CAAA,UAAA;AAAA,QACC,SAAU,CAAA,MAAA;AAAA,QACV,CAAA;AAAA,QACA,SAAU,CAAA,cAAA;AAAA,QACV,MAAO,CAAA,KAAA;AAAA,QACP,MAAO,CAAA,MAAA;AAAA,QACP,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KACJ;AAEA,IAAA,SAAA,CAAU,QAAQ,MAAO,CAAA,KAAA,CAAA;AACzB,IAAA,SAAA,CAAU,SAAS,MAAO,CAAA,MAAA,CAAA;AAAA,GAC9B;AACJ;;ACnCO,MAAM,qBAAwB,GAAA;AAAA,EAEjC,EAAI,EAAA,OAAA;AAAA,EAEJ,MAAA,CAAO,MAAoC,EAAA,SAAA,EAAsB,EACjE,EAAA;AACI,IAAM,MAAA,kBAAA,GAAqB,OAAO,SAAc,KAAA,6BAAA,CAAA;AAEhD,IAAG,EAAA,CAAA,WAAA,CAAY,EAAG,CAAA,8BAAA,EAAgC,kBAAkB,CAAA,CAAA;AAEpE,IAAA,MAAM,UAAU,SAAU,CAAA,KAAA,CAAA;AAC1B,IAAA,MAAM,WAAW,SAAU,CAAA,MAAA,CAAA;AAE3B,IAAA,MAAM,eAAe,MAAO,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,gBAAgB,MAAO,CAAA,WAAA,CAAA;AAE7B,IAAA,MAAM,gBAAgB,MAAO,CAAA,aAAA,CAAA;AAC7B,IAAA,MAAM,iBAAiB,MAAO,CAAA,cAAA,CAAA;AAE9B,IAAI,IAAA,aAAA,GAAgB,YAAgB,IAAA,cAAA,GAAiB,aACrD,EAAA;AACI,MAAI,IAAA,OAAA,KAAY,YAAgB,IAAA,QAAA,KAAa,aAC7C,EAAA;AACI,QAAG,EAAA,CAAA,UAAA;AAAA,UACC,SAAU,CAAA,MAAA;AAAA,UACV,CAAA;AAAA,UACA,SAAU,CAAA,cAAA;AAAA,UACV,YAAA;AAAA,UACA,aAAA;AAAA,UACA,CAAA;AAAA,UACA,SAAU,CAAA,MAAA;AAAA,UACV,SAAU,CAAA,IAAA;AAAA,UACV,IAAA;AAAA,SACJ,CAAA;AAAA,OACJ;AAEA,MAAG,EAAA,CAAA,aAAA;AAAA,QACC,EAAG,CAAA,UAAA;AAAA,QACH,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,aAAA;AAAA,QACA,cAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KAEK,MAAA,IAAA,OAAA,KAAY,YAAgB,IAAA,QAAA,KAAa,aAClD,EAAA;AACI,MAAG,EAAA,CAAA,aAAA;AAAA,QACC,EAAG,CAAA,UAAA;AAAA,QACH,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KAGJ,MAAA;AACI,MAAG,EAAA,CAAA,UAAA;AAAA,QACC,SAAU,CAAA,MAAA;AAAA,QACV,CAAA;AAAA,QACA,SAAU,CAAA,cAAA;AAAA,QACV,YAAA;AAAA,QACA,aAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KACJ;AAEA,IAAA,SAAA,CAAU,KAAQ,GAAA,YAAA,CAAA;AAClB,IAAA,SAAA,CAAU,MAAS,GAAA,aAAA,CAAA;AAAA,GACvB;AACJ;;AC7EO,MAAM,qBAAwB,GAAA;AAAA,EAEjC,EAAI,EAAA,OAAA;AAAA,EAEJ,MAAA,CAAO,MAAqB,EAAA,SAAA,EAAsB,EAClD,EAAA;AACI,IAAI,IAAA,CAAC,OAAO,OACZ,EAAA;AACI,MAAG,EAAA,CAAA,UAAA;AAAA,QACC,SAAU,CAAA,MAAA;AAAA,QACV,CAAA;AAAA,QACA,SAAU,CAAA,cAAA;AAAA,QACV,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,IAAA;AAAA,OACJ,CAAA;AAEA,MAAA,OAAA;AAAA,KACJ;AAEA,IAAsB,qBAAA,CAAA,MAAA,CAAO,MAAQ,EAAA,SAAA,EAAW,EAAE,CAAA,CAAA;AAAA,GACtD;AACJ;;AChCO,MAAM,mBAAsB,GAAA;AAAA,EAC/B,MAAQ,EAAA,IAAA;AAAA,EACR,OAAS,EAAA,IAAA;AACb,EAAA;AAEO,MAAM,yBAA4B,GAAA;AAAA,EACrC,MAAQ,EAAA;AAAA,IACJ,MAAQ,EAAA,IAAA;AAAA,IACR,OAAS,EAAA,IAAA;AAAA,GACb;AAAA,EACA,OAAS,EAAA;AAAA,IACL,MAAQ,EAAA,IAAA;AAAA,IACR,OAAS,EAAA,IAAA;AAAA,GACb;AACJ,EAAA;AAEO,MAAM,mBAAsB,GAAA;AAAA,EAC/B,eAAiB,EAAA,KAAA;AAAA,EACjB,MAAQ,EAAA,KAAA;AAAA,EACR,eAAiB,EAAA,KAAA;AACrB,EAAA;AAEO,MAAM,sBAAyB,GAAA;AAAA,EAClC,KAAO,EAAA,GAAA;AAAA,EACP,IAAM,EAAA,GAAA;AAAA,EACN,KAAO,EAAA,GAAA;AAAA,EACP,YAAc,EAAA,GAAA;AAAA,EACd,OAAS,EAAA,GAAA;AAAA,EACT,WAAa,EAAA,GAAA;AAAA,EACb,eAAiB,EAAA,GAAA;AAAA,EACjB,MAAQ,EAAA,GAAA;AACZ;;ACtBO,SAAS,iBACZ,KACA,EAAA,EAAA,EACA,OAEA,EAAA,cAAA,EACA,gBACA,UAEJ,EAAA;AACI,EAAA,MAAM,SAAY,GAAA,UAAA,CAAA;AAGlB,EAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,gBAAgB,mBAAoB,CAAA,KAAA,CAAM,YAAY,CAAC,CAAA,CAAA;AACxF,EAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,gBAAgB,mBAAoB,CAAA,KAAA,CAAM,YAAY,CAAC,CAAA,CAAA;AACxF,EAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,gBAAgB,mBAAoB,CAAA,KAAA,CAAM,YAAY,CAAC,CAAA,CAAA;AAGxF,EAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,oBAAoB,mBAAoB,CAAA,KAAA,CAAM,SAAS,CAAC,CAAA,CAAA;AAIzF,EAAA,IAAI,OACJ,EAAA;AACI,IAAA,MAAM,eAAe,yBAA0B,CAAA,KAAA,CAAM,SAAS,CAAA,CAAE,MAAM,YAAY,CAAA,CAAA;AAElF,IAAA,EAAA,CAAG,cAAc,CAAA,CAAE,SAAW,EAAA,EAAA,CAAG,oBAAoB,YAAY,CAAA,CAAA;AAAA,GAIrE,MAAA;AACI,IAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,oBAAoB,mBAAoB,CAAA,KAAA,CAAM,SAAS,CAAC,CAAA,CAAA;AAAA,GAC7F;AAGA,EAAI,IAAA,cAAA,IAAkB,KAAM,CAAA,aAAA,GAAgB,CAC5C,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,KAAK,GAAI,CAAA,KAAA,CAAM,eAAe,EAAG,CAAA,YAAA,CAAa,cAAe,CAAA,8BAA8B,CAAC,CAAA,CAAA;AAE1G,IAAA,EAAA,CAAG,cAAc,CAAA,CAAE,SAAW,EAAA,cAAA,CAAe,4BAA4B,KAAK,CAAA,CAAA;AAAA,GAClF;AAGA,EAAA,IAAI,MAAM,OACV,EAAA;AACI,IAAG,EAAA,CAAA,cAAc,EAAE,SAAW,EAAA,EAAA,CAAG,sBAAsB,sBAAuB,CAAA,KAAA,CAAM,OAAO,CAAC,CAAA,CAAA;AAAA,GAChG;AACJ;;AC/CO,SAAS,oBAAoB,EACpC,EAAA;AACI,EAAO,OAAA;AAAA;AAAA,IAEH,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,QAAQ,EAAG,CAAA,GAAA;AAAA,IACX,QAAQ,EAAG,CAAA,GAAA;AAAA;AAAA,IAGX,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,SAAY,EAAG,CAAA,GAAA;AAAA,IACf,UAAU,EAAG,CAAA,GAAA;AAAA,IACb,UAAW,EAAG,CAAA,EAAA;AAAA,IACd,UAAY,EAAG,CAAA,EAAA;AAAA,IACf,SAAU,EAAG,CAAA,EAAA;AAAA,IACb,SAAU,EAAG,CAAA,EAAA;AAAA;AAAA,IAGb,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,UAAU,EAAG,CAAA,GAAA;AAAA,IACb,UAAY,EAAG,CAAA,EAAA;AAAA,IACf,UAAW,EAAG,CAAA,EAAA;AAAA,IACd,WAAY,EAAG,CAAA,EAAA;AAAA,IACf,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,IAAA;AAAA;AAAA,IAGtB,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,WAAW,EAAG,CAAA,IAAA;AAAA,IACd,WAAW,EAAG,CAAA,IAAA;AAAA,IACd,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,IAAA;AAAA,IACtB,cAAc,EAAG,CAAA,GAAA;AAAA,IACjB,cAAc,EAAG,CAAA,IAAA;AAAA,IACjB,eAAe,EAAG,CAAA,GAAA;AAAA;AAAA,IAGlB,UAAU,EAAG,CAAA,EAAA;AAAA,IACb,UAAU,EAAG,CAAA,EAAA;AAAA,IACb,WAAY,EAAG,CAAA,EAAA;AAAA,IACf,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,aAAa,EAAG,CAAA,IAAA;AAAA;AAAA,IAGhB,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,aAAa,EAAG,CAAA,IAAA;AAAA;AAAA,IAGhB,UAAU,EAAG,CAAA,cAAA;AAAA,IACb,cAAc,EAAG,CAAA,eAAA;AAAA,IACjB,aAAa,EAAG,CAAA,eAAA;AAAA,IAChB,wBAAwB,EAAG,CAAA,aAAA;AAAA,IAC3B,cAAc,EAAG,CAAA,eAAA;AAAA,IACjB,yBAAyB,EAAG,CAAA,aAAA;AAAA,GAEhC,CAAA;AACJ;;AC5DO,SAAS,4BAA4B,EAC5C,EAAA;AACI,EAAO,OAAA;AAAA;AAAA,IAEH,SAAS,EAAG,CAAA,EAAA;AAAA,IACZ,SAAS,EAAG,CAAA,QAAA;AAAA,IACZ,QAAQ,EAAG,CAAA,IAAA;AAAA,IACX,QAAQ,EAAG,CAAA,GAAA;AAAA;AAAA,IAGX,SAAS,EAAG,CAAA,KAAA;AAAA,IACZ,SAAS,EAAG,CAAA,IAAA;AAAA,IACZ,UAAU,EAAG,CAAA,IAAA;AAAA,IACb,UAAU,EAAG,CAAA,GAAA;AAAA,IACb,UAAU,EAAG,CAAA,SAAA;AAAA,IACb,SAAS,EAAG,CAAA,KAAA;AAAA,IACZ,SAAS,EAAG,CAAA,IAAA;AAAA;AAAA,IAGZ,SAAS,EAAG,CAAA,KAAA;AAAA,IACZ,SAAS,EAAG,CAAA,IAAA;AAAA,IACZ,UAAU,EAAG,CAAA,IAAA;AAAA,IACb,UAAU,EAAG,CAAA,MAAA;AAAA,IACb,UAAU,EAAG,CAAA,KAAA;AAAA,IACb,WAAW,EAAG,CAAA,KAAA;AAAA,IACd,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,YAAA;AAAA;AAAA,IAGtB,YAAY,EAAG,CAAA,WAAA;AAAA,IACf,WAAW,EAAG,CAAA,OAAA;AAAA,IACd,WAAW,EAAG,CAAA,MAAA;AAAA,IACd,YAAY,EAAG,CAAA,KAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,YAAA;AAAA,IACtB,cAAc,EAAG,CAAA,OAAA;AAAA,IACjB,cAAc,EAAG,CAAA,QAAA;AAAA,IACjB,eAAe,EAAG,CAAA,cAAA;AAAA;AAAA,IAGlB,UAAU,EAAG,CAAA,MAAA;AAAA,IACb,UAAU,EAAG,CAAA,KAAA;AAAA,IACb,WAAW,EAAG,CAAA,KAAA;AAAA,IACd,YAAY,EAAG,CAAA,QAAA;AAAA,IACf,YAAY,EAAG,CAAA,OAAA;AAAA,IACf,aAAa,EAAG,CAAA,OAAA;AAAA;AAAA,IAGhB,YAAY,EAAG,CAAA,QAAA;AAAA,IACf,YAAY,EAAG,CAAA,OAAA;AAAA,IACf,aAAa,EAAG,CAAA,OAAA;AAAA;AAAA,IAGhB,UAAU,EAAG,CAAA,cAAA;AAAA,IACb,cAAc,EAAG,CAAA,iBAAA;AAAA,IACjB,aAAa,EAAG,CAAA,iBAAA;AAAA,IAChB,wBAAwB,EAAG,CAAA,gBAAA;AAAA,IAC3B,cAAc,EAAG,CAAA,kBAAA;AAAA,IACjB,yBAAyB,EAAG,CAAA,iBAAA;AAAA,GAEhC,CAAA;AACJ;;AC5DO,SAAS,kBAAkB,EAClC,EAAA;AACI,EAAO,OAAA;AAAA;AAAA,IAEH,SAAS,EAAG,CAAA,aAAA;AAAA,IACZ,SAAS,EAAG,CAAA,IAAA;AAAA,IACZ,QAAQ,EAAG,CAAA,aAAA;AAAA,IACX,QAAQ,EAAG,CAAA,IAAA;AAAA;AAAA,IAGX,SAAS,EAAG,CAAA,cAAA;AAAA,IACZ,SAAS,EAAG,CAAA,KAAA;AAAA,IACZ,UAAU,EAAG,CAAA,UAAA;AAAA,IACb,UAAU,EAAG,CAAA,aAAA;AAAA,IACb,UAAU,EAAG,CAAA,IAAA;AAAA,IACb,SAAS,EAAG,CAAA,aAAA;AAAA,IACZ,SAAS,EAAG,CAAA,IAAA;AAAA;AAAA,IAGZ,SAAS,EAAG,CAAA,YAAA;AAAA,IACZ,SAAS,EAAG,CAAA,GAAA;AAAA,IACZ,UAAU,EAAG,CAAA,KAAA;AAAA,IACb,UAAU,EAAG,CAAA,cAAA;AAAA,IACb,UAAU,EAAG,CAAA,KAAA;AAAA,IACb,WAAW,EAAG,CAAA,UAAA;AAAA,IACd,YAAY,EAAG,CAAA,aAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,aAAA;AAAA;AAAA,IAGtB,YAAY,EAAG,CAAA,IAAA;AAAA,IACf,WAAW,EAAG,CAAA,aAAA;AAAA,IACd,WAAW,EAAG,CAAA,IAAA;AAAA,IACd,YAAY,EAAG,CAAA,aAAA;AAAA,IACf,mBAAmB,EAAG,CAAA,aAAA;AAAA,IACtB,cAAc,EAAG,CAAA,wBAAA;AAAA,IACjB,cAAc,EAAG,CAAA,2BAAA;AAAA,IACjB,eAAe,EAAG,CAAA,4BAAA;AAAA;AAAA,IAGlB,UAAU,EAAG,CAAA,YAAA;AAAA,IACb,UAAU,EAAG,CAAA,GAAA;AAAA,IACb,WAAW,EAAG,CAAA,KAAA;AAAA,IACd,YAAY,EAAG,CAAA,cAAA;AAAA,IACf,YAAY,EAAG,CAAA,KAAA;AAAA,IACf,aAAa,EAAG,CAAA,UAAA;AAAA;AAAA,IAGhB,YAAY,EAAG,CAAA,YAAA;AAAA,IACf,YAAY,EAAG,CAAA,GAAA;AAAA,IACf,aAAa,EAAG,CAAA,KAAA;AAAA;AAAA,IAGhB,UAAU,EAAG,CAAA,aAAA;AAAA,IACb,cAAc,EAAG,CAAA,cAAA;AAAA,IACjB,aAAa,EAAG,CAAA,YAAA;AAAA,IAChB,wBAAwB,EAAG,CAAA,iBAAA;AAAA,IAC3B,cAAc,EAAG,CAAA,KAAA;AAAA,IACjB,yBAAyB,EAAG,CAAA,8BAAA;AAAA,GAEhC,CAAA;AACJ;;ACrEO,SAASgD,qBAAmB,MACnC,EAAA;AACI,EAAA,IAAI,kBAAkB,iBACtB,EAAA;AACI,IAAS,MAAA,GAAA,IAAI,UAAW,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AAAA,GACzC;AAEA,EAAA,MAAM,IAAI,MAAO,CAAA,MAAA,CAAA;AAEjB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,KAAK,CAC5B,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAE1B,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAA,MAAM,IAAI,OAAU,GAAA,KAAA,CAAA;AAEpB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,MAAO,CAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AAC9B,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAI,GAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AACtC,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAI,GAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AACJ;;ACGA,MAAM,SAAA,GAAY,IAAI,SAAU,EAAA,CAAA;AAChC,MAAM,eAAkB,GAAA,CAAA,CAAA;AAEjB,MAAM,eACb,CAAA;AAAA,EAmCI,YAAY,QACZ,EAAA;AA3BA,IAAA,IAAA,CAAgB,kBAAmC,EAAC,CAAA;AAIpD,IAAQ,IAAA,CAAA,WAAA,mBAAgD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACnE,IAAiB,IAAA,CAAA,WAAA,mBAAmD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAE/E,IAAA,IAAA,CAAQ,iBAAkC,EAAC,CAAA;AAC3C,IAAA,IAAA,CAAQ,sBAAyB,GAAA,CAAA,CAAA,CAAA;AAEjC,IAAiB,IAAA,CAAA,cAAA,mBAAsD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAElF,IAAA,IAAA,CAAiB,QAA8C,GAAA;AAAA,MAC3D,KAAO,EAAA,qBAAA;AAAA,MACP,MAAQ,EAAA,2BAAA;AAAA,MACR,KAAO,EAAA,qBAAA;AAAA,KACX,CAAA;AAQA;AAAA,IAAA,IAAA,CAAiB,oBAAuB,GAAA,KAAA,CAAA;AAIpC,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,EACxB,EAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,EAAA,CAAA;AAEX,IAAI,IAAA,CAAC,KAAK,0BACV,EAAA;AACI,MAAK,IAAA,CAAA,0BAAA,GAA6B,4BAA4B,EAAE,CAAA,CAAA;AAChE,MAAK,IAAA,CAAA,gBAAA,GAAmB,kBAAkB,EAAE,CAAA,CAAA;AAC5C,MAAK,IAAA,CAAA,kBAAA,GAAqB,oBAAoB,EAAE,CAAA,CAAA;AAAA,KACpD;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAAA,KAC9B;AAAA,GACJ;AAAA,EAEO,IAAA,CAAK,OAA0B,EAAA,QAAA,GAAW,CACjD,EAAA;AACI,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,IAAI,OACJ,EAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,QAAQ,QAAQ,CAAA,CAAA;AAEhC,MAAA,IAAI,KAAK,oBACT,EAAA;AACI,QAAK,IAAA,CAAA,YAAA,CAAa,MAAO,CAAA,KAAA,EAAO,QAAQ,CAAA,CAAA;AAAA,OAC5C;AAAA,KAGJ,MAAA;AACI,MAAK,IAAA,CAAA,UAAA,CAAW,MAAM,QAAQ,CAAA,CAAA;AAE9B,MAAA,IAAI,KAAK,oBACT,EAAA;AACI,QAAK,IAAA,CAAA,YAAA,CAAa,MAAM,QAAQ,CAAA,CAAA;AAAA,OACpC;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,UAAA,CAAW,MAAuB,EAAA,QAAA,GAAW,CACpD,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAO,MAAA,CAAA,OAAA,GAAU,IAAK,CAAA,SAAA,CAAU,SAAU,CAAA,KAAA,CAAA;AAE1C,IAAA,IAAI,IAAK,CAAA,cAAA,CAAe,QAAQ,CAAA,KAAM,MACtC,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,QAAQ,CAAI,GAAA,MAAA,CAAA;AAChC,MAAA,IAAA,CAAK,kBAAkB,QAAQ,CAAA,CAAA;AAE/B,MAAS,MAAA,GAAA,MAAA,IAAU,QAAQ,KAAM,CAAA,MAAA,CAAA;AAGjC,MAAM,MAAA,SAAA,GAAY,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAEzC,MAAA,EAAA,CAAG,WAAY,CAAA,SAAA,CAAU,MAAQ,EAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAAA,KACtD;AAAA,GACJ;AAAA,EAEQ,YAAA,CAAa,KAAqB,EAAA,QAAA,GAAW,CACrD,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,IAAI,CAAC,KACL,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,QAAQ,CAAI,GAAA,IAAA,CAAA;AAChC,MAAG,EAAA,CAAA,WAAA,CAAY,UAAU,IAAI,CAAA,CAAA;AAE7B,MAAA,OAAA;AAAA,KACJ;AAEA,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAExC,IAAA,IAAI,IAAK,CAAA,cAAA,CAAe,QAAQ,CAAA,KAAM,OACtC,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,QAAQ,CAAI,GAAA,OAAA,CAAA;AAChC,MAAG,EAAA,CAAA,WAAA,CAAY,UAAU,OAAO,CAAA,CAAA;AAAA,KACpC;AAAA,GACJ;AAAA,EAEO,OAAO,OACd,EAAA;AACI,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AACvB,IAAA,MAAM,gBAAgB,IAAK,CAAA,cAAA,CAAA;AAC3B,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,aAAA,CAAc,QAAQ,CAC1C,EAAA,EAAA;AACI,MAAI,IAAA,aAAA,CAAc,CAAC,CAAA,KAAM,MACzB,EAAA;AACI,QAAA,IAAA,CAAK,kBAAkB,CAAC,CAAA,CAAA;AAExB,QAAM,MAAA,SAAA,GAAY,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAEzC,QAAG,EAAA,CAAA,WAAA,CAAY,SAAU,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AACrC,QAAA,aAAA,CAAc,CAAC,CAAI,GAAA,IAAA,CAAA;AAAA,OACvB;AAAA,KACJ;AAAA,GACJ;AAAA,EAEQ,kBAAkB,QAC1B,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,2BAA2B,QACpC,EAAA;AACI,MAAA,IAAA,CAAK,sBAAyB,GAAA,QAAA,CAAA;AAC9B,MAAA,IAAA,CAAK,GAAI,CAAA,aAAA,CAAc,IAAK,CAAA,GAAA,CAAI,WAAW,QAAQ,CAAA,CAAA;AAAA,KACvD;AAAA,GACJ;AAAA,EAEQ,YAAY,MACpB,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,MAAM,SAAY,GAAA,IAAI,SAAU,CAAA,EAAA,CAAG,eAAe,CAAA,CAAA;AAElD,IAAA,SAAA,CAAU,IAAO,GAAA,IAAA,CAAK,gBAAiB,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AACpD,IAAA,SAAA,CAAU,cAAiB,GAAA,IAAA,CAAK,0BAA2B,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AACxE,IAAA,SAAA,CAAU,MAAS,GAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AAExD,IAAA,IAAI,OAAO,mBACX,EAAA;AACI,MAAA,MAAM,mBAAmB,IAAK,CAAA,GAAA,CAAI,MAAO,CAAA,KAAA,EAAO,OAAO,MAAM,CAAA,CAAA;AAE7D,MAAA,MAAA,CAAO,gBAAgB,IAAK,CAAA,KAAA,CAAM,KAAK,IAAK,CAAA,gBAAgB,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KACrE;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,SAAA,CAAA;AAE/B,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC7C,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC7C,IAAA,MAAA,CAAO,EAAG,CAAA,aAAA,EAAe,IAAK,CAAA,aAAA,EAAe,IAAI,CAAA,CAAA;AACjD,IAAA,MAAA,CAAO,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAC/C,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAE7C,IAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,MAAM,CAAA,CAAA;AAEhC,IAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,cAAc,MAAM,CAAA,CAAA;AAEzB,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA,EAEU,cAAc,MACxB,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE7C,IAAA,EAAA,CAAG,WAAY,CAAA,EAAA,CAAG,UAAY,EAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAE/C,IAAK,IAAA,CAAA,cAAA,CAAe,IAAK,CAAA,sBAAsB,CAAI,GAAA,MAAA,CAAA;AAEnD,IAAA,gBAAA;AAAA,MACI,MAAO,CAAA,KAAA;AAAA,MACP,EAAA;AAAA,MACA,OAAO,aAAgB,GAAA,CAAA;AAAA,MACvB,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,oBAAA;AAAA,MAClC,eAAA;AAAA,MACA,EAAG,CAAA,UAAA;AAAA,KACP,CAAA;AAAA,GACJ;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE7C,IAAA,IAAI,CAAC,SAAA;AAAW,MAAA,OAAA;AAEhB,IAAA,IAAA,CAAK,OAAO,MAAM,CAAA,CAAA;AAClB,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAE/B,IAAK,IAAA,CAAA,GAAA,CAAI,aAAc,CAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAAA,GAC5C;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAEzC,IAAA,EAAA,CAAG,WAAY,CAAA,EAAA,CAAG,UAAY,EAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAE/C,IAAK,IAAA,CAAA,cAAA,CAAe,IAAK,CAAA,sBAAsB,CAAI,GAAA,MAAA,CAAA;AAEnD,IAAA,IAAI,IAAK,CAAA,QAAA,CAAS,MAAO,CAAA,cAAc,CACvC,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,OAAO,cAAc,CAAA,CAAE,OAAO,MAAQ,EAAA,SAAA,EAAW,KAAK,GAAG,CAAA,CAAA;AAEvE,MAAA,IAAI,MAAO,CAAA,mBAAA,IAAuB,MAAO,CAAA,aAAA,GAAgB,CACzD,EAAA;AACI,QAAG,EAAA,CAAA,cAAA,CAAe,UAAU,MAAM,CAAA,CAAA;AAAA,OACtC;AAAA,KAGJ,MAAA;AAEI,MAAA,EAAA,CAAG,UAAW,CAAA,EAAA,CAAG,UAAY,EAAA,CAAA,EAAG,GAAG,IAAM,EAAA,MAAA,CAAO,UAAY,EAAA,MAAA,CAAO,aAAa,CAAG,EAAA,EAAA,CAAG,IAAM,EAAA,EAAA,CAAG,eAAe,IAAI,CAAA,CAAA;AAAA,KACtH;AAAA,GACJ;AAAA,EAEU,gBAAgB,MAC1B,EAAA;AACI,IAAA,MAAA,CAAO,GAAI,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAChD,IAAA,MAAA,CAAO,GAAI,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC9C,IAAA,MAAA,CAAO,GAAI,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAE9C,IAAA,IAAA,CAAK,gBAAgB,MAAO,CAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,MAAM,GAAG,CAAC,CAAA,CAAA;AAEnE,IAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAAA,GAC9B;AAAA,EAEQ,aAAa,KACrB,EAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,GAAA,CAAA;AAEhB,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,GAAA,CAAI,aAAc,EAAA,CAAA;AAEzC,IAAK,IAAA,CAAA,WAAA,CAAY,KAAM,CAAA,UAAU,CAAI,GAAA,SAAA,CAAA;AAErC,IAAA,gBAAA;AAAA,MACI,KAAA;AAAA,MACA,EAAA;AAAA,MACA,IAAK,CAAA,cAAA,CAAe,IAAK,CAAA,sBAAsB,EAAE,aAAgB,GAAA,CAAA;AAAA,MACjE,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,oBAAA;AAAA,MAClC,mBAAA;AAAA,MACA,SAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,IAAA,CAAK,WAAY,CAAA,KAAA,CAAM,UAAU,CAAA,CAAA;AAAA,GAC5C;AAAA,EAEQ,cAAc,OACtB,EAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,OAAA,CAAQ,UAAU,CAAK,IAAA,IAAA,CAAK,aAAa,OAAO,CAAA,CAAA;AAAA,GAC5E;AAAA,EAEO,YAAY,MACnB,EAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,IAAA,CAAK,YAAY,MAAM,CAAA,CAAA;AAAA,GAClE;AAAA,EAEO,eAAe,OACtB,EAAA;AACI,IAAA,MAAM,EAAE,MAAQ,EAAA,KAAA,EAAO,QAAW,GAAA,IAAA,CAAK,UAAU,OAAO,CAAA,CAAA;AAExD,IAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,IAAA,MAAA,CAAO,KAAQ,GAAA,KAAA,CAAA;AACf,IAAA,MAAA,CAAO,MAAS,GAAA,MAAA,CAAA;AAEhB,IAAM,MAAA,GAAA,GAAM,MAAO,CAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AAElC,IAAA,IAAI,GACJ,EAAA;AACI,MAAA,MAAM,SAAY,GAAA,GAAA,CAAI,eAAgB,CAAA,KAAA,EAAO,MAAM,CAAA,CAAA;AAEnD,MAAU,SAAA,CAAA,IAAA,CAAK,IAAI,MAAM,CAAA,CAAA;AACzB,MAAI,GAAA,CAAA,YAAA,CAAa,SAAW,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,KACpC;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,UAAU,OACjB,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,QAAQ,MAAO,CAAA,UAAA,CAAA;AAClC,IAAA,MAAM,KAAQ,GAAA,SAAA,CAAA;AAEd,IAAA,KAAA,CAAM,IAAI,OAAQ,CAAA,MAAA,CAAA;AAClB,IAAA,KAAA,CAAM,IAAI,OAAQ,CAAA,MAAA,CAAA;AAClB,IAAA,KAAA,CAAM,QAAQ,OAAQ,CAAA,UAAA,CAAA;AACtB,IAAA,KAAA,CAAM,SAAS,OAAQ,CAAA,WAAA,CAAA;AAEvB,IAAM,MAAA,KAAA,GAAQ,KAAK,GAAI,CAAA,IAAA,CAAK,MAAM,KAAM,CAAA,KAAA,GAAQ,UAAU,CAAA,EAAG,CAAC,CAAA,CAAA;AAC9D,IAAM,MAAA,MAAA,GAAS,KAAK,GAAI,CAAA,IAAA,CAAK,MAAM,KAAM,CAAA,MAAA,GAAS,UAAU,CAAA,EAAG,CAAC,CAAA,CAAA;AAChE,IAAA,MAAM,MAAS,GAAA,IAAI,UAAW,CAAA,eAAA,GAAkB,QAAQ,MAAM,CAAA,CAAA;AAE9D,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,MAAM,YAAe,GAAA,QAAA,CAAS,YAAa,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAA;AAClE,IAAA,MAAM,cAAiB,GAAA,QAAA,CAAS,YAAa,CAAA,kBAAA,CAAmB,YAAY,CAAA,CAAA;AAE5E,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,IAAA,EAAA,CAAG,eAAgB,CAAA,EAAA,CAAG,WAAa,EAAA,cAAA,CAAe,wBAAwB,CAAA,CAAA;AAE1E,IAAG,EAAA,CAAA,UAAA;AAAA,MACC,IAAK,CAAA,KAAA,CAAM,KAAM,CAAA,CAAA,GAAI,UAAU,CAAA;AAAA,MAC/B,IAAK,CAAA,KAAA,CAAM,KAAM,CAAA,CAAA,GAAI,UAAU,CAAA;AAAA,MAC/B,KAAA;AAAA,MACA,MAAA;AAAA,MACA,EAAG,CAAA,IAAA;AAAA,MACH,EAAG,CAAA,aAAA;AAAA,MACH,MAAA;AAAA,KACJ,CAAA;AAKA,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,kBAAA,CAAmB,MAAM,CAAA,CAAA;AAAA,KAC7B;AAEA,IAAO,OAAA,EAAE,QAAQ,IAAI,iBAAA,CAAkB,OAAO,MAAM,CAAA,EAAG,OAAO,MAAO,EAAA,CAAA;AAAA,GACzE;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AApWa,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA;;AClBG,MAAM,iBACb,CAAA;AAAA,EAWW,IACP,GAAA;AACI,IAAM,MAAA,QAAA,GAAW,IAAI,YAAa,CAAA;AAAA,MAC9B,MAAQ,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MACnE,kBAAkB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,KAChE,CAAA,CAAA;AAED,IAAA,MAAM,YAAY,0BAA2B,CAAA;AAAA,MACzC,IAAM,EAAA,UAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,UAAA;AAAA,QACA,0BAA0B,YAAY,CAAA;AAAA,QACtC,iBAAA;AAAA,QACA,gBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,MAAA,GAAS,IAAI,MAAO,CAAA;AAAA,MACrB,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,aAAe,EAAA,QAAA;AAAA,QACf,aAAe,EAAA,yBAAA;AAAA,OACnB;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,OAAA,CAAQ,cAA4B,UAC3C,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAChC,IAAM,MAAA,MAAA,GAAS,OAAQ,CAAA,YAAA,IAAgB,IAAK,CAAA,MAAA,CAAA;AAC5C,IAAA,MAAM,WAAW,YAAa,CAAA,QAAA,CAAA;AAC9B,IAAA,MAAM,gBAAgB,QAAS,CAAA,eAAA,CAAA;AAE/B,IAAM,MAAA;AAAA,MACF,QAAA;AAAA,MAAU,YAAA;AAAA,KACd,GAAI,aAAc,CAAA,oBAAA,CAAqB,OAAO,CAAA,CAAA;AAI9C,IAAS,QAAA,CAAA,MAAA,CAAO,KAAK,MAAM,CAAA,CAAA;AAC3B,IAAA,QAAA,CAAS,MAAO,CAAA,gBAAA,CAAiB,QAAS,CAAA,cAAA,CAAe,cAAc,gBAAgB,CAAA,CAAA;AAIvF,IAAA,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,QAAU,EAAA,MAAA,CAAO,SAAS,CAAA,CAAA;AAEjD,IAAA,MAAM,UAAU,YAAa,CAAA,YAAA,CAAA;AAE7B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,CAAa,iBAAiB,CAClD,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,QAAQ,CAAC,CAAA,CAAA;AAEvB,MAAA,IAAI,MAAM,IACV,EAAA;AACI,QAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAM,QAAS,CAAA,QAAA,CAAS,QAAQ,CACpD,EAAA,EAAA;AACI,UAAA,QAAA,CAAS,QAAQ,IAAK,CAAA,KAAA,CAAM,SAAS,QAAS,CAAA,CAAC,GAAG,CAAC,CAAA,CAAA;AAAA,SACvD;AAEA,QAAA,QAAA,CAAS,SAAS,IAAK,CAAA,eAAA,EAAiB,KAAM,CAAA,IAAA,EAAM,MAAM,KAAK,CAAA,CAAA;AAAA,OACnE;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,MAAA,CAAO,QAAQ,IAAI,CAAA,CAAA;AACxB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ,CAAA;AAAA;AAjFa,iBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,iBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA;;ACdG,MAAM,aACb,CAAA;AAAA,EAUW,IACP,GAAA;AACI,IAAA,MAAM,YAAY,0BAA2B,CAAA;AAAA,MACzC,IAAM,EAAA,MAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,iBAAA;AAAA,QACA,YAAA;AAAA,QACA,gBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,CAAA;AAAA,MACtB,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,QAAA,EAAU,QAAQ,KAAM,CAAA,MAAA;AAAA,OAC5B;AAAA,KACH,CAAA,CAAA;AAGD,IAAA,IAAA,CAAK,OAAQ,CAAA,WAAA,CAAY,gBAAkB,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAC/C,IAAA,IAAA,CAAK,OAAQ,CAAA,WAAA,CAAY,eAAiB,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GAClD;AAAA,EAEO,OAAA,CAAQ,UAAoB,UACnC,EAAA;AACI,IAAA,MAAM,WAAW,QAAS,CAAA,QAAA,CAAA;AAC1B,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAI,SAAiB,IAAK,CAAA,OAAA,CAAA;AAE1B,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAA,MAAA,GAAS,IAAK,CAAA,OAAA,CAAA;AAEd,MAAM,MAAA,MAAA,GAAS,KAAK,OAAQ,CAAA,MAAA,CAAA;AAE5B,MAAA,MAAA,CAAO,UAAU,QAAW,GAAA,MAAA,CAAA;AAC5B,MAAO,MAAA,CAAA,SAAA,CAAU,WAAW,MAAO,CAAA,KAAA,CAAA;AAAA,KACvC;AAEA,IAAA,MAAA,CAAO,MAAO,CAAA,CAAC,CAAI,GAAA,QAAA,CAAS,cAAe,CAAA,SAAA,CAAA;AAC3C,IAAO,MAAA,CAAA,MAAA,CAAO,CAAC,CAAA,GAAI,QAAS,CAAA,sBAAA,CAAA;AAE5B,IAAA,QAAA,CAAS,QAAQ,IAAK,CAAA;AAAA,MAClB,UAAU,IAAK,CAAA,SAAA;AAAA,MACf,MAAA;AAAA,MACA,OAAO,IAAK,CAAA,KAAA;AAAA,KACf,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AAlEa,aAAA,CAEK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,iBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,MAAA;AACV,CAAA;;ACfY,SAAA,mBAAA,CAAoB,YAAwB,QAC5D,EAAA;AACI,EAAA,MAAM,iBAAiB,UAAW,CAAA,cAAA,CAAA;AAClC,EAAA,MAAM,eAAe,cAAe,CAAA,YAAA,CAAA;AAEpC,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,iBAAiB,CACpD,EAAA,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,aAAa,CAAC,CAAA,CAAA;AAElC,IAAC,QAAS,CAAA,WAAA,CAAY,IAAyB,CAAA,CAA2B,QAAQ,WAAW,CAAA,CAAA;AAAA,GACjG;AACJ;;ACPO,MAAM,SACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,aAAA,CAAc,YAAwB,cAC7C,EAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAErD,IAAA,cAAA,CAAe,IAAI,UAAU,CAAA,CAAA;AAAA,GACjC;AAAA,EAEO,QAAQ,UACf,EAAA;AACI,IAAA,IAAI,CAAC,UAAW,CAAA,YAAA;AAAc,MAAA,OAAA;AAE9B,IAAK,IAAA,CAAA,SAAA,CAAU,eAAe,IAAK,CAAA;AAAA,MAC/B,cAAA,EAAgB,IAAK,CAAA,SAAA,CAAU,YAAa,CAAA,YAAA;AAAA,MAC5C,sBAAsB,UAAW,CAAA,cAAA;AAAA,MACjC,YAAY,UAAW,CAAA,UAAA;AAAA,KAE1B,CAAA,CAAA;AAED,IAAoB,mBAAA,CAAA,UAAA,EAAY,IAAK,CAAA,SAAA,CAAU,WAAW,CAAA,CAAA;AAE1D,IAAK,IAAA,CAAA,SAAA,CAAU,eAAe,GAAI,EAAA,CAAA;AAAA,GAGtC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AA/Ca,SAAA,CAEK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;ACfG,SAAS,kBAAmB,CAAA,WAAA,EAAyB,GAAoB,GAAA,EAChF,EAAA;AACI,EAAA,GAAA,CAAI,KAAK,WAAW,CAAA,CAAA;AAEpB,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,WAAY,CAAA,kBAAA,CAAmB,QAAQ,CAC3D,EAAA,EAAA;AACI,IAAA,kBAAA,CAAmB,WAAY,CAAA,kBAAA,CAAmB,CAAC,CAAA,EAAG,GAAG,CAAA,CAAA;AAAA,GAC7D;AAEA,EAAO,OAAA,GAAA,CAAA;AACX;;ACZgB,SAAA,YAAA,CAAa,MAAgB,EAAA,MAAA,EAAgB,KAC7D,EAAA;AACI,EAAM,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;AAC5B,EAAM,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;AAC3B,EAAA,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;AAEpB,EAAM,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;AAC5B,EAAM,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;AAC3B,EAAA,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;AAEpB,EAAM,MAAA,CAAA,GAAI,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,KAAA,CAAA;AAC5B,EAAM,MAAA,CAAA,GAAI,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,KAAA,CAAA;AAC5B,EAAM,MAAA,CAAA,GAAI,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,KAAA,CAAA;AAE5B,EAAQ,OAAA,CAAA,CAAA,IAAK,EAAO,KAAA,CAAA,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAClC;;ACbA,MAAM,WAAA,GAAc,YAAY,QAAY,IAAA,EAAA,CAAA,CAAA;AAE5B,SAAA,SAAA,CAAU,YAAoB,WAC9C,EAAA;AACI,EAAM,MAAA,UAAA,GAAA,CAAe,UAAc,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AACjD,EAAM,MAAA,WAAA,GAAA,CAAgB,WAAe,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAEnD,EAAM,MAAA,WAAA,GAAgB,aAAa,WAAe,GAAA,GAAA,CAAA;AAElD,EAAA,MAAM,gBAAgB,UAAa,GAAA,QAAA,CAAA;AACnC,EAAA,MAAM,iBAAiB,WAAc,GAAA,QAAA,CAAA;AAErC,EAAA,IAAI,cAAiB,GAAA,QAAA,CAAA;AAErB,EAAI,IAAA,aAAA,IAAiB,cAAkB,IAAA,EAAA,CAAA,KAAQ,WAC/C,EAAA;AAEI,IAAA,IAAI,kBAAkB,QACtB,EAAA;AACI,MAAiB,cAAA,GAAA,cAAA,CAAA;AAAA,KACrB,MAAA,IACS,mBAAmB,QAC5B,EAAA;AACI,MAAiB,cAAA,GAAA,aAAA,CAAA;AAAA,KAIrB,MAAA;AACI,MAAiB,cAAA,GAAA,YAAA,CAAa,aAAe,EAAA,cAAA,EAAgB,GAAG,CAAA,CAAA;AAAA,KACpE;AAAA,GACJ;AAEA,EAAA,OAAO,kBAAkB,WAAe,IAAA,EAAA,CAAA,CAAA;AAC5C,CAAA;AAEgB,SAAA,yBAAA,CAA0B,aAAuB,EAAA,UAAA,EAAoB,WACrF,EAAA;AACI,EAAM,MAAA,WAAA,GAAA,CAAgB,WAAe,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAEnD,EAAM,MAAA,WAAA,GAAgB,aAAa,WAAe,GAAA,GAAA,CAAA;AAGlD,EAAA,MAAM,kBAAkB,aAAgB,GAAA,GAAA,KAAS,OAAO,aAAgB,GAAA,KAAA,CAAA,IAAY,iBAAiB,EAAM,GAAA,GAAA,CAAA,CAAA;AAE3G,EAAA,MAAM,iBAAiB,WAAc,GAAA,QAAA,CAAA;AAErC,EAAA,IAAI,cAAiB,GAAA,QAAA,CAAA;AAErB,EAAI,IAAA,aAAA,IAAiB,cAAkB,IAAA,EAAA,CAAA,KAAQ,WAC/C,EAAA;AAEI,IAAA,IAAI,kBAAkB,QACtB,EAAA;AACI,MAAiB,cAAA,GAAA,cAAA,CAAA;AAAA,KACrB,MAAA,IACS,mBAAmB,QAC5B,EAAA;AACI,MAAiB,cAAA,GAAA,aAAA,CAAA;AAAA,KAIrB,MAAA;AACI,MAAiB,cAAA,GAAA,YAAA,CAAa,aAAe,EAAA,cAAA,EAAgB,GAAG,CAAA,CAAA;AAAA,KACpE;AAAA,GACJ;AAEA,EAAA,OAAO,kBAAkB,WAAe,IAAA,EAAA,CAAA,CAAA;AAC5C;;AC/DA,MAAM,aAAA,GAAgB,IAAI,SAAU,EAAA,CAAA;AAEpB,SAAA,0BAAA,CAA2B,UAAwB,EAAA,uBAAA,GAA0B,KAC7F,EAAA;AACI,EAAA,oBAAA,CAAqB,UAAU,CAAA,CAAA;AAE/B,EAAA,MAAM,mBAAmB,UAAW,CAAA,gBAAA,CAAA;AAEpC,EAAA,MAAM,aAAa,UAAW,CAAA,UAAA,CAAA;AAE9B,EAAW,UAAA,CAAA,UAAA,EAAA,CAAA;AAEX,EAAA,KAAA,MAAW,KAAK,gBAChB,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,iBAAiB,CAAC,CAAA,CAAA;AAE1C,IAAA,MAAM,OAAO,eAAgB,CAAA,IAAA,CAAA;AAC7B,IAAA,MAAM,QAAQ,eAAgB,CAAA,KAAA,CAAA;AAE9B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,MAAA,0BAAA,CAA2B,IAAK,CAAA,CAAC,CAAG,EAAA,UAAA,EAAY,CAAC,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,eAAA,CAAgB,KAAQ,GAAA,CAAA,CAAA;AAAA,GAC5B;AAEA,EAAA,IAAI,uBACJ,EAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,UAAW,CAAA,kBAAA,CAAmB,QAAQ,CAC1D,EAAA,EAAA;AACI,MAAA,0BAAA,CAA2B,UAAW,CAAA,kBAAA,CAAmB,CAAC,CAAA,EAAG,uBAAuB,CAAA,CAAA;AAAA,KACxF;AAAA,GACJ;AACJ,CAAA;AAEO,SAAS,qBAAqB,UACrC,EAAA;AACI,EAAA,IAAI,WAAW,gBACf,EAAA;AACI,IAAA,UAAA,CAAW,cAAe,CAAA,UAAA;AAAA,MACtB,WAAW,IAAK,CAAA,cAAA;AAAA,MAChB,WAAW,gBAAiB,CAAA,cAAA;AAAA,KAChC,CAAA;AAEA,IAAA,UAAA,CAAW,UAAa,GAAA,SAAA;AAAA,MACpB,WAAW,IAAK,CAAA,UAAA;AAAA,MAChB,WAAW,gBAAiB,CAAA,UAAA;AAAA,KAChC,CAAA;AAAA,GAGJ,MAAA;AACI,IAAA,UAAA,CAAW,cAAe,CAAA,QAAA,CAAS,UAAW,CAAA,IAAA,CAAK,cAAc,CAAA,CAAA;AACjE,IAAW,UAAA,CAAA,UAAA,GAAa,WAAW,IAAK,CAAA,UAAA,CAAA;AAAA,GAC5C;AACJ,CAAA;AAEgB,SAAA,0BAAA,CAA2B,SAAsB,EAAA,UAAA,EAAoB,WACrF,EAAA;AACI,EAAA,IAAI,eAAe,SAAU,CAAA,UAAA;AAAY,IAAA,OAAA;AACzC,EAAA,SAAA,CAAU,UAAa,GAAA,UAAA,CAAA;AAEvB,EAAA,SAAA,CAAU,SAAY,GAAA,KAAA,CAAA;AAEtB,EAAA,MAAM,iBAAiB,SAAU,CAAA,cAAA,CAAA;AAEjC,EAAA,oBAAA,CAAqB,gBAAgB,SAAS,CAAA,CAAA;AAE9C,EAAA,MAAM,SAAS,SAAU,CAAA,MAAA,CAAA;AAEzB,EAAI,IAAA,MAAA,IAAU,CAAC,MAAA,CAAO,WACtB,EAAA;AACI,IAAA,WAAA,GAAc,cAAc,SAAU,CAAA,YAAA,CAAA;AAEtC,IAAA,SAAA,CAAU,cAAe,CAAA,UAAA;AAAA,MACrB,cAAA;AAAA,MACA,MAAO,CAAA,cAAA;AAAA,KACX,CAAA;AAEA,IAAA,IAAI,WACJ,EAAA;AACI,MAA2B,0BAAA,CAAA,SAAA,EAAW,QAAQ,WAAW,CAAA,CAAA;AAAA,KAC7D;AAAA,GAGJ,MAAA;AACI,IAAA,WAAA,GAAc,SAAU,CAAA,YAAA,CAAA;AAExB,IAAU,SAAA,CAAA,cAAA,CAAe,SAAS,cAAc,CAAA,CAAA;AAEhD,IAAA,IAAI,WACJ,EAAA;AACI,MAA2B,0BAAA,CAAA,SAAA,EAAW,eAAe,WAAW,CAAA,CAAA;AAAA,KACpE;AAAA,GACJ;AAGA,EAAI,IAAA,CAAC,UAAU,WACf,EAAA;AACI,IAAA,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;AAC3B,IAAA,MAAM,SAAS,QAAS,CAAA,MAAA,CAAA;AAExB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,EAAQ,CAC5B,EAAA,EAAA;AACI,MAAA,0BAAA,CAA2B,QAAS,CAAA,CAAC,CAAG,EAAA,UAAA,EAAY,WAAW,CAAA,CAAA;AAAA,KACnE;AAEA,IAAA,MAAM,aAAa,SAAU,CAAA,UAAA,CAAA;AAE7B,IAAA,IAAI,SAAU,CAAA,IAAA,IAAQ,CAAC,UAAA,CAAW,kBAClC,EAAA;AACI,MAAA,UAAA,CAAW,iBAAiB,SAAS,CAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AACJ,CAAA;AAEA,SAAS,0BAAA,CACL,SACA,EAAA,MAAA,EACA,WAEJ,EAAA;AACI,EAAA,IAAI,cAAc,YAClB,EAAA;AACI,IAAA,SAAA,CAAU,UAAa,GAAA,SAAA,CAAU,SAAU,CAAA,UAAA,EAAY,OAAO,UAAU,CAAA,CAAA;AAAA,GAC5E;AAEA,EAAA,IAAI,cAAc,YAClB,EAAA;AACI,IAAA,SAAA,CAAU,iBAAiB,SAAU,CAAA,cAAA,KAAmB,SAAY,GAAA,MAAA,CAAO,iBAAiB,SAAU,CAAA,cAAA,CAAA;AAAA,GAC1G;AAEA,EAAA,IAAI,cAAc,cAClB,EAAA;AACI,IAAU,SAAA,CAAA,sBAAA,GAAyB,SAAU,CAAA,sBAAA,GAAyB,MAAO,CAAA,sBAAA,CAAA;AAAA,GACjF;AAEA,EAAA,SAAA,CAAU,YAAe,GAAA,CAAA,CAAA;AAC7B;;AC5IgB,SAAA,mBAAA,CAAoB,YAAwB,WAC5D,EAAA;AACI,EAAA,MAAM,EAAE,IAAA,EAAM,KAAM,EAAA,GAAI,UAAW,CAAA,2BAAA,CAAA;AAEnC,EAAA,IAAI,eAAkB,GAAA,KAAA,CAAA;AAEtB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,KAAK,CAAC,CAAA,CAAA;AAExB,IAAA,MAAM,aAAa,SAAU,CAAA,IAAA,CAAA;AAC7B,IAAM,MAAA,IAAA,GAAO,WAAY,CAAA,UAAA,CAAW,YAAiC,CAAA,CAAA;AAErE,IAAkB,eAAA,GAAA,IAAA,CAAK,mBAAmB,SAAS,CAAA,CAAA;AAEnD,IAAA,IAAI,eACJ,EAAA;AACI,MAAA,MAAA;AAAA,KACJ;AAAA,GACJ;AAEA,EAAA,UAAA,CAAW,kBAAqB,GAAA,eAAA,CAAA;AAEhC,EAAA,IAAI,eACJ,EAAA;AACI,IAAA,UAAA,CAAW,4BAA4B,KAAQ,GAAA,CAAA,CAAA;AAAA,GACnD;AAEA,EAAO,OAAA,eAAA,CAAA;AACX;;ACbO,MAAM,WACb,CAAA;AAAA,EAaI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,MAAO,CAAA,EAAE,SAAW,EAAA,SAAA,EAC9B,EAAA;AACI,IAAA,SAAA,CAAU,KAAQ,GAAA,IAAA,CAAA;AAElB,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAGtB,IAAA,MAAM,WAAc,GAAA,kBAAA,CAAmB,SAAU,CAAA,UAAA,EAAY,EAAE,CAAA,CAAA;AAE/D,IAAA,MAAM,cAAe,QAA4B,CAAA,WAAA,CAAA;AAEjD,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CACxC,EAAA,EAAA;AACI,MAAM,MAAA,UAAA,GAAa,YAAY,CAAC,CAAA,CAAA;AAEhC,MAAA,UAAA,CAAW,WAAY,EAAA,CAAA;AAEvB,MAAA,UAAA,CAAW,eAAe,WAAc,GAAA,WAAA,CAAA;AAExC,MAAI,IAAA,CAAC,WAAW,kBAChB,EAAA;AAEI,QAAA,mBAAA,CAAoB,YAAY,WAAW,CAAA,CAAA;AAAA,OAC/C;AAIA,MAAA,0BAAA,CAA2B,UAAU,CAAA,CAAA;AAErC,MAAA,IAAI,WAAW,kBACf,EAAA;AACI,QAAA,UAAA,CAAW,kBAAqB,GAAA,KAAA,CAAA;AAGhC,QAAA,iBAAA,CAAkB,YAAY,WAAW,CAAA,CAAA;AAAA,OAG7C,MAAA;AAEI,QAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAAA,OAChC;AAGA,MAAA,QAAA,CAAS,WAAY,CAAA,KAAA,CAAM,MAAO,CAAA,UAAA,CAAW,cAAc,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,IAAI,SACJ,EAAA;AACI,MAAU,SAAA,CAAA,UAAA,CAAW,cAAe,CAAA,QAAA,CAAS,SAAS,CAAA,CAAA;AAAA,KAC1D;AAEA,IAAA,QAAA,CAAS,cAAe,CAAA,KAAA;AAAA,MACpB;AAAA,QACI,cAAA,EAAgB,SAAS,YAAa,CAAA,gBAAA;AAAA,QACtC,oBAAA,EAAsB,UAAU,UAAW,CAAA,cAAA;AAAA,OAC/C;AAAA,KACJ,CAAA;AAEA,IAAoB,mBAAA,CAAA,SAAA,CAAU,YAAY,WAAW,CAAA,CAAA;AAGrD,IAAA,IAAI,YAAY,YAChB,EAAA;AACI,MAAA,WAAA,CAAY,aAAa,SAAU,EAAA,CAAA;AACnC,MAAA,WAAA,CAAY,cAAc,SAAU,EAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AA7Fa,WAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA,CAAA;AAqFJ,SAAS,kBAAkB,UAC3B,EAAA;AACI,EAAA,MAAM,EAAE,IAAA,EAAM,KAAM,EAAA,GAAI,UAAW,CAAA,2BAAA,CAAA;AAEnC,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,KAAK,CAAC,CAAA,CAAA;AAExB,IAAA,IAAI,UAAU,aACd,EAAA;AACI,MAAA,UAAA,CAAW,iBAAiB,SAAS,CAAA,CAAA;AAAA,KACzC;AAAA,GACJ;AAEA,EAAA,UAAA,CAAW,4BAA4B,KAAQ,GAAA,CAAA,CAAA;AACnD;;AChIgB,SAAA,QAAA,CACZ,UACA,cACA,EAAA,cAAA,EAEA,KACA,SACA,EAAA,SAAA,EAEA,IACA,EAAA,MAAA,GAAiB,IAErB,EAAA;AACI,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,EAAkB,cAAA,IAAA,cAAA,CAAA;AAClB,EAAa,SAAA,IAAA,SAAA,CAAA;AAEb,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,EAAA,OAAO,QAAQ,IACf,EAAA;AACI,IAAM,MAAA,CAAA,GAAI,SAAS,cAAc,CAAA,CAAA;AACjC,IAAM,MAAA,CAAA,GAAI,QAAS,CAAA,cAAA,GAAiB,CAAC,CAAA,CAAA;AAErC,IAAA,GAAA,CAAI,SAAS,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AACrC,IAAA,GAAA,CAAI,YAAY,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAEzC,IAAa,SAAA,IAAA,SAAA,CAAA;AAEb,IAAkB,cAAA,IAAA,cAAA,CAAA;AAElB,IAAA,KAAA,EAAA,CAAA;AAAA,GACJ;AACJ,CAAA;AAEO,SAAS,cACZ,CAAA,GAAA,EACA,SACA,EAAA,SAAA,EACA,IAEJ,EAAA;AACI,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,EAAa,SAAA,IAAA,SAAA,CAAA;AAEb,EAAA,OAAO,QAAQ,IACf,EAAA;AACI,IAAA,GAAA,CAAI,SAAS,CAAI,GAAA,CAAA,CAAA;AACjB,IAAI,GAAA,CAAA,SAAA,GAAY,CAAC,CAAI,GAAA,CAAA,CAAA;AAErB,IAAa,SAAA,IAAA,SAAA,CAAA;AAEb,IAAA,KAAA,EAAA,CAAA;AAAA,GACJ;AACJ;;AC7DO,SAAS,iBAAkB,CAAA,QAAA,EAAoB,CAAW,EAAA,MAAA,EAAiB,QAAiB,IACnG,EAAA;AACI,EAAA,MAAM,IAAI,CAAE,CAAA,CAAA,CAAA;AACZ,EAAA,MAAM,IAAI,CAAE,CAAA,CAAA,CAAA;AACZ,EAAA,MAAM,IAAI,CAAE,CAAA,CAAA,CAAA;AACZ,EAAA,MAAM,IAAI,CAAE,CAAA,CAAA,CAAA;AACZ,EAAA,MAAM,KAAK,CAAE,CAAA,EAAA,CAAA;AACb,EAAA,MAAM,KAAK,CAAE,CAAA,EAAA,CAAA;AAEb,EAAA,MAAA,GAAS,MAAU,IAAA,CAAA,CAAA;AACnB,EAAA,MAAA,GAAS,MAAU,IAAA,CAAA,CAAA;AACnB,EAAO,IAAA,GAAA,IAAA,IAAS,QAAS,CAAA,MAAA,GAAS,MAAU,GAAA,MAAA,CAAA;AAE5C,EAAA,IAAI,QAAQ,MAAS,GAAA,MAAA,CAAA;AAErB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,EAAM,CAC1B,EAAA,EAAA;AACI,IAAM,MAAA,CAAA,GAAI,SAAS,KAAK,CAAA,CAAA;AACxB,IAAM,MAAA,CAAA,GAAI,QAAS,CAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAE5B,IAAA,QAAA,CAAS,KAAK,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AACtC,IAAA,QAAA,CAAS,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAE1C,IAAS,KAAA,IAAA,MAAA,CAAA;AAAA,GACb;AACJ;;ACpBO,MAAM,iBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAMH,IAAA,IAAA,CAAO,OAAmB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAO,KAAe,GAAA,IAAA,CAAA;AAQtB,IAAA,IAAA,CAAO,cAAiB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAI5B,IAAI,SACJ,GAAA;AACI,IAAA,IAAI,KAAK,cACT,EAAA;AACI,MAAA,OAAO,KAAK,UAAW,CAAA,cAAA,CAAA;AAAA,KAC3B;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAA,CAAU,WAA0B,EAAA,KAAA,EAAe,aAC1D,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,KAAK,YAAa,CAAA,OAAA,CAAA;AAElC,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,WAAW,CACpC,EAAA,EAAA;AACI,MAAY,WAAA,CAAA,KAAA,EAAO,IAAI,OAAQ,CAAA,CAAA,GAAI,KAAK,WAAW,CAAA,GAAI,gBAAgB,IAAK,CAAA,YAAA,CAAA;AAAA,KAChF;AAAA,GACJ;AAAA,EAEO,cACH,CAAA,WAAA,EACA,UACA,EAAA,KAAA,EACA,SAEJ,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,YAAA,CAAA;AACtB,IAAA,MAAM,WAAW,IAAK,CAAA,UAAA,CAAA;AAEtB,IAAA,MAAM,YAAY,QAAS,CAAA,QAAA,CAAA;AAC3B,IAAA,MAAM,MAAM,QAAS,CAAA,GAAA,CAAA;AAErB,IAAM,MAAA,MAAA,GAAS,KAAK,YAAe,GAAA,CAAA,CAAA;AACnC,IAAA,MAAM,QAAY,GAAA,CAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,UAAc,IAAA,CAAA,CAAA;AAEzD,IAAA,MAAM,MAAM,IAAK,CAAA,KAAA,CAAA;AACjB,IAAA,MAAM,MAAO,GAAO,IAAA,EAAA,GAAO,GAAM,GAAA,KAAA,GAAA,CAAY,MAAM,GAAS,KAAA,EAAA,CAAA;AAE5D,IAAA,IAAI,KAAK,cACT,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,UAAU,GAAQ,IAAA,IAAA,CAAK,QAAQ,GAAQ,IAAA,EAAA,CAAA,EAAK,SAAS,UAAU,CAAA,CAAA;AAE5E,MAAA,MAAM,KAAK,QAAS,CAAA,cAAA,CAAA;AACpB,MAAA,MAAM,iBAAqB,GAAA,SAAA,IAAa,EAAO,GAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAElE,MAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,MAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,MAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,MAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,MAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AACd,MAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AAEd,MAAA,KAAA,IAAS,CAAI,GAAA,MAAA,EAAQ,CAAI,GAAA,QAAA,EAAU,KAAK,CACxC,EAAA;AACI,QAAM,MAAA,CAAA,GAAI,UAAU,CAAC,CAAA,CAAA;AACrB,QAAM,MAAA,CAAA,GAAI,SAAU,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEzB,QAAA,WAAA,CAAY,KAAK,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AACzC,QAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAE7C,QAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,CAAC,CAAA,CAAA;AAC9B,QAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,IAAI,CAAC,CAAA,CAAA;AAElC,QAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,IAAA,CAAA;AACxB,QAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,iBAAA,CAAA;AAExB,QAAS,KAAA,IAAA,CAAA,CAAA;AAAA,OACb;AAAA,KAGJ,MAAA;AACI,MAAA,MAAM,IAAO,GAAA,GAAA,IAAQ,IAAK,CAAA,KAAA,GAAQ,GAAQ,IAAA,EAAA,CAAA,CAAA;AAE1C,MAAA,KAAA,IAAS,CAAI,GAAA,MAAA,EAAQ,CAAI,GAAA,QAAA,EAAU,KAAK,CACxC,EAAA;AACI,QAAY,WAAA,CAAA,KAAK,CAAI,GAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAChC,QAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,SAAA,CAAU,IAAI,CAAC,CAAA,CAAA;AAExC,QAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,CAAC,CAAA,CAAA;AAC9B,QAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,IAAI,CAAC,CAAA,CAAA;AAElC,QAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,IAAA,CAAA;AACxB,QAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,SAAA,CAAA;AAExB,QAAS,KAAA,IAAA,CAAA,CAAA;AAAA,OACb;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA,EAGA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAChB;AAAA,EAEO,OAAO,SACd,EAAA;AACI,IAAA,SAAA,CAAU,cAAc,IAAK,CAAA,WAAA,CAAA;AAC7B,IAAA,SAAA,CAAU,YAAY,IAAK,CAAA,SAAA,CAAA;AAE3B,IAAA,SAAA,CAAU,eAAe,IAAK,CAAA,YAAA,CAAA;AAC9B,IAAA,SAAA,CAAU,aAAa,IAAK,CAAA,UAAA,CAAA;AAE5B,IAAA,SAAA,CAAU,QAAQ,IAAK,CAAA,KAAA,CAAA;AACvB,IAAA,SAAA,CAAU,QAAQ,IAAK,CAAA,KAAA,CAAA;AAEvB,IAAA,SAAA,CAAU,UAAU,IAAK,CAAA,OAAA,CAAA;AACzB,IAAA,SAAA,CAAU,eAAe,IAAK,CAAA,YAAA,CAAA;AAAA,GAClC;AACJ;;AC3HO,MAAM,WAA+C,GAAA;AAAA,EAExD,KAAA,CAAM,OAAqB,MAC3B,EAAA;AACI,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,CAAA,CAAA;AACJ,IAAI,IAAA,EAAA,CAAA;AACJ,IAAI,IAAA,EAAA,CAAA;AAEJ,IAAI,IAAA,EAAA,CAAA;AACJ,IAAI,IAAA,EAAA,CAAA;AAEJ,IAAI,IAAA,KAAA,CAAM,SAAS,QACnB,EAAA;AACI,MAAA,MAAM,MAAS,GAAA,KAAA,CAAA;AAEf,MAAA,CAAA,GAAI,MAAO,CAAA,CAAA,CAAA;AACX,MAAA,CAAA,GAAI,MAAO,CAAA,CAAA,CAAA;AACX,MAAA,EAAA,GAAK,KAAK,MAAO,CAAA,MAAA,CAAA;AACjB,MAAA,EAAA,GAAK,EAAK,GAAA,CAAA,CAAA;AAAA,KACd,MAAA,IAES,KAAM,CAAA,IAAA,KAAS,SACxB,EAAA;AACI,MAAA,MAAM,OAAU,GAAA,KAAA,CAAA;AAEhB,MAAA,CAAA,GAAI,OAAQ,CAAA,CAAA,CAAA;AACZ,MAAA,CAAA,GAAI,OAAQ,CAAA,CAAA,CAAA;AACZ,MAAA,EAAA,GAAK,OAAQ,CAAA,SAAA,CAAA;AACb,MAAA,EAAA,GAAK,OAAQ,CAAA,UAAA,CAAA;AACb,MAAA,EAAA,GAAK,EAAK,GAAA,CAAA,CAAA;AAAA,KAGd,MAAA;AACI,MAAA,MAAM,WAAc,GAAA,KAAA,CAAA;AACpB,MAAM,MAAA,SAAA,GAAY,YAAY,KAAQ,GAAA,CAAA,CAAA;AACtC,MAAM,MAAA,UAAA,GAAa,YAAY,MAAS,GAAA,CAAA,CAAA;AAExC,MAAA,CAAA,GAAI,YAAY,CAAI,GAAA,SAAA,CAAA;AACpB,MAAA,CAAA,GAAI,YAAY,CAAI,GAAA,UAAA,CAAA;AACpB,MAAA,EAAA,GAAK,EAAK,GAAA,IAAA,CAAK,GAAI,CAAA,CAAA,EAAG,IAAK,CAAA,GAAA,CAAI,WAAY,CAAA,MAAA,EAAQ,IAAK,CAAA,GAAA,CAAI,SAAW,EAAA,UAAU,CAAC,CAAC,CAAA,CAAA;AACnF,MAAA,EAAA,GAAK,SAAY,GAAA,EAAA,CAAA;AACjB,MAAA,EAAA,GAAK,UAAa,GAAA,EAAA,CAAA;AAAA,KACtB;AAEA,IAAI,IAAA,EAAE,MAAM,CAAK,IAAA,EAAA,IAAM,KAAK,EAAM,IAAA,CAAA,IAAK,MAAM,CAC7C,CAAA,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAGA,IAAM,MAAA,CAAA,GAAI,KAAK,IAAK,CAAA,GAAA,GAAM,KAAK,IAAK,CAAA,EAAA,GAAK,EAAE,CAAC,CAAA,CAAA;AAC5C,IAAA,MAAM,IAAK,CAAI,GAAA,CAAA,IAAM,KAAK,CAAI,GAAA,CAAA,CAAA,IAAM,KAAK,CAAI,GAAA,CAAA,CAAA,CAAA;AAE7C,IAAA,IAAI,MAAM,CACV,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAI,MAAM,CACV,EAAA;AACI,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,IAAI,CAAI,GAAA,EAAA,CAAA;AAC5B,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,IAAI,CAAI,GAAA,EAAA,CAAA;AAC5B,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,IAAI,CAAI,GAAA,EAAA,CAAA;AAC5B,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,IAAI,CAAI,GAAA,EAAA,CAAA;AAE5B,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AACT,IAAA,IAAI,EAAM,GAAA,CAAA,GAAI,CAAM,IAAA,EAAA,GAAK,IAAI,CAAK,CAAA,GAAA,CAAA,CAAA;AAClC,IAAA,IAAI,EAAK,GAAA,EAAA,CAAA;AACT,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAET,IAAA,IAAI,KAAK,EAAK,GAAA,EAAA,CAAA;AACd,IAAA,IAAI,EAAK,GAAA,EAAA,CAAA;AACT,IAAA,IAAI,KAAK,CAAI,GAAA,EAAA,CAAA;AACb,IAAA,IAAI,KAAK,CAAI,GAAA,EAAA,CAAA;AACb,IAAA,IAAI,KAAK,CAAI,GAAA,EAAA,CAAA;AAEb,IAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,IAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,IAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AACf,IAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AAEf,IAAA,IAAI,EACJ,EAAA;AACI,MAAA,MAAMC,MAAK,CAAI,GAAA,EAAA,CAAA;AAEf,MAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,MAAA,MAAA,CAAO,IAAI,CAAIA,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAIA,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AAAA,KACnB;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,CACvB,EAAA,EAAA;AACI,MAAA,MAAM,CAAI,GAAA,IAAA,CAAK,EAAK,GAAA,CAAA,IAAK,CAAI,GAAA,CAAA,CAAA,CAAA;AAC7B,MAAA,MAAMtD,GAAK,GAAA,EAAA,GAAM,IAAK,CAAA,GAAA,CAAI,CAAC,CAAI,GAAA,EAAA,CAAA;AAC/B,MAAA,MAAME,GAAK,GAAA,EAAA,GAAM,IAAK,CAAA,GAAA,CAAI,CAAC,CAAI,GAAA,EAAA,CAAA;AAC/B,MAAA,MAAMD,MAAK,CAAID,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAMuD,MAAK,CAAIvD,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAMG,MAAK,CAAID,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAMoD,MAAK,CAAIpD,GAAAA,GAAAA,CAAAA;AAEf,MAAA,MAAA,CAAO,IAAI,CAAID,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAA,CAAO,IAAI,CAAIE,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAIA,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAIoD,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAA,CAAO,IAAI,CAAIA,GAAAA,GAAAA,CAAAA;AACf,MAAA,MAAA,CAAO,IAAI,CAAID,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAIA,GAAAA,GAAAA,CAAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAIrD,GAAAA,GAAAA,CAAAA;AAAA,KACnB;AAEA,IAAK,EAAA,GAAA,EAAA,CAAA;AACL,IAAA,EAAA,GAAK,EAAK,GAAA,EAAA,CAAA;AACV,IAAA,EAAA,GAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,EAAA,GAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,EAAA,GAAK,CAAI,GAAA,EAAA,CAAA;AACT,IAAA,MAAM,KAAK,CAAI,GAAA,EAAA,CAAA;AAEf,IAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,IAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,IAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AACf,IAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AAEf,IAAA,IAAI,EACJ,EAAA;AACI,MAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,MAAA,MAAA,CAAO,IAAI,CAAI,GAAA,EAAA,CAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AACf,MAAO,MAAA,CAAA,EAAE,EAAE,CAAI,GAAA,EAAA,CAAA;AAAA,KACnB;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEA,YACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,SACA,aACJ,EAAA;AACI,IAAI,IAAA,MAAA,CAAO,WAAW,CACtB,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AACR,IAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AAER,IAAM,MAAA,GAAA,GAAM,OAAO,MAAS,GAAA,CAAA,CAAA;AAE5B,IAAA,CAAA,IAAK,OAAO,CAAC,CAAA,CAAA;AACb,IAAA,CAAA,IAAK,OAAO,CAAC,CAAA,CAAA;AAEb,IAAK,CAAA,IAAA,MAAA,CAAO,MAAM,CAAC,CAAA,CAAA;AACnB,IAAK,CAAA,IAAA,MAAA,CAAA,CAAQ,GAAM,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AAEzB,IAAK,CAAA,IAAA,MAAA,CAAQ,GAAM,GAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AACzB,IAAA,CAAA,IAAK,MAAS,CAAA,CAAA,GAAA,GAAM,CAAK,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AAE/B,IAAK,CAAA,IAAA,MAAA,CAAQ,GAAM,GAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AACzB,IAAA,CAAA,IAAK,MAAS,CAAA,CAAA,GAAA,GAAM,CAAK,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AAE/B,IAAK,CAAA,IAAA,CAAA,CAAA;AACL,IAAK,CAAA,IAAA,CAAA,CAAA;AAEL,IAAA,IAAI,KAAQ,GAAA,cAAA,CAAA;AAEZ,IAAS,QAAA,CAAA,KAAA,GAAQ,cAAc,CAAI,GAAA,CAAA,CAAA;AACnC,IAAU,QAAA,CAAA,KAAA,GAAQ,cAAkB,GAAA,CAAC,CAAI,GAAA,CAAA,CAAA;AAEzC,IAAA,KAAA,EAAA,CAAA;AACA,IAAA,MAAM,MAAS,GAAA,cAAA,CAAA;AAEf,IAAA,QAAA,CAAS,KAAQ,GAAA,cAAc,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAU,KAAQ,GAAA,cAAA,GAAkB,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAEjD,IAAA,KAAA,EAAA,CAAA;AAEA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,MAAA,EAAQ,KAAK,CACxC,EAAA;AACI,MAAA,QAAA,CAAS,KAAQ,GAAA,cAAc,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,MAAA,QAAA,CAAU,QAAQ,cAAkB,GAAA,CAAC,CAAI,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,CAAA;AAGrD,MAAA,OAAA,CAAQ,eAAe,CAAI,GAAA,KAAA,CAAA;AAC3B,MAAA,OAAA,CAAQ,eAAe,CAAI,GAAA,MAAA,CAAA;AAC3B,MAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEnC,MAAA,KAAA,EAAA,CAAA;AAAA,KACJ;AAEA,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,KAAQ,GAAA,CAAA,CAAA;AACnC,IAAA,OAAA,CAAQ,eAAe,CAAI,GAAA,MAAA,CAAA;AAC3B,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,MAAS,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ;;ACtNO,MAAM,aAAgB,GAAA,KAAA;AACtB,MAAM,QAAW,GAAA;;ACJjB,SAAS,uBAAuB,MACvC,EAAA;AACI,EAAA,MAAM,IAAI,MAAO,CAAA,MAAA,CAAA;AAEjB,EAAA,IAAI,IAAI,CACR,EAAA;AACI,IAAO,OAAA,CAAA,CAAA;AAAA,GACX;AAEA,EAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,EAAK,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,EAAG,EAAK,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,KAAK,CACpE,EAAA;AACI,IAAM,MAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACnB,IAAM,MAAA,EAAA,GAAK,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEvB,IAAS,IAAA,IAAA,CAAA,EAAA,GAAK,OAAO,EAAK,GAAA,EAAA,CAAA,CAAA;AAE1B,IAAK,EAAA,GAAA,EAAA,CAAA;AACL,IAAK,EAAA,GAAA,EAAA,CAAA;AAAA,GACT;AAEA,EAAA,IAAI,OAAO,CACX,EAAA;AACI,IAAO,OAAA,CAAA,CAAA,CAAA;AAAA,GACX;AAEA,EAAO,OAAA,CAAA,CAAA;AACX;;ACNA,SAAS,MAAA,CACL,GACA,CACA,EAAA,EAAA,EACA,IACA,WACA,EAAA,WAAA,EACA,WACA,KAEJ,EAAA;AACI,EAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,WAAA,CAAA;AACrB,EAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,WAAA,CAAA;AACrB,EAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,WAAA,CAAA;AACrB,EAAM,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,WAAA,CAAA;AAGrB,EAAI,IAAA,GAAA,CAAA;AAAK,EACL,IAAA,GAAA,CAAA;AAEJ,EAAA,IAAI,SACJ,EAAA;AACI,IAAM,GAAA,GAAA,EAAA,CAAA;AACN,IAAA,GAAA,GAAM,CAAC,EAAA,CAAA;AAAA,GAGX,MAAA;AACI,IAAA,GAAA,GAAM,CAAC,EAAA,CAAA;AACP,IAAM,GAAA,GAAA,EAAA,CAAA;AAAA,GACV;AAGA,EAAA,MAAM,MAAM,EAAK,GAAA,GAAA,CAAA;AACjB,EAAA,MAAM,MAAM,EAAK,GAAA,GAAA,CAAA;AACjB,EAAA,MAAM,MAAM,EAAK,GAAA,GAAA,CAAA;AACjB,EAAA,MAAM,MAAM,EAAK,GAAA,GAAA,CAAA;AAGjB,EAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,EAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAEnB,EAAO,OAAA,CAAA,CAAA;AACX,CAAA;AAkBA,SAAS,KAAA,CACL,IACA,EACA,EAAA,EAAA,EACA,IACA,EACA,EAAA,EAAA,EACA,OACA,SAEJ,EAAA;AACI,EAAA,MAAM,SAAS,EAAK,GAAA,EAAA,CAAA;AACpB,EAAA,MAAM,SAAS,EAAK,GAAA,EAAA,CAAA;AAEpB,EAAA,IAAI,MAAS,GAAA,IAAA,CAAK,KAAM,CAAA,MAAA,EAAQ,MAAM,CAAA,CAAA;AACtC,EAAA,IAAI,SAAS,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;AAExC,EAAI,IAAA,SAAA,IAAa,SAAS,MAC1B,EAAA;AACI,IAAA,MAAA,IAAU,KAAK,EAAK,GAAA,CAAA,CAAA;AAAA,GAEf,MAAA,IAAA,CAAC,SAAa,IAAA,MAAA,GAAS,MAChC,EAAA;AACI,IAAA,MAAA,IAAU,KAAK,EAAK,GAAA,CAAA,CAAA;AAAA,GACxB;AAEA,EAAA,IAAI,UAAa,GAAA,MAAA,CAAA;AACjB,EAAA,MAAM,YAAY,MAAS,GAAA,MAAA,CAAA;AAC3B,EAAM,MAAA,YAAA,GAAe,IAAK,CAAA,GAAA,CAAI,SAAS,CAAA,CAAA;AAEvC,EAAA,MAAM,SAAS,IAAK,CAAA,IAAA,CAAM,MAAS,GAAA,MAAA,GAAW,SAAS,MAAO,CAAA,CAAA;AAC9D,EAAM,MAAA,QAAA,GAAA,CAAa,KAAK,YAAe,GAAA,IAAA,CAAK,KAAK,MAAM,CAAA,GAAI,IAAK,CAAA,EAAA,IAAO,CAAK,IAAA,CAAA,CAAA;AAC5E,EAAA,MAAM,WAAW,SAAY,GAAA,QAAA,CAAA;AAE7B,EAAc,UAAA,IAAA,QAAA,CAAA;AAEd,EAAA,IAAI,SACJ,EAAA;AACI,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACjB,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAEjB,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,KAAQ,GAAA,UAAA,EAAY,IAAI,QAAU,EAAA,CAAA,EAAA,EAAK,SAAS,QAChE,EAAA;AACI,MAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACjB,MAAM,KAAA,CAAA,IAAA;AAAA,QAAK,EAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAK,CAAI,GAAA,MAAA;AAAA,QAChC,EAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAK,CAAI,GAAA,MAAA;AAAA,OAAQ,CAAA;AAAA,KACzC;AAEA,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACjB,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAAA,GAGrB,MAAA;AACI,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACjB,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAEjB,IAAS,KAAA,IAAA,CAAA,GAAI,GAAG,KAAQ,GAAA,UAAA,EAAY,IAAI,QAAU,EAAA,CAAA,EAAA,EAAK,SAAS,QAChE,EAAA;AACI,MAAM,KAAA,CAAA,IAAA;AAAA,QAAK,EAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAK,CAAI,GAAA,MAAA;AAAA,QAChC,EAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAK,CAAI,GAAA,MAAA;AAAA,OAAQ,CAAA;AACrC,MAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAAA,KACrB;AAEA,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AACjB,IAAM,KAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;AAAA,GACrB;AAEA,EAAA,OAAO,QAAW,GAAA,CAAA,CAAA;AACtB,CAAA;AAcgB,SAAA,SAAA,CACZ,QACA,SACA,EAAA,aAAA,EACA,QAGA,QACA,EAAA,eAAA,EACA,eAEA,EAAA,OAAA,EACA,cAGJ,EAAA;AAGI,EAAA,MAAM,GAAM,GAAA,aAAA,CAAA;AAEZ,EAAI,IAAA,MAAA,CAAO,WAAW,CACtB,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAA,MAAM,KAAQ,GAAA,SAAA,CAAA;AAEd,EAAA,IAAI,YAAY,KAAM,CAAA,SAAA,CAAA;AAEtB,EAAI,IAAA,SAAA,CAAU,cAAc,GAC5B,EAAA;AAEI,IAAI,IAAA,WAAA,GAAc,uBAAuB,MAAM,CAAA,CAAA;AAE/C,IAAI,IAAA,aAAA;AAAc,MAAe,WAAA,IAAA,CAAA,CAAA,CAAA;AAEjC,IAAc,SAAA,GAAA,CAAA,SAAA,GAAY,OAAO,WAAe,GAAA,GAAA,CAAA;AAAA,GACpD;AAGA,EAAM,MAAA,UAAA,GAAa,IAAI,KAAM,CAAA,MAAA,CAAO,CAAC,CAAG,EAAA,MAAA,CAAO,CAAC,CAAC,CAAA,CAAA;AACjD,EAAA,MAAM,SAAY,GAAA,IAAI,KAAM,CAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,EAAG,MAAO,CAAA,MAAA,CAAO,MAAS,GAAA,CAAC,CAAC,CAAA,CAAA;AAChF,EAAA,MAAM,WAAc,GAAA,MAAA,CAAA;AACpB,EAAA,MAAM,UAAa,GAAA,IAAA,CAAK,GAAI,CAAA,UAAA,CAAW,IAAI,SAAU,CAAA,CAAC,CAAI,GAAA,GAAA,IACnD,KAAK,GAAI,CAAA,UAAA,CAAW,CAAI,GAAA,SAAA,CAAU,CAAC,CAAI,GAAA,GAAA,CAAA;AAG9C,EAAA,IAAI,WACJ,EAAA;AAEI,IAAA,MAAA,GAAS,OAAO,KAAM,EAAA,CAAA;AAEtB,IAAA,IAAI,UACJ,EAAA;AACI,MAAA,MAAA,CAAO,GAAI,EAAA,CAAA;AACX,MAAA,MAAA,CAAO,GAAI,EAAA,CAAA;AACX,MAAU,SAAA,CAAA,GAAA,CAAI,MAAO,CAAA,MAAA,CAAO,MAAS,GAAA,CAAC,GAAG,MAAO,CAAA,MAAA,CAAO,MAAS,GAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KACtE;AAEA,IAAA,MAAM,SAAa,GAAA,CAAA,UAAA,CAAW,CAAI,GAAA,SAAA,CAAU,CAAK,IAAA,GAAA,CAAA;AACjD,IAAA,MAAM,SAAa,GAAA,CAAA,SAAA,CAAU,CAAI,GAAA,UAAA,CAAW,CAAK,IAAA,GAAA,CAAA;AAEjD,IAAO,MAAA,CAAA,OAAA,CAAQ,WAAW,SAAS,CAAA,CAAA;AACnC,IAAO,MAAA,CAAA,IAAA,CAAK,WAAW,SAAS,CAAA,CAAA;AAAA,GACpC;AAEA,EAAA,MAAM,KAAQ,GAAA,QAAA,CAAA;AAEd,EAAM,MAAA,MAAA,GAAS,OAAO,MAAS,GAAA,CAAA,CAAA;AAC/B,EAAA,IAAI,aAAa,MAAO,CAAA,MAAA,CAAA;AACxB,EAAM,MAAA,UAAA,GAAa,MAAM,MAAS,GAAA,CAAA,CAAA;AAGlC,EAAM,MAAA,KAAA,GAAQ,MAAM,KAAQ,GAAA,CAAA,CAAA;AAC5B,EAAA,MAAM,eAAe,KAAQ,GAAA,KAAA,CAAA;AAC7B,EAAM,MAAA,iBAAA,GAAoB,KAAM,CAAA,UAAA,GAAa,KAAM,CAAA,UAAA,CAAA;AAGnD,EAAI,IAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACjB,EAAI,IAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACjB,EAAI,IAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACjB,EAAI,IAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACjB,EAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AACT,EAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAGT,EAAI,IAAA,KAAA,GAAQ,EAAE,EAAK,GAAA,EAAA,CAAA,CAAA;AACnB,EAAA,IAAI,QAAQ,EAAK,GAAA,EAAA,CAAA;AACjB,EAAA,IAAI,MAAS,GAAA,CAAA,CAAA;AACb,EAAA,IAAI,MAAS,GAAA,CAAA,CAAA;AAEb,EAAA,IAAI,OAAO,IAAK,CAAA,IAAA,CAAM,KAAQ,GAAA,KAAA,GAAU,QAAQ,KAAM,CAAA,CAAA;AAEtD,EAAS,KAAA,IAAA,IAAA,CAAA;AACT,EAAS,KAAA,IAAA,IAAA,CAAA;AACT,EAAS,KAAA,IAAA,KAAA,CAAA;AACT,EAAS,KAAA,IAAA,KAAA,CAAA;AAET,EAAA,MAAM,KAAQ,GAAA,SAAA,CAAA;AACd,EAAM,MAAA,WAAA,GAAA,CAAe,IAAI,KAAS,IAAA,CAAA,CAAA;AAClC,EAAA,MAAM,cAAc,KAAQ,GAAA,CAAA,CAAA;AAE5B,EAAA,IAAI,CAAC,WACL,EAAA;AACI,IAAI,IAAA,KAAA,CAAM,QAAQ,OAClB,EAAA;AACI,MAAc,UAAA,IAAA,KAAA;AAAA,QACV,EAAA,GAAM,KAAS,IAAA,WAAA,GAAc,WAAe,CAAA,GAAA,GAAA;AAAA,QAC5C,EAAA,GAAM,KAAS,IAAA,WAAA,GAAc,WAAe,CAAA,GAAA,GAAA;AAAA,QAC5C,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAA;AAAA,QACA,IAAA;AAAA,OACA,GAAA,CAAA,CAAA;AAAA,KACR,MAAA,IACS,KAAM,CAAA,GAAA,KAAQ,QACvB,EAAA;AACI,MAAc,UAAA,IAAA,MAAA,CAAO,IAAI,EAAI,EAAA,KAAA,EAAO,OAAO,WAAa,EAAA,WAAA,EAAa,MAAM,KAAK,CAAA,CAAA;AAAA,KACpF;AAAA,GACJ;AAGA,EAAM,KAAA,CAAA,IAAA;AAAA,IACF,KAAM,KAAQ,GAAA,WAAA;AAAA,IACd,KAAM,KAAQ,GAAA,WAAA;AAAA,GAAY,CAAA;AAC9B,EAAM,KAAA,CAAA,IAAA;AAAA,IACF,KAAM,KAAQ,GAAA,WAAA;AAAA,IACd,KAAM,KAAQ,GAAA,WAAA;AAAA,GAAY,CAAA;AAE9B,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAS,GAAA,CAAA,EAAG,EAAE,CAClC,EAAA;AACI,IAAK,EAAA,GAAA,MAAA,CAAA,CAAQ,CAAI,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AACvB,IAAA,EAAA,GAAK,MAAS,CAAA,CAAA,CAAA,GAAI,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAE7B,IAAK,EAAA,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,CAAA;AACjB,IAAK,EAAA,GAAA,MAAA,CAAQ,CAAI,GAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAEvB,IAAK,EAAA,GAAA,MAAA,CAAA,CAAQ,CAAI,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AACvB,IAAA,EAAA,GAAK,MAAS,CAAA,CAAA,CAAA,GAAI,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAE7B,IAAA,KAAA,GAAQ,EAAE,EAAK,GAAA,EAAA,CAAA,CAAA;AACf,IAAA,KAAA,GAAQ,EAAK,GAAA,EAAA,CAAA;AAEb,IAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAM,KAAQ,GAAA,KAAA,GAAU,QAAQ,KAAM,CAAA,CAAA;AAClD,IAAS,KAAA,IAAA,IAAA,CAAA;AACT,IAAS,KAAA,IAAA,IAAA,CAAA;AACT,IAAS,KAAA,IAAA,KAAA,CAAA;AACT,IAAS,KAAA,IAAA,KAAA,CAAA;AAET,IAAA,MAAA,GAAS,EAAE,EAAK,GAAA,EAAA,CAAA,CAAA;AAChB,IAAA,MAAA,GAAS,EAAK,GAAA,EAAA,CAAA;AAEd,IAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAM,MAAS,GAAA,MAAA,GAAW,SAAS,MAAO,CAAA,CAAA;AACtD,IAAU,MAAA,IAAA,IAAA,CAAA;AACV,IAAU,MAAA,IAAA,IAAA,CAAA;AACV,IAAU,MAAA,IAAA,KAAA,CAAA;AACV,IAAU,MAAA,IAAA,KAAA,CAAA;AAGV,IAAA,MAAM,MAAM,EAAK,GAAA,EAAA,CAAA;AACjB,IAAA,MAAM,MAAM,EAAK,GAAA,EAAA,CAAA;AACjB,IAAA,MAAM,MAAM,EAAK,GAAA,EAAA,CAAA;AACjB,IAAA,MAAM,MAAM,EAAK,GAAA,EAAA,CAAA;AAGjB,IAAM,MAAA,GAAA,GAAO,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AAEjC,IAAM,MAAA,KAAA,GAAS,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AACnC,IAAA,MAAM,YAAa,KAAQ,GAAA,CAAA,CAAA;AAI3B,IAAI,IAAA,IAAA,CAAK,IAAI,KAAK,CAAA,GAAI,OAAQ,IAAK,CAAA,GAAA,CAAI,GAAG,CAC1C,EAAA;AACI,MAAM,KAAA,CAAA,IAAA;AAAA,QACF,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,OAAY,CAAA;AAC9B,MAAM,KAAA,CAAA,IAAA;AAAA,QACF,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,OAAY,CAAA;AAG9B,MAAA,IAAI,OAAO,CACX,EAAA;AACI,QAAI,IAAA,KAAA,CAAM,SAAS,OACnB,EAAA;AACI,UAAc,UAAA,IAAA,KAAA;AAAA,YACV,EAAA;AAAA,YAAI,EAAA;AAAA,YACJ,KAAM,KAAQ,GAAA,WAAA;AAAA,YAAc,KAAM,KAAQ,GAAA,WAAA;AAAA,YAC1C,KAAM,MAAS,GAAA,WAAA;AAAA,YAAc,KAAM,MAAS,GAAA,WAAA;AAAA,YAC5C,KAAA;AAAA,YAAO,KAAA;AAAA,WAAS,GAAA,CAAA,CAAA;AAAA,SAGxB,MAAA;AACI,UAAc,UAAA,IAAA,CAAA,CAAA;AAAA,SAClB;AAEA,QAAM,KAAA,CAAA,IAAA;AAAA,UACF,KAAM,MAAS,GAAA,WAAA;AAAA,UACf,KAAM,MAAS,GAAA,WAAA;AAAA,SAAY,CAAA;AAC/B,QAAM,KAAA,CAAA,IAAA;AAAA,UACF,KAAM,MAAS,GAAA,WAAA;AAAA,UACf,KAAM,MAAS,GAAA,WAAA;AAAA,SAAY,CAAA;AAAA,OACnC;AAEA,MAAA,SAAA;AAAA,KACJ;AAGA,IAAM,MAAA,EAAA,GAAA,CAAO,CAAC,KAAA,GAAQ,EAAO,KAAA,CAAC,KAAQ,GAAA,EAAA,CAAA,GAAA,CAAS,CAAC,KAAA,GAAQ,EAAO,KAAA,CAAC,KAAQ,GAAA,EAAA,CAAA,CAAA;AACxE,IAAM,MAAA,EAAA,GAAA,CAAO,CAAC,MAAA,GAAS,EAAO,KAAA,CAAC,MAAS,GAAA,EAAA,CAAA,GAAA,CAAS,CAAC,MAAA,GAAS,EAAO,KAAA,CAAC,MAAS,GAAA,EAAA,CAAA,CAAA;AAC5E,IAAA,MAAM,EAAO,GAAA,CAAA,GAAA,GAAM,EAAO,GAAA,GAAA,GAAM,EAAO,IAAA,KAAA,CAAA;AACvC,IAAA,MAAM,EAAO,GAAA,CAAA,GAAA,GAAM,EAAO,GAAA,GAAA,GAAM,EAAO,IAAA,KAAA,CAAA;AACvC,IAAA,MAAM,SAAU,EAAK,GAAA,EAAA,KAAO,KAAK,EAAS,CAAA,GAAA,CAAA,EAAA,GAAK,OAAO,EAAK,GAAA,EAAA,CAAA,CAAA;AAG3D,IAAM,MAAA,GAAA,GAAM,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,WAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAM,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,WAAA,CAAA;AAE9B,IAAM,MAAA,GAAA,GAAM,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,WAAA,CAAA;AAC9B,IAAM,MAAA,GAAA,GAAM,EAAO,GAAA,CAAA,EAAA,GAAK,EAAM,IAAA,WAAA,CAAA;AAG9B,IAAM,MAAA,sBAAA,GAAyB,IAAK,CAAA,GAAA,CAAK,GAAM,GAAA,GAAA,GAAQ,MAAM,GAAO,EAAA,GAAA,GAAM,GAAQ,GAAA,GAAA,GAAM,GAAI,CAAA,CAAA;AAC5F,IAAM,MAAA,YAAA,GAAe,YAAY,WAAc,GAAA,WAAA,CAAA;AAC/C,IAAM,MAAA,uBAAA,GAA0B,sBAA0B,GAAA,YAAA,GAAe,YAAe,GAAA,YAAA,CAAA;AACxF,IAAA,MAAM,gBAAgB,KAAS,IAAA,uBAAA,CAAA;AAE/B,IAAA,IAAI,aACJ,EAAA;AACI,MAAA,IAAI,KAAM,CAAA,IAAA,KAAS,OAAW,IAAA,KAAA,GAAQ,eAAe,iBACrD,EAAA;AACI,QAAA,IAAI,SACJ,EAAA;AACI,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AAAA,SAGvE,MAAA;AACI,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AACnE,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,SACvB;AAEA,QAAc,UAAA,IAAA,CAAA,CAAA;AAAA,OAClB,MAAA,IACS,KAAM,CAAA,IAAA,KAAS,OACxB,EAAA;AACI,QAAA,IAAI,SACJ,EAAA;AACI,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AAEjE,UAAc,UAAA,IAAA,KAAA;AAAA,YACV,EAAA;AAAA,YAAI,EAAA;AAAA,YACJ,KAAM,KAAQ,GAAA,WAAA;AAAA,YAAc,KAAM,KAAQ,GAAA,WAAA;AAAA,YAC1C,KAAM,MAAS,GAAA,WAAA;AAAA,YAAc,KAAM,MAAS,GAAA,WAAA;AAAA,YAC5C,KAAA;AAAA,YAAO,IAAA;AAAA,WACP,GAAA,CAAA,CAAA;AAEJ,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AAAA,SAGvE,MAAA;AACI,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAEnB,UAAc,UAAA,IAAA,KAAA;AAAA,YACV,EAAA;AAAA,YAAI,EAAA;AAAA,YACJ,KAAM,KAAQ,GAAA,WAAA;AAAA,YAAc,KAAM,KAAQ,GAAA,WAAA;AAAA,YAC1C,KAAM,MAAS,GAAA,WAAA;AAAA,YAAc,KAAM,MAAS,GAAA,WAAA;AAAA,YAC5C,KAAA;AAAA,YAAO,KAAA;AAAA,WACP,GAAA,CAAA,CAAA;AAEJ,UAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AACnE,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,SACvB;AAAA,OAGJ,MAAA;AACI,QAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,QAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,OACvB;AAAA,KAGJ,MAAA;AACI,MAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,MAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,MAAI,IAAA,KAAA,CAAM,SAAS,OACnB,EAAA;AACI,QAAA,IAAI,SACJ,EAAA;AACI,UAAc,UAAA,IAAA,KAAA;AAAA,YACV,EAAA;AAAA,YAAI,EAAA;AAAA,YACJ,KAAM,KAAQ,GAAA,WAAA;AAAA,YAAc,KAAM,KAAQ,GAAA,WAAA;AAAA,YAC1C,KAAM,MAAS,GAAA,WAAA;AAAA,YAAc,KAAM,MAAS,GAAA,WAAA;AAAA,YAC5C,KAAA;AAAA,YAAO,IAAA;AAAA,WACP,GAAA,CAAA,CAAA;AAAA,SAGR,MAAA;AACI,UAAc,UAAA,IAAA,KAAA;AAAA,YACV,EAAA;AAAA,YAAI,EAAA;AAAA,YACJ,KAAM,KAAQ,GAAA,WAAA;AAAA,YAAc,KAAM,KAAQ,GAAA,WAAA;AAAA,YAC1C,KAAM,MAAS,GAAA,WAAA;AAAA,YAAc,KAAM,MAAS,GAAA,WAAA;AAAA,YAC5C,KAAA;AAAA,YAAO,KAAA;AAAA,WACP,GAAA,CAAA,CAAA;AAAA,SACR;AAAA,iBAEK,KAAM,CAAA,IAAA,KAAS,OAAW,IAAA,KAAA,GAAQ,gBAAgB,iBAC3D,EAAA;AACI,QAAA,IAAI,SACJ,EAAA;AACI,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,SAGvB,MAAA;AACI,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AACnB,UAAM,KAAA,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,SACvB;AACA,QAAc,UAAA,IAAA,CAAA,CAAA;AAAA,OAClB;AACA,MAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AACnE,MAAA,KAAA,CAAM,KAAK,EAAM,GAAA,MAAA,GAAS,WAAc,EAAA,EAAA,GAAM,SAAS,WAAY,CAAA,CAAA;AACnE,MAAc,UAAA,IAAA,CAAA,CAAA;AAAA,KAClB;AAAA,GACJ;AAEA,EAAK,EAAA,GAAA,MAAA,CAAA,CAAQ,MAAS,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AAC5B,EAAA,EAAA,GAAK,MAAS,CAAA,CAAA,MAAA,GAAS,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAElC,EAAK,EAAA,GAAA,MAAA,CAAA,CAAQ,MAAS,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AAC5B,EAAA,EAAA,GAAK,MAAS,CAAA,CAAA,MAAA,GAAS,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAElC,EAAA,KAAA,GAAQ,EAAE,EAAK,GAAA,EAAA,CAAA,CAAA;AACf,EAAA,KAAA,GAAQ,EAAK,GAAA,EAAA,CAAA;AAEb,EAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAM,KAAQ,GAAA,KAAA,GAAU,QAAQ,KAAM,CAAA,CAAA;AAClD,EAAS,KAAA,IAAA,IAAA,CAAA;AACT,EAAS,KAAA,IAAA,IAAA,CAAA;AACT,EAAS,KAAA,IAAA,KAAA,CAAA;AACT,EAAS,KAAA,IAAA,KAAA,CAAA;AAET,EAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AACjE,EAAA,KAAA,CAAM,KAAK,EAAM,GAAA,KAAA,GAAQ,WAAc,EAAA,EAAA,GAAM,QAAQ,WAAY,CAAA,CAAA;AAEjE,EAAA,IAAI,CAAC,WACL,EAAA;AACI,IAAI,IAAA,KAAA,CAAM,QAAQ,OAClB,EAAA;AACI,MAAc,UAAA,IAAA,KAAA;AAAA,QACV,EAAA,GAAM,KAAS,IAAA,WAAA,GAAc,WAAe,CAAA,GAAA,GAAA;AAAA,QAC5C,EAAA,GAAM,KAAS,IAAA,WAAA,GAAc,WAAe,CAAA,GAAA,GAAA;AAAA,QAC5C,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAM,KAAQ,GAAA,WAAA;AAAA,QACd,KAAA;AAAA,QACA,KAAA;AAAA,OACA,GAAA,CAAA,CAAA;AAAA,KACR,MAAA,IACS,KAAM,CAAA,GAAA,KAAQ,QACvB,EAAA;AACI,MAAc,UAAA,IAAA,MAAA,CAAO,IAAI,EAAI,EAAA,KAAA,EAAO,OAAO,WAAa,EAAA,WAAA,EAAa,OAAO,KAAK,CAAA,CAAA;AAAA,KACrF;AAAA,GACJ;AAGA,EAAA,MAAM,OAAO,QAAW,GAAA,QAAA,CAAA;AAGxB,EAAA,KAAA,IAAS,IAAI,UAAY,EAAA,CAAA,GAAI,aAAa,UAAa,GAAA,CAAA,EAAG,EAAE,CAC5D,EAAA;AACI,IAAK,EAAA,GAAA,KAAA,CAAO,IAAI,CAAE,CAAA,CAAA;AAClB,IAAK,EAAA,GAAA,KAAA,CAAO,CAAI,GAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAEtB,IAAK,EAAA,GAAA,KAAA,CAAA,CAAO,CAAI,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AACtB,IAAA,EAAA,GAAK,KAAQ,CAAA,CAAA,CAAA,GAAI,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAE5B,IAAK,EAAA,GAAA,KAAA,CAAA,CAAO,CAAI,GAAA,CAAA,IAAK,CAAC,CAAA,CAAA;AACtB,IAAA,EAAA,GAAK,KAAQ,CAAA,CAAA,CAAA,GAAI,CAAK,IAAA,CAAA,GAAK,CAAC,CAAA,CAAA;AAG5B,IAAA,IAAI,IAAK,CAAA,GAAA,CAAK,EAAM,IAAA,EAAA,GAAK,EAAQ,CAAA,GAAA,EAAA,IAAM,EAAK,GAAA,EAAA,CAAA,GAAQ,EAAM,IAAA,EAAA,GAAK,EAAI,CAAA,CAAA,GAAI,IACvE,EAAA;AACI,MAAA,SAAA;AAAA,KACJ;AAEA,IAAA,OAAA,CAAQ,IAAK,CAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,IAAI,CAAC,CAAA,CAAA;AAAA,GAChC;AACJ;;ACjjBA,YAAY,CAAC;AACb;AACc,IAAA,QAAA,GAAG,OAAO;AACxB,IAAsB,QAAA,GAAG,MAAM,CAAC;AAChC;AACA,SAAS,MAAM,CAAC,IAAI,EAAE,WAAW,EAAE,GAAG,EAAE;AACxC;AACA,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;AACnB;AACA,IAAI,IAAI,QAAQ,GAAG,WAAW,IAAI,WAAW,CAAC,MAAM;AACpD,QAAQ,QAAQ,GAAG,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM;AAChE,QAAQ,SAAS,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC;AAC5D,QAAQ,SAAS,GAAG,EAAE,CAAC;AACvB;AACA,IAAI,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,EAAE,OAAO,SAAS,CAAC;AAC1E;AACA,IAAI,IAAI,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC;AAC9C;AACA,IAAI,IAAI,QAAQ,EAAE,SAAS,GAAG,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;AAChF;AACA;AACA,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,GAAG,EAAE;AAChC,QAAQ,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9B,QAAQ,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9B;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,IAAI,GAAG,EAAE;AAClD,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACxB,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC5B,YAAY,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;AACnC,YAAY,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;AACnC,YAAY,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;AACnC,YAAY,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;AACnC,SAAS;AACT;AACA;AACA,QAAQ,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC;AACrD,QAAQ,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,KAAK,GAAG,OAAO,GAAG,CAAC,CAAC;AACtD,KAAK;AACL;AACA,IAAI,YAAY,CAAC,SAAS,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;AACpE;AACA,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC;AACD;AACA;AACA,SAAS,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE;AACtD,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC;AAChB;AACA,IAAI,IAAI,SAAS,MAAM,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;AAC/D,QAAQ,KAAK,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE,IAAI,GAAG,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAC5F,KAAK,MAAM;AACX,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,GAAG,EAAE,IAAI,GAAG,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AACnG,KAAK;AACL;AACA,IAAI,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;AACzC,QAAQ,UAAU,CAAC,IAAI,CAAC,CAAC;AACzB,QAAQ,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACzB,KAAK;AACL;AACA,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC;AACD;AACA;AACA,SAAS,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE;AAClC,IAAI,IAAI,CAAC,KAAK,EAAE,OAAO,KAAK,CAAC;AAC7B,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,KAAK,CAAC;AAC1B;AACA,IAAI,IAAI,CAAC,GAAG,KAAK;AACjB,QAAQ,KAAK,CAAC;AACd,IAAI,GAAG;AACP,QAAQ,KAAK,GAAG,KAAK,CAAC;AACtB;AACA,QAAQ,IAAI,CAAC,CAAC,CAAC,OAAO,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;AAChF,YAAY,UAAU,CAAC,CAAC,CAAC,CAAC;AAC1B,YAAY,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;AAC7B,YAAY,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,MAAM;AACpC,YAAY,KAAK,GAAG,IAAI,CAAC;AACzB;AACA,SAAS,MAAM;AACf,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACvB,SAAS;AACT,KAAK,QAAQ,KAAK,IAAI,CAAC,KAAK,GAAG,EAAE;AACjC;AACA,IAAI,OAAO,GAAG,CAAC;AACf,CAAC;AACD;AACA;AACA,SAAS,YAAY,CAAC,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE;AACtE,IAAI,IAAI,CAAC,GAAG,EAAE,OAAO;AACrB;AACA;AACA,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE,UAAU,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AAC/D;AACA,IAAI,IAAI,IAAI,GAAG,GAAG;AAClB,QAAQ,IAAI,EAAE,IAAI,CAAC;AACnB;AACA;AACA,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,EAAE;AAClC,QAAQ,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACxB,QAAQ,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACxB;AACA,QAAQ,IAAI,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE;AAC1E;AACA,YAAY,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC7C,YAAY,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC5C,YAAY,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC7C;AACA,YAAY,UAAU,CAAC,GAAG,CAAC,CAAC;AAC5B;AACA;AACA,YAAY,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;AAC5B,YAAY,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AAC7B;AACA,YAAY,SAAS;AACrB,SAAS;AACT;AACA,QAAQ,GAAG,GAAG,IAAI,CAAC;AACnB;AACA;AACA,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;AAC1B;AACA,YAAY,IAAI,CAAC,IAAI,EAAE;AACvB,gBAAgB,YAAY,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;AACxF;AACA;AACA,aAAa,MAAM,IAAI,IAAI,KAAK,CAAC,EAAE;AACnC,gBAAgB,GAAG,GAAG,sBAAsB,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;AAChF,gBAAgB,YAAY,CAAC,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;AAC1E;AACA;AACA,aAAa,MAAM,IAAI,IAAI,KAAK,CAAC,EAAE;AACnC,gBAAgB,WAAW,CAAC,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACtE,aAAa;AACb;AACA,YAAY,MAAM;AAClB,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA,SAAS,KAAK,CAAC,GAAG,EAAE;AACpB,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI;AACpB,QAAQ,CAAC,GAAG,GAAG;AACf,QAAQ,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB;AACA,IAAI,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AACzC;AACA;AACA,IAAI,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AACnE;AACA;AACA,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AACjE;AACA,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AACpB,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE;AAC5D,YAAY,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7D,YAAY,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AACvD,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK;AACL;AACA,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC;AACD;AACA,SAAS,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;AAC/C,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI;AACpB,QAAQ,CAAC,GAAG,GAAG;AACf,QAAQ,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB;AACA,IAAI,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AACzC;AACA,IAAI,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AACnE;AACA;AACA,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AACjE;AACA;AACA,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC;AAClD,QAAQ,IAAI,GAAG,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACnD;AACA,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK;AACrB,QAAQ,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC;AACtB;AACA;AACA,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AACjD,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAClF,YAAY,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AAC5G,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AACpB;AACA,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAClF,YAAY,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AAC5G,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AACpB,KAAK;AACL;AACA;AACA,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AAC7B,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAClF,YAAY,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AAC5G,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AACpB,KAAK;AACL;AACA;AACA,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AAC7B,QAAQ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAClF,YAAY,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;AAC5G,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AACpB,KAAK;AACL;AACA,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC;AACD;AACA;AACA,SAAS,sBAAsB,CAAC,KAAK,EAAE,SAAS,EAAE,GAAG,EAAE;AACvD,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC;AAClB,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI;AACtB,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAC5B;AACA,QAAQ,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AACxG;AACA,YAAY,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC1C,YAAY,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC1C,YAAY,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC1C;AACA;AACA,YAAY,UAAU,CAAC,CAAC,CAAC,CAAC;AAC1B,YAAY,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC/B;AACA,YAAY,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;AAC1B,SAAS;AACT,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,KAAK,EAAE;AAC1B;AACA,IAAI,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;AAC3B,CAAC;AACD;AACA;AACA,SAAS,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;AACjE;AACA,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC;AAClB,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAC5B,QAAQ,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;AAC7B,YAAY,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AACtD;AACA,gBAAgB,IAAI,CAAC,GAAG,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3C;AACA;AACA,gBAAgB,CAAC,GAAG,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;AAC5C,gBAAgB,CAAC,GAAG,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;AAC5C;AACA;AACA,gBAAgB,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;AACxE,gBAAgB,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;AACxE,gBAAgB,OAAO;AACvB,aAAa;AACb,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACvB,SAAS;AACT,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,KAAK,EAAE;AAC1B,CAAC;AACD;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,EAAE;AAC3D,IAAI,IAAI,KAAK,GAAG,EAAE;AAClB,QAAQ,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC;AACjC;AACA,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;AACxD,QAAQ,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;AACrC,QAAQ,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;AACnE,QAAQ,IAAI,GAAG,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;AACxD,QAAQ,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpD,QAAQ,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;AACtC,KAAK;AACL;AACA,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACzB;AACA;AACA,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACvC,QAAQ,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AACvD,KAAK;AACL;AACA,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC;AACD;AACA,SAAS,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;AACxB,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrB,CAAC;AACD;AACA;AACA,SAAS,aAAa,CAAC,IAAI,EAAE,SAAS,EAAE;AACxC,IAAI,IAAI,MAAM,GAAG,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AACjD,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB,QAAQ,OAAO,SAAS,CAAC;AACzB,KAAK;AACL;AACA,IAAI,IAAI,aAAa,GAAG,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnD;AACA;AACA,IAAI,YAAY,CAAC,aAAa,EAAE,aAAa,CAAC,IAAI,CAAC,CAAC;AACpD,IAAI,OAAO,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;AAC7C,CAAC;AACD;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE,SAAS,EAAE;AACzC,IAAI,IAAI,CAAC,GAAG,SAAS;AACrB,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;AACnB,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;AACnB,QAAQ,EAAE,GAAG,CAAC,QAAQ;AACtB,QAAQ,CAAC,CAAC;AACV;AACA;AACA;AACA,IAAI,GAAG;AACP,QAAQ,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;AAC7D,YAAY,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3E,YAAY,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE;AACnC,gBAAgB,EAAE,GAAG,CAAC,CAAC;AACvB,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AAChD,gBAAgB,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC;AACvC,aAAa;AACb,SAAS;AACT,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,SAAS,EAAE;AAC9B;AACA,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,IAAI,GAAG,CAAC;AAChB,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;AAChB,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;AAChB,QAAQ,MAAM,GAAG,QAAQ;AACzB,QAAQ,GAAG,CAAC;AACZ;AACA,IAAI,CAAC,GAAG,CAAC,CAAC;AACV;AACA,IAAI,GAAG;AACP,QAAQ,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;AAChD,gBAAgB,eAAe,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;AACjG;AACA,YAAY,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAClD;AACA,YAAY,IAAI,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC;AACtC,iBAAiB,GAAG,GAAG,MAAM,KAAK,GAAG,KAAK,MAAM,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,oBAAoB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AAClH,gBAAgB,CAAC,GAAG,CAAC,CAAC;AACtB,gBAAgB,MAAM,GAAG,GAAG,CAAC;AAC7B,aAAa;AACb,SAAS;AACT;AACA,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,IAAI,EAAE;AACzB;AACA,IAAI,OAAO,CAAC,CAAC;AACb,CAAC;AACD;AACA;AACA,SAAS,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE;AACpC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACtE,CAAC;AACD;AACA;AACA,SAAS,UAAU,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;AAChD,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC;AAClB,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACnE,QAAQ,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;AACzB,QAAQ,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;AACzB,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,KAAK,EAAE;AAC1B;AACA,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;AACzB,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;AACnB;AACA,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC;AACD;AACA;AACA;AACA,SAAS,UAAU,CAAC,IAAI,EAAE;AAC1B,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK;AACjD,QAAQ,MAAM,GAAG,CAAC,CAAC;AACnB;AACA,IAAI,GAAG;AACP,QAAQ,CAAC,GAAG,IAAI,CAAC;AACjB,QAAQ,IAAI,GAAG,IAAI,CAAC;AACpB,QAAQ,IAAI,GAAG,IAAI,CAAC;AACpB,QAAQ,SAAS,GAAG,CAAC,CAAC;AACtB;AACA,QAAQ,OAAO,CAAC,EAAE;AAClB,YAAY,SAAS,EAAE,CAAC;AACxB,YAAY,CAAC,GAAG,CAAC,CAAC;AAClB,YAAY,KAAK,GAAG,CAAC,CAAC;AACtB,YAAY,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,gBAAgB,KAAK,EAAE,CAAC;AACxB,gBAAgB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AAC5B,gBAAgB,IAAI,CAAC,CAAC,EAAE,MAAM;AAC9B,aAAa;AACb,YAAY,KAAK,GAAG,MAAM,CAAC;AAC3B;AACA,YAAY,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AAClD;AACA,gBAAgB,IAAI,KAAK,KAAK,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AACtE,oBAAoB,CAAC,GAAG,CAAC,CAAC;AAC1B,oBAAoB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AAChC,oBAAoB,KAAK,EAAE,CAAC;AAC5B,iBAAiB,MAAM;AACvB,oBAAoB,CAAC,GAAG,CAAC,CAAC;AAC1B,oBAAoB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AAChC,oBAAoB,KAAK,EAAE,CAAC;AAC5B,iBAAiB;AACjB;AACA,gBAAgB,IAAI,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACzC,qBAAqB,IAAI,GAAG,CAAC,CAAC;AAC9B;AACA,gBAAgB,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;AAC/B,gBAAgB,IAAI,GAAG,CAAC,CAAC;AACzB,aAAa;AACb;AACA,YAAY,CAAC,GAAG,CAAC,CAAC;AAClB,SAAS;AACT;AACA,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAC1B,QAAQ,MAAM,IAAI,CAAC,CAAC;AACpB;AACA,KAAK,QAAQ,SAAS,GAAG,CAAC,EAAE;AAC5B;AACA,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC;AACD;AACA;AACA,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;AAC3C;AACA,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,IAAI,OAAO,GAAG,CAAC,CAAC;AACjC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,IAAI,OAAO,GAAG,CAAC,CAAC;AACjC;AACA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC;AACA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;AACpC;AACA,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACxB,CAAC;AACD;AACA;AACA,SAAS,WAAW,CAAC,KAAK,EAAE;AAC5B,IAAI,IAAI,CAAC,GAAG,KAAK;AACjB,QAAQ,QAAQ,GAAG,KAAK,CAAC;AACzB,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,GAAG,CAAC,CAAC;AACvF,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,KAAK,EAAE;AAC1B;AACA,IAAI,OAAO,QAAQ,CAAC;AACpB,CAAC;AACD;AACA;AACA,SAAS,eAAe,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AACzD,IAAI,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;AACzD,WAAW,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;AACzD,WAAW,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;AAC1D,CAAC;AACD;AACA;AACA,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;AAC/B,IAAI,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3E,YAAY,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;AAC5E,aAAa,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC3D,YAAY,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACxF,CAAC;AACD;AACA;AACA,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AACvB,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,CAAC;AACD;AACA;AACA,SAAS,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE;AACxB,IAAI,OAAO,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC1C,CAAC;AACD;AACA;AACA,SAAS,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AACpC,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACpC,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACpC,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACpC,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACpC;AACA,IAAI,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC;AAC5C;AACA,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC;AACvD,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC;AACvD,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC;AACvD,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,IAAI,CAAC;AACvD;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,CAAC;AACD;AACA;AACA,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AAC5B,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5H,CAAC;AACD;AACA,SAAS,IAAI,CAAC,GAAG,EAAE;AACnB,IAAI,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAC1C,CAAC;AACD;AACA;AACA,SAAS,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE;AACjC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;AACd,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC9E,gBAAgB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC;AACzD,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,CAAC,EAAE;AACtB;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,CAAC;AACD;AACA;AACA,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;AAC7B,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AACtC,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;AAC1D,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;AACzD,CAAC;AACD;AACA;AACA,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE;AAC5B,IAAI,IAAI,CAAC,GAAG,CAAC;AACb,QAAQ,MAAM,GAAG,KAAK;AACtB,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;AAC5B,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC7B,IAAI,GAAG;AACP,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAChE,iBAAiB,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC7E,YAAY,MAAM,GAAG,CAAC,MAAM,CAAC;AAC7B,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACnB,KAAK,QAAQ,CAAC,KAAK,CAAC,EAAE;AACtB;AACA,IAAI,OAAO,MAAM,CAAC;AAClB,CAAC;AACD;AACA;AACA;AACA,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE;AAC5B,IAAI,IAAI,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpC,QAAQ,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpC,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI;AACnB,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;AACpB;AACA,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;AACf,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;AACf;AACA,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB;AACA,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB;AACA,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB;AACA,IAAI,OAAO,EAAE,CAAC;AACd,CAAC;AACD;AACA;AACA,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE;AACnC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9B;AACA,IAAI,IAAI,CAAC,IAAI,EAAE;AACf,QAAQ,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;AACnB,QAAQ,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;AACnB;AACA,KAAK,MAAM;AACX,QAAQ,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AAC3B,QAAQ,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;AACtB,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AAC3B,QAAQ,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACtB,KAAK;AACL,IAAI,OAAO,CAAC,CAAC;AACb,CAAC;AACD;AACA,SAAS,UAAU,CAAC,CAAC,EAAE;AACvB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AACzB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AACzB;AACA,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;AACzC,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;AACzC,CAAC;AACD;AACA,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AACvB;AACA,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACf;AACA;AACA,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACf,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACf;AACA;AACA,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACrB,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACrB;AACA;AACA,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACf;AACA;AACA,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AACtB,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AACtB;AACA;AACA,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACzB,CAAC;AACD;AACA;AACA;AACA,MAAM,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,WAAW,EAAE,GAAG,EAAE,SAAS,EAAE;AAChE,IAAI,IAAI,QAAQ,GAAG,WAAW,IAAI,WAAW,CAAC,MAAM,CAAC;AACrD,IAAI,IAAI,QAAQ,GAAG,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;AACjE;AACA,IAAI,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;AACnE,IAAI,IAAI,QAAQ,EAAE;AAClB,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;AAChE,YAAY,IAAI,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;AAC7C,YAAY,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3E,YAAY,WAAW,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACvE,SAAS;AACT,KAAK;AACL;AACA,IAAI,IAAI,aAAa,GAAG,CAAC,CAAC;AAC1B,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC9C,QAAQ,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;AACnC,QAAQ,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;AACvC,QAAQ,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;AACvC,QAAQ,aAAa,IAAI,IAAI,CAAC,GAAG;AACjC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7D,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D,KAAK;AACL;AACA,IAAI,OAAO,WAAW,KAAK,CAAC,IAAI,aAAa,KAAK,CAAC,GAAG,CAAC;AACvD,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,GAAG,WAAW,IAAI,WAAW,CAAC,CAAC;AAC9D,CAAC,CAAC;AACF;AACA,SAAS,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE;AAC3C,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC;AAChB,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE;AAC1D,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACjE,QAAQ,CAAC,GAAG,CAAC,CAAC;AACd,KAAK;AACL,IAAI,OAAO,GAAG,CAAC;AACf,CAAC;AACD;AACA;AACA,MAAM,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;AACjC,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;AAC/B,QAAQ,MAAM,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,UAAU,EAAE,GAAG,CAAC;AAC3D,QAAQ,SAAS,GAAG,CAAC,CAAC;AACtB;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9E,SAAS;AACT,QAAQ,IAAI,CAAC,GAAG,CAAC,EAAE;AACnB,YAAY,SAAS,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;AAC5C,YAAY,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzC,SAAS;AACT,KAAK;AACL,IAAI,OAAO,MAAM,CAAC;AAClB,CAAC,CAAA;;;ACtqBM,SAAS,qBACZ,MACA,EAAA,KAAA,EACA,UACA,cACA,EAAA,cAAA,EAEA,SACA,aAEJ,EAAA;AACI,EAAA,MAAM,SAAY,GAAAuD,QAAA,CAAO,MAAQ,EAAA,KAAA,EAAO,CAAC,CAAA,CAAA;AAEzC,EAAA,IAAI,CAAC,SACL,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,EAAQ,KAAK,CAC3C,EAAA;AACI,IAAA,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAC,CAAI,GAAA,cAAA,CAAA;AAC3C,IAAA,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAA,GAAI,CAAC,CAAI,GAAA,cAAA,CAAA;AAC/C,IAAA,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAA,GAAI,CAAC,CAAI,GAAA,cAAA,CAAA;AAAA,GACnD;AAEA,EAAA,IAAI,QAAQ,cAAiB,GAAA,cAAA,CAAA;AAE7B,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,MAAA,EAAQ,KAAK,CACxC,EAAA;AACI,IAAS,QAAA,CAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC1B,IAAA,QAAA,CAAS,KAAQ,GAAA,CAAC,CAAI,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,CAAA;AAElC,IAAS,KAAA,IAAA,cAAA,CAAA;AAAA,GACb;AACJ;;AC/BA,MAAM,aAAuB,EAAC,CAAA;AASvB,MAAM,YAA2C,GAAA;AAAA,EAEpD,KAAA,CAAM,OAAgB,MACtB,EAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,KAAM,CAAA,MAAA,CAAO,QAAQ,CACzC,EAAA,EAAA;AACI,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,KAAM,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAAA,KAC9B;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEA,YACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,SACA,aAEJ,EAAA;AACI,IAAA,oBAAA,CAAqB,QAAQ,UAAY,EAAA,QAAA,EAAU,cAAgB,EAAA,cAAA,EAAgB,SAAS,aAAa,CAAA,CAAA;AAAA,GAC7G;AAEJ;;AC9BO,MAAM,cAA+C,GAAA;AAAA,EAExD,KAAA,CAAM,OAAkB,MACxB,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,KAAA,CAAA;AACjB,IAAA,MAAM,IAAI,QAAS,CAAA,CAAA,CAAA;AACnB,IAAA,MAAM,IAAI,QAAS,CAAA,CAAA,CAAA;AACnB,IAAA,MAAM,QAAQ,QAAS,CAAA,KAAA,CAAA;AACvB,IAAA,MAAM,SAAS,QAAS,CAAA,MAAA,CAAA;AAExB,IAAA,IAAI,EAAE,KAAA,IAAS,CAAK,IAAA,MAAA,IAAU,CAC9B,CAAA,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;AACZ,IAAA,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;AACZ,IAAO,MAAA,CAAA,CAAC,IAAI,CAAI,GAAA,KAAA,CAAA;AAChB,IAAA,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;AACZ,IAAO,MAAA,CAAA,CAAC,IAAI,CAAI,GAAA,KAAA,CAAA;AAChB,IAAO,MAAA,CAAA,CAAC,IAAI,CAAI,GAAA,MAAA,CAAA;AAChB,IAAA,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;AACZ,IAAO,MAAA,CAAA,CAAC,IAAI,CAAI,GAAA,MAAA,CAAA;AAEhB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEA,YACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,SACA,aAEJ,EAAA;AACI,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,IAAkB,cAAA,IAAA,cAAA,CAAA;AAElB,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,MAAM,gBAAgB,cAAiB,GAAA,cAAA,CAAA;AAGvC,IAAA,OAAA,CAAQ,eAAe,CAAI,GAAA,aAAA,CAAA;AAC3B,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAC3C,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAG3C,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAC3C,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAC3C,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAAA,GAC/C;AACJ;;AC1EO,MAAM,aAA6C,GAAA;AAAA,EAEtD,KAAA,CAAM,OAAiB,MACvB,EAAA;AACI,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,CAAA,CAAA;AAClB,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,CAAA,CAAA;AAClB,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,EAAA,CAAA;AAClB,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,EAAA,CAAA;AAClB,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,EAAA,CAAA;AAClB,IAAO,MAAA,CAAA,CAAC,IAAI,KAAM,CAAA,EAAA,CAAA;AAElB,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEA,YACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,SACA,aAEJ,EAAA;AACI,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,IAAkB,cAAA,IAAA,cAAA,CAAA;AAElB,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAS,KAAA,IAAA,cAAA,CAAA;AAET,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3C,IAAA,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,OAAO,CAAC,CAAA,CAAA;AAE/C,IAAA,MAAM,gBAAgB,cAAiB,GAAA,cAAA,CAAA;AAGvC,IAAA,OAAA,CAAQ,eAAe,CAAI,GAAA,aAAA,CAAA;AAC3B,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAC3C,IAAQ,OAAA,CAAA,aAAA,EAAe,IAAI,aAAgB,GAAA,CAAA,CAAA;AAAA,GAC/C;AACJ;;ACxCA,MAAMC,UAA8C,GAAA;AAAA,EAChD,SAAW,EAAA,cAAA;AAAA,EACX,OAAS,EAAA,YAAA;AAAA,EACT,QAAU,EAAA,aAAA;AAAA,EACV,MAAQ,EAAA,WAAA;AAAA,EACR,OAAS,EAAA,WAAA;AAAA,EACT,gBAAkB,EAAA,WAAA;AACtB,CAAA,CAAA;AAEA,MAAMC,UAAA,GAAW,IAAI,SAAU,EAAA,CAAA;AAExB,SAAS,oBAAoB,OACpC,EAAA;AACI,EAAA,MAAM,WAAqB,EAAC,CAAA;AAC5B,EAAA,MAAM,MAAgB,EAAC,CAAA;AACvB,EAAA,MAAM,UAAoB,EAAC,CAAA;AAE3B,EAAA,MAAM,YAAe,GAAA;AAAA,IACjB,QAAA;AAAA,IACA,GAAA;AAAA,IACA,OAAA;AAAA,GACJ,CAAA;AAEA,EAAA,MAAM,UAA+B,EAAC,CAAA;AAEtC,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAQ,CAAA,YAAA,CAAa,QAAQ,CACjD,EAAA,EAAA;AACI,IAAM,MAAA,WAAA,GAAc,OAAQ,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAE1C,IAAI,IAAA,WAAA,CAAY,WAAW,SAC3B,EAAA;AAEI,MAAyB,wBAAA,CAAA,WAAA,CAAY,IAAM,EAAA,OAAA,EAAS,YAAY,CAAA,CAAA;AAAA,eAE3D,WAAY,CAAA,MAAA,KAAW,MAAU,IAAA,WAAA,CAAY,WAAW,QACjE,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,YAAY,MAAW,KAAA,QAAA,CAAA;AAGxC,MAAM,MAAA,SAAA,GAAY,WAAY,CAAA,IAAA,CAAK,IAAK,CAAA,SAAA,CAAA;AAExC,MAAM,MAAA,KAAA,GAAQ,YAAY,IAAK,CAAA,KAAA,CAAA;AAE/B,MAAM,MAAA,IAAA,GAAO,YAAY,IAAK,CAAA,IAAA,CAAA;AAE9B,MAAA,IAAI,YAAY,IAChB,EAAA;AACI,QAAA,0BAAA,CAA2B,KAAK,SAAW,EAAA,KAAA,EAAO,IAAM,EAAA,IAAA,EAAM,SAAS,YAAY,CAAA,CAAA;AAAA,OACvF;AAEA,MAAA,0BAAA,CAA2B,SAAW,EAAA,KAAA,EAAO,IAAM,EAAA,QAAA,EAAU,SAAS,YAAY,CAAA,CAAA;AAAA,KACtF;AAAA,GACJ;AAEA,EAAO,OAAA,OAAA,CAAA;AACX,CAAA;AAEA,SAAS,wBAAA,CACL,IACA,EAAA,OAAA,EACA,YAMJ,EAAA;AACI,EAAA,MAAM,EAAE,QAAA,EAAU,GAAK,EAAA,OAAA,EAAY,GAAA,YAAA,CAAA;AAEnC,EAAA,MAAM,cAAc,OAAQ,CAAA,MAAA,CAAA;AAC5B,EAAM,MAAA,UAAA,GAAa,SAAS,MAAS,GAAA,CAAA,CAAA;AAErC,EAAA,MAAM,SAAmB,EAAC,CAAA;AAE1B,EAAA,MAAM,QAAQD,UAAS,CAAA,SAAA,CAAA;AAEvB,EAAA,MAAM,IAAO,GAAAC,UAAA,CAAA;AAEb,EAAA,MAAM,UAAU,IAAK,CAAA,KAAA,CAAA;AAErB,EAAA,IAAA,CAAK,IAAI,IAAK,CAAA,EAAA,CAAA;AACd,EAAA,IAAA,CAAK,IAAI,IAAK,CAAA,EAAA,CAAA;AACd,EAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,EAAA,CAAA;AAClB,EAAA,IAAA,CAAK,SAAS,IAAK,CAAA,EAAA,CAAA;AAEnB,EAAA,MAAM,SAAS,IAAK,CAAA,SAAA,CAAA;AAGpB,EAAM,KAAA,CAAA,KAAA,CAAM,MAAM,MAAM,CAAA,CAAA;AAExB,EAAA,IAAI,MACJ,EAAA;AACI,IAAA,iBAAA,CAAkB,QAAQ,MAAM,CAAA,CAAA;AAAA,GACpC;AAEA,EAAA,KAAA,CAAM,YAAY,MAAQ,EAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAEvE,EAAM,MAAA,UAAA,GAAa,QAAQ,MAAO,CAAA,GAAA,CAAA;AAElC,EAAI,GAAA,CAAA,IAAA;AAAA,IACA,UAAW,CAAA,EAAA;AAAA,IAAI,UAAW,CAAA,EAAA;AAAA,IAC1B,UAAW,CAAA,EAAA;AAAA,IAAI,UAAW,CAAA,EAAA;AAAA,IAC1B,UAAW,CAAA,EAAA;AAAA,IAAI,UAAW,CAAA,EAAA;AAAA,IAC1B,UAAW,CAAA,EAAA;AAAA,IAAI,UAAW,CAAA,EAAA;AAAA,GAC9B,CAAA;AAEA,EAAM,MAAA,aAAA,GAAgB,OAAQ,CAAA,GAAA,CAAI,iBAAiB,CAAA,CAAA;AAEnD,EAAA,aAAA,CAAc,WAAc,GAAA,WAAA,CAAA;AAC5B,EAAc,aAAA,CAAA,SAAA,GAAY,QAAQ,MAAS,GAAA,WAAA,CAAA;AAE3C,EAAA,aAAA,CAAc,YAAe,GAAA,UAAA,CAAA;AAC7B,EAAc,aAAA,CAAA,UAAA,GAAc,QAAS,CAAA,MAAA,GAAS,CAAK,GAAA,UAAA,CAAA;AAEnD,EAAA,aAAA,CAAc,QAAQ,IAAK,CAAA,KAAA,CAAA;AAC3B,EAAA,aAAA,CAAc,QAAQ,IAAK,CAAA,KAAA,CAAA;AAE3B,EAAA,aAAA,CAAc,OAAU,GAAA,OAAA,CAAA;AACxB,EAAA,aAAA,CAAc,YAAe,GAAA,YAAA,CAAA;AAE7B,EAAA,OAAA,CAAQ,KAAK,aAAa,CAAA,CAAA;AAC9B,CAAA;AAEA,SAAS,2BACL,SACA,EAAA,KAAA,EACA,IACA,EAAA,QAAA,EACA,SACA,YAMJ,EAAA;AACI,EAAA,MAAM,EAAE,QAAA,EAAU,GAAK,EAAA,OAAA,EAAY,GAAA,YAAA,CAAA;AACnC,EAAM,MAAA,SAAA,GAAY,SAAU,CAAA,eAAA,CAAgB,MAAS,GAAA,CAAA,CAAA;AAErD,EAAU,SAAA,CAAA,eAAA,CAAgB,QAAQ,CAAC,EAAE,OAAO,SAAW,EAAA,MAAA,IAAU,CACjE,KAAA;AA/JJ,IAAA,IAAA,EAAA,CAAA;AAgKQ,IAAA,MAAM,cAAc,OAAQ,CAAA,MAAA,CAAA;AAC5B,IAAM,MAAA,UAAA,GAAa,SAAS,MAAS,GAAA,CAAA,CAAA;AAErC,IAAA,MAAM,SAAmB,EAAC,CAAA;AAE1B,IAAM,MAAA,KAAA,GAAQD,UAAS,CAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAMjC,IAAM,KAAA,CAAA,KAAA,CAAM,OAAO,MAAM,CAAA,CAAA;AAEzB,IAAA,IAAI,MACJ,EAAA;AACI,MAAA,iBAAA,CAAkB,QAAQ,MAAM,CAAA,CAAA;AAAA,KACpC;AAEA,IAAA,IAAI,CAAC,QACL,EAAA;AACI,MAAI,IAAA,IAAA,IAAQ,cAAc,CAC1B,EAAA;AACI,QAAA,IAAI,cAAc,CAClB,EAAA;AACI,UAAA,OAAA,CAAQ,KAAK,qDAAqD,CAAA,CAAA;AAAA,SACtE;AAEA,QAAA,MAAM,cAAwB,EAAC,CAAA;AAE/B,QAAM,MAAA,WAAA,GAAc,OAAO,KAAM,EAAA,CAAA;AAEjC,QAAM,MAAA,UAAA,GAAa,aAAc,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AAE/C,QAAW,UAAA,CAAA,OAAA,CAAQ,CAAC,UACpB,KAAA;AACI,UAAY,WAAA,CAAA,IAAA,CAAK,WAAY,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACvC,UAAY,WAAA,CAAA,IAAA,CAAK,GAAG,UAAU,CAAA,CAAA;AAAA,SACjC,CAAA,CAAA;AAED,QAAA,oBAAA,CAAqB,aAAa,WAAa,EAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAAA,OAGhG,MAAA;AACI,QAAA,KAAA,CAAM,YAAY,MAAQ,EAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAAA,OAC3E;AAAA,KAGJ,MAAA;AACI,MAAM,MAAA,KAAA,GAAA,CAAS,EAAkB,GAAA,KAAA,CAAA,SAAA,KAAlB,IAA+B,GAAA,EAAA,GAAA,IAAA,CAAA;AAC9C,MAAA,MAAM,SAAY,GAAA,KAAA,CAAA;AAElB,MAAU,SAAA,CAAA,MAAA,EAAQ,WAAW,KAAO,EAAA,KAAA,EAAO,UAAU,CAAG,EAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAAA,KAC5F;AAEA,IAAM,MAAA,SAAA,GAAY,IAAI,MAAS,GAAA,CAAA,CAAA;AAE/B,IAAA,MAAM,UAAU,KAAM,CAAA,OAAA,CAAA;AAEtB,IAAI,IAAA,OAAA,KAAY,QAAQ,KACxB,EAAA;AACI,MAAA,MAAM,gBAAgB,KAAM,CAAA,MAAA,CAAA;AAE5B,MAAA,IAAI,MACJ,EAAA;AAEI,QAAA,aAAA,CAAc,MAAO,CAAA,MAAA,CAAO,KAAM,EAAA,CAAE,QAAQ,CAAA,CAAA;AAAA,OAChD;AAEA,MAAS,QAAA,CAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,GAAK,EAAA,SAAA,EAAW,GAAI,QAAS,CAAA,MAAA,GAAS,CAAK,GAAA,UAAA,EAAY,aAAa,CAAA,CAAA;AAAA,KAG1G,MAAA;AACI,MAAA,cAAA,CAAe,KAAK,SAAW,EAAA,CAAA,EAAI,QAAS,CAAA,MAAA,GAAS,IAAK,UAAU,CAAA,CAAA;AAAA,KACxE;AAEA,IAAM,MAAA,aAAA,GAAgB,OAAQ,CAAA,GAAA,CAAI,iBAAiB,CAAA,CAAA;AAEnD,IAAA,aAAA,CAAc,WAAc,GAAA,WAAA,CAAA;AAC5B,IAAc,aAAA,CAAA,SAAA,GAAY,QAAQ,MAAS,GAAA,WAAA,CAAA;AAE3C,IAAA,aAAA,CAAc,YAAe,GAAA,UAAA,CAAA;AAC7B,IAAc,aAAA,CAAA,UAAA,GAAc,QAAS,CAAA,MAAA,GAAS,CAAK,GAAA,UAAA,CAAA;AAEnD,IAAA,aAAA,CAAc,QAAQ,KAAM,CAAA,KAAA,CAAA;AAC5B,IAAA,aAAA,CAAc,QAAQ,KAAM,CAAA,KAAA,CAAA;AAE5B,IAAA,aAAA,CAAc,OAAU,GAAA,OAAA,CAAA;AACxB,IAAA,aAAA,CAAc,YAAe,GAAA,YAAA,CAAA;AAE7B,IAAA,OAAA,CAAQ,KAAK,aAAa,CAAA,CAAA;AAAA,GAC7B,CAAA,CAAA;AACL,CAAA;AAEA,SAAS,cAAc,KACvB,EAAA;AACI,EAAA,IAAI,CAAC,KAAA;AAAO,IAAA,OAAO,EAAC,CAAA;AAEpB,EAAA,MAAM,iBAAiB,KAAM,CAAA,eAAA,CAAA;AAE7B,EAAA,MAAM,aAAa,EAAC,CAAA;AAEpB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,QAAQ,CAC3C,EAAA,EAAA;AACI,IAAM,MAAA,aAAA,GAAgB,cAAe,CAAA,CAAC,CAAE,CAAA,KAAA,CAAA;AAGxC,IAAA,MAAM,aAAuB,EAAC,CAAA;AAE9B,IAAM,MAAA,WAAA,GAAcA,UAAS,CAAA,aAAA,CAAc,IAAI,CAAA,CAAA;AAE/C,IAAY,WAAA,CAAA,KAAA,CAAM,eAAe,UAAU,CAAA,CAAA;AAE3C,IAAA,UAAA,CAAW,KAAK,UAAU,CAAA,CAAA;AAAA,GAC9B;AAEA,EAAO,OAAA,UAAA,CAAA;AACX;;ACvQO,MAAM,kBACb,CAAA;AAGA,CAAA;AAEO,MAAM,yBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAO,IAAA,CAAA,QAAA,GAAW,IAAI,aAAc,EAAA,CAAA;AACpC,IAAO,IAAA,CAAA,YAAA,GAAe,IAAI,cAAe,EAAA,CAAA;AAAA,GAAA;AAAA,EAElC,IACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAS,KAAM,EAAA,CAAA;AACpB,IAAA,IAAA,CAAK,aAAa,KAAM,EAAA,CAAA;AAAA,GAC5B;AACJ,CAAA;AAEO,MAAM,qBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAcH;AAAA;AAAA,IAAA,IAAA,CAAiB,kBAA6B,EAAC,CAAA;AAC/C,IAAA,IAAA,CAAQ,kBAAsD,EAAC,CAAA;AAE/D;AAAA,IAAQ,IAAA,CAAA,wBAAA,mBAA6E,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAChG,IAAA,IAAA,CAAiB,4BAA+C,EAAC,CAAA;AAAA,GAAA;AAAA,EAEvD,SACV,GAAA;AACI,IAAA,IAAA,CAAK,qBAAsB,EAAA,CAAA;AAAA,GAC/B;AAAA,EAEO,qBAAqB,OAC5B,EAAA;AACI,IAAA,OAAO,KAAK,wBAAyB,CAAA,OAAA,CAAQ,GAAG,CAAK,IAAA,IAAA,CAAK,uBAAuB,OAAO,CAAA,CAAA;AAAA,GAC5F;AAAA;AAAA,EAGO,iBAAiB,OACxB,EAAA;AACI,IAAI,IAAA,UAAA,GAAiC,KAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAElE,IAAA,IAAA,CAAK,aAAa,OAAO,CAAA,CAAA;AAE5B,IAAA,IAAI,QAAQ,KACZ,EAAA;AACI,MAAA,IAAI,UACJ,EAAA;AACI,QAAA,IAAA,CAAK,0BAA0B,OAAO,CAAA,CAAA;AAAA,OAG1C,MAAA;AACI,QAAa,UAAA,GAAA,IAAA,CAAK,aAAa,OAAO,CAAA,CAAA;AAAA,OAC1C;AAEA,MAAM,MAAA,cAAA,GAAiB,oBAAoB,OAAO,CAAA,CAAA;AAElD,MAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,MAAA,MAAM,YAAY,OAAQ,CAAA,SAAA,CAAA;AAE1B,MAAA,IAAI,WAAc,GAAA,IAAA,CAAA;AAGlB,MAAI,IAAA,OAAA,CAAQ,YAAgB,IAAA,SAAA,KAAc,UAC1C,EAAA;AACI,QAAc,WAAA,GAAA,KAAA,CAAA;AAAA,OAClB,MAAA,IACS,cAAc,MACvB,EAAA;AACI,QAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,cAAA,CAAe,QAAQ,CAC3C,EAAA,EAAA;AACI,UAAQ,IAAA,IAAA,cAAA,CAAe,CAAC,CAAE,CAAA,UAAA,CAAA;AAE1B,UAAA,IAAI,OAAO,GACX,EAAA;AACI,YAAc,WAAA,GAAA,KAAA,CAAA;AACd,YAAA,MAAA;AAAA,WACJ;AAAA,SACJ;AAAA,OACJ;AAEA,MAAA,UAAA,GAAa,IAAK,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA;AAAA,QAC7C,WAAA;AAAA,QACA,OAAS,EAAA,cAAA;AAAA,OACb,CAAA;AAEA,MAAA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAA;AAAA,KACpB;AAEA,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA,EAEO,cAAc,OACrB,EAAA;AACI,IAAA,OAAO,KAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAK,IAAA,IAAA,CAAK,aAAa,OAAO,CAAA,CAAA;AAAA,GACzE;AAAA,EAEQ,qBACR,GAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,eAAA,CAAgB,QAAQ,CACjD,EAAA,EAAA;AACI,MAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,eAAgB,CAAA,CAAC,CAAa,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,gBAAgB,MAAS,GAAA,CAAA,CAAA;AAAA,GAClC;AAAA,EAEQ,uBAAuB,OAC/B,EAAA;AACI,IAAM,MAAA,YAAA,GAA0C,OAAQ,CAAA,GAAA,CAAI,yBAAyB,CAAA,CAAA;AAErF,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAE,CAAA,OAAA,CAAA;AAElD,IAAA,IAAI,UAAa,GAAA,CAAA,CAAA;AACjB,IAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,IAAQ,OAAA,CAAA,OAAA,CAAQ,CAAC,KACjB,KAAA;AACI,MAAA,KAAA,CAAM,cAAiB,GAAA,KAAA,CAAA;AACvB,MAAc,UAAA,IAAA,KAAA,CAAM,aAAa,QAAS,CAAA,MAAA,CAAA;AAC1C,MAAa,SAAA,IAAA,KAAA,CAAM,aAAa,OAAQ,CAAA,MAAA,CAAA;AAAA,KAC3C,CAAA,CAAA;AAED,IAAM,MAAA,OAAA,GAAU,OAAQ,CAAA,GAAA,CAAI,OAAO,CAAA,CAAA;AAEnC,IAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,OAAO,CAAA,CAAA;AAEjC,IAAA,OAAA,CAAQ,sBAAsB,UAAU,CAAA,CAAA;AACxC,IAAA,OAAA,CAAQ,kBAAkB,SAAS,CAAA,CAAA;AAEnC,IAAA,OAAA,CAAQ,KAAM,EAAA,CAAA;AAEd,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,QAAQ,CAAC,CAAA,CAAA;AAEvB,MAAA,OAAA,CAAQ,IAAI,KAAK,CAAA,CAAA;AAAA,KACrB;AAEA,IAAQ,OAAA,CAAA,MAAA,CAAO,aAAa,YAAY,CAAA,CAAA;AAExC,IAAA,MAAM,WAAW,YAAa,CAAA,QAAA,CAAA;AAE9B,IAAS,QAAA,CAAA,WAAA,CAAY,OAAO,OAAQ,CAAA,WAAA,CAAA;AAKpC,IAAA,QAAA,CAAS,OAAQ,CAAA,CAAC,CAAE,CAAA,IAAA,GAAO,QAAQ,eAAgB,CAAA,WAAA,CAAA;AAEnD,IAAA,QAAA,CAAS,WAAY,CAAA,MAAA,CAAO,OAAQ,CAAA,SAAA,GAAY,CAAC,CAAA,CAAA;AACjD,IAAA,QAAA,CAAS,QAAQ,CAAC,CAAA,CAAE,MAAO,CAAA,OAAA,CAAQ,gBAAgB,CAAC,CAAA,CAAA;AAEpD,IAAA,MAAM,cAAc,OAAQ,CAAA,OAAA,CAAA;AAE5B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CACxC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,YAAY,CAAC,CAAA,CAAA;AAE3B,MAAA,KAAA,CAAM,YAAY,wBAAyB,CAAA,KAAA,CAAM,SAAS,QAAU,EAAA,KAAA,CAAM,SAAS,KAAK,CAAA,CAAA;AAAA,KAC5F;AAEA,IAAK,IAAA,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAAI,GAAA,YAAA,CAAA;AAE7C,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEQ,aAAa,OACrB,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,IAAI,kBAAmB,EAAA,CAAA;AAE1C,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA,UAAA,CAAA;AAEpC,IAAA,OAAA,CAAQ,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,uBAAA,EAAyB,IAAI,CAAA,CAAA;AACvD,IAAA,OAAA,CAAQ,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,wBAAA,EAA0B,IAAI,CAAA,CAAA;AAEzD,IAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAAA,GAC3C;AAAA,EAEU,wBAAwB,OAClC,EAAA;AACI,IAAK,IAAA,CAAA,yBAAA,CAA0B,KAAK,OAAO,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEU,yBAAyB,OACnC,EAAA;AACI,IAAA,IAAA,CAAK,0BAA0B,OAAO,CAAA,CAAA;AACtC,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACxC;AAAA,EAEQ,0BAA0B,OAClC,EAAA;AACI,IAAA,MAAM,UAAiC,GAAA,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAEvE,IAAI,IAAA,CAAC,WAAW,WAChB,EAAA;AACI,MAAA,IAAI,IAAK,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAC7C,EAAA;AACI,QAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,oBAAqB,CAAA,OAAO,CAAa,CAAA,CAAA;AAG7D,QAAK,IAAA,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,OACjD;AAAA,KACJ;AAEA,IAAA,IAAI,WAAW,OACf,EAAA;AACI,MAAW,UAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,CAAC,KAC5B,KAAA;AACI,QAAA,OAAA,CAAQ,OAAO,KAAiB,CAAA,CAAA;AAAA,OACnC,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AAEI,IAAW,KAAA,MAAA,OAAA,IAAW,KAAK,yBAC3B,EAAA;AACI,MAAA,IAAA,CAAK,0BAA0B,OAAO,CAAA,CAAA;AACtC,MAAK,IAAA,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KACxC;AAEA,IAAA,IAAA,CAAK,0BAA0B,MAAS,GAAA,CAAA,CAAA;AAAA,GAC5C;AACJ,CAAA;AAAA;AA3Na,qBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,iBAAA;AACV,CAAA;;ACzCG,SAAS,cAAe,CAAA,GAAA,EAAa,KAAe,EAAA,GAAA,EAAmB,MAC9E,EAAA;AAEI,EAAA,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,GAAO,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AACvC,EAAA,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,GAAO,IAAA,CAAA,GAAK,GAAQ,IAAA,GAAA,CAAA;AACtC,EAAI,GAAA,CAAA,MAAA,EAAQ,CAAK,GAAA,CAAA,GAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAC/B,EAAA,GAAA,CAAI,QAAQ,CAAI,GAAA,KAAA,CAAA;AACpB,CAAA;AAEgB,SAAA,mBAAA,CAAoB,IAAc,EAAA,GAAA,EAAmB,MACrE,EAAA;AACI,EAAI,GAAA,CAAA,MAAA,EAAQ,CAAK,GAAA,CAAA,IAAA,GAAO,GAAQ,IAAA,GAAA,CAAA;AAChC,EAAA,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,IAAQ,IAAA,CAAA,GAAK,GAAQ,IAAA,GAAA,CAAA;AACvC,EAAA,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,IAAQ,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AACxC,EAAA,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,IAAQ,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAC5C;;ACuBO,MAAM,YACb,CAAA;AAAA,EAkBI,WAAA,CAAY,UAA0B,OACtC,EAAA;AAPA,IAAO,IAAA,CAAA,KAAA,GAAe,MAAM,KAAM,EAAA,CAAA;AAGlC;AAAA,IAAQ,IAAA,CAAA,sBAAA,mBAAqE,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAKpF,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAChB,IAAA,IAAA,CAAK,SAAS,IAAK,EAAA,CAAA;AAAA,GACvB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AAGI,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAEhC,IAAA,MAAM,aAAa,CAAC,CAAC,IAAK,CAAA,sBAAA,CAAuB,WAAW,GAAG,CAAA,CAAA;AAE/D,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,QAAS,CAAA,eAAA,CAAgB,iBAAiB,OAAO,CAAA,CAAA;AAEzE,IAAA,IAAI,UAAW,CAAA,WAAA,IAAe,UAAe,KAAA,UAAA,CAAW,WACxD,EAAA;AAEI,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,aAAA,CAAc,YAAsC,cAC3D,EAAA;AACI,IAAA,MAAM,aAAa,IAAK,CAAA,QAAA,CAAS,gBAAgB,gBAAiB,CAAA,UAAA,CAAW,KAAK,OAAO,CAAA,CAAA;AAKzF,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,SAAS,UAAU,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAI,WAAW,WACf,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,YAAY,cAAc,CAAA,CAAA;AAAA,KAGjD,MAAA;AACI,MAAA,IAAA,CAAK,QAAS,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AACpD,MAAA,cAAA,CAAe,GAAI,CAAA;AAAA,QACf,IAAM,EAAA,UAAA;AAAA,QACN,UAAA;AAAA,OACoB,CAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,sBAAuB,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAE1D,IAAA,IAAI,OACJ,EAAA;AACI,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,QAAM,MAAA,KAAA,GAAQ,QAAQ,CAAC,CAAA,CAAA;AAEvB,QAAM,KAAA,CAAA,OAAA,CAAQ,cAAc,KAAK,CAAA,CAAA;AAAA,OACrC;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAK,IAAA,CAAA,yBAAA,CAA0B,WAAW,GAAG,CAAA,CAAA;AAAA,GACjD;AAAA,EAEO,OAAA,CAAQ,EAAE,UAAA,EACjB,EAAA;AACI,IAAA,IAAI,CAAC,UAAW,CAAA,YAAA;AAAc,MAAA,OAAA;AAE9B,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AACtB,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAChC,IAAA,MAAM,gBAAgB,QAAS,CAAA,eAAA,CAAA;AAG/B,IAAA,IAAI,CAAC,aAAc,CAAA,aAAA,CAAc,OAAO,CAAA,CAAE,QAAQ,MAClD,EAAA;AAAE,MAAA,OAAA;AAAA,KAAQ;AAEV,IAAA,MAAM,MAAS,GAAA,OAAA,CAAQ,YAAgB,IAAA,IAAA,CAAK,QAAS,CAAA,MAAA,CAAA;AAErD,IAAK,IAAA,CAAA,KAAA,CAAM,YAAY,UAAW,CAAA,cAAA,CAAA;AAElC,IAAM,MAAA,aAAA,GAAgB,MAAO,CAAA,SAAA,CAAU,aAAc,CAAA,QAAA,CAAA;AAErD,IAAA,aAAA,CAAc,mBAAmB,UAAW,CAAA,cAAA,CAAA;AAC5C,IAAA,aAAA,CAAc,MAAS,GAAA,QAAA,CAAS,YAAe,GAAA,UAAA,CAAW,IAAK,CAAA,WAAA,CAAA;AAE/D,IAAA,mBAAA;AAAA,MACI,UAAW,CAAA,UAAA;AAAA,MACX,aAAc,CAAA,MAAA;AAAA,MACd,CAAA;AAAA,KACJ,CAAA;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,IAAA,EAAM,UAAU,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEQ,SAAS,UACjB,EAAA;AACI,IAAA,MAAM,aAAa,CAAC,CAAC,IAAK,CAAA,sBAAA,CAAuB,WAAW,GAAG,CAAA,CAAA;AAE/D,IAAA,MAAM,aAAa,IAAK,CAAA,QAAA,CAAS,gBAAgB,gBAAiB,CAAA,UAAA,CAAW,KAAK,OAAO,CAAA,CAAA;AAIzF,IAAA,IAAI,UACJ,EAAA;AACI,MAAK,IAAA,CAAA,yBAAA,CAA0B,WAAW,GAAG,CAAA,CAAA;AAAA,KACjD;AAEA,IAAA,IAAI,WAAW,WACf,EAAA;AACI,MAAA,IAAA,CAAK,0BAA0B,UAAU,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAW,UAAA,CAAA,IAAA,CAAK,UAAU,UAAW,CAAA,WAAA,CAAA;AAAA,GACzC;AAAA,EAEQ,aAAA,CAAc,YAAsC,cAC5D,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,QAAA,CAAS,WAAY,CAAA,KAAA,CAAA;AAE5C,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,wBAAA,CAAyB,UAAU,CAAA,CAAA;AAExD,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,QAAQ,CAAC,CAAA,CAAA;AAEvB,MAAU,SAAA,CAAA,UAAA,CAAW,OAAO,cAAc,CAAA,CAAA;AAAA,KAC9C;AAAA,GACJ;AAAA,EAEQ,yBAAyB,UACjC,EAAA;AACI,IAAA,OAAO,KAAK,sBAAuB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,0BAA0B,UAAU,CAAA,CAAA;AAAA,GACnG;AAAA,EAEQ,0BAA0B,UAClC,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAEhC,IAAA,MAAM,UAAiC,GAAA,IAAA,CAAK,QAAS,CAAA,eAAA,CAAgB,cAAc,OAAO,CAAA,CAAA;AAE1F,IAAA,MAAM,WAAe,GAAA,IAAA,CAAK,QAAS,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAElE,IAAA,MAAM,OAAU,GAAA,UAAA,CAAW,OAAQ,CAAA,GAAA,CAAI,CAAC,KACxC,KAAA;AAEI,MAAM,MAAA,UAAA,GAAa,OAAQ,CAAA,GAAA,CAAI,iBAAiB,CAAA,CAAA;AAEhD,MAAA,KAAA,CAAM,OAAO,UAAU,CAAA,CAAA;AAEvB,MAAA,UAAA,CAAW,UAAa,GAAA,UAAA,CAAA;AAExB,MAAA,UAAA,CAAW,WAAc,GAAA,WAAA,CAAA;AAEzB,MAAO,OAAA,UAAA,CAAA;AAAA,KACV,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,sBAAA,CAAuB,UAAW,CAAA,GAAG,CAAI,GAAA,OAAA,CAAA;AAG9C,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEQ,0BAA0B,aAClC,EAAA;AACI,IAAA,IAAA,CAAK,sBAAuB,CAAA,aAAa,CAAE,CAAA,OAAA,CAAQ,CAAC,KACpD,KAAA;AACI,MAAA,OAAA,CAAQ,OAAO,KAAiB,CAAA,CAAA;AAAA,KACnC,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,sBAAA,CAAuB,aAAa,CAAI,GAAA,IAAA,CAAA;AAAA,GACjD;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,SAAS,OAAQ,EAAA,CAAA;AACtB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,sBACrB,EAAA;AACI,MAAA,IAAA,CAAK,0BAA0B,CAAsB,CAAA,CAAA;AAAA,KACzD;AAEA,IAAA,IAAA,CAAK,sBAAyB,GAAA,IAAA,CAAA;AAAA,GAClC;AACJ,CAAA;AAAA;AA9Na,YAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA;;AC3CG,MAAM,aACb,CAAA;AAAA,EADO,WAAA,GAAA;AAMH,IAAA,IAAA,CAAO,OAAmB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAO,KAAe,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAE5B,IAAI,SAAY,GAAA;AAAE,IAAA,OAAO,KAAK,UAAW,CAAA,cAAA,CAAA;AAAA,GAAgB;AAAA,EAElD,KACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA,EAEO,SAAA,CAAU,WAA0B,EAAA,KAAA,EAAe,aAC1D,EAAA;AACI,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAA;AAE9C,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,QAAQ,CACpC,EAAA,EAAA;AACI,MAAA,WAAA,CAAY,KAAO,EAAA,CAAA,GAAI,OAAQ,CAAA,CAAC,CAAI,GAAA,aAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEO,cACH,CAAA,WAAA,EACA,UACA,EAAA,KAAA,EACA,SAEJ,EAAA;AACI,IAAA,MAAM,aAAa,IAAK,CAAA,UAAA,CAAA;AAExB,IAAM,MAAA,IAAA,GAAO,KAAK,UAAW,CAAA,IAAA,CAAA;AAE7B,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;AACtB,IAAA,MAAM,KAAK,UAAW,CAAA,cAAA,CAAA;AAEtB,IAAA,MAAM,iBAAqB,GAAA,SAAA,IAAa,EAAO,GAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAElE,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AACd,IAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AAGd,IAAA,MAAM,YAAY,QAAS,CAAA,SAAA,CAAA;AAC3B,IAAA,MAAM,MAAM,QAAS,CAAA,GAAA,CAAA;AAErB,IAAA,MAAM,OAAO,UAAW,CAAA,UAAA,CAAA;AAExB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,EAAQ,KAAK,CAC3C,EAAA;AACI,MAAM,MAAA,CAAA,GAAI,UAAU,CAAC,CAAA,CAAA;AACrB,MAAM,MAAA,CAAA,GAAI,SAAU,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEzB,MAAA,WAAA,CAAY,KAAK,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AACzC,MAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAG7C,MAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,CAAC,CAAA,CAAA;AAC9B,MAAA,WAAA,CAAY,KAAQ,GAAA,CAAC,CAAI,GAAA,GAAA,CAAI,IAAI,CAAC,CAAA,CAAA;AAElC,MAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,IAAA,CAAA;AACxB,MAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,iBAAA,CAAA;AAExB,MAAS,KAAA,IAAA,CAAA,CAAA;AAAA,KACb;AAAA,GACJ;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAW,IAAK,CAAA,QAAA,CAAS,UAAU,MAAS,GAAA,CAAA,CAAA;AAAA,GAC5D;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,UAAA,CAAW,IAAK,CAAA,QAAA,CAAS,OAAQ,CAAA,MAAA,CAAA;AAAA,GACjD;AACJ;;ACjDO,MAAM,QACb,CAAA;AAAA,EA2BI,WAAA,CAAY,UAAoB,OAChC,EAAA;AAjBA,IAAO,IAAA,CAAA,aAAA,GAAgB,IAAI,YAAa,CAAA;AAAA,MACpC,kBAAkB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MAC7D,MAAQ,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MACnE,MAAQ,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,KACnC,CAAA,CAAA;AAED,IAAO,IAAA,CAAA,sBAAA,GAAyB,IAAI,SAAU,CAAA;AAAA,MAC1C,GAAG,IAAK,CAAA,aAAA;AAAA,KACX,CAAA,CAAA;AAID,IAAQ,IAAA,CAAA,eAAA,mBAAyD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC5E,IAAQ,IAAA,CAAA,qBAAA,mBAA8D,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAK7E,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,SAAS,IAAK,EAAA,CAAA;AAAA,GACvB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AACI,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,UAAU,CAAA,CAAA;AAEzD,IAAA,MAAM,aAAa,cAAe,CAAA,OAAA,CAAA;AAElC,IAAM,MAAA,SAAA,GAAY,WAAW,IAAK,CAAA,OAAA,CAAA;AAElC,IAAA,cAAA,CAAe,OAAU,GAAA,SAAA,CAAA;AAEzB,IAAA,IAAI,eAAe,SACnB,EAAA;AACI,MAAO,OAAA,IAAA,CAAA;AAAA,eAEF,SACT,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,WAAW,IAAK,CAAA,SAAA,CAAA;AAGjC,MAAI,IAAA,QAAA,CAAS,QAAQ,MAAW,KAAA,cAAA,CAAe,aACpC,QAAS,CAAA,SAAA,CAAU,MAAW,KAAA,cAAA,CAAe,UACxD,EAAA;AACI,QAAe,cAAA,CAAA,SAAA,GAAY,SAAS,OAAQ,CAAA,MAAA,CAAA;AAC5C,QAAe,cAAA,CAAA,UAAA,GAAa,SAAS,SAAU,CAAA,MAAA,CAAA;AAE/C,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAEA,MAAM,MAAA,aAAA,GAAgB,IAAK,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAEvD,MAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAEhC,MAAA,IAAI,aAAc,CAAA,OAAA,CAAQ,OAAY,KAAA,OAAA,CAAQ,OAC9C,EAAA;AACI,QAAA,IAAI,aAAc,CAAA,OAAA,CAAQ,OAAY,KAAA,OAAA,CAAQ,OAC9C,EAAA;AACI,UAAA,OAAO,aAAc,CAAA,OAAA,CAAQ,qBAAsB,CAAA,aAAA,EAAe,OAAO,CAAA,CAAA;AAAA,SAC7E;AAAA,OACJ;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,aAAA,CAAc,YAAkC,cACvD,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,QAAA,CAAS,WAAY,CAAA,KAAA,CAAA;AAE1C,IAAA,MAAM,EAAE,OAAA,EAAY,GAAA,IAAA,CAAK,mBAAmB,UAAU,CAAA,CAAA;AAEtD,IAAA,IAAI,OACJ,EAAA;AACI,MAAM,MAAA,gBAAA,GAAmB,IAAK,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAE1D,MAAiB,gBAAA,CAAA,OAAA,GAAU,WAAW,IAAK,CAAA,QAAA,CAAA;AAE3C,MAAA,OAAA,CAAQ,WAAW,gBAAgB,CAAA,CAAA;AAAA,KAGvC,MAAA;AACI,MAAA,OAAA,CAAQ,MAAM,cAAc,CAAA,CAAA;AAE5B,MAAA,cAAA,CAAe,GAAI,CAAA;AAAA,QACf,IAAM,EAAA,MAAA;AAAA,QACN,UAAA;AAAA,OACgB,CAAA,CAAA;AAAA,KACxB;AAAA,GACJ;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAI,IAAA,UAAA,CAAW,KAAK,OACpB,EAAA;AACI,MAAA,MAAM,gBAAmB,GAAA,IAAA,CAAK,qBAAsB,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAElE,MAAiB,gBAAA,CAAA,OAAA,GAAU,WAAW,IAAK,CAAA,QAAA,CAAA;AAE3C,MAAiB,gBAAA,CAAA,OAAA,CAAQ,cAAc,gBAAgB,CAAA,CAAA;AAAA,KAC3D;AAAA,GACJ;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAK,IAAA,CAAA,eAAA,CAAgB,UAAW,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAEvC,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,qBAAsB,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAEzD,IAAA,OAAA,CAAQ,OAAO,OAAmB,CAAA,CAAA;AAElC,IAAK,IAAA,CAAA,qBAAA,CAAsB,UAAW,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACjD;AAAA,EAEO,OAAA,CAAQ,EAAE,UAAA,EACjB,EAAA;AACI,IAAA,IAAI,CAAC,UAAW,CAAA,YAAA;AAAc,MAAA,OAAA;AAE9B,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAK,IAAA,CAAA,KAAA,CAAM,YAAY,UAAW,CAAA,cAAA,CAAA;AAElC,IAAA,MAAM,gBAAgB,IAAK,CAAA,aAAA,CAAA;AAE3B,IAAc,aAAA,CAAA,QAAA,CAAS,mBAAmB,UAAW,CAAA,cAAA,CAAA;AACrD,IAAA,aAAA,CAAc,SAAS,MAAS,GAAA,IAAA,CAAK,QAAS,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAC7E,IAAA,aAAA,CAAc,MAAO,EAAA,CAAA;AAErB,IAAA,mBAAA;AAAA,MACI,UAAW,CAAA,UAAA;AAAA,MACX,cAAc,QAAS,CAAA,MAAA;AAAA,MACvB,CAAA;AAAA,KACJ,CAAA;AAEA,IAAK,IAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,IAAA,EAAM,UAAU,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEQ,mBAAmB,UAC3B,EAAA;AACI,IAAA,OAAO,KAAK,eAAgB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,oBAAoB,UAAU,CAAA,CAAA;AAAA,GACtF;AAAA,EAEQ,oBAAoB,UAC5B,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAK,IAAA,CAAA,eAAA,CAAgB,UAAW,CAAA,GAAG,CAAI,GAAA;AAAA,MACnC,SAAS,IAAK,CAAA,OAAA;AAAA,MACd,SAAA,EAAW,IAAK,CAAA,SAAA,CAAU,OAAQ,CAAA,MAAA;AAAA,MAClC,UAAA,EAAY,IAAK,CAAA,SAAA,CAAU,SAAU,CAAA,MAAA;AAAA,KACzC,CAAA;AAEA,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAAA,GAC9C;AAAA,EAEQ,kBAAkB,UAC1B,EAAA;AACI,IAAA,OAAO,KAAK,qBAAsB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,mBAAmB,UAAU,CAAA,CAAA;AAAA,GAC3F;AAAA,EAEQ,mBAAmB,UAC3B,EAAA;AAEI,IAAM,MAAA,OAAA,GAAyB,OAAQ,CAAA,GAAA,CAAI,aAAa,CAAA,CAAA;AAExD,IAAA,OAAA,CAAQ,UAAa,GAAA,UAAA,CAAA;AACrB,IAAQ,OAAA,CAAA,OAAA,GAAU,WAAW,IAAK,CAAA,QAAA,CAAA;AAClC,IAAA,OAAA,CAAQ,WAAe,GAAA,IAAA,CAAK,QAAS,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAEpE,IAAK,IAAA,CAAA,qBAAA,CAAsB,UAAW,CAAA,GAAG,CAAI,GAAA,OAAA,CAAA;AAE7C,IAAA,OAAA,CAAQ,UAAa,GAAA,UAAA,CAAA;AAErB,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,qBACrB,EAAA;AACI,MAAI,IAAA,IAAA,CAAK,qBAAsB,CAAA,CAAC,CAChC,EAAA;AACI,QAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,qBAAsB,CAAA,CAAC,CAAa,CAAA,CAAA;AAAA,OAC5D;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,qBAAwB,GAAA,IAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAEvB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,sBAAyB,GAAA,IAAA,CAAA;AAE9B,IAAA,IAAA,CAAK,SAAS,OAAQ,EAAA,CAAA;AACtB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AACJ,CAAA;AAAA;AAxNa,QAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,MAAA;AACV,CAAA;;ACjDG,MAAM,eACb,CAAA;AAAA,EADO,WAAA,GAAA;AAMH;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AAInB,IAAA,IAAA,CAAO,QAAW,GAAA,CAAA,CAAA;AAClB;AAAA,IAAA,IAAA,CAAO,OAAmB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAO,KAAe,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAE5B,IAAI,SAAY,GAAA;AAAE,IAAA,OAAO,KAAK,UAAW,CAAA,cAAA,CAAA;AAAA,GAAgB;AAAA,EAElD,cACH,CAAA,WAAA,EACA,UACA,EAAA,KAAA,EACA,SAEJ,EAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,UAAA,CAAA;AACpB,IAAA,MAAM,UAAU,IAAK,CAAA,OAAA,CAAA;AAErB,IAAA,MAAM,KAAK,MAAO,CAAA,cAAA,CAAA;AAElB,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,IAAI,EAAG,CAAA,CAAA,CAAA;AACb,IAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AACd,IAAA,MAAM,KAAK,EAAG,CAAA,EAAA,CAAA;AAEd,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAM,MAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACnB,IAAM,MAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACnB,IAAM,MAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AACnB,IAAM,MAAA,EAAA,GAAK,OAAO,CAAC,CAAA,CAAA;AAEnB,IAAM,MAAA,GAAA,GAAM,QAAQ,OAAQ,CAAA,GAAA,CAAA;AAI5B,IAAA,MAAM,OAAO,MAAO,CAAA,UAAA,CAAA;AAEpB,IAAA,MAAM,iBAAqB,GAAA,SAAA,IAAa,EAAO,GAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAElE,IAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAC/C,IAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAE/C,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAC7B,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAE7B,IAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,IAAA,CAAA;AACxB,IAAW,UAAA,CAAA,KAAA,GAAQ,CAAC,CAAI,GAAA,iBAAA,CAAA;AAGxB,IAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAC/C,IAAA,WAAA,CAAY,QAAQ,CAAC,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAE/C,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAC7B,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAE7B,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,IAAA,CAAA;AACzB,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,iBAAA,CAAA;AAGzB,IAAA,WAAA,CAAY,QAAQ,EAAE,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAChD,IAAA,WAAA,CAAY,QAAQ,EAAE,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAEhD,IAAY,WAAA,CAAA,KAAA,GAAQ,EAAE,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAC9B,IAAY,WAAA,CAAA,KAAA,GAAQ,EAAE,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAE9B,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,IAAA,CAAA;AACzB,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,iBAAA,CAAA;AAGzB,IAAA,WAAA,CAAY,QAAQ,EAAE,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAChD,IAAA,WAAA,CAAY,QAAQ,EAAE,CAAA,GAAK,CAAI,GAAA,EAAA,GAAO,IAAI,EAAM,GAAA,EAAA,CAAA;AAEhD,IAAY,WAAA,CAAA,KAAA,GAAQ,EAAE,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAC9B,IAAY,WAAA,CAAA,KAAA,GAAQ,EAAE,CAAA,GAAI,GAAI,CAAA,EAAA,CAAA;AAE9B,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,IAAA,CAAA;AACzB,IAAW,UAAA,CAAA,KAAA,GAAQ,EAAE,CAAI,GAAA,iBAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,SAAA,CAAU,WAA0B,EAAA,KAAA,EAAe,aAC1D,EAAA;AACI,IAAY,WAAA,CAAA,KAAK,IAAI,aAAgB,GAAA,CAAA,CAAA;AACrC,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;AACzC,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;AAEzC,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;AACzC,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;AACzC,IAAY,WAAA,CAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;AAAA,GAC7C;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ;;AC1GA,IAAI,aAAA,CAAA;AAEG,MAAM,UACb,CAAA;AAAA,EAcI,YAAY,QACZ,EAAA;AAHA,IAAQ,IAAA,CAAA,cAAA,mBAAyD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAIxE,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAA,aAAA,GAAgB,IAAK,CAAA,cAAA,CAAA;AAAA,GACzB;AAAA,EAEO,aAAA,CAAc,YAAoC,eACzD,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,aAAA,CAAc,UAAU,CAAA,CAAA;AAE/C,IAAA,IAAI,WAAW,IAAK,CAAA,UAAA;AAAY,MAAK,IAAA,CAAA,sBAAA,CAAuB,YAAY,SAAS,CAAA,CAAA;AAGjF,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,UAAA,CAAW,SAAS,CAAA,CAAA;AAAA,GACzD;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,aAAc,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAE9C,IAAA,IAAI,WAAW,IAAK,CAAA,UAAA;AAAY,MAAK,IAAA,CAAA,sBAAA,CAAuB,YAAY,SAAS,CAAA,CAAA;AAEjF,IAAU,SAAA,CAAA,OAAA,CAAQ,cAAc,SAAS,CAAA,CAAA;AAAA,GAC7C;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,QAAA,CAAA;AAChC,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,aAAA,CAAc,UAAU,CAAA,CAAA;AAE/C,IAAA,IAAI,SAAU,CAAA,OAAA,CAAQ,OAAY,KAAA,OAAA,CAAQ,OAC1C,EAAA;AACI,MAAA,OAAO,CAAC,SAAA,CAAU,OAAQ,CAAA,qBAAA,CAAsB,WAAW,OAAO,CAAA,CAAA;AAAA,KACtE;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,aAAc,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAGpD,IAAA,OAAA,CAAQ,OAAO,eAA2B,CAAA,CAAA;AAE1C,IAAc,aAAA,CAAA,UAAA,CAAW,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACpC;AAAA,EAEQ,sBAAA,CAAuB,YAAoC,eACnE,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAClB,IAAA,eAAA,CAAgB,SAAS,IAAK,CAAA,MAAA,CAAA;AAC9B,IAAA,eAAA,CAAgB,UAAU,IAAK,CAAA,QAAA,CAAA;AAAA,GACnC;AAAA,EAEQ,cAAc,UACtB,EAAA;AACI,IAAA,OAAO,cAAc,UAAW,CAAA,GAAG,CAAK,IAAA,IAAA,CAAK,eAAe,UAAU,CAAA,CAAA;AAAA,GAC1E;AAAA,EAEQ,eAAe,UACvB,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,OAAQ,CAAA,GAAA,CAAI,eAAe,CAAA,CAAA;AAEnD,IAAA,eAAA,CAAgB,UAAa,GAAA,UAAA,CAAA;AAE7B,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,eAAA,CAAgB,UAAU,IAAK,CAAA,QAAA,CAAA;AAC/B,IAAA,eAAA,CAAgB,SAAS,IAAK,CAAA,MAAA,CAAA;AAC9B,IAAA,eAAA,CAAgB,WAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,GAAe,IAAK,CAAA,WAAA,CAAA;AAElE,IAAc,aAAA,CAAA,UAAA,CAAW,GAAG,CAAI,GAAA,eAAA,CAAA;AAEhC,IAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAG7B,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,eAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,cACrB,EAAA;AACI,MAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,cAAe,CAAA,CAAC,CAAa,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AAhHa,UAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;ACVG,MAAM,wBAA+CpD,aAC5D,CAAA;AAAA,EAQI,WAAY,CAAA,EAAE,QAAU,EAAA,IAAA,EACxB,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AATV,IAAO,IAAA,CAAA,GAAA,GAAM,IAAI,YAAY,CAAA,CAAA;AAK7B,IAAA,IAAA,CAAO,aAAgB,GAAA,KAAA,CAAA;AAMnB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAI,QACJ,EAAA;AACI,MAAA,IAAA,CAAK,KAAK,QAAQ,CAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AAAA,EAEO,KAAK,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAA,IAAA,CAAK,iBAAiB,QAAS,CAAA,cAAA,CAAA;AAAA,GACnC;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,UAAA,CAAA;AAAA,GAC1B;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,cAAA,CAAA;AAAA,GAC1B;AAAA,EAEA,IAAI,sBACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,sBAAA,CAAA;AAAA,GAC1B;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,YAAA,CAAA;AAAA,GAC1B;AACJ;;AC9CA,MAAM,WAAA,GAAc,IAAI,OAAQ,EAAA,CAAA;AAiBzB,MAAM,QAIb,CAAA;AAAA,EAgBI,YAAY,OACZ,EAAA;AAhBA,IAAgB,IAAA,CAAA,GAAA,GAAc,IAAI,UAAU,CAAA,CAAA;AAC5C,IAAA,IAAA,CAAgB,YAAe,GAAA,MAAA,CAAA;AAC/B,IAAA,IAAA,CAAgB,SAAY,GAAA,IAAA,CAAA;AAC5B,IAAA,IAAA,CAAgB,KAAQ,GAAA,iBAAA,CAAA;AACxB,IAAO,IAAA,CAAA,KAAA,GAAQ,MAAM,KAAM,EAAA,CAAA;AAS3B,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AAhDhC,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAoDQ,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,MAAA,CAAA;AACtB,IAAK,IAAA,CAAA,OAAA,GAAA,CAAU,mBAAQ,OAAR,KAAA,IAAA,GAAA,EAAA,GAAA,CAAmB,UAAK,MAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAa,OAAhC,KAAA,IAAA,GAAA,EAAA,GAA2C,OAAQ,CAAA,KAAA,CAAA;AAElE,IAAA,IAAA,CAAK,YAAY,OAAQ,CAAA,QAAA,CAAA;AACzB,IAAA,IAAA,CAAK,SAAU,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GACnD;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,KAAK,OAAY,KAAA,KAAA;AAAO,MAAA,OAAA;AAE5B,IAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AACf,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AAzEJ,IAAA,IAAA,EAAA,CAAA;AA0EQ,IAAA,IAAI,KAAK,SAAc,KAAA,KAAA;AAAO,MAAA,OAAA;AAE9B,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,SAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAgB,GAAI,CAAA,QAAA,EAAU,KAAK,QAAU,EAAA,IAAA,CAAA,CAAA;AAC7C,IAAA,KAAA,CAAM,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAEtC,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,KAAK,QAAa,KAAA,KAAA;AAAO,MAAA,OAAA;AAE7B,IAAA,IAAI,KAAK,MACT,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,OAAU,GAAA,KAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,OAAA;AAAS,MAAO,OAAA,KAAA,CAAA;AAEzB,IAAI,IAAA,IAAA,CAAK,SAAU,CAAA,SAAA,KAAc,MACjC,EAAA;AACI,MAAA,OAAO,IAAK,CAAA,SAAA,CAAU,SAAU,CAAA,MAAA,GAAS,CAAK,IAAA,GAAA,CAAA;AAAA,KAClD;AAEA,IAAO,OAAA,IAAA,CAAK,UAAU,SAAc,KAAA,OAAA,CAAA;AAAA,GACxC;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAO,MAAA,CAAA,aAAA,CAAc,KAAK,QAAS,CAAA,SAAA,EAAW,GAAG,IAAK,CAAA,QAAA,CAAS,UAAU,MAAM,CAAA,CAAA;AAAA,GACnF;AAAA,EAEO,cAAc,KACrB,EAAA;AACI,IAAM,MAAA,EAAE,CAAG,EAAA,CAAA,EAAM,GAAA,KAAA,CAAA;AAEjB,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,QAAS,CAAA,SAAA,CAAU,WAAW,CAAE,CAAA,IAAA,CAAA;AAEtD,IAAA,MAAM,SAAS,WAAY,CAAA,MAAA,CAAA;AAC3B,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,QAAS,CAAA,QAAA,EAAW,CAAA,IAAA,CAAA;AACzC,IAAA,MAAM,MAAM,OAAQ,CAAA,MAAA,CAAA;AACpB,IAAA,MAAM,IAAO,GAAA,IAAA,CAAK,QAAS,CAAA,QAAA,KAAa,mBAAmB,CAAI,GAAA,CAAA,CAAA;AAE/D,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,CAAI,GAAA,GAAA,EAAK,KAAK,IAClC,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,OAAQ,CAAA,CAAC,CAAI,GAAA,CAAA,CAAA;AAC1B,MAAA,MAAM,IAAO,GAAA,OAAA,CAAQ,CAAI,GAAA,CAAC,CAAI,GAAA,CAAA,CAAA;AAC9B,MAAA,MAAM,IAAO,GAAA,OAAA,CAAQ,CAAI,GAAA,CAAC,CAAI,GAAA,CAAA,CAAA;AAE9B,MAAO,MAAA,CAAA,CAAC,CAAI,GAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AACzB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,QAAS,CAAA,IAAA,GAAO,CAAC,CAAA,CAAA;AAC7B,MAAO,MAAA,CAAA,CAAC,CAAI,GAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AACzB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,QAAS,CAAA,IAAA,GAAO,CAAC,CAAA,CAAA;AAC7B,MAAO,MAAA,CAAA,CAAC,CAAI,GAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AACzB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,QAAS,CAAA,IAAA,GAAO,CAAC,CAAA,CAAA;AAE7B,MAAA,IAAI,WAAY,CAAA,QAAA,CAAS,CAAG,EAAA,CAAC,CAC7B,EAAA;AACI,QAAO,OAAA,IAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGU,QACV,GAAA;AACI,IAAA,IAAA,CAAK,MAAM,YAAa,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA0B,KACzC,EAAA;AACI,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,MAAM,oBAAuB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAE/E,MAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,oBAAoB,CAAA,CAAA;AAAA,KAC9C;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ;;;;;;;;;;;;;;;;;;ACxKO,MAAM,aAAA,GAAN,cAA2B,QAClC,CAAA;AAAA,EAUI,eAAe,IACf,EAAA;AA5BJ,IAAA,IAAA,EAAA,CAAA;AA6BQ,IAAA,IAAI,OAAU,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,CAAC,CAAA,KAAN,YAAW,EAAC,CAAA;AAE1B,IAAA,IAAI,mBAAmB,YACvB,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,2DAA2D,CAAA,CAAA;AAE/E,MAAU,OAAA,GAAA;AAAA,QACN,SAAW,EAAA,OAAA;AAAA,QACX,GAAA,EAAK,KAAK,CAAC,CAAA;AAAA,QACX,OAAA,EAAS,KAAK,CAAC,CAAA;AAAA,OACnB,CAAA;AAAA,KACJ;AAEA,IAAU,OAAA,GAAAV,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,cAAa,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAE/C,IAAA,MAAM,SAAY,GAAA,OAAA,CAAQ,SAAa,IAAA,IAAI,aAAa,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAC,CAAA,CAAA;AAChF,IAAA,MAAM,GAAM,GAAA,OAAA,CAAQ,GAAO,IAAA,IAAI,aAAa,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAC,CAAA,CAAA;AACpE,IAAA,MAAM,OAAU,GAAA,OAAA,CAAQ,OAAW,IAAA,IAAI,WAAY,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,CAAA;AAErE,IAAM,MAAA,cAAA,GAAiB,IAAIgE,MAAO,CAAA;AAAA,MAC9B,IAAM,EAAA,SAAA;AAAA,MACN,KAAO,EAAA,0BAAA;AAAA,MACP,KAAA,EAAO,WAAY,CAAA,MAAA,GAAS,WAAY,CAAA,QAAA;AAAA,KAC3C,CAAA,CAAA;AAED,IAAM,MAAA,QAAA,GAAW,IAAIA,MAAO,CAAA;AAAA,MACxB,IAAM,EAAA,GAAA;AAAA,MACN,KAAO,EAAA,oBAAA;AAAA,MACP,KAAA,EAAO,WAAY,CAAA,MAAA,GAAS,WAAY,CAAA,QAAA;AAAA,KAC3C,CAAA,CAAA;AAED,IAAM,MAAA,WAAA,GAAc,IAAIA,MAAO,CAAA;AAAA,MAC3B,IAAM,EAAA,OAAA;AAAA,MACN,KAAO,EAAA,mBAAA;AAAA,MACP,KAAA,EAAO,WAAY,CAAA,KAAA,GAAQ,WAAY,CAAA,QAAA;AAAA,KAC1C,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,UAAY,EAAA;AAAA,QACR,SAAW,EAAA;AAAA,UACP,MAAQ,EAAA,cAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,WAAA;AAAA,UACR,QAAQ,CAAI,GAAA,CAAA;AAAA,UACZ,MAAQ,EAAA,CAAA;AAAA,SACZ;AAAA,QACA,GAAK,EAAA;AAAA,UACD,MAAQ,EAAA,QAAA;AAAA,UACR,cAAgB,EAAA,CAAA;AAAA,UAChB,MAAQ,EAAA,WAAA;AAAA,UACR,QAAQ,CAAI,GAAA,CAAA;AAAA,UACZ,MAAQ,EAAA,CAAA;AAAA,SACZ;AAAA,OACJ;AAAA,MACA,WAAA;AAAA,MACA,UAAU,OAAQ,CAAA,QAAA;AAAA,KACrB,CAAA,CAAA;AA/DL,IAAA,IAAA,CAAO,SAAuB,GAAA,MAAA,CAAA;AAAA,GAgE9B;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,UAAW,CAAA,SAAA,CAAU,MAAO,CAAA,IAAA,CAAA;AAAA,GAC5C;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,SAAU,CAAA,MAAA,CAAO,IAAO,GAAA,KAAA,CAAA;AAAA,GAC5C;AAAA,EAEA,IAAI,GACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,UAAW,CAAA,GAAA,CAAI,MAAO,CAAA,IAAA,CAAA;AAAA,GACtC;AAAA,EAEA,IAAI,IAAI,KACR,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,GAAI,CAAA,MAAA,CAAO,IAAO,GAAA,KAAA,CAAA;AAAA,GACtC;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,IAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,YAAY,IAAO,GAAA,KAAA,CAAA;AAAA,GAC5B;AACJ,CAAA,CAAA;AArGO,IAAM,YAAN,GAAA,cAAA;AAAM,YAAA,CAEK,cAAsC,GAAA;AAAA,EAChD,QAAU,EAAA,eAAA;AACd,CAAA;;AClBG,MAAM,qBAAqB,YAClC,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,SAAW,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA,MACpD,GAAK,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA,MAC9C,OAAA,EAAS,IAAI,WAAA,CAAY,CAAC,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA,KAC9C,CAAA,CAAA;AAAA,GACL;AACJ;;ACZO,MAAM,SAAY,GAAA;AAAA,EACrB,IAAM,EAAA,YAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAalB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMpB;AAAA,EACA,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAalB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAgBpB;AAEJ,EAAA;AAEO,MAAM,WAAc,GAAA;AAAA,EACvB,IAAM,EAAA,YAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAKlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMpB;AAAA,EACA,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAMlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAUpB;AAEJ;;ACxEO,MAAM,2BAA2B,MACxC,CAAA;AAAA,EAGI,YAAY,OACZ,EAAA;AACI,IAAA,MAAM,aAAa,2BAA4B,CAAA;AAAA,MAC3C,IAAM,EAAA,sBAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,eAAA;AAAA,QACA,SAAA;AAAA,QACA,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAA,MAAM,YAAY,0BAA2B,CAAA;AAAA,MACzC,IAAM,EAAA,sBAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,iBAAA;AAAA,QACA,WAAA;AAAA,QACA,gBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAM,MAAA,cAAA,GAAiB,IAAI,YAAa,CAAA;AAAA,MACpC,WAAW,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MACtD,WAAa,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MACxE,YAAA,EAAc,EAAE,KAAA,EAAO,IAAI,YAAA,CAAa,CAAC,CAAA,EAAG,CAAC,CAAC,CAAG,EAAA,IAAA,EAAM,WAAY,EAAA;AAAA,MACnE,mBAAmB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MAC9D,WAAa,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,GAAK,EAAA,GAAA,EAAK,GAAK,EAAA,GAAG,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,KACnF,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,SAAA;AAAA,MACA,UAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,cAAA;AAAA,QACA,QAAA,EAAU,QAAQ,OAAQ,CAAA,MAAA;AAAA,QAC1B,QAAA,EAAU,OAAQ,CAAA,OAAA,CAAQ,MAAO,CAAA,KAAA;AAAA,OACrC;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,KAAK,QAAa,KAAA,KAAA;AAAO,MAAA,OAAA;AAE7B,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAEhB,IAAK,IAAA,CAAA,SAAA,CAAU,WAAW,KAAM,CAAA,MAAA,CAAA;AAChC,IAAK,IAAA,CAAA,SAAA,CAAU,QAAW,GAAA,KAAA,CAAM,MAAO,CAAA,KAAA,CAAA;AAAA,GAC3C;AACJ;;ACxDA,MAAM,UAAA,GAAa,IAAI,YAAa,EAAA,CAAA;AAE7B,MAAM,gBACb,CAAA;AAAA,EAwBI,YAAY,QACZ,EAAA;AAZA,IAAQ,IAAA,CAAA,eAAA,mBAAyD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAI5E;AAAA;AAAA,IAAQ,IAAA,CAAA,uBAAA,mBAAuE,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAE1F,IAAQ,IAAA,CAAA,gBAAA,mBAGI,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAInB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AACI,IAAM,MAAA,aAAA,GAAgB,UAAW,CAAA,IAAA,CAAK,OAAQ,CAAA,aAAA,CAAA;AAE9C,IAAA,IAAI,OAAU,GAAA,KAAA,CAAA;AAEd,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,UAAU,CAAA,CAAA;AAEzD,IAAI,IAAA,cAAA,CAAe,OAAY,KAAA,aAAA,CAAc,QAC7C,EAAA;AACI,MAAA,cAAA,CAAe,UAAU,aAAc,CAAA,QAAA,CAAA;AAEvC,MAAU,OAAA,GAAA,IAAA,CAAA;AAAA,KACd;AAOA,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEO,aAAA,CAAc,YAA0C,cAC/D,EAAA;AACI,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,SAAS,UAAU,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,MAAM,EAAE,OAAA,EAAY,GAAA,IAAA,CAAK,mBAAmB,UAAU,CAAA,CAAA;AAEtD,IAAA,IAAI,OACJ,EAAA;AACI,MAAM,MAAA,qBAAA,GAAwB,IAAK,CAAA,uBAAA,CAAwB,UAAU,CAAA,CAAA;AAErE,MAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,IAAK,CAAA,aAAA,CAAc,uBAAuB,cAAc,CAAA,CAAA;AAAA,KAGvF,MAAA;AACI,MAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,UAAU,CAAA,CAAA;AAE3D,MAAA,IAAA,CAAK,UAAU,WAAY,CAAA,IAAA,CAAK,aAAc,CAAA,eAAA,CAAgB,gBAAgB,cAAc,CAAA,CAAA;AAAA,KAChG;AAAA,GACJ;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,SAAS,UAAU,CAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,MAAM,EAAE,OAAA,EAAY,GAAA,IAAA,CAAK,mBAAmB,UAAU,CAAA,CAAA;AAEtD,IAAA,IAAI,OACJ,EAAA;AACI,MAAM,MAAA,qBAAA,GAAwB,IAAK,CAAA,uBAAA,CAAwB,UAAU,CAAA,CAAA;AAErE,MAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,IAAK,CAAA,gBAAA,CAAiB,qBAAqB,CAAA,CAAA;AAAA,KAG1E,MAAA;AACI,MAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,UAAU,CAAA,CAAA;AAE3D,MAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,IAAK,CAAA,gBAAA,CAAiB,gBAAgB,cAAc,CAAA,CAAA;AAAA,KACnF;AAAA,GACJ;AAAA,EAEO,kBAAkB,UACzB,EAAA;AAEI,IAAK,IAAA,CAAA,eAAA,CAAgB,UAAW,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AACvC,IAAK,IAAA,CAAA,gBAAA,CAAiB,UAAW,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AACxC,IAAK,IAAA,CAAA,uBAAA,CAAwB,UAAW,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACnD;AAAA,EAEQ,mBAAmB,UAC3B,EAAA;AACI,IAAA,OAAO,KAAK,eAAgB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,oBAAoB,UAAU,CAAA,CAAA;AAAA,GACtF;AAAA,EAEQ,oBAAoB,UAC5B,EAAA;AACI,IAAA,MAAM,cAAiB,GAAA;AAAA,MACnB,OAAS,EAAA,IAAA;AAAA,KACb,CAAA;AAEA,IAAK,IAAA,CAAA,eAAA,CAAgB,UAAW,CAAA,GAAG,CAAI,GAAA,cAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,mBAAmB,UAAU,CAAA,CAAA;AAElC,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,cAAA,CAAA;AAAA,GACX;AAAA,EAEQ,SAAS,UACjB,EAAA;AACI,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,kBAAA,CAAmB,UAAU,CAAA,CAAA;AACzD,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AACxB,IAAM,MAAA,aAAA,GAAgB,KAAK,OAAQ,CAAA,aAAA,CAAA;AAEnC,IAAA,IAAI,eAAe,OACnB,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,IAAK,CAAA,uBAAA,CAAwB,UAAU,CAAA,CAAA;AAE3D,MAAY,WAAA,CAAA,IAAA,CAAK,UAAU,IAAK,CAAA,OAAA,CAAA;AAEhC,MAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAA;AAElC,MAAI,IAAA,KAAA,CAAM,gBAAgB,QAC1B,EAAA;AACI,QAAA,KAAA,CAAM,WAAc,GAAA,QAAA,CAAA;AACpB,QAAA,KAAA,CAAM,MAAO,EAAA,CAAA;AAAA,OACjB;AAEA,MAAA,IAAA,CAAK,sBAAsB,UAAU,CAAA,CAAA;AACrC,MAAA,IAAA,CAAK,gBAAgB,UAAU,CAAA,CAAA;AAAA,KAGnC,MAAA;AACI,MAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,UAAU,CAAA,CAAA;AAC3D,MAAM,MAAA,EAAE,gBAAmB,GAAA,eAAA,CAAA;AAE3B,MAAA,MAAM,WAAW,cAAe,CAAA,IAAA,CAAA;AAEhC,MAAS,QAAA,CAAA,MAAA,CAAO,UAAU,IAAK,CAAA,OAAA,CAAA;AAE/B,MAAM,MAAA,cAAA,GAAiB,QAAS,CAAA,MAAA,CAAO,SAAU,CAAA,cAAA,CAAA;AAEjD,MAAA,MAAM,gBAAgB,IAAK,CAAA,KAAA,CAAA;AAC3B,MAAA,MAAM,iBAAiB,IAAK,CAAA,MAAA,CAAA;AAE5B,MAAM,MAAA,iBAAA,GAAoB,KAAK,OAAQ,CAAA,KAAA,CAAA;AACvC,MAAM,MAAA,kBAAA,GAAqB,KAAK,OAAQ,CAAA,MAAA,CAAA;AAExC,MAAM,MAAA,MAAA,GAAS,KAAK,cAAe,CAAA,MAAA,CAAA;AAEnC,MAAM,MAAA,iBAAA,GAAoB,eAAe,QAAS,CAAA,iBAAA,CAAA;AAElD,MAAkB,iBAAA,CAAA,GAAA;AAAA,QACd,MAAA,CAAO,IAAI,iBAAoB,GAAA,aAAA;AAAA,QAC/B,MAAA,CAAO,IAAI,iBAAoB,GAAA,cAAA;AAAA,QAC/B,MAAA,CAAO,IAAI,kBAAqB,GAAA,aAAA;AAAA,QAChC,MAAA,CAAO,IAAI,kBAAqB,GAAA,cAAA;AAAA,QAChC,OAAO,EAAK,GAAA,aAAA;AAAA,QACZ,OAAO,EAAK,GAAA,cAAA;AAAA,OAAc,CAAA;AAE9B,MAAA,iBAAA,CAAkB,MAAO,EAAA,CAAA;AAEzB,MAAe,cAAA,CAAA,QAAA,CAAS,YAAY,aAAc,CAAA,QAAA,CAAA;AAClD,MAAe,cAAA,CAAA,QAAA,CAAS,cAAc,aAAc,CAAA,WAAA,CAAA;AACpD,MAAe,cAAA,CAAA,QAAA,CAAS,eAAe,aAAc,CAAA,YAAA,CAAA;AACrD,MAAA,cAAA,CAAe,SAAS,iBAAoB,GAAA,iBAAA,CAAA;AAC5C,MAAe,cAAA,CAAA,QAAA,CAAS,WAAY,CAAA,CAAC,CAAI,GAAA,aAAA,CAAA;AACzC,MAAe,cAAA,CAAA,QAAA,CAAS,WAAY,CAAA,CAAC,CAAI,GAAA,cAAA,CAAA;AACzC,MAAA,cAAA,CAAe,SAAS,WAAY,CAAA,CAAC,CAAI,GAAA,UAAA,CAAW,KAAK,MAAO,CAAA,CAAA,CAAA;AAChE,MAAA,cAAA,CAAe,SAAS,WAAY,CAAA,CAAC,CAAI,GAAA,UAAA,CAAW,KAAK,MAAO,CAAA,CAAA,CAAA;AAEhE,MAAA,cAAA,CAAe,MAAO,EAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA,EAEQ,oBAAoB,UAC5B,EAAA;AACI,IAAA,OAAO,KAAK,gBAAiB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,qBAAqB,UAAU,CAAA,CAAA;AAAA,GACxF;AAAA,EAEQ,qBAAqB,UAC7B,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAA;AAElC,IAAA,KAAA,CAAM,WAAc,GAAA,QAAA,CAAA;AACpB,IAAA,KAAA,CAAM,MAAO,EAAA,CAAA;AAEb,IAAM,MAAA,QAAA,GAAW,IAAI,QAAS,CAAA;AAAA,MAC1B,QAAU,EAAA,UAAA;AAAA,MACV,MAAA,EAAQ,IAAI,kBAAmB,CAAA;AAAA,QAC3B,SAAS,IAAK,CAAA,OAAA;AAAA,OACjB,CAAA;AAAA,KACJ,CAAA,CAAA;AAED,IAAM,MAAA,cAAA,GAAiB,IAAI,eAAgB,CAAA;AAAA,MACvC,QAAU,EAAA,UAAA;AAAA,MACV,IAAM,EAAA,QAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAM,MAAA,aAAA,GAAgB,IAAI,MAAO,EAAA,CAAA;AAEjC,IAAA,MAAM,mBAAsB,GAAA;AAAA,MACxB,cAAA;AAAA,MACA,aAAA;AAAA,KACJ,CAAA;AAEA,IAAK,IAAA,CAAA,gBAAA,CAAiB,UAAW,CAAA,GAAG,CAAI,GAAA,mBAAA,CAAA;AAExC,IAAO,OAAA,mBAAA,CAAA;AAAA,GACX;AAAA,EAEQ,wBAAwB,UAChC,EAAA;AACI,IAAA,OAAO,KAAK,uBAAwB,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,yBAAyB,UAAU,CAAA,CAAA;AAAA,GACnG;AAAA,EAEQ,yBAAyB,UACjC,EAAA;AACI,IAAM,MAAA,QAAA,GAAW,IAAI,QAAS,CAAA;AAAA,MAC1B,QAAA,EAAU,IAAI,YAAa,EAAA;AAAA,MAC3B,OAAA,EAAS,WAAW,IAAK,CAAA,OAAA;AAAA,KAC5B,CAAA,CAAA;AAED,IAAA,QAAA,CAAS,WAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAEtE,IAAM,MAAA,uBAAA,GAA0B,IAAI,eAAgB,CAAA;AAAA,MAChD,QAAU,EAAA,UAAA;AAAA,MACV,IAAM,EAAA,QAAA;AAAA,KACT,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,uBAAA,CAAwB,UAAW,CAAA,GAAG,CAAI,GAAA,uBAAA,CAAA;AAE/C,IAAO,OAAA,uBAAA,CAAA;AAAA,GACX;AAAA,EAEQ,sBAAsB,UAC9B,EAAA;AACI,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,uBAAA,CAAwB,UAAU,CAAA,CAAA;AAC9D,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,MAAM,cAAiB,GAAA,cAAA,CAAe,IAAK,CAAA,QAAA,CAAS,UAAU,WAAW,CAAA,CAAA;AAEzE,IAAA,MAAM,YAAY,cAAe,CAAA,IAAA,CAAA;AACjC,IAAM,MAAA,OAAA,GAAU,KAAK,MAAO,CAAA,CAAA,CAAA;AAC5B,IAAM,MAAA,OAAA,GAAU,KAAK,MAAO,CAAA,CAAA,CAAA;AAE5B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,IAAK,CAAA,KAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,IAAK,CAAA,MAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,IAAK,CAAA,KAAA,CAAA;AACpC,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,IAAK,CAAA,MAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,IAAK,CAAA,KAAA,CAAA;AACpC,IAAA,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,IAAK,CAAA,MAAA,CAAA;AACpC,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,IAAK,CAAA,KAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,IAAK,CAAA,MAAA,CAAA;AAAA,GACxC;AAAA,EAEQ,gBAAgB,UACxB,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AACxB,IAAM,MAAA,KAAA,GAAQ,KAAK,OAAQ,CAAA,UAAA,CAAA;AAC3B,IAAM,MAAA,MAAA,GAAS,KAAK,OAAQ,CAAA,WAAA,CAAA;AAE5B,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,uBAAA,CAAwB,UAAU,CAAA,CAAA;AAE9D,IAAA,MAAM,QAAW,GAAA,cAAA,CAAe,IAAK,CAAA,QAAA,CAAS,UAAU,KAAK,CAAA,CAAA;AAE7D,IAAA,MAAM,MAAM,QAAS,CAAA,IAAA,CAAA;AAErB,IAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AACd,IAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AAEd,IAAA,IAAI,KAAK,qBACT,EAAA;AACI,MAAA,OAAA,GAAU,KAAK,MAAO,CAAA,CAAA,CAAA;AACtB,MAAA,OAAA,GAAU,KAAK,MAAO,CAAA,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAC,OAAA,CAAA;AACnB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAI,GAAA,OAAA,CAAA;AACtB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAC,OAAA,CAAA;AACnB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAI,GAAA,OAAA,CAAA;AAEtB,IAAA,MAAM,gBAAgB,MAAO,CAAA,MAAA,CAAA;AAE7B,IAAc,aAAA,CAAA,QAAA,CAAS,IAAK,CAAA,cAAA,CAAe,MAAM,CAAA,CAAA;AAEjD,IAAA,aAAA,CAAc,MAAM,IAAK,CAAA,KAAA,CAAA;AACzB,IAAA,aAAA,CAAc,MAAM,IAAK,CAAA,MAAA,CAAA;AAEzB,IAAA,aAAA,CAAc,MAAO,EAAA,CAAA;AAErB,IAAA,aAAA,CAAc,MAAM,IAAK,CAAA,KAAA,GAAQ,KAAO,EAAA,IAAA,CAAK,SAAS,MAAM,CAAA,CAAA;AAE5D,IAAY,WAAA,CAAA,GAAA,EAAK,CAAG,EAAA,CAAA,EAAG,aAAa,CAAA,CAAA;AAAA,GACxC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,uBAA0B,GAAA,IAAA,CAAA;AAE/B,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AA5Ua,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,cAAA;AACV,CAAA,CAAA;AAqUG,SAAS,WAAY,CAAA,KAAA,EAAmB,MAAgB,EAAA,MAAA,EAAgB,MAC/E,EAAA;AACI,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,EAAM,MAAA,IAAA,GAAO,KAAM,CAAA,MAAA,IAAU,MAAU,IAAA,CAAA,CAAA,CAAA;AAEvC,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,EAAU,MAAA,IAAA,MAAA,CAAA;AAEV,EAAA,OAAO,QAAQ,IACf,EAAA;AACI,IAAM,MAAA,CAAA,GAAI,MAAM,MAAM,CAAA,CAAA;AACtB,IAAM,MAAA,CAAA,GAAI,KAAM,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AAE1B,IAAA,KAAA,CAAM,MAAM,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AACpC,IAAA,KAAA,CAAM,SAAS,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAExC,IAAU,MAAA,IAAA,MAAA,CAAA;AAEV,IAAA,KAAA,EAAA,CAAA;AAAA,GACJ;AACJ;;ACtXO,MAAM,YACb,CAAA;AAAA,EAcI,YAAY,eACZ,EAAA;AAdA,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,cAAc,CAAA,CAAA;AACxC,IAAA,IAAA,CAAgB,SAAY,GAAA,IAAA,CAAA;AAC5B,IAAA,IAAA,CAAgB,KAAQ,GAAA,iBAAA,CAAA;AACxB,IAAA,IAAA,CAAgB,YAAe,GAAA,UAAA,CAAA;AAG/B,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AASxB,IAAK,IAAA,CAAA,QAAA,GAAW,eAAmB,IAAA,IAAI,eAAgB,EAAA,CAAA;AACvD,IAAA,IAAA,CAAK,QAAS,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,yBAAyB,IAAI,CAAA,CAAA;AAAA,GACjE;AAAA,EAEA,IAAI,QAAQ,OACZ,EAAA;AACI,IAAA,IAAI,YAAY,IAAK,CAAA,QAAA;AAAU,MAAA,OAAA;AAE/B,IAAA,IAAA,CAAK,QAAS,CAAA,GAAA,CAAI,QAAU,EAAA,IAAA,CAAK,yBAAyB,IAAI,CAAA,CAAA;AAE9D,IAAA,IAAA,CAAK,QAAW,GAAA,OAAA,CAAA;AAGhB,IAAA,IAAA,CAAK,QAAS,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,yBAAyB,IAAI,CAAA,CAAA;AAE7D,IAAA,IAAA,CAAK,uBAAwB,EAAA,CAAA;AAAA,GACjC;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAO,MAAA,CAAA,SAAA,CAAU,IAAK,CAAA,QAAA,CAAS,MAAM,CAAA,CAAA;AAAA,GACzC;AAAA,EAEO,cAAc,KACrB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAAA,GAC5C;AAAA,EAEU,uBACV,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,MAAM,YAAa,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUO,OAAA,CAAQ,UAAqE,KACpF,EAAA;AACI,IAAC,KAAa,KAAQ,GAAA,IAAA,CAAA;AAEtB,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,OAAO,CAAA,CAAA;AAAA,KACjC;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AACJ;;ACtFO,MAAM,mBAAsB,GAAA;AAAA,EAC/B,IAAM,EAAA,wBAAA;AAAA,EACN,MAAQ,EAAA;AAAA,IACJ,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAUlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAIhB,GAAA;AAAA;AAAA,MAAe,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAMnB;AAAA,EACA,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,CAAA;AAAA,KAAA;AAAA,IASlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAIpB;AAEJ;;ACxCO,MAAM,OAAU,GAAA;AAAA,EACnB,IAAM,EAAA,UAAA;AAAA,EACN,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAsBtB;AAEJ,EAAA;AAEO,MAAM,SAAY,GAAA;AAAA,EACrB,IAAM,EAAA,UAAA;AAAA,EACN,QAAU,EAAA;AAAA,IACN,MAAA;AAAA;AAAA,MAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,IAyBlB,IAAA;AAAA;AAAA,MAAgB,CAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAAA,KAAA;AAAA,GAIpB;AAEJ;;AC5CO,MAAM,kBAAkB,MAC/B,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,MAAA,QAAA,GAAW,IAAI,YAAa,CAAA;AAAA,MAC9B,MAAQ,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MACnE,kBAAkB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MAC7D,SAAW,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,MACnC,MAAQ,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,KACnC,CAAA,CAAA;AAED,IAAA,MAAM,aAAa,2BAA4B,CAAA;AAAA,MAC3C,IAAM,EAAA,YAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,QAAA;AAAA,QACA,wBAAwB,YAAY,CAAA;AAAA,QACpC,mBAAA;AAAA,QACA,OAAA;AAAA,QACA,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAA,MAAM,YAAY,0BAA2B,CAAA;AAAA,MACzC,IAAM,EAAA,YAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,UAAA;AAAA,QACA,0BAA0B,YAAY,CAAA;AAAA,QACtC,iBAAA;AAAA,QACA,SAAA;AAAA,QACA,gBAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAM,KAAA,CAAA;AAAA,MACF,SAAA;AAAA,MACA,UAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,aAAe,EAAA,QAAA;AAAA,QACf,aAAe,EAAA,yBAAA;AAAA,OACnB;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ;;ACzDA,MAAM,sBAAyB,GAAA;AAAA,EAC3B,aAAA;AAAA,EACA,YAAA;AAAA,EACA,cAAA;AAAA,EACA,aAAA;AAAA,EACA,aAAA;AAAA,EACA,QAAA;AAAA,EACA,UAAA;AAAA,EACA,gBAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAA;AAAA,EACA,aAAA;AAAA,EACA,WAAA;AAAA,EACA,gBAAA;AAAA,EACA,UAAA;AAAA,EACA,eAAA;AACJ,CAAA,CAAA;AAOO,SAAS,qBAAqB,KACrC,EAAA;AACI,EAAA,MAAM,MAAM,EAAC,CAAA;AAEb,EAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,sBAAA,CAAuB,QAAQ,CACnD,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,uBAAuB,CAAC,CAAA,CAAA;AAErC,IAAI,GAAA,CAAA,KAAA,EAAO,CAAI,GAAA,KAAA,CAAM,IAA0B,CAAA,CAAA;AAAA,GACnD;AAEA,EAAA,KAAA,GAAQ,eAAgB,CAAA,KAAA,CAAM,KAAO,EAAA,GAAA,EAAiB,KAAK,CAAA,CAAA;AAC3D,EAAA,KAAA,GAAQ,gBAAiB,CAAA,KAAA,CAAM,OAAS,EAAA,GAAA,EAAiB,KAAK,CAAA,CAAA;AAI9D,EAAO,OAAA,GAAA,CAAI,KAAK,GAAG,CAAA,CAAA;AACvB,CAAA;AAEA,SAAS,eAAA,CAAgB,SAA+B,EAAA,GAAA,EAA0B,KAClF,EAAA;AAjDA,EAAA,IAAA,EAAA,CAAA;AAkDI,EAAA,IAAI,CAAC,SAAA;AAAW,IAAO,OAAA,KAAA,CAAA;AAEvB,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,KAAA,CAAA;AACzB,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,KAAA,CAAA;AACzB,EAAA,GAAA,CAAI,KAAO,EAAA,CAAA,GAAA,CAAK,EAAU,GAAA,SAAA,CAAA,IAAA,KAAV,IAAiC,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAA,CAAA;AAEjD,EAAO,OAAA,KAAA,CAAA;AACX,CAAA;AAEA,SAAS,gBAAA,CAAiB,WAAmC,EAAA,GAAA,EAA0B,KACvF,EAAA;AACI,EAAA,IAAI,CAAC,WAAA;AAAa,IAAO,OAAA,KAAA,CAAA;AAEzB,EAAQ,KAAA,GAAA,eAAA,CAAgB,WAAa,EAAA,GAAA,EAAK,KAAK,CAAA,CAAA;AAE/C,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,WAAY,CAAA,KAAA,CAAA;AAC3B,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,WAAY,CAAA,SAAA,CAAA;AAC3B,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,WAAY,CAAA,GAAA,CAAA;AAC3B,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,WAAY,CAAA,IAAA,CAAA;AAC3B,EAAI,GAAA,CAAA,KAAA,EAAO,IAAI,WAAY,CAAA,UAAA,CAAA;AAE3B,EAAO,OAAA,KAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;ACqCO,MAAM,UAAA,GAAN,cAAwBtD,aAG/B,CAAA;AAAA,EA8GI,WAAA,CAAY,KAAmC,GAAA,EAC/C,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAEN,IAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAExB,IAAM,MAAA,SAAA,GAAYV,gBAAK,CAAAA,gBAAA,CAAA,EAAA,EAAA,UAAA,CAAU,gBAAqB,CAAA,EAAA,KAAA,CAAA,CAAA;AAEtD,IAAW,KAAA,MAAA,GAAA,IAAO,WAAU,gBAC5B,EAAA;AACI,MAAA,MAAM,OAAU,GAAA,GAAA,CAAA;AAEhB,MAAK,IAAA,CAAA,OAAO,CAAI,GAAA,SAAA,CAAU,GAA6B,CAAA,CAAA;AAAA,KAC3D;AAEA,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAI,IAAA,OAAO,SAAU,CAAA,IAAA,KAAS,QAC9B,EAAA;AAEI,MAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAS,SAAU,CAAA,QAAA,EAAoB,EAAE,CAAA,CAAA;AAAA,KAG7D,MAAA;AACI,MAAA,IAAA,CAAK,WAAW,SAAU,CAAA,QAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAI,MAAM,UACV,EAAA;AAEI,MAAI,IAAA,KAAA,CAAM,sBAAsB,OAChC,EAAA;AACI,QAAI,IAAA,KAAA,CAAM,eAAe,IACzB,EAAA;AACI,UAAK,IAAA,CAAA,UAAA,GAAaA,gBACX,CAAA,EAAA,EAAA,UAAA,CAAU,gBAAiB,CAAA,UAAA,CAAA,CAAA;AAAA,SAEtC;AAAA,OAGJ,MAAA;AACI,QAAA,IAAA,CAAK,UAAa,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EACX,UAAU,CAAA,gBAAA,CAAiB,aAC3B,KAAM,CAAA,UAAA,CAAA,CAAA;AAAA,OAEjB;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KAAwB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAAQ;AAAA,EAClD,IAAI,MAAM,KAAuB,EAAA;AAAE,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACvE,IAAI,UAAsB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EACrD,IAAI,WAAW,KAAgB,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EAC1E,IAAI,UAA6B,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EAC5D,IAAI,WAAW,KAAuB,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACjF,IAAI,UAAgC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EAC/D,IAAI,WAAW,KAA0B,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACpF,IAAI,QAAmB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAAW;AAAA,EAChD,IAAI,SAAS,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACrE,IAAI,SAAgC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAAY;AAAA,EAC9D,IAAI,UAAU,KAA2B,EAAA;AAAE,IAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACnF,IAAI,WAAoC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAAA,GAAc;AAAA,EACpE,IAAI,YAAY,KAA6B,EAAA;AAAE,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACzF,IAAI,UAAkC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EACjE,IAAI,WAAW,KAA4B,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACtF,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAAU;AAAA,EAC9C,IAAI,QAAQ,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACnE,IAAI,aAAwB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAAgB;AAAA,EAC1D,IAAI,cAAc,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,cAAiB,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EAC/E,IAAI,UAAqB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EACpD,IAAI,WAAW,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACzE,IAAI,OAAkB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAAU;AAAA,EAC9C,IAAI,QAAQ,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACnE,IAAI,YAAsC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GAAe;AAAA,EACvE,IAAI,aAAa,KAA8B,EAAA;AAAE,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EAC5F,IAAI,UAAkC,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAAa;AAAA,EACjE,IAAI,WAAW,KAA4B,EAAA;AAAE,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACtF,IAAI,QAAoB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAAW;AAAA,EACjD,IAAI,SAAS,KAAgB,EAAA;AAAE,IAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EACtE,IAAI,aAAwB,GAAA;AAAE,IAAA,OAAO,IAAK,CAAA,cAAA,CAAA;AAAA,GAAgB;AAAA,EAC1D,IAAI,cAAc,KAAe,EAAA;AAAE,IAAA,IAAA,CAAK,cAAiB,GAAA,KAAA,CAAA;AAAO,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAAG;AAAA,EAE/E,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,IAAI,UAAU,IAAK,CAAA,aAAA;AAAe,MAAA,OAAA;AAElC,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AACrB,IAAA,IAAA,CAAK,KAAQ,GAAA,2BAAA,CAA4B,KAAO,EAAA,eAAA,CAAgB,gBAAgB,CAAA,CAAA;AAChF,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,eAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAI,UAAU,IAAK,CAAA,aAAA;AAAe,MAAA,OAAA;AAElC,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AACrB,IAAA,IAAA,CAAK,OAAU,GAAA,2BAAA,CAA4B,KAAO,EAAA,eAAA,CAAgB,kBAAkB,CAAA,CAAA;AACpF,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA,EAEU,YACV,GAAA;AACI,IAAK,IAAA,CAAA,SAAA,GAAY,qBAAqB,IAAI,CAAA,CAAA;AAE1C,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEO,MACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAK,IAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAa,IAAA,IAAA,CAAK,YAAa,EAAA,CAAA;AAAA,GAC/C;AAAA,EAEO,KACP,GAAA;AACI,IAAA,OAAO,IAAI,UAAU,CAAA;AAAA,MACjB,OAAO,IAAK,CAAA,KAAA;AAAA,MACZ,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,MAAM,IAAK,CAAA,KAAA;AAAA,MACX,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,UAAU,IAAK,CAAA,QAAA;AAAA,MACf,WAAW,IAAK,CAAA,SAAA;AAAA,MAChB,aAAa,IAAK,CAAA,WAAA;AAAA,MAClB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,SAAS,IAAK,CAAA,OAAA;AAAA,MACd,eAAe,IAAK,CAAA,aAAA;AAAA,MACpB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,SAAS,IAAK,CAAA,OAAA;AAAA,MACd,QAAQ,IAAK,CAAA,OAAA;AAAA,MACb,cAAc,IAAK,CAAA,YAAA;AAAA,MACnB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,UAAU,IAAK,CAAA,QAAA;AAAA,MACf,eAAe,IAAK,CAAA,aAAA;AAAA,KACvB,CAAA,CAAA;AAAA,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA6C,KAC5D,EAAA;AAhYJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAiYQ,IAAA,IAAA,CAAK,kBAAmB,EAAA,CAAA;AAExB,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,MAAM,oBAAuB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAE/E,MAAI,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,KAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAY,OAChB,EAAA;AACI,QAAK,IAAA,CAAA,KAAA,CAAM,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OACnD;AAEA,MAAK,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,aAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkC,OACvC,EAAA;AACI,QAAC,IAAK,CAAA,aAAA,CAA4B,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OAC1E;AAEA,MAAI,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,OAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,OAClB,EAAA;AACI,QAAK,IAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OACrD;AAEA,MAAK,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,eAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAoC,OACzC,EAAA;AACI,QAAC,IAAK,CAAA,eAAA,CAA8B,OAAQ,CAAA,OAAA,CAAQ,oBAAoB,CAAA,CAAA;AAAA,OAC5E;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AACb,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AAAA,GACzB;AACJ,CAAA,CAAA;AAvTO,IAAM,SAAN,GAAA,WAAA;AAAM,SAAA,CAIK,gBAAqC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAK/C,KAAO,EAAA,MAAA;AAAA;AAAA,EAEP,UAAY,EAAA,KAAA;AAAA;AAAA,EAEZ,UAAa,EAAA;AAAA,IACT,KAAO,EAAA,CAAA;AAAA,IACP,KAAA,EAAO,KAAK,EAAK,GAAA,CAAA;AAAA,IACjB,IAAM,EAAA,CAAA;AAAA,IACN,KAAO,EAAA,OAAA;AAAA,IACP,QAAU,EAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAM,EAAA,OAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKN,UAAY,EAAA,OAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKZ,QAAU,EAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKV,SAAW,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKX,WAAa,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKb,UAAY,EAAA,QAAA;AAAA;AAAA,EAEZ,OAAS,EAAA,CAAA;AAAA;AAAA,EAET,aAAe,EAAA,CAAA;AAAA;AAAA,EAEf,UAAY,EAAA,CAAA;AAAA;AAAA,EAEZ,OAAS,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKT,MAAQ,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKR,YAAc,EAAA,YAAA;AAAA;AAAA,EAEd,IAAM,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKN,UAAY,EAAA,KAAA;AAAA;AAAA,EAEZ,QAAU,EAAA,KAAA;AAAA;AAAA,EAEV,aAAe,EAAA,GAAA;AACnB,CAAA,CAAA;AA0OJ,SAAS,mBAAmB,KAC5B,EAAA;AAvaA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAwaI,EAAA,MAAM,QAAW,GAAA,KAAA,CAAA;AAEjB,EAAI,IAAA,OAAO,QAAS,CAAA,UAAA,KAAe,SACnC,EAAA;AACI,IAAA,WAAA,CAAY,QAAQ,4CAA4C,CAAA,CAAA;AAEhE,IAAA,KAAA,CAAM,UAAa,GAAA;AAAA,MACf,KAAA,EAAA,CAAO,EAAS,GAAA,QAAA,CAAA,eAAA,KAAT,IAA4B,GAAA,EAAA,GAAA,CAAA;AAAA,MACnC,OAAO,QAAS,CAAA,eAAA;AAAA,MAChB,IAAA,EAAA,CAAM,EAAS,GAAA,QAAA,CAAA,cAAA,KAAT,IAA2B,GAAA,EAAA,GAAA,CAAA;AAAA,MACjC,OAAO,QAAS,CAAA,eAAA;AAAA,MAChB,UAAY,QAAS,CAAA,kBAAA;AAAA,KACzB,CAAA;AAAA,GACJ;AAEA,EAAA,IAAI,SAAS,eACb,EAAA;AACI,IAAA,WAAA,CAAY,QAAQ,yCAAyC,CAAA,CAAA;AAE7D,IAAA,MAAM,QAAQ,QAAS,CAAA,MAAA,CAAA;AAEvB,IAAA,KAAA,CAAM,MAAS,GAAA;AAAA,MACX,KAAA;AAAA,MACA,OAAO,QAAS,CAAA,eAAA;AAAA,KACpB,CAAA;AAAA,GACJ;AAEA,EAAA,IAAI,KAAM,CAAA,OAAA,CAAQ,QAAS,CAAA,IAAI,CAC/B,EAAA;AACI,IAAA,WAAA,CAAY,QAAQ,8DAA8D,CAAA,CAAA;AAElF,IAAM,MAAA,YAAA,GAAe,IAAI,YAAa,CAAA,CAAA,EAAG,GAAG,CAAI,EAAA,KAAA,CAAM,WAAsB,GAAG,CAAA,CAAA;AAE/E,IAAA,MAAM,KAAkB,GAAA,QAAA,CAAS,IAAK,CAAA,GAAA,CAAI,CAAC,KAAA,KAAuB,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,KAAK,CAAE,CAAA,QAAA,EAAU,CAAA,CAAA;AAEzG,IAAM,KAAA,CAAA,OAAA,CAAQ,CAAC,MAAA,EAAQ,KACvB,KAAA;AA5cR,MAAAkB,IAAAA,GAAAA,CAAAA;AA6cY,MAAM,MAAA,KAAA,GAAA,CAAQA,MAAA,QAAS,CAAA,iBAAA,CAAkB,KAAK,CAAhC,KAAA,IAAA,GAAAA,GAAqC,GAAA,KAAA,GAAQ,KAAM,CAAA,MAAA,CAAA;AAEjE,MAAa,YAAA,CAAA,YAAA,CAAa,OAAO,MAAM,CAAA,CAAA;AAAA,KAC1C,CAAA,CAAA;AAED,IAAA,KAAA,CAAM,IAAO,GAAA;AAAA,MACT,IAAM,EAAA,YAAA;AAAA,KACV,CAAA;AAAA,GACJ;AACJ;;AClcO,MAAM,eACb,CAAA;AAAA,EAYI,YAAY,aACZ,EAAA;AACI,IAAK,IAAA,CAAA,WAAA,mBAAqB,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACrC,IAAK,IAAA,CAAA,aAAA,GAAgB,iBAAiB,EAAC,CAAA;AACvC,IAAA,IAAA,CAAK,gBAAmB,GAAA,KAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,uBAAA,CAAwB,YAAoB,WACpD,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,IAAA,MAAA,CAAO,KAAQ,GAAA,UAAA,CAAA;AACf,IAAA,MAAA,CAAO,MAAS,GAAA,WAAA,CAAA;AAEhB,IAAM,MAAA,OAAA,GAAU,MAAO,CAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AAEtC,IAAO,OAAA,EAAE,QAAQ,OAAQ,EAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,0BAA2B,CAAA,QAAA,EAAkB,SAAmB,EAAA,UAAA,GAAa,CACpF,EAAA;AACI,IAAA,QAAA,GAAW,IAAK,CAAA,IAAA,CAAM,QAAW,GAAA,UAAA,GAAc,IAAI,CAAA,CAAA;AACnD,IAAA,SAAA,GAAY,IAAK,CAAA,IAAA,CAAM,SAAY,GAAA,UAAA,GAAc,IAAI,CAAA,CAAA;AACrD,IAAA,QAAA,GAAW,SAAS,QAAQ,CAAA,CAAA;AAC5B,IAAA,SAAA,GAAY,SAAS,SAAS,CAAA,CAAA;AAE9B,IAAM,MAAA,GAAA,GAAA,CAAO,QAAY,IAAA,EAAA,KAAO,SAAa,IAAA,CAAA,CAAA,CAAA;AAE7C,IAAA,IAAI,CAAC,IAAA,CAAK,WAAY,CAAA,GAAG,CACzB,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,GAAG,CAAA,GAAI,EAAC,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAI,gBAAmB,GAAA,IAAA,CAAK,WAAY,CAAA,GAAG,EAAE,GAAI,EAAA,CAAA;AAEjD,IAAA,IAAI,CAAC,gBACL,EAAA;AACI,MAAmB,gBAAA,GAAA,IAAA,CAAK,uBAAwB,CAAA,QAAA,EAAU,SAAS,CAAA,CAAA;AAAA,KACvE;AAEA,IAAO,OAAA,gBAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,uBAAuB,gBAC9B,EAAA;AACI,IAAA,MAAM,EAAE,KAAA,EAAO,MAAO,EAAA,GAAI,gBAAiB,CAAA,MAAA,CAAA;AAE3C,IAAM,MAAA,GAAA,GAAA,CAAO,KAAS,IAAA,EAAA,KAAO,MAAU,IAAA,CAAA,CAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,WAAY,CAAA,GAAG,CAAE,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,cAAc,EAAC,CAAA;AAAA,GACxB;AACJ,CAAA;AAEa,MAAA,UAAA,GAAa,IAAI,eAAgB;;ACzG9C,MAAM,mBAAsB,GAAA;AAAA,EACxB,OAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA,SAAA;AAAA,EACA,SAAA;AAAA,EACA,WAAA;AACJ,CAAA,CAAA;AAOO,SAAS,wBAAwB,KACxC,EAAA;AAEI,EAAM,MAAA,cAAA,GAAkB,OAAO,KAAM,CAAA,QAAA,KAAa,WAAY,CAAG,EAAA,KAAA,CAAM,eAAe,KAAM,CAAA,QAAA,CAAA;AAI5F,EAAA,IAAI,eAAkC,KAAM,CAAA,UAAA,CAAA;AAE5C,EAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAA,CAAM,UAAU,CACnC,EAAA;AACI,IAAe,YAAA,GAAA,KAAA,CAAM,UAAW,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAAA,GAC7C;AAEA,EAAA,KAAA,IAAS,IAAI,YAAa,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CAC9C,EAAA,EAAA;AAEI,IAAA,IAAI,UAAa,GAAA,YAAA,CAAa,CAAC,CAAA,CAAE,IAAK,EAAA,CAAA;AAGtC,IAAI,IAAA,CAAE,qBAAsB,IAAK,CAAA,UAAU,KAAK,CAAC,mBAAA,CAAoB,QAAS,CAAA,UAAU,CACxF,EAAA;AACI,MAAA,UAAA,GAAa,CAAI,CAAA,EAAA,UAAA,CAAA,CAAA,CAAA,CAAA;AAAA,KACrB;AACA,IAAC,YAAA,CAA0B,CAAC,CAAI,GAAA,UAAA,CAAA;AAAA,GACpC;AAGA,EAAO,OAAA,CAAA,EAAG,KAAM,CAAA,SAAA,CAAA,CAAA,EAAa,KAAM,CAAA,WAAA,CAAA,CAAA,EAAe,MAAM,UAAc,CAAA,CAAA,EAAA,cAAA,CAAA,CAAA,EAAmB,YAA0B,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA,CAAA,CAAA;AAC/H;;ACPA,MAAM,eAAqD,GAAA;AAAA;AAAA,EAEvD,kBAAoB,EAAA,IAAA;AACxB,CAAA,CAAA;AAeO,MAAM,qBAAN,MACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA4EI,WAAkB,kCAClB,GAAA;AACI,IAAA,IAAI,SAAS,kBAAkB,CAAA,mCAAA,CAAA;AAE/B,IAAA,IAAI,WAAW,KACf,CAAA,EAAA;AACI,MAAA,MAAM,KAAQ,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,6BAA8B,CAAA,SAAA,CAAA;AAE7D,MAAA,MAAA,GACM,kBAAkB,CAAA,mCAAA,GAClB,eAAmB,IAAA,KAAA,IAAS,mBAAuB,IAAA,KAAA,CAAA;AAAA,KAC7D;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuDA,WAAA,CAAY,MAAc,KAAkB,EAAA,KAAA,EAAe,QAAgB,KAAiB,EAAA,UAAA,EACxF,UAAoB,EAAA,YAAA,EAAsB,cAC9C,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAA,IAAA,CAAK,UAAa,GAAA,UAAA,CAAA;AAClB,IAAA,IAAA,CAAK,YAAe,GAAA,YAAA,CAAA;AACpB,IAAA,IAAA,CAAK,cAAiB,GAAA,cAAA,CAAA;AAAA,GAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,OAAc,WACV,CAAA,IAAA,GAAO,GACP,EAAA,KAAA,EACA,SAAkB,kBAAkB,CAAA,OAAA,EACpC,QAAoB,GAAA,KAAA,CAAM,QAE9B,EAAA;AAtOJ,IAAA,IAAA,EAAA,CAAA;AAuOQ,IAAM,MAAA,OAAA,GAAU,CAAG,EAAA,IAAA,CAAA,CAAA,EAAQ,KAAM,CAAA,QAAA,CAAA,CAAA,CAAA;AAKjC,IAAI,IAAA,kBAAA,CAAkB,kBAAkB,OAAO,CAAA;AAAG,MAAO,OAAA,kBAAA,CAAkB,kBAAkB,OAAO,CAAA,CAAA;AAEpG,IAAM,MAAA,IAAA,GAAO,wBAAwB,KAAK,CAAA,CAAA;AAC1C,IAAM,MAAA,cAAA,GAAiB,kBAAkB,CAAA,WAAA,CAAY,IAAI,CAAA,CAAA;AAGzD,IAAI,IAAA,cAAA,CAAe,aAAa,CAChC,EAAA;AACI,MAAA,cAAA,CAAe,WAAW,KAAM,CAAA,QAAA,CAAA;AAChC,MAAA,cAAA,CAAe,SAAS,KAAM,CAAA,QAAA,CAAA;AAAA,KAClC;AAEA,IAAA,MAAM,UAAU,kBAAkB,CAAA,SAAA,CAAA;AAElC,IAAA,OAAA,CAAQ,IAAO,GAAA,IAAA,CAAA;AAEf,IAAA,MAAM,aAAa,QAAW,GAAA,kBAAA,CAAkB,UAAU,IAAM,EAAA,KAAA,EAAO,MAAM,CAAI,GAAA,IAAA,CAAA;AACjF,IAAM,MAAA,KAAA,GAAQ,UAAW,CAAA,KAAA,CAAM,gBAAgB,CAAA,CAAA;AAC/C,IAAA,MAAM,UAAa,GAAA,IAAI,KAAc,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AACjD,IAAA,IAAI,YAAe,GAAA,CAAA,CAAA;AAEnB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,CAAM,QAAQ,CAClC,EAAA,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,mBAAkB,YAAa,CAAA,KAAA,CAAM,CAAC,CAAG,EAAA,KAAA,CAAM,eAAe,OAAO,CAAA,CAAA;AAEvF,MAAA,UAAA,CAAW,CAAC,CAAI,GAAA,SAAA,CAAA;AAChB,MAAe,YAAA,GAAA,IAAA,CAAK,GAAI,CAAA,YAAA,EAAc,SAAS,CAAA,CAAA;AAAA,KACnD;AAEA,IAAA,MAAM,WAAc,GAAA,CAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,KAAS,KAAA,CAAA,CAAA;AAE5C,IAAA,IAAI,QAAQ,YAAe,GAAA,WAAA,CAAA;AAE3B,IAAA,IAAI,MAAM,UACV,EAAA;AACI,MAAA,KAAA,IAAS,MAAM,UAAW,CAAA,QAAA,CAAA;AAAA,KAC9B;AAEA,IAAA,MAAM,UAAa,GAAA,KAAA,CAAM,UAAc,IAAA,cAAA,CAAe,QAAW,GAAA,WAAA,CAAA;AAEjE,IAAA,IAAI,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,UAAA,EAAY,cAAe,CAAA,QAAA,GAAY,WAAc,GAAA,CAAE,CACrE,GAAA,CAAA,KAAA,CAAM,MAAS,GAAA,CAAA,KAAM,aAAa,KAAM,CAAA,OAAA,CAAA,CAAA;AAEhD,IAAA,IAAI,MAAM,UACV,EAAA;AACI,MAAA,MAAA,IAAU,MAAM,UAAW,CAAA,QAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,MAAM,eAAe,IAAI,kBAAA;AAAA,MACrB,IAAA;AAAA,MACA,KAAA;AAAA,MACA,KAAA;AAAA,MACA,MAAA;AAAA,MACA,KAAA;AAAA,MACA,UAAA;AAAA,MACA,aAAa,KAAM,CAAA,OAAA;AAAA,MACnB,YAAA;AAAA,MACA,cAAA;AAAA,KACJ,CAAA;AAIA,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEA,OAAe,YAAA,CACX,IACA,EAAA,aAAA,EACA,OAEJ,EAAA;AACI,IAAA,IAAI,4BAA+B,GAAA,KAAA,CAAA;AAEnC,IAAA,IAAI,mBAAkB,kCACtB,EAAA;AACI,MAAA,IAAI,mBAAkB,yBACtB,EAAA;AACI,QAAA,OAAA,CAAQ,gBAAgB,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AAC3B,QAAA,OAAA,CAAQ,oBAAoB,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AAC/B,QAA+B,4BAAA,GAAA,IAAA,CAAA;AAAA,OAGnC,MAAA;AACI,QAAA,OAAA,CAAQ,aAAgB,GAAA,KAAA,CAAA;AACxB,QAAA,OAAA,CAAQ,iBAAoB,GAAA,KAAA,CAAA;AAAA,OAChC;AAAA,KACJ;AAEA,IAAA,IAAI,KAAQ,GAAA,OAAA,CAAQ,WAAY,CAAA,IAAI,CAAE,CAAA,KAAA,CAAA;AAEtC,IAAA,IAAI,QAAQ,CACZ,EAAA;AACI,MAAA,IAAI,4BACJ,EAAA;AACI,QAAS,KAAA,IAAA,aAAA,CAAA;AAAA,OAGb,MAAA;AACI,QAAA,KAAA,IAAA,CAAU,kBAAkB,CAAA,iBAAA,CAAkB,IAAI,CAAA,CAAE,SAAS,CAAK,IAAA,aAAA,CAAA;AAAA,OACtE;AAAA,KACJ;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,OAAe,SACX,CAAA,IAAA,EACA,KACA,EAAA,MAAA,GAAkB,mBAAkB,OAExC,EAAA;AACI,IAAA,MAAM,OAAU,GAAA,MAAA,CAAO,UAAW,CAAA,IAAA,EAAM,eAAe,CAAA,CAAA;AAEvD,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,IAAI,IAAO,GAAA,EAAA,CAAA;AACX,IAAA,IAAI,KAAQ,GAAA,EAAA,CAAA;AAEZ,IAAM,MAAA,KAAA,mBAAoC,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACrD,IAAM,MAAA,EAAE,aAAe,EAAA,UAAA,EAAe,GAAA,KAAA,CAAA;AAGtC,IAAM,MAAA,cAAA,GAAiB,kBAAkB,CAAA,eAAA,CAAgB,UAAU,CAAA,CAAA;AACnE,IAAM,MAAA,gBAAA,GAAmB,kBAAkB,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAGvE,IAAA,IAAI,mBAAmB,CAAC,cAAA,CAAA;AAQxB,IAAM,MAAA,aAAA,GAAgB,MAAM,aAAgB,GAAA,aAAA,CAAA;AAG5C,IAAM,MAAA,MAAA,GAAS,kBAAkB,CAAA,SAAA,CAAU,IAAI,CAAA,CAAA;AAE/C,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,CAAO,QAAQ,CACnC,EAAA,EAAA;AAEI,MAAI,IAAA,KAAA,GAAQ,OAAO,CAAC,CAAA,CAAA;AAGpB,MAAI,IAAA,kBAAA,CAAkB,UAAW,CAAA,KAAK,CACtC,EAAA;AAEI,QAAA,IAAI,CAAC,gBACL,EAAA;AACI,UAAS,KAAA,IAAA,kBAAA,CAAkB,SAAS,IAAI,CAAA,CAAA;AACxC,UAAA,gBAAA,GAAmB,CAAC,cAAA,CAAA;AACpB,UAAO,IAAA,GAAA,EAAA,CAAA;AACP,UAAQ,KAAA,GAAA,CAAA,CAAA;AACR,UAAA,SAAA;AAAA,SACJ;AAIA,QAAQ,KAAA,GAAA,GAAA,CAAA;AAAA,OACZ;AAGA,MAAA,IAAI,cACJ,EAAA;AAEI,QAAM,MAAA,mBAAA,GAAsB,kBAAkB,CAAA,eAAA,CAAgB,KAAK,CAAA,CAAA;AACnE,QAAA,MAAM,sBAAsB,kBAAkB,CAAA,eAAA,CAAgB,KAAK,IAAK,CAAA,MAAA,GAAS,CAAC,CAAC,CAAA,CAAA;AAEnF,QAAA,IAAI,uBAAuB,mBAC3B,EAAA;AACI,UAAA,SAAA;AAAA,SACJ;AAAA,OACJ;AAGA,MAAA,MAAM,aAAa,kBAAkB,CAAA,aAAA,CAAc,KAAO,EAAA,aAAA,EAAe,OAAO,OAAO,CAAA,CAAA;AAGvF,MAAA,IAAI,aAAa,aACjB,EAAA;AAEI,QAAA,IAAI,SAAS,EACb,EAAA;AAEI,UAAS,KAAA,IAAA,kBAAA,CAAkB,SAAS,IAAI,CAAA,CAAA;AACxC,UAAO,IAAA,GAAA,EAAA,CAAA;AACP,UAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,SACZ;AAGA,QAAA,IAAI,kBAAkB,CAAA,aAAA,CAAc,KAAO,EAAA,KAAA,CAAM,UAAU,CAC3D,EAAA;AAEI,UAAM,MAAA,UAAA,GAAa,kBAAkB,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAGxD,UAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,QAAQ,CACvC,EAAA,EAAA;AACI,YAAI,IAAA,IAAA,GAAO,WAAW,CAAC,CAAA,CAAA;AACvB,YAAA,IAAI,QAAW,GAAA,IAAA,CAAA;AAEf,YAAA,IAAI,CAAI,GAAA,CAAA,CAAA;AAGR,YAAO,OAAA,UAAA,CAAW,CAAI,GAAA,CAAC,CACvB,EAAA;AACI,cAAM,MAAA,QAAA,GAAW,UAAW,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAGjC,cAAI,IAAA,CAAC,mBAAkB,aAAc,CAAA,QAAA,EAAU,UAAU,KAAO,EAAA,CAAA,EAAG,KAAM,CAAA,UAAU,CACnF,EAAA;AAEI,gBAAQ,IAAA,IAAA,QAAA,CAAA;AAAA,eAGZ,MAAA;AACI,gBAAA,MAAA;AAAA,eACJ;AAEA,cAAW,QAAA,GAAA,QAAA,CAAA;AACX,cAAA,CAAA,EAAA,CAAA;AAAA,aACJ;AAEA,YAAA,CAAA,IAAK,CAAI,GAAA,CAAA,CAAA;AAET,YAAA,MAAM,iBAAiB,kBAAkB,CAAA,aAAA,CAAc,IAAM,EAAA,aAAA,EAAe,OAAO,OAAO,CAAA,CAAA;AAE1F,YAAI,IAAA,cAAA,GAAiB,QAAQ,aAC7B,EAAA;AACI,cAAS,KAAA,IAAA,kBAAA,CAAkB,SAAS,IAAI,CAAA,CAAA;AACxC,cAAmB,gBAAA,GAAA,KAAA,CAAA;AACnB,cAAO,IAAA,GAAA,EAAA,CAAA;AACP,cAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,aACZ;AAEA,YAAQ,IAAA,IAAA,IAAA,CAAA;AACR,YAAS,KAAA,IAAA,cAAA,CAAA;AAAA,WACb;AAAA,SAKJ,MAAA;AAGI,UAAI,IAAA,IAAA,CAAK,SAAS,CAClB,EAAA;AACI,YAAS,KAAA,IAAA,kBAAA,CAAkB,SAAS,IAAI,CAAA,CAAA;AACxC,YAAO,IAAA,GAAA,EAAA,CAAA;AACP,YAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,WACZ;AAEA,UAAM,MAAA,WAAA,GAAc,CAAM,KAAA,MAAA,CAAO,MAAS,GAAA,CAAA,CAAA;AAG1C,UAAA,KAAA,IAAS,kBAAkB,CAAA,QAAA,CAAS,KAAO,EAAA,CAAC,WAAW,CAAA,CAAA;AACvD,UAAmB,gBAAA,GAAA,KAAA,CAAA;AACnB,UAAO,IAAA,GAAA,EAAA,CAAA;AACP,UAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,SACZ;AAAA,OAKJ,MAAA;AAGI,QAAI,IAAA,UAAA,GAAa,QAAQ,aACzB,EAAA;AAEI,UAAmB,gBAAA,GAAA,KAAA,CAAA;AAGnB,UAAS,KAAA,IAAA,kBAAA,CAAkB,SAAS,IAAI,CAAA,CAAA;AAGxC,UAAO,IAAA,GAAA,EAAA,CAAA;AACP,UAAQ,KAAA,GAAA,CAAA,CAAA;AAAA,SACZ;AAGA,QAAI,IAAA,IAAA,CAAK,SAAS,CAAK,IAAA,CAAC,mBAAkB,eAAgB,CAAA,KAAK,KAAK,gBACpE,EAAA;AAEI,UAAQ,IAAA,IAAA,KAAA,CAAA;AAGR,UAAS,KAAA,IAAA,UAAA,CAAA;AAAA,SACb;AAAA,OACJ;AAAA,KACJ;AAEA,IAAS,KAAA,IAAA,kBAAA,CAAkB,QAAS,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAE/C,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAe,QAAA,CAAS,IAAc,EAAA,OAAA,GAAU,IAChD,EAAA;AACI,IAAO,IAAA,GAAA,kBAAA,CAAkB,WAAW,IAAI,CAAA,CAAA;AAExC,IAAA,IAAA,GAAQ,UAAW,CAAG,EAAA,IAAA,CAAA;AAAA,CAAW,GAAA,IAAA,CAAA;AAEjC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,OAAe,aAAA,CAAc,GAAa,EAAA,aAAA,EAAuB,OAC7D,OACJ,EAAA;AACI,IAAI,IAAA,KAAA,GAAQ,MAAM,GAAG,CAAA,CAAA;AAErB,IAAI,IAAA,OAAO,UAAU,QACrB,EAAA;AACI,MAAA,KAAA,GAAQ,kBAAkB,CAAA,YAAA,CAAa,GAAK,EAAA,aAAA,EAAe,OAAO,CAAI,GAAA,aAAA,CAAA;AACtE,MAAA,KAAA,CAAM,GAAG,CAAI,GAAA,KAAA,CAAA;AAAA,KACjB;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,gBAAgB,UAC/B,EAAA;AACI,IAAQ,OAAA,UAAA,KAAe,YAAY,UAAe,KAAA,UAAA,CAAA;AAAA,GACtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,kBAAkB,UACjC,EAAA;AACI,IAAA,OAAQ,UAAe,KAAA,QAAA,CAAA;AAAA,GAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,WAAW,IAC1B,EAAA;AACI,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAO,OAAA,EAAA,CAAA;AAAA,KACX;AAEA,IAAA,KAAA,IAAS,IAAI,IAAK,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CACtC,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AAEnB,MAAA,IAAI,CAAC,kBAAA,CAAkB,eAAgB,CAAA,IAAI,CAC3C,EAAA;AACI,QAAA,MAAA;AAAA,OACJ;AAEA,MAAO,IAAA,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,EAAG,CAAE,CAAA,CAAA,CAAA;AAAA,KAC3B;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,WAAW,IAC1B,EAAA;AACI,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,OAAO,mBAAkB,SAAU,CAAA,QAAA,CAAS,IAAK,CAAA,UAAA,CAAW,CAAC,CAAC,CAAA,CAAA;AAAA,GAClE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,OAAc,eAAgB,CAAA,IAAA,EAAc,SAC5C,EAAA;AACI,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAO,OAAA,KAAA,CAAA;AAAA,KACX;AAEA,IAAA,OAAO,mBAAkB,eAAgB,CAAA,QAAA,CAAS,IAAK,CAAA,UAAA,CAAW,CAAC,CAAC,CAAA,CAAA;AAAA,GACxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAe,UAAU,IACzB,EAAA;AACI,IAAA,MAAM,SAAmB,EAAC,CAAA;AAC1B,IAAA,IAAI,KAAQ,GAAA,EAAA,CAAA;AAEZ,IAAI,IAAA,OAAO,SAAS,QACpB,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,QAAQ,CACjC,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,KAAK,CAAC,CAAA,CAAA;AACnB,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAE3B,MAAI,IAAA,kBAAA,CAAkB,gBAAgB,IAAM,EAAA,QAAQ,KAAK,kBAAkB,CAAA,UAAA,CAAW,IAAI,CAC1F,EAAA;AACI,QAAA,IAAI,UAAU,EACd,EAAA;AACI,UAAA,MAAA,CAAO,KAAK,KAAK,CAAA,CAAA;AACjB,UAAQ,KAAA,GAAA,EAAA,CAAA;AAAA,SACZ;AAEA,QAAA,MAAA,CAAO,KAAK,IAAI,CAAA,CAAA;AAEhB,QAAA,SAAA;AAAA,OACJ;AAEA,MAAS,KAAA,IAAA,IAAA,CAAA;AAAA,KACb;AAEA,IAAA,IAAI,UAAU,EACd,EAAA;AACI,MAAA,MAAA,CAAO,KAAK,KAAK,CAAA,CAAA;AAAA,KACrB;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,OAAc,aAAc,CAAA,MAAA,EAAgB,UAC5C,EAAA;AACI,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBA,OAAc,aAAc,CAAA,KAAA,EAAe,SAAmB,EAAA,MAAA,EAAgB,QAC1E,WACJ,EAAA;AACI,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,OAAc,cAAc,KAC5B,EAAA;AACI,IAAO,OAAA,kBAAA,CAAkB,kBAAkB,KAAK,CAAA,CAAA;AAAA,GACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAc,YAAY,IAK1B,EAAA;AAEI,IAAI,IAAA,kBAAA,CAAkB,MAAO,CAAA,IAAI,CACjC,EAAA;AACI,MAAO,OAAA,kBAAA,CAAkB,OAAO,IAAI,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,MAAM,UAAU,kBAAkB,CAAA,QAAA,CAAA;AAElC,IAAA,OAAA,CAAQ,IAAO,GAAA,IAAA,CAAA;AACf,IAAA,MAAM,UAAU,OAAQ,CAAA,WAAA,CAAY,kBAAkB,CAAA,cAAA,GAAiB,mBAAkB,eAAe,CAAA,CAAA;AAExG,IAAA,MAAM,UAAa,GAAA;AAAA,MACf,QAAQ,OAAQ,CAAA,uBAAA;AAAA,MAChB,SAAS,OAAQ,CAAA,wBAAA;AAAA,MACjB,QAAA,EAAU,OAAQ,CAAA,uBAAA,GAA0B,OAAQ,CAAA,wBAAA;AAAA,KACxD,CAAA;AAEA,IAAkB,kBAAA,CAAA,MAAA,CAAO,IAAI,CAAI,GAAA,UAAA,CAAA;AAEjC,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAc,YAAa,CAAA,IAAA,GAAO,EAClC,EAAA;AACI,IAAA,IAAI,IACJ,EAAA;AACI,MAAO,OAAA,kBAAA,CAAkB,OAAO,IAAI,CAAA,CAAA;AAAA,KAGxC,MAAA;AACI,MAAA,kBAAA,CAAkB,SAAS,EAAC,CAAA;AAAA,KAChC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAkB,OAClB,GAAA;AACI,IAAI,IAAA,CAAC,mBAAkB,QACvB,EAAA;AACI,MAAI,IAAA,MAAA,CAAA;AAEJ,MACA,IAAA;AAEI,QAAA,MAAM,CAAI,GAAA,IAAI,eAAgB,CAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAClC,QAAA,MAAM,OAAU,GAAA,CAAA,CAAE,UAAW,CAAA,IAAA,EAAM,eAAe,CAAA,CAAA;AAElD,QAAA,IAAI,mCAAS,WACb,EAAA;AACI,UAAA,kBAAA,CAAkB,QAAW,GAAA,CAAA,CAAA;AAE7B,UAAO,OAAA,CAAA,CAAA;AAAA,SACX;AAEA,QAAS,MAAA,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAAA,eAEpC,EAAP,EAAA;AAEI,QAAS,MAAA,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAAA,OAC3C;AACA,MAAO,MAAA,CAAA,KAAA,GAAQ,OAAO,MAAS,GAAA,EAAA,CAAA;AAC/B,MAAA,kBAAA,CAAkB,QAAW,GAAA,MAAA,CAAA;AAAA,KACjC;AAEA,IAAA,OAAO,kBAAkB,CAAA,QAAA,CAAA;AAAA,GAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAkB,QAClB,GAAA;AACI,IAAI,IAAA,CAAC,mBAAkB,SACvB,EAAA;AACI,MAAA,kBAAA,CAAkB,SAAY,GAAA,kBAAA,CAAkB,OAAQ,CAAA,UAAA,CAAW,MAAM,eAAe,CAAA,CAAA;AAAA,KAC5F;AAEA,IAAA,OAAO,kBAAkB,CAAA,SAAA,CAAA;AAAA,GAC7B;AACJ,CAAA,CAAA;AA7xBO,IAAM,iBAAN,GAAA,mBAAA;AAAA;AAAA;AAAA;AAAA;AAAM,iBAAA,CAiCK,cAAiB,GAAA,YAAA,CAAA;AAAA;AAjCtB,iBAAA,CAoCK,eAAkB,GAAA,GAAA,CAAA;AAAA;AApCvB,iBAAA,CAuCK,mBAAsB,GAAA,GAAA,CAAA;AAAA;AAvC3B,iBAAA,CA0CK,iBAAoB,GAAA,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA1CzB,iBAAA,CAuDK,qBAA8C,MAC5D;AACI,EAAI,IAAA,QAAQ,IAAgB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,SAAA,CAAA,KAAc,UAC1C,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,IAAK,IAAA,CAAe,SAAU,EAAA,CAAA;AAEhD,IAAA,OAAO,CAAC,CAAA,KAAc,CAAC,GAAG,SAAU,CAAA,OAAA,CAAQ,CAAC,CAAC,CAAE,CAAA,GAAA,CAAI,CAAC,CAAA,KAAM,EAAE,OAAO,CAAA,CAAA;AAAA,GACxE;AAEA,EAAA,OAAO,CAAC,CAAA,KAAc,CAAC,GAAG,CAAC,CAAA,CAAA;AAC/B,CAAG,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjEM,iBAAA,CAmGK,yBAA4B,GAAA,KAAA,CAAA;AAAA;AAnGjC,iBAAA,CAsGM,SAAsC,EAAC,CAAA;AAAA;AAtG7C,iBAAA,CAyGe,SAAsB,GAAA;AAAA,EAC1C,EAAA;AAAA;AAAA,EACA,EAAA;AAAA;AACJ,CAAA,CAAA;AAAA;AA5GS,iBAAA,CA+Ge,eAA4B,GAAA;AAAA,EAChD,CAAA;AAAA;AAAA,EACA,EAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,IAAA;AAAA;AAAA,EACA,KAAA;AAAA;AACJ,CAAA,CAAA;AA9HS,iBAAA,CAqIe,oBAAuD,EAAC;;ACnLpE,SAAA,kBAAA,CACZ,WACA,OACJ,EAAA;AACI,EAAA,IAAI,UAAU,OAAY,KAAA,OAAA,CAAQ,KAAS,IAAA,CAAC,UAAU,IACtD,EAAA;AACI,IAAA,OAAO,MAAM,MAAO,CAAA,QAAA,CAAS,SAAU,CAAA,KAAK,EAAE,KAAM,EAAA,CAAA;AAAA,GACxD,MAAA,IACS,CAAC,SAAA,CAAU,IACpB,EAAA;AAEI,IAAA,MAAM,UAAU,OAAQ,CAAA,aAAA,CAAc,UAAU,OAAQ,CAAA,MAAA,CAAO,UAAU,QAAQ,CAAA,CAAA;AAGjF,IAAA,MAAM,UAAa,GAAA,SAAA,CAAU,MAAO,CAAA,MAAA,CAAO,OAAO,MAAM,CAAA,CAAA;AAExD,IAAA,UAAA,CAAW,MAAM,SAAU,CAAA,OAAA,CAAQ,UAAY,EAAA,SAAA,CAAU,QAAQ,WAAW,CAAA,CAAA;AAE5E,IAAA,OAAA,CAAQ,aAAa,UAAU,CAAA,CAAA;AAE/B,IAAO,OAAA,OAAA,CAAA;AAAA,GACX,MAAA,IACS,SAAU,CAAA,IAAA,YAAgB,WACnC,EAAA;AACI,IAAA,MAAM,cAAc,SAAU,CAAA,IAAA,CAAA;AAE9B,IAAA,MAAM,UAAU,OAAQ,CAAA,aAAA,CAAc,YAAY,OAAQ,CAAA,MAAA,CAAO,UAAU,QAAQ,CAAA,CAAA;AAEnF,IAAA,MAAM,UAAa,GAAA,WAAA,CAAY,SAAU,CAAA,MAAA,CAAO,OAAO,MAAM,CAAA,CAAA;AAE7D,IAAA,UAAA,CAAW,MAAM,WAAY,CAAA,OAAA,CAAQ,UAAY,EAAA,WAAA,CAAY,QAAQ,WAAW,CAAA,CAAA;AAEhF,IAAA,OAAA,CAAQ,aAAa,UAAU,CAAA,CAAA;AAE/B,IAAO,OAAA,OAAA,CAAA;AAAA,GACX,MAAA,IACS,SAAU,CAAA,IAAA,YAAgB,YACnC,EAAA;AACI,IAAA,MAAM,eAAe,SAAU,CAAA,IAAA,CAAA;AAE/B,IAAI,IAAA,YAAA,CAAa,SAAS,QAC1B,EAAA;AACI,MAAA,MAAM,WAAW,OAAQ,CAAA,oBAAA;AAAA,QACrB,YAAa,CAAA,EAAA;AAAA,QACb,YAAa,CAAA,EAAA;AAAA,QACb,YAAa,CAAA,EAAA;AAAA,QACb,YAAa,CAAA,EAAA;AAAA,OACjB,CAAA;AAEA,MAAa,YAAA,CAAA,aAAA,CAAc,OAAQ,CAAA,CAAC,IACpC,KAAA;AACI,QAAS,QAAA,CAAA,YAAA,CAAa,IAAK,CAAA,MAAA,EAAQ,KAAM,CAAA,MAAA,CAAO,SAAS,IAAK,CAAA,KAAK,CAAE,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,OAC/E,CAAA,CAAA;AAED,MAAO,OAAA,QAAA,CAAA;AAAA,KACX;AAAA,GACJ;AAGA,EAAA,IAAA,CAAK,4BAA4B,SAAS,CAAA,CAAA;AAG1C,EAAO,OAAA,KAAA,CAAA;AACX;;AChEO,SAAS,kBAAkB,KAClC,EAAA;AAEI,EAAA,IAAI,UAAU,EACd,EAAA;AACI,IAAA,OAAO,EAAC,CAAA;AAAA,GACZ;AAGA,EAAI,IAAA,OAAO,UAAU,QACrB,EAAA;AACI,IAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;AAAA,GAClB;AAGA,EAAA,MAAM,SAAmB,EAAC,CAAA;AAE1B,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAM,MAAQ,EAAA,CAAA,GAAI,GAAG,CACzC,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,MAAM,CAAC,CAAA,CAAA;AAGpB,IAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,IAAI,CACtB,EAAA;AACI,MAAI,IAAA,IAAA,CAAK,WAAW,CACpB,EAAA;AACI,QAAA,MAAM,IAAI,KAAA,CAAM,CAAiE,8DAAA,EAAA,IAAA,CAAK,MAAS,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,OACnG;AACA,MAAI,IAAA,IAAA,CAAK,CAAC,CAAE,CAAA,MAAA,KAAW,KAAK,IAAK,CAAA,CAAC,CAAE,CAAA,MAAA,KAAW,CAC/C,EAAA;AACI,QAAM,MAAA,IAAI,MAAM,4CAA4C,CAAA,CAAA;AAAA,OAChE;AAEA,MAAA,MAAM,SAAY,GAAA,IAAA,CAAK,CAAC,CAAA,CAAE,WAAW,CAAC,CAAA,CAAA;AACtC,MAAA,MAAM,OAAU,GAAA,IAAA,CAAK,CAAC,CAAA,CAAE,WAAW,CAAC,CAAA,CAAA;AAEpC,MAAA,IAAI,UAAU,SACd,EAAA;AACI,QAAM,MAAA,IAAI,MAAM,wCAAwC,CAAA,CAAA;AAAA,OAC5D;AAEA,MAAA,KAAA,IAASC,KAAI,SAAW8C,EAAAA,EAAAA,GAAI,OAAS9C,EAAAA,EAAAA,IAAK8C,IAAG9C,EAC7C,EAAA,EAAA;AACI,QAAA,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,YAAaA,CAAAA,EAAC,CAAC,CAAA,CAAA;AAAA,OACtC;AAAA,KAGJ,MAAA;AACI,MAAA,MAAA,CAAO,IAAK,CAAA,GAAG,KAAM,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA;AAAA,KACnC;AAAA,GACJ;AAEA,EAAI,IAAA,MAAA,CAAO,WAAW,CACtB,EAAA;AACI,IAAM,MAAA,IAAI,MAAM,oDAAoD,CAAA,CAAA;AAAA,GACxE;AAEA,EAAO,OAAA,MAAA,CAAA;AACX;;ACvCO,MAAM,0BAA0B,kBACvC,CAAA;AAAA,EAeI,YAAY,OACZ,EAAA;AA7CJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA8CQ,IAAM,KAAA,EAAA,CAAA;AAdV;AAAA;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAyB,QAAmE,EAAC,CAAA;AAE7F,IAAA,IAAA,CAAiB,QAAmB,GAAA,CAAA,CAAA;AACpC,IAAiB,IAAA,CAAA,aAAA,mBAA+C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC3E,IAAA,IAAA,CAAQ,gBAA0B,EAAC,CAAA;AACnC,IAAA,IAAA,CAAQ,SAAY,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAQ,SAAY,GAAA,CAAA,CAAA;AACpB,IAAA,IAAA,CAAQ,iBAAoB,GAAA,CAAA,CAAA,CAAA;AAE5B,IAAA,IAAA,CAAiB,YAAwB,GAAA,KAAA,CAAA;AAMrC,IAAA,MAAM,cAAiB,GAAA,OAAA,CAAA;AACvB,IAAM,MAAA,KAAA,GAAQ,cAAe,CAAA,KAAA,CAAM,KAAM,EAAA,CAAA;AAEzC,IAAA,KAAA,CAAM,WAAW,IAAK,CAAA,uBAAA,CAAA;AAEtB,IAAA,IAAI,eAAe,YACnB,EAAA;AAEI,MAAA,KAAA,CAAM,MAAM,KAAQ,GAAA,QAAA,CAAA;AACpB,MAAA,KAAA,CAAM,MAAM,KAAQ,GAAA,CAAA,CAAA;AACpB,MAAM,KAAA,CAAA,KAAA,CAAM,UAAU,OAAQ,CAAA,KAAA,CAAA;AAC9B,MAAA,KAAA,CAAM,MAAM,IAAO,GAAA,IAAA,CAAA;AAAA,KACvB;AAEA,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AACd,IAAK,IAAA,CAAA,YAAA,GAAA,CAAe,EAAe,GAAA,cAAA,CAAA,WAAA,KAAf,IAA8B,GAAA,EAAA,GAAA,KAAA,CAAA;AAClD,IAAK,IAAA,CAAA,UAAA,GAAA,CAAa,EAAe,GAAA,cAAA,CAAA,UAAA,KAAf,IAA6B,GAAA,EAAA,GAAA,CAAA,CAAA;AAC/C,IAAK,IAAA,CAAA,QAAA,GAAA,CAAW,EAAe,GAAA,cAAA,CAAA,OAAA,KAAf,IAA0B,GAAA,EAAA,GAAA,CAAA,CAAA;AAE1C,IAAM,MAAA,IAAA,GAAO,wBAAwB,KAAK,CAAA,CAAA;AAC1C,IAAA,MAAM,QAAW,GAAA,IAAA,CAAA;AAEjB,IAAS,QAAA,CAAA,WAAA,GAAc,iBAAkB,CAAA,WAAA,CAAY,IAAI,CAAA,CAAA;AACzD,IAAA,QAAA,CAAS,aAAa,KAAM,CAAA,UAAA,IAAc,IAAK,CAAA,WAAA,CAAY,YAAY,KAAM,CAAA,QAAA,CAAA;AAAA,GACjF;AAAA,EAEO,iBAAiB,KACxB,EAAA;AA3EJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA4EQ,IAAM,MAAA,QAAA,GAAW,kBAAkB,KAAK,CAAA,CACnC,OAAO,CAAC,IAAA,KAAS,CAAC,IAAA,CAAK,aAAc,CAAA,QAAA,CAAS,IAAI,CAAC,CAAA,CACnD,MAAO,CAAA,CAAC,IAAM,EAAA,KAAA,EAAO,SAAS,IAAK,CAAA,OAAA,CAAQ,IAAI,CAAA,KAAM,KAAK,CAAA,CAAA;AAG/D,IAAA,IAAI,CAAC,QAAS,CAAA,MAAA;AAAQ,MAAA,OAAA;AAEtB,IAAA,IAAA,CAAK,gBAAgB,CAAC,GAAG,IAAK,CAAA,aAAA,EAAe,GAAG,QAAQ,CAAA,CAAA;AAExD,IAAI,IAAA,QAAA,CAAA;AAEJ,IAAI,IAAA,IAAA,CAAK,sBAAsB,CAC/B,CAAA,EAAA;AACI,MAAA,QAAA,GAAW,KAAK,SAAU,EAAA,CAAA;AAAA,KAG9B,MAAA;AACI,MAAW,QAAA,GAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,iBAAiB,CAAA,CAAA;AAAA,KAChD;AAEA,IAAA,IAAI,EAAE,MAAA,EAAQ,OAAQ,EAAA,GAAI,QAAS,CAAA,gBAAA,CAAA;AACnC,IAAI,IAAA,aAAA,GAAgB,SAAS,OAAQ,CAAA,MAAA,CAAA;AAErC,IAAA,MAAM,QAAQ,IAAK,CAAA,MAAA,CAAA;AAEnB,IAAA,IAAI,WAAW,IAAK,CAAA,SAAA,CAAA;AACpB,IAAA,IAAI,WAAW,IAAK,CAAA,SAAA,CAAA;AAEpB,IAAM,MAAA,SAAA,GAAY,IAAK,CAAA,oBAAA,GAAuB,IAAK,CAAA,uBAAA,CAAA;AACnD,IAAM,MAAA,OAAA,GAAU,KAAK,QAAW,GAAA,SAAA,CAAA;AAEhC,IAAA,MAAM,UAAa,GAAA,KAAA,CAAM,SAAc,KAAA,QAAA,GAAW,CAAI,GAAA,CAAA,CAAA;AACtD,IAAA,IAAI,aAAgB,GAAA,CAAA,CAAA;AACpB,IAAA,IAAI,WAAc,GAAA,KAAA,CAAA;AAElB,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,SAAS,CAAC,CAAA,CAAA;AAEvB,MAAA,MAAM,UAAU,iBAAkB,CAAA,WAAA,CAAY,IAAM,EAAA,KAAA,EAAO,QAAQ,KAAK,CAAA,CAAA;AAExE,MAAM,MAAA,KAAA,GAAS,UAAa,GAAA,OAAA,CAAQ,KAAS,GAAA,SAAA,CAAA;AAC7C,MAAM,MAAA,MAAA,GAAU,QAAQ,MAAU,GAAA,SAAA,CAAA;AAElC,MAAM,MAAA,WAAA,GAAc,QAAS,OAAU,GAAA,CAAA,CAAA;AACvC,MAAM,MAAA,YAAA,GAAe,SAAU,OAAU,GAAA,CAAA,CAAA;AAEzC,MAAc,WAAA,GAAA,KAAA,CAAA;AAEd,MAAA,IAAI,SAAS,IAAQ,IAAA,IAAA,KAAS,QAAQ,IAAS,KAAA,GAAA,IAAQ,SAAS,GAChE,EAAA;AACI,QAAc,WAAA,GAAA,IAAA,CAAA;AACd,QAAA,aAAA,GAAgB,KAAK,IAAK,CAAA,IAAA,CAAK,GAAI,CAAA,YAAA,EAAc,aAAa,CAAC,CAAA,CAAA;AAAA,OACnE;AAEA,MAAI,IAAA,QAAA,GAAW,cAAc,GAC7B,EAAA;AACI,QAAY,QAAA,IAAA,aAAA,CAAA;AAGZ,QAAgB,aAAA,GAAA,YAAA,CAAA;AAChB,QAAW,QAAA,GAAA,CAAA,CAAA;AAEX,QAAI,IAAA,QAAA,GAAW,gBAAgB,GAC/B,EAAA;AACI,UAAA,aAAA,CAAc,MAAO,EAAA,CAAA;AAErB,UAAM+C,MAAAA,SAAAA,GAAW,KAAK,SAAU,EAAA,CAAA;AAEhC,UAAA,MAAA,GAASA,UAAS,gBAAiB,CAAA,MAAA,CAAA;AACnC,UAAA,OAAA,GAAUA,UAAS,gBAAiB,CAAA,OAAA,CAAA;AACpC,UAAA,aAAA,GAAgBA,UAAS,OAAQ,CAAA,MAAA,CAAA;AAEjC,UAAW,QAAA,GAAA,CAAA,CAAA;AAAA,SACf;AAAA,OACJ;AAEA,MAAA,MAAM,QAAY,GAAA,KAAA,GAAQ,SACnB,IAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,UAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,QAAlB,KAAA,IAAA,GAAA,EAAA,GAA8B,CAC9B,CAAA,IAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,UAAf,IAAwB,GAAA,EAAA,GAAA,CAAA,CAAA,CAAA;AAG/B,MAAK,IAAA,CAAA,KAAA,CAAM,IAAI,CAAI,GAAA;AAAA,QACf,EAAA,EAAI,IAAK,CAAA,WAAA,CAAY,CAAC,CAAA;AAAA,QACtB,OAAA,EAAS,CAAC,IAAK,CAAA,QAAA;AAAA,QACf,OAAA,EAAS,CAAC,IAAK,CAAA,QAAA;AAAA,QACf,QAAA;AAAA,QACA,SAAS,EAAC;AAAA,OACd,CAAA;AAEA,MAAA,IAAI,WACJ,EAAA;AACI,QAAK,IAAA,CAAA,UAAA;AAAA,UACD,OAAA;AAAA,UACA,OAAA;AAAA,UACA,QAAW,GAAA,OAAA;AAAA,UACX,QAAW,GAAA,OAAA;AAAA,UACX,SAAA;AAAA,UACA,KAAA;AAAA,SACJ,CAAA;AAEA,QAAM,MAAA,EAAA,GAAK,cAAc,KAAQ,GAAA,SAAA,CAAA;AACjC,QAAM,MAAA,EAAA,GAAK,cAAc,MAAS,GAAA,SAAA,CAAA;AAElC,QAAA,MAAM,QAAQ,IAAI,SAAA;AAAA,UACb,QAAY,GAAA,EAAA;AAAA,UACZ,QAAY,GAAA,EAAA;AAAA,UACZ,WAAe,GAAA,EAAA;AAAA,UACf,YAAgB,GAAA,EAAA;AAAA,SACrB,CAAA;AAEA,QAAA,IAAA,CAAK,KAAM,CAAA,IAAI,CAAE,CAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,UACnC,MAAQ,EAAA,aAAA;AAAA,UACR,MAAQ,EAAA;AAAA,YACJ,KAAA;AAAA,WACJ;AAAA,SACH,CAAA,CAAA;AAED,QAAY,QAAA,IAAA,IAAA,CAAK,KAAK,WAAW,CAAA,CAAA;AAAA,OACrC;AAAA,KAGJ;AAEA,IAAA,aAAA,CAAc,MAAO,EAAA,CAAA;AAErB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAGjB,IAAA,IAAA,CAAK,YAAgB,IAAA,IAAA,CAAK,aAAc,CAAA,QAAA,EAAU,OAAO,CAAA,CAAA;AAAA,GAC7D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAoB,YACpB,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,6EAA6E,CAAA,CAAA;AAEjG,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA,EAEQ,aAAA,CAAc,UAAoB,OAC1C,EAAA;AACI,IAAA,MAAM,eAAe,IAAK,CAAA,aAAA,CAAA;AAE1B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,QAAQ,CACrC,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,SAAS,CAAC,CAAA,CAAA;AAExB,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,QAAQ,CAC/C,EAAA,EAAA;AAEI,QAAM,MAAA,MAAA,GAAS,IAAK,CAAA,aAAA,CAAc,CAAC,CAAA,CAAA;AAEnC,QAAI,IAAA,EAAA,GAAK,aAAa,KAAK,CAAA,CAAA;AAE3B,QAAA,IAAI,CAAC,EAAA;AAAI,UAAA,EAAA,GAAK,aAAa,KAAK,CAAA,GAAI,OAAQ,CAAA,WAAA,CAAY,KAAK,CAAE,CAAA,KAAA,CAAA;AAE/D,QAAI,IAAA,EAAA,GAAK,aAAa,MAAM,CAAA,CAAA;AAE5B,QAAA,IAAI,CAAC,EAAA;AAAI,UAAA,EAAA,GAAK,aAAa,MAAM,CAAA,GAAI,OAAQ,CAAA,WAAA,CAAY,MAAM,CAAE,CAAA,KAAA,CAAA;AAEjE,QAAA,IAAI,KAAQ,GAAA,OAAA,CAAQ,WAAY,CAAA,KAAA,GAAQ,MAAM,CAAE,CAAA,KAAA,CAAA;AAChD,QAAI,IAAA,MAAA,GAAS,SAAS,EAAK,GAAA,EAAA,CAAA,CAAA;AAE3B,QAAA,IAAI,MACJ,EAAA;AACI,UAAA,IAAA,CAAK,KAAM,CAAA,KAAK,CAAE,CAAA,OAAA,CAAQ,MAAM,CAAI,GAAA,MAAA,CAAA;AAAA,SACxC;AAGA,QAAA,KAAA,GAAQ,OAAQ,CAAA,WAAA,CAAY,KAAQ,GAAA,MAAM,CAAE,CAAA,KAAA,CAAA;AAC5C,QAAA,MAAA,GAAS,SAAS,EAAK,GAAA,EAAA,CAAA,CAAA;AAEvB,QAAA,IAAI,MACJ,EAAA;AACI,UAAA,IAAA,CAAK,KAAM,CAAA,MAAM,CAAE,CAAA,OAAA,CAAQ,KAAK,CAAI,GAAA,MAAA,CAAA;AAAA,SACxC;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAAA,EAEQ,SACR,GAAA;AACI,IAAK,IAAA,CAAA,iBAAA,EAAA,CAAA;AAEL,IAAA,MAAM,oBAAoB,IAAK,CAAA,UAAA,CAAA;AAC/B,IAAA,MAAM,gBAAmB,GAAA,UAAA,CAAW,0BAA2B,CAAA,GAAA,EAAK,KAAK,iBAAiB,CAAA,CAAA;AAE1F,IAAA,IAAA,CAAK,aAAc,CAAA,gBAAA,CAAiB,OAAS,EAAA,IAAA,CAAK,QAAQ,iBAAiB,CAAA,CAAA;AAE3E,IAAA,MAAM,UAAa,GAAA,iBAAA,IAAqB,IAAK,CAAA,oBAAA,GAAuB,IAAK,CAAA,uBAAA,CAAA,CAAA;AACzE,IAAM,MAAA,OAAA,GAAU,IAAI,OAAQ,CAAA;AAAA,MACxB,MAAA,EAAQ,IAAI,WAAY,CAAA;AAAA,QACpB,UAAU,gBAAiB,CAAA,MAAA;AAAA,QAC3B,UAAA;AAAA,QACA,SAAW,EAAA,6BAAA;AAAA,OACd,CAAA;AAAA,KAEJ,CAAA,CAAA;AAED,IAAA,MAAM,QAAW,GAAA;AAAA,MACb,gBAAA;AAAA,MACA,OAAA;AAAA,KACJ,CAAA;AAEA,IAAK,IAAA,CAAA,KAAA,CAAM,IAAK,CAAA,iBAAiB,CAAI,GAAA,QAAA,CAAA;AAErC,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGQ,aAAA,CAAc,OAAoC,EAAA,KAAA,EAAkB,UAC5E,EAAA;AApSJ,IAAA,IAAA,EAAA,CAAA;AAqSQ,IAAA,KAAA,CAAM,WAAW,IAAK,CAAA,oBAAA,CAAA;AACtB,IAAQ,OAAA,CAAA,KAAA,CAAM,YAAY,UAAU,CAAA,CAAA;AACpC,IAAQ,OAAA,CAAA,IAAA,GAAO,wBAAwB,KAAK,CAAA,CAAA;AAC5C,IAAA,KAAA,CAAM,WAAW,IAAK,CAAA,uBAAA,CAAA;AACtB,IAAA,OAAA,CAAQ,eAAe,KAAM,CAAA,YAAA,CAAA;AAE7B,IAAA,MAAM,SAAS,KAAM,CAAA,OAAA,CAAA;AACrB,IAAM,MAAA,eAAA,GAAA,CAAkB,EAAQ,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,KAAA,KAAR,IAAiB,GAAA,EAAA,GAAA,CAAA,CAAA;AAEzC,IAAA,IAAI,MACJ,EAAA;AACI,MAAA,OAAA,CAAQ,SAAY,GAAA,eAAA,CAAA;AACpB,MAAA,OAAA,CAAQ,WAAW,MAAO,CAAA,IAAA,CAAA;AAC1B,MAAA,OAAA,CAAQ,aAAa,MAAO,CAAA,UAAA,CAAA;AAG5B,MAAQ,OAAA,CAAA,WAAA,GAAc,kBAAmB,CAAA,MAAA,EAAQ,OAAO,CAAA,CAAA;AAAA,KAC5D;AAEA,IAAA,IAAI,MAAM,KACV,EAAA;AAEI,MAAA,OAAA,CAAQ,SAAY,GAAA,kBAAA,CAAmB,KAAM,CAAA,KAAA,EAAO,OAAO,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,IAAI,MAAM,UACV,EAAA;AACI,MAAA,MAAM,gBAAgB,KAAM,CAAA,UAAA,CAAA;AAC5B,MAAA,MAAM,MAAM,KAAM,CAAA,MAAA,CAAO,SAAS,aAAc,CAAA,KAAK,EAAE,OAAQ,EAAA,CAAA;AAE/D,MAAM,MAAA,cAAA,GAAiB,cAAc,IAAO,GAAA,UAAA,CAAA;AAC5C,MAAM,MAAA,kBAAA,GAAqB,cAAc,QAAW,GAAA,UAAA,CAAA;AAEpD,MAAA,OAAA,CAAQ,WAAc,GAAA,CAAA,KAAA,EAAQ,GAAI,CAAA,CAAC,IAAI,GAAO,CAAA,CAAA,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAO,CAAA,CAAA,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,OAAO,aAAc,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AAC5F,MAAA,OAAA,CAAQ,UAAa,GAAA,cAAA,CAAA;AACrB,MAAA,OAAA,CAAQ,aAAgB,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,CAAc,KAAK,CAAI,GAAA,kBAAA,CAAA;AACxD,MAAA,OAAA,CAAQ,aAAgB,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,CAAc,KAAK,CAAI,GAAA,kBAAA,CAAA;AAAA,KAG5D,MAAA;AACI,MAAA,OAAA,CAAQ,WAAc,GAAA,OAAA,CAAA;AACtB,MAAA,OAAA,CAAQ,UAAa,GAAA,CAAA,CAAA;AACrB,MAAA,OAAA,CAAQ,aAAgB,GAAA,CAAA,CAAA;AACxB,MAAA,OAAA,CAAQ,aAAgB,GAAA,CAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AAAA,EAEQ,WACJ,OACA,EAAA,OAAA,EACA,CACA,EAAA,CAAA,EACA,WACA,KAEJ,EAAA;AA5VJ,IAAA,IAAA,EAAA,CAAA;AA6VQ,IAAA,MAAM,OAAO,OAAQ,CAAA,IAAA,CAAA;AACrB,IAAA,MAAM,iBAAiB,OAAQ,CAAA,cAAA,CAAA;AAC/B,IAAA,MAAM,SAAS,KAAM,CAAA,OAAA,CAAA;AAErB,IAAA,MAAM,eAAmB,GAAA,CAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,KAAR,KAAA,IAAA,GAAA,EAAA,GAAiB,CAAK,IAAA,SAAA,CAAA;AAE/C,IAAM,MAAA,EAAA,GAAK,IAAK,eAAkB,GAAA,CAAA,CAAA;AAClC,IAAM,MAAA,EAAA,GAAK,IAAK,eAAkB,GAAA,CAAA,CAAA;AAElC,IAAM,MAAA,OAAA,GAAU,eAAe,OAAU,GAAA,SAAA,CAAA;AACzC,IAAM,MAAA,UAAA,GAAa,QAAQ,UAAa,GAAA,SAAA,CAAA;AAExC,IAAI,IAAA,KAAA,CAAM,UAAU,eACpB,EAAA;AACI,MAAA,OAAA,CAAQ,UAAW,CAAA,IAAA,EAAM,EAAI,EAAA,EAAA,GAAK,aAAa,OAAO,CAAA,CAAA;AAAA,KAC1D;AAEA,IAAA,IAAI,MAAM,KACV,EAAA;AACI,MAAA,OAAA,CAAQ,QAAS,CAAA,IAAA,EAAM,EAAI,EAAA,EAAA,GAAK,aAAa,OAAO,CAAA,CAAA;AAAA,KACxD;AAAA,GACJ;AAAA,EAEgB,OAChB,GAAA;AACI,IAAA,KAAA,CAAM,OAAQ,EAAA,CAAA;AAEd,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,KAAA,CAAM,QAAQ,CACvC,EAAA,EAAA;AACI,MAAA,MAAM,EAAE,gBAAkB,EAAA,OAAA,EAAY,GAAA,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA;AAElD,MAAA,UAAA,CAAW,uBAAuB,gBAAgB,CAAA,CAAA;AAClD,MAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AAAA,KACxB;AAEA,IAAC,KAAoC,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjD;AACJ;;AC/WgB,SAAA,mBAAA,CAAoB,KAAiB,EAAA,KAAA,EAAkB,IACvE,EAAA;AACI,EAAA,MAAM,UAAmC,GAAA;AAAA,IACrC,KAAO,EAAA,CAAA;AAAA,IACP,MAAQ,EAAA,CAAA;AAAA,IACR,OAAS,EAAA,CAAA;AAAA,IACT,KAAA,EAAO,KAAM,CAAA,QAAA,GAAW,IAAK,CAAA,uBAAA;AAAA,IAC7B,OAAO,CAAC;AAAA,MACJ,KAAO,EAAA,CAAA;AAAA,MACP,eAAe,EAAC;AAAA,MAChB,UAAY,EAAA,CAAA;AAAA,MACZ,aAAa,EAAC;AAAA,MACd,OAAO,EAAC;AAAA,KACX,CAAA;AAAA,GACL,CAAA;AAEA,EAAA,UAAA,CAAW,UAAU,IAAK,CAAA,cAAA,CAAA;AAE1B,EAAI,IAAA,WAAA,GAAc,UAAW,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAEpC,EAAA,IAAI,YAAuB,GAAA,IAAA,CAAA;AAC3B,EAAA,IAAI,SAAY,GAAA,IAAA,CAAA;AAGhB,EAAA,MAAM,WAAc,GAAA;AAAA,IAChB,SAAW,EAAA,KAAA;AAAA,IACX,KAAO,EAAA,CAAA;AAAA,IACP,KAAO,EAAA,CAAA;AAAA,IACP,KAAO,EAAA,CAAA;AAAA;AAAA,IACP,WAAW,EAAC;AAAA,IACZ,OAAO,EAAC;AAAA,GACZ,CAAA;AAEA,EAAM,MAAA,QAAA,GAAW,CAAC,IAClB,KAAA;AACI,IAAA,MAAM,QAAQ,WAAY,CAAA,KAAA,CAAA;AAE1B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,OAAO,CACvC,EAAA,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,IAAK,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAEjC,MAAA,WAAA,CAAY,KAAM,CAAA,IAAA,CAAK,IAAK,CAAA,KAAA,CAAM,CAAC,CAAC,CAAA,CAAA;AACpC,MAAY,WAAA,CAAA,aAAA,CAAc,IAAK,CAAA,QAAA,GAAW,KAAK,CAAA,CAAA;AAAA,KACnD;AAEA,IAAA,WAAA,CAAY,SAAS,IAAK,CAAA,KAAA,CAAA;AAE1B,IAAY,SAAA,GAAA,KAAA,CAAA;AAGZ,IAAA,WAAA,CAAY,KAAQ,GAAA,CAAA,CAAA;AACpB,IAAA,WAAA,CAAY,KAAQ,GAAA,CAAA,CAAA;AACpB,IAAA,WAAA,CAAY,MAAM,MAAS,GAAA,CAAA,CAAA;AAAA,GAG/B,CAAA;AAEA,EAAA,MAAM,WAAW,MACjB;AACI,IAAI,IAAA,KAAA,GAAQ,WAAY,CAAA,KAAA,CAAM,MAAS,GAAA,CAAA,CAAA;AACvC,IAAI,IAAA,QAAA,GAAW,WAAY,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;AAEtC,IAAA,OAAO,aAAa,GACpB,EAAA;AACI,MAAA,WAAA,CAAY,KAAS,IAAA,IAAA,CAAK,KAAM,CAAA,QAAQ,CAAE,CAAA,QAAA,CAAA;AAC1C,MAAW,QAAA,GAAA,WAAA,CAAY,KAAM,CAAA,EAAE,KAAK,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,UAAA,CAAW,QAAQ,IAAK,CAAA,GAAA,CAAI,UAAW,CAAA,KAAA,EAAO,YAAY,KAAK,CAAA,CAAA;AAE/D,IAAc,WAAA,GAAA;AAAA,MACV,KAAO,EAAA,CAAA;AAAA,MACP,eAAe,EAAC;AAAA,MAChB,OAAO,EAAC;AAAA,MACR,UAAY,EAAA,CAAA;AAAA,MACZ,aAAa,EAAC;AAAA,KAClB,CAAA;AAEA,IAAY,SAAA,GAAA,IAAA,CAAA;AACZ,IAAW,UAAA,CAAA,KAAA,CAAM,KAAK,WAAW,CAAA,CAAA;AACjC,IAAA,UAAA,CAAW,UAAU,IAAK,CAAA,UAAA,CAAA;AAAA,GAC9B,CAAA;AAEA,EAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,uBAAA,GAA0B,KAAM,CAAA,QAAA,CAAA;AAEnD,EAAM,MAAA,qBAAA,GAAwB,MAAM,aAAgB,GAAA,KAAA,CAAA;AACpD,EAAM,MAAA,qBAAA,GAAwB,MAAM,aAAgB,GAAA,KAAA,CAAA;AAGpD,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,KAAM,CAAA,MAAA,GAAS,GAAG,CACtC,EAAA,EAAA;AACI,IAAI,IAAA,IAAA,CAAA;AAEJ,IAAM,MAAA,KAAA,GAAQ,MAAM,KAAM,CAAA,MAAA,CAAA;AAE1B,IAAA,IAAI,CAAC,KACL,EAAA;AACI,MAAA,IAAA,GAAO,MAAM,CAAC,CAAA,CAAA;AAAA,KAClB;AAEA,IAAM,MAAA,QAAA,GAAW,IAAK,CAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAEhC,IAAM,MAAA,OAAA,GAAW,QAAU,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AACpC,IAAA,MAAM,WAAc,GAAA,OAAA,IAAW,IAAS,KAAA,IAAA,IAAQ,SAAS,IAAQ,IAAA,KAAA,CAAA;AAKjE,IAAA,IAAI,WACJ,EAAA;AACI,MAAM,MAAA,iBAAA,GAAoB,CAAC,SACpB,IAAA,KAAA,CAAM,YACL,WAAY,CAAA,KAAA,GAAQ,WAAY,CAAA,KAAA,GAAQ,qBAAyB,GAAA,qBAAA,CAAA;AAEzE,MAAA,IAAI,iBACJ,EAAA;AACI,QAAS,QAAA,EAAA,CAAA;AAET,QAAA,QAAA,CAAS,WAAW,CAAA,CAAA;AAEpB,QAAA,IAAI,CAAC,KACL,EAAA;AACI,UAAY,WAAA,CAAA,aAAA,CAAc,KAAK,CAAC,CAAA,CAAA;AAAA,SACpC;AAAA,OAGJ,MAAA;AACI,QAAA,WAAA,CAAY,QAAQ,WAAY,CAAA,KAAA,CAAA;AAEhC,QAAA,QAAA,CAAS,WAAW,CAAA,CAAA;AAEpB,QAAA,IAAI,CAAC,KACL,EAAA;AACI,UAAY,WAAA,CAAA,aAAA,CAAc,KAAK,CAAC,CAAA,CAAA;AAAA,SACpC;AAAA,OACJ;AAEA,MAAI,IAAA,IAAA,KAAS,IAAQ,IAAA,IAAA,KAAS,IAC9B,EAAA;AACI,QAAI,IAAA,WAAA,CAAY,UAAU,CAC1B,EAAA;AACI,UAAS,QAAA,EAAA,CAAA;AAAA,SACb;AAAA,OACJ,MAAA,IACS,CAAC,KACV,EAAA;AACI,QAAA,MAAM,aAAa,QAAS,CAAA,QAAA,IAAY,SAAS,OAAQ,CAAA,YAAY,KAAK,CAAK,CAAA,GAAA,qBAAA,CAAA;AAE/E,QAAA,WAAA,CAAY,KAAS,IAAA,UAAA,CAAA;AAErB,QAAA,WAAA,CAAY,UAAa,GAAA,UAAA,CAAA;AACzB,QAAA,WAAA,CAAY,WAAY,CAAA,IAAA,CAAK,WAAY,CAAA,aAAA,CAAc,MAAM,CAAA,CAAA;AAC7D,QAAY,WAAA,CAAA,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AAAA,OAG/B;AAAA,KAGJ,MAAA;AACI,MAAA,MAAM,OAAU,GAAA,QAAA,CAAS,OAAQ,CAAA,YAAY,CAAK,IAAA,CAAA,CAAA;AAElD,MAAM,MAAA,aAAA,GAAgB,QAAS,CAAA,QAAA,GAAW,OAAU,GAAA,qBAAA,CAAA;AAEpD,MAAA,WAAA,CAAY,SAAU,CAAA,WAAA,CAAY,KAAO,EAAA,CAAA,GAAI,YAAY,KAAQ,GAAA,OAAA,CAAA;AACjE,MAAY,WAAA,CAAA,KAAA,CAAM,KAAK,IAAI,CAAA,CAAA;AAE3B,MAAA,WAAA,CAAY,KAAS,IAAA,aAAA,CAAA;AAAA,KACzB;AAEA,IAAe,YAAA,GAAA,IAAA,CAAA;AAAA,GAEnB;AAEA,EAAS,QAAA,EAAA,CAAA;AAET,EAAI,IAAA,KAAA,CAAM,UAAU,QACpB,EAAA;AACI,IAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAAA,GAC1B,MAAA,IACS,KAAM,CAAA,KAAA,KAAU,OACzB,EAAA;AACI,IAAA,UAAA,CAAW,UAAU,CAAA,CAAA;AAAA,GACzB,MAAA,IACS,KAAM,CAAA,KAAA,KAAU,SACzB,EAAA;AACI,IAAA,YAAA,CAAa,UAAU,CAAA,CAAA;AAAA,GAC3B;AAEA,EAAO,OAAA,UAAA,CAAA;AACX,CAAA;AAEA,SAAS,YAAY,eACrB,EAAA;AACI,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,eAAgB,CAAA,KAAA,CAAM,QAAQ,CAClD,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,eAAgB,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AACpC,IAAA,MAAM,MAAW,GAAA,eAAA,CAAgB,KAAQ,GAAA,CAAA,GAAM,KAAK,KAAQ,GAAA,CAAA,CAAA;AAE5D,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,QAAQ,CAC/C,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,CAAC,CAAK,IAAA,MAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AACJ,CAAA;AAEA,SAAS,WAAW,eACpB,EAAA;AACI,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,eAAgB,CAAA,KAAA,CAAM,QAAQ,CAClD,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,eAAgB,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AACpC,IAAM,MAAA,MAAA,GAAW,eAAgB,CAAA,KAAA,GAAU,IAAK,CAAA,KAAA,CAAA;AAEhD,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,QAAQ,CAC/C,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,CAAC,CAAK,IAAA,MAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AACJ,CAAA;AAEA,SAAS,aAAa,eACtB,EAAA;AACI,EAAA,MAAM,QAAQ,eAAgB,CAAA,KAAA,CAAA;AAE9B,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,eAAgB,CAAA,KAAA,CAAM,QAAQ,CAClD,EAAA,EAAA;AACI,IAAM,MAAA,IAAA,GAAO,eAAgB,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAEpC,IAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,IAAI,IAAA,UAAA,GAAa,IAAK,CAAA,WAAA,CAAY,IAAM,EAAA,CAAA,CAAA;AAExC,IAAA,IAAI,MAAS,GAAA,CAAA,CAAA;AAEb,IAAM,MAAA,WAAA,GAAc,KAAK,WAAY,CAAA,MAAA,CAAA;AAErC,IAAM,MAAA,aAAA,GAAA,CAAiB,KAAQ,GAAA,IAAA,CAAK,KAAS,IAAA,WAAA,CAAA;AAE7C,IAAA,MAAM,UAAa,GAAA,aAAA,CAAA;AAEnB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,QAAQ,CAC/C,EAAA,EAAA;AACI,MAAA,IAAI,MAAM,UACV,EAAA;AACI,QAAa,UAAA,GAAA,IAAA,CAAK,YAAY,IAAM,EAAA,CAAA,CAAA;AAEpC,QAAU,MAAA,IAAA,UAAA,CAAA;AAAA,OACd;AAEA,MAAK,IAAA,CAAA,aAAA,CAAc,CAAC,CAAK,IAAA,MAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AACJ;;;;;;;;;;;;;;;;;;AClQA,MAAM,sBACN,CAAA;AAAA,EADA,WAAA,GAAA;AAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAgB,IAAA,CAAA,KAAA,GAAQ,CAAC,CAAC,GAAK,EAAA,GAAG,GAAG,CAAC,GAAA,EAAK,GAAG,CAAA,EAAG,GAAG,CAAA,CAAA;AAQpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,OAAU,GAAA,CAAC,CAAC,GAAA,EAAK,GAAG,CAAC,CAAA,CAAA;AAMrC;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,YAAe,GAAA,CAAC,CAAC,GAAA,EAAK,GAAG,CAAG,EAAA,CAAC,GAAK,EAAA,GAAG,CAAG,EAAA,CAAC,GAAK,EAAA,GAAG,GAAG,GAAG,CAAA,CAAA;AAOvE;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,IAAA,CAAgB,KAAQ,GAAA,CAAC,CAAC,GAAA,EAAK,GAAG,CAAC,CAAA,CAAA;AAEnC,IAAA,IAAA,CAAO,cAA2C,GAAA;AAAA,MAC9C,OAAO,IAAK,CAAA,YAAA;AAAA,MACZ,UAAY,EAAA,CAAA;AAAA,MACZ,OAAS,EAAA,CAAA;AAAA,MACT,WAAa,EAAA,KAAA;AAAA,KACjB,CAAA;AAAA,GAAA;AAAA,EAEO,OAAA,CAAQ,MAAc,KAC7B,EAAA;AAlDJ,IAAA,IAAA,EAAA,CAAA;AAmDQ,IAAA,IAAI,gBAAgB,KAAM,CAAA,UAAA,CAAA;AAC1B,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AAGnB,IAAI,IAAA,KAAA,CAAM,MAAM,IAChB,EAAA;AACI,MAAiB,aAAA,IAAA,KAAA,CAAM,MAAM,IAAK,CAAA,GAAA,CAAA;AAClC,MAAe,YAAA,GAAA,KAAA,CAAA;AAAA,KACnB;AAGA,IAAA,IAAI,CAAC,KAAA,CAAM,GAAI,CAAA,aAAa,CAC5B,EAAA;AACI,MAAM,KAAA,CAAA,GAAA;AAAA,QACF,aAAA;AAAA,QACA,IAAI,iBAAkB,CAAAlE,gBAAA,CAAA;AAAA,UAClB,KAAA;AAAA,UACA,YAAA;AAAA,SAAA,EACG,KAAK,cACX,CAAA,CAAA;AAAA,OACL,CAAA;AAAA,KACJ;AAEA,IAAM,MAAA,WAAA,GAAc,KAAM,CAAA,GAAA,CAAI,aAAa,CAAA,CAAA;AAE3C,IAAC,CAAA,EAAA,GAAA,WAAA,CAAkC,qBAAlC,IAAqD,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA,CAAA;AAEtD,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAA,CAAU,MAAc,KAC/B,EAAA;AACI,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,OAAQ,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAE3C,IAAA,OAAO,oBAAoB,IAAK,CAAA,KAAA,CAAM,EAAE,CAAA,EAAG,OAAO,UAAU,CAAA,CAAA;AAAA,GAChE;AAAA,EAEO,WAAA,CAAY,MAAc,KACjC,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,SAAU,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAAA,GACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoBO,OAAA,CAAQ,IAAc,EAAA,SAAA,EAAmD,OAChF,EAAA;AACI,IAAA,IAAI,CAAC,IACL,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,kDAAkD,CAAA,CAAA;AAAA,KACtE;AAEA,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,KAAK,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AACvC,IAAA,MAAM,QAAQ,SAAqB,YAAA,SAAA,GAAY,SAAY,GAAA,IAAI,UAAU,SAAS,CAAA,CAAA;AAClF,IAAA,MAAM,eAAe,KAAM,CAAA,KAAA,CAAM,SAAS,IAAQ,IAAA,KAAA,CAAM,MAAM,IAAS,KAAA,KAAA,CAAA,CAAA;AACvE,IAAM,MAAA,IAAA,GAAO,IAAI,iBAAkB,CAAA;AAAA,MAC/B,KAAA;AAAA,MACA,YAAA;AAAA,MACA,aAAa,OAAQ,CAAA,WAAA;AAAA,MACrB,SAAS,OAAQ,CAAA,OAAA;AAAA,MACjB,YAAY,OAAQ,CAAA,UAAA;AAAA,KACvB,CAAA,CAAA;AACD,IAAM,MAAA,SAAA,GAAY,iBAAkB,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAEjD,IAAA,IAAA,CAAK,gBAAiB,CAAA,SAAA,CAAU,IAAK,CAAA,EAAE,CAAC,CAAA,CAAA;AAExC,IAAM,KAAA,CAAA,GAAA,CAAI,MAAM,IAAI,CAAA,CAAA;AAEpB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ,CAAA;AAEa,MAAA,iBAAA,GAAoB,IAAI,sBAAuB;;AC1H5D,MAAM,gCAAgC,eACtC,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,YAAa,EAAA;AAAA,KAC1B,CAAA,CAAA;AAAA,GACL;AACJ,CAAA;AAEO,MAAM,cACb,CAAA;AAAA,EAeI,YAAY,QACZ,EAAA;AAJA,IAAA,IAAA,CAAQ,iBAA0D,EAAC,CAAA;AAK/D,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AACI,IAAM,MAAA,kBAAA,GAAqB,IAAK,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAE5D,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAC7B,MAAA,IAAA,CAAK,cAAe,CAAA,UAAA,EAAY,kBAAmB,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAAA,KACnE;AAEA,IAAA,MAAM,UAAU,IAAK,CAAA,SAAA,CAAU,WAAY,CAAA,QAAA,CAAS,mBAAmB,kBAAkB,CAAA,CAAA;AAIzF,IAAO,OAAA,OAAA,CAAA;AAAA,GAEX;AAAA,EAEO,aAAA,CAAc,YAAkC,cACvD,EAAA;AACI,IAAM,MAAA,kBAAA,GAAqB,IAAK,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAE5D,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,cAAe,CAAA,UAAA,EAAY,kBAAmB,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAAA,KACnE;AAEA,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,QAAS,CAAA,aAAA,CAAc,oBAAoB,cAAc,CAAA,CAAA;AAEpF,IAAI,IAAA,kBAAA,CAAmB,IAAK,CAAA,OAAA,CAAQ,YACpC,EAAA;AACI,MAAA,IAAA,CAAK,qBAAqB,UAAU,CAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAK,IAAA,CAAA,uBAAA,CAAwB,WAAW,GAAG,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEQ,wBAAwB,aAChC,EAAA;AACI,IAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,cAAe,CAAA,aAAa,CAAC,CAAA,CAAA;AACjD,IAAK,IAAA,CAAA,cAAA,CAAe,aAAa,CAAI,GAAA,IAAA,CAAA;AAAA,GACzC;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAM,MAAA,kBAAA,GAAqB,IAAK,CAAA,iBAAA,CAAkB,UAAU,CAAA,CAAA;AAE5D,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,QAAS,CAAA,gBAAA,CAAiB,kBAAkB,CAAA,CAAA;AAEvE,IAAI,IAAA,kBAAA,CAAmB,IAAK,CAAA,OAAA,CAAQ,YACpC,EAAA;AACI,MAAA,IAAA,CAAK,qBAAqB,UAAU,CAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEQ,cAAA,CAAe,YAAkC,OACzD,EAAA;AA5GJ,IAAA,IAAA,EAAA,CAAA;AA6GQ,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,MAAM,aAAa,iBAAkB,CAAA,OAAA,CAAQ,IAAK,CAAA,IAAA,EAAM,KAAK,MAAM,CAAA,CAAA;AAEnE,IAAA,OAAA,CAAQ,KAAM,EAAA,CAAA;AAEd,IAAI,IAAA,UAAA,CAAW,aAAc,CAAA,IAAA,KAAS,MACtC,EAAA;AACI,MAAI,IAAA,CAAC,QAAQ,YACb,EAAA;AACI,QAAI,IAAA,CAAC,KAAK,UACV,EAAA;AACI,UAAK,IAAA,CAAA,UAAA,GAAa,IAAI,SAAU,EAAA,CAAA;AAAA,SACpC;AAEA,QAAA,OAAA,CAAQ,eAAe,IAAK,CAAA,UAAA,CAAA;AAAA,OAChC;AAAA,KACJ;AAEA,IAAA,MAAM,KAAQ,GAAA,KAAA,CAAM,IAAK,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAClC,IAAA,MAAM,QAAQ,IAAK,CAAA,MAAA,CAAA;AAEnB,IAAA,IAAI,QAAY,GAAA,CAAA,CAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,UAAS,CAAK,IAAA,CAAA,CAAA;AAE7C,IAAA,QAAA,IAAY,UAAW,CAAA,cAAA,CAAA;AAGvB,IAAA,MAAM,gBAAmB,GAAA,mBAAA,CAAoB,KAAO,EAAA,KAAA,EAAO,UAAU,CAAA,CAAA;AAErE,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAEZ,IAAA,MAAM,UAAU,KAAM,CAAA,OAAA,CAAA;AACtB,IAAA,MAAM,QAAQ,gBAAiB,CAAA,KAAA,CAAA;AAE/B,IACK,OAAA,CAAA,SAAA;AAAA,MACI,CAAC,IAAA,CAAK,MAAO,CAAA,EAAA,GAAK,iBAAiB,KAAS,GAAA,OAAA;AAAA,MAC5C,CAAC,IAAK,CAAA,MAAA,CAAO,MAAM,gBAAiB,CAAA,MAAA,GAAS,iBAAiB,OAAY,CAAA,GAAA,OAAA;AAAA,KAAO,CACrF,KAAM,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;AAEvB,IAAM,MAAA,IAAA,GAAO,MAAM,KAAM,CAAA,KAAA,CAAA;AAEzB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,gBAAiB,CAAA,KAAA,CAAM,QAAQ,CACnD,EAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,gBAAiB,CAAA,KAAA,CAAM,CAAC,CAAA,CAAA;AAErC,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,aAAA,CAAc,QAAQ,CAC/C,EAAA,EAAA;AACI,QAAM,MAAA,IAAA,GAAO,MAAM,KAAO,EAAA,CAAA,CAAA;AAE1B,QAAM,MAAA,QAAA,GAAW,UAAW,CAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAEtC,QAAA,IAAI,qCAAU,OACd,EAAA;AACI,UAAQ,OAAA,CAAA,OAAA;AAAA,YACJ,QAAS,CAAA,OAAA;AAAA,YACT,IAAA;AAAA,YACA,KAAK,KAAM,CAAA,IAAA,CAAK,cAAc,CAAC,CAAA,GAAI,SAAS,OAAO,CAAA;AAAA,YACnD,IAAK,CAAA,KAAA,CAAM,QAAW,GAAA,QAAA,CAAS,OAAO,CAAA;AAAA,WAC1C,CAAA;AAAA,SACJ;AAAA,OACJ;AAEA,MAAA,QAAA,IAAY,UAAW,CAAA,UAAA,CAAA;AAAA,KAC3B;AAAA,GACJ;AAAA,EAEQ,kBAAkB,UAC1B,EAAA;AACI,IAAA,OAAO,KAAK,cAAe,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAAA,GAC9E;AAAA,EAEQ,aAAa,UACrB,EAAA;AACI,IAAW,UAAA,CAAA,IAAA,CAAK,OAAO,MAAO,EAAA,CAAA;AAG9B,IAAA,MAAM,eAAkB,GAAA,OAAA,CAAQ,GAAI,CAAA,uBAAA,EAAyB,UAAU,CAAA,CAAA;AAEvE,IAAK,IAAA,CAAA,cAAA,CAAe,UAAW,CAAA,GAAG,CAAI,GAAA,eAAA,CAAA;AAEtC,IAAA,eAAA,CAAgB,KAAK,WAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAElF,IAAA,IAAA,CAAK,cAAe,CAAA,UAAA,EAAY,eAAgB,CAAA,IAAA,CAAK,OAAO,CAAA,CAAA;AAE5D,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,IAAA,CAAK,cAAe,CAAA,UAAA,CAAW,GAAG,CAAA,CAAA;AAAA,GAC7C;AAAA,EAEQ,qBAAqB,UAC7B,EAAA;AA3MJ,IAAA,IAAA,EAAA,CAAA;AA4MQ,IAAA,MAAM,OAAU,GAAA,IAAA,CAAK,iBAAkB,CAAA,UAAU,EAAE,IAAK,CAAA,OAAA,CAAA;AAExD,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAM,MAAA,UAAA,GAAa,KAAK,MAAO,CAAA,UAAA,CAAA;AAC/B,IAAM,MAAA,WAAA,GAAc,KAAM,CAAA,GAAA,CAAI,UAAoB,CAAA,CAAA;AAGlD,IAAA,MAAM,EAAE,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,KAAM,UAAW,CAAA,cAAA,CAAA;AAElC,IAAA,MAAM,KAAK,IAAK,CAAA,IAAA,CAAM,CAAI,GAAA,CAAA,GAAM,IAAI,CAAE,CAAA,CAAA;AACtC,IAAA,MAAM,KAAK,IAAK,CAAA,IAAA,CAAM,CAAI,GAAA,CAAA,GAAM,IAAI,CAAE,CAAA,CAAA;AACtC,IAAM,MAAA,UAAA,GAAA,CAAc,KAAK,GAAI,CAAA,EAAE,IAAI,IAAK,CAAA,GAAA,CAAI,EAAE,CAAK,IAAA,CAAA,CAAA;AAEnD,IAAA,MAAM,SAAY,GAAA,WAAA,CAAY,oBAAuB,GAAA,IAAA,CAAK,MAAO,CAAA,QAAA,CAAA;AAEjE,IAAA,MAAM,UAAa,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAL,KAAA,IAAA,GAAA,EAAA,GAAmB,KAAK,SAAU,CAAA,UAAA,CAAA;AACrD,IAAA,MAAM,WAAW,UAAa,GAAA,WAAA,CAAY,aAAc,CAAA,KAAA,IAAS,IAAI,SAAa,CAAA,GAAA,UAAA,CAAA;AAElF,IAAA,OAAA,CAAQ,YAAa,CAAA,SAAA,CAAU,aAAc,CAAA,QAAA,CAAS,SAAY,GAAA,QAAA,CAAA;AAAA,GACtE;AAAA,EAEO,OACP,GAAA;AAnOJ,IAAA,IAAA,EAAA,CAAA;AAoOQ,IAAW,KAAA,MAAA,GAAA,IAAO,KAAK,cACvB,EAAA;AACI,MAAA,IAAA,CAAK,wBAAwB,GAAwB,CAAA,CAAA;AAAA,KACzD;AAEA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAEtB,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,UAAA,KAAL,mBAAiB,OAAQ,CAAA,IAAA,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAElB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AAtNa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,YAAA;AACV,CAAA;;ACxBG,MAAM,cACb,CAAA;AAAA,EAmBI,YAAY,QACZ,EAAA;AAPA,IAAQ,IAAA,CAAA,QAAA,mBAII,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAInB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AAtCJ,IAAA,IAAA,EAAA,CAAA;AAuCQ,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAE3C,IAAM,MAAA,MAAA,GAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEvC,IAAI,IAAA,OAAA,CAAQ,eAAe,MAC3B,EAAA;AACI,MAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,MAAA,MAAM,UAAa,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAL,KAAA,IAAA,GAAA,EAAA,GAAmB,KAAK,SAAU,CAAA,UAAA,CAAA;AAErD,MAAA,MAAM,EAAE,KAAO,EAAA,MAAA,EAAW,GAAA,IAAA,CAAK,UAAU,UAAW,CAAA,cAAA;AAAA,QAChD,IAAK,CAAA,IAAA;AAAA,QACL,UAAA;AAAA,QACA,IAAK,CAAA,MAAA;AAAA,OACT,CAAA;AAEA,MAAA;AAAA;AAAA,QAEI,KAAK,SAAU,CAAA,UAAA,CAAW,iBAAkB,CAAA,OAAA,CAAQ,UAAU,CAAM,KAAA,CAAA,IAEjE,KAAU,KAAA,OAAA,CAAQ,QAAQ,OAAQ,CAAA,KAAA,IAClC,MAAW,KAAA,OAAA,CAAQ,QAAQ,OAAQ,CAAA,MAAA;AAAA,QAE1C;AACI,QAAO,OAAA,KAAA,CAAA;AAAA,OACX;AAEA,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,aAAA,CAAc,YAAkC,eACvD,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAE3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,UAAU,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,UAAA,CAAW,eAAe,CAAA,CAAA;AAAA,GAC/D;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAC3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,UAAU,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAgB,eAAA,CAAA,OAAA,CAAQ,cAAc,eAAe,CAAA,CAAA;AAAA,GACzD;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAK,IAAA,CAAA,sBAAA,CAAuB,WAAW,GAAG,CAAA,CAAA;AAAA,GAC9C;AAAA,EAEQ,uBAAuB,aAC/B,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,QAAA,CAAS,aAAa,CAAA,CAAA;AAE3C,IAAA,IAAA,CAAK,SAAU,CAAA,UAAA,CAAW,sBAAuB,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAEnE,IAAQ,OAAA,CAAA,MAAA,CAAO,QAAQ,eAAe,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,QAAA,CAAS,aAAa,CAAI,GAAA,IAAA,CAAA;AAAA,GACnC;AAAA,EAEQ,YAAY,UACpB,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AACvC,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAC3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,OAAA,CAAQ,eAAe,MAC3B,EAAA;AACI,MAAA,IAAA,CAAK,eAAe,UAAU,CAAA,CAAA;AAAA,KAClC;AAEA,IAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,IAAM,MAAA,OAAA,GAAU,UAAW,CAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAA;AAEvC,IAAA,gBAAA,CAAiB,gBAAgB,MAAQ,EAAA,UAAA,CAAW,KAAK,MAAQ,EAAA,eAAA,CAAgB,SAAS,OAAO,CAAA,CAAA;AAAA,GACrG;AAAA,EAEQ,eAAe,UACvB,EAAA;AAtIJ,IAAA,IAAA,EAAA,CAAA;AAuIQ,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAC3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAChC,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAI,QAAQ,OACZ,EAAA;AACI,MAAA,IAAA,CAAK,SAAU,CAAA,UAAA,CAAW,sBAAuB,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAAA,KACvE;AAEA,IAAA,MAAM,UAAa,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAL,KAAA,IAAA,GAAA,EAAA,GAAmB,KAAK,SAAU,CAAA,UAAA,CAAA;AAErD,IAAA,OAAA,CAAQ,OAAU,GAAA,eAAA,CAAgB,OAAU,GAAA,IAAA,CAAK,UAAU,UAAW,CAAA,UAAA;AAAA,MAClE,IAAK,CAAA,IAAA;AAAA,MACL,UAAA;AAAA,MACA,IAAK,CAAA,MAAA;AAAA,MACL,KAAK,OAAQ,EAAA;AAAA,KACjB,CAAA;AAEA,IAAQ,OAAA,CAAA,UAAA,GAAa,KAAK,OAAQ,EAAA,CAAA;AAClC,IAAA,eAAA,CAAgB,UAAU,OAAQ,CAAA,OAAA,CAAA;AAAA,GACtC;AAAA,EAEQ,YAAY,UACpB,EAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAAA,GACxE;AAAA,EAEQ,aAAa,UACrB,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAA,CAAK,OAAO,MAAO,EAAA,CAAA;AAEnB,IAAA,MAAM,WAAkD,GAAA;AAAA,MACpD,OAAS,EAAA,IAAA;AAAA,MACT,UAAY,EAAA,IAAA;AAAA,MACZ,eAAA,EAAiB,OAAQ,CAAA,GAAA,CAAI,eAAe,CAAA;AAAA,KAChD,CAAA;AAEA,IAAA,WAAA,CAAY,gBAAgB,UAAa,GAAA,UAAA,CAAA;AACzC,IAAA,WAAA,CAAY,gBAAgB,MAAS,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAChD,IAAA,WAAA,CAAY,gBAAgB,WAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAEzF,IAAK,IAAA,CAAA,QAAA,CAAS,UAAW,CAAA,GAAG,CAAI,GAAA,WAAA,CAAA;AAEhC,IAAA,IAAA,CAAK,YAAY,UAAU,CAAA,CAAA;AAG3B,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,QACrB,EAAA;AACI,MAAA,IAAA,CAAK,uBAAuB,CAAsB,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AA7La,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,MAAA;AACV,CAAA;;AChBJ,MAAMS,YAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAWvB,SAAS,uBACZ,CAAA,KAAA,EACA,KACA,EAAA,MAAA,EACA,UAEJ,EAAA;AACI,EAAA,MAAM,MAAS,GAAAA,YAAA,CAAA;AAEf,EAAA,MAAA,CAAO,IAAO,GAAA,CAAA,CAAA;AACd,EAAA,MAAA,CAAO,IAAO,GAAA,CAAA,CAAA;AAEd,EAAO,MAAA,CAAA,IAAA,GAAQ,KAAM,CAAA,KAAA,GAAQ,UAAc,GAAA,CAAA,CAAA;AAC3C,EAAO,MAAA,CAAA,IAAA,GAAQ,KAAM,CAAA,MAAA,GAAS,UAAc,GAAA,CAAA,CAAA;AAE5C,EAAA,MAAM,UAAU,WAAY,CAAA,iBAAA;AAAA,IACxB,MAAO,CAAA,KAAA;AAAA,IACP,MAAO,CAAA,MAAA;AAAA,IACP,UAAA;AAAA,IACA,KAAA;AAAA,GACJ,CAAA;AAEA,EAAA,OAAA,CAAQ,OAAO,cAAiB,GAAA,OAAA,CAAA;AAChC,EAAA,OAAA,CAAQ,OAAO,QAAW,GAAA,KAAA,CAAA;AAC1B,EAAA,OAAA,CAAQ,OAAO,SAAY,GAAA,6BAAA,CAAA;AAE3B,EAAA,OAAA,CAAQ,aAAa,KAAQ,GAAA,UAAA,CAAA;AAC7B,EAAA,OAAA,CAAQ,cAAc,MAAS,GAAA,UAAA,CAAA;AAE/B,EAAA,OAAA,CAAQ,OAAO,MAAO,EAAA,CAAA;AACtB,EAAA,OAAA,CAAQ,OAAO,SAAU,EAAA,CAAA;AAEzB,EAAO,OAAA,OAAA,CAAA;AACX;;AC5BO,MAAM,gBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAYH,IAAA,IAAA,CAAQ,kBAIH,EAAC,CAAA;AAAA,GAAA;AAAA,EAEC,cAAA,CAAe,IAAc,EAAA,UAAA,EAAoB,KACxD,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,iBAAA,CAAkB,WAAY,CAAA,IAAA,IAAQ,KAAK,KAAK,CAAA,CAAA;AAEjE,IAAA,IAAI,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,KAAK,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AACjG,IAAA,IAAI,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,MAAM,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AAEnG,IAAQ,KAAA,GAAA,IAAA,CAAK,IAAM,CAAA,KAAA,GAAS,IAAI,CAAA,CAAA;AAChC,IAAS,MAAA,GAAA,IAAA,CAAK,IAAM,CAAA,MAAA,GAAU,IAAI,CAAA,CAAA;AAClC,IAAA,KAAA,GAAQ,SAAS,KAAK,CAAA,CAAA;AACtB,IAAA,MAAA,GAAS,SAAS,MAAM,CAAA,CAAA;AAExB,IAAO,OAAA,EAAE,OAAO,MAAO,EAAA,CAAA;AAAA,GAC3B;AAAA,EAEO,UAAW,CAAA,IAAA,EAAc,UAAoB,EAAA,KAAA,EAAkB,OACtE,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAChC,EAAA;AACI,MAAA,IAAA,CAAK,wBAAwB,OAAO,CAAA,CAAA;AAEpC,MAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,OAAA,CAAA;AAAA,KACzC;AAGA,IAAA,MAAM,QAAW,GAAA,iBAAA,CAAkB,WAAY,CAAA,IAAA,IAAQ,KAAK,KAAK,CAAA,CAAA;AAEjE,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,KAAK,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AACnG,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,MAAM,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AAErG,IAAA,MAAM,gBAAmB,GAAA,UAAA,CAAW,0BAA2B,CAAA,KAAA,EAAO,MAAM,CAAA,CAAA;AAG5E,IAAM,MAAA,EAAE,QAAW,GAAA,gBAAA,CAAA;AAEnB,IAAA,IAAA,CAAK,kBAAmB,CAAA,IAAA,EAAM,KAAO,EAAA,UAAA,EAAY,gBAAgB,CAAA,CAAA;AAEjE,IAAA,MAAM,OAAU,GAAA,uBAAA,CAAwB,MAAQ,EAAA,KAAA,EAAO,QAAQ,UAAU,CAAA,CAAA;AAEzE,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA;AAAA,MAC5B,gBAAA;AAAA,MACA,OAAA;AAAA,MACA,UAAY,EAAA,CAAA;AAAA,KAChB,CAAA;AAEA,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEQ,wBAAwB,OAChC,EAAA;AACI,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAE,CAAA,UAAA,EAAA,CAAA;AAAA,GAClC;AAAA,EAEO,uBAAuB,OAC9B,EAAA;AACI,IAAM,MAAA,aAAA,GAAgB,IAAK,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAA;AAElD,IAAc,aAAA,CAAA,UAAA,EAAA,CAAA;AAEd,IAAI,IAAA,aAAA,CAAc,eAAe,CACjC,EAAA;AACI,MAAW,UAAA,CAAA,sBAAA,CAAuB,cAAc,gBAAgB,CAAA,CAAA;AAChE,MAAY,WAAA,CAAA,aAAA,CAAc,cAAc,OAAO,CAAA,CAAA;AAE/C,MAAM,MAAA,MAAA,GAAS,cAAc,OAAQ,CAAA,MAAA,CAAA;AAErC,MAAA,MAAA,CAAO,QAAW,GAAA,IAAA,CAAA;AAClB,MAAA,MAAA,CAAO,cAAiB,GAAA,SAAA,CAAA;AACxB,MAAA,MAAA,CAAO,SAAY,GAAA,sBAAA,CAAA;AAEnB,MAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA,IAAA,CAAA;AAAA,KACpC;AAAA,GACJ;AAAA,EAEO,kBAAkB,OACzB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,UAAA,CAAA;AAAA,GACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaO,kBAAmB,CAAA,IAAA,EAAc,KAAkB,EAAA,UAAA,EAAoB,gBAC9E,EAAA;AAnIJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAoIQ,IAAM,MAAA,EAAE,MAAQ,EAAA,OAAA,EAAY,GAAA,gBAAA,CAAA;AAE5B,IAAM,MAAA,IAAA,GAAO,wBAAwB,KAAK,CAAA,CAAA;AAE1C,IAAA,MAAM,QAAW,GAAA,iBAAA,CAAkB,WAAY,CAAA,IAAA,IAAQ,KAAK,KAAK,CAAA,CAAA;AACjE,IAAA,MAAM,QAAQ,QAAS,CAAA,KAAA,CAAA;AACvB,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,aAAa,QAAS,CAAA,UAAA,CAAA;AAC5B,IAAA,MAAM,eAAe,QAAS,CAAA,YAAA,CAAA;AAC9B,IAAA,MAAM,iBAAiB,QAAS,CAAA,cAAA,CAAA;AAEhC,IAAA,MAAM,SAAS,MAAO,CAAA,MAAA,CAAA;AAEtB,IAAA,OAAA,CAAQ,cAAe,EAAA,CAAA;AAEvB,IAAQ,OAAA,CAAA,KAAA,CAAM,YAAY,UAAU,CAAA,CAAA;AAEpC,IAAQ,OAAA,CAAA,SAAA,CAAU,GAAG,CAAG,EAAA,QAAA,CAAS,QAAQ,CAAG,EAAA,QAAA,CAAS,SAAS,CAAC,CAAA,CAAA;AAI/D,IAAI,IAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,KACnB,EAAA;AACI,MAAA,MAAM,cAAc,KAAM,CAAA,OAAA,CAAA;AAE1B,MAAA,OAAA,CAAQ,YAAY,WAAY,CAAA,KAAA,CAAA;AAEhC,MAAA,OAAA,CAAQ,aAAa,WAAY,CAAA,UAAA,CAAA;AACjC,MAAA,OAAA,CAAQ,WAAW,WAAY,CAAA,IAAA,CAAA;AAC/B,MAAA,OAAA,CAAQ,UAAU,WAAY,CAAA,GAAA,CAAA;AAAA,KAClC;AAGA,IAAA,OAAA,CAAQ,IAAO,GAAA,IAAA,CAAA;AAEf,IAAI,IAAA,aAAA,CAAA;AACJ,IAAI,IAAA,aAAA,CAAA;AAGJ,IAAM,MAAA,WAAA,GAAc,KAAM,CAAA,UAAA,GAAa,CAAI,GAAA,CAAA,CAAA;AAa3C,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,EAAa,EAAE,CACnC,EAAA;AACI,MAAM,MAAA,YAAA,GAAe,KAAM,CAAA,UAAA,IAAc,CAAM,KAAA,CAAA,CAAA;AAE/C,MAAA,MAAM,YAAe,GAAA,YAAA,GAAe,IAAK,CAAA,IAAA,CAAK,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,MAAM,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAE,CAAI,GAAA,CAAA,CAAA;AAC3F,MAAA,MAAM,iBAAiB,YAAe,GAAA,UAAA,CAAA;AAEtC,MAAA,IAAI,YACJ,EAAA;AAII,QAAA,OAAA,CAAQ,SAAY,GAAA,OAAA,CAAA;AACpB,QAAA,OAAA,CAAQ,WAAc,GAAA,OAAA,CAAA;AAEtB,QAAA,MAAM,gBAAgB,KAAM,CAAA,UAAA,CAAA;AAE5B,QAAA,MAAM,kBAAkB,aAAc,CAAA,KAAA,CAAA;AACtC,QAAA,MAAM,kBAAkB,aAAc,CAAA,KAAA,CAAA;AAEtC,QAAQ,OAAA,CAAA,WAAA,GAAc,MAAM,MACvB,CAAA,QAAA,CAAS,eAAe,CACxB,CAAA,QAAA,CAAS,eAAe,CAAA,CACxB,YAAa,EAAA,CAAA;AAElB,QAAM,MAAA,cAAA,GAAiB,cAAc,IAAO,GAAA,UAAA,CAAA;AAC5C,QAAM,MAAA,kBAAA,GAAqB,cAAc,QAAW,GAAA,UAAA,CAAA;AAEpD,QAAA,OAAA,CAAQ,UAAa,GAAA,cAAA,CAAA;AACrB,QAAA,OAAA,CAAQ,aAAgB,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,CAAc,KAAK,CAAI,GAAA,kBAAA,CAAA;AACxD,QAAA,OAAA,CAAQ,gBAAiB,IAAK,CAAA,GAAA,CAAI,aAAc,CAAA,KAAK,IAAI,kBAAsB,GAAA,cAAA,CAAA;AAAA,OAGnF,MAAA;AACI,QAAA,OAAA,CAAQ,WAAc,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,KAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAa,UAAb,IAAsB,GAAA,EAAA,GAAA,CAAA,CAAA;AAC5C,QAAA,OAAA,CAAQ,YAAY,KAAM,CAAA,KAAA,GAAQ,mBAAmB,KAAM,CAAA,KAAA,EAAO,OAAO,CAAI,GAAA,IAAA,CAAA;AAE7E,QAAI,IAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,KACnB,EAAA;AACI,UAAA,OAAA,CAAQ,WAAc,GAAA,kBAAA,CAAmB,KAAM,CAAA,OAAA,EAAS,OAAO,CAAA,CAAA;AAAA,SACnE;AAEA,QAAA,OAAA,CAAQ,WAAc,GAAA,OAAA,CAAA;AAAA,OAC1B;AAEA,MAAI,IAAA,kBAAA,GAAA,CAAsB,UAAa,GAAA,cAAA,CAAe,QAAY,IAAA,CAAA,CAAA;AAElE,MAAI,IAAA,UAAA,GAAa,cAAe,CAAA,QAAA,GAAW,CAC3C,EAAA;AACI,QAAqB,kBAAA,GAAA,CAAA,CAAA;AAAA,OACzB;AAEA,MAAA,MAAM,WAAc,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,UAAf,IAAwB,GAAA,EAAA,GAAA,CAAA,CAAA;AAG5C,MAAA,KAAA,IAASU,EAAI,GAAA,CAAA,EAAGA,EAAI,GAAA,KAAA,CAAM,QAAQA,EAClC,EAAA,EAAA;AACI,QAAA,aAAA,GAAgB,WAAc,GAAA,CAAA,CAAA;AAC9B,QAAA,aAAA,GAAkB,WAAc,GAAA,CAAA,GAAMA,EAAI,GAAA,UAAA,GAAe,eAAe,MAAS,GAAA,kBAAA,CAAA;AAEjF,QAAI,IAAA,KAAA,CAAM,UAAU,OACpB,EAAA;AACI,UAAiB,aAAA,IAAA,YAAA,GAAe,WAAWA,EAAC,CAAA,CAAA;AAAA,SAChD,MAAA,IACS,KAAM,CAAA,KAAA,KAAU,QACzB,EAAA;AACI,UAAkB,aAAA,IAAA,CAAA,YAAA,GAAe,UAAWA,CAAAA,EAAC,CAAK,IAAA,CAAA,CAAA;AAAA,SACtD;AAEA,QAAA,IAAI,MAAM,OACV,EAAA;AACI,UAAK,IAAA,CAAA,kBAAA;AAAA,YACD,MAAMA,EAAC,CAAA;AAAA,YACP,KAAA;AAAA,YACA,gBAAA;AAAA,YACA,gBAAgB,KAAM,CAAA,OAAA;AAAA,YACtB,aAAA,GAAgB,MAAM,OAAU,GAAA,YAAA;AAAA,YAChC,IAAA;AAAA,WACJ,CAAA;AAAA,SACJ;AAEA,QAAI,IAAA,KAAA,CAAM,UAAU,KACpB,CAAA,EAAA;AACI,UAAK,IAAA,CAAA,kBAAA;AAAA,YACD,MAAMA,EAAC,CAAA;AAAA,YACP,KAAA;AAAA,YACA,gBAAA;AAAA,YACA,gBAAgB,KAAM,CAAA,OAAA;AAAA,YACtB,aAAA,GAAgB,MAAM,OAAU,GAAA,YAAA;AAAA,WACpC,CAAA;AAAA,SACJ;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYQ,mBACJ,IACA,EAAA,KAAA,EACA,kBACA,CAAW,EAAA,CAAA,EACX,WAAW,KAEf,EAAA;AACI,IAAM,MAAA,EAAE,SAAY,GAAA,gBAAA,CAAA;AAGpB,IAAA,MAAM,gBAAgB,KAAM,CAAA,aAAA,CAAA;AAE5B,IAAA,IAAI,4BAA+B,GAAA,KAAA,CAAA;AAEnC,IAAA,IAAI,kBAAkB,kCACtB,EAAA;AACI,MAAA,IAAI,kBAAkB,yBACtB,EAAA;AACI,QAAA,OAAA,CAAQ,gBAAgB,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AAC3B,QAAA,OAAA,CAAQ,oBAAoB,CAAG,EAAA,aAAA,CAAA,EAAA,CAAA,CAAA;AAC/B,QAA+B,4BAAA,GAAA,IAAA,CAAA;AAAA,OAGnC,MAAA;AACI,QAAA,OAAA,CAAQ,aAAgB,GAAA,KAAA,CAAA;AACxB,QAAA,OAAA,CAAQ,iBAAoB,GAAA,KAAA,CAAA;AAAA,OAChC;AAAA,KACJ;AAEA,IAAI,IAAA,aAAA,KAAkB,KAAK,4BAC3B,EAAA;AACI,MAAA,IAAI,QACJ,EAAA;AACI,QAAQ,OAAA,CAAA,UAAA,CAAW,IAAM,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,OAGjC,MAAA;AACI,QAAQ,OAAA,CAAA,QAAA,CAAS,IAAM,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,OAC/B;AAEA,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAI,eAAkB,GAAA,CAAA,CAAA;AAEtB,IAAM,MAAA,WAAA,GAAc,iBAAkB,CAAA,iBAAA,CAAkB,IAAI,CAAA,CAAA;AAC5D,IAAA,IAAI,aAAgB,GAAA,OAAA,CAAQ,WAAY,CAAA,IAAI,CAAE,CAAA,KAAA,CAAA;AAC9C,IAAA,IAAI,YAAe,GAAA,CAAA,CAAA;AAEnB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,WAAY,CAAA,MAAA,EAAQ,EAAE,CAC1C,EAAA;AACI,MAAM,MAAA,WAAA,GAAc,YAAY,CAAC,CAAA,CAAA;AAEjC,MAAA,IAAI,QACJ,EAAA;AACI,QAAQ,OAAA,CAAA,UAAA,CAAW,WAAa,EAAA,eAAA,EAAiB,CAAC,CAAA,CAAA;AAAA,OAGtD,MAAA;AACI,QAAQ,OAAA,CAAA,QAAA,CAAS,WAAa,EAAA,eAAA,EAAiB,CAAC,CAAA,CAAA;AAAA,OACpD;AACA,MAAA,IAAI,OAAU,GAAA,EAAA,CAAA;AAEd,MAAA,KAAA,IAAS,IAAI,CAAI,GAAA,CAAA,EAAG,IAAI,WAAY,CAAA,MAAA,EAAQ,EAAE,CAC9C,EAAA;AACI,QAAA,OAAA,IAAW,YAAY,CAAC,CAAA,CAAA;AAAA,OAC5B;AACA,MAAe,YAAA,GAAA,OAAA,CAAQ,WAAY,CAAA,OAAO,CAAE,CAAA,KAAA,CAAA;AAC5C,MAAA,eAAA,IAAmB,gBAAgB,YAAe,GAAA,aAAA,CAAA;AAClD,MAAgB,aAAA,GAAA,YAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAAA;AAzVa,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,YAAA;AACV,CAAA;;ACpBG,MAAM,YACb,CAAA;AAAA,EAqBI,YAAY,QACZ,EAAA;AATA,IAAQ,IAAA,CAAA,QAAA,mBAMI,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAInB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,mBAAmB,UAC1B,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAE3C,IAAM,MAAA,MAAA,GAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEvC,IAAA,IAAI,QAAQ,qBACZ,EAAA;AACI,MAAA,OAAA,CAAQ,qBAAwB,GAAA,KAAA,CAAA;AAEhC,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAI,IAAA,OAAA,CAAQ,eAAe,MAC3B,EAAA;AAII,MAAO,OAAA,IAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,cAAc,UACrB,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAE3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,UAAU,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,UAAA,CAAW,eAAe,CAAA,CAAA;AAAA,GAC/D;AAAA,EAEO,iBAAiB,UACxB,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAC3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,UAAA,CAAW,KAAK,UACpB,EAAA;AACI,MAAA,IAAA,CAAK,YAAY,UAAU,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAgB,eAAA,CAAA,OAAA,CAAQ,cAAc,eAAe,CAAA,CAAA;AAAA,GACzD;AAAA,EAEO,kBAAkB,UACzB,EAAA;AACI,IAAK,IAAA,CAAA,sBAAA,CAAuB,WAAW,GAAG,CAAA,CAAA;AAAA,GAC9C;AAAA,EAEQ,uBAAuB,aAC/B,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,QAAA,CAAS,aAAa,CAAA,CAAA;AAE3C,IAAA,IAAA,CAAK,SAAU,CAAA,QAAA,CAAS,sBAAuB,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAEjE,IAAQ,OAAA,CAAA,MAAA,CAAO,QAAQ,eAAe,CAAA,CAAA;AAEtC,IAAK,IAAA,CAAA,QAAA,CAAS,aAAa,CAAI,GAAA,IAAA,CAAA;AAAA,GACnC;AAAA,EAEQ,YAAY,UACpB,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AACvC,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAC3C,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAI,IAAA,OAAA,CAAQ,eAAe,MAC3B,EAAA;AACI,MAAA,IAAA,CAAK,cAAe,CAAA,UAAU,CAAE,CAAA,KAAA,CAAM,CAAC,CACvC,KAAA;AACI,QAAA,OAAA,CAAQ,MAAM,CAAC,CAAA,CAAA;AAAA,OAClB,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,IAAM,MAAA,OAAA,GAAU,UAAW,CAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAA;AAEvC,IAAA,gBAAA,CAAiB,gBAAgB,MAAQ,EAAA,UAAA,CAAW,KAAK,MAAQ,EAAA,eAAA,CAAgB,SAAS,OAAO,CAAA,CAAA;AAAA,GACrG;AAAA,EAEA,MAAc,eAAe,UAC7B,EAAA;AAhIJ,IAAA,IAAA,EAAA,CAAA;AAiIQ,IAAA,UAAA,CAAW,KAAK,UAAa,GAAA,KAAA,CAAA;AAE7B,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;AAE3C,IAAA,IAAI,OAAQ,CAAA,iBAAA;AAAmB,MAAA,OAAA;AAE/B,IAAM,MAAA,MAAA,GAAS,UAAW,CAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEvC,IAAA,IAAA,CAAK,SAAU,CAAA,QAAA,CAAS,sBAAuB,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAEjE,IAAA,OAAA,CAAQ,iBAAoB,GAAA,IAAA,CAAA;AAE5B,IAAA,OAAA,CAAQ,UAAa,GAAA,MAAA,CAAA;AAErB,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,MAAM,UAAa,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,UAAL,KAAA,IAAA,GAAA,EAAA,GAAmB,KAAK,SAAU,CAAA,UAAA,CAAA;AAErD,IAAA,MAAM,OAAU,GAAA,MAAM,IAAK,CAAA,SAAA,CAAU,QAAS,CAAA,iBAAA;AAAA,MAC1C,IAAK,CAAA,IAAA;AAAA,MACL,UAAA;AAAA,MACA,IAAK,CAAA,MAAA;AAAA,MACL,KAAK,OAAQ,EAAA;AAAA,KACjB,CAAA;AAEA,IAAA,MAAM,kBAAkB,OAAQ,CAAA,eAAA,CAAA;AAEhC,IAAgB,eAAA,CAAA,OAAA,GAAU,QAAQ,OAAU,GAAA,OAAA,CAAA;AAE5C,IAAA,OAAA,CAAQ,iBAAoB,GAAA,KAAA,CAAA;AAE5B,IAAA,OAAA,CAAQ,qBAAwB,GAAA,IAAA,CAAA;AAChC,IAAA,UAAA,CAAW,KAAK,QAAS,EAAA,CAAA;AAEzB,IAAM,MAAA,OAAA,GAAU,UAAW,CAAA,IAAA,CAAK,MAAO,CAAA,OAAA,CAAA;AAEvC,IAAA,gBAAA,CAAiB,gBAAgB,MAAQ,EAAA,UAAA,CAAW,KAAK,MAAQ,EAAA,eAAA,CAAgB,SAAS,OAAO,CAAA,CAAA;AAAA,GACrG;AAAA,EAEQ,YAAY,UACpB,EAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,UAAA,CAAW,GAAG,CAAK,IAAA,IAAA,CAAK,aAAa,UAAU,CAAA,CAAA;AAAA,GACxE;AAAA,EAEQ,aAAa,UACrB,EAAA;AACI,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAA,CAAK,OAAO,MAAO,EAAA,CAAA;AAEnB,IAAA,MAAM,WAAgD,GAAA;AAAA,MAClD,SAAS,OAAQ,CAAA,KAAA;AAAA,MACjB,UAAY,EAAA,IAAA;AAAA,MACZ,eAAA,EAAiB,OAAQ,CAAA,GAAA,CAAI,eAAe,CAAA;AAAA,MAC5C,qBAAuB,EAAA,KAAA;AAAA,MACvB,iBAAmB,EAAA,KAAA;AAAA,KACvB,CAAA;AAEA,IAAA,MAAM,kBAAkB,WAAY,CAAA,eAAA,CAAA;AAEpC,IAAA,eAAA,CAAgB,UAAa,GAAA,UAAA,CAAA;AAC7B,IAAA,eAAA,CAAgB,UAAU,OAAQ,CAAA,KAAA,CAAA;AAClC,IAAA,eAAA,CAAgB,MAAS,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACpC,IAAA,eAAA,CAAgB,WAAe,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,GAAe,WAAW,IAAK,CAAA,WAAA,CAAA;AAE7E,IAAK,IAAA,CAAA,QAAA,CAAS,UAAW,CAAA,GAAG,CAAI,GAAA,WAAA,CAAA;AAGhC,IAAW,UAAA,CAAA,EAAA,CAAG,aAAa,MAC3B;AACI,MAAA,IAAA,CAAK,kBAAkB,UAAU,CAAA,CAAA;AAAA,KACpC,CAAA,CAAA;AAED,IAAO,OAAA,WAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,QACrB,EAAA;AACI,MAAA,IAAA,CAAK,uBAAuB,CAAsB,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AA3Ma,YAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA;;ACpBG,SAAS,QAChB,GAAA;AACI,EAAA,MAAM,EAAE,SAAU,EAAA,GAAI,UAAW,CAAA,GAAA,GAAM,YAAa,EAAA,CAAA;AAEpD,EAAQ,OAAA,gCAAA,CAAkC,KAAK,SAAS,CAAA,CAAA;AAC5D;;ACEgB,SAAA,mBAAA,CAAoB,MAAc,KAClD,EAAA;AACI,EAAA,MAAM,aAAa,KAAM,CAAA,UAAA,CAAA;AACzB,EAAA,MAAM,eAAyB,EAAC,CAAA;AAChC,EAAA,MAAM,SAAkC,EAAC,CAAA;AAIzC,EAAA,MAAM,KAAQ,GAAA,yBAAA,CAAA;AAEd,EAAM,MAAA,OAAA,GAAU,IAAK,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;AAEhC,EAAA,SAAS,cAAcgD,WACvB,EAAA;AACI,IAAI,IAAA,CAAC,MAAOA,CAAAA,WAAU,CACtB,EAAA;AACI,MAAA,YAAA,CAAa,KAAKA,WAAU,CAAA,CAAA;AAE5B,MAAA,MAAA,CAAOA,WAAU,CAAI,GAAA,IAAA,CAAA;AAAA,KACzB;AAAA,GACJ;AAEA,EAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,UAAU,CAC5B,EAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,QAAQ,CACvC,EAAA,EAAA;AACI,MAAc,aAAA,CAAA,UAAA,CAAW,CAAC,CAAC,CAAA,CAAA;AAAA,KAC/B;AAAA,GAGJ,MAAA;AACI,IAAA,aAAA,CAAc,UAAU,CAAA,CAAA;AAAA,GAC5B;AAEA,EAAA,IAAI,OACJ,EAAA;AACI,IAAQ,OAAA,CAAA,OAAA,CAAQ,CAAC,KACjB,KAAA;AACI,MAAA,MAAMA,cAAa,KAAM,CAAA,KAAA,CAAM,GAAG,CAAE,CAAA,CAAC,EAAE,IAAK,EAAA,CAAA;AAE5C,MAAA,aAAA,CAAcA,WAAU,CAAA,CAAA;AAAA,KAC3B,CAAA,CAAA;AAAA,GACL;AAEA,EAAW,KAAA,MAAA,CAAA,IAAK,MAAM,SACtB,EAAA;AACI,IAAA,MAAMA,WAAa,GAAA,KAAA,CAAM,SAAU,CAAA,CAAC,CAAE,CAAA,UAAA,CAAA;AAEtC,IAAA,aAAA,CAAcA,WAAoB,CAAA,CAAA;AAAA,GACtC;AAEA,EAAO,OAAA,YAAA,CAAA;AACX;;ACtDA,eAAsB,iBAAiB,GACvC,EAAA;AACI,EAAA,MAAM,WAAW,MAAM,UAAA,CAAW,GAAI,EAAA,CAAE,MAAM,GAAG,CAAA,CAAA;AAEjD,EAAM,MAAA,IAAA,GAAO,MAAM,QAAA,CAAS,IAAK,EAAA,CAAA;AAEjC,EAAM,MAAA,MAAA,GAAS,IAAI,UAAW,EAAA,CAAA;AAE9B,EAAA,MAAM,UAAkB,MAAM,IAAI,OAAQ,CAAA,CAAC,SAAS,MACpD,KAAA;AACI,IAAA,MAAA,CAAO,SAAY,GAAA,MAAM,OAAQ,CAAA,MAAA,CAAO,MAAgB,CAAA,CAAA;AACxD,IAAA,MAAA,CAAO,OAAU,GAAA,MAAA,CAAA;AACjB,IAAA,MAAA,CAAO,cAAc,IAAI,CAAA,CAAA;AAAA,GAC5B,CAAA,CAAA;AAED,EAAO,OAAA,OAAA,CAAA;AACX;;ACPsB,eAAA,WAAA,CAAY,OAA4B,GAC9D,EAAA;AACI,EAAM,MAAA,OAAA,GAAU,MAAM,gBAAA,CAAiB,GAAG,CAAA,CAAA;AAE1C,EAAO,OAAA,CAAA;AAAA,sBAAA,EACa,KAAM,CAAA,UAAA,CAAA;AAAA,kBACV,EAAA,OAAA,CAAA;AAAA,qBAAA,EACG,KAAM,CAAA,UAAA,CAAA;AAAA,oBAAA,EACP,KAAM,CAAA,SAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAE5B;;;;;;;;;;;;;;;;;;;;;ACbsB,eAAA,UAAA,CAAW,cAAwB,KACzD,EAAA;AACI,EAAA,MAAM,YAAe,GAAA,YAAA,CAChB,MAAO,CAAA,CAAC,UAAe,KAAA,KAAA,CAAM,GAAI,CAAA,UAAU,CAAC,CAAA,CAC5C,GAAI,CAAA,CAAC,YAAY,CAClB,KAAA;AACI,IAAA,IAAI,CAAC,qBAAA,CAAsB,GAAI,CAAA,UAAU,CACzC,EAAA;AACI,MAAA,MAAM,EAAE,GAAA,EAAQ,GAAA,KAAA,CAAM,IAAI,UAAU,CAAA,CAAA;AAEpC,MAAA,IAAI,MAAM,CACV,EAAA;AACI,QAAA,qBAAA,CAAsB,GAAI,CAAA,UAAA,EAAY,WAAY,CAAA,KAAA,EAAO,GAAG,CAAC,CAAA,CAAA;AAAA,OAIjE,MAAA;AACI,QAAA,qBAAA,CAAsB,GAAI,CAAA,UAAA,EAAY,WAAY,CAAApE,eAAA,CAAAC,gBAAA,CAAA,EAAA,EAC3C,eAAe,kBAD4B,CAAA,EAAA;AAAA,UAE9C,UAAA;AAAA,SACJ,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAAA,OACX;AAAA,KACJ;AAEA,IAAO,OAAA,qBAAA,CAAsB,IAAI,UAAU,CAAA,CAAA;AAAA,GAC9C,CAAA,CAAA;AAEL,EAAA,OAAA,CAAQ,MAAM,OAAQ,CAAA,GAAA,CAAI,YAAY,CAAA,EAAG,KAAK,IAAI,CAAA,CAAA;AACtD;;AC7BO,SAAS,SACZ,CAAA,IAAA,EACA,KACA,EAAA,UAAA,EACA,SACA,YAEJ,EAAA;AACI,EAAA,MAAM,EAAE,UAAA,EAAY,YAAc,EAAA,OAAA,EAAY,GAAA,YAAA,CAAA;AAE9C,EAAW,UAAA,CAAA,SAAA,GAAY,CAAU,OAAA,EAAA,KAAA,CAAM,QAAwB,CAAA,aAAA,EAAA,IAAA,CAAA,MAAA,CAAA,CAAA;AAC/D,EAAW,UAAA,CAAA,YAAA,CAAa,OAAS,EAAA,CAAA,iBAAA,EAAoB,UAA+D,CAAA,mDAAA,CAAA,CAAA,CAAA;AACpH,EAAA,YAAA,CAAa,WAAc,GAAA,OAAA,CAAA;AAE3B,EAAA,MAAM,EAAE,KAAA,EAAO,MAAO,EAAA,GAAI,YAAa,CAAA,KAAA,CAAA;AAEvC,EAAA,OAAA,CAAQ,YAAa,CAAA,OAAA,EAAS,KAAM,CAAA,QAAA,EAAU,CAAA,CAAA;AAC9C,EAAA,OAAA,CAAQ,YAAa,CAAA,QAAA,EAAU,MAAO,CAAA,QAAA,EAAU,CAAA,CAAA;AAEhD,EAAA,OAAO,IAAI,aAAA,EAAgB,CAAA,iBAAA,CAAkB,OAAO,CAAA,CAAA;AACxD;;ACnBgB,SAAA,2BAAA,CAA4B,OAAyB,UACrE,EAAA;AAGI,EAAA,MAAM,mBAAmB,UAAW,CAAA,0BAAA;AAAA,IAChC,KAAM,CAAA,KAAA;AAAA,IACN,KAAM,CAAA,MAAA;AAAA,IACN,UAAA;AAAA,GACJ,CAAA;AAGA,EAAM,MAAA,EAAE,SAAY,GAAA,gBAAA,CAAA;AAEpB,EAAA,OAAA,CAAQ,UAAU,CAAG,EAAA,CAAA,EAAG,KAAM,CAAA,KAAA,EAAO,MAAM,MAAM,CAAA,CAAA;AACjD,EAAQ,OAAA,CAAA,SAAA,CAAU,KAAO,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAG7B,EAAA,UAAA,CAAW,uBAAuB,gBAAgB,CAAA,CAAA;AAGlD,EAAA,OAAO,gBAAiB,CAAA,MAAA,CAAA;AAC5B;;ACxBgB,SAAA,YAAA,CAAa,KAAyB,EAAA,GAAA,EAAa,KACnE,EAAA;AACI,EAAO,OAAA,IAAI,OAAc,CAAA,OAAO,OAChC,KAAA;AAKI,IAAA,IAAI,KACJ,EAAA;AACI,MAAA,MAAM,IAAI,OAAc,CAAA,CAACoE,aAAY,UAAWA,CAAAA,QAAAA,EAAS,GAAG,CAAC,CAAA,CAAA;AAAA,KACjE;AAEA,IAAA,KAAA,CAAM,SAAS,MACf;AACI,MAAQ,OAAA,EAAA,CAAA;AAAA,KACZ,CAAA;AAEA,IAAM,KAAA,CAAA,GAAA,GAAM,CAAmC,gCAAA,EAAA,kBAAA,CAAmB,GAAG,CAAA,CAAA,CAAA,CAAA;AACrE,IAAA,KAAA,CAAM,WAAc,GAAA,WAAA,CAAA;AAAA,GACvB,CAAA,CAAA;AACL;;ACzBA,IAAI,sBAAA,CAAA;AAWG,SAAS,eACZ,CAAA,IAAA,EACA,KACA,EAAA,YAAA,EACA,kBAEJ,EAAA;AACI,EAAA,kBAAA,GAAqB,kBAAsB,IAAA,sBAAA,KAA2B,sBAAyB,GAAA,IAAI,kBAAmB,EAAA,CAAA,CAAA;AAEtH,EAAA,MAAM,EAAE,UAAA,EAAY,YAAc,EAAA,OAAA,EAAY,GAAA,kBAAA,CAAA;AAE9C,EAAW,UAAA,CAAA,SAAA,GAAY,CAAU,OAAA,EAAA,KAAA,CAAM,QAAwB,CAAA,aAAA,EAAA,IAAA,CAAA,MAAA,CAAA,CAAA;AAE/D,EAAW,UAAA,CAAA,YAAA,CAAa,SAAS,mDAAmD,CAAA,CAAA;AAEpF,EAAA,IAAI,YACJ,EAAA;AACI,IAAA,YAAA,CAAa,WAAc,GAAA,YAAA,CAAA;AAAA,GAC/B;AAGA,EAAS,QAAA,CAAA,IAAA,CAAK,YAAY,OAAO,CAAA,CAAA;AAEjC,EAAM,MAAA,aAAA,GAAgB,WAAW,qBAAsB,EAAA,CAAA;AAEvD,EAAA,OAAA,CAAQ,MAAO,EAAA,CAAA;AAEf,EAAA,MAAM,gBAAmB,GAAA,iBAAA,CAAkB,WAAY,CAAA,KAAA,CAAM,SAAS,CAAE,CAAA,OAAA,CAAA;AAExE,EAAO,OAAA;AAAA,IACH,OAAO,aAAc,CAAA,KAAA;AAAA,IACrB,MAAA,EAAQ,cAAc,MAAS,GAAA,gBAAA;AAAA,GACnC,CAAA;AACJ;;AC1BA,MAAM,KAAQ,GAAA,4BAAA,CAAA;AACd,MAAM,OAAU,GAAA,8BAAA,CAAA;AAEH,MAAA,qBAAA,uBAA4B,GAA6B,GAAA;AAE/D,MAAM,kBACb,CAAA;AAAA,EAQI,WACA,GAAA;AARA,IAAA,IAAA,CAAO,OAAU,GAAA,QAAA,CAAS,eAAgB,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;AACtD,IAAA,IAAA,CAAO,aAAgB,GAAA,QAAA,CAAS,eAAgB,CAAA,KAAA,EAAO,eAAe,CAAA,CAAA;AACtE,IAAA,IAAA,CAAO,UAAa,GAAA,QAAA,CAAS,eAAgB,CAAA,OAAA,EAAS,KAAK,CAAA,CAAA;AAC3D,IAAA,IAAA,CAAO,YAAe,GAAA,QAAA,CAAS,eAAgB,CAAA,OAAA,EAAS,OAAO,CAAA,CAAA;AAC/D,IAAO,IAAA,CAAA,KAAA,GAAQ,IAAI,KAAM,EAAA,CAAA;AAKrB,IAAA,MAAM,EAAE,aAAA,EAAe,OAAS,EAAA,YAAA,EAAc,YAAe,GAAA,IAAA,CAAA;AAG7D,IAAc,aAAA,CAAA,YAAA,CAAa,SAAS,OAAO,CAAA,CAAA;AAC3C,IAAc,aAAA,CAAA,YAAA,CAAa,UAAU,OAAO,CAAA,CAAA;AAC5C,IAAA,aAAA,CAAc,MAAM,QAAW,GAAA,QAAA,CAAA;AAE/B,IAAA,OAAA,CAAQ,YAAY,aAAa,CAAA,CAAA;AAEjC,IAAA,aAAA,CAAc,YAAY,YAAY,CAAA,CAAA;AACtC,IAAA,aAAA,CAAc,YAAY,UAAU,CAAA,CAAA;AAAA,GACxC;AACJ,CAAA;AASO,MAAM,cACb,CAAA;AAAA,EA2BI,YAAY,QACZ,EAAA;AAXA,IAAA,IAAA,CAAQ,kBAAmD,EAAC,CAAA;AAYxD,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AACjB,IAAK,IAAA,CAAA,aAAA,GAAgB,QAAS,CAAA,IAAA,KAAS,YAAa,CAAA,MAAA,CAAA;AAAA,GACxD;AAAA,EAEO,WAAW,OAClB,EAAA;AACI,IAAA,OAAO,KAAK,oBAAqB,CAAA,OAAA,CAAQ,MAAgB,OAAQ,CAAA,UAAA,EAAY,QAAQ,KAAsB,CAAA,CAAA;AAAA,GAC/G;AAAA,EAEO,iBACH,CAAA,IAAA,EACA,UACA,EAAA,KAAA,EACA,OAEJ,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAChC,EAAA;AACI,MAAA,IAAA,CAAK,wBAAwB,OAAO,CAAA,CAAA;AAEpC,MAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,OAAA,CAAA;AAAA,KACzC;AAEA,IAAM,MAAA,OAAA,GAAU,KAAK,oBAAqB,CAAA,IAAA,EAAM,YAAY,KAAK,CAAA,CAC5D,IAAK,CAAA,CAAC,OACP,KAAA;AACI,MAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAE,OAAU,GAAA,OAAA,CAAA;AAExC,MAAO,OAAA,OAAA,CAAA;AAAA,KACV,CAAA,CAAA;AAEL,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA;AAAA,MAC5B,OAAS,EAAA,IAAA;AAAA,MACT,OAAA;AAAA,MACA,UAAY,EAAA,CAAA;AAAA,KAChB,CAAA;AAEA,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEA,MAAc,oBAAA,CACV,IACA,EAAA,UAAA,EACA,KAEJ,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,OAAQ,CAAA,GAAA,CAAI,kBAAkB,CAAA,CAAA;AACnD,IAAM,MAAA,YAAA,GAAe,mBAAoB,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AACpD,IAAA,MAAM,OAAU,GAAA,MAAM,UAAW,CAAA,YAAA,EAAc,KAAK,CAAA,CAAA;AACpD,IAAA,MAAM,QAAW,GAAA,eAAA,CAAgB,IAAM,EAAA,KAAA,EAAO,SAAS,YAAY,CAAA,CAAA;AAEnE,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,KAAK,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AACnG,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,KAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,MAAM,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;AAErG,IAAA,MAAM,QAAQ,YAAa,CAAA,KAAA,CAAA;AAE3B,IAAA,KAAA,CAAM,QAAQ,KAAQ,GAAA,CAAA,CAAA;AACtB,IAAA,KAAA,CAAM,SAAS,MAAS,GAAA,CAAA,CAAA;AAExB,IAAA,MAAM,SAAS,SAAU,CAAA,IAAA,EAAM,KAAO,EAAA,UAAA,EAAY,SAAS,YAAY,CAAA,CAAA;AAEvE,IAAA,MAAM,aAAa,KAAO,EAAA,MAAA,EAAQ,UAAc,IAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAEvE,IAAA,IAAI,QAAiD,GAAA,KAAA,CAAA;AAErD,IAAA,IAAI,KAAK,aACT,EAAA;AAEI,MAAW,QAAA,GAAA,2BAAA,CAA4B,OAAO,UAAU,CAAA,CAAA;AAAA,KAC5D;AAEA,IAAA,MAAM,UAAU,uBAAwB,CAAA,QAAA,EAAU,MAAM,KAAO,EAAA,KAAA,CAAM,QAAQ,UAAU,CAAA,CAAA;AAEvF,IAAA,IAAI,KAAK,aACT,EAAA;AAEI,MAAC,IAAK,CAAA,SAAA,CAA6B,OAAQ,CAAA,UAAA,CAAW,QAAQ,MAAM,CAAA,CAAA;AAAA,KACxE;AAEA,IAAA,OAAA,CAAQ,OAAO,YAAwB,CAAA,CAAA;AAEvC,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AAAA,EAEQ,wBAAwB,OAChC,EAAA;AACI,IAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAE,CAAA,UAAA,EAAA,CAAA;AAAA,GAClC;AAAA,EAEO,uBAAuB,OAC9B,EAAA;AACI,IAAM,MAAA,aAAA,GAAgB,IAAK,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAA;AAGlD,IAAA,IAAI,CAAC,aAAA;AAAe,MAAA,OAAA;AAEpB,IAAc,aAAA,CAAA,UAAA,EAAA,CAAA;AAEd,IAAI,IAAA,aAAA,CAAc,eAAe,CACjC,EAAA;AACI,MAAA,IAAI,cAAc,OAClB,EAAA;AACI,QAAA,IAAA,CAAK,SAAS,aAAa,CAAA,CAAA;AAAA,OAG/B,MAAA;AAEI,QAAc,aAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,CAAC,OAC5B,KAAA;AACI,UAAA,aAAA,CAAc,OAAU,GAAA,OAAA,CAAA;AAExB,UAAA,IAAA,CAAK,SAAS,aAAa,CAAA,CAAA;AAAA,SAC9B,CAAE,CAAA,KAAA,CAAM,MACT;AAEI,UAAA,IAAA,CAAK,yCAAyC,CAAA,CAAA;AAAA,SAEjD,CAAA,CAAA;AAAA,OACL;AAEA,MAAK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA,IAAA,CAAA;AAAA,KACpC;AAAA,GACJ;AAAA,EAEQ,SAAS,aACjB,EAAA;AACI,IAAY,WAAA,CAAA,aAAA,CAAc,cAAc,OAAO,CAAA,CAAA;AAC/C,IAAc,aAAA,CAAA,OAAA,CAAQ,OAAO,QAAW,GAAA,IAAA,CAAA;AACxC,IAAc,aAAA,CAAA,OAAA,CAAQ,OAAO,cAAiB,GAAA,SAAA,CAAA;AAAA,GAClD;AAAA,EAEO,kBAAkB,OACzB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,UAAA,CAAA;AAAA,GACzC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAAA;AA1Ka,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA,CAAA;AAVS,cAAA,CAYK,kBAA0C,GAAA;AAAA,EACpD,UAAY,EAAA,OAAA;AAAA,EACZ,SAAW,EAAA,QAAA;AAAA,EACX,UAAY,EAAA,QAAA;AAChB,CAAA;;;;;;;;;;;;;;;;;;ACtDG,MAAM,oBAAN,MACP;AAAA,EA2CI,WACA,GAAA;AAHA,IAAA,IAAA,CAAQ,oBAAyD,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAIxE,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AAEzB,IAAK,IAAA,CAAA,gBAAA,GAAmB,IAAI,KAAA,CAAM,CAAQ,CAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,QAAQ,IAAK,CAAA,gBAAA,CAAA;AAClB,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AAAA,GACjB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KAAK,OACZ,EAAA;AACI,IAAU,OAAA,GAAApE,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,kBAAiB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEnD,IAAA,IAAA,CAAK,oBAAoB,OAAQ,CAAA,iBAAA,CAAA;AACjC,IAAA,IAAA,CAAK,KAAQ,GAAA,OAAA,CAAQ,UAAc,IAAA,OAAA,CAAQ,mBAAmB,IAAK,CAAA,gBAAA,CAAA;AACnE,IAAA,IAAA,CAAK,QAAQ,OAAQ,CAAA,eAAA,CAAA;AAAA,GACzB;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,gBAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAK,IAAA,CAAA,gBAAA,CAAiB,SAAS,KAAK,CAAA,CAAA;AACpC,IAAK,IAAA,CAAA,oBAAA,GAAuB,IAAK,CAAA,gBAAA,CAAiB,OAAQ,EAAA,CAAA;AAAA,GAC9D;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,gBAAiB,CAAA,KAAA,CAAA;AAAA,GACjC;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAK,IAAA,CAAA,gBAAA,CAAiB,SAAS,KAAK,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA,EAGA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,oBAAA,CAAA;AAAA,GAChB;AAAA,EAEO,OACP,GAAA;AAAA,GAEA;AACJ,CAAA,CAAA;AApGO,IAAM,gBAAN,GAAA,kBAAA;AAAA;AAAM,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,YAAA;AAAA,EACN,QAAU,EAAA,CAAA;AACd,CAAA,CAAA;AAAA;AAXS,gBAAA,CAcK,cAA0C,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKpD,eAAiB,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKjB,eAAiB,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKjB,iBAAmB,EAAA,IAAA;AACvB,CAAA;;AChCJ,MAAM,qBAA8E,EAAC,CAAA;AAErF,UAAA,CAAW,MAAO,CAAA,aAAA,CAAc,SAAW,EAAA,CAAC,KAC5C,KAAA;AACI,EAAI,IAAA,CAAC,MAAM,IACX,EAAA;AACI,IAAM,MAAA,IAAI,MAAM,+CAA+C,CAAA,CAAA;AAAA,GACnE;AACA,EAAmB,kBAAA,CAAA,KAAA,CAAM,IAAmB,CAAA,GAAI,KAAM,CAAA,GAAA,CAAA;AAC1D,CAAA,EAAG,CAAC,KACJ,KAAA;AACI,EAAO,OAAA,kBAAA,CAAmB,MAAM,IAAmB,CAAA,CAAA;AACvD,CAAC,CAAA,CAAA;AAEM,MAAM,aACb,CAAA;AAAA,EAmBI,YAAY,QACZ,EAAA;AALA,IAAA,IAAA,CAAQ,WAAc,GAAA,KAAA,CAAA;AAEtB,IAAQ,IAAA,CAAA,WAAA,mBAAiE,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAIhF,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,YAAA,CAAa,UAAwB,EAAA,SAAA,EAAwB,cACpE,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,qBAAqB,SAC9B,EAAA;AACI,MAAA,IAAI,IAAK,CAAA,WAAA;AAAa,QAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,UAAU,CAAA,CAAA;AAE1D,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,gBAAmB,GAAA,SAAA,CAAA;AAExB,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAA,IAAA,CAAK,sBAAsB,cAAc,CAAA,CAAA;AAAA,KAC7C;AAEA,IAAA,IAAA,CAAK,WAAc,GAAA,CAAC,CAAC,kBAAA,CAAmB,SAAS,CAAA,CAAA;AAEjD,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAA,IAAA,CAAK,wBAAwB,cAAc,CAAA,CAAA;AAE3C,MAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,UAAU,CAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA,EAEQ,wBAAwB,cAChC,EAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAErD,IAAA,MAAM,YAAY,IAAK,CAAA,gBAAA,CAAA;AAEvB,IAAI,IAAA,CAAC,kBAAmB,CAAA,SAA4C,CACpE,EAAA;AAEI,MAAA,IAAA,CAAK,iCAAiC,SAA0C,CAAA,+BAAA,CAAA,CAAA,CAAA;AAGhF,MAAA,OAAA;AAAA,KACJ;AAGA,IAAA,IAAI,CAAC,IAAA,CAAK,WAAY,CAAA,SAAS,CAC/B,EAAA;AACI,MAAA,IAAA,CAAK,WAAY,CAAA,SAAS,CAAI,GAAA,IAAI,YAAa,CAAA;AAAA,QAC3C,SAAS,CAAC,IAAI,kBAAmB,CAAA,SAA4C,GAAG,CAAA;AAAA,OACnF,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,MAAM,WAAiC,GAAA;AAAA,MACnC,IAAM,EAAA,QAAA;AAAA,MACN,MAAQ,EAAA,YAAA;AAAA,MACR,aAAa,EAAC;AAAA,MACd,YAAA,EAAc,IAAK,CAAA,WAAA,CAAY,SAAS,CAAA;AAAA,MACxC,SAAW,EAAA,KAAA;AAAA,KACf,CAAA;AAEA,IAAA,IAAA,CAAK,kBAAkB,WAAY,CAAA,WAAA,CAAA;AACnC,IAAA,cAAA,CAAe,IAAI,WAAW,CAAA,CAAA;AAAA,GAClC;AAAA,EAEQ,sBAAsB,cAC9B,EAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,SAAU,CAAA,WAAA,CAAY,KAAM,CAAA,KAAA,CAAM,cAAc,CAAA,CAAA;AAErD,IAAA,cAAA,CAAe,GAAI,CAAA;AAAA,MACf,IAAM,EAAA,QAAA;AAAA,MACN,MAAQ,EAAA,WAAA;AAAA,MACR,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,UACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAAA,GACvB;AAAA,EAEO,SAAS,cAChB,EAAA;AACI,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAA,IAAA,CAAK,sBAAsB,cAAc,CAAA,CAAA;AAAA,KAC7C;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAEvB,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,WACrB,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,CAAgB,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC/C;AAEA,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAAA,GACvB;AACJ,CAAA;AA3Ha,aAAA,CAEK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;;;;;;;;;;;;;;;;;ACPG,MAAM,iBAAN,MACP;AAAA;AAAA,EAkBI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEQ,iBACJ,CAAA,OAAA,EACA,QAAuB,GAAA,EAE3B,EAAA;AACI,IAAI,IAAA,OAAA,YAAmB,SAAa,IAAA,OAAA,YAAmB,OACvD,EAAA;AACI,MAAO,OAAAA,gBAAA,CAAA;AAAA,QACH,MAAQ,EAAA,OAAA;AAAA,OACL,EAAA,QAAA,CAAA,CAAA;AAAA,KAEX;AAEA,IAAA,OAAOA,sCACA,QACA,CAAA,EAAA,OAAA,CAAA,CAAA;AAAA,GAEX;AAAA,EAEA,MAAa,MAAM,OACnB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAI,KAAM,EAAA,CAAA;AAExB,IAAA,KAAA,CAAM,GAAM,GAAA,MAAM,IAAK,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAErC,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEA,MAAa,OAAO,OACpB,EAAA;AACI,IAAA,OAAA,GAAU,IAAK,CAAA,iBAAA;AAAA,MACX,OAAA;AAAA,MACA,cAAc,CAAA,mBAAA;AAAA,KAClB,CAAA;AAEA,IAAM,MAAA,EAAE,MAAQ,EAAA,OAAA,EAAY,GAAA,OAAA,CAAA;AAE5B,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAElC,IAAI,IAAA,MAAA,CAAO,WAAW,KACtB,CAAA,EAAA;AACI,MAAA,OAAO,IAAI,OAAA,CAAgB,CAAC,OAAA,EAAS,MACrC,KAAA;AAEI,QAAO,MAAA,CAAA,MAAA,CAAQ,CAAC,IAChB,KAAA;AACI,UAAA,IAAI,CAAC,IACL,EAAA;AACI,YAAO,MAAA,CAAA,IAAI,KAAM,CAAA,wBAAwB,CAAC,CAAA,CAAA;AAE1C,YAAA,OAAA;AAAA,WACJ;AAEA,UAAM,MAAA,MAAA,GAAS,IAAI,UAAW,EAAA,CAAA;AAE9B,UAAA,MAAA,CAAO,MAAS,GAAA,MAAM,OAAQ,CAAA,MAAA,CAAO,MAAgB,CAAA,CAAA;AACrD,UAAA,MAAA,CAAO,OAAU,GAAA,MAAA,CAAA;AACjB,UAAA,MAAA,CAAO,cAAc,IAAI,CAAA,CAAA;AAAA,SAC7B,EAAG,QAAQ,OAAO,CAAA,CAAA;AAAA,OACrB,CAAA,CAAA;AAAA,KACL;AACA,IAAI,IAAA,MAAA,CAAO,cAAc,KACzB,CAAA,EAAA;AACI,MAAO,OAAA,MAAA,CAAO,SAAU,CAAA,MAAA,EAAQ,OAAO,CAAA,CAAA;AAAA,KAC3C;AACA,IAAI,IAAA,MAAA,CAAO,kBAAkB,KAC7B,CAAA,EAAA;AACI,MAAM,MAAA,IAAA,GAAO,MAAM,MAAO,CAAA,aAAA,CAAc,EAAE,IAAM,EAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAEjE,MAAA,OAAO,IAAI,OAAA,CAAgB,CAAC,OAAA,EAAS,MACrC,KAAA;AACI,QAAM,MAAA,MAAA,GAAS,IAAI,UAAW,EAAA,CAAA;AAE9B,QAAA,MAAA,CAAO,MAAS,GAAA,MAAM,OAAQ,CAAA,MAAA,CAAO,MAAgB,CAAA,CAAA;AACrD,QAAA,MAAA,CAAO,OAAU,GAAA,MAAA,CAAA;AACjB,QAAA,MAAA,CAAO,cAAc,IAAI,CAAA,CAAA;AAAA,OAC5B,CAAA,CAAA;AAAA,KACL;AAEA,IAAM,MAAA,IAAI,MAAM,yGACkC,CAAA,CAAA;AAAA,GACtD;AAAA,EAEO,OAAO,OACd,EAAA;AACI,IAAU,OAAA,GAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA,CAAA;AAExC,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAA,MAAM,UAAU,MAAkB,YAAA,OAAA,GAC5B,SACA,QAAS,CAAA,gBAAA,CAAiB,gBAAgB,OAAiC,CAAA,CAAA;AAEjF,IAAA,MAAM,MAAS,GAAA,QAAA,CAAS,OAAQ,CAAA,cAAA,CAAe,OAAO,CAAA,CAAA;AAEtD,IAAA,IAAI,kBAAkB,SACtB,EAAA;AAEI,MAAA,OAAA,CAAQ,OAAQ,EAAA,CAAA;AAAA,KACpB;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,OAAO,OACd,EAAA;AACI,IAAU,OAAA,GAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA,CAAA;AAExC,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AACtB,IAAA,MAAM,UAAU,MAAkB,YAAA,OAAA,GAC5B,SACA,QAAS,CAAA,gBAAA,CAAiB,gBAAgB,OAAiC,CAAA,CAAA;AAEjF,IAAA,MAAM,SAAY,GAAA,QAAA,CAAS,OAAQ,CAAA,SAAA,CAAU,OAAO,CAAA,CAAA;AAEpD,IAAA,IAAI,kBAAkB,SACtB,EAAA;AAEI,MAAA,OAAA,CAAQ,OAAQ,EAAA,CAAA;AAAA,KACpB;AAEA,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA,EAEO,QAAQ,OACf,EAAA;AACI,IAAU,OAAA,GAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA,CAAA;AAExC,IAAA,IAAI,QAAQ,MAAkB,YAAA,OAAA;AAAS,MAAA,OAAO,OAAQ,CAAA,MAAA,CAAA;AAEtD,IAAA,OAAO,IAAK,CAAA,SAAA,CAAU,gBAAiB,CAAA,eAAA,CAAgB,OAAiC,CAAA,CAAA;AAAA,GAC5F;AAAA,EAEO,SAAS,OAChB,EAAA;AAtMJ,IAAA,IAAA,EAAA,CAAA;AAuMQ,IAAU,OAAA,GAAA,IAAA,CAAK,kBAA0C,OAAO,CAAA,CAAA;AAEhE,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAElC,IAAM,MAAA,IAAA,GAAO,QAAS,CAAA,aAAA,CAAc,GAAG,CAAA,CAAA;AAEvC,IAAK,IAAA,CAAA,QAAA,GAAA,CAAW,EAAQ,GAAA,OAAA,CAAA,QAAA,KAAR,IAAoB,GAAA,EAAA,GAAA,WAAA,CAAA;AACpC,IAAK,IAAA,CAAA,IAAA,GAAO,MAAO,CAAA,SAAA,CAAU,WAAW,CAAA,CAAA;AACxC,IAAS,QAAA,CAAA,IAAA,CAAK,YAAY,IAAI,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AACX,IAAS,QAAA,CAAA,IAAA,CAAK,YAAY,IAAI,CAAA,CAAA;AAAA,GAClC;AAAA,EAEO,IAAI,OACX,EAAA;AArNJ,IAAA,IAAA,EAAA,CAAA;AAsNQ,IAAM,MAAA,KAAA,GAAA,CAAQ,EAAQ,GAAA,OAAA,CAAA,KAAA,KAAR,IAAiB,GAAA,EAAA,GAAA,GAAA,CAAA;AAE/B,IAAU,OAAA,GAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA,CAAA;AAExC,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AAElC,IAAM,MAAA,MAAA,GAAS,OAAO,SAAU,EAAA,CAAA;AAGhC,IAAA,OAAA,CAAQ,GAAI,CAAA,CAAA,eAAA,EAAkB,MAAO,CAAA,KAAA,CAAA,GAAA,EAAW,OAAO,MAAU,CAAA,EAAA,CAAA,CAAA,CAAA;AAEjE,IAAA,MAAM,KAAQ,GAAA;AAAA,MACV,iBAAA;AAAA,MACA,YAAY,KAAW,CAAA,GAAA,EAAA,GAAA,CAAA,GAAA,CAAA;AAAA,MACvB,CAAmB,gBAAA,EAAA,MAAA,CAAA,YAAA,CAAA;AAAA,MACnB,2BAAA;AAAA,KACJ,CAAE,KAAK,GAAG,CAAA,CAAA;AAGV,IAAQ,OAAA,CAAA,GAAA,CAAI,OAAO,KAAK,CAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA,CAAA;AA3MO,IAAM,aAAN,GAAA,eAAA;AAAA;AAAM,aAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA,CAAA;AATS,aAAA,CAWK,mBAAoC,GAAA;AAAA,EAC9C,MAAQ,EAAA,KAAA;AAAA,EACR,OAAS,EAAA,CAAA;AACb,CAAA;;AC9CG,MAAM,sBAAsB,OACnC,CAAA;AAAA,EACI,OAAc,OAAO,OACrB,EAAA;AACI,IAAA,OAAO,IAAI,OAAQ,CAAA;AAAA,MACf,MAAA,EAAQ,IAAI,aAAA,CAAc,OAAO,CAAA;AAAA,KACpC,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,MAAA,CAAO,KAAe,EAAA,MAAA,EAAgB,UAC7C,EAAA;AACI,IAAA,IAAA,CAAK,MAAO,CAAA,MAAA,CAAO,KAAO,EAAA,MAAA,EAAQ,UAAU,CAAA,CAAA;AAE5C,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;;;;;;;;;;;;;;;;;;;;ACeA,MAAM,QAAA,GAAW,IAAI,SAAU,EAAA,CAAA;AAC/B,MAAM,UAAA,GAAa,IAAI,MAAO,EAAA,CAAA;AAC9B,MAAM,OAAuB,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAGjC,MAAM,qBACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYO,gBAAgB,OACvB,EAAA;AArEJ,IAAA,IAAA,EAAA,CAAA;AAsEQ,IAAA,IAAI,mBAAmB,SACvB,EAAA;AACI,MAAU,OAAA,GAAA;AAAA,QACN,MAAQ,EAAA,OAAA;AAAA,QACR,KAAO,EAAA,KAAA,CAAA;AAAA,QACP,sBAAsB,EAAC;AAAA,QACvB,UAAY,EAAA,KAAA,CAAA;AAAA,OAChB,CAAA;AAAA,KACJ;AAEA,IAAA,MAAM,UAAa,GAAA,OAAA,CAAQ,UAAc,IAAA,IAAA,CAAK,SAAU,CAAA,UAAA,CAAA;AAExD,IAAA,MAAM,YAAY,OAAQ,CAAA,MAAA,CAAA;AAE1B,IAAA,IAAI,aAAa,OAAQ,CAAA,UAAA,CAAA;AAEzB,IAAA,IAAI,UACJ,EAAA;AACI,MAAA,MAAM,cAAc,KAAM,CAAA,OAAA,CAAQ,UAAU,CAAA,IAAK,WAAW,MAAW,KAAA,CAAA,CAAA;AAEvE,MAAA,UAAA,GAAa,cAAc,UAAa,GAAA,KAAA,CAAM,OAAO,QAAS,CAAA,UAAU,EAAE,OAAQ,EAAA,CAAA;AAAA,KAGtF,MAAA;AACI,MAAa,UAAA,GAAA,OAAA,CAAA;AAAA,KACjB;AAEA,IAAM,MAAA,MAAA,GAAA,CAAA,CAAS,aAAQ,KAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAe,OAAO,QAC9B,CAAA,KAAA,cAAA,CAAe,SAAW,EAAA,UAAU,CAAE,CAAA,SAAA,CAAA;AAE7C,IAAA,MAAA,CAAO,QAAQ,IAAK,CAAA,GAAA,CAAI,OAAO,KAAO,EAAA,CAAA,GAAI,UAAU,CAAI,GAAA,CAAA,CAAA;AACxD,IAAA,MAAA,CAAO,SAAS,IAAK,CAAA,GAAA,CAAI,OAAO,MAAQ,EAAA,CAAA,GAAI,UAAU,CAAI,GAAA,CAAA,CAAA;AAE1D,IAAA,MAAM,MAAS,GAAA,aAAA,CAAc,MAAO,CAAAD,eAAA,CAAAC,gBAAA,CAAA,EAAA,EAC7B,QAAQ,oBADqB,CAAA,EAAA;AAAA,MAEhC,OAAO,MAAO,CAAA,KAAA;AAAA,MACd,QAAQ,MAAO,CAAA,MAAA;AAAA,MACf,UAAA;AAAA,KACH,CAAA,CAAA,CAAA;AAED,IAAM,MAAA,SAAA,GAAY,OAAO,MAAO,CAAA,SAAA,CAAU,CAAC,MAAO,CAAA,CAAA,EAAG,CAAC,MAAA,CAAO,CAAC,CAAA,CAAA;AAE9D,IAAA,IAAA,CAAK,UAAU,MAAO,CAAA;AAAA,MAClB,SAAA;AAAA,MACA,SAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AAxFa,qBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,kBAAA;AACV,CAAA;;ACFG,MAAM,mBACb,CAAA;AAAA,EAwBI,YAAY,QACZ,EAAA;AAZA,IAAA,IAAA,CAAQ,WAAc,GAAA,CAAA,CAAA;AACtB,IAAA,IAAA,CAAQ,0BAA+C,EAAC,CAAA;AAExD,IAAA,IAAA,CAAiB,gBAAsC,EAAC,CAAA;AACxD,IAAA,IAAA,CAAiB,kBAAwC,EAAC,CAAA;AAE1D,IAAA,IAAA,CAAiB,iBAA8B,EAAC,CAAA;AAChD,IAAA,IAAA,CAAiB,oBAAiC,EAAC,CAAA;AAM/C,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,CAAA;AAEnB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,eAAA,CAAgB,QAAQ,CACjD,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,aAAc,CAAA,IAAA,CAAK,IAAK,CAAA,eAAA,CAAgB,CAAC,CAAC,CAAA,CAAA;AAAA,KACnD;AAEA,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,iBAAA,CAAkB,QAAQ,CACnD,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,cAAe,CAAA,IAAA,CAAK,IAAK,CAAA,iBAAA,CAAkB,CAAC,CAAC,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,IAAA,CAAK,gBAAgB,MAAS,GAAA,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,kBAAkB,MAAS,GAAA,CAAA,CAAA;AAAA,GACpC;AAAA,EAEO,MAAM,OACb,EAAA;AACI,IAAA,IAAA,CAAK,KAAM,EAAA,CAAA;AAEX,IAAA,IAAA,CAAK,KAAK,OAAO,CAAA,CAAA;AAAA,GACrB;AAAA,EAEO,IAAK,CAAA;AAAA,IACR,cAAA;AAAA,IACA,oBAAA;AAAA,IACA,UAAA;AAAA,IACA,MAAA;AAAA,GAEJ,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,SAAA,CAAU,YAAa,CAAA,YAAA,CAAA;AAEjD,IAAM,MAAA,wBAAA,GAA2B,KAAK,WAAc,GAAA,IAAA,CAAK,wBAAwB,IAAK,CAAA,WAAA,GAAc,CAAC,CAAI,GAAA;AAAA,MACrG,cAAgB,EAAA,YAAA;AAAA,MAChB,oBAAA,EAAsB,IAAI,MAAO,EAAA;AAAA,MACjC,UAAY,EAAA,UAAA;AAAA,MACZ,MAAA,EAAQ,IAAI,KAAM,EAAA;AAAA,KACtB,CAAA;AAEA,IAAA,MAAM,iBAAuC,GAAA;AAAA,MACzC,gBAAA,EAAA,CAAkB,cAAgB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAA,gBAAA,KAAoB,YAAa,CAAA,gBAAA;AAAA,MACnE,UAAA,EAAA,CAAY,cAAgB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAA,IAAA,KAAQ,YAAa,CAAA,IAAA;AAAA,MACjD,oBAAA,EAAsB,wBAAwB,wBAAyB,CAAA,oBAAA;AAAA,MACvE,UAAA,EAAY,cAAc,wBAAyB,CAAA,UAAA;AAAA,MACnD,MAAA,EAAQ,UAAU,wBAAyB,CAAA,MAAA;AAAA,MAC3C,SAAW,EAAA,IAAA;AAAA,KACf,CAAA;AAEA,IAAA,MAAM,eAAe,IAAK,CAAA,aAAA,CAAc,GAAI,EAAA,IAAK,KAAK,eAAgB,EAAA,CAAA;AAEtE,IAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,YAAY,CAAA,CAAA;AAEtC,IAAA,MAAM,WAAW,YAAa,CAAA,QAAA,CAAA;AAE9B,IAAA,QAAA,CAAS,mBAAmB,iBAAkB,CAAA,gBAAA,CAAA;AAE9C,IAAA,QAAA,CAAS,cAAc,iBAAkB,CAAA,UAAA,CAAA;AAEzC,IAAS,QAAA,CAAA,oBAAA,CAAqB,QAAS,CAAA,iBAAA,CAAkB,oBAAoB,CAAA,CAAA;AAE7E,IAAS,QAAA,CAAA,oBAAA,CAAqB,EAAM,IAAA,iBAAA,CAAkB,MAAO,CAAA,CAAA,CAAA;AAC7D,IAAS,QAAA,CAAA,oBAAA,CAAqB,EAAM,IAAA,iBAAA,CAAkB,MAAO,CAAA,CAAA,CAAA;AAG7D,IAAA,QAAA,CAAS,UAAe,GAAA,CAAA,iBAAA,CAAkB,UAAc,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;AAEtE,IAAA,YAAA,CAAa,MAAO,EAAA,CAAA;AAEpB,IAAI,IAAA,SAAA,CAAA;AAEJ,IAAK,IAAA,IAAA,CAAK,SAA6B,CAAA,WAAA,CAAY,YACnD,EAAA;AACI,MAAA,SAAA,GAAa,KAAK,SAA6B,CAAA,WAAA,CAAY,YAAa,CAAA,mBAAA,CAAoB,cAAc,KAAK,CAAA,CAAA;AAAA,KAGnH,MAAA;AACI,MAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,YAA4B,CAAA,CAAA;AAE5E,MAAA,SAAA,GAAY,IAAK,CAAA,cAAA,CAAe,GAAI,EAAA,IAAK,IAAI,SAAU,EAAA,CAAA;AACvD,MAAK,IAAA,CAAA,iBAAA,CAAkB,KAAK,SAAS,CAAA,CAAA;AACrC,MAAU,SAAA,CAAA,WAAA,CAAY,cAAc,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAA,iBAAA,CAAkB,SAAY,GAAA,SAAA,CAAA;AAE9B,IAAA,IAAA,CAAK,yBAA4B,GAAA,iBAAA,CAAA;AAAA,GACrC;AAAA,EAEO,KAAK,OACZ,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,OAAO,CAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,uBAAwB,CAAA,IAAA,CAAK,WAAa,EAAA,CAAA,GAAI,IAAK,CAAA,yBAAA,CAAA;AAAA,GAC5D;AAAA,EAEO,GACP,GAAA;AACI,IAAA,IAAA,CAAK,4BAA4B,IAAK,CAAA,uBAAA,CAAwB,EAAE,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA;AAAA,GACxF;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,KAAK,yBAA0B,CAAA,SAAA,CAAA;AAAA,GAC1C;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,yBAAA,CAA0B,SAAU,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAAA,GAC/D;AAAA,EAEQ,eACR,GAAA;AACI,IAAM,MAAA,cAAA,GAAiB,IAAI,YAAa,CAAA;AAAA,MACpC,kBAAkB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MAC7D,sBAAsB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA;AAAA,MAEjE,UAAY,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,MACpC,WAAA,EAAa,EAAE,KAAO,EAAA,CAAC,GAAG,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,KACjD,EAAA;AAAA,MACC,GAAK,EAAA,IAAA;AAAA,MACL,QAAU,EAAA,IAAA;AAAA,KACb,CAAA,CAAA;AAED,IAAO,OAAA,cAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AApKa,mBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,gBAAA;AACV,CAAA;;AC9CG,MAAM,kBAA6C,GAAA;AAAA,EACtD,KAAO,EAAA,CAAA;AAAA,EACP,WAAa,EAAA,CAAA;AAAA,EACb,WAAa,EAAA,EAAA;AAAA,EACb,WAAa,EAAA,EAAA;AAAA,EAEb,eAAe,EAAK,GAAA,CAAA;AAAA,EACpB,eAAe,EAAK,GAAA,CAAA;AAAA,EACpB,eAAe,EAAK,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBxB,EAAA;AA2BO,SAAS,kBAAkB,WAClC,EAAA;AACI,EAAA,MAAM,WAA4B,GAAA,WAAA,CAAY,GAAI,CAAA,CAAC,IAC9C,MAAA;AAAA,IACG,IAAA;AAAA,IACA,MAAQ,EAAA,CAAA;AAAA,IACR,IAAM,EAAA,CAAA;AAAA,GACR,CAAA,CAAA,CAAA;AAEN,EAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AACX,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAChB,EAAA,IAAI,MAAS,GAAA,CAAA,CAAA;AAEb,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CACxC,EAAA,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,YAAY,CAAC,CAAA,CAAA;AAEhC,IAAO,IAAA,GAAA,kBAAA,CAAmB,UAAW,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAE9C,IAAA,IAAI,CAAC,IACL,EAAA;AACI,MAAA,MAAM,IAAI,KAAA,CAAM,CAAgB,aAAA,EAAA,UAAA,CAAW,KAAK,IAAM,CAAA,CAAA,CAAA,CAAA;AAAA,KAC1D;AAEA,IAAI,IAAA,UAAA,CAAW,IAAK,CAAA,IAAA,GAAO,CAC3B,EAAA;AACI,MAAA,IAAA,GAAO,KAAK,GAAI,CAAA,IAAA,EAAM,EAAE,CAAA,GAAI,WAAW,IAAK,CAAA,IAAA,CAAA;AAAA,KAChD;AAEA,IAAA,UAAA,CAAW,IAAO,GAAA,IAAA,CAAA;AAKlB,IAAA,IAAI,SAAY,GAAA,IAAA,KAAS,CAAK,IAAA,SAAA,GAAY,EAC1C,EAAA;AAEI,MAAM,MAAA,WAAA,GAAe,YAAY,IAAQ,GAAA,EAAA,CAAA;AAEzC,MAAa,SAAA,IAAA,WAAA,CAAA;AACb,MAAU,MAAA,IAAA,WAAA,CAAA;AAAA,KACd;AAEA,IAAK,IAAA,SAAA,GAAY,OAAQ,EACzB,EAAA;AACI,MAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,MAAS,GAAA,EAAE,CAAI,GAAA,EAAA,CAAA;AAClC,MAAA,UAAA,CAAW,MAAS,GAAA,MAAA,CAAA;AACpB,MAAU,MAAA,IAAA,IAAA,CAAA;AACV,MAAY,SAAA,GAAA,IAAA,CAAA;AAAA,KAGhB,MAAA;AACI,MAAA,UAAA,CAAW,MAAS,GAAA,MAAA,CAAA;AACpB,MAAa,SAAA,IAAA,IAAA,CAAA;AACb,MAAU,MAAA,IAAA,IAAA,CAAA;AAAA,KACd;AAAA,GACJ;AAEA,EAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,MAAS,GAAA,EAAE,CAAI,GAAA,EAAA,CAAA;AAElC,EAAO,OAAA,EAAE,WAAa,EAAA,IAAA,EAAM,MAAO,EAAA,CAAA;AACvC;;ACxGO,MAAM,oBAAwC,GAAA;AAAA;AAAA,EAEjD;AAAA,IACI,IAAM,EAAA,aAAA;AAAA,IACN,IAAM,EAAA,CAAC,IACF,KAAA,IAAA,CAAK,MAAiB,CAAM,KAAA,KAAA,CAAA;AAAA,IACjC,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,oBAAA,EACU,IAAoB,CAAA,aAAA,EAAA,IAAA,CAAA;AAAA;AAAA,+BAET,EAAA,IAAA,CAAA;AAAA,iCACE,EAAA,IAAA,CAAA;AAAA,iCACA,EAAA,IAAA,CAAA;AAAA;AAAA,mCAEE,EAAA,IAAA,CAAA;AAAA,mCACA,EAAA,IAAA,CAAA;AAAA,mCACA,EAAA,IAAA,CAAA;AAAA;AAAA,mCAEA,EAAA,IAAA,CAAA;AAAA,mCACA,EAAA,IAAA,CAAA;AAAA,oCACC,EAAA,IAAA,CAAA;AAAA,YAAA,CAAA;AAAA,GAElC;AAAA,EACA;AAAA,IACI,IAAM,EAAA,WAAA;AAAA,IACN,IAAA,EAAM,CAAC,IAAA,KACH,IAAK,CAAA,IAAA,KAAS,WAAe,IAAA,IAAA,CAAK,IAAS,KAAA,CAAA,IAAM,IAAK,CAAA,KAAA,CAAoB,KAAU,KAAA,KAAA,CAAA;AAAA,IACxF,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,+BACqB,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAA,CAAA;AAAA,GAO7B;AAAA,EACA;AAAA,IACI,IAAM,EAAA,WAAA;AAAA,IACN,IAAA,EAAM,CAAC,IAAA,KACH,IAAK,CAAA,IAAA,KAAS,WAAe,IAAA,IAAA,CAAK,IAAS,KAAA,CAAA,IAAM,IAAK,CAAA,KAAA,CAAoB,CAAM,KAAA,KAAA,CAAA;AAAA,IACpF,IAAA,EAAM,CAAC,IACH,KAAA,CAAA;AAAA,2BACiB,EAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,GAKzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+DJ;;ACnIA,MAAM,qBAAgD,GAAA;AAAA,EAClD,KAAO,EAAA,CAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAGP,WAAa,EAAA,CAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAIb,WAAa,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAMb,WAAa,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAMb,aAAe,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAOf,aAAe,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,EAaf,aAAe,EAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAMnB,CAAA,CAAA;AA4BO,SAAS,0BACZ,WAEJ,EAAA;AACI,EAAA,MAAM,gBAAgB,CAAC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAKtB,CAAA,CAAA,CAAA;AAED,EAAA,IAAI,IAAO,GAAA,CAAA,CAAA;AAEX,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CACxC,EAAA,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,YAAY,CAAC,CAAA,CAAA;AAEhC,IAAM,MAAA,IAAA,GAAO,WAAW,IAAK,CAAA,IAAA,CAAA;AAE7B,IAAA,IAAI,MAAS,GAAA,KAAA,CAAA;AACb,IAAA,IAAI,MAAS,GAAA,CAAA,CAAA;AAEb,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,oBAAA,CAAqB,QAAQ,CACjD,EAAA,EAAA;AACI,MAAM,MAAA,aAAA,GAAgB,qBAAqB,CAAC,CAAA,CAAA;AAE5C,MAAA,IAAI,aAAc,CAAA,IAAA,CAAK,UAAW,CAAA,IAAI,CACtC,EAAA;AACI,QAAA,MAAA,GAAS,WAAW,MAAS,GAAA,CAAA,CAAA;AAE7B,QAAc,aAAA,CAAA,IAAA;AAAA,UACV,aAAa,MAAS,GAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UACtB,oBAAqB,CAAA,CAAC,CAAE,CAAA,IAAA,CAAK,IAAI,CAAA;AAAA,SAAC,CAAA;AACtC,QAAS,MAAA,GAAA,IAAA,CAAA;AAET,QAAA,MAAA;AAAA,OACJ;AAAA,KACJ;AAEA,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAI,IAAA,UAAA,CAAW,IAAK,CAAA,IAAA,GAAO,CAC3B,EAAA;AACI,QAAM,MAAA,OAAA,GAAU,KAAK,GAAI,CAAA,kBAAA,CAAmB,WAAW,IAAK,CAAA,IAAI,CAAI,GAAA,EAAA,EAAI,CAAC,CAAA,CAAA;AACzE,QAAA,MAAM,cAAe,UAAW,CAAA,IAAA,CAAK,KAAwB,CAAA,MAAA,GAAS,WAAW,IAAK,CAAA,IAAA,CAAA;AAEtF,QAAM,MAAA,SAAA,GAAA,CAAa,CAAK,GAAA,WAAA,GAAc,CAAM,IAAA,CAAA,CAAA;AAE5C,QAAA,MAAA,GAAS,WAAW,MAAS,GAAA,CAAA,CAAA;AAE7B,QAAc,aAAA,CAAA,IAAA;AAAA;AAAA,UAAe,CAAA;AAAA,2BAChB,EAAA,IAAA,CAAA;AAAA,8BAAA,EACG,MAAS,GAAA,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMF,EAAA,UAAA,CAAW,KAAK,IAAO,GAAA,OAAA,CAAA;AAAA;AAAA,2CAEjB,EAAA,WAAA,CAAA;AAAA;AAAA;AAAA;AAAA,wBAInB,EAAA,SAAA,KAAc,IAAI,8BAAiC,GAAA,EAAA,CAAA;AAAA;AAAA,gBAAA,CAAA;AAAA,SAE5D,CAAA;AAAA,OAGL,MAAA;AACI,QAAA,MAAM,QAAW,GAAA,qBAAA,CAAsB,UAAW,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAE3D,QAAA,MAAA,GAAS,WAAW,MAAS,GAAA,CAAA,CAAA;AAE7B,QAAc,aAAA,CAAA,IAAA;AAAA;AAAA,UAAe,CAAA;AAAA,2BAChB,EAAA,IAAA,CAAA;AAAA,8BAAA,EACG,MAAS,GAAA,IAAA,CAAA;AAAA,oBACnB,EAAA,QAAA,CAAA;AAAA,gBAAA,CAAA;AAAA,SACL,CAAA;AAAA,OACL;AAAA,KACJ;AAEA,IAAO,IAAA,GAAA,MAAA,CAAA;AAAA,GACX;AAEA,EAAM,MAAA,WAAA,GAAc,aAAc,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAM3C,EAAA,OAAO,IAAI,QAAA;AAAA,IACP,IAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,WAAA;AAAA,GACJ,CAAA;AACJ;;ACxKO,MAAM,mBACb,CAAA;AAAA,EADO,WAAA,GAAA;AAaH;AAAA,IAAQ,IAAA,CAAA,iBAAA,mBAGI,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAAA,GAAA;AAAA,EAEhB,mBAAmB,YAC1B,EAAA;AACI,IAAI,IAAA,CAAC,aAAa,aAClB,EAAA;AACI,MAAA,IAAA,CAAK,kBAAkB,YAAY,CAAA,CAAA;AAAA,KACvC;AAAA,GACJ;AAAA,EAEQ,kBAAkB,YAC1B,EAAA;AACI,IAAA,MAAM,wBAAwB,YAAa,CAAA,SAAA,CAAA;AAE3C,IAAI,IAAA,WAAA,GAAc,IAAK,CAAA,iBAAA,CAAkB,qBAAqB,CAAA,CAAA;AAE9D,IAAA,IAAI,CAAC,WACL,EAAA;AACI,MAAA,MAAM,QAAW,GAAA,MAAA,CAAO,IAAK,CAAA,YAAA,CAAa,iBAAiB,CAAA,CAAE,GAAI,CAAA,CAAC,CAAM,KAAA,YAAA,CAAa,iBAAkB,CAAA,CAAC,CAAC,CAAA,CAAA;AAEzG,MAAM,MAAA,MAAA,GAAS,kBAAkB,QAAQ,CAAA,CAAA;AAEzC,MAAM,MAAA,YAAA,GAAe,yBAA0B,CAAA,MAAA,CAAO,WAAW,CAAA,CAAA;AAEjE,MAAc,WAAA,GAAA,IAAA,CAAK,iBAAkB,CAAA,qBAAqB,CAAI,GAAA;AAAA,QAC1D,MAAA;AAAA,QACA,YAAA;AAAA,OACJ,CAAA;AAAA,KACJ;AAEA,IAAA,YAAA,CAAa,gBAAgB,WAAY,CAAA,YAAA,CAAA;AAEzC,IAAa,YAAA,CAAA,MAAA,GAAS,IAAI,MAAO,CAAA;AAAA,MAC7B,MAAM,IAAI,YAAA,CAAa,WAAY,CAAA,MAAA,CAAO,OAAO,CAAC,CAAA;AAAA,MAClD,KAAA,EAAO,WAAY,CAAA,OAAA,GAAU,WAAY,CAAA,QAAA;AAAA,KAC5C,CAAA,CAAA;AAED,IAAA,OAAO,YAAa,CAAA,aAAA,CAAA;AAAA,GACxB;AAAA,EAEO,gBAAA,CAAiB,YAA4B,EAAA,IAAA,EAAqB,MACzE,EAAA;AACI,IAAA,MAAM,YAAe,GAAA,YAAA,CAAa,aAAiB,IAAA,IAAA,CAAK,kBAAkB,YAAY,CAAA,CAAA;AAEtF,IAAA,IAAA,KAAA,IAAA,GAAU,aAAa,MAAO,CAAA,IAAA,CAAA,CAAA;AAC9B,IAAW,MAAA,KAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AAEX,IAAa,YAAA,CAAA,YAAA,CAAa,QAAU,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAEhD,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAEO,mBAAmB,YAC1B,EAAA;AACI,IAAI,IAAA,YAAA,CAAa,QAAY,IAAA,CAAC,YAAa,CAAA,OAAA;AAAS,MAAO,OAAA,KAAA,CAAA;AAC3D,IAAA,YAAA,CAAa,OAAU,GAAA,CAAA,CAAA;AAEvB,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,gBAAA,CAAiB,YAAY,CAAA,CAAA;AAEjD,IAAA,YAAA,CAAa,OAAO,MAAO,EAAA,CAAA;AAE3B,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AAAA,GAC7B;AACJ,CAAA;AAAA;AApFa,mBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,eAAA;AACV,CAAA;;ACnBJ,IAAI,SAAY,GAAA,KAAA,CAAA;AAET,MAAM,OAAU,GAAA,eAAA;AAEhB,SAAS,SAAS,IACzB,EAAA;AACI,EAAA,IAAI,SACJ,EAAA;AACI,IAAA,OAAA;AAAA,GACJ;AAEA,EAAI,IAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAE,SAAU,CAAA,WAAA,EAAc,CAAA,OAAA,CAAQ,QAAQ,CAAA,GAAI,CAChF,CAAA,EAAA;AACI,IAAA,MAAM,IAAO,GAAA;AAAA,MACT,iCAAiC,OAAY,CAAA,EAAA,EAAA,IAAA,CAAA;AAAA;AAAA,CAAA;AAAA,MAC7C,qCAAA;AAAA,MACA,qCAAA;AAAA,MACA,qCAAA;AAAA,MACA,qCAAA;AAAA,MACA,qDAAA;AAAA,MACA,qDAAA;AAAA,KACJ,CAAA;AAEA,IAAW,UAAA,CAAA,OAAA,CAAQ,GAAI,CAAA,GAAG,IAAI,CAAA,CAAA;AAAA,GAClC,MAAA,IACS,WAAW,OACpB,EAAA;AACI,IAAA,UAAA,CAAW,OAAQ,CAAA,GAAA,CAAI,CAAU,OAAA,EAAA,OAAA,CAAA,GAAA,EAAa,IAA+B,CAAA,yBAAA,CAAA,CAAA,CAAA;AAAA,GACjF;AAEA,EAAY,SAAA,GAAA,IAAA,CAAA;AAChB;;ACjBO,MAAM,WACb,CAAA;AAAA,EAuBI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KAAK,OACZ,EAAA;AACI,IAAA,IAAI,QAAQ,KACZ,EAAA;AAEI,MAAS,QAAA,CAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AACJ,CAAA;AAAA;AAzCa,WAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AAAA,EACN,QAAU,EAAA,CAAA;AACd,CAAA,CAAA;AAAA;AAXS,WAAA,CAcK,cAAqC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAK/C,KAAO,EAAA,KAAA;AACX,CAAA;;;;;;;;;;;;;;;;;;ACrBG,MAAM,mBAAN,MACP;AAAA;AAAA,EAgDI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,CAAA;AACb,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAAA,GACtB;AAAA,EAEO,KAAK,OACZ,EAAA;AACI,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,iBAAgB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAElD,IAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,sBAAA,CAAA;AAC7B,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,iBAAA,CAAA;AACvB,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,eAAA,CAAA;AAAA,GAC1B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,UACV,GAAA;AACI,IAAI,IAAA,CAAC,IAAK,CAAA,SAAA,CAAU,iBACpB,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,KAAA,EAAA,CAAA;AAEL,IAAA,IAAI,CAAC,IAAK,CAAA,MAAA;AAAQ,MAAA,OAAA;AAElB,IAAK,IAAA,CAAA,UAAA,EAAA,CAAA;AAEL,IAAI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAK,aAC3B,EAAA;AACI,MAAA,IAAA,CAAK,UAAa,GAAA,CAAA,CAAA;AAElB,MAAA,IAAA,CAAK,GAAI,EAAA,CAAA;AAAA,KACb;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,GACP,GAAA;AACI,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,SAAA,CAAU,OAAQ,CAAA,eAAA,CAAA;AAE/C,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAC5C,EAAA,EAAA;AACI,MAAM,MAAA,OAAA,GAAU,gBAAgB,CAAC,CAAA,CAAA;AAGjC,MAAI,IAAA,OAAA,CAAQ,QAAY,IAAA,OAAA,CAAQ,OAAU,GAAA,CAAA,CAAA,IAAM,KAAK,KAAQ,GAAA,OAAA,CAAQ,OAAU,GAAA,IAAA,CAAK,OACpF,EAAA;AACI,QAAA,OAAA,CAAQ,OAAU,GAAA,CAAA,CAAA,CAAA;AAClB,QAAA,OAAA,CAAQ,MAAO,EAAA,CAAA;AAAA,OACnB;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA,CAAA;AApHO,IAAM,eAAN,GAAA,iBAAA;AAAA;AAAM,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA,CAAA;AATS,eAAA,CAWK,cAAyC,GAAA;AAAA,EACnD,eAAiB,EAAA,IAAA;AAAA,EACjB,mBAAmB,EAAK,GAAA,EAAA;AAAA,EACxB,sBAAwB,EAAA,GAAA;AAC5B,CAAA,CAAA;AAuGJ,UAAA,CAAW,IAAI,eAAe,CAAA;;;;;;;;;;;;;;;;;;AChGvB,MAAM,cAAN,MACP;AAAA,EAqDI,IAAI,UACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,QAAQ,MAAO,CAAA,WAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAA,IAAA,CAAK,QAAQ,MAAO,CAAA,MAAA;AAAA,MAChB,IAAA,CAAK,QAAQ,MAAO,CAAA,KAAA;AAAA,MACpB,IAAA,CAAK,QAAQ,MAAO,CAAA,MAAA;AAAA,MACpB,KAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,KAAK,OACZ,EAAA;AACI,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EACH,YAAW,cACX,CAAA,EAAA,OAAA,CAAA,CAAA;AAGP,IAAA,IAAI,QAAQ,OACZ,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,0DAA0D,CAAA,CAAA;AAC9E,MAAA,OAAA,CAAQ,SAAS,OAAQ,CAAA,OAAA,CAAA;AAAA,KAC7B;AAEA,IAAK,IAAA,CAAA,MAAA,GAAS,IAAI,SAAU,CAAA,CAAA,EAAG,GAAG,OAAQ,CAAA,KAAA,EAAO,QAAQ,MAAM,CAAA,CAAA;AAC/D,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,MAAA,IAAU,UAAW,CAAA,GAAA,GAAM,YAAa,EAAA,CAAA;AAC9D,IAAK,IAAA,CAAA,SAAA,GAAY,CAAC,CAAC,OAAQ,CAAA,SAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,OAAU,GAAA,gBAAA,CAAiB,IAAK,CAAA,MAAA,EAAQ,OAA8B,CAAA,CAAA;AAC3E,IAAK,IAAA,CAAA,SAAA,GAAY,CAAC,CAAC,OAAQ,CAAA,SAAA,CAAA;AAE3B,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,KAAA,CAAM,KAAQ,GAAA,CAAA,EAAG,KAAK,OAAQ,CAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAC1C,MAAA,IAAA,CAAK,MAAO,CAAA,KAAA,CAAM,MAAS,GAAA,CAAA,EAAG,KAAK,OAAQ,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AAAA,KAC/C;AAEA,IAAA,IAAA,CAAK,aAAa,OAAQ,CAAA,UAAA,CAAA;AAAA,GAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,MAAA,CAAO,kBAA4B,EAAA,mBAAA,EAA6B,UACvE,EAAA;AACI,IAAA,IAAA,CAAK,OAAQ,CAAA,MAAA,CAAO,MAAO,CAAA,kBAAA,EAAoB,qBAAqB,UAAU,CAAA,CAAA;AAE9E,IAAK,IAAA,CAAA,MAAA,CAAO,KAAQ,GAAA,IAAA,CAAK,OAAQ,CAAA,UAAA,CAAA;AACjC,IAAK,IAAA,CAAA,MAAA,CAAO,MAAS,GAAA,IAAA,CAAK,OAAQ,CAAA,WAAA,CAAA;AAElC,IAAA,IAAI,KAAK,WACT,EAAA;AACI,MAAK,IAAA,CAAA,MAAA,CAAO,KAAM,CAAA,KAAA,GAAQ,CAAG,EAAA,kBAAA,CAAA,EAAA,CAAA,CAAA;AAC7B,MAAK,IAAA,CAAA,MAAA,CAAO,KAAM,CAAA,MAAA,GAAS,CAAG,EAAA,mBAAA,CAAA,EAAA,CAAA,CAAA;AAAA,KAClC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAA,CAAQ,UAA0B,KACzC,EAAA;AACI,IAAA,MAAM,aAAa,OAAO,OAAA,KAAY,YAAY,OAAU,GAAA,CAAC,EAAC,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AAEvE,IAAI,IAAA,UAAA,IAAc,IAAK,CAAA,MAAA,CAAO,UAC9B,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,UAAA,CAAW,WAAY,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAAA,KAClD;AAAA,GAIJ;AACJ,CAAA,CAAA;AAzIO,IAAM,UAAN,GAAA,YAAA;AAAA;AAAM,UAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,IACd,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,MAAA;AAAA,EACN,QAAU,EAAA,CAAA;AACd,CAAA,CAAA;AAAA;AAXS,UAAA,CAcK,cAAoC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAK9C,KAAO,EAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKP,MAAQ,EAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKR,WAAa,EAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKb,SAAW,EAAA,KAAA;AACf,CAAA;;AC3CG,MAAM,aAAgB,GAAA;AAAA,EACzB,gBAAA;AAAA,EACA,YAAA;AAAA,EACA,qBAAA;AAAA,EACA,mBAAA;AAAA,EACA,WAAA;AAAA,EACA,UAAA;AAAA,EACA,gBAAA;AAAA,EACA,cAAA;AAAA,EACA,WAAA;AAAA,EACA,mBAAA;AAAA,EACA,eAAA;AAAA,EACA,qBAAA;AAAA,EACA,aAAA;AAAA,EACA,mBAAA;AACJ,EAAA;AAEO,MAAM,iBAAoB,GAAA;AAAA,EAC7B,aAAA;AAAA,EACA,WAAA;AAAA,EACA,UAAA;AAAA,EACA,SAAA;AAAA,EACA,QAAA;AAAA,EACA,YAAA;AAAA,EACA,cAAA;AAAA,EACA,YAAA;AAAA,EACA,cAAA;AAAA,EACA,gBAAA;AAAA,EACA,UAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAA;AAAA,EACA,aAAA;AACJ;;ACnCA,MAAM,mBAAsB,GAAA;AAAA,EACxB,GAAG,aAAA;AAAA,EACH,kBAAA;AAAA,EACA,eAAA;AAAA,EACA,cAAA;AAAA,EACA,eAAA;AAAA,EACA,oBAAA;AAAA,EACA,gBAAA;AAAA,EACA,oBAAA;AAAA,EACA,cAAA;AAAA,EACA,eAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAA;AAAA,EACA,iBAAA;AACJ,CAAA,CAAA;AACA,MAAM,iBAAA,GAAoB,CAAC,GAAG,iBAAiB,CAAA,CAAA;AAC/C,MAAM,oBAAuB,GAAA,CAAC,cAAgB,EAAA,aAAA,EAAe,iBAAiB,CAAA,CAAA;AAG9E,MAAMqE,YAAwD,EAAC,CAAA;AAC/D,MAAMC,gBAA0D,EAAC,CAAA;AACjE,MAAMC,uBAAqD,EAAC,CAAA;AAE5D,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,WAAA,EAAaF,SAAO,CAAA,CAAA;AAC/D,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,UAAA,EAAYC,aAAW,CAAA,CAAA;AAClE,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,iBAAA,EAAmBC,oBAAkB,CAAA,CAAA;AAGhF,UAAA,CAAW,IAAI,GAAG,mBAAA,EAAqB,GAAG,iBAAA,EAAmB,GAAG,oBAAoB,CAAA,CAAA;AAkB7E,MAAM,sBACD,gBAEZ,CAAA;AAAA,EAGI,WACA,GAAA;AACI,IAAA,MAAM,YAAe,GAAA;AAAA,MACjB,IAAM,EAAA,QAAA;AAAA,MACN,MAAM,YAAa,CAAA,KAAA;AAAA,eACnBF,SAAA;AAAA,mBACAC,aAAA;AAAA,0BACAC,oBAAA;AAAA,KACJ,CAAA;AAEA,IAAA,KAAA,CAAM,YAAY,CAAA,CAAA;AAAA,GACtB;AACJ;;;;;;;AC3EO,MAAM,eACb,CAAA;AAAA,EAcI,YAAY,QACZ,EAAA;AAJA,IAAQ,IAAA,CAAA,KAAA,mBAA6C,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAK5D,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AAAA,EAEO,YAAA,CAAa,SAAsB,EAAA,OAAA,EAAqB,UAC/D,EAAA;AACI,IAAA,SAAA,CAAU,SAAU,EAAA,CAAA;AAEpB,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,KAAA,CAAM,SAAU,CAAA,GAAG,KAAK,IAAK,CAAA,gBAAA,CAAiB,SAAW,EAAA,OAAA,EAAS,UAAU,CAAA,CAAA;AAEtG,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEQ,gBAAA,CAAiB,KAAkB,EAAA,OAAA,EAAqB,UAChE,EAAA;AAlDJ,IAAA,IAAA,EAAA,CAAA;AAmDQ,IAAM,MAAA,MAAA,GAAS,KAAK,IAAK,CAAA,MAAA,CAAA;AACzB,IAAM,MAAA,WAAA,GAAc,OAAQ,CAAA,MAAA,CAAO,UAAU,CAAA,CAAA;AAC7C,IAAA,MAAM,UAA+B,EAAC,CAAA;AAEtC,IAAA,KAAA,MAAW,KAAK,WAChB,EAAA;AACI,MAAM,MAAA,QAAA,GAAA,CAAyB,EAAM,GAAA,KAAA,CAAA,SAAA,CAAU,CAAC,CAAA,KAAjB,YAAsB,KAAM,CAAA,SAAA,CAAU,WAAY,CAAA,CAAC,CAAC,CAAA,CAAA;AACnF,MAAI,IAAA,WAAA,CAAA;AAGJ,MAAI,IAAA,QAAA,CAAS,iBAAiB,cAC9B,EAAA;AACI,QAAA,MAAM,YAAe,GAAA,QAAA,CAAA;AAErB,QAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,YAA4B,CAAA,CAAA;AAE5E,QAAA,MAAM,SAAS,YAAa,CAAA,MAAA,CAAA;AAE5B,QAAc,WAAA,GAAA;AAAA,UACV,MAAQ,EAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,aAAa,MAAM,CAAA;AAAA,UACjD,MAAQ,EAAA,CAAA;AAAA,UACR,IAAA,EAAM,OAAO,UAAW,CAAA,IAAA;AAAA,SAC5B,CAAA;AAAA,OACJ,MAAA,IACS,QAAS,CAAA,YAAA,KAAiB,QACnC,EAAA;AACI,QAAA,MAAM,MAAS,GAAA,QAAA,CAAA;AAEf,QAAc,WAAA,GAAA;AAAA,UACV,MAAQ,EAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,aAAa,MAAM,CAAA;AAAA,UACjD,MAAQ,EAAA,CAAA;AAAA,UACR,IAAA,EAAM,OAAO,UAAW,CAAA,IAAA;AAAA,SAC5B,CAAA;AAAA,OACJ,MAAA,IACS,QAAS,CAAA,YAAA,KAAiB,gBACnC,EAAA;AACI,QAAA,MAAM,cAAiB,GAAA,QAAA,CAAA;AAEvB,QAAc,WAAA,GAAA;AAAA,UACV,QAAQ,IAAK,CAAA,SAAA,CAAU,MAAO,CAAA,YAAA,CAAa,eAAe,MAAM,CAAA;AAAA,UAChE,QAAQ,cAAe,CAAA,MAAA;AAAA,UACvB,MAAM,cAAe,CAAA,IAAA;AAAA,SACzB,CAAA;AAAA,OACJ,MAAA,IACS,QAAS,CAAA,YAAA,KAAiB,gBACnC,EAAA;AACI,QAAA,MAAM,OAAU,GAAA,QAAA,CAAA;AAEhB,QAAA,WAAA,GAAc,IAAK,CAAA,SAAA,CAAU,OAAQ,CAAA,aAAA,CAAc,OAAO,CAAA,CAAA;AAAA,OAC9D,MAAA,IACS,QAAS,CAAA,YAAA,KAAiB,eACnC,EAAA;AACI,QAAA,MAAM,OAAU,GAAA,QAAA,CAAA;AAEhB,QAAc,WAAA,GAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,YAAA,CAAa,OAAO,CAAE,CAAA,UAAA,CAAW,EAErE,CAAA,CAAA;AAAA,OACL;AAEA,MAAA,OAAA,CAAQ,IAAK,CAAA;AAAA,QACT,OAAA,EAAS,YAAY,CAAC,CAAA;AAAA,QACtB,QAAU,EAAA,WAAA;AAAA,OACb,CAAA,CAAA;AAAA,KACL;AAEA,IAAM,MAAA,YAAA,GAAe,OAAO,eAAgB,CAAA;AAAA,MACxC,MAAQ,EAAA,OAAA,CAAQ,UAAW,CAAA,UAAA,CAAW,UAAU,CAAA;AAAA,MAChD,OAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,KAAA,CAAM,KAAM,CAAA,GAAG,CAAI,GAAA,YAAA,CAAA;AAExB,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,MAAW,GAAO,IAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,KAAK,CACxC,EAAA;AACI,MAAK,IAAA,CAAA,KAAA,CAAM,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KACtB;AAEA,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AA5Ha,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;ACfG,MAAM,YACb,CAAA;AAAA,EADO,WAAA,GAAA;AAWH,IAAQ,IAAA,CAAA,WAAA,mBAAmD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAAA,GAAA;AAAA,EAI5D,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AAAA,EAEO,aAAa,MACpB,EAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,IAAA,CAAK,gBAAgB,MAAM,CAAA,CAAA;AAAA,GACtE;AAAA,EAEO,aAAa,MACpB,EAAA;AACI,IAAM,MAAA,SAAA,GAAY,KAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,IAAA,CAAK,gBAAgB,MAAM,CAAA,CAAA;AAG7E,IAAI,IAAA,MAAA,CAAO,SAAa,IAAA,MAAA,CAAO,IAC/B,EAAA;AACI,MAAA,MAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AACnB,MAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,KAAA,CAAM,WAAY,CAAA,SAAA,EAAW,CAAG,EAAA,MAAA,CAAO,IAAK,CAAA,MAAA,EAAQ,CAAG,EAAA,MAAA,CAAO,WAAW,CAAA,CAAA;AAAA,KAC9F;AAEA,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,UACP,GAAA;AACI,IAAW,KAAA,MAAA,EAAA,IAAM,KAAK,WACtB,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,EAAE,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KACjC;AAEA,IAAA,IAAA,CAAK,cAAc,EAAC,CAAA;AAAA,GACxB;AAAA,EAEO,gBAAgB,MACvB,EAAA;AACI,IAAA,MAAM,YAAY,IAAK,CAAA,IAAA,CAAK,MAAO,CAAA,YAAA,CAAa,OAAO,UAAU,CAAA,CAAA;AAEjE,IAAA,MAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AAEnB,IAAA,IAAI,OAAO,IACX,EAAA;AAEI,MAAA,QAAA,CAAS,MAAO,CAAA,IAAA,CAAK,MAAQ,EAAA,SAAA,CAAU,gBAAgB,CAAA,CAAA;AAEvD,MAAA,SAAA,CAAU,KAAM,EAAA,CAAA;AAAA,KACpB;AAEA,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,SAAA,CAAA;AAE/B,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAC3C,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC7C,IAAA,MAAA,CAAO,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAE/C,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,IAAI,SAAY,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE3C,IAAA,SAAA,CAAU,OAAQ,EAAA,CAAA;AAClB,IAAY,SAAA,GAAA,IAAA,CAAK,gBAAgB,MAAM,CAAA,CAAA;AACvC,IAAA,MAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AAAA,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,gBAAgB,MAC1B,EAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE7C,IAAA,SAAA,CAAU,OAAQ,EAAA,CAAA;AAElB,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,GACnC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,MAAW,CAAK,IAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,WAAW,CAC5C,EAAA;AACI,MAAM,MAAA,GAAA,GAAM,OAAO,CAAC,CAAA,CAAA;AACpB,MAAM,MAAA,SAAA,GAAY,IAAK,CAAA,WAAA,CAAY,GAAG,CAAA,CAAA;AAEtC,MAAA,SAAA,CAAU,OAAQ,EAAA,CAAA;AAClB,MAAK,IAAA,CAAA,WAAA,CAAY,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AAEnB,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAAA,GAC1B;AACJ,CAAA;AAAA;AAhHa,YAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;ACXY,SAAA,aAAA,CAAc,QAAgB,QAC9C,EAAA;AACI,EAAM,MAAA,UAAA,GAAa,OAAO,UAAW,CAAA,IAAA,CAAA;AAErC,EAAM,MAAA,MAAA,GAAS,SAAS,GAAI,CAAA,MAAA,CAAA;AAE5B,EAAM,MAAA,aAAA,GAAgB,IAAI,MAAO,CAAA;AAAA,IAC7B,IAAA,EAAM,IAAI,YAAA,CAAa,IAAO,CAAA;AAAA,IAC9B,KAAA,EAAO,WAAY,CAAA,QAAA,GAAW,WAAY,CAAA,QAAA;AAAA,GAC7C,CAAA,CAAA;AAED,EAAA,MAAM,gBAAmB,GAAA,QAAA,CAAS,MAAO,CAAA,eAAA,CAAgB,aAAa,CAAA,CAAA;AAEtE,EAAM,MAAA,cAAA,GAAiB,OAAO,oBAAqB,EAAA,CAAA;AAEnD,EAAe,cAAA,CAAA,kBAAA;AAAA,IACX,QAAA,CAAS,MAAO,CAAA,YAAA,CAAa,MAAM,CAAA;AAAA,IACnC,CAAA;AAAA;AAAA,IACA,gBAAA;AAAA,IACA,CAAA;AAAA;AAAA,IACA,UAAA;AAAA,GACJ,CAAA;AAEA,EAAA,MAAA,CAAO,MAAM,MAAO,CAAA,CAAC,cAAe,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAE7C,EAAA,KAAK,gBAAiB,CAAA,QAAA;AAAA,IAClB,UAAW,CAAA,IAAA;AAAA,IACX,CAAA;AAAA;AAAA,IACA,UAAA;AAAA;AAAA,GACJ,CAAE,KAAK,MACP;AACI,IAAiB,gBAAA,CAAA,cAAA,CAAe,GAAG,UAAU,CAAA,CAAA;AAC7C,IAAA,gBAAA,CAAiB,KAAM,EAAA,CAAA;AAAA,GAC1B,CAAA,CAAA;AACL;;ACrCO,MAAM,kBACb,CAAA;AAAA,EAOI,WAAA,CAAY,EAAE,yBAAA,EACd,EAAA;AALA,IAAA,IAAA,CAAiB,0BAAqC,GAAA,GAAA,CAAA;AAEtD,IAAA,IAAA,CAAO,SAAY,GAAA,CAAA,CAAA;AAIf,IAAA,IAAA,CAAK,0BAA6B,GAAA,yBAAA,CAAA;AAClC,IAAK,IAAA,CAAA,IAAA,GAAO,IAAI,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,GACtC;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AAAA,GACrB;AAAA,EAEO,cAAc,IACrB,EAAA;AAEI,IAAI,IAAA,IAAA,GAAO,IAAK,CAAA,0BAAA,GAA6B,CAC7C,EAAA;AACI,MAAA,MAAM,IAAI,KAAA,CAAM,CAA2C,wCAAA,EAAA,IAAA,GAAO,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,KACzE;AAEA,IAAA,MAAM,QAAQ,IAAK,CAAA,SAAA,CAAA;AAEnB,IAAI,IAAA,OAAA,GAAU,QAAS,IAAO,GAAA,CAAA,CAAA;AAE9B,IAAA,OAAA,GAAU,KAAK,IAAK,CAAA,OAAA,GAAU,IAAK,CAAA,0BAA0B,IAAI,IAAK,CAAA,0BAAA,CAAA;AAEtE,IAAA,IAAI,OAAU,GAAA,IAAA,CAAK,IAAK,CAAA,MAAA,GAAS,CACjC,EAAA;AAEI,MAAM,MAAA,IAAI,MAAM,2CAA2C,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,IAAA,CAAK,SAAY,GAAA,OAAA,CAAA;AAEjB,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEO,SAAS,KAChB,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,aAAc,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;AAE9C,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,CAAM,QAAQ,CAClC,EAAA,EAAA;AACI,MAAA,IAAA,CAAK,KAAM,MAAS,GAAA,CAAA,GAAK,CAAC,CAAA,GAAI,MAAM,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,QAAQ,OAAQ,EAAA,CAAA;AACrB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAEf,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AACJ;;AC3DO,MAAM,kBACb,CAAA;AAAA,EAaI,YAAY,QACZ,EAAA;AAHA,IAAA,IAAA,CAAQ,eAAkB,GAAA,EAAA,CAAA;AAItB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,QAAQ,SACf,EAAA;AACI,IAAA,IAAI,KAAK,eAAoB,KAAA,SAAA;AAAW,MAAA,OAAA;AACxC,IAAA,IAAA,CAAK,eAAkB,GAAA,SAAA,CAAA;AAEvB,IAAK,IAAA,CAAA,SAAA,CAAU,QAAS,CAAA,YAAA,CAAa,SAAS,CAAA,CAAA;AAAA,GAClD;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AAAA,GAC3B;AACJ,CAAA;AAAA;AAlCa,kBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;ACCG,MAAM,eACb,CAAA;AAAA;AAAA;AAAA;AAAA,EAiBI,YAAY,QACZ,EAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEA,MAAa,IACb,GAAA;AACI,IAAA,IAAI,IAAK,CAAA,YAAA;AAAc,MAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAEnC,IAAK,IAAA,CAAA,YAAA,GAAe,KAAK,uBAAwB,CAAA,EAAE,CAC9C,CAAA,IAAA,CAAK,CAAC,GACP,KAAA;AACI,MAAA,IAAA,CAAK,GAAM,GAAA,GAAA,CAAA;AAEX,MAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,aAAc,CAAA,IAAA,CAAK,KAAK,GAAG,CAAA,CAAA;AAAA,KACrD,CAAA,CAAA;AAEL,IAAA,OAAO,IAAK,CAAA,YAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,GAAM,GAAA,GAAA,CAAA;AAAA,GACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAc,wBAAwB,OACtC,EAAA;AAEI,IAAA,MAAM,OAAU,GAAA,MAAM,SAAU,CAAA,GAAA,CAAI,eAAe,OAAO,CAAA,CAAA;AAE1D,IAAM,MAAA,MAAA,GAAS,MAAM,OAAA,CAAQ,aAAc,EAAA,CAAA;AAE3C,IAAO,OAAA,EAAE,SAAS,MAAO,EAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAA;AACX,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AArEa,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;;;;;;;;;;;;;;;;;ACLG,MAAM,gBACb,CAAA;AAAA,EAqBI,YAAY,QACZ,EAAA;AARA,IAAQ,IAAA,CAAA,eAAA,mBAAoD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACvE,IAAQ,IAAA,CAAA,kBAAA,mBAAoD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAQnE,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,KACP,GAAA;AACI,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAI,OAAQ,CAAA,CAAC,OACpC,KAAA;AACI,MAAA,IAAA,CAAK,uBAA0B,GAAA,OAAA,CAAA;AAAA,KAClC,CAAA,CAAA;AAID,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,OAAO,oBAAqB,EAAA,CAAA;AAAA,GACzE;AAAA,EAEO,eAAA,CAAgB,cAA4B,eACnD,EAAA;AAGI,IAAA,IAAI,KAAK,iBACT,EAAA;AACI,MAAA,IAAA,CAAK,kBAAkB,GAAI,EAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAK,cAAe,CAAA,eAAA,CAAgB,gBAAgB,UAAU,CAAA,CAAA;AAEvF,IAAK,IAAA,CAAA,YAAA,CAAa,aAAa,QAAQ,CAAA,CAAA;AAAA,GAC3C;AAAA,EAEQ,aAAa,QACrB,EAAA;AACI,IAAK,IAAA,CAAA,iBAAA,CAAkB,WAAY,CAAA,QAAA,CAAS,CAAG,EAAA,QAAA,CAAS,CAAG,EAAA,QAAA,CAAS,KAAO,EAAA,QAAA,CAAS,MAAQ,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GACpG;AAAA,EAEO,sCACH,CAAA,QAAA,EACA,OACA,EAAA,KAAA,EACA,QAEJ,EAAA;AACI,IAAM,MAAA,QAAA,GAAW,KAAK,SAAU,CAAA,QAAA,CAAS,YAAY,QAAU,EAAA,OAAA,EAAS,OAAO,QAAQ,CAAA,CAAA;AAEvF,IAAA,IAAA,CAAK,YAAY,QAAQ,CAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,YAAY,QACnB,EAAA;AACI,IAAA,IAAI,KAAK,cAAmB,KAAA,QAAA;AAAU,MAAA,OAAA;AACtC,IAAA,IAAA,CAAK,cAAiB,GAAA,QAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,iBAAA,CAAkB,YAAY,QAAQ,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEQ,gBAAA,CAAiB,OAAe,MACxC,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,kBAAmB,CAAA,KAAK,CAAM,KAAA,MAAA;AAAQ,MAAA,OAAA;AAE/C,IAAK,IAAA,CAAA,kBAAA,CAAmB,KAAK,CAAI,GAAA,MAAA,CAAA;AAEjC,IAAK,IAAA,CAAA,iBAAA,CAAkB,gBAAgB,KAAO,EAAA,IAAA,CAAK,UAAU,MAAO,CAAA,YAAA,CAAa,MAAM,CAAC,CAAA,CAAA;AAAA,GAC5F;AAAA,EAEQ,gBAAgB,MACxB,EAAA;AACI,IAAA,IAAI,KAAK,iBAAsB,KAAA,MAAA;AAAQ,MAAA,OAAA;AAEvC,IAAA,IAAA,CAAK,iBAAoB,GAAA,MAAA,CAAA;AAEzB,IAAK,IAAA,CAAA,iBAAA,CAAkB,eAAe,IAAK,CAAA,SAAA,CAAU,OAAO,YAAa,CAAA,MAAM,GAAG,QAAQ,CAAA,CAAA;AAAA,GAC9F;AAAA,EAEO,YAAA,CAAa,KAAe,EAAA,SAAA,EAAsB,OACzD,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,eAAgB,CAAA,KAAK,CAAM,KAAA,SAAA;AAAW,MAAA,OAAA;AAC/C,IAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,CAAI,GAAA,SAAA,CAAA;AAE9B,IAAA,SAAA,CAAU,KAAM,CAAA,IAAA,CAAK,SAAU,CAAA,SAAA,CAAU,KAAK,CAAA,CAAA;AAI9C,IAAA,MAAM,eAAe,IAAK,CAAA,SAAA,CAAU,UAAU,YAAa,CAAA,SAAA,EAAW,SAAS,KAAK,CAAA,CAAA;AAGpF,IAAK,IAAA,CAAA,iBAAA,CAAkB,YAAa,CAAA,KAAA,EAAO,YAAY,CAAA,CAAA;AAAA,GAC3D;AAAA,EAEO,YAAY,QACnB,EAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,SAAS,UACzB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,QAAS,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAEvC,MAAA,IAAA,CAAK,gBAAiB,CAAA,SAAA,CAAU,cAAgB,EAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAAA,KACpE;AAEA,IAAA,IAAI,SAAS,WACb,EAAA;AACI,MAAK,IAAA,CAAA,eAAA,CAAgB,SAAS,WAAW,CAAA,CAAA;AAAA,KAC7C;AAAA,GACJ;AAAA,EAEQ,oBAAA,CAAqB,QAAgB,QAC7C,EAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,OAAO,MACvB,EAAA;AACI,MAAM,MAAA,SAAA,GAAY,MAAO,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAGjC,MAAA,IAAI,CAAC,QACL,EAAA;AACI,QAAA,IAAA,CAAK,eAAe,SAAS,CAAA,CAAA;AAAA,OACjC;AAEA,MAAA,IAAA,CAAK,YAAa,CAAA,CAAA,EAAwB,SAAW,EAAA,MAAA,CAAO,UAAU,CAAA,CAAA;AAAA,KAC1E;AAAA,GACJ;AAAA,EAEQ,eAAe,SACvB,EAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,UAAU,SAC1B,EAAA;AACI,MAAM,MAAA,QAAA,GAAW,SAAU,CAAA,SAAA,CAAU,CAAC,CAAA,CAAA;AAEtC,MAAA,IAAK,SAA0B,cAC/B,EAAA;AACI,QAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,QAAwB,CAAA,CAAA;AAAA,OAC5E;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,KAAK,OAUZ,EAAA;AACI,IAAM,MAAA,EAAE,UAAU,MAAQ,EAAA,KAAA,EAAO,UAAU,IAAM,EAAA,KAAA,EAAO,aAAe,EAAA,QAAA,EAAa,GAAA,OAAA,CAAA;AAEpF,IAAA,IAAA,CAAK,sCAAuC,CAAA,QAAA,EAAU,MAAO,CAAA,UAAA,EAAY,OAAO,QAAQ,CAAA,CAAA;AACxF,IAAA,IAAA,CAAK,YAAY,QAAQ,CAAA,CAAA;AACzB,IAAK,IAAA,CAAA,oBAAA,CAAqB,QAAQ,QAAQ,CAAA,CAAA;AAE1C,IAAA,IAAI,SAAS,WACb,EAAA;AACI,MAAK,IAAA,CAAA,iBAAA,CAAkB,WAAY,CAAA,IAAA,IAAQ,QAAS,CAAA,WAAA,CAAY,KAAK,MAAQ,EAAA,aAAA,IAAiB,CAAG,EAAA,KAAA,IAAS,CAAC,CAAA,CAAA;AAAA,KAG/G,MAAA;AACI,MAAK,IAAA,CAAA,iBAAA,CAAkB,KAAK,IAAQ,IAAA,QAAA,CAAS,SAAW,EAAA,aAAA,IAAiB,CAAG,EAAA,KAAA,IAAS,CAAC,CAAA,CAAA;AAAA,KAC1F;AAAA,GACJ;AAAA,EAEO,gBACP,GAAA;AACI,IAAA,IAAI,KAAK,iBACT,EAAA;AACI,MAAA,IAAA,CAAK,kBAAkB,GAAI,EAAA,CAAA;AAC3B,MAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AAAA,KAC7B;AAAA,GACJ;AAAA,EAEO,UACP,GAAA;AACI,IAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,IAAA,CAAK,OAAO,KAAM,CAAA,MAAA,CAAO,CAAC,IAAK,CAAA,cAAA,CAAe,MAAO,EAAC,CAAC,CAAA,CAAA;AAE5D,IAAA,IAAA,CAAK,uBAAwB,EAAA,CAAA;AAAA,GACjC;AAAA;AAAA;AAAA;AAAA,EAKO,iBACP,GAAA;AACI,IAAM,MAAA,UAAA,GAAa,IAAK,CAAA,SAAA,CAAU,YAAa,CAAA,aAAA;AAAA,MAC3C,IAAA,CAAK,UAAU,YAAa,CAAA,YAAA;AAAA,MAC5B,KAAA;AAAA,MACA,CAAC,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA;AAAA,KACf,CAAA;AAEA,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAK,cAAe,CAAA,eAAA,CAAgB,UAAU,CAAA,CAAA;AAEvE,IAAA,MAAM,gBAAgB,IAAK,CAAA,cAAA,CAAA;AAC3B,IAAM,MAAA,iBAAA,GAAoBvE,qBAAK,IAAK,CAAA,kBAAA,CAAA,CAAA;AACpC,IAAA,MAAM,mBAAmB,IAAK,CAAA,iBAAA,CAAA;AAC9B,IAAM,MAAA,cAAA,GAAiBA,qBAAK,IAAK,CAAA,eAAA,CAAA,CAAA;AAEjC,IAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AAEjB,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,SAAU,CAAA,YAAA,CAAa,YAAa,CAAA,QAAA,CAAA;AAE1D,IAAK,IAAA,CAAA,iBAAA,CAAkB,WAAY,CAAA,QAAA,CAAS,CAAG,EAAA,QAAA,CAAS,CAAG,EAAA,QAAA,CAAS,KAAO,EAAA,QAAA,CAAS,MAAQ,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAIhG,IAAA,IAAA,CAAK,YAAY,aAAa,CAAA,CAAA;AAE9B,IAAA,KAAA,MAAW,KAAK,iBAChB,EAAA;AACI,MAAA,IAAA,CAAK,gBAAiB,CAAA,CAAA,EAAwB,iBAAkB,CAAA,CAAC,CAAC,CAAA,CAAA;AAAA,KACtE;AAEA,IAAA,KAAA,MAAW,KAAK,cAChB,EAAA;AACI,MAAA,IAAA,CAAK,YAAa,CAAA,CAAA,EAAwB,cAAe,CAAA,CAAC,GAAG,IAAI,CAAA,CAAA;AAAA,KACrE;AAEA,IAAA,IAAA,CAAK,gBAAgB,gBAAgB,CAAA,CAAA;AAAA,GACzC;AAAA,EAEQ,WACR,GAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,EAAA,EAAI,CACxB,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,eAAA,CAAgB,CAAC,CAAI,GAAA,IAAA,CAAA;AAC1B,MAAK,IAAA,CAAA,kBAAA,CAAmB,CAAC,CAAI,GAAA,IAAA,CAAA;AAAA,KACjC;AAEA,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AACzB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAAA,GAC1B;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;AACvB,IAAA,IAAA,CAAK,kBAAqB,GAAA,IAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,iBAAoB,GAAA,IAAA,CAAA;AACzB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAAA,GAC1B;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AACJ,CAAA;AAAA;AA/Qa,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAA,EAAM,CAAC,aAAA,CAAc,YAAY,CAAA;AAAA,EACjC,IAAM,EAAA,SAAA;AACV,CAAA;;AChBG,MAAM,gBACb,CAAA;AAAA,EAkBI,YAAY,QACZ,EAAA;AARA,IAAQ,IAAA,CAAA,yBAAA,mBAGI,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAMnB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAS,QAAA,CAAA,YAAA,CAAa,oBAAqB,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;AAAA,GACvD;AAAA,EAEU,qBAAqB,YAC/B,EAAA;AACI,IAAA,IAAI,YAAe,GAAA,IAAA,CAAK,yBAA0B,CAAA,YAAA,CAAa,GAAG,CAAA,CAAA;AAElE,IAAA,IAAI,CAAC,YACL,EAAA;AACI,MAAA,YAAA,GAAe,IAAK,CAAA,yBAAA,CAA0B,YAAa,CAAA,GAAG,CAAI,GAAA;AAAA,QAC9D,aAAa,aAAc,CAAA,QAAA;AAAA,QAC3B,gBAAkB,EAAA,CAAA;AAAA,OACtB,CAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,mBAAsB,GAAA,YAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,cAAe,CAAA,YAAA,CAAa,WAAa,EAAA,YAAA,CAAa,gBAAgB,CAAA,CAAA;AAAA,GAC/E;AAAA,EAEO,cAAA,CAAe,aAA4B,gBAClD,EAAA;AACI,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,yBAA0B,CAAA,IAAA,CAAK,oBAAoB,GAAG,CAAA,CAAA;AAEhF,IAAA,YAAA,CAAa,WAAc,GAAA,WAAA,CAAA;AAC3B,IAAA,YAAA,CAAa,gBAAmB,GAAA,gBAAA,CAAA;AAEhC,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,QAAA,CAAS,eAAe,WAAW,CAAA,CAAA;AAC5C,IAAS,QAAA,CAAA,OAAA,CAAQ,iBAAkB,CAAA,mBAAA,CAAoB,gBAAgB,CAAA,CAAA;AAAA,GAC3E;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAU,CAAA,YAAA,CAAa,oBAAqB,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAE5D,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,mBAAsB,GAAA,IAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,yBAA4B,GAAA,IAAA,CAAA;AAAA,GACrC;AACJ,CAAA;AAAA;AAnEa,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA;;ACNJ,MAAM,yBAA4B,GAAA,GAAA,CAAA;AAI3B,MAAM,mBACb,CAAA;AAAA,EAoBI,YAAY,QACZ,EAAA;AAVA,IAAQ,IAAA,CAAA,cAAA,mBAAmD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAItE;AAAA,IAAA,IAAA,CAAQ,WAAqB,EAAC,CAAA;AAE9B,IAAA,IAAA,CAAQ,cAA2B,EAAC,CAAA;AACpC,IAAA,IAAA,CAAQ,mBAAqC,EAAC,CAAA;AAI1C,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAEjB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAI,kBAAmB,CAAA,EAAE,2BAA2B,CAAA,CAAA;AAExE,IAAA,MAAM,eAAgB,GAAM,GAAA,yBAAA,CAAA;AAE5B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,EAAc,CAClC,EAAA,EAAA;AACI,MAAI,IAAA,KAAA,GAAQ,WAAY,CAAA,OAAA,GAAU,WAAY,CAAA,QAAA,CAAA;AAE9C,MAAA,IAAI,CAAM,KAAA,CAAA;AAAG,QAAA,KAAA,IAAS,WAAY,CAAA,QAAA,CAAA;AAElC,MAAK,IAAA,CAAA,QAAA,CAAS,IAAK,CAAA,IAAI,MAAO,CAAA;AAAA,QAC1B,IAAA,EAAM,KAAK,YAAa,CAAA,IAAA;AAAA,QACxB,KAAA;AAAA,OACH,CAAC,CAAA,CAAA;AAAA,KACN;AAAA,GACJ;AAAA,EAEO,SACP,GAAA;AACI,IAAA,IAAA,CAAK,iBAAkB,EAAA,CAAA;AACvB,IAAA,IAAA,CAAK,gBAAiB,EAAA,CAAA;AAAA,GAC1B;AAAA,EAEQ,gBACR,GAAA;AACI,IAAW,KAAA,MAAA,CAAA,IAAK,KAAK,cACrB,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,CAAC,CAAI,GAAA,IAAA,CAAA;AAAA,KAC7B;AAEA,IAAA,IAAA,CAAK,aAAa,KAAM,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGO,mBAAA,CAAoB,OAA0B,SACrD,EAAA;AACI,IAAA,IAAI,CAAC,SAAa,IAAA,IAAA,CAAK,cAAe,CAAA,KAAA,CAAM,GAAG,CAC/C,EAAA;AACI,MAAO,OAAA,IAAA,CAAK,cAAe,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAAA,KACxC;AAEA,IAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAErD,IAAM,MAAA,IAAA,GAAO,MAAM,MAAO,CAAA,IAAA,CAAA;AAE1B,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,YAAa,CAAA,aAAA,CAAc,KAAK,MAAM,CAAA,CAAA;AAE1D,IAAK,IAAA,CAAA,SAAA,CAAU,cAAc,gBAAiB,CAAA,KAAA,EAAO,KAAK,YAAa,CAAA,IAAA,EAAM,SAAS,CAAC,CAAA,CAAA;AAEvF,IAAA,IAAA,CAAK,eAAe,KAAM,CAAA,GAAG,IAAI,IAAK,CAAA,aAAA,CAAc,SAAS,yBAAyB,CAAA,CAAA;AAEtF,IAAO,OAAA,IAAA,CAAK,cAAe,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAAA,GACxC;AAAA,EAEO,yBAAyB,KAChC,EAAA;AACI,IAAK,IAAA,CAAA,SAAA,CAAU,aAAc,CAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAErD,IAAM,MAAA,IAAA,GAAO,MAAM,MAAO,CAAA,IAAA,CAAA;AAE1B,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,YAAa,CAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AAE9C,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,GAAS,yBAAyB,CAAA,CAAA;AAAA,GACrE;AAAA,EAEO,kBAAkB,IACzB,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,YAAa,CAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AAE9C,IAAO,OAAA,IAAA,CAAK,aAAc,CAAA,MAAA,GAAS,yBAAyB,CAAA,CAAA;AAAA,GAChE;AAAA,EAEO,uBAAuB,IAC9B,EAAA;AACI,IAAA,MAAM,MAAS,GAAA,IAAA,CAAK,YAAa,CAAA,QAAA,CAAS,IAAI,CAAA,CAAA;AAE9C,IAAA,MAAM,QAAQ,MAAS,GAAA,yBAAA,CAAA;AAEvB,IAAO,OAAA,IAAA,CAAK,mBAAmB,KAAK,CAAA,CAAA;AAAA,GACxC;AAAA,EAEQ,mBAAmB,KAC3B,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,gBAAiB,CAAA,KAAK,CAChC,EAAA;AACI,MAAA,MAAM,MAAS,GAAA,IAAA,CAAK,QAAS,CAAA,KAAA,GAAQ,CAAC,CAAA,CAAA;AAEtC,MAAA,IAAA,CAAK,gBAAiB,CAAA,KAAK,CAAI,GAAA,IAAI,cAAe,CAAA;AAAA,QAC9C,MAAA;AAAA,QACA,MAAA,EAAA,CAAU,KAAQ,GAAA,CAAA,GAAK,CAAK,IAAA,GAAA;AAAA,QAC5B,IAAM,EAAA,yBAAA;AAAA,OACT,CAAA,CAAA;AAAA,KACL;AAEA,IAAO,OAAA,IAAA,CAAK,iBAAiB,KAAK,CAAA,CAAA;AAAA,GACtC;AAAA,EAEQ,cAAc,KACtB,EAAA;AACI,IAAA,IAAI,CAAC,IAAA,CAAK,WAAY,CAAA,KAAK,CAC3B,EAAA;AAEI,MAAM,MAAA,SAAA,GAAY,IAAI,SAAU,CAAA;AAAA,QAC5B,CAAA,EAAG,IAAK,CAAA,kBAAA,CAAmB,KAAK,CAAA;AAAA,OACnC,CAAA,CAAA;AAED,MAAK,IAAA,CAAA,WAAA,CAAY,KAAK,CAAI,GAAA,SAAA,CAAA;AAAA,KAC9B;AAEA,IAAO,OAAA,IAAA,CAAK,YAAY,KAAK,CAAA,CAAA;AAAA,GACjC;AAAA,EAEQ,iBACR,GAAA;AACI,IAAM,MAAA,YAAA,GAAe,KAAK,SAAU,CAAA,MAAA,CAAA;AAEpC,IAAM,MAAA,WAAA,GAAc,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAEnC,IAAY,WAAA,CAAA,MAAA,CAAO,IAAK,CAAA,YAAA,CAAa,SAAS,CAAA,CAAA;AAE9C,IAAA,YAAA,CAAa,aAAa,WAAW,CAAA,CAAA;AAErC,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,SAAU,CAAA,GAAA,CAAI,OAAO,oBAAqB,EAAA,CAAA;AAEtE,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,QAAA,CAAS,QAAQ,CAC1C,EAAA,EAAA;AACI,MAAM,MAAA,MAAA,GAAS,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAE9B,MAAe,cAAA,CAAA,kBAAA;AAAA,QACX,YAAA,CAAa,aAAa,WAAW,CAAA;AAAA,QACrC,yBAAA;AAAA,QACA,YAAA,CAAa,aAAa,MAAM,CAAA;AAAA,QAChC,CAAA;AAAA,QACA,KAAK,YAAa,CAAA,SAAA;AAAA,OACtB,CAAA;AAAA,KACJ;AAGA,IAAK,IAAA,CAAA,SAAA,CAAU,IAAI,MAAO,CAAA,KAAA,CAAM,OAAO,CAAC,cAAA,CAAe,MAAO,EAAC,CAAC,CAAA,CAAA;AAAA,GACpE;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,WAAA,CAAY,QAAQ,CAC7C,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAChC;AAEA,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAEtB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,QAAA,CAAS,QAAQ,CAC1C,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC7B;AACA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAEhB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,gBAAA,CAAiB,QAAQ,CAClD,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,gBAAA,CAAiB,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KACrC;AAEA,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AAExB,IAAA,IAAA,CAAK,aAAa,OAAQ,EAAA,CAAA;AAC1B,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AAAA,GACrB;AACJ,CAAA;AAAA;AAlMa,mBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,cAAA;AACV,CAAA;;ACZJ,MAAM,yBAAyB,SAC/B,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAM,KAAA,CAAA;AAAA,MACF,CAAA,EAAG,IAAI,MAAO,CAAA;AAAA,QACV,IAAA,EAAM,IAAI,YAAA,CAAa,GAAG,CAAA;AAAA,QAC1B,KAAA,EAAO,WAAY,CAAA,OAAA,GAAU,WAAY,CAAA,QAAA;AAAA,OAC5C,CAAA;AAAA,KACJ,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA;AAAA,GAC3B;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAQ,OAAA,IAAA,CAAK,SAAU,CAAA,CAAC,CAAa,CAAA,IAAA,CAAA;AAAA,GACzC;AACJ,CAAA;AAEO,MAAM,oBACb,CAAA;AAAA,EAaI,YAAY,QACZ,EAAA;AALA,IAAA,IAAA,CAAQ,oBAAiC,EAAC,CAAA;AAC1C,IAAA,IAAA,CAAQ,qBAAwB,GAAA,CAAA,CAAA;AAK5B,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,oBAAoB,YAC3B,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAS,QAAA,CAAA,aAAA,CAAc,mBAAmB,YAAY,CAAA,CAAA;AAEtD,IAAM,MAAA,SAAA,GAAY,OAAQ,CAAA,GAAA,CAAI,gBAAgB,CAAA,CAAA;AAE9C,IAAA,QAAA,CAAS,aAAc,CAAA,gBAAA,CAAiB,YAAc,EAAA,SAAA,CAAU,MAAM,CAAC,CAAA,CAAA;AAEvE,IAAA,SAAA,CAAU,MAAO,CAAA,MAAA,CAAO,YAAa,CAAA,MAAA,CAAO,KAAK,UAAU,CAAA,CAAA;AAE3D,IAAK,IAAA,CAAA,iBAAA,CAAkB,IAAK,CAAA,qBAAA,EAAuB,CAAI,GAAA,SAAA,CAAA;AAEvD,IAAO,OAAA,SAAA,CAAA;AAAA,GACX;AAAA,EAEO,SACP,GAAA;AACI,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,IAAA,CAAK,uBAAuB,CAChD,EAAA,EAAA;AACI,MAAA,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,iBAAkB,CAAA,CAAC,CAAa,CAAA,CAAA;AAAA,KACxD;AAEA,IAAA,IAAA,CAAK,qBAAwB,GAAA,CAAA,CAAA;AAAA,GACjC;AACJ,CAAA;AAAA;AA7Ca,oBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,eAAA;AACV,CAAA;;AC3BJ,MAAM,kBAAqB,GAAA;AAAA,EACvB,YAAc,EAAA,CAAA;AAAA,EACd,WAAa,EAAA,CAAA;AAAA,EACb,YAAc,EAAA,CAAA;AAAA,EACd,eAAiB,EAAA,CAAA;AAAA,EACjB,gBAAkB,EAAA,CAAA;AACtB,CAAA,CAAA;AAeA,SAAS,MAAA,CACL,YACA,SACA,EAAA,OAAA,EACA,aACA,cACA,EAAA,gBAAA,EACA,WACA,QAEJ,EAAA;AACI,EAAA,OACK,UAAc,IAAA,EAAA,GACZ,SAAa,IAAA,EAAA,GACb,SAAa,IAAA,EAAA,GACb,OAAW,IAAA,CAAA,GACX,WAAe,IAAA,CAAA,GACf,QAAY,IAAA,CAAA,GACZ,kBAAkB,CACnB,GAAA,gBAAA,CAAA;AAEV,CAAA;AACO,MAAM,cACb,CAAA;AAAA,EAsBI,YAAY,QACZ,EAAA;AAbA,IAAQ,IAAA,CAAA,YAAA,mBAAuD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAC1E,IAAQ,IAAA,CAAA,mBAAA,mBAAsE,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAEzF,IAAQ,IAAA,CAAA,UAAA,mBAAuD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAM1E,IAAA,IAAA,CAAQ,UAAa,GAAA,EAAA,CAAA;AACrB,IAAA,IAAA,CAAQ,iBAAoB,GAAA,CAAA,CAAA;AAIxB,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AACZ,IAAK,IAAA,CAAA,cAAA,CAAe,cAAc,QAAQ,CAAA,CAAA;AAAA,GAC9C;AAAA,EAEO,oBAAoB,gBAC3B,EAAA;AACI,IAAA,IAAA,CAAK,iBAAoB,GAAA,gBAAA,CAAA;AAAA,GAC7B;AAAA,EAEO,aAAa,SACpB,EAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,SAAA,CAAA;AAAA,GACtB;AAAA,EAEO,eAAe,WACtB,EAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,WAAA,CAAA;AACpB,IAAK,IAAA,CAAA,aAAA,GAAgB,sBAAsB,WAAW,CAAA,CAAA;AAAA,GAC1D;AAAA,EAEO,WAAY,CAAA,QAAA,EAAoB,OAAqB,EAAA,KAAA,EAAc,WAC1E,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,WAAY,CAAA,QAAA,EAAU,SAAS,KAAK,CAAA,CAAA;AAE1D,IAAA,WAAA,CAAY,YAAY,QAAQ,CAAA,CAAA;AAAA,GACpC;AAAA,EAEO,WACH,CAAA,QAAA,EACA,OACA,EAAA,KAAA,EACA,QAEJ,EAAA;AACI,IAAI,IAAA,CAAC,SAAS,UACd,EAAA;AAEI,MAAA,IAAA,CAAK,mBAAmB,QAAQ,CAAA,CAAA;AAAA,KACpC;AAEA,IAAI,IAAA,CAAC,QAAQ,UACb,EAAA;AAEI,MAAA,IAAA,CAAK,oBAAoB,OAAO,CAAA,CAAA;AAChC,MAAK,IAAA,CAAA,SAAA,CAAU,MAAO,CAAA,mBAAA,CAAoB,OAAO,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,QAAA,GAAW,YAAY,QAAS,CAAA,QAAA,CAAA;AAIhC,IAAA,MAAM,GAAM,GAAA,MAAA;AAAA,MACR,QAAS,CAAA,UAAA;AAAA,MACT,OAAQ,CAAA,UAAA;AAAA,MACR,KAAM,CAAA,IAAA;AAAA,MACN,KAAM,CAAA,YAAA;AAAA,MACN,IAAK,CAAA,YAAA;AAAA,MACL,IAAK,CAAA,iBAAA;AAAA,MACL,IAAK,CAAA,UAAA;AAAA,MACL,mBAAmB,QAAQ,CAAA;AAAA,KAC/B,CAAA;AAEA,IAAI,IAAA,IAAA,CAAK,WAAW,GAAG,CAAA;AAAG,MAAO,OAAA,IAAA,CAAK,WAAW,GAAG,CAAA,CAAA;AAEpD,IAAK,IAAA,CAAA,UAAA,CAAW,GAAG,CAAI,GAAA,IAAA,CAAK,gBAAgB,QAAU,EAAA,OAAA,EAAS,OAAO,QAAQ,CAAA,CAAA;AAE9E,IAAO,OAAA,IAAA,CAAK,WAAW,GAAG,CAAA,CAAA;AAAA,GAC9B;AAAA,EAEQ,eAAgB,CAAA,QAAA,EAAoB,OAAqB,EAAA,KAAA,EAAc,QAC/E,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,KAAK,IAAK,CAAA,MAAA,CAAA;AAEzB,IAAM,MAAA,OAAA,GAAU,IAAK,CAAA,0BAAA,CAA2B,QAAQ,CAAA,CAAA;AAExD,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,SAAU,CAAA,KAAA,CAAM,gBAAgB,KAAK,CAAA,CAAA;AAE7D,IAAA,IAAI,eAAe,IAAK,CAAA,aAAA,CAAA;AAGxB,IAAe,YAAA,GAAA,qBAAA,CAAsB,KAAK,YAAY,CAAA,CAAA;AAEtD,IAAW,UAAA,CAAA,CAAC,EAAE,SAAY,GAAA,IAAA,CAAK,iBAAiB,aAAc,CAAA,kBAAA,GAAqB,IAAI,IAAK,CAAA,UAAA,CAAA;AAE5F,IAAA,MAAM,UAA0C,GAAA;AAAA;AAAA;AAAA,MAG5C,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,IAAA,CAAK,UAAW,CAAA,OAAA,CAAQ,OAAO,MAAM,CAAA;AAAA,QAC7C,UAAA,EAAY,QAAQ,MAAO,CAAA,UAAA;AAAA;AAAA,QAE3B,OAAA;AAAA,OACJ;AAAA,MACA,QAAU,EAAA;AAAA,QACN,MAAQ,EAAA,IAAA,CAAK,UAAW,CAAA,OAAA,CAAQ,SAAS,MAAM,CAAA;AAAA,QAC/C,UAAA,EAAY,QAAQ,QAAS,CAAA,UAAA;AAAA,QAC7B,OAAS,EAAA,UAAA;AAAA,OACb;AAAA,MACA,SAAW,EAAA;AAAA,QACP,QAAA;AAAA,QACA,UAAU,KAAM,CAAA,QAAA;AAAA,OACpB;AAAA,MACA,MAAA,EAAQ,QAAQ,UAAW,CAAA,QAAA;AAAA,MAC3B,WAAa,EAAA;AAAA,QACT,OAAO,IAAK,CAAA,iBAAA;AAAA,OAChB;AAAA,MACA,YAAA;AAAA,MACA,KAAO,EAAA,CAAA,aAAA,CAAA;AAAA,KACX,CAAA;AAEA,IAAM,MAAA,QAAA,GAAW,MAAO,CAAA,oBAAA,CAAqB,UAAU,CAAA,CAAA;AAEvD,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA,EAEQ,WAAW,IACnB,EAAA;AACI,IAAA,OAAO,KAAK,YAAa,CAAA,IAAI,CAAK,IAAA,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA;AAAA,GAC7D;AAAA,EAEQ,cAAc,IACtB,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,KAAK,IAAK,CAAA,MAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,YAAa,CAAA,IAAI,CAAI,GAAA,MAAA,CAAO,kBAAmB,CAAA;AAAA,MAChD,IAAA;AAAA,KACH,CAAA,CAAA;AAED,IAAO,OAAA,IAAA,CAAK,aAAa,IAAI,CAAA,CAAA;AAAA,GACjC;AAAA,EAEQ,oBAAoB,OAC5B,EAAA;AACI,IAAM,MAAA,EAAE,MAAQ,EAAA,QAAA,EAAa,GAAA,OAAA,CAAA;AAE7B,IAAA,MAAM,SAAS,MAAO,CAAA,MAAA,GAAS,SAAS,MAAS,GAAA,MAAA,CAAO,aAAa,QAAS,CAAA,UAAA,CAAA;AAE9E,IAAQ,OAAA,CAAA,UAAA,GAAa,kBAAmB,CAAA,MAAA,EAAQ,SAAS,CAAA,CAAA;AAEzD,IAAA,OAAO,OAAQ,CAAA,UAAA,CAAA;AAAA,GACnB;AAAA,EAEQ,mBAAmB,QAC3B,EAAA;AACI,IAAA,MAAM,SAAS,EAAC,CAAA;AAChB,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AAGZ,IAAA,MAAM,gBAAgB,MAAO,CAAA,IAAA,CAAK,QAAS,CAAA,UAAU,EAAE,IAAK,EAAA,CAAA;AAE5D,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,aAAA,CAAc,QAAQ,CAC1C,EAAA,EAAA;AACI,MAAA,MAAM,SAAY,GAAA,QAAA,CAAS,UAAW,CAAA,aAAA,CAAc,CAAC,CAAC,CAAA,CAAA;AAEtD,MAAO,MAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,cAAA,CAAA;AAC5B,MAAO,MAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,MAAA,CAAA;AAC5B,MAAO,MAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,MAAA,CAAA;AAC5B,MAAO,MAAA,CAAA,KAAA,EAAO,IAAI,SAAU,CAAA,MAAA,CAAA;AAAA,KAChC;AAEA,IAAM,MAAA,SAAA,GAAY,MAAO,CAAA,IAAA,CAAK,EAAE,CAAA,CAAA;AAEhC,IAAS,QAAA,CAAA,UAAA,GAAa,kBAAmB,CAAA,SAAA,EAAW,UAAU,CAAA,CAAA;AAE9D,IAAA,OAAO,QAAS,CAAA,UAAA,CAAA;AAAA,GACpB;AAAA,EAEQ,2BAA2B,QACnC,EAAA;AACI,IAAA,IAAI,IAAK,CAAA,mBAAA,CAAoB,QAAS,CAAA,UAAU,CAChD,EAAA;AACI,MAAO,OAAA,IAAA,CAAK,mBAAoB,CAAA,QAAA,CAAS,UAAU,CAAA,CAAA;AAAA,KACvD;AAEA,IAAA,MAAM,sBAA+C,EAAC,CAAA;AAEtD,IAAS,QAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,CAAC,MAC1B,KAAA;AACI,MAAA,MAAM,WAAqC,GAAA;AAAA,QACvC,WAAa,EAAA,CAAA;AAAA,QACb,QAAU,EAAA,QAAA;AAAA,QACV,YAAY,EAAC;AAAA,OACjB,CAAA;AAEA,MAAA,MAAM,wBAAwB,WAAY,CAAA,UAAA,CAAA;AAE1C,MAAW,KAAA,MAAA,CAAA,IAAK,SAAS,UACzB,EAAA;AACI,QAAM,MAAA,SAAA,GAAY,QAAS,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AAEvC,QAAI,IAAA,SAAA,CAAU,WAAW,MACzB,EAAA;AACI,UAAA,WAAA,CAAY,cAAc,SAAU,CAAA,MAAA,CAAA;AAEpC,UAAA,qBAAA,CAAsB,IAAK,CAAA;AAAA,YACvB,gBAAgB,SAAU,CAAA,cAAA;AAAA,YAC1B,QAAQ,SAAU,CAAA,MAAA;AAAA,YAClB,QAAQ,SAAU,CAAA,MAAA;AAAA,WACrB,CAAA,CAAA;AAAA,SACL;AAAA,OACJ;AAEA,MAAA,IAAI,sBAAsB,MAC1B,EAAA;AACI,QAAA,mBAAA,CAAoB,KAAK,WAAW,CAAA,CAAA;AAAA,OACxC;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,mBAAA,CAAoB,QAAS,CAAA,UAAU,CAAI,GAAA,mBAAA,CAAA;AAEhD,IAAO,OAAA,mBAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,mBAAsB,GAAA,IAAA,CAAA;AAAA,GAC/B;AACJ,CAAA;AAAA;AA1Pa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAA,EAAM,CAAC,aAAA,CAAc,YAAY,CAAA;AAAA,EACjC,IAAM,EAAA,UAAA;AACV,CAAA;;AC7DG,MAAM,eACb,CAAA;AAAA,EADO,WAAA,GAAA;AAEH,IAAA,IAAA,CAAO,WAA+B,EAAC,CAAA;AACvC,IAAA,IAAA,CAAO,eAAgC,EAAC,CAAA;AAExC,IAAA,IAAA,CAAO,WAAc,GAAA,CAAA,CAAA;AAAA,GAAA;AAIzB;;ACWO,MAAM,qBACb,CAAA;AAAA,EAuBI,YAAY,QACZ,EAAA;AAfA,IAAO,IAAA,CAAA,oBAAA,GAAuB,IAAI,MAAO,EAAA,CAAA;AAEzC,IAAO,IAAA,CAAA,oBAAA,GAAuB,IAAI,YAAA,CAAa,sBAAsB,CAAA,CAAA;AAErE,IAAiB,IAAA,CAAA,gCAAA,uBACP,GAAI,EAAA,CAAA;AACd,IAAQ,IAAA,CAAA,oBAAA,mBAA+D,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAElF,IAAA,IAAA,CAAiB,qBAAqC,EAAC,CAAA;AAEvD,IAAA,IAAA,CAAiB,kBAAgC,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAMxD,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEO,WAAY,CAAA;AAAA,IACf,MAAA;AAAA,IACA,KAAA;AAAA,IACA,UAAA;AAAA,GAMJ,EAAA;AAII,IAAK,IAAA,CAAA,gBAAA,GAAmB,IAAK,CAAA,eAAA,CAAgB,MAAM,CAAA,CAAA;AACnD,IAAK,IAAA,CAAA,oBAAA,GAAuB,KAAK,gBAAiB,CAAA,gBAAA,CAAA;AAElD,IAAK,IAAA,CAAA,iBAAA,GAAoB,mBAAoB,CAAA,IAAA,CAAK,gBAAgB,CAAA,CAAA;AAElE,IAAA,IAAA,CAAK,mBAAmB,MAAS,GAAA,CAAA,CAAA;AAEjC,IAAK,IAAA,CAAA,SAAA,CAAU,QAAQ,KAAM,EAAA,CAAA;AAE7B,IAAK,IAAA,CAAA,IAAA;AAAA,MACD,IAAK,CAAA,gBAAA;AAAA,MACL,KAAA;AAAA,MACA,UAAA,IAAA,IAAA,GAAA,UAAA,GAAc,IAAK,CAAA,SAAA,CAAU,UAAW,CAAA,SAAA;AAAA,KAC5C,CAAA;AAAA,GACJ;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AAAA,EAEO,IACH,CAAA,aAAA,EACA,KAAuB,GAAA,IAAA,EACvB,UAEJ,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,eAAA,CAAgB,aAAa,CAAA,CAAA;AAEvD,IAAM,MAAA,SAAA,GAAY,KAAK,YAAiB,KAAA,YAAA,CAAA;AAExC,IAAA,IAAA,CAAK,YAAe,GAAA,YAAA,CAAA;AAEpB,IAAK,IAAA,CAAA,gBAAA,CAAiB,OAAO,UAAU,CAAA,CAAA;AAEvC,IAAA,IAAI,SACJ,EAAA;AACI,MAAK,IAAA,CAAA,oBAAA,CAAqB,KAAK,YAAY,CAAA,CAAA;AAAA,KAC/C;AAEA,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQQ,oBAAoB,YAC5B,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,YAAY,CAAA,CAAA;AAE7D,IAAI,IAAA,eAAA,CAAgB,QAAS,CAAA,CAAC,CAC9B,EAAA;AACI,MAAA,OAAO,eAAgB,CAAA,QAAA,CAAS,CAAC,CAAA,CAAE,iBAAkB,EAAA,CAAA;AAAA,KACzD;AAEA,IAAO,OAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,YAAA;AAAA,MAC1B,YAAA,CAAa,aAAc,CAAA,CAAC,CAAE,CAAA,MAAA;AAAA,KAClC,CAAA;AAAA,GACJ;AAAA,EAEO,aAAA,CACH,YACA,EAAA,KAAA,EACA,UAEJ,EAAA;AACI,IAAI,IAAA,OAAO,UAAU,SACrB,EAAA;AACI,MAAQ,KAAA,GAAA,KAAA,GAAQ,KAAM,CAAA,GAAA,GAAM,KAAM,CAAA,IAAA,CAAA;AAAA,KACtC;AAEA,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,YAAY,CAAA,CAAA;AAE7D,IAAM,MAAA,gBAAA,GAAmB,aAAa,aAAc,CAAA,GAAA;AAAA,MAChD,CAAC,SAAS,CACV,KAAA;AACI,QAAM,MAAA,OAAA,GAAU,eAAgB,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAE1C,QAAI,IAAA,IAAA,CAAA;AACJ,QAAI,IAAA,aAAA,CAAA;AAEJ,QAAA,IAAI,OACJ,EAAA;AACI,UAAM,MAAA,cAAA,GAAiB,QAAQ,iBAAkB,EAAA,CAAA;AAEjD,UAAM,MAAA,iBAAA,GAAoB,eAAe,UAAW,EAAA,CAAA;AAEpD,UAAO,IAAA,GAAA,iBAAA,CAAA;AAAA,SAGX,MAAA;AACI,UAAA,IAAA,GAAO,IAAK,CAAA,SAAA,CAAU,OAAQ,CAAA,cAAA,CAAe,OAAO,CAAA,CAAA;AAAA,SACxD;AAEA,QAAI,IAAA,eAAA,CAAgB,YAAa,CAAA,CAAC,CAClC,EAAA;AACI,UAAgB,aAAA,GAAA,IAAA,CAAA;AAChB,UAAO,IAAA,GAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,cAAA;AAAA,YAC1B,eAAA,CAAgB,aAAa,CAAC,CAAA;AAAA,WAClC,CAAA;AAAA,SACJ;AAEA,QAAA,MAAM,MAAW,GAAA,KAAA,GAAkB,KAAM,CAAA,KAAA,GAAQ,OAAU,GAAA,MAAA,CAAA;AAE3D,QAAA,UAAA,IAAA,IAAA,GAAA,UAAA,GAAA,UAAA,GAAe,IAAK,CAAA,kBAAA,CAAA;AAEpB,QAAO,OAAA;AAAA,UACH,IAAA;AAAA;AAAA,UACA,aAAA;AAAA,UACA,UAAA;AAAA,UACA,OAAS,EAAA,OAAA;AAAA,UACT,MAAA;AAAA,SACJ,CAAA;AAAA,OACJ;AAAA,KACJ,CAAA;AAEA,IAAI,IAAA,sBAAA,CAAA;AAEJ,IAAA,IAAI,aAAa,YACjB,EAAA;AACI,MAAA,MAAM,aAAiB,GAAA,KAAA,GAAQ,KAAM,CAAA,OAAA,GAAU,OAAU,GAAA,MAAA,CAAA;AAEzD,MAAyB,sBAAA,GAAA;AAAA,QACrB,IAAA,EAAM,KAAK,SAAU,CAAA,OAAA,CAChB,aAAa,YAAa,CAAA,YAAA,CAAa,MAAM,CAAA,CAC7C,UAAW,EAAA;AAAA,QAChB,cAAgB,EAAA,OAAA;AAAA,QAChB,aAAA;AAAA,OACJ,CAAA;AAAA,KACJ;AAEA,IAAA,MAAM,UAAsC,GAAA;AAAA,MACxC,gBAAA;AAAA,MACA,sBAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA,EAEO,KACH,CAAA,KAAA,GAAuB,KAAM,CAAA,GAAA,EAC7B,UAEJ,EAAA;AACI,IAAA,IAAI,CAAC,KAAA;AAAO,MAAA,OAAA;AAEZ,IAAK,IAAA,CAAA,gBAAA;AAAA,MACD,KAAA;AAAA,MACA,UAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA,EAEO,IAAK,CAAA,aAAA,EAA8B,KAAyB,GAAA,KAAA,CAAM,KAAK,UAC9E,EAAA;AACI,IAAA,MAAM,YAAe,GAAA,IAAA,CAAK,IAAK,CAAA,aAAA,EAAe,OAAO,UAAU,CAAA,CAAA;AAE/D,IAAK,IAAA,CAAA,kBAAA,CAAmB,KAAK,YAAY,CAAA,CAAA;AAEzC,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEO,GACP,GAAA;AACI,IAAA,IAAA,CAAK,mBAAmB,GAAI,EAAA,CAAA;AAE5B,IAAK,IAAA,CAAA,IAAA;AAAA,MACD,IAAK,CAAA,kBAAA,CAAmB,IAAK,CAAA,kBAAA,CAAmB,SAAS,CAAC,CAAA;AAAA,MAC1D,KAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA,EAEO,gBAAgB,aACvB,EAAA;AA/OJ,IAAA,IAAA,EAAA,CAAA;AAgPQ,IACI,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,iCAAiC,GAAI,CAAA,aAAa,MAAvD,IACG,GAAA,EAAA,GAAA,IAAA,CAAK,kBAAkB,aAAa,CAAA,CAAA;AAAA,GAE/C;AAAA,EAEO,aACH,CAAA,0BAAA,EACA,kBACA,EAAA,MAAA,EACA,IAEJ,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAM,MAAA,cAAA,GAAiB,SAAS,YAAa,CAAA,mBAAA;AAAA,MACzC,0BAAA;AAAA,KACJ,CAAA;AACA,IAAM,MAAA,cAAA,GAAiB,SAAS,OAAQ,CAAA,YAAA;AAAA,MACpC,kBAAmB,CAAA,MAAA;AAAA,KACvB,CAAA;AAEA,IAAA,QAAA,CAAS,QAAQ,cAAe,CAAA,oBAAA;AAAA,MAC5B;AAAA,QACI,OAAS,EAAA,cAAA;AAAA,QACT,MAAA;AAAA,OACJ;AAAA,MACA;AAAA,QACI,OAAS,EAAA,cAAA;AAAA,OACb;AAAA,MACA,IAAA;AAAA,KACJ,CAAA;AAEA,IAAO,OAAA,kBAAA,CAAA;AAAA,GACX;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,gBAAkB,EAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEO,OACP,GAAA;AACI,IAAA,MAAM,SAAY,GAAA,IAAA,CAAA;AAElB,IAAA,SAAA,CAAU,SAAY,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,iCAAiC,KAAM,EAAA,CAAA;AAAA,GAChD;AAAA,EAEQ,gBAAA,CACJ,KAAuB,GAAA,IAAA,EACvB,UAEJ,EAAA;AACI,IAAA,MAAM,eAAe,IAAK,CAAA,YAAA,CAAA;AAE1B,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,YAAY,CAAA,CAAA;AAE7D,IAAA,IACI,aAAa,KAAU,KAAA,eAAA,CAAgB,SACpC,YAAa,CAAA,MAAA,KAAW,gBAAgB,MAE/C,EAAA;AACI,MAAA,IAAA,CAAK,uBAAuB,YAAY,CAAA,CAAA;AAAA,KAC5C;AAEA,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,aAAc,CAAA,YAAA,EAAc,OAAO,UAAU,CAAA,CAAA;AAErE,IAAA,eAAA,CAAgB,UAAa,GAAA,UAAA,CAAA;AAI7B,IAAA,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,eAAgB,CAAA,YAAA,EAAc,eAAe,CAAA,CAAA;AACpE,IAAA,IAAA,CAAK,SAAU,CAAA,QAAA,CAAS,mBAAoB,CAAA,eAAA,CAAgB,WAAW,CAAA,CAAA;AAAA,GAC3E;AAAA,EAEQ,kBAAkB,aAC1B,EAAA;AACI,IAAA,IAAI,YAAe,GAAA,IAAA,CAAA;AAEnB,IAAA,IAAI,yBAAyB,iBAC7B,EAAA;AACI,MAAA,aAAA,GAAgB,iBAAiB,aAAwB,CAAA,CAAA;AAAA,KAC7D;AAEA,IAAA,IAAI,yBAAyB,YAC7B,EAAA;AACI,MAAe,YAAA,GAAA,aAAA,CAAA;AAAA,KACnB,MAAA,IACS,yBAAyB,OAClC,EAAA;AACI,MAAA,YAAA,GAAe,IAAI,YAAa,CAAA;AAAA,QAC5B,aAAA,EAAe,CAAC,aAAa,CAAA;AAAA,QAC7B,YAAA,EAAc,cAAc,MAAO,CAAA,YAAA;AAAA,OACtC,CAAA,CAAA;AAAA,KACL;AAEA,IAAA,YAAA,CAAa,MAAS,GAAA,IAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,gCAAA,CAAiC,GAAI,CAAA,aAAA,EAAe,YAAY,CAAA,CAAA;AAErE,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEQ,oBAAoB,YAC5B,EAAA;AACI,IAAA,OACI,KAAK,oBAAqB,CAAA,YAAA,CAAa,GAAG,CACvC,IAAA,IAAA,CAAK,qBAAqB,YAAY,CAAA,CAAA;AAAA,GAEjD;AAAA,EAEQ,qBAAqB,YAC7B,EAAA;AAEI,IAAA,YAAA,CAAa,MAAS,GAAA,IAAA,CAAA;AAEtB,IAAM,MAAA,eAAA,GAAkB,IAAI,eAAgB,EAAA,CAAA;AAK5C,IAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAClD,KAAA;AACI,MAAI,IAAA,YAAA,CAAa,MAAO,CAAA,QAAA,YAAoB,iBAC5C,EAAA;AACI,QAAA,MAAM,OACA,GAAA,YAAA,CAAa,YAAa,CAAA,MAAA,CAAO,QAAS,CAAA,UAAA;AAAA,UACxC,QAAA;AAAA,SACJ,CAAA;AAEJ,QACA,IAAA;AACI,UAAA,OAAA,CAAQ,SAAU,CAAA;AAAA,YACd,MAAA,EAAQ,KAAK,IAAK,CAAA,MAAA;AAAA;AAAA,YAElB,OACI,eAAgB,CAAA,eAAA,GACd,gBAAgB,QAChB,GAAA,eAAA,CAAgB,oBAChB,eAAgB,CAAA,QAAA;AAAA,YACtB,MAAQ,EAAA,YAAA;AAAA,YACR,SAAW,EAAA,QAAA;AAAA,WACd,CAAA,CAAA;AAAA,iBAEE,CAAP,EAAA;AAEI,UAAA,OAAA,CAAQ,MAAM,CAAC,CAAA,CAAA;AAAA,SACnB;AAEA,QAAgB,eAAA,CAAA,QAAA,CAAS,CAAC,CAAI,GAAA,OAAA,CAAA;AAAA,OAClC;AAEA,MAAgB,eAAA,CAAA,IAAA,GAAO,aAAa,MAAO,CAAA,SAAA,CAAA;AAE3C,MAAI,IAAA,YAAA,CAAa,OAAO,SACxB,EAAA;AACI,QAAM,MAAA,WAAA,GAAc,IAAI,aAAc,CAAA;AAAA,UAClC,KAAO,EAAA,CAAA;AAAA,UACP,MAAQ,EAAA,CAAA;AAAA,UACR,WAAa,EAAA,CAAA;AAAA,SAChB,CAAA,CAAA;AAED,QAAgB,eAAA,CAAA,YAAA,CAAa,CAAC,CAAI,GAAA,WAAA,CAAA;AAAA,OACtC;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAI,gBAAgB,IACpB,EAAA;AACI,MAAA,eAAA,CAAgB,WAAc,GAAA,CAAA,CAAA;AAE9B,MAAA,IAAI,aAAa,YACjB,EAAA;AACI,QAAa,YAAA,CAAA,YAAA,CAAa,OAAO,WAAc,GAAA,CAAA,CAAA;AAAA,OACnD;AAAA,KACJ;AAEA,IAAK,IAAA,CAAA,oBAAA,CAAqB,YAAa,CAAA,GAAG,CAAI,GAAA,eAAA,CAAA;AAE9C,IAAO,OAAA,eAAA,CAAA;AAAA,GACX;AAAA,EAEQ,uBAAuB,YAC/B,EAAA;AACI,IAAM,MAAA,eAAA,GAAkB,IAAK,CAAA,mBAAA,CAAoB,YAAY,CAAA,CAAA;AAE7D,IAAA,eAAA,CAAgB,QAAQ,YAAa,CAAA,KAAA,CAAA;AACrC,IAAA,eAAA,CAAgB,SAAS,YAAa,CAAA,MAAA,CAAA;AAEtC,IAAA,IAAI,gBAAgB,IACpB,EAAA;AACI,MAAA,YAAA,CAAa,aAAc,CAAA,OAAA,CAAQ,CAAC,YAAA,EAAc,CAClD,KAAA;AACI,QAAM,MAAA,WAAA,GAAc,eAAgB,CAAA,YAAA,CAAa,CAAC,CAAA,CAAA;AAElD,QAAa,WAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,WAAA,CAAA,MAAA;AAAA,UACT,aAAa,MAAO,CAAA,KAAA;AAAA,UACpB,aAAa,MAAO,CAAA,MAAA;AAAA,UACpB,aAAa,MAAO,CAAA,WAAA;AAAA,SAAA,CAAA;AAAA,OAE3B,CAAA,CAAA;AAAA,KACL;AAAA,GACJ;AACJ,CAAA;AAAA;AAraa,qBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAA,EAAM,CAAC,aAAA,CAAc,YAAY,CAAA;AAAA,EACjC,IAAM,EAAA,cAAA;AACV,CAAA;;ACtBG,MAAM,eACb,CAAA;AAAA,EAWc,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AAAA,EAEO,oBAAoB,OAC3B,EAAA;AACI,IAAM,MAAA,MAAA,GAAS,KAAK,IAAK,CAAA,MAAA,CAAA;AAGzB,IAAI,IAAA,CAAC,QAAQ,UACb,EAAA;AACI,MAAA,IAAI,QAAQ,SACZ,EAAA;AACI,QAAA,MAAM,UAAa,GAAA,OAAA,CAAQ,SAAU,CAAA,GAAA,CAAI,CAAC,KAAA,KAAU,MAAO,CAAA,qBAAA,CAAsB,EAAE,OAAA,EAAS,KAAM,EAAC,CAAC,CAAA,CAAA;AAEpG,QAAM,MAAA,kBAAA,GAAqB,EAAE,gBAAA,EAAkB,UAAW,EAAA,CAAA;AAG1D,QAAA,OAAA,CAAQ,UAAa,GAAA;AAAA,UACjB,UAAA;AAAA,UACA,QAAA,EAAU,MAAO,CAAA,oBAAA,CAAqB,kBAAkB,CAAA;AAAA,SAC5D,CAAA;AAAA,OAGJ,MAAA;AACI,QAAA,OAAA,CAAQ,UAAa,GAAA;AAAA,UACjB,UAAY,EAAA,IAAA;AAAA,UACZ,QAAU,EAAA,MAAA;AAAA,SACd,CAAA;AAAA,OACJ;AAAA,KACJ;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAAA,GAChB;AACJ,CAAA;AAAA;AAlDa,eAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,QAAA;AACV,CAAA;;ACZG,MAAM,sBAAmE,GAAC;AAEjF,mBAAA,CAAoB,MAAS,GAAA;AAAA,EACzB,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,GAAM,GAAA;AAAA,EACtB,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,WAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,QAAW,GAAA;AAAA,EAC3B,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,MAAS,GAAA;AAAA,EACzB,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,eAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,OAAU,GAAA;AAAA,EAC1B,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,eAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,IAAO,GAAA;AAAA,EACvB,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,MAAA;AAAA,IACX,SAAW,EAAA,MAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAGA,mBAAA,CAAoB,YAAY,CAAI,GAAA;AAAA,EAChC,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,WAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,SAAS,CAAI,GAAA;AAAA,EAC7B,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,WAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,YAAY,CAAI,GAAA;AAAA,EAChC,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,KAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,WAAA;AAAA,IACX,SAAW,EAAA,eAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA,CAAA;AAEA,mBAAA,CAAoB,KAAQ,GAAA;AAAA,EACxB,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,MAAA;AAAA,IACX,SAAW,EAAA,qBAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACH,SAAW,EAAA,MAAA;AAAA,IACX,SAAW,EAAA,eAAA;AAAA,IACX,SAAW,EAAA,KAAA;AAAA,GACf;AACJ,CAAA;;AC5HO,MAAM,cACb,CAAA;AAAA,EA2CI,WACA,GAAA;AACI,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,KAAM,EAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,aAAa,KAAQ,GAAA,IAAA,CAAA;AAAA,GAC9B;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,GAAA,CAAA;AAAA,GACf;AAAA,EAEO,gBAAgB,KACvB,EAAA;AACI,IAAA,MAAM,KAAQ,GAAA,mBAAA,CAAoB,KAAM,CAAA,SAAS,KAAK,mBAAoB,CAAA,MAAA,CAAA;AAE1E,IAAO,OAAA;AAAA,MACH;AAAA,QACI,MAAQ,EAAA,YAAA;AAAA,QACR,SAAW,EAAA,CAAA;AAAA,QACX,KAAA;AAAA,OACJ;AAAA,KACJ,CAAA;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAA;AAAA,GACf;AACJ,CAAA;AAAA;AAxEa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,OAAA;AACV,CAAA;;ACbG,MAAM,4BAA+B,GAAA;AAAA,EAExC,IAAM,EAAA,OAAA;AAAA,EAEN,MAAA,CAAO,MAA2B,EAAA,UAAA,EAAwB,GAC1D,EAAA;AACI,IAAA,MAAM,WAAW,MAAO,CAAA,QAAA,CAAA;AAExB,IAAA,MAAM,KAAS,GAAA,CAAA,MAAA,CAAO,UAAa,GAAA,CAAA,KAAM,OAAO,WAAc,GAAA,CAAA,CAAA,CAAA;AAE9D,IAAM,MAAA,aAAA,GAAgB,SAAS,UAAa,GAAA,KAAA,CAAA;AAE5C,IAAA,GAAA,CAAI,OAAO,KAAM,CAAA,YAAA;AAAA,MACb,EAAE,SAAS,UAAW,EAAA;AAAA,MACtB,QAAA;AAAA,MACA;AAAA,QACI,MAAQ,EAAA,CAAA;AAAA,QACR,cAAc,MAAO,CAAA,UAAA;AAAA,QACrB,WAAA,EAAa,OAAO,UAAa,GAAA,aAAA;AAAA,OACrC;AAAA,MACA;AAAA,QACI,OAAO,MAAO,CAAA,UAAA;AAAA,QACd,QAAQ,MAAO,CAAA,WAAA;AAAA,QACf,kBAAoB,EAAA,CAAA;AAAA,OACxB;AAAA,KACJ,CAAA;AAAA,GACJ;AACJ;;AC3BO,MAAM,sBAAyB,GAAA;AAAA,EAElC,IAAM,EAAA,OAAA;AAAA,EAEN,MAAA,CAAO,MAAuB,EAAA,UAAA,EAAwB,GACtD,EAAA;AACI,IAAA,MAAM,WAAW,MAAO,CAAA,QAAA,CAAA;AAExB,IAAA,IAAI,CAAC,QAAA;AAAU,MAAA,OAAA;AAEf,IAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,aAAA,IAAiB,MAAO,CAAA,UAAA,CAAA;AAC7C,IAAM,MAAA,MAAA,GAAS,MAAO,CAAA,cAAA,IAAkB,MAAO,CAAA,WAAA,CAAA;AAC/C,IAAM,MAAA,kBAAA,GAAqB,OAAO,SAAc,KAAA,6BAAA,CAAA;AAEhD,IAAA,GAAA,CAAI,OAAO,KAAM,CAAA,0BAAA;AAAA,MACb,EAAE,QAAQ,QAAS,EAAA;AAAA,MACnB,EAAE,OAAS,EAAA,UAAA,EAAY,kBAAmB,EAAA;AAAA,MAC1C;AAAA,QACI,KAAA;AAAA,QACA,MAAA;AAAA,OACJ;AAAA,KACJ,CAAA;AAAA,GACJ;AACJ;;ACrBO,MAAM,sBAAyB,GAAA;AAAA,EAElC,IAAM,EAAA,OAAA;AAAA,EAEN,MAAA,CAAO,MAAqB,EAAA,UAAA,EAAwB,GACpD,EAAA;AACI,IAAuB,sBAAA,CAAA,MAAA,CAAO,MAAQ,EAAA,UAAA,EAAY,GAAG,CAAA,CAAA;AAAA,GACzD;AACJ;;ACTO,MAAM,kBACb,CAAA;AAAA,EAOI,YAAY,MACZ,EAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,MAAA,CAAA;AACd,IAAA,IAAA,CAAK,UAAU,MAAO,CAAA,aAAA,CAAc,EAAE,SAAA,EAAW,UAAU,CAAA,CAAA;AAE3D,IAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAAA,GACtB;AAAA,EAEQ,mBAAmB,MAC3B,EAAA;AACI,IAAI,IAAA,QAAA,GAAW,IAAK,CAAA,SAAA,CAAU,MAAM,CAAA,CAAA;AAEpC,IAAA,IAAI,CAAC,QACL,EAAA;AAEI,MAAI,IAAA,CAAC,KAAK,kBACV,EAAA;AACI,QAAK,IAAA,CAAA,kBAAA,GAAqB,IAAK,CAAA,MAAA,CAAO,kBAAmB,CAAA;AAAA,UACrD,IAAA;AAAA;AAAA,YAAiB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAA,CAAA;AAAA,WAAA;AAAA,SAyBpB,CAAA,CAAA;AAAA,OACL;AAEA,MAAW,QAAA,GAAA,IAAA,CAAK,OAAO,oBAAqB,CAAA;AAAA,QACxC,MAAQ,EAAA,MAAA;AAAA,QACR,MAAQ,EAAA;AAAA,UACJ,QAAQ,IAAK,CAAA,kBAAA;AAAA,UACb,UAAY,EAAA,YAAA;AAAA,SAChB;AAAA,QACA,QAAU,EAAA;AAAA,UACN,QAAQ,IAAK,CAAA,kBAAA;AAAA,UACb,UAAY,EAAA,cAAA;AAAA,UACZ,OAAS,EAAA,CAAC,EAAE,MAAA,EAAQ,CAAA;AAAA,SACxB;AAAA,OACH,CAAA,CAAA;AAED,MAAK,IAAA,CAAA,SAAA,CAAU,MAAM,CAAI,GAAA,QAAA,CAAA;AAAA,KAC7B;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,eAAe,OACtB,EAAA;AACI,IAAA,MAAM,QAAW,GAAA,IAAA,CAAK,kBAAmB,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;AAEvD,IAAA,IAAI,OAAQ,CAAA,SAAA,KAAc,IAAQ,IAAA,OAAA,CAAQ,cAAc,IACxD,EAAA;AACI,MAAM,MAAA,IAAI,MAAM,kEAAkE,CAAA,CAAA;AAAA,KACtF;AAEA,IAAA,IAAI,UAAa,GAAA,OAAA,CAAA;AACjB,IAAM,MAAA,eAAA,GAAkB,QAAQ,kBAAsB,IAAA,CAAA,CAAA;AAGtD,IAAM,MAAA,cAAA,GAAiB,OAAQ,CAAA,KAAA,GAAQ,eAAgB,CAAA,iBAAA,CAAA;AAEvD,IAAA,IAAI,CAAC,cACL,EAAA;AAGI,MAAA,MAAM,oBAAuB,GAAA;AAAA,QACzB,IAAM,EAAA;AAAA,UACF,KAAO,EAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQ,QAAQ,CAAC,CAAA;AAAA,UAClC,MAAQ,EAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQ,SAAS,CAAC,CAAA;AAAA,UACpC,kBAAoB,EAAA,eAAA;AAAA,SACxB;AAAA,QACA,QAAQ,OAAQ,CAAA,MAAA;AAAA,QAChB,KAAO,EAAA,eAAA,CAAgB,eAAkB,GAAA,eAAA,CAAgB,WAAW,eAAgB,CAAA,iBAAA;AAAA,QACpF,aAAA,EAAe,QAAQ,aAAgB,GAAA,CAAA;AAAA,OAC3C,CAAA;AAEA,MAAa,UAAA,GAAA,IAAA,CAAK,MAAO,CAAA,aAAA,CAAc,oBAAoB,CAAA,CAAA;AAAA,KAC/D;AAEA,IAAA,MAAM,cAAiB,GAAA,IAAA,CAAK,MAAO,CAAA,oBAAA,CAAqB,EAAE,CAAA,CAAA;AAE1D,IAAM,MAAA,eAAA,GAAkB,QAAS,CAAA,kBAAA,CAAmB,CAAC,CAAA,CAAA;AAErD,IAAA,KAAA,IAAS,UAAa,GAAA,CAAA,EAAG,UAAa,GAAA,eAAA,EAAiB,EAAE,UACzD,EAAA;AACI,MAAI,IAAA,OAAA,GAAU,QAAQ,UAAW,CAAA;AAAA,QAC7B,YAAc,EAAA,CAAA;AAAA,QACd,aAAe,EAAA,CAAA;AAAA,QACf,SAAW,EAAA,IAAA;AAAA,QACX,cAAgB,EAAA,UAAA;AAAA,QAChB,eAAiB,EAAA,CAAA;AAAA,OACpB,CAAA,CAAA;AAED,MAAI,IAAA,WAAA,GAAc,iBAAiB,CAAI,GAAA,CAAA,CAAA;AAEvC,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAQ,CAAA,aAAA,EAAe,EAAE,CAC7C,EAAA;AACI,QAAM,MAAA,OAAA,GAAU,WAAW,UAAW,CAAA;AAAA,UAClC,YAAc,EAAA,WAAA,EAAA;AAAA,UACd,aAAe,EAAA,CAAA;AAAA,UACf,SAAW,EAAA,IAAA;AAAA,UACX,cAAgB,EAAA,UAAA;AAAA,UAChB,eAAiB,EAAA,CAAA;AAAA,SACpB,CAAA,CAAA;AAED,QAAM,MAAA,WAAA,GAAc,eAAe,eAAgB,CAAA;AAAA,UAC/C,kBAAkB,CAAC;AAAA,YACf,IAAM,EAAA,OAAA;AAAA,YACN,OAAS,EAAA,OAAA;AAAA,YACT,MAAQ,EAAA,OAAA;AAAA,YACR,UAAA,EAAY,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAE,EAAA;AAAA,WACxC,CAAA;AAAA,SACJ,CAAA,CAAA;AAED,QAAM,MAAA,SAAA,GAAY,IAAK,CAAA,MAAA,CAAO,eAAgB,CAAA;AAAA,UAC1C,MAAQ,EAAA,eAAA;AAAA,UACR,SAAS,CAAC;AAAA,YACN,OAAS,EAAA,CAAA;AAAA,YACT,UAAU,IAAK,CAAA,OAAA;AAAA,WAChB,EAAA;AAAA,YACC,OAAS,EAAA,CAAA;AAAA,YACT,QAAU,EAAA,OAAA;AAAA,WACb,CAAA;AAAA,SACJ,CAAA,CAAA;AAED,QAAA,WAAA,CAAY,YAAY,QAAQ,CAAA,CAAA;AAChC,QAAY,WAAA,CAAA,YAAA,CAAa,GAAG,SAAS,CAAA,CAAA;AACrC,QAAA,WAAA,CAAY,IAAK,CAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAE3B,QAAA,WAAA,CAAY,GAAI,EAAA,CAAA;AAEhB,QAAU,OAAA,GAAA,OAAA,CAAA;AAAA,OACd;AAAA,KACJ;AAIA,IAAA,IAAI,CAAC,cACL,EAAA;AACI,MAAA,MAAM,YAAe,GAAA;AAAA,QACjB,KAAO,EAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQ,QAAQ,CAAC,CAAA;AAAA,QAClC,MAAQ,EAAA,IAAA,CAAK,IAAK,CAAA,OAAA,CAAQ,SAAS,CAAC,CAAA;AAAA,QACpC,kBAAoB,EAAA,eAAA;AAAA,OACxB,CAAA;AAEA,MAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAQ,CAAA,aAAA,EAAe,EAAE,CAC7C,EAAA;AACI,QAAA,cAAA,CAAe,oBAAqB,CAAA;AAAA,UAChC,OAAS,EAAA,UAAA;AAAA,UACT,UAAU,CAAI,GAAA,CAAA;AAAA,SACf,EAAA;AAAA,UACC,OAAA;AAAA,UACA,QAAU,EAAA,CAAA;AAAA,WACX,YAAY,CAAA,CAAA;AAEf,QAAA,YAAA,CAAa,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,YAAA,CAAa,QAAQ,CAAC,CAAA,CAAA;AACrD,QAAA,YAAA,CAAa,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,YAAA,CAAa,SAAS,CAAC,CAAA,CAAA;AAAA,OAC3D;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,OAAO,KAAM,CAAA,MAAA,CAAO,CAAC,cAAe,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAElD,IAAA,IAAI,CAAC,cACL,EAAA;AACI,MAAA,UAAA,CAAW,OAAQ,EAAA,CAAA;AAAA,KACvB;AAEA,IAAO,OAAA,OAAA,CAAA;AAAA,GACX;AACJ;;AC3LO,MAAM,gBACb,CAAA;AAAA,EA4BI,YAAY,QACZ,EAAA;AApBA,IAAA,IAAA,CAAgB,kBAAmC,EAAC,CAAA;AAGpD,IAAQ,IAAA,CAAA,WAAA,mBAAiD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACpE,IAAQ,IAAA,CAAA,YAAA,mBAAkD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACrE,IAAQ,IAAA,CAAA,cAAA,mBAAmD,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AACtE,IAAQ,IAAA,CAAA,gBAAA,mBAA0D,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;AAE7E,IAAA,IAAA,CAAiB,QAA+C,GAAA;AAAA,MAC5D,KAAO,EAAA,sBAAA;AAAA,MACP,MAAQ,EAAA,4BAAA;AAAA,MACR,KAAO,EAAA,sBAAA;AAAA,KACX,CAAA;AASI,IAAA,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEU,cAAc,GACxB,EAAA;AACI,IAAA,IAAA,CAAK,IAAO,GAAA,GAAA,CAAA;AAAA,GAChB;AAAA,EAEO,WAAW,MAClB,EAAA;AACI,IAAA,IAAI,OAAO,mBACX,EAAA;AACI,MAAA,MAAM,mBAAmB,IAAK,CAAA,GAAA,CAAI,MAAO,CAAA,UAAA,EAAY,OAAO,WAAW,CAAA,CAAA;AAEvE,MAAA,MAAA,CAAO,gBAAgB,IAAK,CAAA,KAAA,CAAM,KAAK,IAAK,CAAA,gBAAgB,CAAC,CAAI,GAAA,CAAA,CAAA;AAAA,KACrE;AAEA,IAAA,MAAM,iBAAoB,GAAA;AAAA,MACtB,IAAA,EAAM,EAAE,KAAO,EAAA,MAAA,CAAO,cAAc,CAAG,EAAA,MAAA,EAAQ,MAAO,CAAA,WAAA,IAAe,CAAE,EAAA;AAAA,MACvE,QAAQ,MAAO,CAAA,MAAA;AAAA,MACf,aAAa,MAAO,CAAA,WAAA;AAAA,MACpB,eAAe,MAAO,CAAA,aAAA;AAAA,MACtB,WAAW,MAAO,CAAA,SAAA;AAAA,MAClB,OAAO,eAAgB,CAAA,eAAA,GACjB,gBAAgB,QAChB,GAAA,eAAA,CAAgB,oBAChB,eAAgB,CAAA,QAAA;AAAA,KAC1B,CAAA;AAEA,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,IAAK,CAAA,MAAA,CAAO,cAAc,iBAAiB,CAAA,CAAA;AAEnE,IAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,UAAA,CAAA;AAE/B,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC7C,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC7C,IAAA,MAAA,CAAO,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAC/C,IAAA,MAAA,CAAO,EAAG,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAE7C,IAAK,IAAA,CAAA,eAAA,CAAgB,KAAK,MAAM,CAAA,CAAA;AAEhC,IAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAE1B,IAAO,OAAA,UAAA,CAAA;AAAA,GACX;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAM,MAAA,UAAA,GAAa,IAAK,CAAA,YAAA,CAAa,MAAM,CAAA,CAAA;AAG3C,IAAA,IAAI,CAAC,UAAA;AAAY,MAAA,OAAA;AAEjB,IAAA,IAAI,IAAK,CAAA,QAAA,CAAS,MAAO,CAAA,cAAc,CACvC,EAAA;AACI,MAAK,IAAA,CAAA,QAAA,CAAS,OAAO,cAAc,CAAA,CAAE,OAAO,MAAQ,EAAA,UAAA,EAAY,KAAK,IAAI,CAAA,CAAA;AAAA,KAC7E;AAEA,IAAA,IAAI,MAAO,CAAA,mBAAA,IAAuB,MAAO,CAAA,aAAA,GAAgB,CACzD,EAAA;AACI,MAAI,IAAA,CAAC,KAAK,gBACV,EAAA;AACI,QAAA,IAAA,CAAK,gBAAmB,GAAA,IAAI,kBAAmB,CAAA,IAAA,CAAK,KAAK,MAAM,CAAA,CAAA;AAAA,OACnE;AAEA,MAAK,IAAA,CAAA,gBAAA,CAAiB,eAAe,UAAU,CAAA,CAAA;AAAA,KACnD;AAAA,GACJ;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE9C,IAAA,IAAI,UACJ,EAAA;AACI,MAAK,IAAA,CAAA,WAAA,CAAY,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAE/B,MAAA,UAAA,CAAW,OAAQ,EAAA,CAAA;AAAA,KACvB;AAAA,GACJ;AAAA,EAEU,gBAAgB,MAC1B,EAAA;AACI,IAAA,MAAA,CAAO,GAAI,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC9C,IAAA,MAAA,CAAO,GAAI,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAC9C,IAAA,MAAA,CAAO,GAAI,CAAA,SAAA,EAAW,IAAK,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAChD,IAAA,MAAA,CAAO,GAAI,CAAA,QAAA,EAAU,IAAK,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAE9C,IAAA,IAAA,CAAK,gBAAgB,MAAO,CAAA,IAAA,CAAK,gBAAgB,OAAQ,CAAA,MAAM,GAAG,CAAC,CAAA,CAAA;AAEnE,IAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAAA,GAC9B;AAAA,EAEU,eAAe,MACzB,EAAA;AACI,IAAA,MAAM,UAAa,GAAA,IAAA,CAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAA,CAAA;AAE9C,IAAA,IAAI,WAAW,KAAU,KAAA,MAAA,CAAO,cAAc,UAAW,CAAA,MAAA,KAAW,OAAO,WAC3E,EAAA;AACI,MAAK,IAAA,CAAA,gBAAA,CAAiB,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AACpC,MAAK,IAAA,CAAA,cAAA,CAAe,MAAO,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;AAElC,MAAA,IAAA,CAAK,eAAe,MAAM,CAAA,CAAA;AAC1B,MAAA,IAAA,CAAK,WAAW,MAAM,CAAA,CAAA;AAAA,KAC1B;AAAA,GACJ;AAAA,EAEQ,aAAa,OACrB,EAAA;AACI,IAAK,IAAA,CAAA,YAAA,CAAa,QAAQ,UAAU,CAAA,GAAI,KAAK,IAAK,CAAA,MAAA,CAAO,cAAc,OAAO,CAAA,CAAA;AAE9E,IAAO,OAAA,IAAA,CAAK,YAAa,CAAA,OAAA,CAAQ,UAAU,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEO,cAAc,OACrB,EAAA;AACI,IAAA,OAAO,KAAK,YAAa,CAAA,OAAA,CAAQ,UAAU,CAAK,IAAA,IAAA,CAAK,aAAa,OAAO,CAAA,CAAA;AAAA,GAC7E;AAAA,EAEO,aAAa,MACpB,EAAA;AACI,IAAA,OAAO,KAAK,WAAY,CAAA,MAAA,CAAO,GAAG,CAAK,IAAA,IAAA,CAAK,WAAW,MAAM,CAAA,CAAA;AAAA,GACjE;AAAA,EAEO,oBAAoB,OAC3B,EAAA;AA9KJ,IAAA,IAAA,EAAA,CAAA;AA+KQ,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,eAAe,OAAQ,CAAA,EAAE,MAA9B,IAAmC,GAAA,EAAA,GAAA,IAAA,CAAK,wBAAwB,OAAO,CAAA,CAAA;AAAA,GAClF;AAAA,EAEQ,wBAAwB,OAChC,EAAA;AACI,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAA,MAAM,cAAc,MAAO,CAAA,GAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,cAAe,CAAA,WAAW,CAAI,GAAA,IAAI,SAAU,CAAA;AAAA,MAC7C,CAAG,EAAA,MAAA;AAAA,MACH,GAAG,MAAO,CAAA,KAAA;AAAA,KACb,CAAA,CAAA;AAED,IAAO,OAAA,IAAA,CAAK,eAAe,WAAW,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEO,eAAe,OACtB,EAAA;AAjMJ,IAAA,IAAA,EAAA,CAAA;AAkMQ,IAAA,MAAM,SAAS,OAAQ,CAAA,MAAA,CAAA;AAEvB,IAAO,OAAA,CAAA,EAAA,GAAA,IAAA,CAAK,iBAAiB,MAAO,CAAA,GAAG,MAAhC,IAAqC,GAAA,EAAA,GAAA,IAAA,CAAK,mBAAmB,MAAM,CAAA,CAAA;AAAA,GAC9E;AAAA,EAEQ,mBAAmB,OAC3B,EAAA;AACI,IAAK,IAAA,CAAA,gBAAA,CAAiB,QAAQ,GAAG,CAAA,GAAI,KAAK,YAAa,CAAA,OAAO,EAAE,UAAW,EAAA,CAAA;AAE3E,IAAO,OAAA,IAAA,CAAK,gBAAiB,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;AAAA,GAC5C;AAAA,EAEO,eAAe,OACtB,EAAA;AACI,IAAA,MAAM,WAAW,IAAK,CAAA,SAAA,CAAA;AAEtB,IAAA,MAAM,cAAiB,GAAA,QAAA,CAAS,GAAI,CAAA,MAAA,CAAO,oBAAqB,EAAA,CAAA;AAGhE,IAAA,MAAM,MAAS,GAAA,UAAA,CAAW,GAAI,EAAA,CAAE,YAAa,EAAA,CAAA;AAE7C,IAAO,MAAA,CAAA,KAAA,GAAQ,QAAQ,MAAO,CAAA,UAAA,CAAA;AAC9B,IAAO,MAAA,CAAA,MAAA,GAAS,QAAQ,MAAO,CAAA,WAAA,CAAA;AAE/B,IAAM,MAAA,OAAA,GAAU,MAAO,CAAA,UAAA,CAAW,QAAQ,CAAA,CAAA;AAE1C,IAAA,OAAA,CAAQ,SAAU,CAAA;AAAA,MACd,MAAA,EAAQ,SAAS,GAAI,CAAA,MAAA;AAAA;AAAA,MAErB,KAAA,EAAO,eAAgB,CAAA,QAAA,GAAW,eAAgB,CAAA,QAAA;AAAA,MAClD,MAAQ,EAAA,YAAA;AAAA,MACR,SAAW,EAAA,eAAA;AAAA,KACd,CAAA,CAAA;AAED,IAAA,cAAA,CAAe,oBAAqB,CAAA;AAAA,MAChC,OAAS,EAAA,QAAA,CAAS,OAAQ,CAAA,YAAA,CAAa,QAAQ,MAAM,CAAA;AAAA,MACrD,MAAQ,EAAA;AAAA,QACJ,CAAG,EAAA,CAAA;AAAA,QACH,CAAG,EAAA,CAAA;AAAA,OACP;AAAA,KACD,EAAA;AAAA,MACC,OAAA,EAAS,QAAQ,iBAAkB,EAAA;AAAA,KACpC,EAAA;AAAA,MACC,OAAO,MAAO,CAAA,KAAA;AAAA,MACd,QAAQ,MAAO,CAAA,MAAA;AAAA,KAClB,CAAA,CAAA;AAED,IAAS,QAAA,CAAA,GAAA,CAAI,OAAO,KAAM,CAAA,MAAA,CAAO,CAAC,cAAe,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAE1D,IAAO,OAAA,MAAA,CAAA;AAAA,GACX;AAAA,EAEO,UAAU,OACjB,EAAA;AACI,IAAM,MAAA,YAAA,GAAe,IAAK,CAAA,cAAA,CAAe,OAAO,CAAA,CAAA;AAEhD,IAAA,MAAM,mBAAmB,UAAW,CAAA,0BAAA,CAA2B,YAAa,CAAA,KAAA,EAAO,aAAa,MAAM,CAAA,CAAA;AAEtG,IAAA,MAAM,UAAU,gBAAiB,CAAA,OAAA,CAAA;AAEjC,IAAQ,OAAA,CAAA,SAAA,CAAU,YAAc,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAEpC,IAAM,MAAA,EAAE,KAAO,EAAA,MAAA,EAAW,GAAA,YAAA,CAAA;AAE1B,IAAA,MAAM,YAAY,OAAQ,CAAA,YAAA,CAAa,CAAG,EAAA,CAAA,EAAG,OAAO,MAAM,CAAA,CAAA;AAE1D,IAAA,MAAM,MAAS,GAAA,IAAI,iBAAkB,CAAA,SAAA,CAAU,KAAK,MAAM,CAAA,CAAA;AAE1D,IAAA,UAAA,CAAW,uBAAuB,gBAAgB,CAAA,CAAA;AAElD,IAAO,OAAA,EAAE,MAAQ,EAAA,KAAA,EAAO,MAAO,EAAA,CAAA;AAAA,GACnC;AAAA,EAEO,OACP,GAAA;AACI,IAAA,KAAA,MAAW,CAAK,IAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,WAAW,CAC5C,EAAA;AACI,MAAM,MAAA,GAAA,GAAM,OAAO,CAAC,CAAA,CAAA;AACpB,MAAM,MAAA,UAAA,GAAa,IAAK,CAAA,WAAA,CAAY,GAAG,CAAA,CAAA;AAEvC,MAAA,UAAA,CAAW,OAAQ,EAAA,CAAA;AACnB,MAAK,IAAA,CAAA,WAAA,CAAY,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,KAAA,MAAW,CAAK,IAAA,MAAA,CAAO,IAAK,CAAA,IAAA,CAAK,cAAc,CAC/C,EAAA;AACI,MAAM,MAAA,GAAA,GAAM,OAAO,CAAC,CAAA,CAAA;AACpB,MAAM,MAAA,SAAA,GAAY,IAAK,CAAA,cAAA,CAAe,GAAG,CAAA,CAAA;AAEzC,MAAA,SAAA,CAAU,OAAQ,EAAA,CAAA;AAClB,MAAK,IAAA,CAAA,cAAA,CAAe,GAAG,CAAI,GAAA,IAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,WAAc,GAAA,IAAA,CAAA;AACnB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,gBAAmB,GAAA,IAAA,CAAA;AACxB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AAAA,GACxB;AACJ,CAAA;AAAA;AAnRa,gBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,YAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,SAAA;AACV,CAAA;;ACRG,MAAM,kBACb,CAAA;AAAA,EAWW,IACP,GAAA;AACI,IAAM,MAAA,aAAA,GAAgB,IAAI,YAAa,CAAA;AAAA,MACnC,kBAAkB,EAAE,KAAA,EAAO,IAAI,MAAO,EAAA,EAAG,MAAM,aAAc,EAAA;AAAA,MAC7D,MAAQ,EAAA,EAAE,KAAO,EAAA,IAAI,YAAa,CAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAC,CAAC,CAAA,EAAG,MAAM,WAAY,EAAA;AAAA,MACnE,MAAQ,EAAA,EAAE,KAAO,EAAA,CAAA,EAAG,MAAM,KAAM,EAAA;AAAA,KACnC,CAAA,CAAA;AAED,IAAA,MAAM,aAAa,2BAA4B,CAAA;AAAA,MAC3C,IAAM,EAAA,UAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,QAAA;AAAA,QACA,wBAAwB,YAAY,CAAA;AAAA,QAEpC,qBAAA;AAAA,QACA,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,MAAA,GAAS,IAAI,MAAO,CAAA;AAAA,MACrB,UAAA;AAAA,MACA,SAAW,EAAA;AAAA;AAAA,QAEP,aAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,MAAO,CAAA,WAAA,CAAY,gBAAkB,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;AAAA,GAClD;AAAA,EAEO,OAAA,CAAQ,cAA4B,UAC3C,EAAA;AACI,IAAM,MAAA,OAAA,GAAU,WAAW,IAAK,CAAA,OAAA,CAAA;AAChC,IAAM,MAAA,MAAA,GAAS,OAAQ,CAAA,YAAA,IAAgB,IAAK,CAAA,MAAA,CAAA;AAC5C,IAAA,MAAM,WAAW,YAAa,CAAA,QAAA,CAAA;AAC9B,IAAA,MAAM,gBAAgB,QAAS,CAAA,eAAA,CAAA;AAE/B,IAAM,MAAA;AAAA,MACF,QAAA;AAAA,MAAU,YAAA;AAAA,KACd,GAAI,aAAc,CAAA,oBAAA,CAAqB,OAAO,CAAA,CAAA;AAK9C,IAAA,MAAM,UAAU,QAAS,CAAA,OAAA,CAAA;AAEzB,IAAQ,OAAA,CAAA,sCAAA;AAAA,MACJ,QAAA;AAAA,MACA,MAAO,CAAA,UAAA;AAAA,MACP,YAAa,CAAA,KAAA;AAAA,KACjB,CAAA;AAEA,IAAA,OAAA,CAAQ,YAAY,QAAQ,CAAA,CAAA;AAE5B,IAAM,MAAA,uBAAA,GAA0B,SAAS,cAAe,CAAA,SAAA,CAAA;AAExD,IAAA,OAAA,CAAQ,YAAa,CAAA,CAAA,EAAG,uBAAyB,EAAA,MAAA,CAAO,UAAU,CAAA,CAAA;AAElE,IAAM,MAAA,cAAA,GAAkB,SACnB,WAAY,CAAA,YAAA,CAAa,oBAAoB,MAAO,CAAA,SAAA,CAAU,eAAe,IAAI,CAAA,CAAA;AAEtF,IAAA,OAAA,CAAQ,YAAa,CAAA,CAAA,EAAG,cAAgB,EAAA,MAAA,CAAO,UAAU,CAAA,CAAA;AAEzD,IAAA,MAAM,UAAU,YAAa,CAAA,YAAA,CAAA;AAE7B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,CAAa,iBAAiB,CAClD,EAAA,EAAA;AACI,MAAM,MAAA,KAAA,GAAQ,QAAQ,CAAC,CAAA,CAAA;AAEvB,MAAO,MAAA,CAAA,MAAA,CAAO,CAAC,CAAA,GAAI,KAAM,CAAA,SAAA,CAAA;AAEzB,MAAI,IAAA,CAAC,MAAM,YACX,EAAA;AACI,QAAA,MAAM,eAAe,KAAM,CAAA,QAAA,CAAA;AAE3B,QAAA,KAAA,CAAM,SAAY,GAAA,wBAAA,CAAyB,YAAa,CAAA,QAAA,EAAU,aAAa,KAAK,CAAA,CAAA;AACpF,QAAM,KAAA,CAAA,YAAA,GAAe,SAAS,SAAU,CAAA,YAAA;AAAA,UACpC,KAAM,CAAA,SAAA;AAAA,UAAW,MAAO,CAAA,UAAA;AAAA,UAAY,CAAA;AAAA,SACxC,CAAA;AAAA,OACJ;AAEA,MAAA,OAAA,CAAQ,YAAa,CAAA,CAAA,EAAG,KAAM,CAAA,SAAA,EAAW,OAAO,UAAU,CAAA,CAAA;AAE1D,MAAA,OAAA,CAAQ,kBAAkB,WAAY,CAAA,KAAA,CAAM,IAAM,EAAA,CAAA,EAAG,MAAM,KAAK,CAAA,CAAA;AAAA,KACpE;AAAA,GACJ;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,MAAA,CAAO,QAAQ,IAAI,CAAA,CAAA;AACxB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AACJ,CAAA;AAAA;AAxGa,kBAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,kBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,UAAA;AACV,CAAA;;ACdG,MAAM,cACb,CAAA;AAAA,EAWW,IACP,GAAA;AACI,IAAA,MAAM,aAAa,2BAA4B,CAAA;AAAA,MAC3C,IAAM,EAAA,MAAA;AAAA,MACN,IAAM,EAAA;AAAA,QACF,eAAA;AAAA,QACA,UAAA;AAAA,QACA,cAAA;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,OAAA,GAAU,IAAI,MAAO,CAAA;AAAA,MACtB,UAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,QAAA,EAAU,QAAQ,KAAM,CAAA,OAAA;AAAA,QACxB,QAAA,EAAU,OAAQ,CAAA,KAAA,CAAM,OAAQ,CAAA,KAAA;AAAA,OACpC;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,OAAA,CAAQ,UAAoB,UACnC,EAAA;AACI,IAAA,MAAM,WAAW,QAAS,CAAA,QAAA,CAAA;AAC1B,IAAA,MAAM,OAAO,UAAW,CAAA,IAAA,CAAA;AAExB,IAAA,IAAI,SAAiB,IAAK,CAAA,OAAA,CAAA;AAE1B,IAAA,IAAI,CAAC,MACL,EAAA;AACI,MAAA,MAAA,GAAS,IAAK,CAAA,OAAA,CAAA;AAEd,MAAA,MAAA,CAAO,OAAO,CAAC,CAAA,GAAK,SACf,OAAQ,CAAA,mBAAA,CAAoB,KAAK,OAAO,CAAA,CAAA;AAAA,KACjD;AAGA,IAAA,MAAA,CAAO,MAAO,CAAA,CAAC,CAAI,GAAA,QAAA,CAAS,cAAe,CAAA,SAAA,CAAA;AAE3C,IAAA,MAAM,gBAAgB,QAAS,CAAA,aAAA,CAAA;AAE/B,IAAO,MAAA,CAAA,MAAA,CAAO,CAAC,CAAK,GAAA,QAAA,CACf,YAAY,YAAa,CAAA,mBAAA,CAAoB,eAAe,IAAI,CAAA,CAAA;AAErE,IAAA,QAAA,CAAS,QAAQ,IAAK,CAAA;AAAA,MAClB,UAAU,IAAK,CAAA,SAAA;AAAA,MACf,MAAA;AAAA,MACA,OAAO,IAAK,CAAA,KAAA;AAAA,KACf,CAAA,CAAA;AAAA,GACL;AAAA,EAEO,OACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,CAAQ,QAAQ,IAAI,CAAA,CAAA;AACzB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AACJ,CAAA;AAAA;AAnEa,cAAA,CAGK,SAAY,GAAA;AAAA,EACtB,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,kBAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,MAAA;AACV,CAAA;;ACKJ,MAAM,oBAAuB,GAAA;AAAA,EACzB,GAAG,aAAA;AAAA,EACH,eAAA;AAAA,EACA,YAAA;AAAA,EACA,gBAAA;AAAA,EACA,qBAAA;AAAA,EACA,gBAAA;AAAA,EACA,eAAA;AAAA,EACA,cAAA;AAAA,EACA,cAAA;AAAA,EACA,kBAAA;AAAA,EACA,gBAAA;AAAA,EACA,eAAA;AACJ,CAAA,CAAA;AACA,MAAM,kBAAqB,GAAA,CAAC,GAAG,iBAAA,EAAmB,qBAAqB,oBAAoB,CAAA,CAAA;AAC3F,MAAM,qBAAwB,GAAA,CAAC,eAAiB,EAAA,cAAA,EAAgB,kBAAkB,CAAA,CAAA;AAGlF,MAAM,UAAwD,EAAC,CAAA;AAC/D,MAAM,cAA0D,EAAC,CAAA;AACjE,MAAM,qBAAqD,EAAC,CAAA;AAE5D,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,YAAA,EAAc,OAAO,CAAA,CAAA;AAChE,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,WAAA,EAAa,WAAW,CAAA,CAAA;AACnE,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,kBAAA,EAAoB,kBAAkB,CAAA,CAAA;AAGjF,UAAA,CAAW,IAAI,GAAG,oBAAA,EAAsB,GAAG,kBAAA,EAAoB,GAAG,qBAAqB,CAAA,CAAA;AAmBhF,MAAM,uBACD,gBAEZ,CAAA;AAAA,EAGI,WACA,GAAA;AACI,IAAA,MAAM,YAAe,GAAA;AAAA,MACjB,IAAM,EAAA,QAAA;AAAA,MACN,MAAM,YAAa,CAAA,MAAA;AAAA,MACnB,OAAA;AAAA,MACA,WAAA;AAAA,MACA,kBAAA;AAAA,KACJ,CAAA;AAEA,IAAA,KAAA,CAAM,YAAY,CAAA,CAAA;AAAA,GACtB;AACJ;;;;;;;ACjFA,MAAM,qBAAwB,GAAA;AAAA,EAC1B,MAAQ,EAAA,YAAA;AAAA,EACR,KAAO,EAAA,WAAA;AAAA,EACP,UAAY,EAAA,YAAA;AAAA,EACZ,SAAW,EAAA,eAAA;AAAA,EACX,cAAgB,EAAA,gBAAA;AACpB,CAAA,CAAA;AAGa,MAAA,UAAA,GAAa,IAAI,KAAA,CAAM,qBAAuB,EAAA;AAAA,EACvD,GAAA,CAAI,QAAQ,IACZ,EAAA;AACI,IAAY,WAAA,CAAA,MAAA,EAAQ,CAAc,WAAA,EAAA,IAAA,CAAA,qBAAA,EAA4B,IAAe,CAAA,SAAA,CAAA,CAAA,CAAA;AAE7E,IAAA,OAAO,OAAO,IAAI,CAAA,CAAA;AAAA,GACtB;AACJ,CAAC;;ACzBM,MAAM,kBAA6C,GAAA;AAAA,EACtD,KAAQ,EAAA,CAAA;AAAA,EACR,IAAQ,EAAA,CAAA;AAAA,EACR,IAAQ,EAAA,EAAA;AAAA,EACR,IAAQ,EAAA,EAAA;AAAA,EAER,GAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EAEV,IAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EAEV,IAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,CAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EACV,KAAU,EAAA,EAAA;AAAA,EAEV,MAAU,EAAK,GAAA,CAAA;AAAA,EACf,MAAU,EAAK,GAAA,CAAA;AAAA,EACf,MAAU,EAAK,GAAA,CAAA;AACnB;;ACIY,IAAA,YAAA,qBAAAwE,aAAL,KAAA;AAGH,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,UAAO,CAAP,CAAA,GAAA,MAAA,CAAA;AACA,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,SAAM,CAAN,CAAA,GAAA,KAAA,CAAA;AACA,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,YAAS,CAAT,CAAA,GAAA,QAAA,CAAA;AACA,EAAAA,aAAAA,CAAAA,aAAAA,CAAA,UAAO,CAAP,CAAA,GAAA,MAAA,CAAA;AANQ,EAAAA,OAAAA,aAAAA,CAAAA;AAAA,CAAA,EAAA,YAAA,IAAA,EAAA,EAAA;AAgKA,IAAA,qBAAA,qBAAAC,sBAAL,KAAA;AAEH,EAAAA,uBAAA,OAAQ,CAAA,GAAA,eAAA,CAAA;AAER,EAAAA,uBAAA,QAAS,CAAA,GAAA,QAAA,CAAA;AAET,EAAAA,uBAAA,iBAAkB,CAAA,GAAA,eAAA,CAAA;AANV,EAAAA,OAAAA,sBAAAA,CAAAA;AAAA,CAAA,EAAA,qBAAA,IAAA,EAAA,EAAA;AAUC,MAAA,UAAA,GAAa,IAAI,KAAA,CAAM,qBAAuB,EAAA;AAAA,EACvD,GAAA,CAAI,QAAQ,IACZ,EAAA;AACI,IAAY,WAAA,CAAA,MAAA,EAAQ,CAAc,WAAA,EAAA,IAAA,CAAA,qBAAA,EAA4B,IAAe,CAAA,SAAA,CAAA,CAAA,CAAA;AAE7E,IAAA,OAAO,OAAO,IAAI,CAAA,CAAA;AAAA,GACtB;AACJ,CAAC,EAAA;AAeW,IAAA,sBAAA,qBAAAC,uBAAL,KAAA;AAEH,EAAAA,wBAAA,SAAU,CAAA,GAAA,SAAA,CAAA;AACV,EAAAA,wBAAA,QAAS,CAAA,GAAA,QAAA,CAAA;AAHD,EAAAA,OAAAA,uBAAAA,CAAAA;AAAA,CAAA,EAAA,sBAAA,IAAA,EAAA,EAAA;AASC,MAAA,WAAA,GAAc,IAAI,KAAA,CAAM,sBAAwB,EAAA;AAAA,EACzD,GAAA,CAAI,QAAQ,IACZ,EAAA;AACI,IAAY,WAAA,CAAA,MAAA,EAAQ,CAAc,WAAA,EAAA,IAAA,CAAA,qBAAA,EAA4B,IAAe,CAAA,SAAA,CAAA,CAAA,CAAA;AAE7E,IAAA,OAAO,OAAO,IAAI,CAAA,CAAA;AAAA,GACtB;AACJ,CAAC;;AC1NM,MAAM,UACb,CAAA;AAAA,EA0BI,WACA,GAAA;AACI,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AACV,IAAA,IAAA,CAAK,EAAK,GAAA,CAAA,CAAA;AAEV,IAAK,IAAA,CAAA,UAAA,GAAa,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AAAA,GACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,GAAA,CAAI,KAAkB,EAAA,SAAA,EAAiB,MAC9C,EAAA;AACI,IAAA,MAAM,KAAK,SAAU,CAAA,KAAA,CAAA;AACrB,IAAA,MAAM,KAAK,SAAU,CAAA,MAAA,CAAA;AAErB,IAAA,IAAI,MACJ,EAAA;AAEI,MAAM,MAAA,EAAA,GAAK,KAAM,CAAA,KAAA,GAAQ,CAAI,GAAA,EAAA,CAAA;AAC7B,MAAM,MAAA,EAAA,GAAK,KAAM,CAAA,MAAA,GAAS,CAAI,GAAA,EAAA,CAAA;AAG9B,MAAM,MAAA,EAAA,GAAM,KAAM,CAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAC5B,MAAM,MAAA,EAAA,GAAM,KAAM,CAAA,CAAA,GAAI,EAAM,GAAA,EAAA,CAAA;AAE5B,MAAA,MAAA,GAAS,OAAQ,CAAA,GAAA,CAAI,MAAQ,EAAA,OAAA,CAAQ,EAAE,CAAA,CAAA;AACvC,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACtC,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAEtC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACtC,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAEtC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACtC,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAEtC,MAAS,MAAA,GAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAC,CAAA,CAAA;AAC9B,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AACtC,MAAA,IAAA,CAAK,EAAK,GAAA,EAAA,GAAM,EAAK,GAAA,OAAA,CAAQ,GAAG,MAAM,CAAA,CAAA;AAAA,KAG1C,MAAA;AACI,MAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AACpB,MAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AAEpB,MAAA,IAAA,CAAK,EAAM,GAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,KAAS,IAAA,EAAA,CAAA;AACpC,MAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AAEpB,MAAA,IAAA,CAAK,EAAM,GAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,KAAS,IAAA,EAAA,CAAA;AACpC,MAAA,IAAA,CAAK,EAAM,GAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,MAAU,IAAA,EAAA,CAAA;AAErC,MAAK,IAAA,CAAA,EAAA,GAAK,MAAM,CAAI,GAAA,EAAA,CAAA;AACpB,MAAA,IAAA,CAAK,EAAM,GAAA,CAAA,KAAA,CAAM,CAAI,GAAA,KAAA,CAAM,MAAU,IAAA,EAAA,CAAA;AAAA,KACzC;AAEA,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAC1B,IAAK,IAAA,CAAA,UAAA,CAAW,CAAC,CAAA,GAAI,IAAK,CAAA,EAAA,CAAA;AAAA,GAC9B;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,CACK,0BAAA,EAAA,IAAA,CAAK,EAAS,CAAA,IAAA,EAAA,IAAA,CAAK,SACnB,IAAK,CAAA,EAAA,CAAA,IAAA,EAAS,IAAK,CAAA,EAAA,CAAA,IAAA,EAAS,KAAK,EACjC,CAAA,IAAA,EAAA,IAAA,CAAK,EAAS,CAAA,IAAA,EAAA,IAAA,CAAK,SAAS,IAAK,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAEjD;AAEJ;;ACpIA,IAAI,QAAW,GAAA,CAAA,CAAA;AAER,SAAS,WAChB,GAAA;AACI,EAAO,OAAA,QAAA,EAAA,CAAA;AACX;;ACLgB,SAAA,iBAAA,CAAkB,QAAgB,MAClD,EAAA;AACI,EAAI,IAAA,MAAA,KAAW,YAAY,CAAC,MAAA;AAAQ,IAAO,OAAA,MAAA,CAAA;AAC3C,EAAI,IAAA,MAAA,KAAW,YAAY,CAAC,MAAA;AAAQ,IAAO,OAAA,MAAA,CAAA;AAE3C,EAAM,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;AAC5B,EAAM,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;AAC3B,EAAA,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;AAEpB,EAAM,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;AAC5B,EAAM,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;AAC3B,EAAA,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;AAEpB,EAAM,MAAA,CAAA,GAAK,KAAK,EAAM,GAAA,GAAA,CAAA;AACtB,EAAM,MAAA,CAAA,GAAK,KAAK,EAAM,GAAA,GAAA,CAAA;AACtB,EAAM,MAAA,CAAA,GAAK,KAAK,EAAM,GAAA,GAAA,CAAA;AAEtB,EAAQ,OAAA,CAAA,CAAA,IAAK,EAAO,KAAA,CAAA,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAClC;;AChBgB,SAAA,oBAAA,CAAqB,KAAe,EAAA,MAAA,EAAgB,KACpE,EAAA;AACI,EAAA,MAAM,MAAM,KAAM,CAAA,CAAA,CAAA;AAClB,EAAA,MAAM,MAAM,KAAM,CAAA,CAAA,CAAA;AAClB,EAAA,MAAM,MAAM,KAAM,CAAA,CAAA,CAAA;AAClB,EAAA,MAAM,MAAM,KAAM,CAAA,CAAA,CAAA;AAClB,EAAA,MAAM,OAAO,KAAM,CAAA,EAAA,CAAA;AACnB,EAAA,MAAM,OAAO,KAAM,CAAA,EAAA,CAAA;AAEnB,EAAA,MAAM,MAAM,MAAO,CAAA,CAAA,CAAA;AACnB,EAAA,MAAM,MAAM,MAAO,CAAA,CAAA,CAAA;AACnB,EAAA,MAAM,MAAM,MAAO,CAAA,CAAA,CAAA;AACnB,EAAA,MAAM,MAAM,MAAO,CAAA,CAAA,CAAA;AAEnB,EAAM,KAAA,CAAA,CAAA,GAAK,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AAC/B,EAAM,KAAA,CAAA,CAAA,GAAK,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AAC/B,EAAM,KAAA,CAAA,CAAA,GAAK,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AAC/B,EAAM,KAAA,CAAA,CAAA,GAAK,GAAM,GAAA,GAAA,GAAQ,GAAM,GAAA,GAAA,CAAA;AAC/B,EAAA,KAAA,CAAM,EAAM,GAAA,IAAA,GAAO,GAAQ,GAAA,IAAA,GAAO,MAAO,MAAO,CAAA,EAAA,CAAA;AAChD,EAAA,KAAA,CAAM,EAAM,GAAA,IAAA,GAAO,GAAQ,GAAA,IAAA,GAAO,MAAO,MAAO,CAAA,EAAA,CAAA;AACpD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJO,MAAM,iBAAiB,SAC9B,CAAA;AAAA,EACI,YAAY,OACZ,EAAA;AACI,IAAA,IAAI,mBAAmB,eACvB,EAAA;AACI,MAAU,OAAA,GAAA,EAAE,SAAS,OAAQ,EAAA,CAAA;AAAA,KACjC;AAEA,IAA6B,MAAA,EAAA,GAAA,OAAA,IAAW,EAAhC,EAAA,EAAA,OAAA,KAAqB,EAAT,EAAA,IAAA,GAAAxC,WAAA,CAAS,IAAT,CAAZ,SAAA,CAAA,CAAA,CAAA;AAER,IAAM,KAAA,CAAAlC,gBAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,YAAA,CAAa,OAAO,CAAA;AAAA,MAC9B,KAAO,EAAA,UAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,QAAQ,OACZ,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,OAAU,GAAA,OAAA,CAAA;AAAA,GACxB;AAAA,EAEQ,kBAAA,CAAmB,QAA+B,IAC1D,EAAA;AACI,IAAC,KAAK,IAAK,CAAA,OAAA,CAAgB,MAAM,CAAA,CAAE,GAAG,IAAI,CAAA,CAAA;AAE1C,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA,EAMO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,UAAU,IACjB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA,EAMO,WAAW,IAClB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAAA,GAClD;AAAA,EACO,aAAa,IACpB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EACO,OAAO,IACd,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,KAAA,EAAO,IAAI,CAAA,CAAA;AAAA,GAC9C;AAAA,EACO,OAAO,IACd,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,KAAA,EAAO,IAAI,CAAA,CAAA;AAAA,GAC9C;AAAA,EACO,SAAS,IAChB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,OAAA,EAAS,IAAI,CAAA,CAAA;AAAA,GAChD;AAAA,EACO,YAAY,IACnB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,UAAA,EAAY,IAAI,CAAA,CAAA;AAAA,GACnD;AAAA,EACO,iBAAiB,IACxB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,eAAA,EAAiB,IAAI,CAAA,CAAA;AAAA,GACxD;AAAA,EACO,aAAa,IACpB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EACO,WAAW,IAClB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAAA,GAClD;AAAA,EACO,UAAU,IACjB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA,EACO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,UAAU,IACjB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA,EACO,UAAU,IACjB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA,EACO,oBAAoB,IAC3B,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,kBAAA,EAAoB,IAAI,CAAA,CAAA;AAAA,GAC3D;AAAA,EACO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,aAAa,IACpB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EACO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,OAAO,IACd,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,KAAA,EAAO,IAAI,CAAA,CAAA;AAAA,GAC9C;AAAA,EACO,WAAW,IAClB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAAA,GAClD;AAAA,EACO,QAAQ,IACf,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EACO,gBAAgB,IACvB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAAA,GACvD;AAAA,EACO,kBAAkB,IACzB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,gBAAA,EAAkB,IAAI,CAAA,CAAA;AAAA,GACzD;AAAA,EACO,mBAAmB,IAC1B,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA,EACO,kBAAkB,IACzB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,OAAA,EAAS,IAAI,CAAA,CAAA;AAAA,GAChD;AAAA,EAIO,gBAAgB,IACvB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,cAAA,EAAgB,IAAI,CAAA,CAAA;AAAA,GACvD;AAAA,EAIO,aAAa,IACpB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EACO,sBAAsB,IAC7B,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA,EACO,SAAS,IAChB,EAAA;AACI,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,OAAA,EAAS,IAAI,CAAA,CAAA;AAAA,GAChD;AAAA,EACA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,OAAQ,CAAA,SAAA,CAAA;AAAA,GAC7B;AAAA,EACA,IAAI,UAAU,KACd,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,SAAY,GAAA,KAAA,CAAA;AAAA,GAClC;AAAA,EACA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,OAAQ,CAAA,WAAA,CAAA;AAAA,GAC7B;AAAA,EACA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,QAAQ,WAAc,GAAA,KAAA,CAAA;AAAA,GACpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,SAAA,CAAU,OAAoB,KACrC,EAAA;AAEI,IAAA,WAAA,CAAY,SAAS,qGAAqG,CAAA,CAAA;AAE1H,IAAA,IAAA,CAAK,OAAQ,EAAA,CAAA;AAEb,IAAA,IAAA,CAAK,OAAQ,CAAA,SAAA,GAAY,EAAE,KAAA,EAAO,KAAM,EAAA,CAAA;AAExC,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAKO,OACP,GAAA;AAEI,IAAA,WAAA,CAAY,SAAS,mGAAmG,CAAA,CAAA;AACxH,IAAA,IAAA,CAAK,QAAQ,IAAK,EAAA,CAAA;AAElB,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,cAAc,IACrB,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,yDAAyD,CAAA,CAAA;AAE9E,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,QAAA,EAAU,IAAI,CAAA,CAAA;AAAA,GACjD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,eAAe,IACtB,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,2DAA2D,CAAA,CAAA;AAEhF,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;AAAA,GAClD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,eAAe,IACtB,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,wDAAwD,CAAA,CAAA;AAE7E,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,YAAY,IACnB,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,qDAAqD,CAAA,CAAA;AAE1E,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,mBAAmB,IAC1B,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,iEAAiE,CAAA,CAAA;AAEtF,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,WAAA,EAAa,IAAI,CAAA,CAAA;AAAA,GACpD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,YAAY,IACnB,EAAA;AACI,IAAA,WAAA,CAAY,SAAS,qDAAqD,CAAA,CAAA;AAE1E,IAAO,OAAA,IAAA,CAAK,kBAAmB,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AAAA,GAC/C;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ;;AChTA,MAAM,QAA8C,GAAA;AAAA,EAChD,SAAW,EAAA,cAAA;AAAA,EACX,OAAS,EAAA,YAAA;AAAA,EACT,QAAU,EAAA,aAAA;AAAA,EACV,MAAQ,EAAA,WAAA;AAAA,EACR,OAAS,EAAA,WAAA;AAAA,EACT,gBAAkB,EAAA,WAAA;AACtB,CAAA,CAAA;AASO,SAAS,sBAAsB,OACtC,EAAA;AACI,EAAA,MAAM,WAAqB,EAAC,CAAA;AAC5B,EAAA,MAAM,MAAgB,EAAC,CAAA;AACvB,EAAA,MAAM,UAAoB,EAAC,CAAA;AAG3B,EAAM,MAAA,SAAA,GAAY,QAAQ,IAAK,CAAA,SAAA,CAAA;AAC/B,EAAA,MAAM,gBAAgB,OAAQ,CAAA,aAAA,CAAA;AAE9B,EAAA,SAAA,CAAU,gBAAgB,OAAQ,CAAA,CAAC,EAAE,KAAO,EAAA,SAAA,EAAW,QACvD,KAAA;AACI,IAAA,MAAM,cAAc,OAAQ,CAAA,MAAA,CAAA;AAC5B,IAAM,MAAA,UAAA,GAAa,SAAS,MAAS,GAAA,CAAA,CAAA;AAErC,IAAA,MAAM,SAAmB,EAAC,CAAA;AAE1B,IAAM,MAAA,KAAA,GAAQ,QAAS,CAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAEjC,IAAM,KAAA,CAAA,KAAA,CAAM,OAAO,MAAM,CAAA,CAAA;AAEzB,IAAA,IAAI,MACJ,EAAA;AACI,MAAA,iBAAA,CAAkB,QAAQ,MAAM,CAAA,CAAA;AAAA,KACpC;AAEA,IAAA,KAAA,CAAM,YAAY,MAAQ,EAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAEvE,IAAM,MAAA,SAAA,GAAY,IAAI,MAAS,GAAA,CAAA,CAAA;AAE/B,IAAA,IAAI,aACJ,EAAA;AAEI,MAAA,IAAI,MACJ,EAAA;AACI,QAAA,aAAA,CAAc,MAAO,CAAA,MAAA,CAAO,KAAM,EAAA,CAAE,QAAQ,CAAA,CAAA;AAAA,OAChD;AAEA,MAAS,QAAA,CAAA,QAAA,EAAU,CAAG,EAAA,UAAA,EAAY,GAAK,EAAA,SAAA,EAAW,GAAI,QAAS,CAAA,MAAA,GAAS,CAAK,GAAA,UAAA,EAAY,aAAa,CAAA,CAAA;AAAA,KAG1G,MAAA;AACI,MAAA,cAAA,CAAe,KAAK,SAAW,EAAA,CAAA,EAAI,QAAS,CAAA,MAAA,GAAS,IAAK,UAAU,CAAA,CAAA;AAAA,KACxE;AAAA,GACH,CAAA,CAAA;AAED,EAAA,MAAM,MAAM,OAAQ,CAAA,GAAA,CAAA;AAEpB,EAAA,IAAI,GACJ,EAAA;AACI,IAAI,GAAA,CAAA,SAAA,GAAY,IAAI,YAAA,CAAa,QAAQ,CAAA,CAAA;AACzC,IAAI,GAAA,CAAA,GAAA,GAAM,IAAI,YAAA,CAAa,GAAG,CAAA,CAAA;AAC9B,IAAI,GAAA,CAAA,OAAA,GAAU,IAAI,WAAA,CAAY,OAAO,CAAA,CAAA;AAErC,IAAO,OAAA,GAAA,CAAA;AAAA,GACX;AAEA,EAAM,MAAA,QAAA,GAAW,IAAI,YAAa,CAAA;AAAA,IAC9B,SAAA,EAAW,IAAI,YAAA,CAAa,QAAQ,CAAA;AAAA,IACpC,GAAA,EAAK,IAAI,YAAA,CAAa,GAAG,CAAA;AAAA,IACzB,OAAA,EAAS,IAAI,WAAA,CAAY,OAAO,CAAA;AAAA,GACnC,CAAA,CAAA;AAED,EAAO,OAAA,QAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;AC/EO,MAAM,cAAA,GAAN,cAA4B,YACnC,CAAA;AAAA,EAuBI,eAAe,IACf,EAAA;AAtCJ,IAAA,IAAA,EAAA,CAAA;AAuCQ,IAAA,KAAA,CAAM,EAAE,CAAA,CAAA;AAER,IAAA,IAAI,OAAU,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,CAAC,CAAA,KAAN,YAAW,EAAC,CAAA;AAE1B,IAAI,IAAA,OAAO,YAAY,QACvB,EAAA;AAEI,MAAA,WAAA,CAAY,QAAQ,8FAA8F,CAAA,CAAA;AAElH,MAAU,OAAA,GAAA;AAAA,QACN,KAAO,EAAA,OAAA;AAAA,QACP,MAAA,EAAQ,KAAK,CAAC,CAAA;AAAA,QACd,SAAA,EAAW,KAAK,CAAC,CAAA;AAAA,QACjB,SAAA,EAAW,KAAK,CAAC,CAAA;AAAA,OACrB,CAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,MAAM,OAAO,CAAA,CAAA;AAAA,GACtB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,MAAM,OACb,EAAA;AAhEJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAiEQ,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,eAAc,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEhD,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,SAAL,KAAA,IAAA,GAAA,EAAA,GAAkB,OAAQ,CAAA,SAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,SAAL,KAAA,IAAA,GAAA,EAAA,GAAkB,OAAQ,CAAA,SAAA,CAAA;AAE3C,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,KAAL,KAAA,IAAA,GAAA,EAAA,GAAc,OAAQ,CAAA,KAAA,CAAA;AACnC,IAAA,IAAA,CAAK,MAAS,GAAA,CAAA,EAAA,GAAA,IAAA,CAAK,MAAL,KAAA,IAAA,GAAA,EAAA,GAAe,OAAQ,CAAA,MAAA,CAAA;AAErC,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,IAAK,CAAA,SAAA,CAAA;AACpC,IAAA,MAAM,QAAQ,EAAC,CAAA;AACf,IAAA,MAAM,MAAM,EAAC,CAAA;AACb,IAAA,MAAM,UAAU,EAAC,CAAA;AAEjB,IAAM,MAAA,SAAA,GAAY,KAAK,SAAY,GAAA,CAAA,CAAA;AACnC,IAAM,MAAA,SAAA,GAAY,KAAK,SAAY,GAAA,CAAA,CAAA;AAEnC,IAAM,MAAA,KAAA,GAAS,KAAK,KAAS,GAAA,SAAA,CAAA;AAC7B,IAAM,MAAA,KAAA,GAAS,KAAK,MAAU,GAAA,SAAA,CAAA;AAE9B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,MAAM,MAAA,CAAA,GAAK,IAAI,IAAK,CAAA,SAAA,CAAA;AACpB,MAAM,MAAA,CAAA,GAAM,CAAI,GAAA,IAAA,CAAK,SAAa,GAAA,CAAA,CAAA;AAElC,MAAA,KAAA,CAAM,IAAK,CAAA,CAAA,GAAI,KAAO,EAAA,CAAA,GAAI,KAAK,CAAA,CAAA;AAC/B,MAAA,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,SAAW,EAAA,CAAA,GAAI,SAAS,CAAA,CAAA;AAAA,KACzC;AAEA,IAAA,MAAM,WAAW,SAAY,GAAA,SAAA,CAAA;AAE7B,IAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,EAAU,CAC9B,EAAA,EAAA;AACI,MAAA,MAAM,OAAO,CAAI,GAAA,SAAA,CAAA;AACjB,MAAM,MAAA,IAAA,GAAQ,IAAI,SAAa,GAAA,CAAA,CAAA;AAE/B,MAAM,MAAA,KAAA,GAAS,IAAO,GAAA,IAAA,CAAK,SAAa,GAAA,IAAA,CAAA;AACxC,MAAA,MAAM,MAAU,GAAA,IAAA,GAAO,IAAK,CAAA,SAAA,GAAa,IAAO,GAAA,CAAA,CAAA;AAChD,MAAA,MAAM,MAAW,GAAA,CAAA,IAAA,GAAO,CAAK,IAAA,IAAA,CAAK,SAAa,GAAA,IAAA,CAAA;AAC/C,MAAA,MAAM,MAAW,GAAA,CAAA,IAAA,GAAO,CAAK,IAAA,IAAA,CAAK,YAAa,IAAO,GAAA,CAAA,CAAA;AAEtD,MAAQ,OAAA,CAAA,IAAA;AAAA,QAAK,KAAA;AAAA,QAAO,MAAA;AAAA,QAAQ,MAAA;AAAA,QACxB,MAAA;AAAA,QAAQ,MAAA;AAAA,QAAQ,MAAA;AAAA,OAAM,CAAA;AAAA,KAC9B;AAEA,IAAA,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAE,IAAO,GAAA,IAAI,aAAa,KAAK,CAAA,CAAA;AAC7C,IAAA,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAE,IAAO,GAAA,IAAI,aAAa,GAAG,CAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,WAAY,CAAA,IAAA,GAAO,IAAI,WAAA,CAAY,OAAO,CAAA,CAAA;AAG/C,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,MAAO,EAAA,CAAA;AACvB,IAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,MAAO,EAAA,CAAA;AACvB,IAAA,IAAA,CAAK,YAAY,MAAO,EAAA,CAAA;AAAA,GAC5B;AACJ,CAAA,CAAA;AAzGO,IAAM,aAAN,GAAA,eAAA;AAAM,aAAA,CAEK,cAA6D,GAAA;AAAA,EACvE,KAAO,EAAA,GAAA;AAAA,EACP,MAAQ,EAAA,GAAA;AAAA,EACR,SAAW,EAAA,EAAA;AAAA,EACX,SAAW,EAAA,EAAA;AACf,CAAA;;;;;;;;;;;;;;;;;;ACJG,MAAM,kBAAA,GAAN,cAAgC,aACvC,CAAA;AAAA,EA0BI,YAAY,OACZ,EAAA;AACI,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,mBAAkB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEpD,IAAM,KAAA,CAAA;AAAA,MACF,OAAO,OAAQ,CAAA,KAAA;AAAA,MACf,QAAQ,OAAQ,CAAA,MAAA;AAAA,MAChB,SAAW,EAAA,CAAA;AAAA,MACX,SAAW,EAAA,CAAA;AAAA,KACd,CAAA,CAAA;AAXL,IAAiB,IAAA,CAAA,cAAA,GAAyB,IAAI,MAAO,EAAA,CAAA;AAajD,IAAA,IAAA,CAAK,OAAO,OAAO,CAAA,CAAA;AAAA,GACvB;AAAA,EAEO,OAAO,OACd,EAAA;AACI,IAAA,IAAA,CAAK,UAAU,OAAO,CAAA,CAAA;AACtB,IAAA,IAAA,CAAK,gBAAgB,OAAO,CAAA,CAAA;AAAA,GAChC;AAAA,EAEO,gBAAgB,OACvB,EAAA;AAhEJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAiEQ,IAAA,IAAA,CAAK,KAAQ,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAR,KAAA,IAAA,GAAA,EAAA,GAAiB,IAAK,CAAA,KAAA,CAAA;AACnC,IAAA,IAAA,CAAK,MAAS,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,MAAR,KAAA,IAAA,GAAA,EAAA,GAAkB,IAAK,CAAA,MAAA,CAAA;AAErC,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,UAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,UAAR,KAAA,IAAA,GAAA,EAAA,GAAsB,IAAK,CAAA,WAAA,CAAA;AAC9C,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,UAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,aAAA,CAAA;AAElD,IAAA,MAAM,YAAY,IAAK,CAAA,SAAA,CAAA;AAEvB,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,UAAA,GAAa,IAAK,CAAA,WAAA,CAAA;AACjC,IAAA,MAAM,SAAS,IAAK,CAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,GAAM,KAAK,KAAQ,GAAA,CAAA,CAAA;AAEnD,IAAM,MAAA,CAAA,GAAI,IAAK,CAAA,UAAA,GAAa,IAAK,CAAA,aAAA,CAAA;AACjC,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,GAAS,CAAI,GAAA,CAAA,GAAM,KAAK,MAAS,GAAA,CAAA,CAAA;AAErD,IAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,MAAA,EAAQ,MAAM,CAAA,CAAA;AAErC,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AACjF,IAAA,SAAA,CAAU,EAAE,CAAA,GAAI,SAAU,CAAA,EAAE,IAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,IAAK,CAAA,MAAA,GAAU,KAAK,aAAgB,GAAA,KAAA,CAAA;AACpG,IAAU,SAAA,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,IAAK,CAAA,MAAA,CAAA;AAErE,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AACjF,IAAA,SAAA,CAAU,CAAC,CAAA,GAAI,SAAU,CAAA,EAAE,IAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,IAAK,CAAA,KAAA,GAAS,KAAK,WAAc,GAAA,KAAA,CAAA;AAChG,IAAU,SAAA,CAAA,CAAC,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,SAAU,CAAA,EAAE,CAAI,GAAA,SAAA,CAAU,EAAE,CAAA,GAAI,IAAK,CAAA,KAAA,CAAA;AAEpE,IAAK,IAAA,CAAA,SAAA,CAAU,WAAW,CAAA,CAAE,MAAO,EAAA,CAAA;AAAA,GACvC;AAAA,EAEO,UAAU,OACjB,EAAA;AA/FJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAgGQ,IAAA,IAAA,CAAK,cAAiB,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,aAAR,KAAA,IAAA,GAAA,EAAA,GAAyB,IAAK,CAAA,cAAA,CAAA;AACpD,IAAA,IAAA,CAAK,eAAkB,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,cAAR,KAAA,IAAA,GAAA,EAAA,GAA0B,IAAK,CAAA,eAAA,CAAA;AACtD,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,UAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,WAAc,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,UAAR,KAAA,IAAA,GAAA,EAAA,GAAsB,IAAK,CAAA,WAAA,CAAA;AAC9C,IAAA,IAAA,CAAK,UAAa,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,IAAK,CAAA,UAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,aAAgB,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,YAAR,KAAA,IAAA,GAAA,EAAA,GAAwB,IAAK,CAAA,aAAA,CAAA;AAElD,IAAA,IAAI,QAAQ,aACZ,EAAA;AACI,MAAK,IAAA,CAAA,cAAA,CAAe,QAAS,CAAA,OAAA,CAAQ,aAAa,CAAA,CAAA;AAAA,KACtD;AAEA,IAAA,MAAM,gBAAgB,IAAK,CAAA,cAAA,CAAA;AAE3B,IAAA,MAAM,MAAM,IAAK,CAAA,GAAA,CAAA;AAEjB,IAAI,GAAA,CAAA,CAAC,CAAI,GAAA,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,CAAA,CAAA;AACtC,IAAI,GAAA,CAAA,CAAC,CAAI,GAAA,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,CAAI,GAAA,CAAA,CAAA;AAEpC,IAAI,GAAA,CAAA,CAAC,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,IAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,CAAA,CAAA;AACvC,IAAI,GAAA,CAAA,EAAE,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,IAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,CAAA,CAAA;AAExC,IAAM,MAAA,IAAA,GAAO,IAAM,IAAK,CAAA,cAAA,CAAA;AACxB,IAAM,MAAA,IAAA,GAAO,IAAM,IAAK,CAAA,eAAA,CAAA;AAExB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,IAAA,GAAO,IAAK,CAAA,UAAA,CAAA;AACnD,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,IAAA,GAAO,IAAK,CAAA,UAAA,CAAA;AAEnD,IAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,CAAA,GAAK,OAAO,IAAK,CAAA,WAAA,CAAA;AACxD,IAAA,GAAA,CAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,GAAA,CAAI,EAAE,CAAA,GAAI,GAAI,CAAA,EAAE,CAAI,GAAA,CAAA,GAAK,OAAO,IAAK,CAAA,aAAA,CAAA;AAEzD,IAAA,WAAA,CAAY,eAAe,GAAG,CAAA,CAAA;AAE9B,IAAK,IAAA,CAAA,SAAA,CAAU,KAAK,CAAA,CAAE,MAAO,EAAA,CAAA;AAAA,GACjC;AACJ,CAAA,CAAA;AAnHO,IAAM,iBAAN,GAAA,mBAAA;AAAM,iBAAA,CAEK,cAA2C,GAAA;AAAA,EACrD,KAAO,EAAA,GAAA;AAAA,EACP,MAAQ,EAAA,GAAA;AAAA,EACR,SAAW,EAAA,EAAA;AAAA,EACX,SAAW,EAAA,EAAA;AAAA,EACX,UAAY,EAAA,EAAA;AAAA,EACZ,YAAc,EAAA,EAAA;AAAA,EAEd,aAAe,EAAA,GAAA;AAAA,EACf,cAAgB,EAAA,GAAA;AACpB,CAAA,CAAA;AAyGJ,SAAS,WAAA,CAAY,MAAgB,EAAA,GAAA,EAAmB,GACxD,EAAA;AACI,EAAQ,GAAA,IAAA,IAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA;AAER,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;AACjB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAClB,EAAA,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;AAElB,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,GAAI,CAAA,MAAA,EAAQ,KAAK,CACrC,EAAA;AACI,IAAM,MAAA,CAAA,GAAI,IAAI,CAAC,CAAA,CAAA;AACf,IAAM,MAAA,CAAA,GAAI,GAAI,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAEnB,IAAA,GAAA,CAAI,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAC7B,IAAA,GAAA,CAAI,IAAI,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;AAAA,GACrC;AAEA,EAAO,OAAA,GAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9GO,MAAM,gBAAA,GAAN,cAA8B,SACrC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBI,YAAY,OACZ,EAAA;AAnEJ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAoEQ,IAAA,IAAK,mBAAmB,OACxB,EAAA;AACI,MAAU,OAAA,GAAA,EAAE,SAAS,OAAQ,EAAA,CAAA;AAAA,KACjC;AAEA,IAAA,MAAqF,EAA7E,GAAA,OAAA,EAAA,EAAA,SAAA,EAAW,UAAY,EAAA,SAAA,EAAW,cAAc,OAAS,EAAA,MAAA,EAAoB,GAAA,EAAA,EAAT,mBAAS,EAAT,EAAA,CAApE,WAAW,EAAA,YAAA,EAAY,aAAW,cAAc,EAAA,SAAA,CAAA,CAAA,CAAA;AACxD,IAAM,MAAA,OAAA,GAAU,MAAU,IAAA,IAAA,GAAA,MAAA,GAAA,gBAAA,CAAgB,cAAe,CAAA,OAAA,CAAA;AACzD,IAAM,MAAA,OAAA,GAAU,QAAQ,MAAO,CAAA,cAAA,CAAA;AAE/B,IAAM,MAAA,iBAAA,GAAoB,IAAI,iBAAA,CAAkB,YAAa,CAAA;AAAA,MACzD,OAAO,OAAQ,CAAA,KAAA;AAAA,MACf,QAAQ,OAAQ,CAAA,MAAA;AAAA,MAChB,eAAe,OAAQ,CAAA,KAAA;AAAA,MACvB,gBAAgB,OAAQ,CAAA,MAAA;AAAA,MACxB,YAAW,EAAa,GAAA,SAAA,IAAA,IAAA,GAAA,SAAA,GAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,IAAtB,KAAA,IAAA,GAAA,EAAA,GAA8B,iBAAgB,cAAe,CAAA,SAAA;AAAA,MACxE,YAAW,EAAa,GAAA,SAAA,IAAA,IAAA,GAAA,SAAA,GAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,GAAtB,KAAA,IAAA,GAAA,EAAA,GAA6B,iBAAgB,cAAe,CAAA,SAAA;AAAA,MACvE,aAAY,EAAc,GAAA,UAAA,IAAA,IAAA,GAAA,UAAA,GAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,KAAvB,KAAA,IAAA,GAAA,EAAA,GAAgC,iBAAgB,cAAe,CAAA,UAAA;AAAA,MAC3E,eAAc,EAAgB,GAAA,YAAA,IAAA,IAAA,GAAA,YAAA,GAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAS,MAAzB,KAAA,IAAA,GAAA,EAAA,GAAmC,iBAAgB,cAAe,CAAA,YAAA;AAAA,MAChF,aAAA,EAAe,QAAQ,aAAc,CAAA,QAAA;AAAA,KACxC,CAAC,CAAA,CAAA;AAEF,IAAM,KAAA,CAAAA,gBAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,QAAA,CAA4B,YAAa,CAAA;AAAA,QAC/C,QAAU,EAAA,iBAAA;AAAA,QACV,OAAA;AAAA,OACH,CAAC,CAAA;AAAA,MACF,KAAO,EAAA,iBAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA;AAAA,EAGA,IAAI,KACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,KAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,eAAgB,CAAA;AAAA,MAC/B,KAAO,EAAA,KAAA;AAAA,KACV,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,MAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,eAAgB,CAAA;AAAA,MAC/B,MAAQ,EAAA,KAAA;AAAA,KACX,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,UAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,SAAU,CAAA;AAAA,MACzB,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,UAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,SAAU,CAAA;AAAA,MACzB,SAAW,EAAA,KAAA;AAAA,KACd,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,WAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,SAAU,CAAA;AAAA,MACzB,UAAY,EAAA,KAAA;AAAA,KACf,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,QAAS,CAAA,aAAA,CAAA;AAAA,GAC9B;AAAA,EAEA,IAAI,aAAa,KACjB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,SAAU,CAAA;AAAA,MACzB,YAAc,EAAA,KAAA;AAAA,KACjB,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAI,IAAA,KAAA,KAAU,KAAK,IAAK,CAAA,OAAA;AAAS,MAAA,OAAA;AAGjC,IAAK,IAAA,CAAA,IAAA,CAAK,SAAS,SAAU,CAAA;AAAA,MACzB,eAAe,KAAM,CAAA,KAAA;AAAA,MACrB,gBAAgB,KAAM,CAAA,MAAA;AAAA,MACtB,aAAA,EAAe,MAAM,aAAc,CAAA,QAAA;AAAA,KACtC,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,KAAK,OAAU,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ,CAAA,CAAA;AA9JO,IAAM,eAAN,GAAA,iBAAA;AAAM,eAAA,CAEK,cAAyC,GAAA;AAAA,EACnD,SAAS,OAAQ,CAAA,KAAA;AAAA,EACjB,SAAW,EAAA,EAAA;AAAA,EACX,SAAW,EAAA,EAAA;AAAA,EACX,UAAY,EAAA,EAAA;AAAA,EACZ,YAAc,EAAA,EAAA;AAClB,CAAA,CAAA;AAyJG,MAAM,uBAAuB,eACpC,CAAA;AAAA,EAII,eAAe,IACf,EAAA;AACI,IAAI,IAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AAEpB,IAAA,IAAI,mBAAmB,OACvB,EAAA;AAEI,MAAA,WAAA,CAAY,QAAQ,sGAAsG,CAAA,CAAA;AAE1H,MAAU,OAAA,GAAA;AAAA,QACN,OAAS,EAAA,OAAA;AAAA,QACT,SAAA,EAAW,KAAK,CAAC,CAAA;AAAA,QACjB,SAAA,EAAW,KAAK,CAAC,CAAA;AAAA,QACjB,UAAA,EAAY,KAAK,CAAC,CAAA;AAAA,QAClB,YAAA,EAAc,KAAK,CAAC,CAAA;AAAA,OACxB,CAAA;AAAA,KACJ;AACA,IAAA,WAAA,CAAY,QAAQ,4DAA4D,CAAA,CAAA;AAChF,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,GACjB;AACJ;;ACnOgB,SAAA,uBAAA,CAAwB,SAAkB,GAC1D,EAAA;AACI,EAAM,MAAA,EAAE,UAAY,EAAA,WAAA,EAAgB,GAAA,OAAA,CAAA;AAEpC,EAAA,GAAA,CAAI,KAAM,CAAA,CAAA,GAAI,UAAY,EAAA,CAAA,GAAI,WAAW,CAAA,CAAA;AAEzC,EAAO,OAAA,GAAA,CAAA;AACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACOO,MAAM,aAGH,SACV,CAAA;AAAA,EAII,eAAe,IACf,EAAA;AACI,IAAI,IAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AAEpB,IAAA,IAAI,mBAAmB,YACvB,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,kDAAkD,CAAA,CAAA;AAEtE,MAAU,OAAA,GAAA;AAAA,QACN,QAAU,EAAA,OAAA;AAAA,QACV,MAAA,EAAQ,KAAK,CAAC,CAAA;AAAA,OAClB,CAAA;AAEA,MAAI,IAAA,IAAA,CAAK,CAAC,CACV,EAAA;AACI,QAAA,WAAA,CAAY,QAAQ,yEAAyE,CAAA,CAAA;AAC7F,QAAQ,OAAA,CAAA,QAAA,CAAS,QAAW,GAAA,IAAA,CAAK,CAAC,CAAA,CAAA;AAAA,OACtC;AAAA,KACJ;AAEA,IAA+C,MAAA,EAAA,GAAA,OAAA,EAAvC,EAAU,QAAA,EAAA,MAAA,EAAQ,OA7ClC,EAAA,GA6CuD,IAAT,IAAS,GAAAkC,WAAA,CAAA,EAAA,EAAT,CAA9B,UAAA,EAAU,QAAQ,EAAA,SAAA,CAAA,CAAA,CAAA;AAE1B,IAAM,KAAA,CAAAlC,gBAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,QAAS,CAAA,YAAA,CAAa,EAAE,QAAU,EAAA,MAAA,EAAQ,OAAQ,EAAC,CAAC,CAAA;AAAA,MAC9D,KAAO,EAAA,MAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,OAAU,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,QAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,QAAW,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAA,WAAA,CAAY,QAAQ,kEAAkE,CAAA,CAAA;AAEtF,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ;;AC7DO,MAAM,uBAAuB,MACpC,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgFI,WAAA,CAAY,QAAqC,EAAA,UAAA,GAAa,IAC9D,EAAA;AACI,IAAM,KAAA,CAAA,QAAA,CAAS,CAAC,CAAA,YAAa,OAAU,GAAA,QAAA,CAAS,CAAC,CAAI,GAAA,QAAA,CAAS,CAAC,CAAA,CAAE,OAAO,CAAA,CAAA;AAExE,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,WAAc,GAAA,UAAA,CAAA;AACnB,IAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAE5B,IAAA,IAAA,CAAK,cAAiB,GAAA,CAAA,CAAA;AACtB,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AACZ,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AACpB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAA,IAAA,CAAK,YAAe,GAAA,CAAA,CAAA;AAEpB,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAAA,GACpB;AAAA;AAAA,EAGO,IACP,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,QACV,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAChB,IAAI,IAAA,IAAA,CAAK,WAAe,IAAA,IAAA,CAAK,oBAC7B,EAAA;AACI,MAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AACtC,MAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AAAA;AAAA,EAGO,IACP,GAAA;AACI,IAAA,IAAI,KAAK,QACT,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAChB,IAAA,IAAI,IAAK,CAAA,WAAA,IAAe,CAAC,IAAA,CAAK,oBAC9B,EAAA;AACI,MAAA,MAAA,CAAO,OAAO,GAAI,CAAA,IAAA,CAAK,MAAQ,EAAA,IAAA,EAAM,gBAAgB,IAAI,CAAA,CAAA;AACzD,MAAA,IAAA,CAAK,oBAAuB,GAAA,IAAA,CAAA;AAAA,KAChC;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,YAAY,WACnB,EAAA;AACI,IAAA,IAAA,CAAK,IAAK,EAAA,CAAA;AACV,IAAA,IAAA,CAAK,YAAe,GAAA,WAAA,CAAA;AAAA,GACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,YAAY,WACnB,EAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,WAAA,CAAA;AACpB,IAAA,IAAA,CAAK,IAAK,EAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,MACd,EAAA;AAEI,IAAI,IAAA,CAAC,KAAK,QACV,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAGA,IAAA,MAAM,YAAY,MAAO,CAAA,SAAA,CAAA;AACzB,IAAM,MAAA,OAAA,GAAU,KAAK,cAAiB,GAAA,SAAA,CAAA;AACtC,IAAA,MAAM,gBAAgB,IAAK,CAAA,YAAA,CAAA;AAG3B,IAAI,IAAA,IAAA,CAAK,eAAe,IACxB,EAAA;AAEI,MAAA,IAAI,MAAM,IAAK,CAAA,YAAA,GAAe,IAAI,IAAK,CAAA,UAAA,CAAW,KAAK,YAAY,CAAA,CAAA;AAGnE,MAAA,GAAA,IAAO,UAAU,EAAK,GAAA,GAAA,CAAA;AAGtB,MAAA,OAAO,MAAM,CACb,EAAA;AACI,QAAK,IAAA,CAAA,YAAA,EAAA,CAAA;AACL,QAAO,GAAA,IAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,YAAY,CAAA,CAAA;AAAA,OAC5C;AAEA,MAAA,MAAM,IAAO,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,iBAAiB,SAAS,CAAA,CAAA;AAGtD,MAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAK,KAAM,CAAA,IAAA,CAAK,YAAY,CAAA,CAAA;AAGhD,MAAA,OAAO,GAAO,IAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,YAAY,CAC/C,EAAA;AACI,QAAA,GAAA,IAAO,IAAK,CAAA,UAAA,CAAW,IAAK,CAAA,YAAY,CAAI,GAAA,IAAA,CAAA;AAC5C,QAAA,IAAA,CAAK,YAAgB,IAAA,IAAA,CAAA;AAAA,OACzB;AAGA,MAAA,IAAA,CAAK,YAAgB,IAAA,GAAA,GAAM,IAAK,CAAA,UAAA,CAAW,KAAK,YAAY,CAAA,CAAA;AAAA,KAGhE,MAAA;AAEI,MAAA,IAAA,CAAK,YAAgB,IAAA,OAAA,CAAA;AAAA,KACzB;AAGA,IAAA,IAAI,IAAK,CAAA,YAAA,GAAe,CAAK,IAAA,CAAC,KAAK,IACnC,EAAA;AAEI,MAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAGlB,MAAA,IAAI,KAAK,UACT,EAAA;AACI,QAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,OACpB;AAAA,KACJ,MAAA,IACS,KAAK,YAAgB,IAAA,IAAA,CAAK,UAAU,MAAU,IAAA,CAAC,KAAK,IAC7D,EAAA;AAEI,MAAA,IAAA,CAAK,WAAY,CAAA,IAAA,CAAK,SAAU,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AAG1C,MAAA,IAAI,KAAK,UACT,EAAA;AACI,QAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,OACpB;AAAA,KACJ,MAAA,IACS,aAAkB,KAAA,IAAA,CAAK,YAChC,EAAA;AAEI,MAAI,IAAA,IAAA,CAAK,IAAQ,IAAA,IAAA,CAAK,MACtB,EAAA;AACI,QAAK,IAAA,IAAA,CAAK,cAAiB,GAAA,CAAA,IAAK,IAAK,CAAA,YAAA,GAAe,aAC5C,IAAA,IAAA,CAAK,cAAiB,GAAA,CAAA,IAAK,IAAK,CAAA,YAAA,GAAe,aACvD,EAAA;AAEI,UAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,SAChB;AAAA,OACJ;AAGA,MAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,KACxB;AAAA,GACJ;AAAA;AAAA,EAGQ,cACR,GAAA;AACI,IAAA,MAAM,eAAe,IAAK,CAAA,YAAA,CAAA;AAE1B,IAAI,IAAA,IAAA,CAAK,mBAAmB,YAC5B,EAAA;AACI,MAAA,OAAA;AAAA,KACJ;AAEA,IAAA,IAAA,CAAK,cAAiB,GAAA,YAAA,CAAA;AAEtB,IAAK,IAAA,CAAA,OAAA,GAAU,IAAK,CAAA,SAAA,CAAU,YAAY,CAAA,CAAA;AAE1C,IAAA,IAAI,KAAK,YACT,EAAA;AACI,MAAA,IAAA,CAAK,MAAO,CAAA,QAAA,CAAS,IAAK,CAAA,OAAA,CAAQ,OAAO,aAAa,CAAA,CAAA;AAAA,KAC1D;AAEA,IAAA,IAAI,KAAK,aACT,EAAA;AACI,MAAK,IAAA,CAAA,aAAA,CAAc,KAAK,YAAY,CAAA,CAAA;AAAA,KACxC;AAAA,GACJ;AAAA;AAAA,EAGO,OACP,GAAA;AACI,IAAA,IAAA,CAAK,IAAK,EAAA,CAAA;AACV,IAAA,KAAA,CAAM,OAAQ,EAAA,CAAA;AAEd,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;AACrB,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAAA,GAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAc,WAAW,MACzB,EAAA;AACI,IAAA,MAAM,WAAW,EAAC,CAAA;AAElB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,MAAA,EAAQ,EAAE,CACrC,EAAA;AACI,MAAA,QAAA,CAAS,KAAK,OAAQ,CAAA,IAAA,CAAK,MAAO,CAAA,CAAC,CAAC,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAO,OAAA,IAAI,eAAe,QAAQ,CAAA,CAAA;AAAA,GACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAc,WAAW,MACzB,EAAA;AACI,IAAA,MAAM,WAAW,EAAC,CAAA;AAElB,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,MAAA,EAAQ,EAAE,CACrC,EAAA;AACI,MAAA,QAAA,CAAS,KAAK,OAAQ,CAAA,IAAA,CAAK,MAAO,CAAA,CAAC,CAAC,CAAC,CAAA,CAAA;AAAA,KACzC;AAEA,IAAO,OAAA,IAAI,eAAe,QAAQ,CAAA,CAAA;AAAA,GACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,WACJ,GAAA;AACI,IAAA,OAAO,KAAK,SAAU,CAAA,MAAA,CAAA;AAAA,GAC1B;AAAA;AAAA,EAGA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAI,IAAA,KAAA,CAAM,CAAC,CAAA,YAAa,OACxB,EAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,MAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAAA,KAGtB,MAAA;AACI,MAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAClB,MAAA,IAAA,CAAK,aAAa,EAAC,CAAA;AAEnB,MAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,CAAM,QAAQ,CAClC,EAAA,EAAA;AACI,QAAA,IAAA,CAAK,SAAU,CAAA,IAAA,CAAM,KAAM,CAAA,CAAC,EAAkB,OAAO,CAAA,CAAA;AACrD,QAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAM,KAAM,CAAA,CAAC,EAAkB,IAAI,CAAA,CAAA;AAAA,OACvD;AAAA,KACJ;AACA,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA;AAClB,IAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,GACxB;AAAA;AAAA,EAGA,IAAI,YACJ,GAAA;AACI,IAAA,IAAI,eAAe,IAAK,CAAA,KAAA,CAAM,KAAK,YAAY,CAAA,GAAI,KAAK,SAAU,CAAA,MAAA,CAAA;AAElE,IAAA,IAAI,eAAe,CACnB,EAAA;AACI,MAAA,YAAA,IAAgB,KAAK,SAAU,CAAA,MAAA,CAAA;AAAA,KACnC;AAEA,IAAO,OAAA,YAAA,CAAA;AAAA,GACX;AAAA,EAEA,IAAI,aAAa,KACjB,EAAA;AACI,IAAA,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAQ,GAAA,IAAA,CAAK,cAAc,CAC5C,EAAA;AACI,MAAA,MAAM,IAAI,KAAA,CAAM,CAA+C,4CAAA,EAAA,KAAA,CAAA,2CAAA,EACb,KAAK,WAAc,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,KACzE;AAEA,IAAA,MAAM,gBAAgB,IAAK,CAAA,YAAA,CAAA;AAE3B,IAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAEpB,IAAI,IAAA,aAAA,KAAkB,KAAK,YAC3B,EAAA;AACI,MAAA,IAAA,CAAK,cAAe,EAAA,CAAA;AAAA,KACxB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,WAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,WAAW,KACf,EAAA;AACI,IAAI,IAAA,KAAA,KAAU,KAAK,WACnB,EAAA;AACI,MAAA,IAAA,CAAK,WAAc,GAAA,KAAA,CAAA;AAEnB,MAAA,IAAI,CAAC,IAAA,CAAK,WAAe,IAAA,IAAA,CAAK,oBAC9B,EAAA;AACI,QAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAO,IAAK,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AACtC,QAAA,IAAA,CAAK,oBAAuB,GAAA,KAAA,CAAA;AAAA,iBAEvB,IAAK,CAAA,WAAA,IAAe,CAAC,IAAK,CAAA,oBAAA,IAAwB,KAAK,QAChE,EAAA;AACI,QAAA,MAAA,CAAO,MAAO,CAAA,GAAA,CAAI,IAAK,CAAA,MAAA,EAAQ,IAAI,CAAA,CAAA;AACnC,QAAA,IAAA,CAAK,oBAAuB,GAAA,IAAA,CAAA;AAAA,OAChC;AAAA,KACJ;AAAA,GACJ;AACJ;;ACncO,MAAM,SACb,CAAA;AAAA,EAiDI,YAAY,EAAE,MAAA,EAAQ,QAAS,EAAA,GAAsB,EACrD,EAAA;AAJA,IAAA,IAAA,CAAU,KAAQ,GAAA,IAAA,CAAA;AAKd,IAAK,IAAA,CAAA,OAAA,GAAU,MAAU,IAAA,IAAA,GAAA,MAAA,GAAA,IAAI,MAAO,EAAA,CAAA;AACpC,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,QAAW,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAC9C,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAC3C,IAAA,IAAA,CAAK,IAAO,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;AACjB,IAAA,IAAA,CAAK,GAAM,GAAA,CAAA,CAAA;AACX,IAAA,IAAA,CAAK,GAAM,GAAA,CAAA,CAAA;AACX,IAAA,IAAA,CAAK,GAAM,GAAA,CAAA,CAAA;AACX,IAAA,IAAA,CAAK,GAAM,GAAA,CAAA,CAAA;AAAA,GACf;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,MAAM,KAAK,IAAK,CAAA,OAAA,CAAA;AAEhB,IAAA,IAAI,CAAC,IAAK,CAAA,KAAA;AAAO,MAAO,OAAA,EAAA,CAAA;AAExB,IAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,CAAA;AAC7B,IAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,CAAA;AAC7B,IAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,CAAA;AAC7B,IAAA,EAAA,CAAG,CAAI,GAAA,IAAA,CAAK,GAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,CAAA;AAE7B,IAAA,EAAA,CAAG,EAAK,GAAA,IAAA,CAAK,QAAS,CAAA,CAAA,IAAM,IAAK,CAAA,KAAA,CAAM,CAAI,GAAA,EAAA,CAAG,CAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AACtE,IAAA,EAAA,CAAG,EAAK,GAAA,IAAA,CAAK,QAAS,CAAA,CAAA,IAAM,IAAK,CAAA,KAAA,CAAM,CAAI,GAAA,EAAA,CAAG,CAAM,GAAA,IAAA,CAAK,KAAM,CAAA,CAAA,GAAI,EAAG,CAAA,CAAA,CAAA,CAAA;AAEtE,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AAEb,IAAO,OAAA,EAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,SAAS,KAChB,EAAA;AAvGJ,IAAA,IAAA,EAAA,CAAA;AAwGQ,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAEb,IAAI,IAAA,KAAA,KAAU,KAAK,IACnB,EAAA;AACI,MAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,KACpB;AAEA,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,QAAA,KAAL,mBAAe,QAAS,CAAA,IAAA,CAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGU,UACV,GAAA;AACI,IAAA,IAAA,CAAK,MAAM,IAAK,CAAA,GAAA,CAAI,KAAK,SAAY,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAChD,IAAA,IAAA,CAAK,MAAM,IAAK,CAAA,GAAA,CAAI,KAAK,SAAY,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAChD,IAAK,IAAA,CAAA,GAAA,GAAM,CAAC,IAAK,CAAA,GAAA,CAAI,KAAK,SAAY,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AACjD,IAAA,IAAA,CAAK,MAAM,IAAK,CAAA,GAAA,CAAI,KAAK,SAAY,GAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAEhD,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA,EAGO,QACP,GAAA;AACI,IAAA,OAAO,mCACY,IAAK,CAAA,QAAA,CAAS,MAAM,IAAK,CAAA,QAAA,CAAS,eACnC,IAAK,CAAA,QAAA,CAAA,QAAA,EACP,KAAK,KAAM,CAAA,CAAA,CAAA,EAAA,EAAM,KAAK,KAAM,CAAA,CAAA,CAAA,QAAA,EAC7B,KAAK,IAAK,CAAA,CAAA,CAAA,EAAA,EAAM,KAAK,IAAK,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA;AAAA,GAE7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,cAAc,MACrB,EAAA;AACI,IAAA,MAAA,CAAO,UAAU,IAAI,CAAA,CAAA;AACrB,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AAAA;AAAA,EAGA,IAAI,QACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,SAAS,KACb,EAAA;AACI,IAAI,IAAA,IAAA,CAAK,cAAc,KACvB,EAAA;AACI,MAAA,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;AACjB,MAAA,IAAA,CAAK,UAAW,EAAA,CAAA;AAAA,KACpB;AAAA,GACJ;AACJ;;;;;;;;;;;;;;;;;;AC7IO,MAAM,oBAAN,MACP;AAAA,EA8BI,YAAY,OACZ,EAAA;AAvBA,IAAA,IAAA,CAAgB,KAAQ,GAAA,iBAAA,CAAA;AACxB,IAAgB,IAAA,CAAA,GAAA,GAAM,IAAI,kBAAkB,CAAA,CAAA;AAC5C,IAAA,IAAA,CAAgB,YAAe,GAAA,cAAA,CAAA;AAC/B,IAAA,IAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAYjB,IAAA,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;AAE5B,IAAA,IAAA,CAAQ,OAA4C,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAC/D,IAAA,IAAA,CAAQ,YAAe,GAAA,IAAA,CAAA;AAMnB,IAAU,OAAA,GAAAA,gBAAA,CAAAA,gBAAA,CAAA,EAAA,EAAK,kBAAiB,cAAmB,CAAA,EAAA,OAAA,CAAA,CAAA;AAEnD,IAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAE5C,IAAA,IAAA,CAAK,wBAAwB,OAAQ,CAAA,oBAAA,CAAA;AAErC,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,OAAA,CAAA;AACvB,IAAA,IAAA,CAAK,SAAS,OAAQ,CAAA,KAAA,CAAA;AACtB,IAAA,IAAA,CAAK,UAAU,OAAQ,CAAA,MAAA,CAAA;AACvB,IAAA,IAAA,CAAK,iBAAiB,IAAI,SAAA,CAAU,EAAE,QAAA,EAAU,MAAM,CAAA,CAAA;AAAA,GAC1D;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,IAAI,KAAK,YACT,EAAA;AACI,MAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AACnB,MAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,KACxB;AAEA,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAI,KAAK,QAAa,KAAA,KAAA;AAAO,MAAA,OAAA;AAE7B,IAAA,IAAA,CAAK,QAAW,GAAA,KAAA,CAAA;AAEhB,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,QAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,KAAA,CAAA;AACd,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;AACf,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEQ,aACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,OAAA,CAAA;AAEpB,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAA,MAAM,QAAQ,IAAK,CAAA,MAAA,CAAA;AACnB,IAAA,MAAM,SAAS,IAAK,CAAA,OAAA,CAAA;AAEpB,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,CAAC,MAAA,CAAO,EAAK,GAAA,KAAA,CAAA;AACzB,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AAExB,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,CAAC,MAAA,CAAO,EAAK,GAAA,MAAA,CAAA;AACzB,IAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,GAC5B;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAA,MAAM,UAAU,IAAK,CAAA,MAAA,CAAA;AAErB,IAAO,MAAA,CAAA,QAAA;AAAA,MACH,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,KACb,CAAA;AAAA,GACJ;AAAA,EAEO,cAAc,KACrB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3B,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC5B,IAAA,MAAM,EAAK,GAAA,CAAC,KAAQ,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAChC,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAET,IAAA,IAAI,MAAM,CAAK,IAAA,EAAA,IAAM,KAAM,CAAA,CAAA,GAAI,KAAK,KACpC,EAAA;AACI,MAAK,EAAA,GAAA,CAAC,MAAS,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAE3B,MAAA,IAAI,KAAM,CAAA,CAAA,IAAK,EAAM,IAAA,KAAA,CAAM,IAAI,EAAK,GAAA,MAAA;AAAQ,QAAO,OAAA,IAAA,CAAA;AAAA,KACvD;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA,EAKO,QACP,GAAA;AACI,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,MAAM,YAAa,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA6C,KAC5D,EAAA;AACI,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAEf,IAAA,MAAM,cAAiB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEzE,IAAA,IAAI,cACJ,EAAA;AACI,MAAA,MAAM,oBAAuB,GAAA,OAAO,OAAY,KAAA,SAAA,GAAY,UAAU,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAE/E,MAAK,IAAA,CAAA,QAAA,CAAS,QAAQ,oBAAoB,CAAA,CAAA;AAAA,KAC9C;AAEA,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;AAAA,GACpB;AACJ,CAAA,CAAA;AA3KO,IAAM,gBAAN,GAAA,kBAAA;AAAM,gBAAA,CAEK,cAA0C,GAAA;AAAA,EACpD,SAAS,OAAQ,CAAA,KAAA;AAAA,EACjB,KAAO,EAAA,GAAA;AAAA,EACP,MAAQ,EAAA,GAAA;AAAA,EACR,oBAAsB,EAAA,KAAA;AAC1B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVG,MAAM,qBAAqB,SAClC,CAAA;AAAA,EACI,YAAY,OACZ,EAAA;AACI,IAAA,MAAkE,EAAW,GAAA,OAAA,IAAA,IAAA,GAAA,OAAA,GAAA,EAArE,EAAA,EAAA,OAAA,EAAS,OAAO,MAAQ,EAAA,oBAAA,EAAkC,GAAA,EAAA,EAAT,IAAS,GAAAkC,WAAA,CAAA,EAAA,EAAT,CAAjD,SAAA,EAAS,SAAO,QAAQ,EAAA,sBAAA,CAAA,CAAA,CAAA;AAEhC,IAAM,KAAA,CAAAlC,gBAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,gBAAA,CAAiB,YAAa,CAAA;AAAA,QACpC,OAAA;AAAA,QACA,KAAA;AAAA,QACA,MAAA;AAAA,QACA,oBAAA;AAAA,OACH,CAAC,CAAA;AAAA,MACF,KAAO,EAAA,cAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,QAAQ,KACZ,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,OAAU,GAAA,KAAA,CAAA;AAAA,GACxB;AAAA,EAEA,IAAI,OACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,KAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,KAAQ,GAAA,KAAA,CAAA;AAAA,GACtB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,MAAS,GAAA,KAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,cAAe,CAAA,QAAA,CAAA;AAAA,GACpC;AAAA,EAEA,IAAI,aAAa,KACjB,EAAA;AACI,IAAA,IAAA,CAAK,IAAK,CAAA,cAAA,CAAe,QAAS,CAAA,QAAA,CAAS,KAAK,CAAA,CAAA;AAAA,GACpD;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,cAAe,CAAA,KAAA,CAAA;AAAA,GACpC;AAAA,EAEA,IAAI,UAAU,KACd,EAAA;AACI,IAAA,IAAA,CAAK,IAAK,CAAA,cAAA,CAAe,KAAM,CAAA,QAAA,CAAS,KAAK,CAAA,CAAA;AAAA,GACjD;AAAA,EAEA,IAAI,aAAa,KACjB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,eAAe,QAAW,GAAA,KAAA,CAAA;AAAA,GACxC;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAO,OAAA,IAAA,CAAK,KAAK,cAAe,CAAA,QAAA,CAAA;AAAA,GACpC;AAAA,EAEA,IAAI,aACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,cAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ;;AC/GO,SAAS,eAAe,KAC/B,EAAA;AACI,EAAA,MAAM,SAAS,KAAM,CAAA,OAAA,CAAA;AACrB,EAAA,MAAM,OAAO,KAAM,CAAA,KAAA,CAAA;AAEnB,EAAA,MAAM,cAAiB,GAAA;AAAA,IACnB,UAAU,KAAM,CAAA,MAAA,CAAO,SAAS,IAAK,CAAA,KAAK,EAAE,KAAM,EAAA,CAAA,CAAA;AAAA,IAClD,cAAe,KAAM,CAAA,QAAA,CAAA,EAAA,CAAA;AAAA,IACrB,gBAAgB,KAAM,CAAA,UAAA,CAAA,CAAA;AAAA,IACtB,gBAAgB,KAAM,CAAA,UAAA,CAAA,CAAA;AAAA,IACtB,eAAe,KAAM,CAAA,SAAA,CAAA,CAAA;AAAA,IACrB,iBAAiB,KAAM,CAAA,WAAA,CAAA,CAAA;AAAA,IACvB,mBAAmB,KAAM,CAAA,aAAA,CAAA,EAAA,CAAA;AAAA,IACzB,eAAe,KAAM,CAAA,KAAA,CAAA,CAAA;AAAA,IACrB,YAAY,KAAM,CAAA,OAAA,CAAA,EAAA,CAAA;AAAA,IAClB,gBAAgB,KAAM,CAAA,UAAA,CAAA,CAAA;AAAA,IACtB,GAAG,MAAM,UAAa,GAAA,CAAC,gBAAgB,KAAM,CAAA,UAAA,CAAA,EAAA,CAAc,IAAI,EAAC;AAAA,IAChE,GAAG,MAAM,QAAW,GAAA;AAAA,MAChB,CAAA,WAAA,EAAc,KAAM,CAAA,UAAA,GAAa,WAAc,GAAA,YAAA,CAAA,CAAA;AAAA,MAC/C,cAAc,KAAM,CAAA,aAAA,CAAA,EAAA,CAAA;AAAA,QACpB,EAAC;AAAA,IACL,GAAG,MAAS,GAAA,CAAC,YAAY,MAAM,CAAC,IAAI,EAAC;AAAA,IACrC,GAAG,MAAM,UAAa,GAAA,CAAC,gBAAgB,KAAM,CAAA,UAAU,CAAC,CAAA,GAAI,EAAC;AAAA,IAC7D,GAAG,KAAM,CAAA,YAAA;AAAA,GACb,CAAE,KAAK,GAAG,CAAA,CAAA;AAEV,EAAM,MAAA,SAAA,GAAY,CAAC,CAAA,MAAA,EAAS,cAAkB,CAAA,EAAA,CAAA,CAAA,CAAA;AAE9C,EAAc,aAAA,CAAA,KAAA,CAAM,WAAW,SAAS,CAAA,CAAA;AAExC,EAAO,OAAA,SAAA,CAAU,KAAK,GAAG,CAAA,CAAA;AAC7B,CAAA;AAEA,SAAS,gBAAgB,eACzB,EAAA;AACI,EAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,MAAA,CAAO,QAAS,CAAA,eAAA,CAAgB,KAAK,CAAA,CAAE,QAAS,CAAA,eAAA,CAAgB,KAAK,CAAA,CAAE,MAAO,EAAA,CAAA;AAClG,EAAM,MAAA,CAAA,GAAI,KAAK,KAAM,CAAA,IAAA,CAAK,IAAI,eAAgB,CAAA,KAAK,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAAA,CAAA;AAC/E,EAAM,MAAA,CAAA,GAAI,KAAK,KAAM,CAAA,IAAA,CAAK,IAAI,eAAgB,CAAA,KAAK,CAAI,GAAA,eAAA,CAAgB,QAAQ,CAAA,CAAA;AAE/E,EAAM,MAAA,QAAA,GAAW,GAAG,CAAO,CAAA,GAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAE3B,EAAI,IAAA,eAAA,CAAgB,OAAO,CAC3B,EAAA;AACI,IAAO,OAAA,CAAA,aAAA,EAAgB,QAAY,CAAA,CAAA,EAAA,eAAA,CAAgB,IAAU,CAAA,GAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAAA,GACjE;AAEA,EAAA,OAAO,gBAAgB,QAAY,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACvC,CAAA;AAEA,SAAS,YAAY,MACrB,EAAA;AACI,EAAO,OAAA;AAAA,IACH,8BAA8B,MAAO,CAAA,KAAA,CAAA,EAAA,CAAA;AAAA,IACrC,8BAA8B,KAAM,CAAA,MAAA,CAAO,SAAS,MAAO,CAAA,KAAK,EAAE,KAAM,EAAA,CAAA,CAAA;AAAA,IACxE,sBAAsB,MAAO,CAAA,KAAA,CAAA,EAAA,CAAA;AAAA,IAC7B,sBAAsB,KAAM,CAAA,MAAA,CAAO,SAAS,MAAO,CAAA,KAAK,EAAE,KAAM,EAAA,CAAA,CAAA;AAAA,IAChE,qBAAA;AAAA,GACJ,CAAE,KAAK,GAAG,CAAA,CAAA;AACd,CAAA;AAGA,MAAM,SAAY,GAAA;AAAA,EACd,QAAU,EAAA,CAAA,sBAAA,CAAA;AAAA,EACV,UAAY,EAAA,CAAA,sBAAA,CAAA;AAAA,EACZ,UAAY,EAAA,CAAA,sBAAA,CAAA;AAAA,EACZ,SAAW,EAAA,CAAA,qBAAA,CAAA;AAAA,EACX,WAAa,EAAA,CAAA,uBAAA,CAAA;AAAA,EACb,aAAe,EAAA,CAAA,2BAAA,CAAA;AAAA,EACf,KAAO,EAAA,CAAA,qBAAA,CAAA;AAAA,EACP,OAAS,EAAA,CAAA,oBAAA,CAAA;AAAA,EACT,UAAY,EAAA,CAAA,sBAAA,CAAA;AAAA,EACZ,UAAY,EAAA,CAAA,wBAAA,CAAA;AAAA,EACZ,aAAe,EAAA,CAAA,sBAAA,CAAA;AACnB,CAAA,CAAA;AAGA,MAAM,SAAY,GAAA;AAAA,EACd,IAAA,EAAM,CAAC,KAAkB,KAAA,CAAA,OAAA,EAAU,MAAM,MAAO,CAAA,QAAA,CAAS,KAAK,CAAA,CAAE,KAAM,EAAA,CAAA,CAAA;AAAA,EACtE,UAAY,EAAA,CAAC,KAAkB,KAAA,CAAA,WAAA,EAAc,QAAQ,WAAc,GAAA,YAAA,CAAA,CAAA;AAAA,EACnE,MAAQ,EAAA,WAAA;AAAA,EACR,UAAY,EAAA,eAAA;AAChB,CAAA,CAAA;AAEA,SAAS,aAAA,CAAc,WAAiD,GACxE,EAAA;AACI,EAAA,KAAA,MAAW,KAAK,SAChB,EAAA;AACI,IAAM,MAAA,QAAA,GAAW,UAAU,CAAC,CAAA,CAAA;AAC5B,IAAA,MAAM,cAAc,EAAC,CAAA;AAErB,IAAA,KAAA,MAAW,KAAK,QAChB,EAAA;AACI,MAAI,IAAA,SAAA,CAAU,CAA2B,CACzC,EAAA;AAEI,QAAA,WAAA,CAAY,KAAK,SAAU,CAAA,CAA2B,EAAE,QAAS,CAAA,CAA+B,CAAQ,CAAC,CAAA,CAAA;AAAA,OAC7G,MAAA,IACS,SAAU,CAAA,CAA2B,CAC9C,EAAA;AAEI,QAAY,WAAA,CAAA,IAAA,CAAK,UAAU,CAA2B,CAAA,CAAE,QAAQ,WAAa,EAAA,QAAA,CAAS,CAA+B,CAAQ,CAAC,CAAA,CAAA;AAAA,OAClI;AAAA,KACJ;AAEA,IAAA,GAAA,CAAI,KAAK,CAAG,EAAA,CAAA,CAAA,GAAA,EAAO,WAAY,CAAA,IAAA,CAAK,GAAG,CAAK,CAAA,EAAA,CAAA,CAAA,CAAA;AAAA,GAChD;AACJ;;ACtGO,MAAM,sBAAsB,SACnC,CAAA;AAAA,EAKI,WAAA,CAAY,OAAgC,GAAA,EAC5C,EAAA;AAtBJ,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAuBQ,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AANjB,IAAA,IAAA,CAAQ,gBAA0B,EAAC,CAAA;AAQ/B,IAAK,CAAA,EAAA,GAAA,IAAA,CAAA,YAAA,KAAL,IAAK,GAAA,EAAA,GAAA,IAAA,CAAA,YAAA,GAAiB,OAAQ,CAAA,YAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,SAAY,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,SAAR,KAAA,IAAA,GAAA,EAAA,GAAqB,EAAC,CAAA;AAAA,GAC3C;AAAA,EAEA,IAAI,aAAa,KACjB,EAAA;AACI,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,YAAiB,KAAQ,GAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;AAC5D,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,aAAA,CAAA;AAAA,GAChB;AAAA,EAEmB,YACnB,GAAA;AACI,IAAA,IAAA,CAAK,YAAY,oBAAqB,CAAA,IAAI,IAAI,IAAK,CAAA,aAAA,CAAc,KAAK,GAAG,CAAA,CAAA;AAEzE,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA,EAEO,MACP,GAAA;AACI,IAAA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;AACjB,IAAA,KAAA,CAAM,MAAO,EAAA,CAAA;AAAA,GACjB;AAAA,EAEO,KACP,GAAA;AACI,IAAA,OAAO,IAAI,aAAc,CAAA;AAAA,MACrB,OAAO,IAAK,CAAA,KAAA;AAAA,MACZ,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,MAAM,IAAK,CAAA,KAAA;AAAA,MACX,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,UAAU,IAAK,CAAA,QAAA;AAAA,MACf,WAAW,IAAK,CAAA,SAAA;AAAA,MAChB,aAAa,IAAK,CAAA,WAAA;AAAA,MAClB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,eAAe,IAAK,CAAA,aAAA;AAAA,MACpB,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,SAAS,IAAK,CAAA,OAAA;AAAA,MACd,QAAQ,IAAK,CAAA,OAAA;AAAA,MACb,YAAY,IAAK,CAAA,UAAA;AAAA,MACjB,UAAU,IAAK,CAAA,QAAA;AAAA,MACf,eAAe,IAAK,CAAA,aAAA;AAAA,MACpB,cAAc,IAAK,CAAA,YAAA;AAAA,KACtB,CAAA,CAAA;AAAA,GACL;AAAA,EAEA,IAAI,QACJ,GAAA;AACI,IAAI,IAAA,CAAC,KAAK,SACV,EAAA;AACI,MAAK,IAAA,CAAA,SAAA,GAAY,eAAe,IAAI,CAAA,CAAA;AAAA,KACxC;AAEA,IAAA,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWO,eAAe,KACtB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,MAAA,CAAO,CAAC,CAAA,KAAM,CAAC,IAAK,CAAA,YAAA,CAAa,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAEhE,IAAI,IAAA,KAAA,CAAM,SAAS,CACnB,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,CAAa,IAAK,CAAA,GAAG,KAAK,CAAA,CAAA;AAC/B,MAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,KAChB;AAAA,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,kBAAkB,KACzB,EAAA;AACI,IAAM,MAAA,QAAA,GAAW,MAAM,MAAO,CAAA,CAAC,MAAM,IAAK,CAAA,YAAA,CAAa,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AAElE,IAAI,IAAA,QAAA,CAAS,SAAS,CACtB,EAAA;AACI,MAAK,IAAA,CAAA,YAAA,GAAe,IAAK,CAAA,YAAA,CAAa,MAAO,CAAA,CAAC,MAAM,CAAC,QAAA,CAAS,QAAS,CAAA,CAAC,CAAC,CAAA,CAAA;AACzE,MAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,KAChB;AAAA,GACJ;AAAA,EAEA,IAAa,KAAK,KAClB,EAAA;AAEI,IAAA,IAAI,OAAO,KAAA,KAAU,QAAY,IAAA,OAAO,UAAU,QAClD,EAAA;AAEI,MAAA,IAAA,CAAK,8DAA8D,CAAA,CAAA;AAAA,KAEvE;AAEA,IAAA,KAAA,CAAM,IAAO,GAAA,KAAA,CAAA;AAAA,GACjB;AAAA,EAEA,IAAa,OAAO,KACpB,EAAA;AAEI,IAAA,IAAI,SAAS,OAAO,KAAA,KAAU,QAAY,IAAA,OAAO,UAAU,QAC3D,EAAA;AAEI,MAAA,IAAA,CAAK,gEAAgE,CAAA,CAAA;AAAA,KAEzE;AAEA,IAAA,KAAA,CAAM,MAAS,GAAA,KAAA,CAAA;AAAA,GACnB;AACJ;;ACvIgB,SAAA,eAAA,CACZ,YACA,KAEJ,EAAA;AACI,EAAI,IAAA,KAAA,YAAiB,SAAa,IAAA,KAAA,YAAiB,aACnD,EAAA;AACI,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAEA,EAAO,OAAA,UAAA,KAAe,SAChB,IAAI,aAAA,CAAc,KAAK,CACvB,GAAA,IAAI,UAAU,KAAK,CAAA,CAAA;AAC7B;;ACYA,MAAM,GAAM,GAAA;AAAA,EACR,MAAQ,EAAA,MAAA;AAAA,EACR,IAAM,EAAA,UAAA;AAAA,EACN,MAAQ,EAAA,YAAA;AACZ,CAAA,CAAA;AAEO,MAAM,QACb,CAAA;AAAA,EAmBI,YAAY,OACZ,EAAA;AAnBA,IAAgB,IAAA,CAAA,GAAA,GAAc,IAAI,UAAU,CAAA,CAAA;AAC5C,IAAA,IAAA,CAAgB,YAAuB,GAAA,MAAA,CAAA;AACvC,IAAA,IAAA,CAAgB,KAAsB,GAAA,iBAAA,CAAA;AACtC,IAAA,IAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAEjB,IAAA,IAAA,CAAO,UAAqB,GAAA,IAAA,CAAA;AAK5B;AAAA,IAAA,IAAA,CAAO,UAAa,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAO,WAAsB,GAAA,CAAA,CAAA;AAE7B,IAAA,IAAA,CAAQ,OAA4C,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AAC/D,IAAA,IAAA,CAAQ,YAAe,GAAA,IAAA,CAAA;AA5D3B,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAkEQ,IAAK,IAAA,CAAA,IAAA,GAAA,CAAO,EAAQ,GAAA,OAAA,CAAA,IAAA,KAAR,IAAgB,GAAA,EAAA,GAAA,EAAA,CAAA;AAE5B,IAAA,MAAM,cAAa,EAAQ,GAAA,OAAA,CAAA,UAAA,KAAR,YAAsB,IAAK,CAAA,iBAAA,CAAkB,QAAQ,KAAK,CAAA,CAAA;AAE7E,IAAA,IAAA,CAAK,WAAc,GAAA,UAAA,CAAA;AAEnB,IAAA,IAAA,CAAK,MAAS,GAAA,eAAA,CAAgB,UAAY,EAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;AAEvD,IAAK,IAAA,CAAA,YAAA,GAAe,IAAI,UAAU,CAAA,CAAA;AAElC,IAAA,IAAA,CAAK,MAAS,GAAA,IAAI,eAAgB,CAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAE5C,IAAK,IAAA,CAAA,UAAA,GAAA,CAAa,EAAQ,GAAA,OAAA,CAAA,UAAA,KAAR,IAAsB,GAAA,EAAA,GAAA,IAAA,CAAA;AAAA,GAC5C;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AAEI,IAAA,KAAA,GAAQ,MAAM,QAAS,EAAA,CAAA;AAEvB,IAAA,IAAI,KAAK,KAAU,KAAA,KAAA;AAAO,MAAA,OAAA;AAE1B,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,IAAK,CAAA,MAAA,CAAA;AAAA,GAChB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AAvGJ,IAAA,IAAA,EAAA,CAAA;AAwGQ,IAAA,KAAA,GAAQ,SAAS,EAAC,CAAA;AAElB,IAAA,CAAA,EAAA,GAAA,IAAA,CAAK,MAAL,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAa,GAAI,CAAA,QAAA,EAAU,KAAK,QAAU,EAAA,IAAA,CAAA,CAAA;AAE1C,IAAA,IAAA,CAAK,MAAS,GAAA,eAAA,CAAgB,IAAK,CAAA,WAAA,EAAa,KAAK,CAAA,CAAA;AAErD,IAAA,IAAA,CAAK,MAAO,CAAA,EAAA,CAAG,QAAU,EAAA,IAAA,CAAK,UAAU,IAAI,CAAA,CAAA;AAC5C,IAAA,IAAA,CAAK,QAAS,EAAA,CAAA;AAAA,GAClB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,IAAI,KAAK,YACT,EAAA;AACI,MAAA,IAAA,CAAK,aAAc,EAAA,CAAA;AACnB,MAAA,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;AAAA,KACxB;AAEA,IAAA,OAAO,IAAK,CAAA,OAAA,CAAA;AAAA,GAChB;AAAA,EAEO,UAAU,MACjB,EAAA;AACI,IAAA,MAAM,UAAU,IAAK,CAAA,MAAA,CAAA;AAErB,IAAO,MAAA,CAAA,QAAA;AAAA,MACH,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,MACT,QAAQ,CAAC,CAAA;AAAA,KACb,CAAA;AAAA,GACJ;AAAA,EAEO,cAAc,KACrB,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC3B,IAAM,MAAA,MAAA,GAAS,IAAK,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAC5B,IAAA,MAAM,EAAK,GAAA,CAAC,KAAQ,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAChC,IAAA,IAAI,EAAK,GAAA,CAAA,CAAA;AAET,IAAA,IAAI,MAAM,CAAK,IAAA,EAAA,IAAM,KAAM,CAAA,CAAA,GAAI,KAAK,KACpC,EAAA;AACI,MAAK,EAAA,GAAA,CAAC,MAAS,GAAA,IAAA,CAAK,MAAO,CAAA,CAAA,CAAA;AAE3B,MAAA,IAAI,KAAM,CAAA,CAAA,IAAK,EAAM,IAAA,KAAA,CAAM,IAAI,EAAK,GAAA,MAAA;AAAQ,QAAO,OAAA,IAAA,CAAA;AAAA,KACvD;AAEA,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA;AAAA,EAGO,QACP,GAAA;AACI,IAAA,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;AACpB,IAAA,IAAA,CAAK,MAAM,YAAa,EAAA,CAAA;AAAA,GAC5B;AAAA;AAAA,EAGO,OACP,GAAA;AAEI,IAAA,OAAO,CAAG,EAAA,IAAA,CAAK,IAAQ,CAAA,CAAA,EAAA,IAAA,CAAK,MAAO,CAAA,QAAA,CAAA,CAAA,CAAA;AAAA,GACvC;AAAA,EAEQ,aACR,GAAA;AACI,IAAA,MAAM,SAAS,IAAK,CAAA,OAAA,CAAA;AACpB,IAAM,MAAA,OAAA,GAAU,KAAK,MAAO,CAAA,OAAA,CAAA;AAC5B,IAAA,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;AAEpB,IAAI,IAAA,IAAA,CAAK,iBAAiB,YAC1B,EAAA;AACI,MAAA,MAAM,oBAAoB,iBAAkB,CAAA,WAAA,CAAY,IAAK,CAAA,IAAA,EAAM,KAAK,MAAM,CAAA,CAAA;AAC9E,MAAA,MAAM,QAAQ,iBAAkB,CAAA,KAAA,CAAA;AAChC,MAAM,MAAA,MAAA,GAAS,kBAAkB,OAAU,GAAA,KAAA,CAAA;AAE3C,MAAM,MAAA,KAAA,GAAQ,kBAAkB,KAAQ,GAAA,KAAA,CAAA;AACxC,MAAM,MAAA,MAAA,GAAS,kBAAkB,MAAS,GAAA,KAAA,CAAA;AAE1C,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,KAAS,GAAA,OAAA,CAAA;AACnC,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AACxB,MAAA,MAAA,CAAO,CAAC,CAAK,GAAA,CAAC,MAAO,CAAA,EAAA,IAAM,SAAS,MAAW,CAAA,GAAA,OAAA,CAAA;AAC/C,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,KAC5B,MAAA,IACS,IAAK,CAAA,YAAA,KAAiB,UAC/B,EAAA;AACI,MAAA,MAAM,eAAkB,GAAA,eAAA,CAAgB,IAAK,CAAA,IAAA,EAAM,KAAK,MAAuB,CAAA,CAAA;AAE/E,MAAM,MAAA,EAAE,KAAO,EAAA,MAAA,EAAW,GAAA,eAAA,CAAA;AAE1B,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,KAAS,GAAA,OAAA,CAAA;AACnC,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AACxB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,MAAU,GAAA,OAAA,CAAA;AACpC,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,KAG5B,MAAA;AACI,MAAA,MAAM,oBAAoB,iBAAkB,CAAA,WAAA,CAAY,IAAK,CAAA,IAAA,EAAM,KAAK,MAAM,CAAA,CAAA;AAE9E,MAAM,MAAA,EAAE,KAAO,EAAA,MAAA,EAAW,GAAA,iBAAA,CAAA;AAE1B,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,KAAS,GAAA,OAAA,CAAA;AACnC,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,KAAA,CAAA;AACxB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,CAAC,MAAA,CAAO,KAAK,MAAU,GAAA,OAAA,CAAA;AACpC,MAAA,MAAA,CAAO,CAAC,CAAA,GAAI,MAAO,CAAA,CAAC,CAAI,GAAA,MAAA,CAAA;AAAA,KAC5B;AAAA,GACJ;AAAA,EAEQ,kBAAkB,KAC1B,EAAA;AACI,IAAA,IAAI,iBAAiB,aACrB,EAAA;AACI,MAAO,OAAA,MAAA,CAAA;AAAA,KACX;AAEA,IAAA,MAAM,QAAW,GAAA,KAAA,CAAM,GAAI,CAAA,KAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,KAAA,CAAO,UAAoB,CAAA,CAAA;AAEtD,IAAI,IAAA,QAAA,YAAoB,iBAAqB,IAAA,QAAA,YAAoB,UACjE,EAAA;AACI,MAAO,OAAA,QAAA,CAAA;AAAA,KACX;AAEA,IAAO,OAAA,QAAA,CAAA;AAAA,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASO,OAAA,CAAQ,UAA6C,KAC5D,EAAA;AACI,IAAC,KAAa,KAAQ,GAAA,IAAA,CAAA;AACtB,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AACf,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AAEd,IAAK,IAAA,CAAA,MAAA,CAAO,QAAQ,OAAO,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;AACd,IAAA,IAAA,CAAK,KAAQ,GAAA,IAAA,CAAA;AAAA,GACjB;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtOO,MAAM,aAAa,SAC1B,CAAA;AAAA,EAII,eAAe,IACf,EAAA;AACI,IAAI,IAAA,OAAA,GAAU,KAAK,CAAC,CAAA,CAAA;AAGpB,IAAA,IAAI,OAAO,OAAA,KAAY,QAAY,IAAA,IAAA,CAAK,CAAC,CACzC,EAAA;AACI,MAAA,WAAA,CAAY,QAAQ,8CAA8C,CAAA,CAAA;AAClE,MAAU,OAAA,GAAA;AAAA,QACN,IAAM,EAAA,OAAA;AAAA,QACN,KAAA,EAAO,KAAK,CAAC,CAAA;AAAA,OACjB,CAAA;AAAA,KACJ;AAEA,IAAA,MAAyD,EAAjD,GAAA,OAAA,EAAA,EAAA,KAAA,EAAO,IAAM,EAAA,UAAA,EAAY,UApCzC,EAAA,GAoCiE,EAAT,EAAA,IAAA,GAAA,SAAA,CAAS,EAAT,EAAA,CAAxC,OAAO,EAAA,MAAA,EAAM,YAAY,EAAA,YAAA,CAAA,CAAA,CAAA;AAEjC,IAAM,KAAA,CAAAA,gBAAA,CAAA;AAAA,MACF,IAAA,EAAM,IAAI,QAAA,CAAS,YAAa,CAAA,EAAE,OAAO,IAAM,EAAA,UAAA,EAAY,UAAW,EAAC,CAAC,CAAA;AAAA,MACxE,KAAO,EAAA,MAAA;AAAA,KAAA,EACJ,IACN,CAAA,CAAA,CAAA;AAED,IAAA,IAAA,CAAK,aAAgB,GAAA,KAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,MACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,MAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,OAAO,KACX,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAC3B,IAAK,IAAA,CAAA,IAAA,CAAK,MAAO,CAAA,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;AAAA,GAC/B;AAAA,EAEA,IAAI,KAAK,KACT,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,IAAO,GAAA,KAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,IACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,IAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,KAAK,KAAQ,GAAA,KAAA,CAAA;AAAA,GACtB;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,IAAK,CAAA,KAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,WACJ,GAAA;AACI,IAAO,OAAA,CAAC,CAAC,IAAA,CAAK,IAAK,CAAA,WAAA,CAAA;AAAA,GACvB;AAAA,EAEA,IAAI,YAAY,KAChB,EAAA;AACI,IAAK,IAAA,CAAA,IAAA,CAAK,WAAc,GAAA,KAAA,GAAQ,CAAI,GAAA,CAAA,CAAA;AAAA,GACxC;AACJ,CAAA;AAGO,MAAM,mBAAmB,IAChC,CAAA;AAAA,EAII,eAAe,IACf,EAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,oEAAoE,CAAA,CAAA;AAExF,IAAI,IAAA,OAAA,GAAuB,KAAK,CAAC,CAAA,CAAA;AAGjC,IAAA,IAAI,OAAO,OAAA,KAAY,QAAY,IAAA,IAAA,CAAK,CAAC,CACzC,EAAA;AACI,MAAU,OAAA,GAAA;AAAA,QACN,IAAM,EAAA,OAAA;AAAA,QACN,KAAA,EAAO,KAAK,CAAC,CAAA;AAAA,OACjB,CAAA;AAAA,KACJ;AAEA,IAAA,OAAA,CAAQ,UAAa,GAAA,QAAA,CAAA;AAErB,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,GACjB;AACJ,CAAA;AAGO,MAAM,iBAAiB,IAC9B,CAAA;AAAA,EAII,eAAe,IACf,EAAA;AAEI,IAAA,WAAA,CAAY,QAAQ,kEAAkE,CAAA,CAAA;AAEtF,IAAI,IAAA,OAAA,GAAuB,KAAK,CAAC,CAAA,CAAA;AAGjC,IAAA,IAAI,OAAO,OAAA,KAAY,QAAY,IAAA,IAAA,CAAK,CAAC,CACzC,EAAA;AACI,MAAU,OAAA,GAAA;AAAA,QACN,IAAM,EAAA,OAAA;AAAA,QACN,KAAA,EAAO,KAAK,CAAC,CAAA;AAAA,OACjB,CAAA;AAAA,KACJ;AAEA,IAAA,OAAA,CAAQ,UAAa,GAAA,MAAA,CAAA;AAErB,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AAAA,GACjB;AACJ;;ACnIO,MAAM,QAAW,GAAA;;ACTxB,eAAsB,eAAgB,CAAA,OAAA,EAAkB,QAAoB,EAAA,IAAA,GAAO,GACnF,EAAA;AACI,EAAA,MAAM,MAAS,GAAA,MAAM,QAAS,CAAA,OAAA,CAAQ,OAAO,OAAO,CAAA,CAAA;AAEpD,EAAA,MAAM,SAAS,OAAQ,CAAA,eAAA,CAAA;AAEvB,EAAA,MAAM,KAAQ,GAAA,IAAA,CAAA;AAGd,EAAA,OAAA,CAAQ,IAAI,CAAmB,gBAAA,EAAA,OAAA,CAAQ,OAAO,KAAW,CAAA,GAAA,EAAA,OAAA,CAAQ,OAAO,MAAU,CAAA,EAAA,CAAA,CAAA,CAAA;AAElF,EAAA,MAAM,KAAQ,GAAA;AAAA,IACV,iBAAA;AAAA,IACA,YAAY,KAAW,CAAA,GAAA,EAAA,GAAA,CAAA,GAAA,CAAA;AAAA,IACvB,CAAmB,gBAAA,EAAA,MAAA,CAAA,YAAA,CAAA;AAAA,IACnB,2BAAA;AAAA,GACJ,CAAE,KAAK,GAAG,CAAA,CAAA;AAGV,EAAQ,OAAA,CAAA,GAAA,CAAI,OAAO,KAAK,CAAA,CAAA;AAC5B;;;;;;;;;;;;;;;;;;;;;AChBA,MAAM,MAAS,GAAA;AAAA,EACX,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AAAA,EACA,SAAA;AAAA;AACJ,CAAA,CAAA;AAEA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEA,SAAA,QAAA,CAAS,WAAsB,KAAQ,GAAA,CAAA,EAAG,OAAyB,EAAE,KAAA,EAAO,WAC5F,EAAA;AACI,EAAA,IAAI,UAAU,WACd,EAAA;AACI,IAAK,IAAA,CAAA,KAAA,GAAQ,OAAO,SAAW,EAAA,CAAA,CAAA;AAAA,GACnC;AAGA,EAAA,IAAI,MAAS,GAAA,EAAA,CAAA;AAEb,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,IAAU,MAAA,IAAA,MAAA,CAAA;AAAA,GACd;AAEA,EAAA,IAAI,QAAQ,SAAU,CAAA,KAAA,CAAA;AAEtB,EAAI,IAAA,CAAC,KAAS,IAAA,SAAA,YAAqB,MACnC,EAAA;AACI,IAAQ,KAAA,GAAA,CAAA,OAAA,EAAU,SAAU,CAAA,IAAA,CAAK,OAAQ,CAAA,KAAA,CAAA,CAAA,CAAA;AAAA,GAC7C;AAGA,EAAI,IAAA,MAAA,GAAS,CAAM,GAAA,EAAA,MAAA,CAAA,GAAA,EAAY,KAAiB,CAAA,SAAA,EAAA,SAAA,CAAU,eAAe,EAAc,CAAA,SAAA,EAAA,SAAA,CAAU,cAAe,CAAA,EAAA,CAAA,SAAA,EAAc,SAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAExI,EAAA,IAAI,UAAU,WACd,EAAA;AACI,IAAU,MAAA,IAAA,eAAA,CAAA;AAAA,GACd;AAEA,EAAA,IAAI,UAAU,OACd,EAAA;AACI,IAAU,MAAA,IAAA,YAAA,CAAA;AAAA,GACd;AAEA,EAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAS,MAAA,EAAA,IAAA,CAAK,KAA0B,CAAA,mBAAA,CAAA,CAAA,CAAA;AAE5D,EAAA,KAAA,EAAA,CAAA;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,QAAA,CAAS,QAAQ,CAC/C,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,SAAU,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;AAElC,IAAS,QAAA,CAAA,KAAA,EAAO,KAAO,EAAA,cAAA,CAAA,EAAA,EAAK,IAAM,CAAA,CAAA,CAAA;AAAA,GACtC;AACJ,CAAA;AAEgB,SAAA,kBAAA,CACZ,UAAwB,EAAA,KAAA,GAAQ,CAChC,EAAA,IAAA,GAAwC,EAAE,KAAO,EAAA,CAAA,EAAG,KAAO,EAAA,SAAA,EAE/D,EAAA;AAEI,EAAA,IAAI,MAAS,GAAA,EAAA,CAAA;AAEb,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,EAAA;AACI,IAAU,MAAA,IAAA,MAAA,CAAA;AAAA,GACd;AAEA,EAAM,MAAA,MAAA,GAAS,MAAM,MAAW,CAAA,EAAA,EAAA,IAAA,CAAK,UAAU,UAAW,CAAA,IAAA,CAAK,KAAgB,CAAA,QAAA,EAAA,UAAA,CAAW,cAAe,CAAA,EAAA,CAAA,CAAA,CAAA;AAEzG,EAAA,OAAA,CAAQ,GAAI,CAAA,MAAA,EAAQ,CAAS,MAAA,EAAA,IAAA,CAAK,KAA0B,CAAA,mBAAA,CAAA,CAAA,CAAA;AAE5D,EAAA,KAAA,EAAA,CAAA;AAEA,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,UAAW,CAAA,kBAAA,CAAmB,QAAQ,CAC1D,EAAA,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,UAAW,CAAA,kBAAA,CAAmB,CAAC,CAAA,CAAA;AAE7C,IAAA,kBAAA,CAAmB,OAAO,KAAO,EAAA,aAAA,CAAA,cAAA,CAAA,EAAA,EAAK,OAAL,EAAW,KAAA,EAAO,GAAG,CAAA,CAAA,CAAA;AAAA,GAC1D;AACJ;;;;;;"}